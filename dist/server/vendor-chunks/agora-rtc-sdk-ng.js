/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/agora-rtc-sdk-ng";
exports.ids = ["vendor-chunks/agora-rtc-sdk-ng"];
exports.modules = {

/***/ "(ssr)/./node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.js":
/*!****************************************************************!*\
  !*** ./node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.js ***!
  \****************************************************************/
/***/ (function(module) {

eval("/**\n * AgoraWebSDK_N-v4.19.1-0-g605286cc Copyright AgoraInc.\n */\n\n!function(e,t){ true?module.exports=t():0}(this,(function(){\"use strict\";function e(e,t){return t.forEach((function(t){t&&\"string\"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(i){if(\"default\"!==i&&!(i in e)){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}}))})),Object.freeze(e)}let t=!0,i=!0;function n(e,t,i){const n=e.match(t);return n&&n.length>=i&&parseInt(n[i],10)}function r(e,t,i){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,r=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return r.apply(this,arguments);const s=e=>{const t=i(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,s),r.apply(this,[e,s])};const s=n.removeEventListener;n.removeEventListener=function(e,i){if(e!==t||!this._eventMap||!this._eventMap[t])return s.apply(this,arguments);if(!this._eventMap[t].has(i))return s.apply(this,arguments);const n=this._eventMap[t].get(i);return this._eventMap[t].delete(i),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,s.apply(this,[e,n])},Object.defineProperty(n,\"on\"+t,{get(){return this[\"_on\"+t]},set(e){this[\"_on\"+t]&&(this.removeEventListener(t,this[\"_on\"+t]),delete this[\"_on\"+t]),e&&this.addEventListener(t,this[\"_on\"+t]=e)},enumerable:!0,configurable:!0})}function s(e){return\"boolean\"!=typeof e?new Error(\"Argument type: \"+typeof e+\". Please use a boolean.\"):(t=e,e?\"adapter.js logging disabled\":\"adapter.js logging enabled\")}function o(e){return\"boolean\"!=typeof e?new Error(\"Argument type: \"+typeof e+\". Please use a boolean.\"):(i=!e,\"adapter.js deprecation warnings \"+(e?\"disabled\":\"enabled\"))}function a(){if(\"object\"==typeof window){if(t)return;\"undefined\"!=typeof console&&\"function\"==typeof console.log&&console.log.apply(console,arguments)}}function c(e,t){i&&console.warn(e+\" is deprecated, please use \"+t+\" instead.\")}function d(e){return\"[object Object]\"===Object.prototype.toString.call(e)}function l(e){return d(e)?Object.keys(e).reduce((function(t,i){const n=d(e[i]),r=n?l(e[i]):e[i],s=n&&!Object.keys(r).length;return void 0===r||s?t:Object.assign(t,{[i]:r})}),{}):e}function h(e,t,i){t&&!i.has(t.id)&&(i.set(t.id,t),Object.keys(t).forEach((n=>{n.endsWith(\"Id\")?h(e,e.get(t[n]),i):n.endsWith(\"Ids\")&&t[n].forEach((t=>{h(e,e.get(t),i)}))})))}function u(e,t,i){const n=i?\"outbound-rtp\":\"inbound-rtp\",r=new Map;if(null===t)return r;const s=[];return e.forEach((e=>{\"track\"===e.type&&e.trackIdentifier===t.id&&s.push(e)})),s.forEach((t=>{e.forEach((i=>{i.type===n&&i.trackId===t.id&&h(e,i,r)}))})),r}const p=a;function _(e,t){const i=e&&e.navigator;if(!i.mediaDevices)return;const n=function(e){if(\"object\"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((i=>{if(\"require\"===i||\"advanced\"===i||\"mediaSource\"===i)return;const n=\"object\"==typeof e[i]?e[i]:{ideal:e[i]};void 0!==n.exact&&\"number\"==typeof n.exact&&(n.min=n.max=n.exact);const r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):\"deviceId\"===t?\"sourceId\":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};\"number\"==typeof n.ideal?(e[r(\"min\",i)]=n.ideal,t.optional.push(e),e={},e[r(\"max\",i)]=n.ideal,t.optional.push(e)):(e[r(\"\",i)]=n.ideal,t.optional.push(e))}void 0!==n.exact&&\"number\"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[r(\"\",i)]=n.exact):[\"min\",\"max\"].forEach((e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,i)]=n[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(e,r){if(t.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&\"object\"==typeof e.audio){const t=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,\"autoGainControl\",\"googAutoGainControl\"),t(e.audio,\"noiseSuppression\",\"googNoiseSuppression\"),e.audio=n(e.audio)}if(e&&\"object\"==typeof e.video){let s=e.video.facingMode;s=s&&(\"object\"==typeof s?s:{ideal:s});const o=t.version<66;if(s&&(\"user\"===s.exact||\"environment\"===s.exact||\"user\"===s.ideal||\"environment\"===s.ideal)&&(!i.mediaDevices.getSupportedConstraints||!i.mediaDevices.getSupportedConstraints().facingMode||o)){let t;if(delete e.video.facingMode,\"environment\"===s.exact||\"environment\"===s.ideal?t=[\"back\",\"rear\"]:\"user\"!==s.exact&&\"user\"!==s.ideal||(t=[\"front\"]),t)return i.mediaDevices.enumerateDevices().then((i=>{let o=(i=i.filter((e=>\"videoinput\"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!o&&i.length&&t.includes(\"back\")&&(o=i[i.length-1]),o&&(e.video.deviceId=s.exact?{exact:o.deviceId}:{ideal:o.deviceId}),e.video=n(e.video),p(\"chrome: \"+JSON.stringify(e)),r(e)}))}e.video=n(e.video)}return p(\"chrome: \"+JSON.stringify(e)),r(e)},s=function(e){return t.version>=64?e:{name:{PermissionDeniedError:\"NotAllowedError\",PermissionDismissedError:\"NotAllowedError\",InvalidStateError:\"NotAllowedError\",DevicesNotFoundError:\"NotFoundError\",ConstraintNotSatisfiedError:\"OverconstrainedError\",TrackStartError:\"NotReadableError\",MediaDeviceFailedDueToShutdown:\"NotAllowedError\",MediaDeviceKillSwitchOn:\"NotAllowedError\",TabCaptureError:\"AbortError\",ScreenCaptureError:\"AbortError\",DeviceCaptureError:\"AbortError\"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&\": \")+this.message}}};if(i.getUserMedia=function(e,t,n){r(e,(e=>{i.webkitGetUserMedia(e,t,(e=>{n&&n(s(e))}))}))}.bind(i),i.mediaDevices.getUserMedia){const e=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(t){return r(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException(\"\",\"NotFoundError\");return e}),(e=>Promise.reject(s(e))))))}}}function E(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function m(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&!(\"ontrack\"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,\"ontrack\",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener(\"track\",this._ontrack),this.addEventListener(\"track\",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener(\"addtrack\",(i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===i.track.id)):{track:i.track};const r=new Event(\"track\");r.track=i.track,r.receiver=n,r.transceiver={receiver:n},r.streams=[t.stream],this.dispatchEvent(r)})),t.stream.getTracks().forEach((i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===i.id)):{track:i};const r=new Event(\"track\");r.track=i,r.receiver=n,r.transceiver={receiver:n},r.streams=[t.stream],this.dispatchEvent(r)}))},this.addEventListener(\"addstream\",this._ontrackpoly)),t.apply(this,arguments)}}else r(e,\"track\",(e=>(e.transceiver||Object.defineProperty(e,\"transceiver\",{value:{receiver:e.receiver}}),e)))}function f(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&!(\"getSenders\"in e.RTCPeerConnection.prototype)&&\"createDTMFSender\"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&(\"audio\"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let r=i.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};const n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if(\"object\"==typeof e&&e.RTCPeerConnection&&\"getSenders\"in e.RTCPeerConnection.prototype&&\"createDTMFSender\"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!(\"dtmf\"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,\"dtmf\",{get(){return void 0===this._dtmf&&(\"audio\"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function g(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,n]=arguments;if(arguments.length>0&&\"function\"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||\"function\"!=typeof e))return t.apply(this,[]);const r=function(e){const t={};return e.result().forEach((e=>{const i={id:e.id,timestamp:e.timestamp,type:{localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"}[e.type]||e.type};e.names().forEach((t=>{i[t]=e.stat(t)})),t[i.id]=i})),t},s=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const n=function(e){i(s(r(e)))};return t.apply(this,[n,e])}return new Promise(((e,i)=>{t.apply(this,[function(t){e(s(r(t)))},i])})).then(i,n)}}function S(e){if(!(\"object\"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!(\"getStats\"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>u(t,e.track,!0)))}}if(!(\"getStats\"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),r(e,\"track\",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>u(t,e.track,!1)))}}if(!(\"getStats\"in e.RTCRtpSender.prototype)||!(\"getStats\"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,i,n;return this.getSenders().forEach((i=>{i.track===e&&(t?n=!0:t=i)})),this.getReceivers().forEach((t=>(t.track===e&&(i?n=!0:i=t),t.track===e))),n||t&&i?Promise.reject(new DOMException(\"There are more than one sender or receiver for the track.\",\"InvalidAccessError\")):t?t.getStats():i?i.getStats():Promise.reject(new DOMException(\"There is no sender or receiver for the track.\",\"InvalidAccessError\"))}return t.apply(this,arguments)}}function T(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){if(!i)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const n=t.apply(this,arguments);return this._shimmedLocalStreams[i.id]?-1===this._shimmedLocalStreams[i.id].indexOf(n)&&this._shimmedLocalStreams[i.id].push(n):this._shimmedLocalStreams[i.id]=[i,n],n};const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")}));const t=this.getSenders();i.apply(this,arguments);const n=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(n)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const i=this._shimmedLocalStreams[t].indexOf(e);-1!==i&&this._shimmedLocalStreams[t].splice(i,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),r.apply(this,arguments)}}function R(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return T(e);const i=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=i.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")})),!this._reverseStreams[t.id]){const i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}n.apply(this,[t])};const r=e.RTCPeerConnection.prototype.removeStream;function s(e,t){let i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(new RegExp(r.id,\"g\"),n.id)})),new RTCSessionDescription({type:t.type,sdp:i})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,i){if(\"closed\"===this.signalingState)throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");const n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find((e=>e===t)))throw new DOMException(\"The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.\",\"NotSupportedError\");if(this.getSenders().find((e=>e.track===t)))throw new DOMException(\"Track already exists.\",\"InvalidAccessError\");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const r=this._streams[i.id];if(r)r.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event(\"negotiationneeded\"))}));else{const n=new e.MediaStream([t]);this._streams[i.id]=n,this._reverseStreams[n.id]=i,this.addStream(n)}return this.getSenders().find((e=>e.track===t))},[\"createOffer\",\"createAnswer\"].forEach((function(t){const i=e.RTCPeerConnection.prototype[t],n={[t](){const e=arguments;return arguments.length&&\"function\"==typeof arguments[0]?i.apply(this,[t=>{const i=s(this,t);e[0].apply(null,[i])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):i.apply(this,arguments).then((e=>s(this,e)))}};e.RTCPeerConnection.prototype[t]=n[t]}));const o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(new RegExp(n.id,\"g\"),r.id)})),new RTCSessionDescription({type:t.type,sdp:i})}(this,arguments[0]),o.apply(this,arguments)):o.apply(this,arguments)};const a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,\"localDescription\");Object.defineProperty(e.RTCPeerConnection.prototype,\"localDescription\",{get(){const e=a.get.apply(this);return\"\"===e.type?e:s(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if(\"closed\"===this.signalingState)throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");if(!e._pc)throw new DOMException(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\",\"TypeError\");if(!(e._pc===this))throw new DOMException(\"Sender was not created by this connection.\",\"InvalidAccessError\");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((i=>{this._streams[i].getTracks().find((t=>e.track===t))&&(t=this._streams[i])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event(\"negotiationneeded\")))}}function C(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach((function(t){const i=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new(\"addIceCandidate\"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}))}function v(e,t){r(e,\"negotiationneeded\",(e=>{const i=e.target;if(!(t.version<72||i.getConfiguration&&\"plan-b\"===i.getConfiguration().sdpSemantics)||\"stable\"===i.signalingState)return e}))}var I=Object.freeze({__proto__:null,fixNegotiationNeeded:v,shimAddTrackRemoveTrack:R,shimAddTrackRemoveTrackWithNative:T,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&\"getDisplayMedia\"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(\"function\"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(i){return t(i).then((t=>{const n=i.video&&i.video.width,r=i.video&&i.video.height,s=i.video&&i.video.frameRate;return i.video={mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:t,maxFrameRate:s||3}},n&&(i.video.mandatory.maxWidth=n),r&&(i.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(i)}))}:console.error(\"shimGetDisplayMedia: getSourceId argument is not a function\"))},shimGetSendersWithDtmf:f,shimGetStats:g,shimGetUserMedia:_,shimMediaStream:E,shimOnTrack:m,shimPeerConnection:C,shimSenderReceiverGetStats:S});function y(e,t){const i=e&&e.navigator,n=e&&e.MediaStreamTrack;if(i.getUserMedia=function(e,t,n){c(\"navigator.getUserMedia\",\"navigator.mediaDevices.getUserMedia\"),i.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&\"autoGainControl\"in i.mediaDevices.getSupportedConstraints())){const e=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])},t=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(i){return\"object\"==typeof i&&\"object\"==typeof i.audio&&(i=JSON.parse(JSON.stringify(i)),e(i.audio,\"autoGainControl\",\"mozAutoGainControl\"),e(i.audio,\"noiseSuppression\",\"mozNoiseSuppression\")),t(i)},n&&n.prototype.getSettings){const t=n.prototype.getSettings;n.prototype.getSettings=function(){const i=t.apply(this,arguments);return e(i,\"mozAutoGainControl\",\"autoGainControl\"),e(i,\"mozNoiseSuppression\",\"noiseSuppression\"),i}}if(n&&n.prototype.applyConstraints){const t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(i){return\"audio\"===this.kind&&\"object\"==typeof i&&(i=JSON.parse(JSON.stringify(i)),e(i,\"autoGainControl\",\"mozAutoGainControl\"),e(i,\"noiseSuppression\",\"mozNoiseSuppression\")),t.apply(this,[i])}}}}function A(e){\"object\"==typeof e&&e.RTCTrackEvent&&\"receiver\"in e.RTCTrackEvent.prototype&&!(\"transceiver\"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,\"transceiver\",{get(){return{receiver:this.receiver}}})}function b(e,t){if(\"object\"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach((function(t){const i=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new(\"addIceCandidate\"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}));const i={inboundrtp:\"inbound-rtp\",outboundrtp:\"outbound-rtp\",candidatepair:\"candidate-pair\",localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,s]=arguments;return n.apply(this,[e||null]).then((e=>{if(t.version<53&&!r)try{e.forEach((e=>{e.type=i[e.type]||e.type}))}catch(t){if(\"TypeError\"!==t.name)throw t;e.forEach(((t,n)=>{e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))}))}return e})).then(r,s)}}function w(e){if(\"object\"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&\"getStats\"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function O(e){if(\"object\"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&\"getStats\"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),r(e,\"track\",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function N(e){e.RTCPeerConnection&&!(\"removeStream\"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){c(\"removeStream\",\"removeTrack\"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function D(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function P(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const i=e.length>0;i&&e.forEach((e=>{if(\"rid\"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError(\"Invalid RID value provided.\")}if(\"scaleResolutionDownBy\"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError(\"scale_resolution_down_by must be >= 1.0\");if(\"maxFramerate\"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError(\"max_framerate must be >= 0.0\")}));const n=t.apply(this,arguments);if(i){const{sender:t}=n,i=t.getParameters();(!(\"encodings\"in i)||1===i.encodings.length&&0===Object.keys(i.encodings[0]).length)&&(i.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(i).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return n})}function L(e){if(\"object\"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return\"encodings\"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function k(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function M(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}var U=Object.freeze({__proto__:null,shimAddTransceiver:P,shimCreateAnswer:M,shimCreateOffer:k,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&\"getDisplayMedia\"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(i){if(!i||!i.video){const e=new DOMException(\"getDisplayMedia without video constraints is undefined\");return e.name=\"NotFoundError\",e.code=8,Promise.reject(e)}return!0===i.video?i.video={mediaSource:t}:i.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(i)})},shimGetParameters:L,shimGetUserMedia:y,shimOnTrack:A,shimPeerConnection:b,shimRTCDataChannel:D,shimReceiverGetStats:O,shimRemoveStream:N,shimSenderGetStats:w});function x(e){if(\"object\"==typeof e&&e.RTCPeerConnection){if(\"getLocalStreams\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!(\"addStream\"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((i=>t.call(this,i,e))),e.getVideoTracks().forEach((i=>t.call(this,i,e)))},e.RTCPeerConnection.prototype.addTrack=function(e,...i){return i&&i.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}\"removeStream\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const i=e.getTracks();this.getSenders().forEach((e=>{i.includes(e.track)&&this.removeTrack(e)}))})}}function V(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&(\"getRemoteStreams\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!(\"onaddstream\"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,\"onaddstream\",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener(\"addstream\",this._onaddstream),this.removeEventListener(\"track\",this._onaddstreampoly)),this.addEventListener(\"addstream\",this._onaddstream=e),this.addEventListener(\"track\",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event(\"addstream\");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener(\"track\",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const i=new Event(\"addstream\");i.stream=t,e.dispatchEvent(i)}))}),t.apply(e,arguments)}}}function F(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,i=t.createOffer,n=t.createAnswer,r=t.setLocalDescription,s=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),Promise.resolve()):r},t.createAnswer=function(e,t){const i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),Promise.resolve()):r};let a=function(e,t,i){const n=r.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n};t.setLocalDescription=a,a=function(e,t,i){const n=s.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n},t.setRemoteDescription=a,a=function(e,t,i){const n=o.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n},t.addIceCandidate=a}function B(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,i=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>i(j(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,i,n){t.mediaDevices.getUserMedia(e).then(i,n)}.bind(t))}function j(e){return e&&void 0!==e.video?Object.assign({},e,{video:l(e.video)}):e}function G(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,i){if(e&&e.iceServers){const t=[];for(let i=0;i<e.iceServers.length;i++){let n=e.iceServers[i];!n.hasOwnProperty(\"urls\")&&n.hasOwnProperty(\"url\")?(c(\"RTCIceServer.url\",\"RTCIceServer.urls\"),n=JSON.parse(JSON.stringify(n)),n.urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[i])}e.iceServers=t}return new t(e,i)},e.RTCPeerConnection.prototype=t.prototype,\"generateCertificate\"in t&&Object.defineProperty(e.RTCPeerConnection,\"generateCertificate\",{get:()=>t.generateCertificate})}function W(e){\"object\"==typeof e&&e.RTCTrackEvent&&\"receiver\"in e.RTCTrackEvent.prototype&&!(\"transceiver\"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,\"transceiver\",{get(){return{receiver:this.receiver}}})}function H(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>\"audio\"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?\"sendrecv\"===t.direction?t.setDirection?t.setDirection(\"sendonly\"):t.direction=\"sendonly\":\"recvonly\"===t.direction&&(t.setDirection?t.setDirection(\"inactive\"):t.direction=\"inactive\"):!0!==e.offerToReceiveAudio||t||this.addTransceiver(\"audio\",{direction:\"recvonly\"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const i=this.getTransceivers().find((e=>\"video\"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&i?\"sendrecv\"===i.direction?i.setDirection?i.setDirection(\"sendonly\"):i.direction=\"sendonly\":\"recvonly\"===i.direction&&(i.setDirection?i.setDirection(\"inactive\"):i.direction=\"inactive\"):!0!==e.offerToReceiveVideo||i||this.addTransceiver(\"video\",{direction:\"recvonly\"})}return t.apply(this,arguments)}}function K(e){\"object\"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Y=Object.freeze({__proto__:null,shimAudioContext:K,shimCallbacksAPI:F,shimConstraints:j,shimCreateOfferLegacy:H,shimGetUserMedia:B,shimLocalStreamsAPI:x,shimRTCIceServerUrls:G,shimRemoteStreamsAPI:V,shimTrackEventTransceiver:W}),q=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function J(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var z={exports:{}};!function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split(\"\\n\").map((e=>e.trim()))},t.splitSections=function(e){return e.split(\"\\nm=\").map(((e,t)=>(t>0?\"m=\"+e:e).trim()+\"\\r\\n\"))},t.getDescription=function(e){const i=t.splitSections(e);return i&&i[0]},t.getMediaSections=function(e){const i=t.splitSections(e);return i.shift(),i},t.matchPrefix=function(e,i){return t.splitLines(e).filter((e=>0===e.indexOf(i)))},t.parseCandidate=function(e){let t;t=0===e.indexOf(\"a=candidate:\")?e.substring(12).split(\" \"):e.substring(10).split(\" \");const i={foundation:t[0],component:{1:\"rtp\",2:\"rtcp\"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case\"raddr\":i.relatedAddress=t[e+1];break;case\"rport\":i.relatedPort=parseInt(t[e+1],10);break;case\"tcptype\":i.tcpType=t[e+1];break;case\"ufrag\":i.ufrag=t[e+1],i.usernameFragment=t[e+1];break;default:void 0===i[t[e]]&&(i[t[e]]=t[e+1])}return i},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const i=e.component;\"rtp\"===i?t.push(1):\"rtcp\"===i?t.push(2):t.push(i),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const n=e.type;return t.push(\"typ\"),t.push(n),\"host\"!==n&&e.relatedAddress&&e.relatedPort&&(t.push(\"raddr\"),t.push(e.relatedAddress),t.push(\"rport\"),t.push(e.relatedPort)),e.tcpType&&\"tcp\"===e.protocol.toLowerCase()&&(t.push(\"tcptype\"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push(\"ufrag\"),t.push(e.usernameFragment||e.ufrag)),\"candidate:\"+t.join(\" \")},t.parseIceOptions=function(e){return e.substring(14).split(\" \")},t.parseRtpMap=function(e){let t=e.substring(9).split(\" \");const i={payloadType:parseInt(t.shift(),10)};return t=t[0].split(\"/\"),i.name=t[0],i.clockRate=parseInt(t[1],10),i.channels=3===t.length?parseInt(t[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const i=e.channels||e.numChannels||1;return\"a=rtpmap:\"+t+\" \"+e.name+\"/\"+e.clockRate+(1!==i?\"/\"+i:\"\")+\"\\r\\n\"},t.parseExtmap=function(e){const t=e.substring(9).split(\" \");return{id:parseInt(t[0],10),direction:t[0].indexOf(\"/\")>0?t[0].split(\"/\")[1]:\"sendrecv\",uri:t[1],attributes:t.slice(2).join(\" \")}},t.writeExtmap=function(e){return\"a=extmap:\"+(e.id||e.preferredId)+(e.direction&&\"sendrecv\"!==e.direction?\"/\"+e.direction:\"\")+\" \"+e.uri+(e.attributes?\" \"+e.attributes:\"\")+\"\\r\\n\"},t.parseFmtp=function(e){const t={};let i;const n=e.substring(e.indexOf(\" \")+1).split(\";\");for(let e=0;e<n.length;e++)i=n[e].trim().split(\"=\"),t[i[0].trim()]=i[1];return t},t.writeFmtp=function(e){let t=\"\",i=e.payloadType;if(void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const n=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?n.push(t+\"=\"+e.parameters[t]):n.push(t)})),t+=\"a=fmtp:\"+i+\" \"+n.join(\";\")+\"\\r\\n\"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(\" \")+1).split(\" \");return{type:t.shift(),parameter:t.join(\" \")}},t.writeRtcpFb=function(e){let t=\"\",i=e.payloadType;return void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+=\"a=rtcp-fb:\"+i+\" \"+e.type+(e.parameter&&e.parameter.length?\" \"+e.parameter:\"\")+\"\\r\\n\"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(\" \"),i={ssrc:parseInt(e.substring(7,t),10)},n=e.indexOf(\":\",t);return n>-1?(i.attribute=e.substring(t+1,n),i.value=e.substring(n+1)):i.attribute=e.substring(t+1),i},t.parseSsrcGroup=function(e){const t=e.substring(13).split(\" \");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const i=t.matchPrefix(e,\"a=mid:\")[0];if(i)return i.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(\" \");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,i){return{role:\"auto\",fingerprints:t.matchPrefix(e+i,\"a=fingerprint:\").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let i=\"a=setup:\"+t+\"\\r\\n\";return e.fingerprints.forEach((e=>{i+=\"a=fingerprint:\"+e.algorithm+\" \"+e.value+\"\\r\\n\"})),i},t.parseCryptoLine=function(e){const t=e.substring(9).split(\" \");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return\"a=crypto:\"+e.tag+\" \"+e.cryptoSuite+\" \"+(\"object\"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?\" \"+e.sessionParams.join(\" \"):\"\")+\"\\r\\n\"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf(\"inline:\"))return null;const t=e.substring(7).split(\"|\");return{keyMethod:\"inline\",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(\":\")[0]:void 0,mkiLength:t[2]?t[2].split(\":\")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+\":\"+e.keySalt+(e.lifeTime?\"|\"+e.lifeTime:\"\")+(e.mkiValue&&e.mkiLength?\"|\"+e.mkiValue+\":\"+e.mkiLength:\"\")},t.getCryptoParameters=function(e,i){return t.matchPrefix(e+i,\"a=crypto:\").map(t.parseCryptoLine)},t.getIceParameters=function(e,i){const n=t.matchPrefix(e+i,\"a=ice-ufrag:\")[0],r=t.matchPrefix(e+i,\"a=ice-pwd:\")[0];return n&&r?{usernameFragment:n.substring(12),password:r.substring(10)}:null},t.writeIceParameters=function(e){let t=\"a=ice-ufrag:\"+e.usernameFragment+\"\\r\\na=ice-pwd:\"+e.password+\"\\r\\n\";return e.iceLite&&(t+=\"a=ice-lite\\r\\n\"),t},t.parseRtpParameters=function(e){const i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(\" \");i.profile=n[2];for(let r=3;r<n.length;r++){const s=n[r],o=t.matchPrefix(e,\"a=rtpmap:\"+s+\" \")[0];if(o){const n=t.parseRtpMap(o),r=t.matchPrefix(e,\"a=fmtp:\"+s+\" \");switch(n.parameters=r.length?t.parseFmtp(r[0]):{},n.rtcpFeedback=t.matchPrefix(e,\"a=rtcp-fb:\"+s+\" \").map(t.parseRtcpFb),i.codecs.push(n),n.name.toUpperCase()){case\"RED\":case\"ULPFEC\":i.fecMechanisms.push(n.name.toUpperCase())}}}t.matchPrefix(e,\"a=extmap:\").forEach((e=>{i.headerExtensions.push(t.parseExtmap(e))}));const r=t.matchPrefix(e,\"a=rtcp-fb:* \").map(t.parseRtcpFb);return i.codecs.forEach((e=>{r.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),i},t.writeRtpDescription=function(e,i){let n=\"\";n+=\"m=\"+e+\" \",n+=i.codecs.length>0?\"9\":\"0\",n+=\" \"+(i.profile||\"UDP/TLS/RTP/SAVPF\")+\" \",n+=i.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(\" \")+\"\\r\\n\",n+=\"c=IN IP4 0.0.0.0\\r\\n\",n+=\"a=rtcp:9 IN IP4 0.0.0.0\\r\\n\",i.codecs.forEach((e=>{n+=t.writeRtpMap(e),n+=t.writeFmtp(e),n+=t.writeRtcpFb(e)}));let r=0;return i.codecs.forEach((e=>{e.maxptime>r&&(r=e.maxptime)})),r>0&&(n+=\"a=maxptime:\"+r+\"\\r\\n\"),i.headerExtensions&&i.headerExtensions.forEach((e=>{n+=t.writeExtmap(e)})),n},t.parseRtpEncodingParameters=function(e){const i=[],n=t.parseRtpParameters(e),r=-1!==n.fecMechanisms.indexOf(\"RED\"),s=-1!==n.fecMechanisms.indexOf(\"ULPFEC\"),o=t.matchPrefix(e,\"a=ssrc:\").map((e=>t.parseSsrcMedia(e))).filter((e=>\"cname\"===e.attribute)),a=o.length>0&&o[0].ssrc;let c;const d=t.matchPrefix(e,\"a=ssrc-group:FID\").map((e=>e.substring(17).split(\" \").map((e=>parseInt(e,10)))));d.length>0&&d[0].length>1&&d[0][0]===a&&(c=d[0][1]),n.codecs.forEach((e=>{if(\"RTX\"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:a,codecPayloadType:parseInt(e.parameters.apt,10)};a&&c&&(t.rtx={ssrc:c}),i.push(t),r&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:a,mechanism:s?\"red+ulpfec\":\"red\"},i.push(t))}})),0===i.length&&a&&i.push({ssrc:a});let l=t.matchPrefix(e,\"b=\");return l.length&&(l=0===l[0].indexOf(\"b=TIAS:\")?parseInt(l[0].substring(7),10):0===l[0].indexOf(\"b=AS:\")?1e3*parseInt(l[0].substring(5),10)*.95-16e3:void 0,i.forEach((e=>{e.maxBitrate=l}))),i},t.parseRtcpParameters=function(e){const i={},n=t.matchPrefix(e,\"a=ssrc:\").map((e=>t.parseSsrcMedia(e))).filter((e=>\"cname\"===e.attribute))[0];n&&(i.cname=n.value,i.ssrc=n.ssrc);const r=t.matchPrefix(e,\"a=rtcp-rsize\");i.reducedSize=r.length>0,i.compound=0===r.length;const s=t.matchPrefix(e,\"a=rtcp-mux\");return i.mux=s.length>0,i},t.writeRtcpParameters=function(e){let t=\"\";return e.reducedSize&&(t+=\"a=rtcp-rsize\\r\\n\"),e.mux&&(t+=\"a=rtcp-mux\\r\\n\"),void 0!==e.ssrc&&e.cname&&(t+=\"a=ssrc:\"+e.ssrc+\" cname:\"+e.cname+\"\\r\\n\"),t},t.parseMsid=function(e){let i;const n=t.matchPrefix(e,\"a=msid:\");if(1===n.length)return i=n[0].substring(7).split(\" \"),{stream:i[0],track:i[1]};const r=t.matchPrefix(e,\"a=ssrc:\").map((e=>t.parseSsrcMedia(e))).filter((e=>\"msid\"===e.attribute));return r.length>0?(i=r[0].value.split(\" \"),{stream:i[0],track:i[1]}):void 0},t.parseSctpDescription=function(e){const i=t.parseMLine(e),n=t.matchPrefix(e,\"a=max-message-size:\");let r;n.length>0&&(r=parseInt(n[0].substring(19),10)),isNaN(r)&&(r=65536);const s=t.matchPrefix(e,\"a=sctp-port:\");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:i.fmt,maxMessageSize:r};const o=t.matchPrefix(e,\"a=sctpmap:\");if(o.length>0){const e=o[0].substring(10).split(\" \");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:r}}},t.writeSctpDescription=function(e,t){let i=[];return i=\"DTLS/SCTP\"!==e.protocol?[\"m=\"+e.kind+\" 9 \"+e.protocol+\" \"+t.protocol+\"\\r\\n\",\"c=IN IP4 0.0.0.0\\r\\n\",\"a=sctp-port:\"+t.port+\"\\r\\n\"]:[\"m=\"+e.kind+\" 9 \"+e.protocol+\" \"+t.port+\"\\r\\n\",\"c=IN IP4 0.0.0.0\\r\\n\",\"a=sctpmap:\"+t.port+\" \"+t.protocol+\" 65535\\r\\n\"],void 0!==t.maxMessageSize&&i.push(\"a=max-message-size:\"+t.maxMessageSize+\"\\r\\n\"),i.join(\"\")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,i,n){let r;const s=void 0!==i?i:2;r=e||t.generateSessionId();return\"v=0\\r\\no=\"+(n||\"thisisadapterortc\")+\" \"+r+\" \"+s+\" IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\n\"},t.getDirection=function(e,i){const n=t.splitLines(e);for(let e=0;e<n.length;e++)switch(n[e]){case\"a=sendrecv\":case\"a=sendonly\":case\"a=recvonly\":case\"a=inactive\":return n[e].substring(2)}return i?t.getDirection(i):\"sendrecv\"},t.getKind=function(e){return t.splitLines(e)[0].split(\" \")[0].substring(2)},t.isRejected=function(e){return\"0\"===e.split(\" \",2)[1]},t.parseMLine=function(e){const i=t.splitLines(e)[0].substring(2).split(\" \");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(\" \")}},t.parseOLine=function(e){const i=t.matchPrefix(e,\"o=\")[0].substring(2).split(\" \");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(e){if(\"string\"!=typeof e||0===e.length)return!1;const i=t.splitLines(e);for(let e=0;e<i.length;e++)if(i[e].length<2||\"=\"!==i[e].charAt(1))return!1;return!0},e.exports=t}(z);var X=z.exports,Q=J(X),Z=e({__proto__:null,default:Q},[X]);function $(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&\"foundation\"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if(\"object\"==typeof e&&e.candidate&&0===e.candidate.indexOf(\"a=\")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const i=new t(e),n=Q.parseCandidate(e.candidate),r=Object.assign(i,n);return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,r(e,\"icecandidate\",(t=>(t.candidate&&Object.defineProperty(t,\"candidate\",{value:new e.RTCIceCandidate(t.candidate),writable:\"false\"}),t)))}function ee(e){!e.RTCIceCandidate||e.RTCIceCandidate&&\"relayProtocol\"in e.RTCIceCandidate.prototype||r(e,\"icecandidate\",(e=>{if(e.candidate){const t=Q.parseCandidate(e.candidate.candidate);\"relay\"===t.type&&(e.candidate.relayProtocol={0:\"tls\",1:\"tcp\",2:\"udp\"}[t.priority>>24])}return e}))}function te(e,t){if(!e.RTCPeerConnection)return;\"sctp\"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,\"sctp\",{get(){return void 0===this._sctp?null:this._sctp}});const i=function(e){if(!e||!e.sdp)return!1;const t=Q.splitSections(e.sdp);return t.shift(),t.some((e=>{const t=Q.parseMLine(e);return t&&\"application\"===t.kind&&-1!==t.protocol.indexOf(\"SCTP\")}))},n=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);if(null===t||t.length<2)return-1;const i=parseInt(t[1],10);return i!=i?-1:i},r=function(e){let i=65536;return\"firefox\"===t.browser&&(i=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),i},s=function(e,i){let n=65536;\"firefox\"===t.browser&&57===t.version&&(n=65535);const r=Q.matchPrefix(e.sdp,\"a=max-message-size:\");return r.length>0?n=parseInt(r[0].substr(19),10):\"firefox\"===t.browser&&-1!==i&&(n=2147483637),n},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,\"chrome\"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();\"plan-b\"===e&&Object.defineProperty(this,\"sctp\",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(i(arguments[0])){const e=n(arguments[0]),t=r(e),i=s(arguments[0],e);let o;o=0===t&&0===i?Number.POSITIVE_INFINITY:0===t||0===i?Math.max(t,i):Math.min(t,i);const a={};Object.defineProperty(a,\"maxMessageSize\",{get:()=>o}),this._sctp=a}return o.apply(this,arguments)}}function ie(e){if(!e.RTCPeerConnection||!(\"createDataChannel\"in e.RTCPeerConnection.prototype))return;function t(e,t){const i=e.send;e.send=function(){const n=arguments[0],r=n.length||n.size||n.byteLength;if(\"open\"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError(\"Message too large (can send a maximum of \"+t.sctp.maxMessageSize+\" bytes)\");return i.apply(e,arguments)}}const i=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=i.apply(this,arguments);return t(e,this),e},r(e,\"datachannel\",(e=>(t(e.channel,e.target),e)))}function ne(e){if(!e.RTCPeerConnection||\"connectionState\"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,\"connectionState\",{get(){return{completed:\"connected\",checking:\"connecting\"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"onconnectionstatechange\",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener(\"connectionstatechange\",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener(\"connectionstatechange\",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),[\"setLocalDescription\",\"setRemoteDescription\"].forEach((e=>{const i=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const i=new Event(\"connectionstatechange\",e);t.dispatchEvent(i)}return e},this.addEventListener(\"iceconnectionstatechange\",this._connectionstatechangepoly)),i.apply(this,arguments)}}))}function re(e,t){if(!e.RTCPeerConnection)return;if(\"chrome\"===t.browser&&t.version>=71)return;if(\"safari\"===t.browser&&t.version>=605)return;const i=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf(\"\\na=extmap-allow-mixed\")){const i=t.sdp.split(\"\\n\").filter((e=>\"a=extmap-allow-mixed\"!==e.trim())).join(\"\\n\");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:i}):t.sdp=i}return i.apply(this,arguments)}}function se(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const i=e.RTCPeerConnection.prototype.addIceCandidate;i&&0!==i.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(\"chrome\"===t.browser&&t.version<78||\"firefox\"===t.browser&&t.version<68||\"safari\"===t.browser)&&arguments[0]&&\"\"===arguments[0].candidate?Promise.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function oe(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const i=e.RTCPeerConnection.prototype.setLocalDescription;i&&0!==i.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if(\"object\"!=typeof e||e.type&&e.sdp)return i.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case\"stable\":case\"have-local-offer\":case\"have-remote-pranswer\":e.type=\"offer\";break;default:e.type=\"answer\"}if(e.sdp||\"offer\"!==e.type&&\"answer\"!==e.type)return i.apply(this,[e]);return(\"offer\"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>i.apply(this,[e])))})}var ae=Object.freeze({__proto__:null,removeExtmapAllowMixed:re,shimAddIceCandidateNullOrEmpty:se,shimConnectionState:ne,shimMaxMessageSize:te,shimParameterlessSetLocalDescription:oe,shimRTCIceCandidate:$,shimRTCIceCandidateRelayProtocol:ee,shimSendThrowTypeError:ie});!function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const i=a,r=function(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser=\"Not a browser.\",t;const{navigator:i}=e;if(i.mozGetUserMedia)t.browser=\"firefox\",t.version=n(i.userAgent,/Firefox\\/(\\d+)\\./,1);else if(i.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser=\"chrome\",t.version=n(i.userAgent,/Chrom(e|ium)\\/(\\d+)\\./,2);else{if(!e.RTCPeerConnection||!i.userAgent.match(/AppleWebKit\\/(\\d+)\\./))return t.browser=\"Not a supported browser.\",t;t.browser=\"safari\",t.version=n(i.userAgent,/AppleWebKit\\/(\\d+)\\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&\"currentDirection\"in e.RTCRtpTransceiver.prototype}return t}(e),c={browserDetails:r,commonShim:ae,extractVersion:n,disableLog:s,disableWarnings:o,sdp:Z};switch(r.browser){case\"chrome\":if(!I||!C||!t.shimChrome)return i(\"Chrome shim is not included in this adapter release.\"),c;if(null===r.version)return i(\"Chrome shim can not determine version, not shimming.\"),c;i(\"adapter.js shimming chrome.\"),c.browserShim=I,se(e,r),oe(e),_(e,r),E(e),C(e,r),m(e),R(e,r),f(e),g(e),S(e),v(e,r),$(e),ee(e),ne(e),te(e,r),ie(e),re(e,r);break;case\"firefox\":if(!U||!b||!t.shimFirefox)return i(\"Firefox shim is not included in this adapter release.\"),c;i(\"adapter.js shimming firefox.\"),c.browserShim=U,se(e,r),oe(e),y(e,r),b(e,r),A(e),N(e),w(e),O(e),D(e),P(e),L(e),k(e),M(e),$(e),ne(e),te(e,r),ie(e);break;case\"safari\":if(!Y||!t.shimSafari)return i(\"Safari shim is not included in this adapter release.\"),c;i(\"adapter.js shimming safari.\"),c.browserShim=Y,se(e,r),oe(e),G(e),H(e),F(e),x(e),V(e),W(e),B(e),K(e),$(e),ee(e),te(e,r),ie(e),re(e,r);break;default:i(\"Unsupported browser!\")}}({window:\"undefined\"==typeof window?void 0:window});var ce=function(e){try{return!!e()}catch(e){return!0}},de=!ce((function(){var e=function(){}.bind();return\"function\"!=typeof e||e.hasOwnProperty(\"prototype\")})),le=de,he=Function.prototype,ue=he.call,pe=le&&he.bind.bind(ue,ue),_e=le?pe:function(e){return function(){return ue.apply(e,arguments)}},Ee=_e({}.isPrototypeOf),me=function(e){return e&&e.Math==Math&&e},fe=me(\"object\"==typeof globalThis&&globalThis)||me(\"object\"==typeof window&&window)||me(\"object\"==typeof self&&self)||me(\"object\"==typeof q&&q)||function(){return this}()||q||Function(\"return this\")(),ge=de,Se=Function.prototype,Te=Se.apply,Re=Se.call,Ce=\"object\"==typeof Reflect&&Reflect.apply||(ge?Re.bind(Te):function(){return Re.apply(Te,arguments)}),ve=_e,Ie=ve({}.toString),ye=ve(\"\".slice),Ae=function(e){return ye(Ie(e),8,-1)},be=Ae,we=_e,Oe=function(e){if(\"Function\"===be(e))return we(e)},Ne=\"object\"==typeof document&&document.all,De={all:Ne,IS_HTMLDDA:void 0===Ne&&void 0!==Ne},Pe=De.all,Le=De.IS_HTMLDDA?function(e){return\"function\"==typeof e||e===Pe}:function(e){return\"function\"==typeof e},ke={},Me=!ce((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Ue=de,xe=Function.prototype.call,Ve=Ue?xe.bind(xe):function(){return xe.apply(xe,arguments)},Fe={},Be={}.propertyIsEnumerable,je=Object.getOwnPropertyDescriptor,Ge=je&&!Be.call({1:2},1);Fe.f=Ge?function(e){var t=je(this,e);return!!t&&t.enumerable}:Be;var We,He,Ke=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Ye=ce,qe=Ae,Je=Object,ze=_e(\"\".split),Xe=Ye((function(){return!Je(\"z\").propertyIsEnumerable(0)}))?function(e){return\"String\"==qe(e)?ze(e,\"\"):Je(e)}:Je,Qe=function(e){return null==e},Ze=Qe,$e=TypeError,et=function(e){if(Ze(e))throw $e(\"Can't call method on \"+e);return e},tt=Xe,it=et,nt=function(e){return tt(it(e))},rt=Le,st=De.all,ot=De.IS_HTMLDDA?function(e){return\"object\"==typeof e?null!==e:rt(e)||e===st}:function(e){return\"object\"==typeof e?null!==e:rt(e)},at={},ct=at,dt=fe,lt=Le,ht=function(e){return lt(e)?e:void 0},ut=function(e,t){return arguments.length<2?ht(ct[e])||ht(dt[e]):ct[e]&&ct[e][t]||dt[e]&&dt[e][t]},pt=\"undefined\"!=typeof navigator&&String(navigator.userAgent)||\"\",_t=fe,Et=pt,mt=_t.process,ft=_t.Deno,gt=mt&&mt.versions||ft&&ft.version,St=gt&&gt.v8;St&&(He=(We=St.split(\".\"))[0]>0&&We[0]<4?1:+(We[0]+We[1])),!He&&Et&&(!(We=Et.match(/Edge\\/(\\d+)/))||We[1]>=74)&&(We=Et.match(/Chrome\\/(\\d+)/))&&(He=+We[1]);var Tt=He,Rt=Tt,Ct=ce,vt=fe.String,It=!!Object.getOwnPropertySymbols&&!Ct((function(){var e=Symbol();return!vt(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Rt&&Rt<41})),yt=It&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator,At=ut,bt=Le,wt=Ee,Ot=Object,Nt=yt?function(e){return\"symbol\"==typeof e}:function(e){var t=At(\"Symbol\");return bt(t)&&wt(t.prototype,Ot(e))},Dt=String,Pt=function(e){try{return Dt(e)}catch(e){return\"Object\"}},Lt=Le,kt=Pt,Mt=TypeError,Ut=function(e){if(Lt(e))return e;throw Mt(kt(e)+\" is not a function\")},xt=Ut,Vt=Qe,Ft=function(e,t){var i=e[t];return Vt(i)?void 0:xt(i)},Bt=Ve,jt=Le,Gt=ot,Wt=TypeError,Ht={exports:{}},Kt=fe,Yt=Object.defineProperty,qt=function(e,t){try{Yt(Kt,e,{value:t,configurable:!0,writable:!0})}catch(i){Kt[e]=t}return t},Jt=\"__core-js_shared__\",zt=fe[Jt]||qt(Jt,{}),Xt=zt;(Ht.exports=function(e,t){return Xt[e]||(Xt[e]=void 0!==t?t:{})})(\"versions\",[]).push({version:\"3.31.1\",mode:\"pure\",copyright:\"© 2014-2023 Denis Pushkarev (zloirock.ru)\",license:\"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE\",source:\"https://github.com/zloirock/core-js\"});var Qt=Ht.exports,Zt=et,$t=Object,ei=function(e){return $t(Zt(e))},ti=ei,ii=_e({}.hasOwnProperty),ni=Object.hasOwn||function(e,t){return ii(ti(e),t)},ri=_e,si=0,oi=Math.random(),ai=ri(1..toString),ci=function(e){return\"Symbol(\"+(void 0===e?\"\":e)+\")_\"+ai(++si+oi,36)},di=Qt,li=ni,hi=ci,ui=It,pi=yt,_i=fe.Symbol,Ei=di(\"wks\"),mi=pi?_i.for||_i:_i&&_i.withoutSetter||hi,fi=function(e){return li(Ei,e)||(Ei[e]=ui&&li(_i,e)?_i[e]:mi(\"Symbol.\"+e)),Ei[e]},gi=Ve,Si=ot,Ti=Nt,Ri=Ft,Ci=function(e,t){var i,n;if(\"string\"===t&&jt(i=e.toString)&&!Gt(n=Bt(i,e)))return n;if(jt(i=e.valueOf)&&!Gt(n=Bt(i,e)))return n;if(\"string\"!==t&&jt(i=e.toString)&&!Gt(n=Bt(i,e)))return n;throw Wt(\"Can't convert object to primitive value\")},vi=TypeError,Ii=fi(\"toPrimitive\"),yi=function(e,t){if(!Si(e)||Ti(e))return e;var i,n=Ri(e,Ii);if(n){if(void 0===t&&(t=\"default\"),i=gi(n,e,t),!Si(i)||Ti(i))return i;throw vi(\"Can't convert object to primitive value\")}return void 0===t&&(t=\"number\"),Ci(e,t)},Ai=Nt,bi=function(e){var t=yi(e,\"string\");return Ai(t)?t:t+\"\"},wi=ot,Oi=fe.document,Ni=wi(Oi)&&wi(Oi.createElement),Di=function(e){return Ni?Oi.createElement(e):{}},Pi=Di,Li=!Me&&!ce((function(){return 7!=Object.defineProperty(Pi(\"div\"),\"a\",{get:function(){return 7}}).a})),ki=Me,Mi=Ve,Ui=Fe,xi=Ke,Vi=nt,Fi=bi,Bi=ni,ji=Li,Gi=Object.getOwnPropertyDescriptor;ke.f=ki?Gi:function(e,t){if(e=Vi(e),t=Fi(t),ji)try{return Gi(e,t)}catch(e){}if(Bi(e,t))return xi(!Mi(Ui.f,e,t),e[t])};var Wi=ce,Hi=Le,Ki=/#|\\.prototype\\./,Yi=function(e,t){var i=Ji[qi(e)];return i==Xi||i!=zi&&(Hi(t)?Wi(t):!!t)},qi=Yi.normalize=function(e){return String(e).replace(Ki,\".\").toLowerCase()},Ji=Yi.data={},zi=Yi.NATIVE=\"N\",Xi=Yi.POLYFILL=\"P\",Qi=Yi,Zi=Ut,$i=de,en=Oe(Oe.bind),tn=function(e,t){return Zi(e),void 0===t?e:$i?en(e,t):function(){return e.apply(t,arguments)}},nn={},rn=Me&&ce((function(){return 42!=Object.defineProperty((function(){}),\"prototype\",{value:42,writable:!1}).prototype})),sn=ot,on=String,an=TypeError,cn=function(e){if(sn(e))return e;throw an(on(e)+\" is not an object\")},dn=Me,ln=Li,hn=rn,un=cn,pn=bi,_n=TypeError,En=Object.defineProperty,mn=Object.getOwnPropertyDescriptor,fn=\"enumerable\",gn=\"configurable\",Sn=\"writable\";nn.f=dn?hn?function(e,t,i){if(un(e),t=pn(t),un(i),\"function\"==typeof e&&\"prototype\"===t&&\"value\"in i&&Sn in i&&!i[Sn]){var n=mn(e,t);n&&n[Sn]&&(e[t]=i.value,i={configurable:gn in i?i[gn]:n[gn],enumerable:fn in i?i[fn]:n[fn],writable:!1})}return En(e,t,i)}:En:function(e,t,i){if(un(e),t=pn(t),un(i),ln)try{return En(e,t,i)}catch(e){}if(\"get\"in i||\"set\"in i)throw _n(\"Accessors not supported\");return\"value\"in i&&(e[t]=i.value),e};var Tn=nn,Rn=Ke,Cn=Me?function(e,t,i){return Tn.f(e,t,Rn(1,i))}:function(e,t,i){return e[t]=i,e},vn=fe,In=Ce,yn=Oe,An=Le,bn=ke.f,wn=Qi,On=at,Nn=tn,Dn=Cn,Pn=ni,Ln=function(e){var t=function(i,n,r){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(i);case 2:return new e(i,n)}return new e(i,n,r)}return In(e,this,arguments)};return t.prototype=e.prototype,t},kn=function(e,t){var i,n,r,s,o,a,c,d,l,h=e.target,u=e.global,p=e.stat,_=e.proto,E=u?vn:p?vn[h]:(vn[h]||{}).prototype,m=u?On:On[h]||Dn(On,h,{})[h],f=m.prototype;for(s in t)n=!(i=wn(u?s:h+(p?\".\":\"#\")+s,e.forced))&&E&&Pn(E,s),a=m[s],n&&(c=e.dontCallGetSet?(l=bn(E,s))&&l.value:E[s]),o=n&&c?c:t[s],n&&typeof a==typeof o||(d=e.bind&&n?Nn(o,vn):e.wrap&&n?Ln(o):_&&An(o)?yn(o):o,(e.sham||o&&o.sham||a&&a.sham)&&Dn(d,\"sham\",!0),Dn(m,s,d),_&&(Pn(On,r=h+\"Prototype\")||Dn(On,r,{}),Dn(On[r],s,o),e.real&&f&&(i||!f[s])&&Dn(f,s,o)))},Mn=Math.ceil,Un=Math.floor,xn=Math.trunc||function(e){var t=+e;return(t>0?Un:Mn)(t)},Vn=function(e){var t=+e;return t!=t||0===t?0:xn(t)},Fn=Vn,Bn=Math.max,jn=Math.min,Gn=function(e,t){var i=Fn(e);return i<0?Bn(i+t,0):jn(i,t)},Wn=Vn,Hn=Math.min,Kn=function(e){return e>0?Hn(Wn(e),9007199254740991):0},Yn=function(e){return Kn(e.length)},qn=nt,Jn=Gn,zn=Yn,Xn=function(e){return function(t,i,n){var r,s=qn(t),o=zn(s),a=Jn(n,o);if(e&&i!=i){for(;o>a;)if((r=s[a++])!=r)return!0}else for(;o>a;a++)if((e||a in s)&&s[a]===i)return e||a||0;return!e&&-1}},Qn={includes:Xn(!0),indexOf:Xn(!1)},Zn=Qn.includes;kn({target:\"Array\",proto:!0,forced:ce((function(){return!Array(1).includes()}))},{includes:function(e){return Zn(this,e,arguments.length>1?arguments[1]:void 0)}});var $n=at,er=function(e){return $n[e+\"Prototype\"]},tr=er(\"Array\").includes,ir=ot,nr=Ae,rr=fi(\"match\"),sr=function(e){var t;return ir(e)&&(void 0!==(t=e[rr])?!!t:\"RegExp\"==nr(e))},or=TypeError,ar={};ar[fi(\"toStringTag\")]=\"z\";var cr=\"[object z]\"===String(ar),dr=cr,lr=Le,hr=Ae,ur=fi(\"toStringTag\"),pr=Object,_r=\"Arguments\"==hr(function(){return arguments}()),Er=dr?hr:function(e){var t,i,n;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=pr(e),ur))?i:_r?hr(t):\"Object\"==(n=hr(t))&&lr(t.callee)?\"Arguments\":n},mr=Er,fr=String,gr=function(e){if(\"Symbol\"===mr(e))throw TypeError(\"Cannot convert a Symbol value to a string\");return fr(e)},Sr=fi(\"match\"),Tr=kn,Rr=function(e){if(sr(e))throw or(\"The method doesn't accept regular expressions\");return e},Cr=et,vr=gr,Ir=function(e){var t=/./;try{\"/./\"[e](t)}catch(i){try{return t[Sr]=!1,\"/./\"[e](t)}catch(e){}}return!1},yr=_e(\"\".indexOf);Tr({target:\"String\",proto:!0,forced:!Ir(\"includes\")},{includes:function(e){return!!~yr(vr(Cr(this)),vr(Rr(e)),arguments.length>1?arguments[1]:void 0)}});var Ar=er(\"String\").includes,br=Ee,wr=tr,Or=Ar,Nr=Array.prototype,Dr=String.prototype,Pr=J((function(e){var t=e.includes;return e===Nr||br(Nr,e)&&t===Nr.includes?wr:\"string\"==typeof e||e===Dr||br(Dr,e)&&t===Dr.includes?Or:t})),Lr={exports:{}},kr=kn,Mr=Me,Ur=nn.f;kr({target:\"Object\",stat:!0,forced:Object.defineProperty!==Ur,sham:!Mr},{defineProperty:Ur});var xr=at.Object,Vr=Lr.exports=function(e,t,i){return xr.defineProperty(e,t,i)};xr.defineProperty.sham&&(Vr.sham=!0);var Fr=J(Lr.exports),Br=Ae,jr=Array.isArray||function(e){return\"Array\"==Br(e)},Gr=TypeError,Wr=bi,Hr=nn,Kr=Ke,Yr=function(e,t,i){var n=Wr(t);n in e?Hr.f(e,n,Kr(0,i)):e[n]=i},qr=Le,Jr=zt,zr=_e(Function.toString);qr(Jr.inspectSource)||(Jr.inspectSource=function(e){return zr(e)});var Xr=Jr.inspectSource,Qr=_e,Zr=ce,$r=Le,es=Er,ts=Xr,is=function(){},ns=[],rs=ut(\"Reflect\",\"construct\"),ss=/^\\s*(?:class|function)\\b/,os=Qr(ss.exec),as=!ss.exec(is),cs=function(e){if(!$r(e))return!1;try{return rs(is,ns,e),!0}catch(e){return!1}},ds=function(e){if(!$r(e))return!1;switch(es(e)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return!1}try{return as||!!os(ss,ts(e))}catch(e){return!0}};ds.sham=!0;var ls=!rs||Zr((function(){var e;return cs(cs.call)||!cs(Object)||!cs((function(){e=!0}))||e}))?ds:cs,hs=jr,us=ls,ps=ot,_s=fi(\"species\"),Es=Array,ms=function(e){var t;return hs(e)&&(t=e.constructor,(us(t)&&(t===Es||hs(t.prototype))||ps(t)&&null===(t=t[_s]))&&(t=void 0)),void 0===t?Es:t},fs=function(e,t){return new(ms(e))(0===t?0:t)},gs=ce,Ss=Tt,Ts=fi(\"species\"),Rs=kn,Cs=ce,vs=jr,Is=ot,ys=ei,As=Yn,bs=function(e){if(e>9007199254740991)throw Gr(\"Maximum allowed index exceeded\");return e},ws=Yr,Os=fs,Ns=function(e){return Ss>=51||!gs((function(){var t=[];return(t.constructor={})[Ts]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Ds=Tt,Ps=fi(\"isConcatSpreadable\"),Ls=Ds>=51||!Cs((function(){var e=[];return e[Ps]=!1,e.concat()[0]!==e})),ks=function(e){if(!Is(e))return!1;var t=e[Ps];return void 0!==t?!!t:vs(e)};Rs({target:\"Array\",proto:!0,arity:1,forced:!Ls||!Ns(\"concat\")},{concat:function(e){var t,i,n,r,s,o=ys(this),a=Os(o,0),c=0;for(t=-1,n=arguments.length;t<n;t++)if(ks(s=-1===t?o:arguments[t]))for(r=As(s),bs(c+r),i=0;i<r;i++,c++)i in s&&ws(a,c,s[i]);else bs(c+1),ws(a,c++,s);return a.length=c,a}});var Ms={},Us={},xs=ni,Vs=nt,Fs=Qn.indexOf,Bs=Us,js=_e([].push),Gs=function(e,t){var i,n=Vs(e),r=0,s=[];for(i in n)!xs(Bs,i)&&xs(n,i)&&js(s,i);for(;t.length>r;)xs(n,i=t[r++])&&(~Fs(s,i)||js(s,i));return s},Ws=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],Hs=Gs,Ks=Ws,Ys=Object.keys||function(e){return Hs(e,Ks)},qs=Me,Js=rn,zs=nn,Xs=cn,Qs=nt,Zs=Ys;Ms.f=qs&&!Js?Object.defineProperties:function(e,t){Xs(e);for(var i,n=Qs(t),r=Zs(t),s=r.length,o=0;s>o;)zs.f(e,i=r[o++],n[i]);return e};var $s,eo=ut(\"document\",\"documentElement\"),to=ci,io=Qt(\"keys\"),no=function(e){return io[e]||(io[e]=to(e))},ro=cn,so=Ms,oo=Ws,ao=Us,co=eo,lo=Di,ho=\"prototype\",uo=\"script\",po=no(\"IE_PROTO\"),_o=function(){},Eo=function(e){return\"<\"+uo+\">\"+e+\"</\"+uo+\">\"},mo=function(e){e.write(Eo(\"\")),e.close();var t=e.parentWindow.Object;return e=null,t},fo=function(){try{$s=new ActiveXObject(\"htmlfile\")}catch(e){}var e,t,i;fo=\"undefined\"!=typeof document?document.domain&&$s?mo($s):(t=lo(\"iframe\"),i=\"java\"+uo+\":\",t.style.display=\"none\",co.appendChild(t),t.src=String(i),(e=t.contentWindow.document).open(),e.write(Eo(\"document.F=Object\")),e.close(),e.F):mo($s);for(var n=oo.length;n--;)delete fo[ho][oo[n]];return fo()};ao[po]=!0;var go=Object.create||function(e,t){var i;return null!==e?(_o[ho]=ro(e),i=new _o,_o[ho]=null,i[po]=e):i=fo(),void 0===t?i:so.f(i,t)},So={},To=Gs,Ro=Ws.concat(\"length\",\"prototype\");So.f=Object.getOwnPropertyNames||function(e){return To(e,Ro)};var Co={},vo=Gn,Io=Yn,yo=Yr,Ao=Array,bo=Math.max,wo=function(e,t,i){for(var n=Io(e),r=vo(t,n),s=vo(void 0===i?n:i,n),o=Ao(bo(s-r,0)),a=0;r<s;r++,a++)yo(o,a,e[r]);return o.length=a,o},Oo=Ae,No=nt,Do=So.f,Po=wo,Lo=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Co.f=function(e){return Lo&&\"Window\"==Oo(e)?function(e){try{return Do(e)}catch(e){return Po(Lo)}}(e):Do(No(e))};var ko={};ko.f=Object.getOwnPropertySymbols;var Mo=Cn,Uo=function(e,t,i,n){return n&&n.enumerable?e[t]=i:Mo(e,t,i),e},xo=nn,Vo=function(e,t,i){return xo.f(e,t,i)},Fo={},Bo=fi;Fo.f=Bo;var jo,Go,Wo,Ho=at,Ko=ni,Yo=Fo,qo=nn.f,Jo=function(e){var t=Ho.Symbol||(Ho.Symbol={});Ko(t,e)||qo(t,e,{value:Yo.f(e)})},zo=Ve,Xo=ut,Qo=fi,Zo=Uo,$o=function(){var e=Xo(\"Symbol\"),t=e&&e.prototype,i=t&&t.valueOf,n=Qo(\"toPrimitive\");t&&!t[n]&&Zo(t,n,(function(e){return zo(i,this)}),{arity:1})},ea=Er,ta=cr?{}.toString:function(){return\"[object \"+ea(this)+\"]\"},ia=cr,na=nn.f,ra=Cn,sa=ni,oa=ta,aa=fi(\"toStringTag\"),ca=function(e,t,i,n){if(e){var r=i?e:e.prototype;sa(r,aa)||na(r,aa,{configurable:!0,value:t}),n&&!ia&&ra(r,\"toString\",oa)}},da=Le,la=fe.WeakMap,ha=da(la)&&/native code/.test(String(la)),ua=fe,pa=ot,_a=Cn,Ea=ni,ma=zt,fa=no,ga=Us,Sa=\"Object already initialized\",Ta=ua.TypeError,Ra=ua.WeakMap;if(ha||ma.state){var Ca=ma.state||(ma.state=new Ra);Ca.get=Ca.get,Ca.has=Ca.has,Ca.set=Ca.set,jo=function(e,t){if(Ca.has(e))throw Ta(Sa);return t.facade=e,Ca.set(e,t),t},Go=function(e){return Ca.get(e)||{}},Wo=function(e){return Ca.has(e)}}else{var va=fa(\"state\");ga[va]=!0,jo=function(e,t){if(Ea(e,va))throw Ta(Sa);return t.facade=e,_a(e,va,t),t},Go=function(e){return Ea(e,va)?e[va]:{}},Wo=function(e){return Ea(e,va)}}var Ia={set:jo,get:Go,has:Wo,enforce:function(e){return Wo(e)?Go(e):jo(e,{})},getterFor:function(e){return function(t){var i;if(!pa(t)||(i=Go(t)).type!==e)throw Ta(\"Incompatible receiver, \"+e+\" required\");return i}}},ya=tn,Aa=Xe,ba=ei,wa=Yn,Oa=fs,Na=_e([].push),Da=function(e){var t=1==e,i=2==e,n=3==e,r=4==e,s=6==e,o=7==e,a=5==e||s;return function(c,d,l,h){for(var u,p,_=ba(c),E=Aa(_),m=ya(d,l),f=wa(E),g=0,S=h||Oa,T=t?S(c,f):i||o?S(c,0):void 0;f>g;g++)if((a||g in E)&&(p=m(u=E[g],g,_),e))if(t)T[g]=p;else if(p)switch(e){case 3:return!0;case 5:return u;case 6:return g;case 2:Na(T,u)}else switch(e){case 4:return!1;case 7:Na(T,u)}return s?-1:n||r?r:T}},Pa={forEach:Da(0),map:Da(1),filter:Da(2),some:Da(3),every:Da(4),find:Da(5),findIndex:Da(6),filterReject:Da(7)},La=kn,ka=fe,Ma=Ve,Ua=_e,xa=Me,Va=It,Fa=ce,Ba=ni,ja=Ee,Ga=cn,Wa=nt,Ha=bi,Ka=gr,Ya=Ke,qa=go,Ja=Ys,za=So,Xa=Co,Qa=ko,Za=ke,$a=nn,ec=Ms,tc=Fe,ic=Uo,nc=Vo,rc=Qt,sc=Us,oc=ci,ac=fi,cc=Fo,dc=Jo,lc=$o,hc=ca,uc=Ia,pc=Pa.forEach,_c=no(\"hidden\"),Ec=\"Symbol\",mc=\"prototype\",fc=uc.set,gc=uc.getterFor(Ec),Sc=Object[mc],Tc=ka.Symbol,Rc=Tc&&Tc[mc],Cc=ka.TypeError,vc=ka.QObject,Ic=Za.f,yc=$a.f,Ac=Xa.f,bc=tc.f,wc=Ua([].push),Oc=rc(\"symbols\"),Nc=rc(\"op-symbols\"),Dc=rc(\"wks\"),Pc=!vc||!vc[mc]||!vc[mc].findChild,Lc=xa&&Fa((function(){return 7!=qa(yc({},\"a\",{get:function(){return yc(this,\"a\",{value:7}).a}})).a}))?function(e,t,i){var n=Ic(Sc,t);n&&delete Sc[t],yc(e,t,i),n&&e!==Sc&&yc(Sc,t,n)}:yc,kc=function(e,t){var i=Oc[e]=qa(Rc);return fc(i,{type:Ec,tag:e,description:t}),xa||(i.description=t),i},Mc=function(e,t,i){e===Sc&&Mc(Nc,t,i),Ga(e);var n=Ha(t);return Ga(i),Ba(Oc,n)?(i.enumerable?(Ba(e,_c)&&e[_c][n]&&(e[_c][n]=!1),i=qa(i,{enumerable:Ya(0,!1)})):(Ba(e,_c)||yc(e,_c,Ya(1,{})),e[_c][n]=!0),Lc(e,n,i)):yc(e,n,i)},Uc=function(e,t){Ga(e);var i=Wa(t),n=Ja(i).concat(Bc(i));return pc(n,(function(t){xa&&!Ma(xc,i,t)||Mc(e,t,i[t])})),e},xc=function(e){var t=Ha(e),i=Ma(bc,this,t);return!(this===Sc&&Ba(Oc,t)&&!Ba(Nc,t))&&(!(i||!Ba(this,t)||!Ba(Oc,t)||Ba(this,_c)&&this[_c][t])||i)},Vc=function(e,t){var i=Wa(e),n=Ha(t);if(i!==Sc||!Ba(Oc,n)||Ba(Nc,n)){var r=Ic(i,n);return!r||!Ba(Oc,n)||Ba(i,_c)&&i[_c][n]||(r.enumerable=!0),r}},Fc=function(e){var t=Ac(Wa(e)),i=[];return pc(t,(function(e){Ba(Oc,e)||Ba(sc,e)||wc(i,e)})),i},Bc=function(e){var t=e===Sc,i=Ac(t?Nc:Wa(e)),n=[];return pc(i,(function(e){!Ba(Oc,e)||t&&!Ba(Sc,e)||wc(n,Oc[e])})),n};Va||(Tc=function(){if(ja(Rc,this))throw Cc(\"Symbol is not a constructor\");var e=arguments.length&&void 0!==arguments[0]?Ka(arguments[0]):void 0,t=oc(e),i=function(e){this===Sc&&Ma(i,Nc,e),Ba(this,_c)&&Ba(this[_c],t)&&(this[_c][t]=!1),Lc(this,t,Ya(1,e))};return xa&&Pc&&Lc(Sc,t,{configurable:!0,set:i}),kc(t,e)},ic(Rc=Tc[mc],\"toString\",(function(){return gc(this).tag})),ic(Tc,\"withoutSetter\",(function(e){return kc(oc(e),e)})),tc.f=xc,$a.f=Mc,ec.f=Uc,Za.f=Vc,za.f=Xa.f=Fc,Qa.f=Bc,cc.f=function(e){return kc(ac(e),e)},xa&&nc(Rc,\"description\",{configurable:!0,get:function(){return gc(this).description}})),La({global:!0,constructor:!0,wrap:!0,forced:!Va,sham:!Va},{Symbol:Tc}),pc(Ja(Dc),(function(e){dc(e)})),La({target:Ec,stat:!0,forced:!Va},{useSetter:function(){Pc=!0},useSimple:function(){Pc=!1}}),La({target:\"Object\",stat:!0,forced:!Va,sham:!xa},{create:function(e,t){return void 0===t?qa(e):Uc(qa(e),t)},defineProperty:Mc,defineProperties:Uc,getOwnPropertyDescriptor:Vc}),La({target:\"Object\",stat:!0,forced:!Va},{getOwnPropertyNames:Fc}),lc(),hc(Tc,Ec),sc[_c]=!0;var jc=It&&!!Symbol.for&&!!Symbol.keyFor,Gc=kn,Wc=ut,Hc=ni,Kc=gr,Yc=Qt,qc=jc,Jc=Yc(\"string-to-symbol-registry\"),zc=Yc(\"symbol-to-string-registry\");Gc({target:\"Symbol\",stat:!0,forced:!qc},{for:function(e){var t=Kc(e);if(Hc(Jc,t))return Jc[t];var i=Wc(\"Symbol\")(t);return Jc[t]=i,zc[i]=t,i}});var Xc=kn,Qc=ni,Zc=Nt,$c=Pt,ed=jc,td=Qt(\"symbol-to-string-registry\");Xc({target:\"Symbol\",stat:!0,forced:!ed},{keyFor:function(e){if(!Zc(e))throw TypeError($c(e)+\" is not a symbol\");if(Qc(td,e))return td[e]}});var id=_e([].slice),nd=jr,rd=Le,sd=Ae,od=gr,ad=_e([].push),cd=kn,dd=ut,ld=Ce,hd=Ve,ud=_e,pd=ce,_d=Le,Ed=Nt,md=id,fd=function(e){if(rd(e))return e;if(nd(e)){for(var t=e.length,i=[],n=0;n<t;n++){var r=e[n];\"string\"==typeof r?ad(i,r):\"number\"!=typeof r&&\"Number\"!=sd(r)&&\"String\"!=sd(r)||ad(i,od(r))}var s=i.length,o=!0;return function(e,t){if(o)return o=!1,t;if(nd(this))return t;for(var n=0;n<s;n++)if(i[n]===e)return t}}},gd=It,Sd=String,Td=dd(\"JSON\",\"stringify\"),Rd=ud(/./.exec),Cd=ud(\"\".charAt),vd=ud(\"\".charCodeAt),Id=ud(\"\".replace),yd=ud(1..toString),Ad=/[\\uD800-\\uDFFF]/g,bd=/^[\\uD800-\\uDBFF]$/,wd=/^[\\uDC00-\\uDFFF]$/,Od=!gd||pd((function(){var e=dd(\"Symbol\")();return\"[null]\"!=Td([e])||\"{}\"!=Td({a:e})||\"{}\"!=Td(Object(e))})),Nd=pd((function(){return'\"\\\\udf06\\\\ud834\"'!==Td(\"\\udf06\\ud834\")||'\"\\\\udead\"'!==Td(\"\\udead\")})),Dd=function(e,t){var i=md(arguments),n=fd(t);if(_d(n)||void 0!==e&&!Ed(e))return i[1]=function(e,t){if(_d(n)&&(t=hd(n,this,Sd(e),t)),!Ed(t))return t},ld(Td,null,i)},Pd=function(e,t,i){var n=Cd(i,t-1),r=Cd(i,t+1);return Rd(bd,e)&&!Rd(wd,r)||Rd(wd,e)&&!Rd(bd,n)?\"\\\\u\"+yd(vd(e,0),16):e};Td&&cd({target:\"JSON\",stat:!0,arity:3,forced:Od||Nd},{stringify:function(e,t,i){var n=md(arguments),r=ld(Od?Dd:Td,null,n);return Nd&&\"string\"==typeof r?Id(r,Ad,Pd):r}});var Ld=ko,kd=ei;kn({target:\"Object\",stat:!0,forced:!It||ce((function(){Ld.f(1)}))},{getOwnPropertySymbols:function(e){var t=Ld.f;return t?t(kd(e)):[]}}),Jo(\"asyncIterator\"),Jo(\"hasInstance\"),Jo(\"isConcatSpreadable\"),Jo(\"iterator\"),Jo(\"match\"),Jo(\"matchAll\"),Jo(\"replace\"),Jo(\"search\"),Jo(\"species\"),Jo(\"split\");var Md=$o;Jo(\"toPrimitive\"),Md();var Ud=ut,xd=ca;Jo(\"toStringTag\"),xd(Ud(\"Symbol\"),\"Symbol\"),Jo(\"unscopables\"),ca(fe.JSON,\"JSON\",!0);var Vd,Fd,Bd,jd=at.Symbol,Gd={},Wd=Me,Hd=ni,Kd=Function.prototype,Yd=Wd&&Object.getOwnPropertyDescriptor,qd=Hd(Kd,\"name\"),Jd={EXISTS:qd,PROPER:qd&&\"something\"===function(){}.name,CONFIGURABLE:qd&&(!Wd||Wd&&Yd(Kd,\"name\").configurable)},zd=!ce((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Xd=ni,Qd=Le,Zd=ei,$d=zd,el=no(\"IE_PROTO\"),tl=Object,il=tl.prototype,nl=$d?tl.getPrototypeOf:function(e){var t=Zd(e);if(Xd(t,el))return t[el];var i=t.constructor;return Qd(i)&&t instanceof i?i.prototype:t instanceof tl?il:null},rl=ce,sl=Le,ol=ot,al=go,cl=nl,dl=Uo,ll=fi(\"iterator\"),hl=!1;[].keys&&(\"next\"in(Bd=[].keys())?(Fd=cl(cl(Bd)))!==Object.prototype&&(Vd=Fd):hl=!0);var ul=!ol(Vd)||rl((function(){var e={};return Vd[ll].call(e)!==e}));sl((Vd=ul?{}:al(Vd))[ll])||dl(Vd,ll,(function(){return this}));var pl={IteratorPrototype:Vd,BUGGY_SAFARI_ITERATORS:hl},_l=pl.IteratorPrototype,El=go,ml=Ke,fl=ca,gl=Gd,Sl=function(){return this},Tl=_e,Rl=Ut,Cl=Le,vl=String,Il=TypeError,yl=function(e,t,i){try{return Tl(Rl(Object.getOwnPropertyDescriptor(e,t)[i]))}catch(e){}},Al=cn,bl=function(e){if(\"object\"==typeof e||Cl(e))return e;throw Il(\"Can't set \"+vl(e)+\" as a prototype\")},wl=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var e,t=!1,i={};try{(e=yl(Object.prototype,\"__proto__\",\"set\"))(i,[]),t=i instanceof Array}catch(e){}return function(i,n){return Al(i),bl(n),t?e(i,n):i.__proto__=n,i}}():void 0),Ol=kn,Nl=Ve,Dl=Jd,Pl=function(e,t,i,n){var r=t+\" Iterator\";return e.prototype=El(_l,{next:ml(+!n,i)}),fl(e,r,!1,!0),gl[r]=Sl,e},Ll=nl,kl=ca,Ml=Uo,Ul=Gd,xl=pl,Vl=Dl.PROPER,Fl=xl.BUGGY_SAFARI_ITERATORS,Bl=fi(\"iterator\"),jl=\"keys\",Gl=\"values\",Wl=\"entries\",Hl=function(){return this},Kl=function(e,t,i,n,r,s,o){Pl(i,t,n);var a,c,d,l=function(e){if(e===r&&E)return E;if(!Fl&&e in p)return p[e];switch(e){case jl:case Gl:case Wl:return function(){return new i(this,e)}}return function(){return new i(this)}},h=t+\" Iterator\",u=!1,p=e.prototype,_=p[Bl]||p[\"@@iterator\"]||r&&p[r],E=!Fl&&_||l(r),m=\"Array\"==t&&p.entries||_;if(m&&(a=Ll(m.call(new e)))!==Object.prototype&&a.next&&(kl(a,h,!0,!0),Ul[h]=Hl),Vl&&r==Gl&&_&&_.name!==Gl&&(u=!0,E=function(){return Nl(_,this)}),r)if(c={values:l(Gl),keys:s?E:l(jl),entries:l(Wl)},o)for(d in c)(Fl||u||!(d in p))&&Ml(p,d,c[d]);else Ol({target:t,proto:!0,forced:Fl||u},c);return o&&p[Bl]!==E&&Ml(p,Bl,E,{name:r}),Ul[t]=E,c},Yl=function(e,t){return{value:e,done:t}},ql=nt,Jl=Gd,zl=Ia;nn.f;var Xl=Kl,Ql=Yl,Zl=\"Array Iterator\",$l=zl.set,eh=zl.getterFor(Zl);Xl(Array,\"Array\",(function(e,t){$l(this,{type:Zl,target:ql(e),index:0,kind:t})}),(function(){var e=eh(this),t=e.target,i=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,Ql(void 0,!0)):Ql(\"keys\"==i?n:\"values\"==i?t[n]:[n,t[n]],!1)}),\"values\"),Jl.Arguments=Jl.Array;var th={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ih=fe,nh=Er,rh=Cn,sh=Gd,oh=fi(\"toStringTag\");for(var ah in th){var ch=ih[ah],dh=ch&&ch.prototype;dh&&nh(dh)!==oh&&rh(dh,oh,ah),sh[ah]=sh.Array}var lh=jd,hh=fi,uh=nn.f,ph=hh(\"metadata\"),_h=Function.prototype;void 0===_h[ph]&&uh(_h,ph,{value:null}),Jo(\"dispose\"),Jo(\"metadata\");var Eh=lh;Jo(\"asyncDispose\");var mh=_e,fh=ut(\"Symbol\"),gh=fh.keyFor,Sh=mh(fh.prototype.valueOf),Th=fh.isRegisteredSymbol||function(e){try{return void 0!==gh(Sh(e))}catch(e){return!1}};kn({target:\"Symbol\",stat:!0},{isRegisteredSymbol:Th});for(var Rh=Qt,Ch=ut,vh=_e,Ih=Nt,yh=fi,Ah=Ch(\"Symbol\"),bh=Ah.isWellKnownSymbol,wh=Ch(\"Object\",\"getOwnPropertyNames\"),Oh=vh(Ah.prototype.valueOf),Nh=Rh(\"wks\"),Dh=0,Ph=wh(Ah),Lh=Ph.length;Dh<Lh;Dh++)try{var kh=Ph[Dh];Ih(Ah[kh])&&yh(kh)}catch(e){}var Mh=function(e){if(bh&&bh(e))return!0;try{for(var t=Oh(e),i=0,n=wh(Nh),r=n.length;i<r;i++)if(Nh[n[i]]==t)return!0}catch(e){}return!1};kn({target:\"Symbol\",stat:!0,forced:!0},{isWellKnownSymbol:Mh}),Jo(\"matcher\"),Jo(\"observable\"),kn({target:\"Symbol\",stat:!0,name:\"isRegisteredSymbol\"},{isRegistered:Th}),kn({target:\"Symbol\",stat:!0,name:\"isWellKnownSymbol\",forced:!0},{isWellKnown:Mh}),Jo(\"metadataKey\"),Jo(\"patternMatch\"),Jo(\"replaceAll\");var Uh=J(Eh),xh=_e,Vh=Vn,Fh=gr,Bh=et,jh=xh(\"\".charAt),Gh=xh(\"\".charCodeAt),Wh=xh(\"\".slice),Hh=function(e){return function(t,i){var n,r,s=Fh(Bh(t)),o=Vh(i),a=s.length;return o<0||o>=a?e?\"\":void 0:(n=Gh(s,o))<55296||n>56319||o+1===a||(r=Gh(s,o+1))<56320||r>57343?e?jh(s,o):n:e?Wh(s,o,o+2):r-56320+(n-55296<<10)+65536}},Kh={codeAt:Hh(!1),charAt:Hh(!0)}.charAt,Yh=gr,qh=Ia,Jh=Kl,zh=Yl,Xh=\"String Iterator\",Qh=qh.set,Zh=qh.getterFor(Xh);Jh(String,\"String\",(function(e){Qh(this,{type:Xh,string:Yh(e),index:0})}),(function(){var e,t=Zh(this),i=t.string,n=t.index;return n>=i.length?zh(void 0,!0):(e=Kh(i,n),t.index+=e.length,zh(e,!1))}));var $h=J(Fo.f(\"iterator\"));function eu(e){return eu=\"function\"==typeof Uh&&\"symbol\"==typeof $h?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Uh&&e.constructor===Uh&&e!==Uh.prototype?\"symbol\":typeof e},eu(e)}var tu=J(Fo.f(\"toPrimitive\"));function iu(e){var t=function(e,t){if(\"object\"!==eu(e)||null===e)return e;var i=e[tu];if(void 0!==i){var n=i.call(e,t||\"default\");if(\"object\"!==eu(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===eu(t)?t:String(t)}function nu(e,t,i){return(t=iu(t))in e?Fr(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ru=er(\"Array\").keys,su=Er,ou=ni,au=Ee,cu=ru,du=Array.prototype,lu={DOMTokenList:!0,NodeList:!0},hu=J((function(e){var t=e.keys;return e===du||au(du,e)&&t===du.keys||ou(lu,su(e))?cu:t})),uu=Pt,pu=TypeError,_u=wo,Eu=Math.floor,mu=function(e,t){var i=e.length,n=Eu(i/2);return i<8?fu(e,t):gu(e,mu(_u(e,0,n),t),mu(_u(e,n),t),t)},fu=function(e,t){for(var i,n,r=e.length,s=1;s<r;){for(n=s,i=e[s];n&&t(e[n-1],i)>0;)e[n]=e[--n];n!==s++&&(e[n]=i)}return e},gu=function(e,t,i,n){for(var r=t.length,s=i.length,o=0,a=0;o<r||a<s;)e[o+a]=o<r&&a<s?n(t[o],i[a])<=0?t[o++]:i[a++]:o<r?t[o++]:i[a++];return e},Su=mu,Tu=ce,Ru=function(e,t){var i=[][e];return!!i&&Tu((function(){i.call(null,t||function(){return 1},1)}))},Cu=pt.match(/firefox\\/(\\d+)/i),vu=!!Cu&&+Cu[1],Iu=/MSIE|Trident/.test(pt),yu=pt.match(/AppleWebKit\\/(\\d+)\\./),Au=!!yu&&+yu[1],bu=kn,wu=_e,Ou=Ut,Nu=ei,Du=Yn,Pu=function(e,t){if(!delete e[t])throw pu(\"Cannot delete property \"+uu(t)+\" of \"+uu(e))},Lu=gr,ku=ce,Mu=Su,Uu=Ru,xu=vu,Vu=Iu,Fu=Tt,Bu=Au,ju=[],Gu=wu(ju.sort),Wu=wu(ju.push),Hu=ku((function(){ju.sort(void 0)})),Ku=ku((function(){ju.sort(null)})),Yu=Uu(\"sort\"),qu=!ku((function(){if(Fu)return Fu<70;if(!(xu&&xu>3)){if(Vu)return!0;if(Bu)return Bu<603;var e,t,i,n,r=\"\";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)ju.push({k:t+n,v:i})}for(ju.sort((function(e,t){return t.v-e.v})),n=0;n<ju.length;n++)t=ju[n].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return\"DGBEFHACIJK\"!==r}}));bu({target:\"Array\",proto:!0,forced:Hu||!Ku||!Yu||!qu},{sort:function(e){void 0!==e&&Ou(e);var t=Nu(this);if(qu)return void 0===e?Gu(t):Gu(t,e);var i,n,r=[],s=Du(t);for(n=0;n<s;n++)n in t&&Wu(r,t[n]);for(Mu(r,function(e){return function(t,i){return void 0===i?-1:void 0===t?1:void 0!==e?+e(t,i)||0:Lu(t)>Lu(i)?1:-1}}(e)),i=Du(r),n=0;n<i;)t[n]=r[n++];for(;n<s;)Pu(t,n++);return t}});var Ju=er(\"Array\").sort,zu=Ee,Xu=Ju,Qu=Array.prototype,Zu=J((function(e){var t=e.sort;return e===Qu||zu(Qu,e)&&t===Qu.sort?Xu:t})),$u=ut,ep=So,tp=ko,ip=cn,np=_e([].concat),rp=$u(\"Reflect\",\"ownKeys\")||function(e){var t=ep.f(ip(e)),i=tp.f;return i?np(t,i(e)):t},sp=ni,op=rp,ap=ke,cp=nn,dp=ot,lp=Cn,hp=Error,up=_e(\"\".replace),pp=String(hp(\"zxcasd\").stack),_p=/\\n\\s*at [^:]*:[^\\n]*/,Ep=_p.test(pp),mp=Ke,fp=!ce((function(){var e=Error(\"a\");return!(\"stack\"in e)||(Object.defineProperty(e,\"stack\",mp(1,7)),7!==e.stack)})),gp=Cn,Sp=function(e,t){if(Ep&&\"string\"==typeof e&&!hp.prepareStackTrace)for(;t--;)e=up(e,_p,\"\");return e},Tp=fp,Rp=Error.captureStackTrace,Cp=Gd,vp=fi(\"iterator\"),Ip=Array.prototype,yp=Er,Ap=Ft,bp=Qe,wp=Gd,Op=fi(\"iterator\"),Np=function(e){if(!bp(e))return Ap(e,Op)||Ap(e,\"@@iterator\")||wp[yp(e)]},Dp=Ve,Pp=Ut,Lp=cn,kp=Pt,Mp=Np,Up=TypeError,xp=Ve,Vp=cn,Fp=Ft,Bp=tn,jp=Ve,Gp=cn,Wp=Pt,Hp=function(e){return void 0!==e&&(Cp.Array===e||Ip[vp]===e)},Kp=Yn,Yp=Ee,qp=function(e,t){var i=arguments.length<2?Mp(e):t;if(Pp(i))return Lp(Dp(i,e));throw Up(kp(e)+\" is not iterable\")},Jp=Np,zp=function(e,t,i){var n,r;Vp(e);try{if(!(n=Fp(e,\"return\"))){if(\"throw\"===t)throw i;return i}n=xp(n,e)}catch(e){r=!0,n=e}if(\"throw\"===t)throw i;if(r)throw n;return Vp(n),i},Xp=TypeError,Qp=function(e,t){this.stopped=e,this.result=t},Zp=Qp.prototype,$p=function(e,t,i){var n,r,s,o,a,c,d,l=i&&i.that,h=!(!i||!i.AS_ENTRIES),u=!(!i||!i.IS_RECORD),p=!(!i||!i.IS_ITERATOR),_=!(!i||!i.INTERRUPTED),E=Bp(t,l),m=function(e){return n&&zp(n,\"normal\",e),new Qp(!0,e)},f=function(e){return h?(Gp(e),_?E(e[0],e[1],m):E(e[0],e[1])):_?E(e,m):E(e)};if(u)n=e.iterator;else if(p)n=e;else{if(!(r=Jp(e)))throw Xp(Wp(e)+\" is not iterable\");if(Hp(r)){for(s=0,o=Kp(e);o>s;s++)if((a=f(e[s]))&&Yp(Zp,a))return a;return new Qp(!1)}n=qp(e,r)}for(c=u?e.next:n.next;!(d=jp(c,n)).done;){try{a=f(d.value)}catch(e){zp(n,\"throw\",e)}if(\"object\"==typeof a&&a&&Yp(Zp,a))return a}return new Qp(!1)},e_=gr,t_=kn,i_=Ee,n_=nl,r_=wl,s_=function(e,t,i){for(var n=op(t),r=cp.f,s=ap.f,o=0;o<n.length;o++){var a=n[o];sp(e,a)||i&&sp(i,a)||r(e,a,s(t,a))}},o_=go,a_=Cn,c_=Ke,d_=function(e,t){dp(t)&&\"cause\"in t&&lp(e,\"cause\",t.cause)},l_=function(e,t,i,n){Tp&&(Rp?Rp(e,t):gp(e,\"stack\",Sp(i,n)))},h_=$p,u_=function(e,t){return void 0===e?arguments.length<2?\"\":t:e_(e)},p_=fi(\"toStringTag\"),__=Error,E_=[].push,m_=function(e,t){var i,n=i_(f_,this);r_?i=r_(__(),n?n_(this):f_):(i=n?this:o_(f_),a_(i,p_,\"Error\")),void 0!==t&&a_(i,\"message\",u_(t)),l_(i,m_,i.stack,1),arguments.length>2&&d_(i,arguments[2]);var r=[];return h_(e,E_,{that:r}),a_(i,\"errors\",r),i};r_?r_(m_,__):s_(m_,__,{name:!0});var f_=m_.prototype=o_(__.prototype,{constructor:c_(1,m_),message:c_(1,\"\"),name:c_(1,\"AggregateError\")});t_({global:!0,constructor:!0,arity:2},{AggregateError:m_});var g_,S_,T_,R_,C_=\"undefined\"!=typeof process&&\"process\"==Ae(process),v_=ut,I_=Vo,y_=Me,A_=fi(\"species\"),b_=Ee,w_=TypeError,O_=ls,N_=Pt,D_=TypeError,P_=cn,L_=function(e){if(O_(e))return e;throw D_(N_(e)+\" is not a constructor\")},k_=Qe,M_=fi(\"species\"),U_=function(e,t){var i,n=P_(e).constructor;return void 0===n||k_(i=P_(n)[M_])?t:L_(i)},x_=TypeError,V_=/(?:ipad|iphone|ipod).*applewebkit/i.test(pt),F_=fe,B_=Ce,j_=tn,G_=Le,W_=ni,H_=ce,K_=eo,Y_=id,q_=Di,J_=function(e,t){if(e<t)throw x_(\"Not enough arguments\");return e},z_=V_,X_=C_,Q_=F_.setImmediate,Z_=F_.clearImmediate,$_=F_.process,eE=F_.Dispatch,tE=F_.Function,iE=F_.MessageChannel,nE=F_.String,rE=0,sE={},oE=\"onreadystatechange\";H_((function(){g_=F_.location}));var aE=function(e){if(W_(sE,e)){var t=sE[e];delete sE[e],t()}},cE=function(e){return function(){aE(e)}},dE=function(e){aE(e.data)},lE=function(e){F_.postMessage(nE(e),g_.protocol+\"//\"+g_.host)};Q_&&Z_||(Q_=function(e){J_(arguments.length,1);var t=G_(e)?e:tE(e),i=Y_(arguments,1);return sE[++rE]=function(){B_(t,void 0,i)},S_(rE),rE},Z_=function(e){delete sE[e]},X_?S_=function(e){$_.nextTick(cE(e))}:eE&&eE.now?S_=function(e){eE.now(cE(e))}:iE&&!z_?(R_=(T_=new iE).port2,T_.port1.onmessage=dE,S_=j_(R_.postMessage,R_)):F_.addEventListener&&G_(F_.postMessage)&&!F_.importScripts&&g_&&\"file:\"!==g_.protocol&&!H_(lE)?(S_=lE,F_.addEventListener(\"message\",dE,!1)):S_=oE in q_(\"script\")?function(e){K_.appendChild(q_(\"script\"))[oE]=function(){K_.removeChild(this),aE(e)}}:function(e){setTimeout(cE(e),0)});var hE={set:Q_,clear:Z_},uE=function(){this.head=null,this.tail=null};uE.prototype={add:function(e){var t={item:e,next:null},i=this.tail;i?i.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var pE,_E,EE,mE,fE,gE=uE,SE=/ipad|iphone|ipod/i.test(pt)&&\"undefined\"!=typeof Pebble,TE=/web0s(?!.*chrome)/i.test(pt),RE=fe,CE=tn,vE=ke.f,IE=hE.set,yE=gE,AE=V_,bE=SE,wE=TE,OE=C_,NE=RE.MutationObserver||RE.WebKitMutationObserver,DE=RE.document,PE=RE.process,LE=RE.Promise,kE=vE(RE,\"queueMicrotask\"),ME=kE&&kE.value;if(!ME){var UE=new yE,xE=function(){var e,t;for(OE&&(e=PE.domain)&&e.exit();t=UE.get();)try{t()}catch(e){throw UE.head&&pE(),e}e&&e.enter()};AE||OE||wE||!NE||!DE?!bE&&LE&&LE.resolve?((mE=LE.resolve(void 0)).constructor=LE,fE=CE(mE.then,mE),pE=function(){fE(xE)}):OE?pE=function(){PE.nextTick(xE)}:(IE=CE(IE,RE),pE=function(){IE(xE)}):(_E=!0,EE=DE.createTextNode(\"\"),new NE(xE).observe(EE,{characterData:!0}),pE=function(){EE.data=_E=!_E}),ME=function(e){UE.head||pE(),UE.add(e)}}var VE=ME,FE=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},BE=fe.Promise,jE=\"object\"==typeof Deno&&Deno&&\"object\"==typeof Deno.version,GE=!jE&&!C_&&\"object\"==typeof window&&\"object\"==typeof document,WE=fe,HE=BE,KE=Le,YE=Qi,qE=Xr,JE=fi,zE=GE,XE=jE,QE=Tt,ZE=HE&&HE.prototype,$E=JE(\"species\"),em=!1,tm=KE(WE.PromiseRejectionEvent),im=YE(\"Promise\",(function(){var e=qE(HE),t=e!==String(HE);if(!t&&66===QE)return!0;if(!ZE.catch||!ZE.finally)return!0;if(!QE||QE<51||!/native code/.test(e)){var i=new HE((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((i.constructor={})[$E]=n,!(em=i.then((function(){}))instanceof n))return!0}return!t&&(zE||XE)&&!tm})),nm={CONSTRUCTOR:im,REJECTION_EVENT:tm,SUBCLASSING:em},rm={},sm=Ut,om=TypeError,am=function(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw om(\"Bad Promise constructor\");t=e,i=n})),this.resolve=sm(t),this.reject=sm(i)};rm.f=function(e){return new am(e)};var cm,dm,lm=kn,hm=C_,um=fe,pm=Ve,_m=Uo,Em=ca,mm=function(e){var t=v_(e);y_&&t&&!t[A_]&&I_(t,A_,{configurable:!0,get:function(){return this}})},fm=Ut,gm=Le,Sm=ot,Tm=function(e,t){if(b_(t,e))return e;throw w_(\"Incorrect invocation\")},Rm=U_,Cm=hE.set,vm=VE,Im=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}},ym=FE,Am=gE,bm=Ia,wm=BE,Om=nm,Nm=rm,Dm=\"Promise\",Pm=Om.CONSTRUCTOR,Lm=Om.REJECTION_EVENT,km=bm.getterFor(Dm),Mm=bm.set,Um=wm&&wm.prototype,xm=wm,Vm=Um,Fm=um.TypeError,Bm=um.document,jm=um.process,Gm=Nm.f,Wm=Gm,Hm=!!(Bm&&Bm.createEvent&&um.dispatchEvent),Km=\"unhandledrejection\",Ym=function(e){var t;return!(!Sm(e)||!gm(t=e.then))&&t},qm=function(e,t){var i,n,r,s=t.value,o=1==t.state,a=o?e.ok:e.fail,c=e.resolve,d=e.reject,l=e.domain;try{a?(o||(2===t.rejection&&Zm(t),t.rejection=1),!0===a?i=s:(l&&l.enter(),i=a(s),l&&(l.exit(),r=!0)),i===e.promise?d(Fm(\"Promise-chain cycle\")):(n=Ym(i))?pm(n,i,c,d):c(i)):d(s)}catch(e){l&&!r&&l.exit(),d(e)}},Jm=function(e,t){e.notified||(e.notified=!0,vm((function(){for(var i,n=e.reactions;i=n.get();)qm(i,e);e.notified=!1,t&&!e.rejection&&Xm(e)})))},zm=function(e,t,i){var n,r;Hm?((n=Bm.createEvent(\"Event\")).promise=t,n.reason=i,n.initEvent(e,!1,!0),um.dispatchEvent(n)):n={promise:t,reason:i},!Lm&&(r=um[\"on\"+e])?r(n):e===Km&&Im(\"Unhandled promise rejection\",i)},Xm=function(e){pm(Cm,um,(function(){var t,i=e.facade,n=e.value;if(Qm(e)&&(t=ym((function(){hm?jm.emit(\"unhandledRejection\",n,i):zm(Km,i,n)})),e.rejection=hm||Qm(e)?2:1,t.error))throw t.value}))},Qm=function(e){return 1!==e.rejection&&!e.parent},Zm=function(e){pm(Cm,um,(function(){var t=e.facade;hm?jm.emit(\"rejectionHandled\",t):zm(\"rejectionhandled\",t,e.value)}))},$m=function(e,t,i){return function(n){e(t,n,i)}},ef=function(e,t,i){e.done||(e.done=!0,i&&(e=i),e.value=t,e.state=2,Jm(e,!0))},tf=function(e,t,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===t)throw Fm(\"Promise can't be resolved itself\");var n=Ym(t);n?vm((function(){var i={done:!1};try{pm(n,t,$m(tf,i,e),$m(ef,i,e))}catch(t){ef(i,t,e)}})):(e.value=t,e.state=1,Jm(e,!1))}catch(t){ef({done:!1},t,e)}}};Pm&&(Vm=(xm=function(e){Tm(this,Vm),fm(e),pm(cm,this);var t=km(this);try{e($m(tf,t),$m(ef,t))}catch(e){ef(t,e)}}).prototype,(cm=function(e){Mm(this,{type:Dm,done:!1,notified:!1,parent:!1,reactions:new Am,rejection:!1,state:0,value:void 0})}).prototype=_m(Vm,\"then\",(function(e,t){var i=km(this),n=Gm(Rm(this,xm));return i.parent=!0,n.ok=!gm(e)||e,n.fail=gm(t)&&t,n.domain=hm?jm.domain:void 0,0==i.state?i.reactions.add(n):vm((function(){qm(n,i)})),n.promise})),dm=function(){var e=new cm,t=km(e);this.promise=e,this.resolve=$m(tf,t),this.reject=$m(ef,t)},Nm.f=Gm=function(e){return e===xm||undefined===e?new dm(e):Wm(e)}),lm({global:!0,constructor:!0,wrap:!0,forced:Pm},{Promise:xm}),Em(xm,Dm,!1,!0),mm(Dm);var nf=fi(\"iterator\"),rf=!1;try{var sf=0,of={next:function(){return{done:!!sf++}},return:function(){rf=!0}};of[nf]=function(){return this},Array.from(of,(function(){throw 2}))}catch(e){}var af=BE,cf=function(e,t){if(!t&&!rf)return!1;var i=!1;try{var n={};n[nf]=function(){return{next:function(){return{done:i=!0}}}},e(n)}catch(e){}return i},df=nm.CONSTRUCTOR||!cf((function(e){af.all(e).then(void 0,(function(){}))})),lf=Ve,hf=Ut,uf=rm,pf=FE,_f=$p;kn({target:\"Promise\",stat:!0,forced:df},{all:function(e){var t=this,i=uf.f(t),n=i.resolve,r=i.reject,s=pf((function(){var i=hf(t.resolve),s=[],o=0,a=1;_f(e,(function(e){var c=o++,d=!1;a++,lf(i,t,e).then((function(e){d||(d=!0,s[c]=e,--a||n(s))}),r)})),--a||n(s)}));return s.error&&r(s.value),i.promise}});var Ef=kn,mf=nm.CONSTRUCTOR;BE&&BE.prototype,Ef({target:\"Promise\",proto:!0,forced:mf,real:!0},{catch:function(e){return this.then(void 0,e)}});var ff=Ve,gf=Ut,Sf=rm,Tf=FE,Rf=$p;kn({target:\"Promise\",stat:!0,forced:df},{race:function(e){var t=this,i=Sf.f(t),n=i.reject,r=Tf((function(){var r=gf(t.resolve);Rf(e,(function(e){ff(r,t,e).then(i.resolve,n)}))}));return r.error&&n(r.value),i.promise}});var Cf=Ve,vf=rm;kn({target:\"Promise\",stat:!0,forced:nm.CONSTRUCTOR},{reject:function(e){var t=vf.f(this);return Cf(t.reject,void 0,e),t.promise}});var If=cn,yf=ot,Af=rm,bf=function(e,t){if(If(e),yf(t)&&t.constructor===e)return t;var i=Af.f(e);return(0,i.resolve)(t),i.promise},wf=kn,Of=BE,Nf=nm.CONSTRUCTOR,Df=bf,Pf=ut(\"Promise\"),Lf=!Nf;wf({target:\"Promise\",stat:!0,forced:true},{resolve:function(e){return Df(Lf&&this===Pf?Of:this,e)}});var kf=Ve,Mf=Ut,Uf=rm,xf=FE,Vf=$p;kn({target:\"Promise\",stat:!0,forced:df},{allSettled:function(e){var t=this,i=Uf.f(t),n=i.resolve,r=i.reject,s=xf((function(){var i=Mf(t.resolve),r=[],s=0,o=1;Vf(e,(function(e){var a=s++,c=!1;o++,kf(i,t,e).then((function(e){c||(c=!0,r[a]={status:\"fulfilled\",value:e},--o||n(r))}),(function(e){c||(c=!0,r[a]={status:\"rejected\",reason:e},--o||n(r))}))})),--o||n(r)}));return s.error&&r(s.value),i.promise}});var Ff=Ve,Bf=Ut,jf=ut,Gf=rm,Wf=FE,Hf=$p,Kf=\"No one promise resolved\";kn({target:\"Promise\",stat:!0,forced:df},{any:function(e){var t=this,i=jf(\"AggregateError\"),n=Gf.f(t),r=n.resolve,s=n.reject,o=Wf((function(){var n=Bf(t.resolve),o=[],a=0,c=1,d=!1;Hf(e,(function(e){var l=a++,h=!1;c++,Ff(n,t,e).then((function(e){h||d||(d=!0,r(e))}),(function(e){h||d||(h=!0,o[l]=e,--c||s(new i(o,Kf)))}))})),--c||s(new i(o,Kf))}));return o.error&&s(o.value),n.promise}});var Yf=kn,qf=BE,Jf=ce,zf=ut,Xf=Le,Qf=U_,Zf=bf,$f=qf&&qf.prototype;Yf({target:\"Promise\",proto:!0,real:!0,forced:!!qf&&Jf((function(){$f.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=Qf(this,zf(\"Promise\")),i=Xf(e);return this.then(i?function(i){return Zf(t,e()).then((function(){return i}))}:e,i?function(i){return Zf(t,e()).then((function(){throw i}))}:e)}});var eg=at.Promise,tg=J(eg);const ig=()=>{};function ng(){const e={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:ig};return e.promise=new tg(((t,i)=>{e.resolve=i=>{e.isFinished||(e.isResolved=!0,e.isFinished=!0,t(i),e.value=i)},e.reject=t=>{e.isFinished||(e.isRejected=!0,e.isFinished=!0,i(t))}})),e}const rg=new Map,sg=new Map,og=new Map;var ag,cg;!function(e){e.WIN_10=\"Windows 10\",e.WIN_81=\"Windows 8.1\",e.WIN_8=\"Windows 8\",e.WIN_7=\"Windows 7\",e.WIN_VISTA=\"Windows Vista\",e.WIN_SERVER_2003=\"Windows Server 2003\",e.WIN_XP=\"Windows XP\",e.WIN_2000=\"Windows 2000\",e.ANDROID=\"Android\",e.HARMONY_OS=\"HarmonyOS\",e.OPEN_BSD=\"Open BSD\",e.SUN_OS=\"Sun OS\",e.LINUX=\"Linux\",e.IOS=\"iOS\",e.MAC_OS=\"Mac OS\",e.QNX=\"QNX\",e.UNIX=\"UNIX\",e.BEOS=\"BeOS\",e.OS_2=\"OS/2\",e.SEARCH_BOT=\"Search Bot\"}(ag||(ag={})),function(e){e.CHROME=\"Chrome\",e.SAFARI=\"Safari\",e.EDGE=\"Edge\",e.FIREFOX=\"Firefox\",e.OPERA=\"OPR\",e.QQ=\"QQBrowser\",e.WECHAT=\"MicroMessenger\"}(cg||(cg={}));var dg={exports:{}};!function(e,t){!function(i,n){var r=\"function\",s=\"undefined\",o=\"object\",a=\"string\",c=\"major\",d=\"model\",l=\"name\",h=\"type\",u=\"vendor\",p=\"version\",_=\"architecture\",E=\"console\",m=\"mobile\",f=\"tablet\",g=\"smarttv\",S=\"wearable\",T=\"embedded\",R=\"Amazon\",C=\"Apple\",v=\"ASUS\",I=\"BlackBerry\",y=\"Browser\",A=\"Chrome\",b=\"Firefox\",w=\"Google\",O=\"Huawei\",N=\"LG\",D=\"Microsoft\",P=\"Motorola\",L=\"Opera\",k=\"Samsung\",M=\"Sharp\",U=\"Sony\",x=\"Xiaomi\",V=\"Zebra\",F=\"Facebook\",B=\"Chromium OS\",j=\"Mac OS\",G=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},W=function(e,t){return typeof e===a&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},K=function(e,t){if(typeof e===a)return e=e.replace(/^\\s\\s*/,\"\"),typeof t===s?e:e.substring(0,350)},Y=function(e,t){for(var i,s,a,c,d,l,h=0;h<t.length&&!d;){var u=t[h],p=t[h+1];for(i=s=0;i<u.length&&!d&&u[i];)if(d=u[i++].exec(e))for(a=0;a<p.length;a++)l=d[++s],typeof(c=p[a])===o&&c.length>0?2===c.length?typeof c[1]==r?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3===c.length?typeof c[1]!==r||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):n:this[c[0]]=l?c[1].call(this,l,c[2]):n:4===c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):n):this[c]=l||n;h+=2}},q=function(e,t){for(var i in t)if(typeof t[i]===o&&t[i].length>0){for(var r=0;r<t[i].length;r++)if(W(t[i][r],e))return\"?\"===i?n:i}else if(W(t[i],e))return\"?\"===i?n:i;return e},J={ME:\"4.90\",\"NT 3.11\":\"NT3.51\",\"NT 4.0\":\"NT4.0\",2e3:\"NT 5.0\",XP:[\"NT 5.1\",\"NT 5.2\"],Vista:\"NT 6.0\",7:\"NT 6.1\",8:\"NT 6.2\",8.1:\"NT 6.3\",10:[\"NT 6.4\",\"NT 10.0\"],RT:\"ARM\"},z={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[p,[l,\"Chrome\"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[p,[l,\"Edge\"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[l,p],[/opios[\\/ ]+([\\w\\.]+)/i],[p,[l,L+\" Mini\"]],[/\\bopr\\/([\\w\\.]+)/i],[p,[l,L]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[l,p],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[p,[l,\"UC\"+y]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[p,[l,\"WeChat(Win) Desktop\"]],[/micromessenger\\/([\\w\\.]+)/i],[p,[l,\"WeChat\"]],[/konqueror\\/([\\w\\.]+)/i],[p,[l,\"Konqueror\"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[p,[l,\"IE\"]],[/yabrowser\\/([\\w\\.]+)/i],[p,[l,\"Yandex\"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[l,/(.+)/,\"$1 Secure \"+y],p],[/\\bfocus\\/([\\w\\.]+)/i],[p,[l,b+\" Focus\"]],[/\\bopt\\/([\\w\\.]+)/i],[p,[l,L+\" Touch\"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[p,[l,\"Coc Coc\"]],[/dolfin\\/([\\w\\.]+)/i],[p,[l,\"Dolphin\"]],[/coast\\/([\\w\\.]+)/i],[p,[l,L+\" Coast\"]],[/miuibrowser\\/([\\w\\.]+)/i],[p,[l,\"MIUI \"+y]],[/fxios\\/([-\\w\\.]+)/i],[p,[l,b]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[l,\"360 \"+y]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[l,/(.+)/,\"$1 \"+y],p],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[l,/_/g,\" \"],p],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[l,p],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[l],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[l,F],p],[/(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,/(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[l,p],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[p,[l,\"GSA\"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[p,[l,A+\" Headless\"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[l,A+\" WebView\"],p],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[p,[l,\"Android \"+y]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[l,p],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[p,[l,\"Mobile Safari\"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[p,l],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[l,[p,q,{\"1.0\":\"/8\",1.2:\"/1\",1.3:\"/3\",\"2.0\":\"/412\",\"2.0.2\":\"/416\",\"2.0.3\":\"/417\",\"2.0.4\":\"/419\",\"?\":\"/\"}]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[l,p],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[l,\"Netscape\"],p],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[p,[l,b+\" Reality\"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i,/panasonic;(viera)/i],[l,p],[/(cobalt)\\/([\\w\\.]+)/i],[l,[p,/master.|lts./,\"\"]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[_,\"amd64\"]],[/(ia32(?=;))/i],[[_,H]],[/((?:i[346]|x)86)[;\\)]/i],[[_,\"ia32\"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[_,\"arm64\"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[_,\"armhf\"]],[/windows (ce|mobile); ppc;/i],[[_,\"arm\"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[_,/ower/,\"\",H]],[/(sun4\\w)[;\\)]/i],[[_,\"sparc\"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[_,H]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[u,k],[h,f]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[d,[u,k],[h,m]],[/\\((ip(?:hone|od)[\\w ]*);/i],[d,[u,C],[h,m]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[d,[u,C],[h,f]],[/(macintosh);/i],[d,[u,C]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[d,[u,M],[h,m]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[d,[u,O],[h,f]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[d,[u,O],[h,m]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[d,/_/g,\" \"],[u,x],[h,m]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[d,/_/g,\" \"],[u,x],[h,f]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[d,[u,\"OPPO\"],[h,m]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[d,[u,\"Vivo\"],[h,m]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[d,[u,\"Realme\"],[h,m]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[d,[u,P],[h,m]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[d,[u,P],[h,f]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[u,N],[h,f]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[d,[u,N],[h,m]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[d,[u,\"Lenovo\"],[h,f]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[d,/_/g,\" \"],[u,\"Nokia\"],[h,m]],[/(pixel c)\\b/i],[d,[u,w],[h,f]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[d,[u,w],[h,m]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[d,[u,U],[h,m]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[d,\"Xperia Tablet\"],[u,U],[h,f]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[d,[u,\"OnePlus\"],[h,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[d,[u,R],[h,f]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[d,/(.+)/g,\"Fire Phone $1\"],[u,R],[h,m]],[/(playbook);[-\\w\\),; ]+(rim)/i],[d,u,[h,f]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[d,[u,I],[h,m]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[d,[u,v],[h,f]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[d,[u,v],[h,m]],[/(nexus 9)/i],[d,[u,\"HTC\"],[h,f]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i],[u,[d,/_/g,\" \"],[h,m]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[d,[u,\"Acer\"],[h,f]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[d,[u,\"Meizu\"],[h,m]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[u,d,[h,m]],[/(kobo)\\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[u,d,[h,f]],[/(surface duo)/i],[d,[u,D],[h,f]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[d,[u,\"Fairphone\"],[h,m]],[/(u304aa)/i],[d,[u,\"AT&T\"],[h,m]],[/\\bsie-(\\w*)/i],[d,[u,\"Siemens\"],[h,m]],[/\\b(rct\\w+) b/i],[d,[u,\"RCA\"],[h,f]],[/\\b(venue[\\d ]{2,7}) b/i],[d,[u,\"Dell\"],[h,f]],[/\\b(q(?:mv|ta)\\w+) b/i],[d,[u,\"Verizon\"],[h,f]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[d,[u,\"Barnes & Noble\"],[h,f]],[/\\b(tm\\d{3}\\w+) b/i],[d,[u,\"NuVision\"],[h,f]],[/\\b(k88) b/i],[d,[u,\"ZTE\"],[h,f]],[/\\b(nx\\d{3}j) b/i],[d,[u,\"ZTE\"],[h,m]],[/\\b(gen\\d{3}) b.+49h/i],[d,[u,\"Swiss\"],[h,m]],[/\\b(zur\\d{3}) b/i],[d,[u,\"Swiss\"],[h,f]],[/\\b((zeki)?tb.*\\b) b/i],[d,[u,\"Zeki\"],[h,f]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[u,\"Dragon Touch\"],d,[h,f]],[/\\b(ns-?\\w{0,9}) b/i],[d,[u,\"Insignia\"],[h,f]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[d,[u,\"NextBook\"],[h,f]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[u,\"Voice\"],d,[h,m]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[u,\"LvTel\"],d,[h,m]],[/\\b(ph-1) /i],[d,[u,\"Essential\"],[h,m]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[d,[u,\"Envizen\"],[h,f]],[/\\b(trio[-\\w\\. ]+) b/i],[d,[u,\"MachSpeed\"],[h,f]],[/\\btu_(1491) b/i],[d,[u,\"Rotor\"],[h,f]],[/(shield[\\w ]+) b/i],[d,[u,\"Nvidia\"],[h,f]],[/(sprint) (\\w+)/i],[u,d,[h,m]],[/(kin\\.[onetw]{3})/i],[[d,/\\./g,\" \"],[u,D],[h,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[d,[u,V],[h,f]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[d,[u,V],[h,m]],[/smart-tv.+(samsung)/i],[u,[h,g]],[/hbbtv.+maple;(\\d+)/i],[[d,/^/,\"SmartTV\"],[u,k],[h,g]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[u,N],[h,g]],[/(apple) ?tv/i],[u,[d,C+\" TV\"],[h,g]],[/crkey/i],[[d,A+\"cast\"],[u,w],[h,g]],[/droid.+aft(\\w)( bui|\\))/i],[d,[u,R],[h,g]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[d,[u,M],[h,g]],[/(bravia[\\w ]+)( bui|\\))/i],[d,[u,U],[h,g]],[/(mitv-\\w{5}) bui/i],[d,[u,x],[h,g]],[/Hbbtv.*(technisat) (.*);/i],[u,d,[h,g]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i],[[u,K],[d,K],[h,g]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[h,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[u,d,[h,E]],[/droid.+; (shield) bui/i],[d,[u,\"Nvidia\"],[h,E]],[/(playstation [345portablevi]+)/i],[d,[u,U],[h,E]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[d,[u,D],[h,E]],[/((pebble))app/i],[u,d,[h,S]],[/(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i],[d,[u,C],[h,S]],[/droid.+; (glass) \\d/i],[d,[u,w],[h,S]],[/droid.+; (wt63?0{2,3})\\)/i],[d,[u,V],[h,S]],[/(quest( 2| pro)?)/i],[d,[u,F],[h,S]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[u,[h,T]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[d,[h,m]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[d,[h,f]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[h,f]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[h,m]],[/(android[-\\w\\. ]{0,9});.+buil/i],[d,[u,\"Generic\"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[p,[l,\"EdgeHTML\"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[p,[l,\"Blink\"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i],[l,p],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[p,l]],os:[[/microsoft (windows) (vista|xp)/i],[l,p],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[l,[p,q,J]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[l,\"Windows\"],[p,q,J]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/cfnetwork\\/.+darwin/i],[[p,/_/g,\".\"],[l,\"iOS\"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[l,j],[p,/_/g,\".\"]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[p,l],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[l,p],[/\\(bb(10);/i],[p,[l,I]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[p,[l,\"Symbian\"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[p,[l,b+\" OS\"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[p,[l,\"webOS\"]],[/watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i],[p,[l,\"watchOS\"]],[/crkey\\/([\\d\\.]+)/i],[p,[l,A+\"cast\"]],[/(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i],[[l,B],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\\/(\\d+\\.[\\w\\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[l,p],[/(sunos) ?([\\w\\.\\d]*)/i],[[l,\"Solaris\"],p],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\\w\\.]*)/i],[l,p]]},X=function(e,t){if(typeof e===o&&(t=e,e=n),!(this instanceof X))return new X(e,t).getResult();var E=typeof i!==s&&i.navigator?i.navigator:n,g=e||(E&&E.userAgent?E.userAgent:\"\"),S=E&&E.userAgentData?E.userAgentData:n,T=t?function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i}(z,t):z;return this.getBrowser=function(){var e={};return e[l]=n,e[p]=n,Y.call(e,g,T.browser),e[c]=function(e){return typeof e===a?e.replace(/[^\\d\\.]/g,\"\").split(\".\")[0]:n}(e[p]),E&&E.brave&&typeof E.brave.isBrave==r&&(e[l]=\"Brave\"),e},this.getCPU=function(){var e={};return e[_]=n,Y.call(e,g,T.cpu),e},this.getDevice=function(){var e={};return e[u]=n,e[d]=n,e[h]=n,Y.call(e,g,T.device),!e[h]&&S&&S.mobile&&(e[h]=m),\"Macintosh\"==e[d]&&E&&typeof E.standalone!==s&&E.maxTouchPoints&&E.maxTouchPoints>2&&(e[d]=\"iPad\",e[h]=f),e},this.getEngine=function(){var e={};return e[l]=n,e[p]=n,Y.call(e,g,T.engine),e},this.getOS=function(){var e={};return e[l]=n,e[p]=n,Y.call(e,g,T.os),!e[l]&&S&&\"Unknown\"!=S.platform&&(e[l]=S.platform.replace(/chrome os/i,B).replace(/macos/i,j)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return g},this.setUA=function(e){return g=typeof e===a&&e.length>350?K(e,350):e,this},this.setUA(g),this};X.VERSION=\"0.7.34\",X.BROWSER=G([l,p,c]),X.CPU=G([_]),X.DEVICE=G([d,u,h,E,m,g,f,S,T]),X.ENGINE=X.OS=G([l,p]),e.exports&&(t=e.exports=X),t.UAParser=X;var Q=typeof i!==s&&(i.jQuery||i.Zepto);if(Q&&!Q.ua){var Z=new X;Q.ua=Z.getResult(),Q.ua.get=function(){return Z.getUA()},Q.ua.set=function(e){Z.setUA(e);var t=Z.getResult();for(var i in t)Q.ua[i]=t[i]}}}(\"object\"==typeof window?window:q)}(dg,dg.exports);const lg=new(J(dg.exports));let hg=lg.getResult(),ug=null;function pg(e){if(!ug){e&&lg.setUA(e),hg=lg.getResult();const t=function(e){if(\"Blink\"===e.engine.name&&\"WeChat\"!==e.browser.name)return cg.CHROME;switch(e.browser.name){case\"Chrome Headless\":case\"Chrome\":case\"Chromium\":return cg.CHROME;case\"Safari\":case\"Mobile Safari\":return cg.SAFARI;case\"Edge\":return cg.EDGE;case\"Firefox\":return cg.FIREFOX;case\"QQBrowser\":return cg.QQ;case\"Opera\":return cg.OPERA;case\"WeChat\":return cg.WECHAT;default:return e.browser.name||\"\"}}(hg),i=function(e){let t;t=\"Blink\"===e.engine.name?e.engine.version||\"\":e.browser.version||\"\";return t.split(\".\")[0]}(hg),n=function(e){if(\"Windows\"===e.os.name)return e.os.version?e.os.name+\" \"+e.os.version:e.os.name;return e.os.name||\"\"}(hg),r=hg.os.version;if(!(t&&i&&n&&r))return{name:t,version:i,os:n,osVersion:r};ug={name:t,version:i,os:n,osVersion:r}}return ug}function _g(){return pg().os}function Eg(){const e=pg();return\"\".concat(e.os,\" \").concat(e.osVersion)}function mg(){const e=pg();return!!(\"WebKit\"===hg.engine.name&&e.os===ag.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==cg.SAFARI||Cg()&&e.name!==cg.SAFARI)}function fg(){const e=pg();if(mg()){if(e.os===ag.MAC_OS)return!0;if(e.os===ag.IOS){const e=hg.os.version&&hg.os.version.split(\".\");if(e&&14===Number(e[0])&&e[1]&&Number(e[1])>=3)return!0;if(e&&Number(e[0])>14)return!0}}return!1}function gg(){return\"WebKit\"===hg.engine.name}function Sg(){return pg().name===cg.CHROME}function Tg(){return pg().name===cg.SAFARI}function Rg(){return pg().name===cg.FIREFOX}function Cg(){return pg().os===ag.IOS}function vg(e){const t=pg();return!(t.name!==cg.CHROME||!t.osVersion)&&Number(t.version)>=e}function Ig(e){const t=pg();return!(t.name!==cg.EDGE||!t.osVersion)&&Number(t.version)>=e}function yg(e){const t=pg();return!(t.name!==cg.OPERA||!t.osVersion)&&Number(t.version)>=e}function Ag(){const e=pg();return!(e.name!==cg.CHROME||!e.osVersion)&&Number(e.version)<=90}function bg(){const e=pg();if(e.os!==ag.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return Number(t[0])<14||14===Number(t[0])&&Number(t[1])<=6}function wg(){const e=pg();if(e.os!==ag.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 15===Number(t[0])}function Og(){const e=pg();if(e.os!==ag.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 16===Number(t[0])}function Ng(){const e=pg();if(e.os!==ag.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 15===Number(t[0])&&Number(t[1])>=1}function Dg(){return Tg()&&navigator.maxTouchPoints>0}function Pg(){return pg().name===cg.WECHAT}function Lg(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)&&window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)[1]<=35}function kg(){const e=pg();if(e.name===cg.EDGE||e.name===cg.SAFARI)return!1;return!!navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]./i)}function Mg(){return _g()===ag.ANDROID}function Ug(){const e=pg();return Mg()&&(e.name===cg.CHROME||e.name===cg.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}var xg;!function(e){e.UNEXPECTED_ERROR=\"UNEXPECTED_ERROR\",e.UNEXPECTED_RESPONSE=\"UNEXPECTED_RESPONSE\",e.TIMEOUT=\"TIMEOUT\",e.INVALID_PARAMS=\"INVALID_PARAMS\",e.NOT_READABLE=\"NOT_READABLE\",e.NOT_SUPPORTED=\"NOT_SUPPORTED\",e.INVALID_OPERATION=\"INVALID_OPERATION\",e.OPERATION_ABORTED=\"OPERATION_ABORTED\",e.WEB_SECURITY_RESTRICT=\"WEB_SECURITY_RESTRICT\",e.EXCHANGE_SDP_FAILED=\"EXCHANGE_SDP_FAILED\",e.ADD_CANDIDATE_FAILED=\"ADD_CANDIDATE_FAILED\",e.DATACHANNEL_FAILED=\"DATACHANNEL_FAILED\",e.NETWORK_ERROR=\"NETWORK_ERROR\",e.NETWORK_TIMEOUT=\"NETWORK_TIMEOUT\",e.NETWORK_RESPONSE_ERROR=\"NETWORK_RESPONSE_ERROR\",e.API_INVOKE_TIMEOUT=\"API_INVOKE_TIMEOUT\",e.ENUMERATE_DEVICES_FAILED=\"ENUMERATE_DEVICES_FAILED\",e.DEVICE_NOT_FOUND=\"DEVICE_NOT_FOUND\",e.ELECTRON_IS_NULL=\"ELECTRON_IS_NULL\",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR=\"ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR\",e.CHROME_PLUGIN_NO_RESPONSE=\"CHROME_PLUGIN_NO_RESPONSE\",e.CHROME_PLUGIN_NOT_INSTALL=\"CHROME_PLUGIN_NOT_INSTALL\",e.MEDIA_OPTION_INVALID=\"MEDIA_OPTION_INVALID\",e.PERMISSION_DENIED=\"PERMISSION_DENIED\",e.CONSTRAINT_NOT_SATISFIED=\"CONSTRAINT_NOT_SATISFIED\",e.TRACK_IS_DISABLED=\"TRACK_IS_DISABLED\",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR=\"GET_VIDEO_ELEMENT_VISIBLE_ERROR\",e.SHARE_AUDIO_NOT_ALLOWED=\"SHARE_AUDIO_NOT_ALLOWED\",e.LOW_STREAM_ENCODING_ERROR=\"LOW_STREAM_ENCODING_ERROR\",e.SET_ENCODING_PARAMETER_ERROR=\"SET_ENCODING_PARAMETER_ERROR\",e.TRACK_STATE_UNREACHABLE=\"TRACK_STATE_UNREACHABLE\",e.INVALID_UINT_UID_FROM_STRING_UID=\"INVALID_UINT_UID_FROM_STRING_UID\",e.CAN_NOT_GET_PROXY_SERVER=\"CAN_NOT_GET_PROXY_SERVER\",e.CAN_NOT_GET_GATEWAY_SERVER=\"CAN_NOT_GET_GATEWAY_SERVER\",e.VOID_GATEWAY_ADDRESS=\"VOID_GATEWAY_ADDRESS\",e.UID_CONFLICT=\"UID_CONFLICT\",e.MULTI_UNILBS_RESPONSE_ERROR=\"MULTI_UNILBS_RESPONSE_ERROR\",e.UPDATE_TICKET_FAILED=\"UPDATE_TICKET_FAILED\",e.INVALID_LOCAL_TRACK=\"INVALID_LOCAL_TRACK\",e.INVALID_TRACK=\"INVALID_TRACK\",e.SENDER_NOT_FOUND=\"SENDER_NOT_FOUND\",e.CREATE_OFFER_FAILED=\"CREATE_OFFER_FAILED\",e.SET_ANSWER_FAILED=\"SET_ANSWER_FAILED\",e.ICE_FAILED=\"ICE_FAILED\",e.PC_CLOSED=\"PC_CLOSED\",e.SENDER_REPLACE_FAILED=\"SENDER_REPLACE_FAILED\",e.GET_LOCAL_CAPABILITIES_FAILED=\"GET_LOCAL_CAPABILITIES_FAILED\",e.GET_LOCAL_CONNECTION_PARAMS_FAILED=\"GET_LOCAL_CONNECTION_PARAMS_FAILED\",e.SUBSCRIBE_FAILED=\"SUBSCRIBE_FAILED\",e.UNSUBSCRIBE_FAILED=\"UNSUBSCRIBE_FAILED\",e.GATEWAY_P2P_LOST=\"GATEWAY_P2P_LOST\",e.NO_ICE_CANDIDATE=\"NO_ICE_CANDIDATE\",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS=\"CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS\",e.EXIST_DISABLED_VIDEO_TRACK=\"EXIST_DISABLED_VIDEO_TRACK\",e.INVALID_REMOTE_USER=\"INVALID_REMOTE_USER\",e.REMOTE_USER_IS_NOT_PUBLISHED=\"REMOTE_USER_IS_NOT_PUBLISHED\",e.CUSTOM_REPORT_SEND_FAILED=\"CUSTOM_REPORT_SEND_FAILED\",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH=\"CUSTOM_REPORT_FREQUENCY_TOO_HIGH\",e.FETCH_AUDIO_FILE_FAILED=\"FETCH_AUDIO_FILE_FAILED\",e.READ_LOCAL_AUDIO_FILE_ERROR=\"READ_LOCAL_AUDIO_FILE_ERROR\",e.DECODE_AUDIO_FILE_FAILED=\"DECODE_AUDIO_FILE_FAILED\",e.WS_ABORT=\"WS_ABORT\",e.WS_DISCONNECT=\"WS_DISCONNECT\",e.WS_ERR=\"WS_ERR\",e.LIVE_STREAMING_TASK_CONFLICT=\"LIVE_STREAMING_TASK_CONFLICT\",e.LIVE_STREAMING_INVALID_ARGUMENT=\"LIVE_STREAMING_INVALID_ARGUMENT\",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR=\"LIVE_STREAMING_INTERNAL_SERVER_ERROR\",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED=\"LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED\",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED=\"LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED\",e.LIVE_STREAMING_CDN_ERROR=\"LIVE_STREAMING_CDN_ERROR\",e.LIVE_STREAMING_INVALID_RAW_STREAM=\"LIVE_STREAMING_INVALID_RAW_STREAM\",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT=\"LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT\",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE=\"LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE\",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST=\"LIVE_STREAMING_WARN_FREQUENT_REQUEST\",e.WEBGL_INTERNAL_ERROR=\"WEBGL_INTERNAL_ERROR\",e.BEAUTY_PROCESSOR_INTERNAL_ERROR=\"BEAUTY_PROCESSOR_INTERNAL_ERROR\",e.CROSS_CHANNEL_WAIT_STATUS_ERROR=\"CROSS_CHANNEL_WAIT_STATUS_ERROR\",e.CROSS_CHANNEL_FAILED_JOIN_SRC=\"CROSS_CHANNEL_FAILED_JOIN_SEC\",e.CROSS_CHANNEL_FAILED_JOIN_DEST=\"CROSS_CHANNEL_FAILED_JOIN_DEST\",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST=\"CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST\",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE=\"CROSS_CHANNEL_SERVER_ERROR_RESPONSE\",e.METADATA_OUT_OF_RANGE=\"METADATA_OUT_OF_RANGE\",e.LOCAL_AEC_ERROR=\"LOCAL_AEC_ERROR\",e.INVALID_PLUGIN=\"INVALID_PLUGIN\",e.DISCONNECT_P2P=\"DISCONNECT_P2P\",e.INIT_WEBSOCKET_TIMEOUT=\"INIT_WEBSOCKET_TIMEOUT\",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED=\"CONVERTING_IMAGEDATA_TO_BLOB_FAILED\",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED=\"CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED\",e.INIT_DATACHANNEL_TIMEOUT=\"INIT_DATACHANNEL_TIMEOUT\",e.DATACHANNEL_CONNECTION_TIMEOUT=\"DATACHANNEL_CONNECTION_TIMEOUT\",e.PROHIBITED_OPERATION=\"PROHIBITED_OPERATION\",e.IMAGE_MODERATION_UPLOAD_FAILED=\"IMAGE_MODERATION_UPLOAD_FAILED\"}(xg||(xg={}));let Vg=class extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",i=arguments.length>2?arguments[2]:void 0;super(t),nu(this,\"code\",void 0),nu(this,\"message\",void 0),nu(this,\"data\",void 0),nu(this,\"name\",\"AgoraRTCException\"),this.code=e,this.message=\"AgoraRTCError \".concat(this.code,\": \").concat(t),this.data=i}toString(){return this.data?\"data: \".concat(JSON.stringify(this.data),\"\\n\").concat(this.stack):\"\".concat(this.stack)}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"error\",t=arguments.length>1?arguments[1]:void 0;return\"error\"===e&&(t||console).error(this.toString()),\"warning\"===e&&(t||console).warn(this.toString()),this}throw(e){throw this.print(\"error\",e),this}};function Fg(e,t){if(\"boolean\"!=typeof e)throw new Vg(xg.INVALID_PARAMS,\"Invalid \".concat(t,\": The value is of the boolean type.\"))}function Bg(e,t,i){if(Pr(i).call(i,e))return;throw new Vg(xg.INVALID_PARAMS,\"\".concat(t,\" can only be set as \").concat(JSON.stringify(i)))}function jg(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(e<i||e>n||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!function(e){return\"number\"==typeof e&&e%1==0}(e)){throw new Vg(xg.INVALID_PARAMS,\"invalid \".concat(t,\": the value range is [\").concat(i,\", \").concat(n,\"]. integer only\"))}}function Gg(e,t){if(\"number\"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact)){throw new Vg(xg.INVALID_PARAMS,\"\".concat(t,\" is not a valid ConstrainLong\"))}void 0!==e.min&&jg(e.min,\"\".concat(t,\".min\"),0,1/0),void 0!==e.max&&jg(e.max,\"\".concat(t,\".max\"),1,1/0),void 0!==e.exact&&jg(e.exact,\"\".concat(t,\".exact\"),1,1/0),void 0!==e.ideal&&jg(e.ideal,\"\".concat(t,\".ideal\"),1,1/0)}else jg(e,t,1,1/0)}function Wg(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new Vg(xg.INVALID_PARAMS,\"\".concat(t||\"param\",\" cannot be empty\"));if(!Yg(e,i,n,r))throw new Vg(xg.INVALID_PARAMS,\"Invalid \".concat(t||\"string param\",\": Length of the string: [\").concat(i,\",\").concat(n,\"].\").concat(r?\" ASCII characters only.\":\"\"))}function Hg(e,t){if(!Array.isArray(e))throw new Vg(xg.INVALID_PARAMS,\"\".concat(t,\" should be an array\"))}function Kg(e){return null==e}function Yg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return\"string\"==typeof e&&e.length<=i&&e.length>=t&&(!n||function(e){if(\"string\"!=typeof e)return!1;for(let t=0;t<e.length;t+=1){const i=e.charCodeAt(t);if(i<0||i>255)return!1}return!0}(e))}function qg(e,t,i){if(\"getBigUint64\"in DataView.prototype)return e.getBigUint64(t,i);const n=e.getUint32(t,i),r=e.getUint32(t+4,i),s=Number(!!i),o=Number(!i);return BigInt(n*o+r*s)<<BigInt(32)|BigInt(n*s+r*o)}function Jg(e,t,i,n){if(\"setBigUint64\"in DataView.prototype)return e.setBigUint64(t,i,n);const r=Number(i>>BigInt(32)),s=Number(i&BigInt(4294967295));n?(e.setUint32(t+4,r,n),e.setUint32(t,s,n)):(e.setUint32(t,r,n),e.setUint32(t+4,s,n))}var zg,Xg;!function(e){e.COVERED=\"COVERED\",e.POSITION=\"POSITION\",e.SIZE=\"SIZE\",e.STYLE=\"STYLE\"}(zg||(zg={})),function(e){e.UNMOUNTED=\"UNMOUNTED\",e.INVALID_HTML_ELEMENT=\"INVALID_HTML_ELEMENT\"}(Xg||(Xg={}));const Qg=new class{constructor(){nu(this,\"_clientSize\",null),nu(this,\"getClientWidth\",(()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth)),nu(this,\"getClientHeight\",(()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight)),nu(this,\"getStyle\",(e=>window.getComputedStyle(e,null))),nu(this,\"checkCssVisibleProperty\",(e=>{var t;let i=!0;const n=this.getStyle(e),{display:r,visibility:s,opacity:o,filter:a}=n;if((\"none\"===r||Pr(t=[\"hidden\",\"collapse\"]).call(t,s)||Number(o)<.1)&&(i=!1),!i)return!1;if(a){a.split(\" \").filter((e=>{var t;const i=e.split(\"(\")[0];return Pr(t=[\"brightness\",\"blur\",\"opacity\"]).call(t,i)})).map((e=>{const[t,i]=e.split(/\\(|\\)/);return[t,Number(i.match(/^[0-9\\.]+/))]})).forEach((e=>{const[t,n]=e;switch(t){case\"brightness\":(n<.1||n>3)&&(i=!1);break;case\"blur\":n>3&&(i=!1);break;case\"opacity\":n<.1&&(i=!1)}}))}return i})),nu(this,\"checkPropertyUpToAllParentNodes\",((e,t)=>{let i=!0,n=!0;const r=e=>t(e);let s=e;for(;s&&n;){r(s)||(i=!1,n=!1),s=s.parentElement,s||(n=!1)}return i})),nu(this,\"checkActualCssVisibleIncludeInherit\",(e=>this.checkPropertyUpToAllParentNodes(e,this.checkCssVisibleProperty))),nu(this,\"getSizeAboutClient\",(e=>{const{width:t,height:i,left:n,right:r,top:s,bottom:o}=e.getBoundingClientRect(),a=this.getClientWidth(),c=this.getClientHeight();return{width:t,height:i,left:n,right:r,top:s,bottom:o,clientWidth:a,clientHeight:c,clientMin:Math.min(a,c)}})),nu(this,\"checkActualSize\",(()=>{const{width:e,height:t,clientMin:i}=this._clientSize;return this.checkSizeIsVisible(e,t,i)})),nu(this,\"elementFromPoint\",((e,t)=>document.elementFromPoint?document.elementFromPoint(e,t):null)),nu(this,\"checkCoverForAPoint\",((e,t,i)=>{const n=this.elementFromPoint(e,t);return null!==n&&n!==i})),nu(this,\"getPointPositionList\",(()=>{const{width:e,height:t,left:i,top:n}=this._clientSize,r=e/6,s=t/6,o=[],a=10**6;for(let e=0;e<5;e++)for(let t=0;t<5;t++){const c=(i*a+(0===e?.1:4===e?(r*e*a-1e5)/a:r*e)*a)/a,d=(n*a+(0===t?.1:4===t?(s*t*a-1e5)/a:s*t)*a)/a;o.push({x:c,y:d})}return[...o]})),nu(this,\"checkElementCover\",(e=>this.getPointPositionList().map((t=>this.checkCoverForAPoint(t.x,t.y,e))).filter((e=>!!e)).length>6)),nu(this,\"checkSizeIsVisible\",((e,t,i)=>(e>50||i/e<=10)&&(t>50||i/t<=10))),nu(this,\"checkSizeOfPartInClient\",(()=>{const{left:e,right:t,top:i,bottom:n,clientHeight:r,clientWidth:s,clientMin:o}=this._clientSize;let a,c,d,l;if(e<0)a=0;else{if(!(e<s))return!1;a=e}if(t<0)return!1;if(c=t<s?t:s,i<0)d=0;else{if(!(i<r))return!1;d=i}if(n<0)return!1;l=n<r?n:r;const h=c-a,u=l-d;return this.checkSizeIsVisible(h,u,o)})),nu(this,\"returnHiddenResult\",(e=>(this._clientSize=null,{visible:!1,reason:e}))),nu(this,\"checkOneElementVisible\",(e=>{if(e instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e)){if(this.checkActualCssVisibleIncludeInherit(e)){if(this._clientSize=this.getSizeAboutClient(e),this.checkElementCover(e))return this.returnHiddenResult(zg.COVERED);{const e=this.checkActualSize(),t=this.checkSizeOfPartInClient();return e&&!t?this.returnHiddenResult(zg.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(zg.SIZE)}}return this.returnHiddenResult(zg.STYLE)}return this.returnHiddenResult(Xg.UNMOUNTED)}return this.returnHiddenResult(Xg.INVALID_HTML_ELEMENT)})),nu(this,\"checkElementIsMountedOnDom\",(e=>this.checkPropertyUpToAllParentNodes(e,(e=>\"HTML\"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement))))}};function Zg(e){return(new TextEncoder).encode(e)}const $g=function(e,t){const i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e),0),i.set(new Uint8Array(t),e.byteLength),i};const eS=async e=>{const t=function(e){const t=window.atob(e),i=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e+=1)i[e]=t.charCodeAt(e);return i}(\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\\nxQiYDz3vqa6bP29adwIDAQAB\"),i=await window.crypto.subtle.importKey(\"spki\",t,{name:\"RSA-OAEP\",hash:\"SHA-256\"},!0,[\"encrypt\"]),n=Zg(e),r=await window.crypto.subtle.encrypt({name:\"RSA-OAEP\"},i,n);return function(e){let t=\"\";for(let i=0;i<e.length;i+=1)t+=String.fromCharCode(e[i]);return window.btoa(t)}(new Uint8Array(r))},tS=async e=>function(e,t){let i=\"\";return new Uint8Array(e).forEach((e=>{i+=e.toString(t).padStart(2,\"0\")})),i}(await crypto.subtle.digest(\"SHA-256\",Zg(e)),16);class iS{constructor(){nu(this,\"_events\",{}),nu(this,\"addListener\",this.on)}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const i=this._events[e];-1===this._indexOfListener(i,t)&&i.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const i=this._events[e];-1===this._indexOfListener(i,t)&&i.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const i=this._events[e],n=this._indexOfListener(i,t);-1!==n&&i.splice(n,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];for(let i=0;i<t.length;i+=1){const r=t[i];r.once&&this.off(e,r.listener),r.listener.apply(this,n||[])}}safeEmit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];[...this._events[e]||[]].forEach((t=>{t.once&&this.off(e,t.listener);try{t.listener.apply(this,i)}catch(t){console.error(\"safeEmit event:\".concat(e,\" error \").concat(null==t?void 0:t.toString()))}}))}_indexOfListener(e,t){let i=e.length;for(;i--;)if(e[i].listener===t)return i;return-1}}let nS=null;function rS(){if(nS)return nS;if(window.electron)return nS=window.electron;if(!window.require)return null;try{return nS=window.require(\"electron\"),nS}catch(e){return null}}var sS,oS,aS,cS,dS,lS,hS,uS;function pS(e){return jg(e.timeout,\"config.timeout\",0,1e5),jg(e.timeoutFactor,\"config.timeoutFactor\",0,100,!1),jg(e.maxRetryCount,\"config.maxRetryConfig\",0,1/0),jg(e.maxRetryTimeout,\"config.maxRetryTimeout\",0,1/0),!0}function _S(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach((e=>{if(!e.urls)throw Error()}))}catch(e){return!1}return!0}function ES(e){return Wg(e.turnServerURL,\"turnServerURL\"),Wg(e.username,\"username\"),Wg(e.password,\"password\"),e.udpport&&jg(e.udpport,\"udpport\",1,99999,!0),e.forceturn&&Fg(e.forceturn,\"forceturn\"),e.security&&Fg(e.security,\"security\"),e.tcpport&&jg(e.tcpport,\"tcpport\",1,99999,!0),!0}function mS(e){return void 0!==e.level&&Bg(e.level,\"level\",[1,2,3]),void 0!==e.delay&&jg(e.delay,\"delay\",0,3e3,!0),!0}function fS(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return 0===e.getListeners(t).length?tg.reject(new Vg(xg.UNEXPECTED_ERROR,\"can not emit promise\")):new tg(((i,r)=>{e.emit(t,...n,i,r)}))}function gS(e,t){if(0===e.getListeners(t).length)return tg.resolve();for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return fS(e,t,...n)}function SS(e,t){if(0===e.getListeners(t).length)return null;for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return TS(e,t,...n)}function TS(e,t){let i=null,n=null;for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];if(e.emit(t,...s,(e=>{i=e}),(e=>{n=e})),null!==n)throw n;if(null===i)throw new Vg(xg.UNEXPECTED_ERROR,\"handler is not sync\");return i}!function(e){e.CREATE_CLIENT=\"createClient\",e.CHECK_SYSTEM_REQUIREMENTS=\"checkSystemRequirements\",e.SET_AREA=\"setArea\",e.CHECK_VIDEO_TRACK_IS_ACTIVE=\"checkVideoTrackIsActive\",e.CHECK_AUDIO_TRACK_IS_ACTIVE=\"checkAudioTrackIsActive\",e.CREATE_MIC_AUDIO_TRACK=\"createMicrophoneAudioTrack\",e.CREATE_CUSTOM_AUDIO_TRACK=\"createCustomAudioTrack\",e.CREATE_BUFFER_AUDIO_TRACK=\"createBufferSourceAudioTrack\",e.CREATE_CAM_VIDEO_TRACK=\"createCameraVideoTrack\",e.CREATE_CUSTOM_VIDEO_TRACK=\"createCustomVideoTrack\",e.CREATE_MIC_AND_CAM_TRACKS=\"createMicrophoneAndCameraTracks\",e.CREATE_SCREEN_VIDEO_TRACK=\"createScreenVideoTrack\",e.SET_ENCRYPTION_CONFIG=\"Client.setEncryptionConfig\",e.START_PROXY_SERVER=\"Client.startProxyServer\",e.STOP_PROXY_SERVER=\"Client.stopProxyServer\",e.SET_PROXY_SERVER=\"Client.setProxyServer\",e.SET_TURN_SERVER=\"Client.setTurnServer\",e.SET_CLIENT_ROLE=\"Client.setClientRole\",e.SET_LOW_STREAM_PARAMETER=\"Client.setLowStreamParameter\",e.ENABLE_DUAL_STREAM=\"Client.enableDualStream\",e.DISABLE_DUAL_STREAM=\"Client.disableDualStream\",e.JOIN=\"Client.join\",e.LEAVE=\"Client.leave\",e.PUBLISH=\"Client.publish\",e.UNPUBLISH=\"Client.unpublish\",e.SUBSCRIBE=\"Client.subscribe\",e.MASS_SUBSCRIBE=\"Client.massSubscribe\",e.MASS_UNSUBSCRIBE=\"Client.massUnsubscribe\",e.UNSUBSCRIBE=\"Client.unsubscribe\",e.RENEW_TOKEN=\"Client.renewToken\",e.SET_REMOTE_VIDEO_STREAM_TYPE=\"Client.setRemoteVideoStreamType\",e.SET_STREAM_FALLBACK_OPTION=\"Client.setStreamFallbackOption\",e.ENABLE_AUDIO_VOLUME_INDICATOR=\"Client.enableAudioVolumeIndicator\",e.SEND_CUSTOM_REPORT_MESSAGE=\"Client.sendCustomReportMessage\",e.INSPECT_VIDEO_CONTENT=\"Client.inspectVideoContent\",e.STOP_INSPECT_VIDEO_CONTENT=\"Client.stopInspectVideoContent\",e.JOIN_FALLBACK_TO_PROXY=\"Client._joinFallbackToProxy\",e.DATACHANNEL_FAILBACK=\"Client._datachannelFailback\",e.ON_LIVE_STREAM_WARNING=\"Client.onLiveStreamWarning\",e.ON_LIVE_STREAM_ERROR=\"Client.onLiveStreamingError\",e.START_LIVE_STREAMING=\"Client.startLiveStreaming\",e.SET_LIVE_TRANSCODING=\"Client.setLiveTranscoding\",e.STOP_LIVE_STREAMING=\"Client.stopLiveStreaming\",e.ADD_INJECT_STREAM_URL=\"Client.addInjectStreamUrl\",e.REMOVE_INJECT_STREAM_URL=\"Client.removeInjectStreamUrl\",e.START_CHANNEL_MEDIA_RELAY=\"Client.startChannelMediaRelay\",e.UPDATE_CHANNEL_MEDIA_RELAY=\"Client.updateChannelMediaRelay\",e.STOP_CHANNEL_MEDIA_RELAY=\"Client.stopChannelMediaRelay\",e.REQUEST_CONFIG_DISTRIBUTE=\"_config-distribute-request\",e.SET_CONFIG_DISTRIBUTE=\"_configDistribute\",e.LOCAL_TRACK_SET_MUTED=\"LocalTrack.setMute\",e.LOCAL_AUDIO_TRACK_PLAY=\"LocalAudioTrack.play\",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT=\"LocalAudioTrack.playInElement\",e.LOCAL_AUDIO_TRACK_STOP=\"LocalAudioTrack.stop\",e.LOCAL_AUDIO_TRACK_SET_VOLUME=\"LocalAudioTrack.setVolume\",e.MIC_AUDIO_TRACK_SET_DEVICE=\"MicrophoneAudioTrack.setDevice\",e.BUFFER_AUDIO_TRACK_START=\"BufferSourceAudioTrack.startProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_STOP=\"BufferSourceAudioTrack.stopProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_PAUSE=\"BufferSourceAudioTrack.pauseProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_RESUME=\"BufferSourceAudioTrack.resumeProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_SEEK=\"BufferSourceAudioTrack.seekAudioBuffer\",e.LOCAL_VIDEO_TRACK_PLAY=\"LocalVideoTrack.play\",e.LOCAL_VIDEO_TRACK_STOP=\"LocalVideoTrack.stop\",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE=\"LocalVideoTrack.getVideoElementVisibleStatus\",e.LOCAL_VIDEO_TRACK_BEAUTY=\"LocalVideoTrack.setBeautyEffect\",e.CAM_VIDEO_TRACK_SET_DEVICE=\"CameraVideoTrack.setDevice\",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG=\"CameraVideoTrack.setEncoderConfiguration\",e.REMOTE_VIDEO_TRACK_PLAY=\"RemoteVideoTrack.play\",e.REMOTE_VIDEO_TRACK_STOP=\"RemoteVideoTrack.stop\",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE=\"RemoteVideoTrack.getVideoElementVisibleStatus\",e.REMOTE_AUDIO_TRACK_PLAY=\"RemoteAudioTrack.play\",e.REMOTE_AUDIO_TRACK_STOP=\"RemoteAudioTrack.stop\",e.REMOTE_AUDIO_SET_VOLUME=\"RemoteAudioTrack.setVolume\",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE=\"RemoteAudioTrack.setOutputDevice\",e.GET_MEDIA_STREAM_TRACK=\"Track.getMediaStreamTrack\",e.STREAM_TYPE_CHANGE=\"streamTypeChange\",e.CONNECTION_STATE_CHANGE=\"connectionStateChange\",e.LOAD_CONFIG_FROM_LOCALSTORAGE=\"loadConfigFromLocalStorage\",e.IMAGE_MODERATION_UPLOAD=\"imageModerationUpload\"}(sS||(sS={})),function(e){e.TRACER=\"tracer\"}(oS||(oS={})),function(e){e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]=\"AUDIENCE_LEVEL_LOW_LATENCY\",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]=\"AUDIENCE_LEVEL_ULTRA_LOW_LATENCY\",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]=\"AUDIENCE_LEVEL_SYNC_LATENCY\"}(aS||(aS={})),function(e){e.LEAVE=\"LEAVE\",e.NETWORK_ERROR=\"NETWORK_ERROR\",e.SERVER_ERROR=\"SERVER_ERROR\",e.UID_BANNED=\"UID_BANNED\",e.IP_BANNED=\"IP_BANNED\",e.CHANNEL_BANNED=\"CHANNEL_BANNED\",e.FALLBACK=\"FALLBACK\",e.LICENSE_MISSING=\"LICENSE_MISSING\",e.LICENSE_EXPIRED=\"LICENSE_EXPIRED\",e.LICENSE_MINUTES_EXCEEDED=\"LICENSE_MINUTES_EXCEEDED\",e.LICENSE_PERIOD_INVALID=\"LICENSE_PERIOD_INVALID\",e.LICENSE_MULTIPLE_SDK_SERVICE=\"LICENSE_MULTIPLE_SDK_SERVICE\",e.LICENSE_ILLEGAL=\"LICENSE_ILLEGAL\",e.TOKEN_EXPIRE=\"TOKEN_EXPIRE\"}(cS||(cS={})),function(e){e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.MEDIA_RECONNECT_START=\"media-reconnect-start\",e.MEDIA_RECONNECT_END=\"media-reconnect-end\",e.IS_USING_CLOUD_PROXY=\"is-using-cloud-proxy\",e.USER_JOINED=\"user-joined\",e.USER_LEAVED=\"user-left\",e.USER_PUBLISHED=\"user-published\",e.USER_UNPUBLISHED=\"user-unpublished\",e.USER_INFO_UPDATED=\"user-info-updated\",e.CLIENT_BANNED=\"client-banned\",e.CHANNEL_MEDIA_RELAY_STATE=\"channel-media-relay-state\",e.CHANNEL_MEDIA_RELAY_EVENT=\"channel-media-relay-event\",e.VOLUME_INDICATOR=\"volume-indicator\",e.CRYPT_ERROR=\"crypt-error\",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=\"token-privilege-will-expire\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"token-privilege-did-expire\",e.NETWORK_QUALITY=\"network-quality\",e.STREAM_TYPE_CHANGED=\"stream-type-changed\",e.STREAM_FALLBACK=\"stream-fallback\",e.RECEIVE_METADATA=\"receive-metadata\",e.STREAM_MESSAGE=\"stream-message\",e.LIVE_STREAMING_ERROR=\"live-streaming-error\",e.LIVE_STREAMING_WARNING=\"live-streaming-warning\",e.INJECT_STREAM_STATUS=\"stream-inject-status\",e.EXCEPTION=\"exception\",e.ERROR=\"error\",e.P2P_LOST=\"p2p_lost\",e.JOIN_FALLBACK_TO_PROXY=\"join-fallback-to-proxy\",e.CHANNEL_FALLBACK_TO_WEBSOCKET=\"channel-fallback-to-websocket\",e.MEDIA_CONNECTION_TYPE_CHANGE=\"media-connection-type-change\",e.PUBLISHED_USER_LIST=\"published-user-list\",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE=\"content-inspect-connection-state-change\",e.CONTENT_INSPECT_ERROR=\"content-inspect-error\",e.CONTENT_INSPECT_RESULT=\"content-inspect-result\",e.IMAGE_MODERATION_CONNECTION_STATE_CHANGE=\"image-moderation-connection-state-change\"}(dS||(dS={})),function(e){e.NETWORK_ERROR=\"NETWORK_ERROR\",e.SERVER_ERROR=\"SERVER_ERROR\",e.MULTI_IP=\"MULTI_IP\",e.TIMEOUT=\"TIMEOUT\",e.OFFLINE=\"OFFLINE\",e.LEAVE=\"LEAVE\",e.P2P_FAILED=\"P2P_FAILED\",e.FALLBACK=\"FALLBACK\"}(lS||(lS={})),function(e){e.ONLINE=\"ONLINE\",e.OFFLINE=\"OFFLINE\"}(hS||(hS={})),function(e){e.NETWORK_STATE_CHANGE=\"NETWORK_STATE_CHANGE\",e.ONLINE=\"ONLINE\",e.OFFLINE=\"OFFLINE\"}(uS||(uS={}));const RS=new class extends iS{set networkState(e){this.emit(uS.NETWORK_STATE_CHANGE,e,this._networkState),e===hS.ONLINE?this.emit(uS.ONLINE):e===hS.OFFLINE&&(this.onlineWaiter=new tg((e=>{this.once(uS.ONLINE,(()=>{this.onlineWaiter=void 0,e(hS.ONLINE)}))})),this.emit(uS.OFFLINE)),this._networkState=e}get networkState(){return this._networkState}get isOnline(){return this._networkState===hS.ONLINE}constructor(){super(),nu(this,\"_moduleName\",\"network-indicator\"),nu(this,\"_networkState\",hS.ONLINE),nu(this,\"onlineWaiter\",void 0),window.addEventListener(\"online\",(()=>{this.networkState=hS.ONLINE})),window.addEventListener(\"offline\",(()=>{this.networkState=hS.OFFLINE}))}};function CS(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function vS(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?CS(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):CS(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function IS(e,t){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}function yS(e){const t=[];return e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),t}function AS(e){void 0!==tg?tg.resolve().then(e):setTimeout(e,0)}function bS(e){return JSON.parse(JSON.stringify(e))}function wS(e){try{return bS(e)}catch(t){return e}}const OS={};function NS(e,t){OS[t]||(OS[t]=!0,e())}function DS(e){const t=window.atob(e),i=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e+=1)i[e]=t.charCodeAt(e);return i}function PS(e){let t=\"\";for(let i=0;i<e.length;i+=1)t+=String.fromCharCode(e[i]);return window.btoa(t)}function LS(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function kS(e){let t=0;return/DingTalk/i.test(navigator.userAgent)&&e.realFormData&&(e=e.realFormData),e.forEach((e=>{t+=\"string\"==typeof e?LS(e):e.size})),t+138}function MS(e){const t=new Vg(xg.TIMEOUT,\"timeout\");return new tg(((i,n)=>{window.setTimeout((()=>n(t)),e)}))}function US(e){return new tg((t=>{window.setTimeout(t,e)}))}function xS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const i=Math.random().toString(16).substr(2,e).toLowerCase();return i.length===e?\"\".concat(t).concat(i):\"\".concat(t).concat(i)+xS(e-i.length,\"\")}function VS(){return xS(32,\"\").toUpperCase()}const FS=()=>{};const BS=new class{constructor(){nu(this,\"fnMap\",new Map)}throttleByKey(e,t,i,n){for(var r=arguments.length,s=new Array(r>4?r-4:0),o=4;o<r;o++)s[o-4]=arguments[o];if(this.fnMap.has(t)){const r=this.fnMap.get(t);if(r.threshold!==i){r.fn(...r.args),clearTimeout(r.timer);const o=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),i);this.fnMap.set(t,{fn:e,threshold:i,timer:o,args:s,skipFn:n})}else r.skipFn&&r.skipFn(...r.args),this.fnMap.set(t,vS(vS({},r),{},{fn:e,args:s,skipFn:n}))}else{const r=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),i);this.fnMap.set(t,{fn:e,threshold:i,timer:r,args:s,skipFn:n})}}},jS=BS.throttleByKey.bind(BS);function GS(e){return\"object\"==typeof e&&null!==e&&!(e instanceof RegExp)}function WS(e,t){if(!GS(e)||!GS(t))return t;if(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))return t;if(Array.isArray(t)&&Array.isArray(e)){const i=[...e];for(let n=0;n<t.length;n++)i[n]=WS(e[n],t[n]);return i}{const i=vS({},e);for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Object.prototype.hasOwnProperty.call(e,n)?i[n]=WS(e[n],t[n]):i[n]=t[n]);return i}}let HS=1,KS=console;class YS{static setLogger(e){KS=e}constructor(e){nu(this,\"lockingPromise\",tg.resolve()),nu(this,\"locks\",0),nu(this,\"name\",\"\"),nu(this,\"lockId\",void 0),this.lockId=HS++,e&&(this.name=e),KS.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is created.\"))}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1,KS.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is locked, current queue \").concat(this.locks,\". \").concat(\"string\"==typeof e?e:\"\"));const i=new tg((i=>{t=()=>{this.locks-=1,KS.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is not locked, current queue \").concat(this.locks,\". \").concat(\"string\"==typeof e?e:\"\")),i()}})),n=this.lockingPromise.then((()=>t));return this.lockingPromise=this.lockingPromise.then((()=>i)),n}}function qS(e,t){return function(i,n,r){const s=r.value;if(\"function\"!=typeof s)throw new Error(\"Cannot use mutex on object property.\");return r.value=async function(){const i=this[t];if(!i)throw new Error(\"mutex property key \".concat(t,\" doesn't exist on \").concat(e));const r=await i.lock(\"From \".concat(e,\".\").concat(n));try{for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return await s.apply(this,a)}finally{r()}},r}}const JS={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function zS(e,t){const i=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,i)}function XS(e,t,i,n){const r=Object.assign({},JS,n);let s=r.timeout;const o=async()=>{await function(e){return new tg((t=>{window.setTimeout(t,e)}))}(s),s*=r.timeoutFactor,s=Math.min(r.maxRetryTimeout,s)};let a=!1;const c=new tg((async(n,s)=>{t=t||(()=>!1),i=i||(()=>!0);for(let c=0;c<r.maxRetryCount;c+=1){if(a)return s(new Vg(xg.OPERATION_ABORTED));try{const i=await e();if(!t(i,c))return n(i);if(c+1===r.maxRetryCount)return n(i);await o()}catch(e){if(!i(e,c))return s(e);if(c+1===r.maxRetryCount)return s(e);await o()}}}));return c.cancel=()=>a=!0,c}var QS=Ut,ZS=ei,$S=Xe,eT=Yn,tT=TypeError,iT=function(e){return function(t,i,n,r){QS(i);var s=ZS(t),o=$S(s),a=eT(s),c=e?a-1:0,d=e?-1:1;if(n<2)for(;;){if(c in o){r=o[c],c+=d;break}if(c+=d,e?c<0:a<=c)throw tT(\"Reduce of empty array with no initial value\")}for(;e?c>=0:a>c;c+=d)c in o&&(r=i(r,o[c],c,s));return r}},nT={left:iT(!1),right:iT(!0)}.left;kn({target:\"Array\",proto:!0,forced:!C_&&Tt>79&&Tt<83||!Ru(\"reduce\")},{reduce:function(e){var t=arguments.length;return nT(this,e,t,t>1?arguments[1]:void 0)}});var rT=er(\"Array\").reduce,sT=Ee,oT=rT,aT=Array.prototype,cT=J((function(e){var t=e.reduce;return e===aT||sT(aT,e)&&t===aT.reduce?oT:t}));let dT=class{constructor(e){nu(this,\"input\",[]),nu(this,\"size\",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}mean(){var e;return 0===this.input.length?0:cT(e=this.input).call(e,((e,t)=>e+t))/this.input.length}};var lT,hT={exports:{}},uT=function(e,t){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return e.apply(t,i)}},pT=uT,_T=Object.prototype.toString,ET=(lT=Object.create(null),function(e){var t=_T.call(e);return lT[t]||(lT[t]=t.slice(8,-1).toLowerCase())});function mT(e){return e=e.toLowerCase(),function(t){return ET(t)===e}}function fT(e){return Array.isArray(e)}function gT(e){return void 0===e}var ST=mT(\"ArrayBuffer\");function TT(e){return null!==e&&\"object\"==typeof e}function RT(e){if(\"object\"!==ET(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var CT=mT(\"Date\"),vT=mT(\"File\"),IT=mT(\"Blob\"),yT=mT(\"FileList\");function AT(e){return\"[object Function]\"===_T.call(e)}var bT=mT(\"URLSearchParams\");function wT(e,t){if(null!=e)if(\"object\"!=typeof e&&(e=[e]),fT(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var OT,NT=(OT=\"undefined\"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return OT&&e instanceof OT}),DT={isArray:fT,isArrayBuffer:ST,isBuffer:function(e){return null!==e&&!gT(e)&&null!==e.constructor&&!gT(e.constructor)&&\"function\"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t=\"[object FormData]\";return e&&(\"function\"==typeof FormData&&e instanceof FormData||_T.call(e)===t||AT(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return\"undefined\"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ST(e.buffer)},isString:function(e){return\"string\"==typeof e},isNumber:function(e){return\"number\"==typeof e},isObject:TT,isPlainObject:RT,isUndefined:gT,isDate:CT,isFile:vT,isBlob:IT,isFunction:AT,isStream:function(e){return TT(e)&&AT(e.pipe)},isURLSearchParams:bT,isStandardBrowserEnv:function(){return(\"undefined\"==typeof navigator||\"ReactNative\"!==navigator.product&&\"NativeScript\"!==navigator.product&&\"NS\"!==navigator.product)&&(\"undefined\"!=typeof window&&\"undefined\"!=typeof document)},forEach:wT,merge:function e(){var t={};function i(i,n){RT(t[n])&&RT(i)?t[n]=e(t[n],i):RT(i)?t[n]=e({},i):fT(i)?t[n]=i.slice():t[n]=i}for(var n=0,r=arguments.length;n<r;n++)wT(arguments[n],i);return t},extend:function(e,t,i){return wT(t,(function(t,n){e[n]=i&&\"function\"==typeof t?pT(t,i):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\\s+|\\s+$/g,\"\")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,i,n){e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,i&&Object.assign(e.prototype,i)},toFlatObject:function(e,t,i){var n,r,s,o={};t=t||{};do{for(r=(n=Object.getOwnPropertyNames(e)).length;r-- >0;)o[s=n[r]]||(t[s]=e[s],o[s]=!0);e=Object.getPrototypeOf(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:ET,kindOfTest:mT,endsWith:function(e,t,i){e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;var n=e.indexOf(t,i);return-1!==n&&n===i},toArray:function(e){if(!e)return null;var t=e.length;if(gT(t))return null;for(var i=new Array(t);t-- >0;)i[t]=e[t];return i},isTypedArray:NT,isFileList:yT},PT=DT;function LT(e){return encodeURIComponent(e).replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,\"+\").replace(/%5B/gi,\"[\").replace(/%5D/gi,\"]\")}var kT=function(e,t,i){if(!t)return e;var n;if(i)n=i(t);else if(PT.isURLSearchParams(t))n=t.toString();else{var r=[];PT.forEach(t,(function(e,t){null!=e&&(PT.isArray(e)?t+=\"[]\":e=[e],PT.forEach(e,(function(e){PT.isDate(e)?e=e.toISOString():PT.isObject(e)&&(e=JSON.stringify(e)),r.push(LT(t)+\"=\"+LT(e))})))})),n=r.join(\"&\")}if(n){var s=e.indexOf(\"#\");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf(\"?\")?\"?\":\"&\")+n}return e},MT=DT;function UT(){this.handlers=[]}UT.prototype.use=function(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1},UT.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},UT.prototype.forEach=function(e){MT.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var xT,VT,FT=UT,BT=DT;function jT(){if(VT)return xT;VT=1;var e=DT;function t(e,t,i,n,r){Error.call(this),this.message=e,this.name=\"AxiosError\",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),r&&(this.response=r)}e.inherits(t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=t.prototype,n={};return[\"ERR_BAD_OPTION_VALUE\",\"ERR_BAD_OPTION\",\"ECONNABORTED\",\"ETIMEDOUT\",\"ERR_NETWORK\",\"ERR_FR_TOO_MANY_REDIRECTS\",\"ERR_DEPRECATED\",\"ERR_BAD_RESPONSE\",\"ERR_BAD_REQUEST\",\"ERR_CANCELED\"].forEach((function(e){n[e]={value:e}})),Object.defineProperties(t,n),Object.defineProperty(i,\"isAxiosError\",{value:!0}),t.from=function(n,r,s,o,a,c){var d=Object.create(i);return e.toFlatObject(n,d,(function(e){return e!==Error.prototype})),t.call(d,n.message,r,s,o,a),d.name=n.name,c&&Object.assign(d,c),d},xT=t}var GT,WT,HT,KT,YT,qT,JT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function zT(){if(WT)return GT;WT=1;var e=DT;return GT=function(t,i){i=i||new FormData;var n=[];function r(t){return null===t?\"\":e.isDate(t)?t.toISOString():e.isArrayBuffer(t)||e.isTypedArray(t)?\"function\"==typeof Blob?new Blob([t]):Buffer.from(t):t}return function t(s,o){if(e.isPlainObject(s)||e.isArray(s)){if(-1!==n.indexOf(s))throw Error(\"Circular reference detected in \"+o);n.push(s),e.forEach(s,(function(n,s){if(!e.isUndefined(n)){var a,c=o?o+\".\"+s:s;if(n&&!o&&\"object\"==typeof n)if(e.endsWith(s,\"{}\"))n=JSON.stringify(n);else if(e.endsWith(s,\"[]\")&&(a=e.toArray(n)))return void a.forEach((function(t){!e.isUndefined(t)&&i.append(c,r(t))}));t(n,c)}})),n.pop()}else i.append(o,r(s))}(t),i},GT}function XT(){if(KT)return HT;KT=1;var e=jT();return HT=function(t,i,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?i(new e(\"Request failed with status code \"+n.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}}function QT(){if(qT)return YT;qT=1;var e=DT;return YT=e.isStandardBrowserEnv()?{write:function(t,i,n,r,s,o){var a=[];a.push(t+\"=\"+encodeURIComponent(i)),e.isNumber(n)&&a.push(\"expires=\"+new Date(n).toGMTString()),e.isString(r)&&a.push(\"path=\"+r),e.isString(s)&&a.push(\"domain=\"+s),!0===o&&a.push(\"secure\"),document.cookie=a.join(\"; \")},read:function(e){var t=document.cookie.match(new RegExp(\"(^|;\\\\s*)(\"+e+\")=([^;]*)\"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,\"\",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},YT}var ZT,$T,eR,tR,iR,nR,rR,sR,oR,aR,cR,dR,lR=function(e){return/^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(e)},hR=function(e,t){return t?e.replace(/\\/+$/,\"\")+\"/\"+t.replace(/^\\/+/,\"\"):e},uR=function(e,t){return e&&!lR(t)?hR(e,t):t};function pR(){if($T)return ZT;$T=1;var e=DT,t=[\"age\",\"authorization\",\"content-length\",\"content-type\",\"etag\",\"expires\",\"from\",\"host\",\"if-modified-since\",\"if-unmodified-since\",\"last-modified\",\"location\",\"max-forwards\",\"proxy-authorization\",\"referer\",\"retry-after\",\"user-agent\"];return ZT=function(i){var n,r,s,o={};return i?(e.forEach(i.split(\"\\n\"),(function(i){if(s=i.indexOf(\":\"),n=e.trim(i.substr(0,s)).toLowerCase(),r=e.trim(i.substr(s+1)),n){if(o[n]&&t.indexOf(n)>=0)return;o[n]=\"set-cookie\"===n?(o[n]?o[n]:[]).concat([r]):o[n]?o[n]+\", \"+r:r}})),o):o},ZT}function _R(){if(tR)return eR;tR=1;var e=DT;return eR=e.isStandardBrowserEnv()?function(){var t,i=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement(\"a\");function r(e){var t=e;return i&&(n.setAttribute(\"href\",t),t=n.href),n.setAttribute(\"href\",t),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,\"\"):\"\",host:n.host,search:n.search?n.search.replace(/^\\?/,\"\"):\"\",hash:n.hash?n.hash.replace(/^#/,\"\"):\"\",hostname:n.hostname,port:n.port,pathname:\"/\"===n.pathname.charAt(0)?n.pathname:\"/\"+n.pathname}}return t=r(window.location.href),function(i){var n=e.isString(i)?r(i):i;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}}function ER(){if(nR)return iR;nR=1;var e=jT();function t(t){e.call(this,null==t?\"canceled\":t,e.ERR_CANCELED),this.name=\"CanceledError\"}return DT.inherits(t,e,{__CANCEL__:!0}),iR=t}function mR(){return sR||(sR=1,rR=function(e){var t=/^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(e);return t&&t[1]||\"\"}),rR}function fR(){if(aR)return oR;aR=1;var e=DT,t=XT(),i=QT(),n=kT,r=uR,s=pR(),o=_R(),a=JT,c=jT(),d=ER(),l=mR();return oR=function(h){return new Promise((function(u,p){var _,E=h.data,m=h.headers,f=h.responseType;function g(){h.cancelToken&&h.cancelToken.unsubscribe(_),h.signal&&h.signal.removeEventListener(\"abort\",_)}e.isFormData(E)&&e.isStandardBrowserEnv()&&delete m[\"Content-Type\"];var S=new XMLHttpRequest;if(h.auth){var T=h.auth.username||\"\",R=h.auth.password?unescape(encodeURIComponent(h.auth.password)):\"\";m.Authorization=\"Basic \"+btoa(T+\":\"+R)}var C=r(h.baseURL,h.url);function v(){if(S){var e=\"getAllResponseHeaders\"in S?s(S.getAllResponseHeaders()):null,i={data:f&&\"text\"!==f&&\"json\"!==f?S.response:S.responseText,status:S.status,statusText:S.statusText,headers:e,config:h,request:S};t((function(e){u(e),g()}),(function(e){p(e),g()}),i),S=null}}if(S.open(h.method.toUpperCase(),n(C,h.params,h.paramsSerializer),!0),S.timeout=h.timeout,\"onloadend\"in S?S.onloadend=v:S.onreadystatechange=function(){S&&4===S.readyState&&(0!==S.status||S.responseURL&&0===S.responseURL.indexOf(\"file:\"))&&setTimeout(v)},S.onabort=function(){S&&(p(new c(\"Request aborted\",c.ECONNABORTED,h,S)),S=null)},S.onerror=function(){p(new c(\"Network Error\",c.ERR_NETWORK,h,S,S)),S=null},S.ontimeout=function(){var e=h.timeout?\"timeout of \"+h.timeout+\"ms exceeded\":\"timeout exceeded\",t=h.transitional||a;h.timeoutErrorMessage&&(e=h.timeoutErrorMessage),p(new c(e,t.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,h,S)),S=null},e.isStandardBrowserEnv()){var I=(h.withCredentials||o(C))&&h.xsrfCookieName?i.read(h.xsrfCookieName):void 0;I&&(m[h.xsrfHeaderName]=I)}\"setRequestHeader\"in S&&e.forEach(m,(function(e,t){void 0===E&&\"content-type\"===t.toLowerCase()?delete m[t]:S.setRequestHeader(t,e)})),e.isUndefined(h.withCredentials)||(S.withCredentials=!!h.withCredentials),f&&\"json\"!==f&&(S.responseType=h.responseType),\"function\"==typeof h.onDownloadProgress&&S.addEventListener(\"progress\",h.onDownloadProgress),\"function\"==typeof h.onUploadProgress&&S.upload&&S.upload.addEventListener(\"progress\",h.onUploadProgress),(h.cancelToken||h.signal)&&(_=function(e){S&&(p(!e||e&&e.type?new d:e),S.abort(),S=null)},h.cancelToken&&h.cancelToken.subscribe(_),h.signal&&(h.signal.aborted?_():h.signal.addEventListener(\"abort\",_))),E||(E=null);var y=l(C);y&&-1===[\"http\",\"https\",\"file\"].indexOf(y)?p(new c(\"Unsupported protocol \"+y+\":\",c.ERR_BAD_REQUEST,h)):S.send(E)}))},oR}var gR=DT,SR=function(e,t){BT.forEach(e,(function(i,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[n])}))},TR=jT(),RR=JT,CR=zT(),vR={\"Content-Type\":\"application/x-www-form-urlencoded\"};function IR(e,t){!gR.isUndefined(e)&&gR.isUndefined(e[\"Content-Type\"])&&(e[\"Content-Type\"]=t)}var yR,AR={transitional:RR,adapter:((\"undefined\"!=typeof XMLHttpRequest||\"undefined\"!=typeof process&&\"[object process]\"===Object.prototype.toString.call(process))&&(yR=fR()),yR),transformRequest:[function(e,t){if(SR(t,\"Accept\"),SR(t,\"Content-Type\"),gR.isFormData(e)||gR.isArrayBuffer(e)||gR.isBuffer(e)||gR.isStream(e)||gR.isFile(e)||gR.isBlob(e))return e;if(gR.isArrayBufferView(e))return e.buffer;if(gR.isURLSearchParams(e))return IR(t,\"application/x-www-form-urlencoded;charset=utf-8\"),e.toString();var i,n=gR.isObject(e),r=t&&t[\"Content-Type\"];if((i=gR.isFileList(e))||n&&\"multipart/form-data\"===r){var s=this.env&&this.env.FormData;return CR(i?{\"files[]\":e}:e,s&&new s)}return n||\"application/json\"===r?(IR(t,\"application/json\"),function(e,t,i){if(gR.isString(e))try{return(t||JSON.parse)(e),gR.trim(e)}catch(e){if(\"SyntaxError\"!==e.name)throw e}return(i||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||AR.transitional,i=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,r=!i&&\"json\"===this.responseType;if(r||n&&gR.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if(\"SyntaxError\"===e.name)throw TR.from(e,TR.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dR?cR:(dR=1,cR=null)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:\"application/json, text/plain, */*\"}}};gR.forEach([\"delete\",\"get\",\"head\"],(function(e){AR.headers[e]={}})),gR.forEach([\"post\",\"put\",\"patch\"],(function(e){AR.headers[e]=gR.merge(vR)}));var bR,wR,OR=AR,NR=DT,DR=OR;function PR(){return wR?bR:(wR=1,bR=function(e){return!(!e||!e.__CANCEL__)})}var LR=DT,kR=function(e,t,i){var n=this||DR;return NR.forEach(i,(function(i){e=i.call(n,e,t)})),e},MR=PR(),UR=OR,xR=ER();function VR(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xR}var FR,BR,jR=DT,GR=function(e,t){t=t||{};var i={};function n(e,t){return jR.isPlainObject(e)&&jR.isPlainObject(t)?jR.merge(e,t):jR.isPlainObject(t)?jR.merge({},t):jR.isArray(t)?t.slice():t}function r(i){return jR.isUndefined(t[i])?jR.isUndefined(e[i])?void 0:n(void 0,e[i]):n(e[i],t[i])}function s(e){if(!jR.isUndefined(t[e]))return n(void 0,t[e])}function o(i){return jR.isUndefined(t[i])?jR.isUndefined(e[i])?void 0:n(void 0,e[i]):n(void 0,t[i])}function a(i){return i in t?n(e[i],t[i]):i in e?n(void 0,e[i]):void 0}var c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a};return jR.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||r,n=t(e);jR.isUndefined(n)&&t!==a||(i[e]=n)})),i};function WR(){return BR?FR:(BR=1,FR={version:\"0.27.2\"})}var HR=WR().version,KR=jT(),YR={};[\"object\",\"boolean\",\"number\",\"function\",\"string\",\"symbol\"].forEach((function(e,t){YR[e]=function(i){return typeof i===e||\"a\"+(t<1?\"n \":\" \")+e}}));var qR={};YR.transitional=function(e,t,i){function n(e,t){return\"[Axios v\"+HR+\"] Transitional option '\"+e+\"'\"+t+(i?\". \"+i:\"\")}return function(i,r,s){if(!1===e)throw new KR(n(r,\" has been removed\"+(t?\" in \"+t:\"\")),KR.ERR_DEPRECATED);return t&&!qR[r]&&(qR[r]=!0,console.warn(n(r,\" has been deprecated since v\"+t+\" and will be removed in the near future\"))),!e||e(i,r,s)}};var JR,zR,XR,QR,ZR,$R,eC={assertOptions:function(e,t,i){if(\"object\"!=typeof e)throw new KR(\"options must be an object\",KR.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(e),r=n.length;r-- >0;){var s=n[r],o=t[s];if(o){var a=e[s],c=void 0===a||o(a,s,e);if(!0!==c)throw new KR(\"option \"+s+\" must be \"+c,KR.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new KR(\"Unknown option \"+s,KR.ERR_BAD_OPTION)}},validators:YR},tC=DT,iC=kT,nC=FT,rC=function(e){return VR(e),e.headers=e.headers||{},e.data=kR.call(e,e.data,e.headers,e.transformRequest),e.headers=LR.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),LR.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\",\"common\"],(function(t){delete e.headers[t]})),(e.adapter||UR.adapter)(e).then((function(t){return VR(e),t.data=kR.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return MR(t)||(VR(e),t&&t.response&&(t.response.data=kR.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},sC=GR,oC=uR,aC=eC,cC=aC.validators;function dC(e){this.defaults=e,this.interceptors={request:new nC,response:new nC}}dC.prototype.request=function(e,t){\"string\"==typeof e?(t=t||{}).url=e:t=e||{},(t=sC(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method=\"get\";var i=t.transitional;void 0!==i&&aC.assertOptions(i,{silentJSONParsing:cC.transitional(cC.boolean),forcedJSONParsing:cC.transitional(cC.boolean),clarifyTimeoutError:cC.transitional(cC.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(e){\"function\"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var s,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var a=[rC,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(o),s=Promise.resolve(t);a.length;)s=s.then(a.shift(),a.shift());return s}for(var c=t;n.length;){var d=n.shift(),l=n.shift();try{c=d(c)}catch(e){l(e);break}}try{s=rC(c)}catch(e){return Promise.reject(e)}for(;o.length;)s=s.then(o.shift(),o.shift());return s},dC.prototype.getUri=function(e){e=sC(this.defaults,e);var t=oC(e.baseURL,e.url);return iC(t,e.params,e.paramsSerializer)},tC.forEach([\"delete\",\"get\",\"head\",\"options\"],(function(e){dC.prototype[e]=function(t,i){return this.request(sC(i||{},{method:e,url:t,data:(i||{}).data}))}})),tC.forEach([\"post\",\"put\",\"patch\"],(function(e){function t(t){return function(i,n,r){return this.request(sC(r||{},{method:e,headers:t?{\"Content-Type\":\"multipart/form-data\"}:{},url:i,data:n}))}}dC.prototype[e]=t(),dC.prototype[e+\"Form\"]=t(!0)}));var lC=DT,hC=uT,uC=dC,pC=GR;var _C=function e(t){var i=new uC(t),n=hC(uC.prototype.request,i);return lC.extend(n,uC.prototype,i),lC.extend(n,i),n.create=function(i){return e(pC(t,i))},n}(OR);_C.Axios=uC,_C.CanceledError=ER(),_C.CancelToken=function(){if(zR)return JR;zR=1;var e=ER();function t(t){if(\"function\"!=typeof t)throw new TypeError(\"executor must be a function.\");var i;this.promise=new Promise((function(e){i=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,i=n._listeners.length;for(t=0;t<i;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,i=new Promise((function(e){n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},t((function(t){n.reason||(n.reason=new e(t),i(n.reason))}))}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},t.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},t.source=function(){var e;return{token:new t((function(t){e=t})),cancel:e}},JR=t}(),_C.isCancel=PR(),_C.VERSION=WR().version,_C.toFormData=zT(),_C.AxiosError=jT(),_C.Cancel=_C.CanceledError,_C.all=function(e){return Promise.all(e)},_C.spread=QR?XR:(QR=1,XR=function(e){return function(t){return e.apply(null,t)}}),_C.isAxiosError=function(){if($R)return ZR;$R=1;var e=DT;return ZR=function(t){return e.isObject(t)&&!0===t.isAxiosError}}(),hT.exports=_C,hT.exports.default=_C;var EC=J(hT.exports);function mC(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function fC(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?mC(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):mC(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let gC,SC=0,TC=0;function RC(e,t,i,n){return new tg(((r,s)=>{t.responseType=t.responseType||\"json\",t.data&&!i?(t.data=JSON.stringify(t.data),SC+=LS(t.data)):i&&(t.data.size?SC+=t.data.size:t.data instanceof FormData?SC+=kS(t.data):SC+=LS(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers[\"Content-Type\"]=t.headers[\"Content-Type\"]||\"application/json\",t.method=\"POST\",t.url=e,EC.request(t).then((e=>{\"string\"==typeof e.data?TC+=LS(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?TC+=e.data.byteLength:TC+=LS(JSON.stringify(e.data)),n&&r({data:e.data,headers:e.headers}),r(e.data)})).catch((e=>{EC.isCancel(e)?s(new Vg(xg.OPERATION_ABORTED,\"cancel token canceled\")):\"ECONNABORTED\"===e.code?s(new Vg(xg.NETWORK_TIMEOUT,e.message)):e.response?s(new Vg(xg.NETWORK_RESPONSE_ERROR,e.response.status)):s(new Vg(xg.NETWORK_ERROR,e.message))}))}))}async function CC(e,t){const i=new Blob([t.data],{type:\"buffer\"});return await RC(e,fC(fC({},t),{},{data:i,headers:{\"Content-Type\":\"application/octet-stream\"}}),!0)}const vC=()=>\"HTTPS\"===(gC||gC||(gC=(window.location.protocol.split(\":\")[0]||\"\").toUpperCase(),gC)),IC=()=>void 0!==window.isSecureContext;function yC(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function AC(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?yC(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):yC(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var bC;!function(e){e.SET_SESSION_ID=\"SET_SESSION_ID\",e.SET_P2P_ID=\"SET_P2P_id\",e.SET_DC_ID=\"SET_DC_id\",e.SET_UID=\"SET_UID\",e.SET_PUB_ID=\"SET_PUB_ID\",e.SET_CLOUD_PROXY_SERVER_MODE=\"SET_CLOUD_PROXY_SERVER_MODE\",e.KEY_METRIC_CLIENT_CREATED=\"KEY_METRIC_CLIENT_CREATED\",e.KEY_METRIC_JOIN_START=\"KEY_METRIC_JOIN_START\",e.AVOID_JOIN_START=\"AVOID_JOIN_START\",e.KEY_METRIC_JOIN_END=\"KEY_METRIC_JOIN_END\",e.KEY_METRIC_REQUEST_AP_START=\"KEY_METRIC_REQUEST_AP_START\",e.KEY_METRIC_REQUEST_AP_END=\"KEY_METRIC_REQUEST_AP_END\",e.KEY_METRIC_JOIN_GATEWAY_START=\"KEY_METRIC_JOIN_GATEWAY_START\",e.KEY_METRIC_JOIN_GATEWAY_END=\"KEY_METRIC_JOIN_GATEWAY_END\",e.KEY_METRIC_PEER_CONNECTION_START=\"KEY_METRIC_PEER_CONNECTION_START\",e.KEY_METRIC_PEER_CONNECTION_END=\"KEY_METRIC_PEER_CONNECTION_END\",e.KEY_METRIC_DESCRIPTION_START=\"KEY_METRIC_DESCRIPTION_START\",e.KEY_METRIC_ICE_CONNECTION_END=\"KEY_METRIC_ICE_CONNECTION_END\",e.KEY_METRIC_SIGNAL_CHANNEL_OPEN=\"KEY_METRIC_SIGNAL_CHANNEL_OPEN\",e.KEY_METRIC_PUBLISH=\"KEY_METRIC_PUBLISH\",e.KEY_METRIC_SUBSCRIBE=\"KEY_METRIC_SUBSCRIBE\",e.RECORD_JOIN_CHANNEL_SERVICE=\"RECORD_JOIN_CHANNEL_SERVICE\",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS=\"RESET_JOIN_CHANNEL_SERVICE_RECORDS\",e.RESET_KEY_METRICS=\"RESET_KEY_METRICS\",e.SET_USE_DATACHANNEL=\"SET_USE_DATACHANNEL\",e.SET_USE_P2P=\"SET_USE_P2P\"}(bC||(bC={}));class wC{constructor(e,t,i,n){nu(this,\"state\",void 0),this.state={codec:e,audioCodec:t,mode:i,clientId:n,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:\"disabled\",useDataChannel:!1,useP2P:!1}}dispatch(e){this.state=function(e,t){switch(t.type){case bC.SET_SESSION_ID:return AC(AC({},e),{},{sessionId:t.sessionId});case bC.SET_P2P_ID:return AC(AC({},e),{},{p2pId:t.p2pId});case bC.SET_UID:return AC(AC({},e),{},{uid:t.uid});case bC.SET_PUB_ID:return AC(AC({},e),{},{pubId:t.pubId});case bC.KEY_METRIC_CLIENT_CREATED:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{clientCreated:t.metric})});case bC.KEY_METRIC_JOIN_START:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{joinStart:t.metric})});case bC.AVOID_JOIN_START:return AC(AC({},e),{},{avoidJoinStart:t.avoidJoinStart});case bC.KEY_METRIC_JOIN_END:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{joinEnd:t.metric})});case bC.KEY_METRIC_REQUEST_AP_START:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{requestAPStart:t.metric})});case bC.KEY_METRIC_REQUEST_AP_END:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{requestAPEnd:t.metric})});case bC.KEY_METRIC_JOIN_GATEWAY_START:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case bC.KEY_METRIC_JOIN_GATEWAY_END:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case bC.KEY_METRIC_PEER_CONNECTION_START:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case bC.KEY_METRIC_PEER_CONNECTION_END:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case bC.KEY_METRIC_DESCRIPTION_START:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{descriptionStart:t.metric})});case bC.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{signalChannelOpen:t.metric})});case bC.KEY_METRIC_ICE_CONNECTION_END:return AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{iceConnectionEnd:t.metric})});case bC.KEY_METRIC_PUBLISH:{const i=e.keyMetrics.publish,n=i.findIndex((e=>e.trackId===t.metric.trackId));return-1!==n?(i[n]=AC(AC({},i[n]),t.metric),AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{publish:[...i]})})):AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{publish:[...e.keyMetrics.publish,t.metric]})})}case bC.KEY_METRIC_SUBSCRIBE:{const i=e.keyMetrics.subscribe,n=i.findIndex((e=>e.userId===t.metric.userId&&e.type===t.metric.type));return-1!==n?(i[n]=AC(AC({},i[n]),t.metric),AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{subscribe:[...i]})})):AC(AC({},e),{},{keyMetrics:AC(AC({},e.keyMetrics),{},{subscribe:[...e.keyMetrics.subscribe,t.metric]})})}case bC.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case bC.RECORD_JOIN_CHANNEL_SERVICE:return\"number\"!=typeof t.index?e.joinChannelServiceRecords=[...e.joinChannelServiceRecords,t.record]:(e.joinChannelServiceRecords[t.index]=AC(AC({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=[...e.joinChannelServiceRecords]),e;case bC.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case bC.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[]},e;case bC.SET_USE_DATACHANNEL:return AC(AC({},e),{},{useDataChannel:t.val});case bC.SET_USE_P2P:return AC(AC({},e),{},{useP2P:t.val});default:return e}}(this.state,e)}set sessionId(e){this.dispatch({type:bC.SET_SESSION_ID,sessionId:e})}get sessionId(){return this.state.sessionId}get codec(){return this.state.codec}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(e){this.dispatch({type:bC.SET_P2P_ID,p2pId:e})}get p2pId(){return this.state.p2pId}set dcId(e){this.dispatch({type:bC.SET_DC_ID,dcId:e})}get dcId(){return this.state.dcId}set uid(e){this.dispatch({type:bC.SET_UID,uid:e})}get uid(){return this.state.uid}set pubId(e){this.dispatch({type:bC.SET_PUB_ID,pubId:e})}get pubId(){return this.state.pubId}set cloudProxyServerMode(e){this.dispatch({type:bC.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useDataChannel(e){this.dispatch({type:bC.SET_USE_DATACHANNEL,val:e})}get useDataChannel(){return this.state.useDataChannel}set useP2P(e){this.dispatch({type:bC.SET_USE_P2P,val:e})}get useP2P(){return this.state.useP2P}clientCreated(){this.dispatch({type:bC.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:bC.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.dispatch({type:bC.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:bC.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:bC.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:bC.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:bC.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:bC.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:bC.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}descriptionStart(){this.dispatch({type:bC.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:bC.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:bC.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(e,t,i,n){this.dispatch({type:bC.KEY_METRIC_PUBLISH,metric:AC(AC({trackId:e,type:t},i&&{publishStart:i}),n&&{publishEnd:n})})}subscribe(e,t,i,n,r,s,o){this.dispatch({type:bC.KEY_METRIC_SUBSCRIBE,metric:AC(AC(AC(AC(AC({userId:e,type:t},i&&{subscribeStart:i}),n&&{subscribeEnd:n}),r&&{firstFrame:r}),s&&{streamAdded:s}),o&&{firstDecoded:o})})}massSubscribe(e,t,i,n){e.forEach((e=>{this.dispatch({type:bC.KEY_METRIC_SUBSCRIBE,metric:AC(AC(AC({userId:e.userId,type:e.type},t&&{subscribeStart:t}),i&&{subscribeEnd:i}),n&&{firstFrame:n})})}))}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(e,t){\"gateway\"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map((e=>e.replace(/(\\d+)-\\d+-\\d+-(\\d+)/,\"$1-*-*-$2\"))));try{return\"number\"!=typeof t?(this.dispatch({type:bC.RECORD_JOIN_CHANNEL_SERVICE,record:AC(AC({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(t<0||t>=this.state.joinChannelServiceRecords.length||this.dispatch({type:bC.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(e){return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:bC.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:bC.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch(e){return[]}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(e){this.dispatch({type:bC.AVOID_JOIN_START,avoidJoinStart:e})}}const OC=function(e){if(e.match(/[0-9]+\\.[0-9]+\\.[0-9]+$/))return e;const t=e.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-alpha\\.([0-9]+)/);if(t&&t[1]&&t[2]){const e=t[1],i=t[2];return\"\".concat(e,\".\").concat(i)}const i=e.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-special\\.([0-9]+)/);if(i&&i[1]&&i[2]){const e=i[1],t=i[2];return\"\".concat(e,\".\").concat(100*(Number(t)+1))}return\"4.0.0.999\"}(\"4.19.1\"),NC=function(){try{return!0===JSON.parse(\"true\")}catch(e){return!0}}(),DC=\"v4.19.1-0-g605286cc(10/11/2023, 2:37:03 PM)\",PC={PROCESS_ID:\"\",ENCRYPT_AES:!0,AREAS:[\"CHINA\",\"GLOBAL\"],WEBCS_DOMAIN:[\"webrtc2-ap-web-1.agora.io\",\"webrtc2-2.ap.sd-rtn.com\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-ap-web-3.agora.io\",\"webrtc2-4.ap.sd-rtn.com\"],PROXY_CS:[\"ap-proxy-1.agora.io\",\"ap-proxy-2.agora.io\"],CDS_AP:[\"cds-ap-web-1.agora.io\",\"cds-web-2.ap.sd-rtn.com\",\"cds-ap-web-3.agora.io\",\"cds-web-4.ap.sd-rtn.com\"],ACCOUNT_REGISTER:[\"sua-ap-web-1.agora.io\",\"sua-web-2.ap.sd-rtn.com\",\"sua-ap-web-3.agora.io\",\"sua-web-4.ap.sd-rtn.com\"],UAP_AP:[\"uap-ap-web-1.agora.io\",\"uap-web-2.ap.sd-rtn.com\",\"uap-ap-web-3.agora.io\",\"uap-web-4.ap.sd-rtn.com\"],LOG_UPLOAD_SERVER:\"logservice.agora.io\",EVENT_REPORT_DOMAIN:\"statscollector-1.agora.io\",EVENT_REPORT_BACKUP_DOMAIN:\"web-2.statscollector.sd-rtn.com\",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:\"\",LIVE_STREAMING_ADDRESS:\"\",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],SUBSCRIBE_TWCC:!1,PUBLISH_TWCC:!1,PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:\"\",PUB_EXTEND:\"\",SUB_EXTEND:\"\",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:[\"edge.agora.io\",\"edge.sd-rtn.com\"],WORKER_DOMAIN:\"edge.agora.io\",TURN_DOMAIN:\"edge.agora.io\",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:\"webnginx-proxy.agora.io\",PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.sd-rtn.com\",\"webrtc-cloud-proxy.agora.io\"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:\"high\",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,USE_PUB_RTX:!1,USE_SUB_RTX:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:\"\",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:[\"agora.io\",\"sd-rtn.com\"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!0,BITRATE_ADAPTER_TYPE:\"STANDARD_BITRATE\",AI_DENOISER_PARAMETERS:{},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:[\"data-reporting.agora.io\",\"data-reporting.agora.io\"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:\"edge.agora.io\",VIDEO_INSPECT_WORKER_MANAGER_PORT:\"\",VIDEO_INSPECT_WORKER_PORT:\"\",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,DISABLE_FEC:void 0,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,ENABLE_USER_LICENSE_CHECK:!0,SIGNAL_CHANNEL:0,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,SVC:[],ENABLE_ENCODED_TRANSFORM:!1,IMAGE_MODERATION_WORKER_HOST:\"edge.agora.io\",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,RTM2_FLAG:void 0,AP_RTM:!1,ENABLE_DATASTREAM_2:!1,DATASTREAM_MAX_RETRANSMITS:10,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,ENABLE_INSTANT_VIDEO:!1,ENABLE_NTP_REPORT:!1,USE_XR:!1,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:1e4,P2P:!1,SHOW_P2P_LOG:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0}};function LC(e,t,i){var n,r;Pr(n=Object.keys(PC)).call(n,e)&&(!i&&Pr(r=Object.keys(MC)).call(r,e)||(PC[e]=t))}function kC(e){return PC[e]}const MC={};const UC=new class extends iS{reportLogUploadError(e){this.emit(\"REPORT_LOG_UPLOAD\",e)}};class xC{constructor(e){nu(this,\"logger\",void 0),nu(this,\"prefixLists\",[]),this.logger=e}debug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.debug(...this.prefixLists,...t)}info(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.info(...this.prefixLists,...t)}warning(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.warning(...this.prefixLists,...t)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.error(...this.prefixLists,...t)}prefix(e){return this.prefixLists.push(e),this}popPrefix(){return this.prefixLists.pop(),this}}function VC(){const e=new Date;return e.toTimeString().split(\" \")[0]+\":\"+e.getMilliseconds()}function FC(){const e=new Date,t=/((\\d+:){2}\\d+)/.exec((new Date).toUTCString());return t?(null==t?void 0:t[0])+\":\"+e.getUTCMilliseconds():e.toTimeString().split(\" \")[0]+\":\"+e.getMilliseconds()}const BC={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},jC=Date.now(),GC=e=>{for(const t in BC)if(Object.prototype.hasOwnProperty.call(BC,t)&&BC[t]===e)return t;return\"DEFAULT\"};const WC=new class{constructor(){nu(this,\"proxyServerURL\",void 0),nu(this,\"logLevel\",BC.DEBUG),nu(this,\"uploadState\",\"collecting\"),nu(this,\"uploadLogWaitingList\",[]),nu(this,\"uploadLogUploadingList\",[]),nu(this,\"uploadErrorCount\",0),nu(this,\"currentLogID\",0),nu(this,\"url\",void 0),nu(this,\"extLog\",((e,t)=>{this.appendLogToWaitingList(e,...t)}))}debug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[BC.DEBUG].concat(t);this.log.apply(this,n)}info(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[BC.INFO].concat(t);this.log.apply(this,n)}warning(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[BC.WARNING].concat(t);this.log.apply(this,n)}warn(){this.warning(...arguments)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[BC.ERROR].concat(t);this.log.apply(this,n)}upload(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[BC.DEBUG].concat(t);this.uploadLog.apply(this,n)}setLogLevel(e){e=Math.min(Math.max(0,e),4),this.logLevel=e}enableLogUpload(){LC(\"UPLOAD_LOG\",!0)}disableLogUpload(){LC(\"UPLOAD_LOG\",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(e){this.proxyServerURL=e}prefix(e){return new xC(this).prefix(e)}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(Date.now()-jC<100)return void setTimeout((()=>{this.log(...t)}),Date.now()-jC);const n=Math.max(0,Math.min(4,t[0]));if(t[0]=VC()+\" Agora-SDK [\".concat(GC(n),\"]:\"),this.appendLogToWaitingList(n,...t),n<this.logLevel)return;const r=VC()+\" %cAgora-SDK [\".concat(GC(n),\"]:\");let s=[];if(!kC(\"USE_NEW_LOG\"))switch(n){case BC.DEBUG:s=[r,\"color: #64B5F6;\"].concat(t.slice(1)),console.log.apply(console,s);break;case BC.INFO:s=[r,\"color: #1E88E5; font-weight: bold;\"].concat(t.slice(1)),console.log.apply(console,s);break;case BC.WARNING:s=[r,\"color: #FB8C00; font-weight: bold;\"].concat(t.slice(1)),console.warn.apply(console,s);break;case BC.ERROR:s=[r,\"color: #B00020; font-weight: bold;\"].concat(t.slice(1)),console.error.apply(console,s)}}uploadLog(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(Date.now()-jC<100)return void setTimeout((()=>{this.uploadLog(...t)}),Date.now()-jC);const n=Math.max(0,Math.min(4,t[0]));t[0]=VC()+\" Agora-SDK [\".concat(GC(n),\"]:\"),this.appendLogToWaitingList(n,...t)}appendLogToWaitingList(e){if(!kC(\"UPLOAD_LOG\"))return;for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Array.isArray(i[0])?i[0][0]=FC()+\" Agora-SDK [\".concat(GC(e),\"]:\"):i[0]=FC()+\" Agora-SDK [\".concat(GC(e),\"]:\");let r=\"\";i.forEach((e=>{\"object\"==typeof e&&(e=JSON.stringify(e)),r+=\"\".concat(e,\" \")})),this.uploadLogWaitingList.push({payload_str:r,log_level:e,log_item_id:this.currentLogID++}),\"uploading\"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState=\"uploading\",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const e=this.uploadLogUploadingList,t={sdk_version:OC,process_id:kC(\"PROCESS_ID\"),payload:JSON.stringify(e)};return XS((async()=>{const e=await EC.post(this.url||(this.proxyServerURL?\"https://\".concat(this.proxyServerURL,\"/ls/?h=\").concat(kC(\"LOG_UPLOAD_SERVER\"),\"&p=443&d=upload/v1\"):\"https://\".concat(kC(\"LOG_UPLOAD_SERVER\"),\"/upload/v1\")),t,{responseType:\"text\"});if(\"OK\"!==e.data){const t=new Error(\"unexpected upload log response\");throw t.response=e,t}}),(()=>(this.uploadLogUploadingList=[],!1)),(e=>(e.response?UC.reportLogUploadError({status:e.response.status,data:e.response.data,headers:e.response.headers,message:e.message}):e.request?UC.reportLogUploadError({status:e.request.status,message:e.message}):UC.reportLogUploadError({status:-1,message:e.message}),!0)),{timeout:kC(\"UPLOAD_LOG_REQUEST_RETRY_INTERVAL\"),maxRetryTimeout:kC(\"UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL\")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,kC(\"UPLOAD_LOG_LENGTH_EACH_TIME\"))),this.uploadLogs().then((()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout((()=>this.uploadLogInterval()),kC(\"UPLOAD_LOG_INTERVAL\"))})).catch((e=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout((()=>this.uploadLogInterval()),kC(\"UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1\")):window.setTimeout((()=>this.uploadLogInterval()),kC(\"UPLOAD_LOG_RETRY_INTERVAL_V1\"))})))}};var HC,KC;function YC(e){return Wg(e.reportId,\"params.reportId\",0,100,!1),Wg(e.category,\"params.category\",0,100,!1),Wg(e.event,\"params.event\",0,100,!1),Wg(e.label,\"params.label\",0,100,!1),jg(e.value,\"params.value\",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}!function(e){e.FREE=\"free\",e.UPLOADING=\"uploading\"}(HC||(HC={})),function(e){e[e.MISC=0]=\"MISC\",e[e.INTERNAL_EVENT=1]=\"INTERNAL_EVENT\",e[e.PUBLIC_EVENT=2]=\"PUBLIC_EVENT\",e[e.WEB_EVENT=3]=\"WEB_EVENT\",e[e.INTERNAL_API=4]=\"INTERNAL_API\",e[e.WEB_API=5]=\"WEB_API\",e[e.PUBLIC_API=6]=\"PUBLIC_API\"}(KC||(KC={}));const qC={sid:\"\",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};var JC,zC,XC,QC;function ZC(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function $C(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ZC(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ZC(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}!function(e){e.PUBLISH=\"publish\",e.SUBSCRIBE=\"subscribe\",e.WS_COMPRESSOR_INIT=\"ws_compressor_init\",e.SESSION_INIT=\"session_init\",e.JOIN_CHOOSE_SERVER=\"join_choose_server\",e.REQ_USER_ACCOUNT=\"req_user_account\",e.JOIN_GATEWAY=\"join_gateway\",e.REJOIN_GATEWAY=\"rejoin_gateway\",e.STREAM_SWITCH=\"stream_switch\",e.REQUEST_PROXY_WORKER_MANAGER=\"request_proxy_worker_manager\",e.REQUEST_PROXY_APPCENTER=\"request_proxy_appcenter\",e.FIRST_VIDEO_RECEIVED=\"first_video_received\",e.FIRST_AUDIO_RECEIVED=\"first_audio_received\",e.FIRST_VIDEO_DECODE=\"first_video_decode\",e.FIRST_AUDIO_DECODE=\"first_audio_decode\",e.ON_ADD_AUDIO_STREAM=\"on_add_audio_stream\",e.ON_ADD_VIDEO_STREAM=\"on_add_video_stream\",e.ON_UPDATE_STREAM=\"on_update_stream\",e.ON_REMOVE_STREAM=\"on_remove_stream\",e.USER_ANALYTICS=\"req_user_analytics\",e.PC_STATS=\"pc_stats\"}(JC||(JC={})),function(e){e.SESSION=\"io.agora.pb.Wrtc.Session\",e.JOIN_CHOOSE_SERVER=\"io.agora.pb.Wrtc.JoinChooseServer\",e.REQ_USER_ACCOUNT=\"io.agora.pb.Wrtc.ReqUserAccount\",e.JOIN_GATEWAY=\"io.agora.pb.Wrtc.JoinGateway\",e.RE_JOIN_GATEWAY=\"io.agora.pb.Wrtc.ReJoinGateway\",e.PUBLISH=\"io.agora.pb.Wrtc.Publish\",e.SUBSCRIBE=\"io.agora.pb.Wrtc.Subscribe\",e.WS_COMPRESSOR_INIT=\"io.agora.pb.Wrtc.WsCompressorInit\",e.STREAM_SWITCH=\"io.agora.pb.Wrtc.StreamSwitch\",e.AUDIO_SENDING_STOPPED=\"io.agora.pb.Wrtc.AudioSendingStopped\",e.VIDEO_SENDING_STOPPED=\"io.agora.pb.Wrtc.VideoSendingStopped\",e.REQUEST_PROXY_APPCENTER=\"io.agora.pb.Wrtc.RequestProxyAppCenter\",e.REQUEST_PROXY_WORKER_MANAGER=\"io.agora.pb.Wrtc.RequestProxyWorkerManager\",e.API_INVOKE=\"io.agora.pb.Wrtc.ApiInvoke\",e.FIRST_VIDEO_RECEIVED=\"io.agora.pb.Wrtc.FirstVideoReceived\",e.FIRST_AUDIO_RECEIVED=\"io.agora.pb.Wrtc.FirstAudioReceived\",e.FIRST_VIDEO_DECODE=\"io.agora.pb.Wrtc.FirstVideoDecode\",e.FIRST_AUDIO_DECODE=\"io.agora.pb.Wrtc.FirstAudioDecode\",e.ON_ADD_AUDIO_STREAM=\"io.agora.pb.Wrtc.OnAddAudioStream\",e.ON_ADD_VIDEO_STREAM=\"io.agora.pb.Wrtc.OnAddVideoStream\",e.ON_UPDATE_STREAM=\"io.agora.pb.Wrtc.OnUpdateStream\",e.ON_REMOVE_STREAM=\"io.agora.pb.Wrtc.OnRemoveStream\",e.JOIN_CHANNEL_TIMEOUT=\"io.agora.pb.Wrtc.JoinChannelTimeout\",e.PEER_PUBLISH_STATUS=\"io.agora.pb.Wrtc.PeerPublishStatus\",e.WORKER_EVENT=\"io.agora.pb.Wrtc.WorkerEvent\",e.AP_WORKER_EVENT=\"io.agora.pb.Wrtc.APWorkerEvent\",e.JOIN_WEB_PROXY_AP=\"io.agora.pb.Wrtc.JoinWebProxyAP\",e.WEBSOCKET_QUIT=\"io.agora.pb.Wrtc.WebSocketQuit\",e.USER_ANALYTICS=\"io.agora.pb.Wrtc.UserAnalytics\",e.AUTOPLAY_FAILED=\"io.agora.pb.Wrtc.AutoplayFailed\",e.PC_STATS=\"io.agora.pb.Wrtc.PCStats\"}(zC||(zC={})),function(e){e[e.WORKER_EVENT=156]=\"WORKER_EVENT\",e[e.AP_WORKER_EVENT=160]=\"AP_WORKER_EVENT\"}(XC||(XC={})),function(e){e[e.SESSION=26]=\"SESSION\",e[e.JOIN_CHOOSE_SERVER=27]=\"JOIN_CHOOSE_SERVER\",e[e.REQ_USER_ACCOUNT=196]=\"REQ_USER_ACCOUNT\",e[e.JOIN_GATEWAY=28]=\"JOIN_GATEWAY\",e[e.PUBLISH=30]=\"PUBLISH\",e[e.SUBSCRIBE=29]=\"SUBSCRIBE\",e[e.WS_COMPRESSOR_INIT=9430]=\"WS_COMPRESSOR_INIT\",e[e.STREAM_SWITCH=32]=\"STREAM_SWITCH\",e[e.AUDIO_SENDING_STOPPED=33]=\"AUDIO_SENDING_STOPPED\",e[e.VIDEO_SENDING_STOPPED=34]=\"VIDEO_SENDING_STOPPED\",e[e.REQUEST_PROXY_APPCENTER=35]=\"REQUEST_PROXY_APPCENTER\",e[e.REQUEST_PROXY_WORKER_MANAGER=36]=\"REQUEST_PROXY_WORKER_MANAGER\",e[e.API_INVOKE=41]=\"API_INVOKE\",e[e.FIRST_VIDEO_RECEIVED=348]=\"FIRST_VIDEO_RECEIVED\",e[e.FIRST_AUDIO_RECEIVED=349]=\"FIRST_AUDIO_RECEIVED\",e[e.FIRST_VIDEO_DECODE=350]=\"FIRST_VIDEO_DECODE\",e[e.FIRST_AUDIO_DECODE=351]=\"FIRST_AUDIO_DECODE\",e[e.ON_ADD_AUDIO_STREAM=352]=\"ON_ADD_AUDIO_STREAM\",e[e.ON_ADD_VIDEO_STREAM=353]=\"ON_ADD_VIDEO_STREAM\",e[e.ON_UPDATE_STREAM=356]=\"ON_UPDATE_STREAM\",e[e.ON_REMOVE_STREAM=355]=\"ON_REMOVE_STREAM\",e[e.JOIN_CHANNEL_TIMEOUT=407]=\"JOIN_CHANNEL_TIMEOUT\",e[e.PEER_PUBLISH_STATUS=408]=\"PEER_PUBLISH_STATUS\",e[e.WORKER_EVENT=156]=\"WORKER_EVENT\",e[e.AP_WORKER_EVENT=160]=\"AP_WORKER_EVENT\",e[e.JOIN_WEB_PROXY_AP=700]=\"JOIN_WEB_PROXY_AP\",e[e.WEBSOCKET_QUIT=671]=\"WEBSOCKET_QUIT\",e[e.USER_ANALYTICS=1e4]=\"USER_ANALYTICS\",e[e.AUTOPLAY_FAILED=9178]=\"AUTOPLAY_FAILED\"}(QC||(QC={}));class ev{constructor(){nu(this,\"baseInfoMap\",new Map),nu(this,\"proxyServer\",void 0),nu(this,\"eventUploadTimer\",void 0),nu(this,\"setSessionIdTimer\",void 0),nu(this,\"url\",void 0),nu(this,\"backupUrl\",void 0),nu(this,\"_appId\",void 0),nu(this,\"keyEventUploadPendingItems\",[]),nu(this,\"normalEventUploadPendingItems\",[]),nu(this,\"apiInvokeUploadPendingItems\",[]),nu(this,\"apiInvokeCount\",0),nu(this,\"ltsList\",[]),nu(this,\"lastSendNormalEventTime\",Date.now()),nu(this,\"customReportCounterTimer\",void 0),nu(this,\"customReportCount\",0),nu(this,\"extApiInvoke\",(async e=>{for(const t of e){const e=$C($C({},t),{},{sid:null,invokeId:++this.apiInvokeCount,tag:oS.TRACER});this.sendApiInvoke(e)}})),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),kC(\"EVENT_REPORT_SEND_INTERVAL\")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),kC(\"EVENT_REPORT_SEND_INTERVAL\"))}getBaseInfoBySessionId(e){return this.baseInfoMap.get(e)}adjustSessionStartTime(e){if(!this.baseInfoMap.has(e)&&!this.baseInfoMap.get(e))return void WC.error(\"adjust session \".concat(e,\" start time, sid is not exist or info is undefined\"));const t=this.baseInfoMap.get(e),i=Date.now(),n=t.startTime;t.startTime=i,WC.debug(\"rewrite session \".concat(e,\" startTime: \").concat(i,\" , \").concat(i-n,\"ms\")),this.baseInfoMap.set(e,t)}setAppId(e){this._appId=e}reportApiInvoke(e,t,i){t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;const n=Date.now();this.apiInvokeCount+=1;const r=this.apiInvokeCount,s=()=>({tag:t.tag,invokeId:r,sid:e,name:t.name,apiInvokeTime:n,options:t.options,states:t.states||null}),o=!!kC(\"SHOW_REPORT_INVOKER_LOG\");o&&WC.info(\"\".concat(t.name,\" start\"),t.options);let a=!1;US(t.timeout).then((()=>{a||(this.sendApiInvoke($C($C({},s()),{},{error:xg.API_INVOKE_TIMEOUT,success:!1})),WC.debug(\"\".concat(t.name,\" timeout\")))}));const c=new Vg(xg.UNEXPECTED_ERROR,\"\".concat(t.name,\": this api invoke is end\"));return{onSuccess:e=>{const n=()=>{if(a)throw c;return a=!0,this.sendApiInvoke($C($C({},s()),{},{success:!0},t.reportResult&&{result:e})),o&&WC.info(\"\".concat(t.name,\" onSuccess\")),e};return i?jS(n,t.name+\"Success\",i,(()=>a=!0)):n()},onError:e=>{const n=()=>{if(a)throw e;a=!0,this.sendApiInvoke($C($C({},s()),{},{success:!1,error:e})),o&&WC.info(\"\".concat(t.name,\" onFailure\"),e.toString())};return i?jS(n,t.name+\"Error\",i,(()=>a=!0)):n()}}}sessionInit(e,t){if(this.baseInfoMap.has(e))return;const i=Date.now(),n=this.createBaseInfo(e,i);n.cname=t.cname;const r=Object.assign({},{willUploadConsoleLog:kC(\"UPLOAD_LOG\"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:NC?\"global\":\"oversea\",areas:kC(\"AREAS\")&&kC(\"AREAS\").join(\",\")},t.extend),s=Date.now(),o=$C($C({},n),{},{eventType:JC.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,build:DC,lts:s,elapse:s-i,extend:JSON.stringify(r),mode:t.mode,process:kC(\"PROCESS_ID\"),appType:kC(\"APP_TYPE\"),success:!0,version:OC});this.send({type:zC.SESSION,data:o},!0)}joinChooseServer(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=$C($C({},n),{},{eventType:JC.JOIN_CHOOSE_SERVER,lts:r,eventElapse:r-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:r-i.startTime,success:t.succ,chooseServerAddrList:JSON.stringify(t.serverList),uid:t.uid?parseInt(t.uid):null,cid:t.cid?parseInt(t.cid):null,chooseServerIp:t.csIp||\"\",opid:t.opid,unilbsServerIds:t.unilbsServerIds,extend:t.extend||void 0,isHttp3:t.isHttp3});this.send({type:zC.JOIN_CHOOSE_SERVER,data:s},!0)}reqUserAccount(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=$C($C({},n),{},{eventType:JC.REQ_USER_ACCOUNT,lts:r,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:r-i.startTime,eventElapse:r-t.lts,extend:JSON.stringify(t.extend)});this.send({type:zC.REQ_USER_ACCOUNT,data:s},!0)}joinGateway(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info;t.vid&&(n.vid=t.vid),n.uid=t.uid,n.cid=t.cid;const r=Date.now(),{firstSuccess:s,avoidJoinStartTime:o,isProxy:a,addr:c}=t,d=r-(s&&o?o:i.startTime),l=$C($C({},n),{},{eventType:JC.JOIN_GATEWAY,lts:r,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,elapse:d,eventElapse:r-t.lts,firstSuccess:s,signalChannel:t.signalChannel}),h=l.success?1:0;if(t.succ&&(i.lastJoinSuccessTime=r),s)this.send({type:zC.JOIN_GATEWAY,data:l},!0);else{let e;if(c)if(a){const t=c.match(/h=(\\d{1,3}-){3}\\d{1,3}/g),i=c.match(/p=[0-9]{1,6}/g);e={isSuccess:h,gatewayIp:t&&t.length?t[0].split(\"=\")[1].replace(/-/g,\".\"):\"\",port:i&&i.length?i[0].split(\"=\")[1]:\"\",isProxy:a?1:0}}else{const t=c.match(/wss:\\/\\/(\\d{1,3}-){3}\\d{1,3}/g),i=c.match(/(:|p=)[0-9]{1,6}/g);e={isSuccess:h,gatewayIp:t&&t.length?t[0].split(\"//\")[1].replace(/-/g,\".\"):\"\",port:i&&i.length?i[0].split(/:|p=/g)[1]:\"\",isProxy:a?1:0}}else e={isSuccess:h,gatewayIp:\"\",port:\"\",isProxy:a?1:0};delete l.success,delete l.eventType,delete l.firstSuccess,l.vid=Number(l.vid);const t=Object.assign({},l,e,{eventType:JC.REJOIN_GATEWAY});this.send({type:zC.RE_JOIN_GATEWAY,data:t},!0)}}joinChannelTimeout(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=Date.now(),r=$C($C({},i.info),{},{lts:n,timeout:t,elapse:n-i.startTime});this.send({type:zC.JOIN_CHANNEL_TIMEOUT,data:r},!0)}publish(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=$C($C({},n),{},{eventType:JC.PUBLISH,lts:r,eventElapse:t.eventElapse,elapse:r-i.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid});this.send({type:zC.PUBLISH,data:s},!0)}subscribe(e,t,i){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,s=Date.now(),o=$C($C({},r),{},{eventType:JC.SUBSCRIBE,lts:s,eventElapse:t.eventElapse,elapse:s-n.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid},i&&{extend:JSON.stringify({isMassSubscribe:!0})});\"string\"==typeof t.peerid?o.peerSuid=t.peerid:o.peer=t.peerid,this.send({type:zC.SUBSCRIBE,data:o},!0)}wsCompressorInit(e){var t;const i=[...hu(t=this.baseInfoMap).call(t)],n=i.length?i[0]:\"UnableToGetSid\",r=this.baseInfoMap.get(n);if(!r)return;const s=r.info,o=Date.now(),a=$C($C({},s),{},{eventType:JC.WS_COMPRESSOR_INIT,lts:o,eventElapse:e.eventElapse,elapse:o-r.startTime,status:e.status?1:2});this.send({type:zC.WS_COMPRESSOR_INIT,data:a},!0)}firstRemoteVideoDecode(e,t,i,n){const r=this.baseInfoMap.get(e);if(!r)return;const s=r.info,o=Date.now(),a=$C($C($C({},s),n),{},{elapse:o-r.startTime,eventType:t,lts:o,firstDecodeFrame:Math.max(o-r.startTime,0),apEnd:Math.max(n.apEnd-r.startTime,0),apStart:Math.max(n.apStart-r.startTime,0),joinGwEnd:Math.max(n.joinGwEnd-r.startTime,0),joinGwStart:Math.max(n.joinGwStart-r.startTime,0),pcEnd:Math.max(n.pcEnd-r.startTime,0),pcStart:Math.max(n.pcStart-r.startTime,0),subscriberEnd:Math.max(n.subscriberEnd-r.startTime,0),subscriberStart:Math.max(n.subscriberStart-r.startTime,0),videoAddNotify:Math.max(n.videoAddNotify-r.startTime,0)});this.send({type:i,data:a},!0)}firstRemoteFrame(e,t,i,n){const r=this.baseInfoMap.get(e);if(!r)return;const s=r.info,o=Date.now(),a=$C($C($C({},s),n),{},{elapse:o-r.startTime,eventType:t,lts:o});this.send({type:i,data:a},!0)}pcStats(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=$C($C($C({},n),t),{},{vid:void 0===n.vid?0:Number(n.vid),elapse:r-i.startTime,eventType:JC.PC_STATS,lts:r});this.send({type:zC.PC_STATS,data:s},!0)}onGatewayStream(e,t,i,n){const r=this.baseInfoMap.get(e);if(!r)return;const s=r.info,o=Date.now(),a=$C($C($C({},s),n),{},{eventType:t,lts:o});this.send({type:i,data:a},!0)}streamSwitch(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=$C($C({},n),{},{eventType:JC.STREAM_SWITCH,lts:r,isDual:t.isdual,elapse:r-i.startTime,success:t.succ});this.send({type:zC.STREAM_SWITCH,data:s},!0)}requestProxyAppCenter(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=$C($C({},n),{},{eventType:JC.REQUEST_PROXY_APPCENTER,lts:r,eventElapse:r-t.lts,elapse:r-i.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:zC.REQUEST_PROXY_APPCENTER,data:s},!0)}requestProxyWorkerManager(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=$C($C({},n),{},{eventType:JC.REQUEST_PROXY_WORKER_MANAGER,lts:r,eventElapse:r-t.lts,elapse:r-i.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:zC.REQUEST_PROXY_WORKER_MANAGER,data:s},!0)}setProxyServer(e){this.proxyServer=e,e?WC.debug(\"reportProxyServerurl: \".concat(e)):WC.debug(\"disable reportProxyServerurl: \".concat(e))}peerPublishStatus(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=$C($C({},n),{},{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:t.audioPublishDuration>0?1:-1,videotag:t.videoPublishDuration>0?1:-1,lts:r,elapse:r-i.startTime,joinChannelSuccessElapse:r-(i.lastJoinSuccessTime||r),peerPublishDurationVideo:t.videoPublishDuration,peerPublishDurationAudio:t.audioPublishDuration});this.send({type:zC.PEER_PUBLISH_STATUS,data:s},!0)}workerEvent(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=function(e,t,i){const n=e[t];if(!n||\"string\"!=typeof n)return[e];e[t]=\"\";const r=LS(JSON.stringify(e));let s=0;const o=[];let a=0;for(let c=0;c<n.length;c++)a+=n.charCodeAt(c)<=127?1:3,a<=i-r||(o[o.length]=vS(vS({},e),{},{[t]:n.substring(s,c)}),s=c,a=n.charCodeAt(c)<=127?1:3);return s!==n.length-1&&(o[o.length]=vS(vS({},e),{},{[t]:n.substring(s)})),o}($C($C($C({},n),t),{},{elapse:r-i.startTime,lts:r,productType:\"WebRTC\"}),\"payload\",1300);s.forEach((e=>this.send({type:zC.WORKER_EVENT,data:e},!0)))}apworkerEvent(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=$C($C($C({},n),t),{},{elapse:r-i.startTime,lts:r});this.send({type:zC.AP_WORKER_EVENT,data:s},!0)}joinWebProxyAP(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=$C($C($C({},n),t),{},{elapse:r-i.startTime,lts:r,extend:t.extend||void 0});this.send({type:zC.JOIN_WEB_PROXY_AP,data:s},!0)}WebSocketQuit(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),s=$C($C($C({},n),t),{},{elapse:r-i.startTime,lts:r});this.send({type:zC.WEBSOCKET_QUIT,data:s},!0)}async sendCustomReportMessage(e,t){if(this.customReportCount+=t.length,this.customReportCount>kC(\"CUSTOM_REPORT_LIMIT\"))throw new Vg(xg.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((()=>{this.customReportCount=0}),5e3));const i=Date.now(),n=t.map((t=>({type:zC.USER_ANALYTICS,data:$C($C({sid:e},t),{},{lts:i})})));try{kC(\"NEW_REPORT_SERVER\")?await this.postDataToStatsCollector2(n):await this.postDataToStatsCollector(n)}catch(e){throw WC.error(\"send custom report message failed\",e.toString()),new Vg(xg.CUSTOM_REPORT_SEND_FAILED,e.message)}}sendApiInvoke(e){const t=kC(\"NOT_REPORT_EVENT\");if(e.tag&&Pr(t)&&Pr(t).call(t,e.tag))return!1;if(null===e.sid)return this.apiInvokeUploadPendingItems.push(e),!1;const i=this.baseInfoMap.get(e.sid);if(!i)return this.apiInvokeUploadPendingItems.push(e),!1;const{cname:n,uid:r,cid:s}=i.info;let o;if(e.lts=e.lts||Date.now(),e.error)if(e.error instanceof Vg){const{code:t,message:i}=e.error;o=t||(i||e.error.toString())}else o=e.error.toString();const a={invokeId:e.invokeId,sid:e.sid,cname:n,cid:s,uid:r,lts:e.lts,success:e.success,elapse:e.lts-i.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?o:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:zC.API_INVOKE,data:a},!1),!0}appendSessionId(){ev.__CLIENT_LIST__.forEach((e=>{if(e._sessionId){const t=this.apiInvokeUploadPendingItems.length;for(let i=0;i<t;i++){const t=this.apiInvokeUploadPendingItems.shift();t&&(t.sid=e._sessionId,this.sendApiInvoke(Object.assign({},t)))}}}))}send(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>kC(\"NORMAL_EVENT_QUEUE_CAPACITY\")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(e,t){const i=[],n=[];for(;e.length;){const t=e.shift();i.length<20?i.push(t):n.push(t)}e.push(...n);for(const e of[...i]){var r;if(-1!==this.ltsList.indexOf(e.data.lts))e.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(e.data.lts);else this.ltsList.push(e.data.lts),Zu(r=this.ltsList).call(r,((e,t)=>e-t))}t||(this.lastSendNormalEventTime=Date.now());return kC(\"ENABLE_EVENT_REPORT\")?(i.length&&(kC(\"NEW_REPORT_SERVER\")?this.postDataToStatsCollector2(i):this.postDataToStatsCollector(i)).catch((e=>i=>{kC(\"EVENT_REPORT_RETRY\")&&(t?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(e):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(e),this.normalEventUploadPendingItems.length>kC(\"NORMAL_EVENT_QUEUE_CAPACITY\")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-kC(\"NORMAL_EVENT_QUEUE_CAPACITY\")),WC.warning(\"report: drop normal events\"))))})(i)),e):e}async postDataToStatsCollector2(e){RS.networkState===hS.OFFLINE&&await tg.race([RS.onlineWaiter,US(2*JS.maxRetryTimeout)]);const t=e=>{let t=new Uint8Array;return e.forEach((e=>{const i=Zg(JSON.stringify(e.data)),n=new ArrayBuffer(5),r=(e=>{let t=0;return Object.entries(zC).forEach((i=>{let[n,r]=i;r===e.type&&(t=EventNameToID[n])})),t})(e),s=new DataView(n);s.setUint16(0,i.byteLength,!0),s.setUint8(2,255&r),s.setUint8(3,r>>>8&255),s.setUint8(4,r>>>16&255),t=$g(t,new Uint8Array(n)),t=$g(t,i)})),t},i=\"event\";let n=this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(kC(\"NEW_REPORT_SERVER_DOMAINS\")[0],\"&p=443&d=\").concat(i):\"https://\".concat(kC(\"NEW_REPORT_SERVER_DOMAINS\")[0],\"/\").concat(i);for(let r=0;r<2;r+=1){1===r&&(n=this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(kC(\"NEW_REPORT_SERVER_DOMAINS\")[1],\"&p=443&d=\").concat(i):\"https://\".concat(kC(\"NEW_REPORT_SERVER_DOMAINS\")[1],\"/\").concat(i));try{await RC(n,{timeout:1e4,data:t(e),headers:$C($C({biz:\"webrtc\",sendts:Math.round(Date.now()/1e3),debug:\"false\"},this._appId&&{appid:this._appId}),{},{\"Content-Type\":\"application/octet-stream\"})},!0)}catch(e){if(1===r)throw e;continue}return}}async postDataToStatsCollector(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i={msgType:\"EventMessages\",sentTs:Math.round(Date.now()/1e3),payloads:e.map((e=>JSON.stringify(e))),vid:(e=>{const t=e&&e.data.sid&&this.baseInfoMap.get(e.data.sid);return t&&t.info.vid&&+t.info.vid||0})(e[0])};RS.networkState===hS.OFFLINE&&await tg.race([RS.onlineWaiter,US(2*JS.maxRetryTimeout)]);const n=t?\"/events/proto-raws\":\"/events/messages\";let r=this.url||(this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(kC(\"EVENT_REPORT_DOMAIN\"),\"&p=\").concat(kC(\"STATS_COLLECTOR_PORT\"),\"&d=\").concat(n):\"https://\".concat(kC(\"EVENT_REPORT_DOMAIN\"),\":\").concat(kC(\"STATS_COLLECTOR_PORT\")).concat(n));for(let e=0;e<2;e+=1){1===e&&(r=this.backupUrl||(this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(kC(\"EVENT_REPORT_BACKUP_DOMAIN\"),\"&p=\").concat(kC(\"STATS_COLLECTOR_PORT\"),\"&d=\").concat(n):\"https://\".concat(kC(\"EVENT_REPORT_BACKUP_DOMAIN\"),\":\").concat(kC(\"STATS_COLLECTOR_PORT\")).concat(n)));try{t?await CC(r,{timeout:1e4,data:i}):await RC(r,{timeout:1e4,data:i})}catch(t){if(1===e)throw t;continue}return}}createBaseInfo(e,t){const i=Object.assign({},qC);return i.sid=e,this.baseInfoMap.set(e,{info:i,startTime:t}),i}reportResourceTiming(e,t){const i=performance.getEntriesByName(e),n=i[i.length-1];n&&this.reportApiInvoke(t,{name:\"Client.resourceTiming\",options:n,tag:oS.TRACER}).onSuccess()}}function tv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,i,n){const r=n.value;if(\"function\"==typeof r){const s=e.className||t.__className__||(\"AgoraRTCClient\"===t.constructor.name?\"Client\":t.constructor.name);n.value=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];let a=n;if(e.argsMap)try{a=e.argsMap(this,...n)}catch(e){WC.warning(e),a=[]}try{JSON.stringify(a)}catch(e){WC.warning(\"arguments for method \".concat(s,\".\").concat(String(i),\" not serializable for apiInvoke.\")),a=[]}const c=(e.report||iv).reportApiInvoke(this._sessionId||null,{name:\"\".concat(s,\".\").concat(String(i)),options:a,tag:oS.TRACER,reportResult:e.reportResult},e.throttleTime);try{const t=r.apply(this,n);return t instanceof tg?t.then((t=>(c.onSuccess(e.reportResult&&t),t))).catch((e=>{throw c.onError(e),e})):(c.onSuccess(e.reportResult&&t),t)}catch(e){throw c.onError(e),e}}}return n}}nu(ev,\"__CLIENT_LIST__\",[]);const iv=new ev;UC.on(\"REPORT_LOG_UPLOAD\",(e=>{e.networkState=RS.networkState,iv.reportApiInvoke(null,{name:\"logUploadError\",options:e,tag:oS.TRACER})}));const nv=[\"CHINA\",\"GLOBAL\"],rv=function(){const e=\"us\".concat(\"erna\",\"me\"),t=\"pa\".concat(\"sswo\",\"rd\"),i=[\"t\",\"s\",\"t\"];i.splice(1,0,\"e\");const n=i.join(\"\"),r=[];for(let e=0;e<6;e++)r.push(\"1\");const s=r.join(\"\"),o={};return o[e]=n,o[t]=s,Object.assign(o,{turnServerURL:\"\",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=rv,NC||(PC.WEBCS_DOMAIN=[\"ap-web-1-oversea.agora.io\",\"ap-web-1-north-america.agora.io\"],PC.WEBCS_DOMAIN_BACKUP_LIST=[\"ap-web-2-oversea.agora.io\",\"ap-web-2-north-america.agora.io\"],PC.PROXY_CS=[\"proxy-ap-web-oversea.agora.io\",\"proxy-ap-web-america.agora.io\"],PC.CDS_AP=[\"cds-ap-web-oversea.agora.io\",\"cds-ap-web-america.agora.io\",\"cds-ap-web-america2.agora.io\"],PC.ACCOUNT_REGISTER=[\"sua-ap-web-oversea.agora.io\",\"sua-ap-web-america.agora.io\",\"sua-ap-web-america2.agora.io\"],PC.UAP_AP=[\"uap-ap-web-oversea.agora.io\",\"uap-ap-web-america.agora.io\",\"uap-ap-web-america2.agora.io\"],PC.LOG_UPLOAD_SERVER=\"logservice-oversea.agora.io\",PC.EVENT_REPORT_DOMAIN=\"statscollector-1-oversea.agora.io\",PC.EVENT_REPORT_BACKUP_DOMAIN=\"statscollector-2-oversea.agora.io\",PC.PROXY_SERVER_TYPE3=\"webrtc-cloud-proxy.agora.io\",PC.AREAS=[\"NORTH_AMERICA\",\"OVERSEA\"]);const sv=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],ov=[];function av(e,t){return!!t&&ov.some((i=>i.uid===e&&i.channelName===t))}ev.__CLIENT_LIST__=ov;var cv,dv,lv,hv,uv,pv,_v,Ev,mv,fv,gv,Sv,Tv,Rv,Cv,vv,Iv,yv=er(\"Array\").values,Av=Er,bv=ni,wv=Ee,Ov=yv,Nv=Array.prototype,Dv={DOMTokenList:!0,NodeList:!0},Pv=J((function(e){var t=e.values;return e===Nv||wv(Nv,e)&&t===Nv.values||bv(Dv,Av(e))?Ov:t}));function Lv(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o}function kv(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)}!function(e){e.L1T1=\"L1T1\",e.L1T2=\"L1T2\",e.L1T3=\"L1T3\",e.L2T1_KEY=\"L2T1_KEY\",e.L2T2_KEY=\"L2T2_KEY\",e.L2T3_KEY=\"L2T3_KEY\",e.L3T1_KEY=\"L3T1_KEY\",e.L3T2_KEY=\"L3T2_KEY\",e.L3T3_KEY=\"L3T3_KEY\"}(cv||(cv={})),function(e){e.CERTIFICATE=\"certificate\",e.CODEC=\"codec\",e.CANDIDATE_PAIR=\"candidate-pair\",e.LOCAL_CANDIDATE=\"local-candidate\",e.REMOTE_CANDIDATE=\"remote-candidate\",e.INBOUND=\"inbound-rtp\",e.TRACK=\"track\",e.OUTBOUND=\"outbound-rtp\",e.PC=\"peer-connection\",e.REMOTE_INBOUND=\"remote-inbound-rtp\",e.REMOTE_OUTBOUND=\"remote-outbound-rtp\",e.TRANSPORT=\"transport\",e.CSRC=\"csrc\",e.DATA_CHANNEL=\"data-channel\",e.STREAM=\"stream\",e.SENDER=\"sender\",e.RECEIVER=\"receiver\"}(dv||(dv={})),function(e){e[e.ACCESS_POINT=101]=\"ACCESS_POINT\",e[e.UNILBS=201]=\"UNILBS\",e[e.STRING_UID_ALLOCATOR=901]=\"STRING_UID_ALLOCATOR\"}(lv||(lv={})),function(e){e[e.IIIEGAL_APPID=1]=\"IIIEGAL_APPID\",e[e.IIIEGAL_UID=2]=\"IIIEGAL_UID\",e[e.INTERNAL_ERROR=3]=\"INTERNAL_ERROR\"}(hv||(hv={})),function(e){e[e.INVALID_VENDOR_KEY=5]=\"INVALID_VENDOR_KEY\",e[e.INVALID_CHANNEL_NAME=7]=\"INVALID_CHANNEL_NAME\",e[e.INTERNAL_ERROR=8]=\"INTERNAL_ERROR\",e[e.NO_AUTHORIZED=9]=\"NO_AUTHORIZED\",e[e.DYNAMIC_KEY_TIMEOUT=10]=\"DYNAMIC_KEY_TIMEOUT\",e[e.NO_ACTIVE_STATUS=11]=\"NO_ACTIVE_STATUS\",e[e.DYNAMIC_KEY_EXPIRED=13]=\"DYNAMIC_KEY_EXPIRED\",e[e.STATIC_USE_DYNAMIC_KEY=14]=\"STATIC_USE_DYNAMIC_KEY\",e[e.DYNAMIC_USE_STATIC_KEY=15]=\"DYNAMIC_USE_STATIC_KEY\",e[e.USER_OVERLOAD=16]=\"USER_OVERLOAD\",e[e.FORBIDDEN_REGION=18]=\"FORBIDDEN_REGION\",e[e.CANNOT_MEET_AREA_DEMAND=19]=\"CANNOT_MEET_AREA_DEMAND\"}(uv||(uv={})),function(e){e[e.NO_FLAG_SET=100]=\"NO_FLAG_SET\",e[e.FLAG_SET_BUT_EMPTY=101]=\"FLAG_SET_BUT_EMPTY\",e[e.INVALID_FALG_SET=102]=\"INVALID_FALG_SET\",e[e.FLAG_SET_BUT_NO_RE=103]=\"FLAG_SET_BUT_NO_RE\",e[e.INVALID_SERVICE_ID=104]=\"INVALID_SERVICE_ID\",e[e.NO_SERVICE_AVAILABLE=200]=\"NO_SERVICE_AVAILABLE\",e[e.NO_SERVICE_AVAILABLE_P2P=201]=\"NO_SERVICE_AVAILABLE_P2P\",e[e.NO_SERVICE_AVAILABLE_VOICE=202]=\"NO_SERVICE_AVAILABLE_VOICE\",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]=\"NO_SERVICE_AVAILABLE_WEBRTC\",e[e.NO_SERVICE_AVAILABLE_CDS=204]=\"NO_SERVICE_AVAILABLE_CDS\",e[e.NO_SERVICE_AVAILABLE_CDN=205]=\"NO_SERVICE_AVAILABLE_CDN\",e[e.NO_SERVICE_AVAILABLE_TDS=206]=\"NO_SERVICE_AVAILABLE_TDS\",e[e.NO_SERVICE_AVAILABLE_REPORT=207]=\"NO_SERVICE_AVAILABLE_REPORT\",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]=\"NO_SERVICE_AVAILABLE_APP_CENTER\",e[e.NO_SERVICE_AVAILABLE_ENV0=209]=\"NO_SERVICE_AVAILABLE_ENV0\",e[e.NO_SERVICE_AVAILABLE_VOET=210]=\"NO_SERVICE_AVAILABLE_VOET\",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]=\"NO_SERVICE_AVAILABLE_STRING_UID\",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]=\"NO_SERVICE_AVAILABLE_WEBRTC_UNILBS\",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]=\"NO_SERVICE_AVAILABLE_UNILBS_FLV\"}(pv||(pv={})),function(e){e[e.K_TIMESTAMP_EXPIRED=2]=\"K_TIMESTAMP_EXPIRED\",e[e.K_CHANNEL_PERMISSION_INVALID=3]=\"K_CHANNEL_PERMISSION_INVALID\",e[e.K_CERTIFICATE_INVALID=4]=\"K_CERTIFICATE_INVALID\",e[e.K_CHANNEL_NAME_EMPTY=5]=\"K_CHANNEL_NAME_EMPTY\",e[e.K_CHANNEL_NOT_FOUND=6]=\"K_CHANNEL_NOT_FOUND\",e[e.K_TICKET_INVALID=7]=\"K_TICKET_INVALID\",e[e.K_CHANNEL_CONFLICTED=8]=\"K_CHANNEL_CONFLICTED\",e[e.K_SERVICE_NOT_READY=9]=\"K_SERVICE_NOT_READY\",e[e.K_SERVICE_TOO_HEAVY=10]=\"K_SERVICE_TOO_HEAVY\",e[e.K_UID_BANNED=14]=\"K_UID_BANNED\",e[e.K_IP_BANNED=15]=\"K_IP_BANNED\",e[e.K_CHANNEL_BANNED=16]=\"K_CHANNEL_BANNED\",e[e.K_AUTO_REBALANCE=28]=\"K_AUTO_REBALANCE\",e[e.WARN_NO_AVAILABLE_CHANNEL=103]=\"WARN_NO_AVAILABLE_CHANNEL\",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]=\"WARN_LOOKUP_CHANNEL_TIMEOUT\",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]=\"WARN_LOOKUP_CHANNEL_REJECTED\",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]=\"WARN_OPEN_CHANNEL_TIMEOUT\",e[e.WARN_OPEN_CHANNEL_REJECTED=107]=\"WARN_OPEN_CHANNEL_REJECTED\",e[e.WARN_REQUEST_DEFERRED=108]=\"WARN_REQUEST_DEFERRED\",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]=\"ERR_DYNAMIC_KEY_TIMEOUT\",e[e.ERR_NO_AUTHORIZED=110]=\"ERR_NO_AUTHORIZED\",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]=\"ERR_VOM_SERVICE_UNAVAILABLE\",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]=\"ERR_NO_CHANNEL_AVAILABLE_CODE\",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]=\"ERR_MASTER_VOCS_UNAVAILABLE\",e[e.ERR_INTERNAL_ERROR=115]=\"ERR_INTERNAL_ERROR\",e[e.ERR_NO_ACTIVE_STATUS=116]=\"ERR_NO_ACTIVE_STATUS\",e[e.ERR_INVALID_UID=117]=\"ERR_INVALID_UID\",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]=\"ERR_DYNAMIC_KEY_EXPIRED\",e[e.ERR_STATIC_USE_DYANMIC_KE=119]=\"ERR_STATIC_USE_DYANMIC_KE\",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]=\"ERR_DYNAMIC_USE_STATIC_KE\",e[e.ERR_NO_VOCS_AVAILABLE=2e3]=\"ERR_NO_VOCS_AVAILABLE\",e[e.ERR_NO_VOS_AVAILABLE=2001]=\"ERR_NO_VOS_AVAILABLE\",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]=\"ERR_JOIN_CHANNEL_TIMEOUT\",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]=\"ERR_REPEAT_JOIN_CHANNEL\",e[e.ERR_JOIN_BY_MULTI_IP=2004]=\"ERR_JOIN_BY_MULTI_IP\",e[e.ERR_NOT_JOINED=2011]=\"ERR_NOT_JOINED\",e[e.ERR_REPEAT_JOIN_REQUEST=2012]=\"ERR_REPEAT_JOIN_REQUEST\",e[e.ERR_INVALID_VENDOR_KEY=2013]=\"ERR_INVALID_VENDOR_KEY\",e[e.ERR_INVALID_CHANNEL_NAME=2014]=\"ERR_INVALID_CHANNEL_NAME\",e[e.ERR_INVALID_STRINGUID=2015]=\"ERR_INVALID_STRINGUID\",e[e.ERR_TOO_MANY_USERS=2016]=\"ERR_TOO_MANY_USERS\",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]=\"ERR_SET_CLIENT_ROLE_TIMEOUT\",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]=\"ERR_SET_CLIENT_ROLE_NO_PERMISSION\",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]=\"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]=\"ERR_PUBLISH_REQUEST_INVALID\",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]=\"ERR_SUBSCRIBE_REQUEST_INVALID\",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]=\"ERR_NOT_SUPPORTED_MESSAGE\",e[e.ERR_ILLEAGAL_PLUGIN=2023]=\"ERR_ILLEAGAL_PLUGIN\",e[e.ERR_REJOIN_TOKEN_INVALID=2024]=\"ERR_REJOIN_TOKEN_INVALID\",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]=\"ERR_REJOIN_USER_NOT_JOINED\",e[e.ERR_INVALID_OPTIONAL_INFO=2027]=\"ERR_INVALID_OPTIONAL_INFO\",e[e.ILLEGAL_AES_PASSWORD=2028]=\"ILLEGAL_AES_PASSWORD\",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]=\"ILLEGAL_CLIENT_ROLE_LEVEL\",e[e.ERR_TOO_MANY_BROADCASTERS=2031]=\"ERR_TOO_MANY_BROADCASTERS\",e[e.ERR_TOO_MANY_SUBSCRIBERS=2032]=\"ERR_TOO_MANY_SUBSCRIBERS\",e[e.ERR_LICENSE_MISSING=32769]=\"ERR_LICENSE_MISSING\",e[e.ERR_LICENSE_EXPIRED=32771]=\"ERR_LICENSE_EXPIRED\",e[e.ERR_LICENSE_MINUTES_EXCEEDED=32773]=\"ERR_LICENSE_MINUTES_EXCEEDED\",e[e.ERR_LICENSE_PERIOD_INVALID=32774]=\"ERR_LICENSE_PERIOD_INVALID\",e[e.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]=\"ERR_LICENSE_MULTIPLE_SDK_SERVICE\",e[e.ERR_LICENSE_ILLEGAL=32783]=\"ERR_LICENSE_ILLEGAL\",e[e.ERR_TEST_RECOVER=9e3]=\"ERR_TEST_RECOVER\",e[e.ERR_TEST_TRYNEXT=9001]=\"ERR_TEST_TRYNEXT\",e[e.ERR_TEST_RETRY=9002]=\"ERR_TEST_RETRY\"}(_v||(_v={})),function(e){e.CONNECTING=\"connecting\",e.CONNECTED=\"connected\",e.RECONNECTING=\"reconnecting\",e.CLOSED=\"closed\"}(Ev||(Ev={})),function(e){e.WS_CONNECTED=\"ws_connected\",e.WS_RECONNECTING=\"ws_reconnecting\",e.WS_CLOSED=\"ws_closed\",e.WS_RECONNECT_WAITTING_FINISH=\"ws_reconnect_waitting_finish\",e.WS_RECONNECT_CREATE_CONNECTION=\"ws_reconnect_create_connection\",e.ON_BINARY_DATA=\"on_binary_data\",e.REQUEST_RECOVER=\"request_recover\",e.REQUEST_JOIN_INFO=\"request_join_info\",e.REQUEST_REJOIN_INFO=\"req_rejoin_info\",e.IS_P2P_DISCONNECTED=\"is_p2p_dis\",e.DISCONNECT_P2P=\"dis_p2p\",e.ABORT_P2P_EXECUTION=\"abort_p2p_execution\",e.NEED_RENEW_SESSION=\"need-sid\",e.REPORT_JOIN_GATEWAY=\"report_join_gateway\",e.REQUEST_TIMEOUT=\"request_timeout\",e.REQUEST_SUCCESS=\"request_success\",e.JOIN_RESPONSE=\"join_response\",e.DATACHANNEL_PRECONNECT=\"datachannel_preconnect\",e.DATACHANNEL_CONNECTING=\"datachannel_connecting\",e.DATACHANNEL_FAILBACK=\"datachannel_failback\",e.P2P_START=\"p2p_start\",e.P2P_CONNECTION=\"p2p_connection\",e.P2P_REMOTE_CANDIDATE_UPDATE=\"p2p_remote_candidate_update\",e.P2P_SUBSCRIBE=\"p2p_subscribe\",e.P2P_UNSUBSCRIBE=\"p2p_unsubscribe\",e.P2P_EXCHANGE_SDP=\"p2p_exchange_sdp\",e.P2P_ON_ADD_VIDEO_STREAM=\"p2p_on_add_video_stream\",e.P2P_ON_ADD_AUDIO_STREAM=\"p2p_on_add_audio_stream\"}(mv||(mv={})),function(e){e.PING=\"ping\",e.PING_BACK=\"ping_back\",e.JOIN=\"join_v3\",e.REJOIN=\"rejoin_v3\",e.LEAVE=\"leave\",e.SET_CLIENT_ROLE=\"set_client_role\",e.PUBLISH=\"publish\",e.PUBLISH_DATASTREAM=\"publish_datastream\",e.UNPUBLISH=\"unpublish\",e.UNPUBLISH_DATASTREAM=\"unpublish_datastream\",e.SUBSCRIBE=\"subscribe\",e.SUBSCRIBE_DATASTREAM=\"subscribe_datastream\",e.SUBSCRIBE_STREAMS=\"subscribe_streams\",e.UNSUBSCRIBE=\"unsubscribe\",e.UNSUBSCRIBE_DATASTREAM=\"unsubscribe_datastream\",e.UNSUBSCRIBE_STREAMS=\"unsubscribe_streams\",e.SUBSCRIBE_CHANGE=\"subscribe_change\",e.TRAFFIC_STATS=\"traffic_stats\",e.RENEW_TOKEN=\"renew_token\",e.SWITCH_VIDEO_STREAM=\"switch_video_stream\",e.DEFAULT_VIDEO_STREAM=\"default_video_stream\",e.SET_FALLBACK_OPTION=\"set_fallback_option\",e.GATEWAY_INFO=\"gateway_info\",e.CONTROL=\"control\",e.SEND_METADATA=\"send_metadata\",e.DATA_STREAM=\"data_stream\",e.PICK_SVC_LAYER=\"pick_svc_layer\",e.RESTART_ICE=\"restart_ice\",e.CONNECT_PC=\"connect_pc\",e.SET_VIDEO_PROFILE=\"set_video_profile\",e.SET_PARAMETER=\"set_parameter\",e.SET_RTM2_FLAG=\"set_rtm2_flag\"}(fv||(fv={})),function(e){e.PUBLISH_STATS=\"publish_stats\",e.PUBLISH_RELATED_STATS=\"publish_related_stats\",e.SUBSCRIBE_STATS=\"subscribe_stats\",e.SUBSCRIBE_RELATED_STATS=\"subscribe_related_stats\",e.WS_INFLATE_DATA_LENGTH=\"ws_inflate_data_length\",e.DENOISER_STATS=\"denoiser_stats\",e.TRANSPORT_STATS=\"transport_stats\",e.EXTENSION_USAGE_STATS=\"extension_usage_stats\"}(gv||(gv={})),function(e){e.ON_USER_ONLINE=\"on_user_online\",e.ON_USER_OFFLINE=\"on_user_offline\",e.ON_STREAM_FALLBACK_UPDATE=\"on_stream_fallback_update\",e.ON_PUBLISH_STREAM=\"on_publish_stream\",e.ON_UPLINK_STATS=\"on_uplink_stats\",e.ON_P2P_LOST=\"on_p2p_lost\",e.ON_REMOVE_STREAM=\"on_remove_stream\",e.ON_ADD_AUDIO_STREAM=\"on_add_audio_stream\",e.ON_ADD_VIDEO_STREAM=\"on_add_video_stream\",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=\"on_token_privilege_will_expire\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"on_token_privilege_did_expire\",e.ON_USER_BANNED=\"on_user_banned\",e.ON_USER_LICENSE_BANNED=\"on_user_license_banned\",e.ON_NOTIFICATION=\"on_notification\",e.ON_CRYPT_ERROR=\"on_crypt_error\",e.MUTE_AUDIO=\"mute_audio\",e.MUTE_VIDEO=\"mute_video\",e.UNMUTE_AUDIO=\"unmute_audio\",e.UNMUTE_VIDEO=\"unmute_video\",e.ON_P2P_OK=\"on_p2p_ok\",e.RECEIVE_METADATA=\"receive_metadata\",e.ON_DATA_STREAM=\"on_data_stream\",e.ON_REMOTE_DATASTREAM_UPDATE=\"on_remote_datastream_update\",e.ON_REMOTE_FULL_DATASTREAM_INFO=\"on_remote_full_datastream_info\",e.ENABLE_LOCAL_VIDEO=\"enable_local_video\",e.DISABLE_LOCAL_VIDEO=\"disable_local_video\",e.ENABLE_LOCAL_AUDIO=\"enable_local_audio\",e.DISABLE_LOCAL_AUDIO=\"disable_local_audio\",e.ON_PUBLISHED_USER_LIST=\"on_published_user_list\"}(Sv||(Sv={})),function(e){e.CONNECTION_STATE_CHANGE=\"CONNECTION_STATE_CHANGE\",e.NEED_ANSWER=\"NEED_ANSWER\",e.NEED_RENEGOTIATE=\"NEED_RENEGOTIATE\",e.P2P_LOST=\"P2P_LOST\",e.GATEWAY_P2P_LOST=\"GATEWAY_P2P_LOST\",e.NEED_UNPUB=\"NEED_UNPUB\",e.NEED_UNSUB=\"NEED_UNSUB\",e.NEED_UPLOAD=\"NEED_UPLOAD\",e.NEED_CONTROL=\"NEED_CONTROL\",e.START_RECONNECT=\"START_RECONNECT\",e.END_RECONNECT=\"END_RECONNECT\",e.NEED_SIGNAL_RTT=\"NEED_SIGNAL_RTT\"}(Tv||(Tv={})),function(e){e.SEND_ONLY=\"SEND_ONLY\",e.RECEIVE_ONLY=\"RECEIVE_ONLY\"}(Rv||(Rv={})),function(e){e.CONNECTED=\"websocket:connected\",e.RECONNECTING=\"websocket:reconnecting\",e.WILL_RECONNECT=\"websocket:will_reconnect\",e.CLOSED=\"websocket:closed\",e.FAILED=\"websocket:failed\",e.ON_MESSAGE=\"websocket:on_message\",e.REQUEST_NEW_URLS=\"websocket:request_new_urls\",e.RECONNECT_WAITTING_FINISH=\"websocket:reconnect_waitting_finish\",e.RECONNECT_CREATE_CONNECTION=\"websocket:reconnect_create_connection\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"websocket:on_token_privilege_did_expire\"}(Cv||(Cv={}));class Mv extends Vg{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",arguments.length>2?arguments[2]:void 0),nu(this,\"name\",\"AgoraRTCException\")}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"error\";return super.print(e,WC)}throw(){super.throw(WC)}}function Uv(e){if(\"string\"!=typeof e||!/^[a-zA-Z0-9 \\!\\#\\$\\%\\&\\(\\)\\+\\-\\:\\;\\<\\=\\.\\>\\?\\@\\[\\]\\^\\_\\{\\}\\|\\~\\,]{1,64}$/.test(e))throw WC.error(\"Invalid Channel Name \".concat(e)),new Mv(xg.INVALID_PARAMS,\"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,\")}function xv(e){if(!(t=e,\"number\"==typeof t&&Math.floor(t)===t&&0<=t&&t<=4294967295||Yg(e,1,255)))throw new Mv(xg.INVALID_PARAMS,\"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]\");var t;\"string\"==typeof e&&WC.warn(\"You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.\")}!function(e){e.TRANSCODE=\"mix_streaming\",e.RAW=\"raw_streaming\",e.INJECT=\"inject_streaming\"}(vv||(vv={})),function(e){e[e.INJECT_STREAM_STATUS_START_SUCCESS=0]=\"INJECT_STREAM_STATUS_START_SUCCESS\",e[e.INJECT_STREAM_STATUS_START_ALREADY_EXISTS=1]=\"INJECT_STREAM_STATUS_START_ALREADY_EXISTS\",e[e.INJECT_STREAM_STATUS_START_UNAUTHORIZED=2]=\"INJECT_STREAM_STATUS_START_UNAUTHORIZED\",e[e.INJECT_STREAM_STATUS_START_TIMEOUT=3]=\"INJECT_STREAM_STATUS_START_TIMEOUT\",e[e.INJECT_STREAM_STATUS_START_FAILED=4]=\"INJECT_STREAM_STATUS_START_FAILED\",e[e.INJECT_STREAM_STATUS_STOP_SUCCESS=5]=\"INJECT_STREAM_STATUS_STOP_SUCCESS\",e[e.INJECT_STREAM_STATUS_STOP_NOT_FOUND=6]=\"INJECT_STREAM_STATUS_STOP_NOT_FOUND\",e[e.INJECT_STREAM_STATUS_STOP_UNAUTHORIZED=7]=\"INJECT_STREAM_STATUS_STOP_UNAUTHORIZED\",e[e.INJECT_STREAM_STATUS_STOP_TIMEOUT=8]=\"INJECT_STREAM_STATUS_STOP_TIMEOUT\",e[e.INJECT_STREAM_STATUS_STOP_FAILED=9]=\"INJECT_STREAM_STATUS_STOP_FAILED\",e[e.INJECT_STREAM_STATUS_BROKEN=10]=\"INJECT_STREAM_STATUS_BROKEN\"}(Iv||(Iv={}));const Vv={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},Fv={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function Bv(e,t){Wg(e.url,\"\".concat(t,\".url\"),1,1e3,!1),Kg(e.x)||jg(e.x,\"\".concat(t,\".x\"),0,1e4),Kg(e.y)||jg(e.y,\"\".concat(t,\".y\"),0,1e4),Kg(e.width)||jg(e.width,\"\".concat(t,\".width\"),0,1e4),Kg(e.height)||jg(e.height,\"\".concat(t,\".height\"),0,1e4),Kg(e.zOrder)||jg(e.zOrder,\"\".concat(t,\".zOrder\"),0,255),Kg(e.alpha)||jg(e.alpha,\"\".concat(t,\".alpha\"),0,1,!1)}const jv={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:\"\"},Gv={audioBitrate:48,audioChannels:2,audioVolume:100,audioSampleRate:48e3,height:0,width:0,videoBitrate:400,videoFramerate:15,videoGop:30};var Wv,Hv,Kv,Yv,qv,Jv,zv,Xv,Qv,Zv,$v,eI,tI,iI;function nI(e){if(!e.channelName)throw new Mv(xg.INVALID_PARAMS,\"invalid channelName in info\");if(\"number\"!=typeof e.uid)throw new Mv(xg.INVALID_PARAMS,\"invalid uid in info, uid must be a number\");return e.token&&Wg(e.token,\"info.token\",1,2047),xv(e.uid),Uv(e.channelName),!0}!function(e){e.WARNING=\"@live_uap-warning\",e.ERROR=\"@line_uap-error\",e.PUBLISH_STREAM_STATUS=\"@live_uap-publish-status\",e.INJECT_STREAM_STATUS=\"@live_uap-inject-status\",e.WORKER_STATUS=\"@live_uap-worker-status\",e.REQUEST_NEW_ADDRESS=\"@live_uap-request-address\"}(Wv||(Wv={})),function(e){e.REQUEST_WORKER_MANAGER_LIST=\"@live_req_worker_manager\"}(Hv||(Hv={})),function(e){e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]=\"LIVE_STREAM_RESPONSE_SUCCEED\",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]=\"LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM\",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]=\"LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR\",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]=\"LIVE_STREAM_RESPONSE_BAD_STREAM\",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]=\"LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR\",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]=\"LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST\",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]=\"LIVE_STREAM_RESPONSE_NOT_AUTHORIZED\",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]=\"LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE\",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]=\"LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN\",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]=\"LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH\",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]=\"LIVE_STREAM_RESPONSE_NOT_SUPPORTED\",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]=\"LIVE_STREAM_RESPONSE_MAX_STREAM_NUM\",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]=\"LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR\",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]=\"LIVE_STREAM_RESPONSE_WORKER_LOST\",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]=\"LIVE_STREAM_RESPONSE_RESOURCE_LIMIT\",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]=\"LIVE_STREAM_RESPONSE_WORKER_QUIT\",e[e.ERROR_FAIL_SEND_MESSAGE=504]=\"ERROR_FAIL_SEND_MESSAGE\",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE\",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT\",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH\",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]=\"PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN\"}(Kv||(Kv={})),function(e){e.CONNECT_FAILED=\"connect failed\",e.CONNECT_TIMEOUT=\"connect timeout\",e.WS_DISCONNECTED=\"websocket disconnected\",e.REQUEST_TIMEOUT=\"request timeout\",e.REQUEST_FAILED=\"request failed\",e.WAIT_STATUS_TIMEOUT=\"wait status timeout\",e.WAIT_STATUS_ERROR=\"wait status error\",e.BAD_STATE=\"bad state\",e.WS_ABORT=\"ws abort\",e.AP_REQUEST_TIMEOUT=\"AP request timeout\",e.AP_JSON_PARSE_ERROR=\"AP json parse error\",e.AP_REQUEST_ERROR=\"AP request error\",e.AP_REQUEST_ABORT=\"AP request abort\"}(Yv||(Yv={})),function(e){e[e.SetSdkProfile=0]=\"SetSdkProfile\",e[e.SetSourceChannel=1]=\"SetSourceChannel\",e[e.SetSourceUserId=2]=\"SetSourceUserId\",e[e.SetDestChannel=3]=\"SetDestChannel\",e[e.StartPacketTransfer=4]=\"StartPacketTransfer\",e[e.StopPacketTransfer=5]=\"StopPacketTransfer\",e[e.UpdateDestChannel=6]=\"UpdateDestChannel\",e[e.Reconnect=7]=\"Reconnect\",e[e.SetVideoProfile=8]=\"SetVideoProfile\"}(qv||(qv={})),function(e){e.NETWORK_DISCONNECTED=\"NETWORK_DISCONNECTED\",e.NETWORK_CONNECTED=\"NETWORK_CONNECTED\",e.PACKET_JOINED_SRC_CHANNEL=\"PACKET_JOINED_SRC_CHANNEL\",e.PACKET_JOINED_DEST_CHANNEL=\"PACKET_JOINED_DEST_CHANNEL\",e.PACKET_SENT_TO_DEST_CHANNEL=\"PACKET_SENT_TO_DEST_CHANNEL\",e.PACKET_RECEIVED_VIDEO_FROM_SRC=\"PACKET_RECEIVED_VIDEO_FROM_SRC\",e.PACKET_RECEIVED_AUDIO_FROM_SRC=\"PACKET_RECEIVED_AUDIO_FROM_SRC\",e.PACKET_UPDATE_DEST_CHANNEL=\"PACKET_UPDATE_DEST_CHANNEL\",e.PACKET_UPDATE_DEST_CHANNEL_REFUSED=\"PACKET_UPDATE_DEST_CHANNEL_REFUSED\",e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE=\"PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE\"}(Jv||(Jv={})),function(e){e.RELAY_STATE_IDLE=\"RELAY_STATE_IDLE\",e.RELAY_STATE_CONNECTING=\"RELAY_STATE_CONNECTING\",e.RELAY_STATE_RUNNING=\"RELAY_STATE_RUNNING\",e.RELAY_STATE_FAILURE=\"RELAY_STATE_FAILURE\"}(zv||(zv={})),function(e){e.RELAY_OK=\"RELAY_OK\",e.SERVER_CONNECTION_LOST=\"SERVER_CONNECTION_LOST\",e.SRC_TOKEN_EXPIRED=\"SRC_TOKEN_EXPIRED\",e.DEST_TOKEN_EXPIRED=\"DEST_TOKEN_EXPIRED\"}(Xv||(Xv={})),function(e){e.High=\"high\",e.Low=\"low\",e.Audio=\"audio\",e.Screen=\"screen\",e.ScreenLow=\"screen_low\"}(Qv||(Qv={})),function(e){e.DISCONNECT=\"disconnect\",e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.NETWORK_QUALITY=\"network-quality\",e.STREAM_TYPE_CHANGE=\"stream-type-change\",e.IS_P2P_DISCONNECTED=\"is-p2p-dis\",e.DISCONNECT_P2P=\"dis-p2p\",e.REQUEST_NEW_GATEWAY_LIST=\"req-gate-url\",e.NEED_RENEW_SESSION=\"need-sid\",e.REQUEST_P2P_CONNECTION_PARAMS=\"request-p2p-connection-params\",e.JOIN_RESPONSE=\"join-response\",e.REQUEST_DC_CONNECTION_PARAMS=\"request-dc-connection-params\",e.RESET_CONNECTION_EVENTS=\"reset-connection-events\",e.DATACHANNEL_PRECONNECT=\"datachannel_preconnect\",e.DATACHANNEL_FAILBACK=\"datachannel_failback\",e.RESET_SIGNAL=\"reset-signal\"}(Zv||(Zv={})),function(e){e.P2P_DISCONNECTED=\"P2P_DISCONNECTED\",e.A_ROUND_WS_FAILED=\"A_ROUND_WS_FAILED\",e.TIMEOUT=\"TIMEOUT\",e.UNKNOWN_REASON=\"UNKNOWN_REASON\"}($v||($v={})),function(e){e[e.Nothing=0]=\"Nothing\",e[e.Audio=1]=\"Audio\",e[e.LwoVideo=2]=\"LwoVideo\",e[e.Video=4]=\"Video\",e[e.Data=8]=\"Data\",e[e.DataStream0=256]=\"DataStream0\",e[e.DataStream1=512]=\"DataStream1\",e[e.DataStream2=1024]=\"DataStream2\",e[e.DataStream3=2048]=\"DataStream3\",e[e.DataStream4=4096]=\"DataStream4\",e[e.DataStream5=8192]=\"DataStream5\",e[e.DataStream6=16384]=\"DataStream6\",e[e.DataStream7=32768]=\"DataStream7\"}(eI||(eI={})),function(e){e[e.websocket=0]=\"websocket\",e[e.datachannel=1]=\"datachannel\"}(tI||(tI={})),function(e){e.CHINA=\"CHINA\",e.ASIA=\"ASIA\",e.NORTH_AMERICA=\"NORTH_AMERICA\",e.EUROPE=\"EUROPE\",e.JAPAN=\"JAPAN\",e.INDIA=\"INDIA\",e.KOREA=\"KOREA\",e.HKMC=\"HKMC\",e.US=\"US\",e.OCEANIA=\"OCEANIA\",e.SOUTH_AMERICA=\"SOUTH_AMERICA\",e.AFRICA=\"AFRICA\",e.OVERSEA=\"OVERSEA\",e.GLOBAL=\"GLOBAL\",e.EXTENSIONS=\"EXTENSIONS\"}(iI||(iI={}));const rI=[iI.AFRICA,iI.ASIA,iI.CHINA,iI.EUROPE,iI.GLOBAL,iI.INDIA,iI.JAPAN,iI.NORTH_AMERICA,iI.OCEANIA,iI.OVERSEA,iI.SOUTH_AMERICA];var sI;!function(e){e.CHINA=\"CN\",e.ASIA=\"AS\",e.NORTH_AMERICA=\"NA\",e.EUROPE=\"EU\",e.JAPAN=\"JP\",e.INDIA=\"IN\",e.KOREA=\"KR\",e.HKMC=\"HK\",e.US=\"US\",e.OCEANIA=\"OC\",e.SOUTH_AMERICA=\"SA\",e.AFRICA=\"AF\",e.OVERSEA=\"OVERSEA\",e.GLOBAL=\"GLOBAL\",e.EXTENSIONS=\"GLOBAL\"}(sI||(sI={}));const oI={CHINA:{},ASIA:{CODE:sI.ASIA,WEBCS_DOMAIN:[\"ap-web-1-asia.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-asia.agora.io\"],PROXY_CS:[\"proxy-ap-web-asia.agora.io\"],CDS_AP:[\"cds-ap-web-asia.agora.io\",\"cds-ap-web-asia2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-asia.agora.io\",\"sua-ap-web-asia2.agora.io\"],UAP_AP:[\"uap-ap-web-asia.agora.io\",\"uap-ap-web-asia2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-asia.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-asia.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-asia.agora.io\"],PROXY_SERVER_TYPE3:[\"southeast-asia.webrtc-cloud-proxy.sd-rtn.com\"]},NORTH_AMERICA:{CODE:sI.NORTH_AMERICA,WEBCS_DOMAIN:[\"ap-web-1-north-america.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-north-america.agora.io\"],PROXY_CS:[\"proxy-ap-web-america.agora.io\"],CDS_AP:[\"cds-ap-web-america.agora.io\",\"cds-ap-web-america2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-america.agora.io\",\"sua-ap-web-america2.agora.io\"],UAP_AP:[\"uap-ap-web-america.agora.io\",\"uap-ap-web-america2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-north-america.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-north-america.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-north-america.agora.io\"],PROXY_SERVER_TYPE3:[\"east-usa.webrtc-cloud-proxy.sd-rtn.com\"]},EUROPE:{CODE:sI.EUROPE,WEBCS_DOMAIN:[\"ap-web-1-europe.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-europe.agora.io\"],PROXY_CS:[\"proxy-ap-web-europe.agora.io\"],CDS_AP:[\"cds-ap-web-europe.agora.io\",\"cds-ap-web-europe2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-europe.agora.io\",\"sua-ap-web-europe.agora.io\"],UAP_AP:[\"uap-ap-web-europe.agora.io\",\"uap-ap-web-europe2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-europe.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-europe.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-europe.agora.io\"],PROXY_SERVER_TYPE3:[\"europe.webrtc-cloud-proxy.sd-rtn.com\"]},JAPAN:{CODE:sI.JAPAN,WEBCS_DOMAIN:[\"ap-web-1-japan.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-japan.agora.io\"],PROXY_CS:[\"proxy-ap-web-japan.agora.io\"],CDS_AP:[\"cds-ap-web-japan.agora.io\",\"cds-ap-web-japan2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-japan.agora.io\",\"sua-ap-web-japan2.agora.io\"],UAP_AP:[\"uap-ap-web-japan.agora.io\",\"\\tuap-ap-web-japan2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-japan.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-japan.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-japan.agora.io\"],PROXY_SERVER_TYPE3:[\"japan.webrtc-cloud-proxy.sd-rtn.com\"]},INDIA:{CODE:sI.INDIA,WEBCS_DOMAIN:[\"ap-web-1-india.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-india.agora.io\"],PROXY_CS:[\"proxy-ap-web-india.agora.io\"],CDS_AP:[\"cds-ap-web-india.agora.io\",\"cds-ap-web-india2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-india.agora.io\",\"sua-ap-web-india2.agora.io\"],UAP_AP:[\"uap-ap-web-india.agora.io\",\"uap-ap-web-india2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-india.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-india.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-india.agora.io\"],PROXY_SERVER_TYPE3:[\"india.webrtc-cloud-proxy.sd-rtn.com\"]},KOREA:{CODE:sI.KOREA,WEBCS_DOMAIN:[\"ap-web-1-korea.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-korea.agora.io\"],PROXY_CS:[\"proxy-ap-web-korea.agora.io\"],CDS_AP:[\"cds-ap-web-korea.agora.io\",\"cds-ap-web-korea2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-korea.agora.io\",\"sua-ap-web-korea2.agora.io\"],UAP_AP:[\"uap-ap-web-korea.agora.io\",\"uap-ap-web-korea2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-korea.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-korea.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-korea.agora.io\"],PROXY_SERVER_TYPE3:[\"korea.webrtc-cloud-proxy.sd-rtn.com\"]},HKMC:{CODE:sI.HKMC,WEBCS_DOMAIN:[\"ap-web-1-hkmc.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-hkmc.agora.io\"],PROXY_CS:[\"proxy-ap-web-hkmc.agora.io\"],CDS_AP:[\"cds-ap-web-hkmc.agora.io\",\"cds-ap-web-hkmc2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-hkmc.agora.io\",\"sua-ap-web-hkmc2.agora.io\"],UAP_AP:[\"uap-ap-web-hkmc.agora.io\",\"uap-ap-web-hkmc2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-hkmc.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-hkmc.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-hkmc.agora.io\"],PROXY_SERVER_TYPE3:[\"hkmc.webrtc-cloud-proxy.sd-rtn.com\"]},US:{CODE:sI.US,WEBCS_DOMAIN:[\"ap-web-1-us.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-us.agora.io\"],PROXY_CS:[\"proxy-ap-web-us.agora.io\"],CDS_AP:[\"cds-ap-web-us.agora.io\",\"cds-ap-web-us2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-us.agora.io\",\"sua-ap-web-us2.agora.io\"],UAP_AP:[\"uap-ap-web-us.agora.io\",\"uap-ap-web-us2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-us.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-us.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-us.agora.io\"],PROXY_SERVER_TYPE3:[\"us.webrtc-cloud-proxy.sd-rtn.com\"]},OVERSEA:{CODE:sI.OVERSEA,WEBCS_DOMAIN:[\"ap-web-1-oversea.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-oversea.agora.io\"],PROXY_CS:[\"proxy-ap-web-oversea.agora.io\"],CDS_AP:[\"cds-ap-web-oversea.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-oversea.agora.io\"],UAP_AP:[\"uap-ap-web-oversea.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-oversea.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-oversea.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-oversea.agora.io\"],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.agora.io\"]},GLOBAL:{CODE:sI.GLOBAL,WEBCS_DOMAIN:[\"webrtc2-ap-web-1.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-ap-web-3.agora.io\"],PROXY_CS:[\"ap-proxy-1.agora.io\",\"ap-proxy-2.agora.io\"],CDS_AP:[\"cds-ap-web-1.agora.io\",\"cds-ap-web-3.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-1.agora.io\",\"sua-ap-web-3.agora.io\"],UAP_AP:[\"uap-ap-web-1.agora.io\",\"uap-ap-web-3.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice.agora.io\"],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.sd-rtn.com\"]},OCEANIA:{CODE:sI.OCEANIA,WEBCS_DOMAIN:[\"ap-web-1-oceania.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-oceania.agora.io\"],PROXY_CS:[\"proxy-ap-web-oceania.agora.io\"],CDS_AP:[\"cds-ap-web-oceania.agora.io\",\"cds-ap-web-oceania2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-oceania.agora.io\",\"sua-ap-web-oceania2.agora.io\"],UAP_AP:[\"uap-ap-web-oceania.agora.io\",\"uap-ap-web-oceania2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-oceania.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-oceania.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-oceania.agora.io\"],PROXY_SERVER_TYPE3:[\"oceania.webrtc-cloud-proxy.sd-rtn.com\"]},SOUTH_AMERICA:{CODE:sI.SOUTH_AMERICA,WEBCS_DOMAIN:[\"ap-web-1-south-america.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-south-america.agora.io\"],PROXY_CS:[\"proxy-ap-web-south-america.agora.io\"],CDS_AP:[\"cds-ap-web-south-america.agora.io\",\"cds-ap-web-south-america2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-south-america.agora.io\",\"sua-ap-web-south-america2.agora.io\"],UAP_AP:[\"uap-ap-web-south-america.agora.io\",\"uap-ap-web-south-america2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-south-america.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-south-america.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-south-america.agora.io\"],PROXY_SERVER_TYPE3:[\"south-america.webrtc-cloud-proxy.sd-rtn.com\"]},AFRICA:{CODE:sI.AFRICA,WEBCS_DOMAIN:[\"ap-web-1-africa.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-africa.agora.io\"],PROXY_CS:[\"proxy-ap-web-africa.agora.io\"],CDS_AP:[\"cds-ap-web-africa.agora.io\",\"cds-ap-web-africa2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-africa.agora.io\",\"sua-ap-web-africa2.agora.io\"],UAP_AP:[\"uap-ap-web-africa.agora.io\",\"uap-ap-web-africa2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-africa.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-africa.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-south-africa.agora.io\"],PROXY_SERVER_TYPE3:[\"africa.webrtc-cloud-proxy.sd-rtn.com\"]},EXTENSIONS:{}};var aI,cI,dI,lI,hI,uI,pI,_I,EI,mI,fI,gI,SI,TI,RI,CI,vI,II,yI,AI,bI,wI;NC&&(oI.CHINA={CODE:sI.CHINA,WEBCS_DOMAIN:[\"webrtc2-2.ap.sd-rtn.com\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-4.ap.sd-rtn.com\"],PROXY_CS:[\"proxy-web.ap.sd-rtn.com\"],CDS_AP:[\"cds-web-2.ap.sd-rtn.com\",\"cds-web-4.ap.sd-rtn.com\"],ACCOUNT_REGISTER:[\"sua-web-2.ap.sd-rtn.com\",\"sua-web-4.ap.sd-rtn.com\"],UAP_AP:[\"uap-web-2.ap.sd-rtn.com\",\"uap-web-4.ap.sd-rtn.com\"],EVENT_REPORT_DOMAIN:[\"web-3.statscollector.sd-rtn.com\"],EVENT_REPORT_BACKUP_DOMAIN:[\"web-4.statscollector.sd-rtn.com\"],LOG_UPLOAD_SERVER:[\"logservice-china.agora.io\"],PROXY_SERVER_TYPE3:[\"east-cn.webrtc-cloud-proxy.sd-rtn.com\"]}),function(e){e.UPDATE_BITRATE_LIMIT=\"update_bitrate_limit\"}(aI||(aI={}));class OI extends iS{constructor(e,t){super(),nu(this,\"onICEConnectionStateChange\",void 0),nu(this,\"onConnectionStateChange\",void 0),nu(this,\"onDTLSTransportStateChange\",void 0),nu(this,\"onDTLSTransportError\",void 0),nu(this,\"onICETransportStateChange\",void 0),nu(this,\"onFirstAudioReceived\",void 0),nu(this,\"onFirstVideoReceived\",void 0),nu(this,\"onFirstAudioDecoded\",void 0),nu(this,\"onFirstVideoDecoded\",void 0),nu(this,\"onFirstVideoDecodedTimeout\",void 0),nu(this,\"onSelectedLocalCandidateChanged\",void 0),nu(this,\"onSelectedRemoteCandidateChanged\",void 0)}}class NI extends OI{constructor(e,t){super(e,t)}}!function(e){e.SEND=\"sendonly\",e.RECV=\"recvonly\",e.SENDRECV=\"sendrecv\",e.INACTIVE=\"inactive\"}(cI||(cI={})),function(e){e.VIDEO=\"video\",e.AUDIO=\"audio\"}(dI||(dI={})),function(e){e[e.UDP=0]=\"UDP\",e[e.TCP=1]=\"TCP\",e[e.RELAY=2]=\"RELAY\"}(lI||(lI={})),function(e){e[e.FIRST_CONNECTION=0]=\"FIRST_CONNECTION\",e[e.TCP_RESTART=1]=\"TCP_RESTART\",e[e.RELAY_RESTART=2]=\"RELAY_RESTART\",e[e.OLD_FIRST_CONNECTION=10]=\"OLD_FIRST_CONNECTION\",e[e.OLD_RESTART=11]=\"OLD_RESTART\",e[e.DISCONNECTED_OR_FAILED=20]=\"DISCONNECTED_OR_FAILED\"}(hI||(hI={})),function(e){e.LocalVideoTrack=\"videoTrack\",e.LocalAudioTrack=\"audioTrack\",e.LocalVideoLowTrack=\"videoLowTrack\"}(uI||(uI={})),function(e){e.New=\"new\",e.Connected=\"connected\",e.Reconnecting=\"reconnecting\",e.Disconnected=\"disconnected\"}(pI||(pI={})),function(e){e.StateChange=\"stateChange\",e.IceConnectionStateChange=\"iceConnectionStateChange\",e.RequestMuteLocal=\"requestMuteLocal\",e.RequestUnmuteLocal=\"requestUnmuteLocal\",e.RequestRePublish=\"requestRePublish\",e.RequestRePublishDataChannel=\"requestRePublishDataChannel\",e.RequestReSubscribe=\"requestReSubscribe\",e.RequestUploadStats=\"requestUploadStats\",e.MediaReconnectStart=\"MediaReconnectStart\",e.MediaReconnectEnd=\"MediaReconnectEnd\",e.NeedSignalRTT=\"NeedSignalRTT\",e.RequestRestartICE=\"RequestRestartIce\",e.PeerConnectionStateChange=\"PeerConnectionStateChange\",e.RequestReconnect=\"RequestReconnect\",e.RequestReconnectPC=\"RequestReconnectPC\",e.RequestUnpublishForReconnectPC=\"RequestUnpublishForReconnectPC\",e.P2PLost=\"P2PLost\",e.UpdateVideoEncoder=\"UpdateVideoEncoder\",e.ConnectionTypeChange=\"ConnectionTypeChange\",e.RequestLowStreamParameter=\"RequestLowStreamParameter\",e.QueryClientConnectionState=\"QueryClientConnectionState\",e.LocalCandidate=\"LocalCandidate\",e.RequestP2PMuteLocal=\"requestP2PMuteLocal\",e.RequestP2PPublish=\"RequestP2PPublish\",e.RequestP2PUnPublish=\"RequestP2PUnPublish\",e.RequestP2PUnmuteRemote=\"RequestP2PUnmuteRemote\",e.RequestP2PMuteRemote=\"RequestP2PMuteRemote\",e.RequestP2PRestartICE=\"RequestP2PRestartICE\"}(_I||(_I={})),function(e){e.MUTE_LOCAL_VIDEO=\"mute_local_video\",e.MUTE_LOCAL_AUDIO=\"mute_local_audio\",e.UNMUTE_LOCAL_VIDEO=\"unmute_local_video\",e.UNMUTE_LOCAL_AUDIO=\"unmute_local_audio\",e.MUTE_REMOTE_VIDEO=\"mute_remote_video\",e.MUTE_REMOTE_AUDIO=\"mute_remote_audio\",e.UNMUTE_REMOTE_VIDEO=\"unmute_remote_video\",e.UNMUTE_REMOTE_AUDIO=\"unmute_remote_audio\"}(EI||(EI={})),function(e){e.CONNECTING=\"CONNECTING\",e.RECONNECTING=\"RECONNECTING\",e.CONNECTED=\"CONNECTED\",e.CLOSED=\"CLOSED\"}(mI||(mI={})),function(e){e[e.CONNECT_AP=0]=\"CONNECT_AP\",e[e.AP_CONNECTED=1]=\"AP_CONNECTED\",e[e.CONNECT_WORKER_MANAGER=2]=\"CONNECT_WORKER_MANAGER\",e[e.WORKER_MANAGER_CONNECTED=3]=\"WORKER_MANAGER_CONNECTED\",e[e.GET_WORKER_MANAGER_RESPONSE=4]=\"GET_WORKER_MANAGER_RESPONSE\",e[e.CONNECT_WORKER=5]=\"CONNECT_WORKER\",e[e.WORKER_CONNECTED=6]=\"WORKER_CONNECTED\",e[e.CLOSED=7]=\"CLOSED\"}(fI||(fI={})),function(e){e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.STATE_CHANGE=\"state-change\",e.INSPECT_RESULT=\"inspect-result\",e.CLIENT_LOCAL_VIDEO_TRACK=\"client-local-video-track\",e.REQUEST_NEW_WORKER_URL=\"request-new-worker-url\"}(gI||(gI={})),function(e){e.NETWORK_ERROR=\"NETWORK_ERROR\",e.SERVER_ERROR=\"SERVER_ERROR\",e.MULTI_IP=\"MULTI_IP\",e.TIMEOUT=\"TIMEOUT\",e.OFFLINE=\"OFFLINE\",e.LEAVE=\"LEAVE\",e.P2P_FAILED=\"P2P_FAILED\",e.FALLBACK=\"FALLBACK\"}(SI||(SI={})),function(e){e.CONNECTED=\"transmitter:connected\",e.RECONNECTING=\"transmitter:reconnecting\",e.WILL_RECONNECT=\"transmitter:will_reconnect\",e.CLOSED=\"transmitter:closed\",e.FAILED=\"transmitter:failed\",e.ON_MESSAGE=\"transmitter:on_message\",e.REQUEST_NEW_URLS=\"transmitter:request_new_urls\",e.RECONNECT_WAITTING_FINISH=\"transmitter:reconnect_waitting_finish\",e.RECONNECT_CREATE_CONNECTION=\"transmitter:reconnect_create_connection\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"transmitter:on_token_privilege_did_expire\",e.TO_CONNECT_DATACHANNEL=\"transmitter:to_connect_datachannel\",e.FAILBACK=\"transmitter:failback\"}(TI||(TI={})),function(e){e.CAMERA_CHANGED=\"camera-changed\",e.MICROPHONE_CHANGED=\"microphone-changed\",e.PLAYBACK_DEVICE_CHANGED=\"playback-device-changed\",e.AUDIO_AUTOPLAY_FAILED=\"audio-autoplay-failed\",e.AUTOPLAY_FAILED=\"autoplay-failed\",e.SECURITY_POLICY_VIOLATION=\"security-policy-violation\"}(RI||(RI={})),function(e){e[e.APP_TYPE_INVALID_VALUE=-1]=\"APP_TYPE_INVALID_VALUE\",e[e.APP_TYPE_NATIVE=0]=\"APP_TYPE_NATIVE\",e[e.APP_TYPE_NATIVE_COCOS=1]=\"APP_TYPE_NATIVE_COCOS\",e[e.APP_TYPE_NATIVE_UNITY=2]=\"APP_TYPE_NATIVE_UNITY\",e[e.APP_TYPE_NATIVE_ELECTRON=3]=\"APP_TYPE_NATIVE_ELECTRON\",e[e.APP_TYPE_NATIVE_FLUTTER=4]=\"APP_TYPE_NATIVE_FLUTTER\",e[e.APP_TYPE_NATIVE_UNREAL=5]=\"APP_TYPE_NATIVE_UNREAL\",e[e.APP_TYPE_NATIVE_XAMARIN=6]=\"APP_TYPE_NATIVE_XAMARIN\",e[e.APP_TYPE_NATIVE_API_CLOUD=7]=\"APP_TYPE_NATIVE_API_CLOUD\",e[e.APP_TYPE_NATIVE_REACT_NATIVE=8]=\"APP_TYPE_NATIVE_REACT_NATIVE\",e[e.APP_TYPE_NATIVE_PYTHON=9]=\"APP_TYPE_NATIVE_PYTHON\",e[e.APP_TYPE_NATIVE_COCOS_CREATOR=10]=\"APP_TYPE_NATIVE_COCOS_CREATOR\",e[e.APP_TYPE_NATIVE_RUST=11]=\"APP_TYPE_NATIVE_RUST\",e[e.APP_TYPE_NATIVE_C_SHARP=12]=\"APP_TYPE_NATIVE_C_SHARP\",e[e.APP_TYPE_NATIVE_CEF=13]=\"APP_TYPE_NATIVE_CEF\",e[e.APP_TYPE_NATIVE_UNI_APP=14]=\"APP_TYPE_NATIVE_UNI_APP\",e[e.APP_TYPE_WEBRTC=1e3]=\"APP_TYPE_WEBRTC\",e[e.APP_TYPE_WEBRTC_REACT=1001]=\"APP_TYPE_WEBRTC_REACT\",e[e.APP_TYPE_WEBRTC_VUE=1002]=\"APP_TYPE_WEBRTC_VUE\",e[e.APP_TYPE_WEBRTC_ANGULAR=1003]=\"APP_TYPE_WEBRTC_ANGULAR\"}(CI||(CI={})),function(e){e.CONNECTING=\"CONNECTING\",e.RECONNECTING=\"RECONNECTING\",e.CONNECTED=\"CONNECTED\",e.CLOSED=\"CLOSED\"}(vI||(vI={})),function(e){e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.STATE_CHANGE=\"state-change\",e.INSPECT_RESULT=\"inspect-result\",e.CLIENT_LOCAL_VIDEO_TRACK=\"client-local-video-track\",e.REQUEST_NEW_WORKER_URL=\"request-new-worker-url\"}(II||(II={})),function(e){e[e.CONNECT_AP=0]=\"CONNECT_AP\",e[e.AP_CONNECTED=1]=\"AP_CONNECTED\",e[e.CONNECT_WORKER_MANAGER=2]=\"CONNECT_WORKER_MANAGER\",e[e.WORKER_MANAGER_CONNECTED=3]=\"WORKER_MANAGER_CONNECTED\",e[e.GET_WORKER_MANAGER_RESPONSE=4]=\"GET_WORKER_MANAGER_RESPONSE\",e[e.CONNECT_WORKER=5]=\"CONNECT_WORKER\",e[e.WORKER_CONNECTED=6]=\"WORKER_CONNECTED\",e[e.CLOSED=7]=\"CLOSED\"}(yI||(yI={})),function(e){e.CALL=\"call\",e.CANDIDATE=\"candidate\",e.PUBLISH=\"publish\",e.UNPUBLISH=\"unpublish\",e.SUBSCRIBE=\"subscribe\",e.UNSUBSCRIBE=\"unsubscribe\",e.CONTROL=\"control\",e.RESTART_ICE=\"restart_ice\",e.ACK=\"ack\",e.JOIN=\"join\",e.EXCHANGE_SDP=\"exchange_sdp\",e.DO_SUBSCRIBE=\"do_subscribe\",e.DO_UNSUBSCRIBE=\"do_unsubscribe\"}(AI||(AI={})),function(e){e.MUTE_LOCAL_AUDIO=\"mute_local_audio\",e.MUTE_LOCAL_VIDEO=\"mute_local_video\",e.UNMUTE_LOCAL_AUDIO=\"unmute_local_audio\",e.UNMUTE_LOCAL_VIDEO=\"unmute_local_video\"}(bI||(bI={})),function(e){e[e.SUCCESS=1]=\"SUCCESS\",e[e.FAILED=0]=\"FAILED\"}(wI||(wI={}));const DI={[lv.ACCESS_POINT]:{[pv.NO_FLAG_SET]:{desc:\"flag is zero\",retry:!1},[pv.FLAG_SET_BUT_EMPTY]:{desc:\"flag is empty\",retry:!1},[pv.INVALID_FALG_SET]:{desc:\"invalid flag\",retry:!1},[pv.FLAG_SET_BUT_NO_RE]:{desc:\"flag set unilbs but no request\",retry:!1},[pv.INVALID_SERVICE_ID]:{desc:\"invalid service id\",retry:!1},[pv.NO_SERVICE_AVAILABLE]:{desc:\"no service available\",retry:!0},[pv.NO_SERVICE_AVAILABLE_P2P]:{desc:\"no unilbs p2p service available\",retry:!0},[pv.NO_SERVICE_AVAILABLE_VOICE]:{desc:\"no unilbs voice service available\",retry:!0},[pv.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:\"no unilbs webrtc service available\",retry:!0},[pv.NO_SERVICE_AVAILABLE_CDS]:{desc:\"no cds service available\",retry:!0},[pv.NO_SERVICE_AVAILABLE_CDN]:{desc:\"no cdn dispatcher service available\",retry:!0},[pv.NO_SERVICE_AVAILABLE_TDS]:{desc:\"no tds service available\",retry:!0},[pv.NO_SERVICE_AVAILABLE_REPORT]:{desc:\"no unilbs report service available\",retry:!0},[pv.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:\"no app center service available\",retry:!0},[pv.NO_SERVICE_AVAILABLE_ENV0]:{desc:\"no unilbs sig env0 service available\",retry:!0},[pv.NO_SERVICE_AVAILABLE_VOET]:{desc:\"no unilbs voet service available\",retry:!0},[pv.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:\"no string uid service available\",retry:!0},[pv.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:\"no webrtc unilbs service available\",retry:!0}},[lv.UNILBS]:{[uv.INVALID_VENDOR_KEY]:{desc:\"invalid vendor key, can not find appid\",retry:!1},[uv.INVALID_CHANNEL_NAME]:{desc:\"invalid channel name\",retry:!1},[uv.INTERNAL_ERROR]:{desc:\"unilbs internal error\",retry:!1},[uv.NO_AUTHORIZED]:{desc:\"invalid token, authorized failed\",retry:!1},[uv.DYNAMIC_KEY_TIMEOUT]:{desc:\"dynamic key or token timeout\",retry:!1},[uv.NO_ACTIVE_STATUS]:{desc:\"no active status\",retry:!1},[uv.DYNAMIC_KEY_EXPIRED]:{desc:\"dynamic key expired\",retry:!1},[uv.STATIC_USE_DYNAMIC_KEY]:{desc:\"static use dynamic key\",retry:!1},[uv.DYNAMIC_USE_STATIC_KEY]:{desc:\"dynamic use static key\",retry:!1},[uv.USER_OVERLOAD]:{desc:\"amount of users over load\",retry:!1},[uv.FORBIDDEN_REGION]:{desc:\"the request is forbidden in this area\",retry:!1},[uv.CANNOT_MEET_AREA_DEMAND]:{desc:\"unable to allocate services in this area\",retry:!1}},[lv.STRING_UID_ALLOCATOR]:{[hv.IIIEGAL_APPID]:{desc:\"invalid appid\",retry:!1},[hv.IIIEGAL_UID]:{desc:\"invalid string uid\",retry:!1},[hv.INTERNAL_ERROR]:{desc:\"string uid allocator internal error\",retry:!0}}};function PI(e){const t=DI[Math.floor(e/1e4)];if(!t)return{desc:\"unkonw error\",retry:!1};const i=t[e%1e4];if(!i){if(Math.floor(e/1e4)===lv.ACCESS_POINT){const t=e%1e4;if(\"1\"===t.toString()[0])return{desc:e.toString(),retry:!1};if(\"2\"===t.toString()[0])return{desc:e.toString(),retry:!0}}return{desc:\"unkonw error\",retry:!1}}return i}const LI={[_v.K_TIMESTAMP_EXPIRED]:{desc:\"K_TIMESTAMP_EXPIRED\",action:\"failed\"},[_v.K_CHANNEL_PERMISSION_INVALID]:{desc:\"K_CHANNEL_PERMISSION_INVALID\",action:\"failed\"},[_v.K_CERTIFICATE_INVALID]:{desc:\"K_CERTIFICATE_INVALID\",action:\"failed\"},[_v.K_CHANNEL_NAME_EMPTY]:{desc:\"K_CHANNEL_NAME_EMPTY\",action:\"failed\"},[_v.K_CHANNEL_NOT_FOUND]:{desc:\"K_CHANNEL_NOT_FOUND\",action:\"failed\"},[_v.K_TICKET_INVALID]:{desc:\"K_TICKET_INVALID\",action:\"failed\"},[_v.K_CHANNEL_CONFLICTED]:{desc:\"K_CHANNEL_CONFLICTED\",action:\"failed\"},[_v.K_SERVICE_NOT_READY]:{desc:\"K_SERVICE_NOT_READY\",action:\"tryNext\"},[_v.K_SERVICE_TOO_HEAVY]:{desc:\"K_SERVICE_TOO_HEAVY\",action:\"tryNext\"},[_v.K_UID_BANNED]:{desc:\"K_UID_BANNED\",action:\"failed\"},[_v.K_IP_BANNED]:{desc:\"K_IP_BANNED\",action:\"failed\"},[_v.K_AUTO_REBALANCE]:{desc:\"k_AUTO_REBALANCE\",action:\"recover\"},[_v.ERR_INVALID_VENDOR_KEY]:{desc:\"ERR_INVALID_VENDOR_KEY\",action:\"failed\"},[_v.ERR_INVALID_CHANNEL_NAME]:{desc:\"ERR_INVALID_CHANNEL_NAME\",action:\"failed\"},[_v.WARN_NO_AVAILABLE_CHANNEL]:{desc:\"WARN_NO_AVAILABLE_CHANNEL\",action:\"failed\"},[_v.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:\"WARN_LOOKUP_CHANNEL_TIMEOUT\",action:\"tryNext\"},[_v.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:\"WARN_LOOKUP_CHANNEL_REJECTED\",action:\"failed\"},[_v.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:\"WARN_OPEN_CHANNEL_TIMEOUT\",action:\"tryNext\"},[_v.WARN_OPEN_CHANNEL_REJECTED]:{desc:\"WARN_OPEN_CHANNEL_REJECTED\",action:\"failed\"},[_v.WARN_REQUEST_DEFERRED]:{desc:\"WARN_REQUEST_DEFERRED\",action:\"failed\"},[_v.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:\"ERR_DYNAMIC_KEY_TIMEOUT\",action:\"failed\"},[_v.ERR_NO_AUTHORIZED]:{desc:\"ERR_NO_AUTHORIZED\",action:\"failed\"},[_v.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:\"ERR_VOM_SERVICE_UNAVAILABLE\",action:\"tryNext\"},[_v.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:\"ERR_NO_CHANNEL_AVAILABLE_CODE\",action:\"failed\"},[_v.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:\"ERR_MASTER_VOCS_UNAVAILABLE\",action:\"tryNext\"},[_v.ERR_INTERNAL_ERROR]:{desc:\"ERR_INTERNAL_ERROR\",action:\"tryNext\"},[_v.ERR_NO_ACTIVE_STATUS]:{desc:\"ERR_NO_ACTIVE_STATUS\",action:\"failed\"},[_v.ERR_INVALID_UID]:{desc:\"ERR_INVALID_UID\",action:\"failed\"},[_v.ERR_DYNAMIC_KEY_EXPIRED]:{desc:\"ERR_DYNAMIC_KEY_EXPIRED\",action:\"failed\"},[_v.ERR_STATIC_USE_DYANMIC_KE]:{desc:\"ERR_STATIC_USE_DYANMIC_KE\",action:\"failed\"},[_v.ERR_DYNAMIC_USE_STATIC_KE]:{desc:\"ERR_DYNAMIC_USE_STATIC_KE\",action:\"failed\"},[_v.ERR_NO_VOCS_AVAILABLE]:{desc:\"ERR_NO_VOCS_AVAILABLE\",action:\"tryNext\"},[_v.ERR_NO_VOS_AVAILABLE]:{desc:\"ERR_NO_VOS_AVAILABLE\",action:\"tryNext\"},[_v.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:\"ERR_JOIN_CHANNEL_TIMEOUT\",action:\"tryNext\"},[_v.ERR_JOIN_BY_MULTI_IP]:{desc:\"ERR_JOIN_BY_MULTI_IP\",action:\"recover\"},[_v.ERR_NOT_JOINED]:{desc:\"ERR_NOT_JOINED\",action:\"failed\"},[_v.ERR_REPEAT_JOIN_REQUEST]:{desc:\"ERR_REPEAT_JOIN_REQUEST\",action:\"quit\"},[_v.ERR_REPEAT_JOIN_CHANNEL]:{desc:\"ERR_REPEAT_JOIN_CHANNEL\",action:\"quit\"},[_v.ERR_INVALID_STRINGUID]:{desc:\"ERR_INVALID_STRINGUID\",action:\"failed\"},[_v.ERR_TOO_MANY_USERS]:{desc:\"ERR_TOO_MANY_USERS\",action:\"tryNext\"},[_v.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:\"ERR_SET_CLIENT_ROLE_TIMEOUT\",action:\"failed\"},[_v.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:\"ERR_SET_CLIENT_ROLE_TIMEOUT\",action:\"failed\"},[_v.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:\"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",action:\"success\"},[_v.ERR_PUBLISH_REQUEST_INVALID]:{desc:\"ERR_PUBLISH_REQUEST_INVALID\",action:\"failed\"},[_v.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:\"ERR_SUBSCRIBE_REQUEST_INVALID\",action:\"failed\"},[_v.ERR_NOT_SUPPORTED_MESSAGE]:{desc:\"ERR_NOT_SUPPORTED_MESSAGE\",action:\"failed\"},[_v.ERR_ILLEAGAL_PLUGIN]:{desc:\"ERR_ILLEAGAL_PLUGIN\",action:\"failed\"},[_v.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:\"ILLEGAL_CLIENT_ROLE_LEVEL\",action:\"failed\"},[_v.ERR_REJOIN_TOKEN_INVALID]:{desc:\"ERR_REJOIN_TOKEN_INVALID\",action:\"failed\"},[_v.ERR_REJOIN_USER_NOT_JOINED]:{desc:\"ERR_REJOIN_NOT_JOINED\",action:\"failed\"},[_v.ERR_INVALID_OPTIONAL_INFO]:{desc:\"ERR_INVALID_OPTIONAL_INFO\",action:\"quit\"},[_v.ERR_TEST_RECOVER]:{desc:\"ERR_TEST_RECOVER\",action:\"recover\"},[_v.ERR_TEST_TRYNEXT]:{desc:\"ERR_TEST_TRYNEXT\",action:\"recover\"},[_v.ERR_TEST_RETRY]:{desc:\"ERR_TEST_RETRY\",action:\"recover\"},[_v.ILLEGAL_AES_PASSWORD]:{desc:\"ERR_TEST_RETRY\",action:\"failed\"},[_v.ERR_TOO_MANY_BROADCASTERS]:{desc:\"ERR_TOO_MANY_BROADCASTERS\",action:\"failed\"},[_v.ERR_TOO_MANY_SUBSCRIBERS]:{desc:\"ERR_TOO_MANY_SUBSCRIBERS\",action:\"failed\"},[_v.ERR_LICENSE_ILLEGAL]:{desc:\"ERR_LICENSE_ILLEGAL\",action:\"quit\"},[_v.ERR_LICENSE_MISSING]:{desc:\"ERR_LICENSE_MISSING\",action:\"quit\"},[_v.ERR_LICENSE_EXPIRED]:{desc:\"ERR_LICENSE_EXPIRED\",action:\"quit\"},[_v.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:\"ERR_LICENSE_MINUTES_EXCEEDED\",action:\"quit\"},[_v.ERR_LICENSE_PERIOD_INVALID]:{desc:\"ERR_LICENSE_PERIOD_INVALID\",action:\"quit\"},[_v.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:\"ERR_LICENSE_MULTIPLE_SDK_SERVICE\",action:\"quit\"}};function kI(e){const t=LI[e];return t||{desc:\"UNKNOW_ERROR_\".concat(e),action:\"failed\"}}function MI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function UI(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?MI(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):MI(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function xI(e){return e.every((e=>e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING))}function VI(e,t){if(\"string\"==typeof e)return e;const{proxy:i,host:n,port:r}=e;if(t){const e=kC(\"JOIN_GATEWAY_FALLBACK_PORT\")||443;return 443===e?\"wss://\".concat(n,\"/ws/?p=\").concat(Number(r)+150):\"wss://\".concat(n,\":\").concat(e,\"/ws/?p=\").concat(Number(r)+150)}return i?\"wss://\".concat(i,\"/ws/?h=\").concat(n,\"&p=\").concat(r):\"wss://\".concat(n,\":\").concat(r)}const FI=/wss:\\/\\/(.+)\\/ws\\/\\?h=(.+)&p=([0-9]+)\\/?/,BI=/wss:\\/\\/(.+)\\/ws\\/\\?p=([0-9]+)\\/?/,jI=/wss:\\/\\/(.+):([0-9]+)\\/?/,GI=/wss:\\/\\/(.[^\\/]+)\\/?/;let WI=0;class HI{constructor(e,t){nu(this,\"id\",0),nu(this,\"store\",void 0),nu(this,\"recordIndex\",void 0),nu(this,\"websockets\",[]),nu(this,\"try443PortDuration\",2e3),nu(this,\"forceCloseWSDuration\",5e3),nu(this,\"try443PortTimeout\",null),nu(this,\"forceCloseTimeout\",null),nu(this,\"isTry443PortFailed\",!1),nu(this,\"isNormalPortFailed\",!1),nu(this,\"useDoubleDomain\",!1),nu(this,\"useProxy\",!1),nu(this,\"startTime\",Date.now()),this.id=++WI,this.try443PortDuration=kC(\"JOIN_GATEWAY_TRY_443PORT_DURATION\")||2e3,this.forceCloseWSDuration=e||5e3,this.store=t}closeAllWebsockets(){this.websockets.forEach((e=>{e.onopen=null,e.onclose=null,e.onmessage=null,e.close()})),this.websockets.length=0}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout)}logger(){var e;const t=Date.now()-this.startTime;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];WC.debug(\"[choose-best-ws \".concat(null===(e=this.store)||void 0===e?void 0:e.clientId,\" \").concat(this.id,\"] \").concat(t,\"ms:\"),...n)}createWebSocket(e,t,i){this.logger(\"createWebSocket:\",e,{isTry443Port:t,hasTimeoutDetection:i});const n=kC(\"GATEWAY_DOMAINS\"),r=Date.now(),s=[],o=n.find((t=>{var i;return Pr(i=e.host).call(i,t)}));o||(this.useDoubleDomain=!1);const a=[];if(this.useDoubleDomain)n.forEach((i=>{a.push(VI(UI(UI({},e),{},{host:e.host.replace(o,i)}),t))}));else{const i=UI({},e);if(t&&o){const e=n.find((e=>e!==o));e&&(i.host=i.host.replace(o,e))}a.push(VI(i,t))}try{a.forEach((e=>{const t=new WebSocket(e);t.binaryType=\"arraybuffer\",s.push(t),this.logger(\"ws is connecting:\",t.url)}))}catch(n){if(this.logger(\"ws create failed\"),s.forEach((e=>e.close())),s.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(e,t,i);if(!t&&443!==Number(e.port))return this.createWebSocket(e,!0,i);throw new Mv(xg.WS_ERR,\"init websocket failed! Error: \".concat(n.toString()))}const c=ng();this.store&&this.store.recordJoinChannelService({urls:s.map((e=>e.url)),service:\"gateway\"},this.recordIndex),s.forEach((e=>{e.onopen=()=>{this.logger(\"onopen: ws \".concat(e.url,\" open cost \").concat(Date.now()-r,\"ms\")),this.websockets.forEach((t=>{t!==e&&(t.onopen=null,t.onclose=null,t.onmessage=null,t.close(),this.logger(\"close backup websocket: \".concat(t.url)))})),this.websockets.length=0,c.resolve(e)},e.onclose=i=>{this.logger(\"onclose: ws \".concat(e.url,\" closed cost \").concat(Date.now()-r,\"ms state: \").concat(e.readyState)),t?this.isTry443PortFailed=xI(s):this.isNormalPortFailed=xI(s),this.logger(\"443: \".concat(this.useProxy?\"not try\":this.isTry443PortFailed?\"failed\":\"trying\",\" 47xx: \").concat(this.isNormalPortFailed?\"failed\":\"trying\")),(t&&this.isTry443PortFailed||!t&&(this.isTry443PortFailed||this.useProxy)&&this.isNormalPortFailed)&&(this.logger(\"onclose: all websocket is closed, \".concat(i.reason)),c.reject({code:i.code,reason:$v.A_ROUND_WS_FAILED}))},e.onmessage=t=>this.logger(\"\".concat(e.url,\" onmessage: \").concat(t.data))})),this.websockets.push(...s);return i||(()=>{const i=()=>{this.logger(\"5s timeout close un-opens, isWebsocket created: \",c.isResolved),this.websockets.forEach((e=>e.readyState!==WebSocket.OPEN&&e.close()))};if(t||this.useProxy)return this.logger(\"add 5s timeout at \".concat(t?\"try-443\":\"proxy\",\" condition\")),this.forceCloseTimeout=window.setTimeout(i,this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout((()=>{if(this.logger(\"2s timeout, isWebsocket created: \",c.isResolved),c.isResolved)return i();pg().os===ag.MAC_OS&&Rg()&&i(),this.createWebSocket(e,!0,!0).then((e=>c.resolve(e))).catch((e=>{this.isNormalPortFailed&&c.reject(e),this.logger(\"try 443 port to create ws failed\")})),this.forceCloseTimeout=window.setTimeout(i,this.forceCloseWSDuration)}),this.try443PortDuration)})(),c.promise}chooseBestWebsocket(e,t,i,n){return this.useDoubleDomain=!!t,\"string\"==typeof e&&(e=function(e){let t,i,n;return[,t,i,n]=e.match(FI)||[],t||([,i,n]=e.match(BI)||[]),i&&n||([,i,n]=e.match(jI)||[]),i&&n||([,i]=e.match(GI)||[]),i||WC.warning(\"un-destructible url: \",e),{proxy:t,host:i,port:n||\"443\"}}(e)),this.recordIndex=n,this.useProxy=!!e.proxy,i&&this.useProxy&&(WC.warn(\"cannot use 443 only when use proxy\"),i=!1),this.createWebSocket(e,!!i,!1).finally((()=>this.clearTimeout()))}}function KI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}class YI extends iS{get url(){return this.websocket&&this.websocket.url||null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){var t;Pr(t=[\"tryNext\",\"recover\"]).call(t,e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,\"reconnecting\"===this._state?this.emit(Cv.RECONNECTING,this.reconnectReason):\"connected\"===this._state?this.emit(Cv.CONNECTED):\"closed\"===this._state?this.emit(Cv.CLOSED):\"failed\"===this._state&&this.emit(Cv.FAILED))}resetReconnectCount(e){WC.debug(\"websocket reset reconnect count, reason: \"+e),this.reconnectCount=0}constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0;super(),nu(this,\"connectionID\",0),nu(this,\"currentURLIndex\",0),nu(this,\"urls\",[]),nu(this,\"_reconnectMode\",\"tryNext\"),nu(this,\"reconnectReason\",void 0),nu(this,\"_initMutex\",new YS(\"websocket\")),nu(this,\"name\",void 0),nu(this,\"_state\",\"closed\"),nu(this,\"reconnectInterrupter\",void 0),nu(this,\"websocket\",void 0),nu(this,\"retryConfig\",void 0),nu(this,\"reconnectCount\",0),nu(this,\"forceCloseTimeout\",5e3),nu(this,\"onlineReconnectListener\",void 0),nu(this,\"useCompress\",void 0),nu(this,\"tryDoubleDomain\",!1),nu(this,\"use443PortOnly\",!1),nu(this,\"wsInflateLength\",0),nu(this,\"wsDeflateLength\",0),nu(this,\"closeEstablishingWs\",(()=>{})),nu(this,\"store\",void 0),nu(this,\"joinGatewayRecordIndex\",void 0),this.store=s,this.name=e,this.retryConfig=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?KI(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):KI(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t),this.useCompress=i,this.tryDoubleDomain=n,this.use443PortOnly=r;const{timeout:o,timeoutFactor:a}=t,c=Math.max(300,Math.floor(3*o/5)),d=Math.max(1.2,Math.floor(8*a)/10);hS.ONLINE&&(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=d),RS.on(uS.NETWORK_STATE_CHANGE,((e,t)=>{e!==t&&(this.resetReconnectCount(\"network state change: \".concat(t,\" -> \").concat(e)),e===hS.ONLINE?(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=d):(this.retryConfig.timeout=o,this.retryConfig.timeoutFactor=a))}))}getConnection(){return this.websocket||void 0}async init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const i=await this._initMutex.lock();this.forceCloseTimeout=t,this.urls=e,this.state=\"connecting\";try{const e=ng(),t=this.urls[this.currentURLIndex];this.createWebSocketConnection(t).then(e.resolve).catch(e.reject),this.once(Cv.CLOSED,(()=>{e.reject(new Vg(xg.WS_DISCONNECT))})),this.once(Cv.CONNECTED,e.resolve),await e.promise}catch(e){}finally{i()}}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount(\"close\"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const e=this.websocket;t?setTimeout((()=>e.close()),500):e.close(),this.websocket=void 0}this.state=e?\"failed\":\"closed\",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(e,t){if(!this.websocket)return void WC.warning(\"[\".concat(this.name,\"] can not reconnect, no websocket\"));void 0!==e&&(this.reconnectMode=e),WC.debug(\"[\".concat(this.name,\"] reconnect is triggered initiative\")),\"number\"==typeof this.joinGatewayRecordIndex&&this.store&&this.store.recordJoinChannelService({status:\"error\",errors:[new Error(t)]},this.joinGatewayRecordIndex);const i=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),i&&i.bind(this.websocket)({code:9999,reason:t})}sendMessage(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new Vg(xg.WS_ABORT,\"websocket is not ready\");try{t||(e=JSON.stringify(e)),this.websocket.send(e)}catch(e){throw new Vg(xg.WS_ERR,\"send websocket message error\"+e.toString())}}setWsInflateData(e){this.wsDeflateLength=this.wsDeflateLength+e.originLength,this.wsInflateLength=this.wsInflateLength+e.compressedLength}getWsInflateData(){const e=this.wsInflateLength,t=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:t}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(e){var t;const i=ng();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;const n=e=>{var t;null===(t=this.store)||void 0===t||t.signalChannelOpen(),WC.debug(\"[\".concat(this.name,\"] websocket opened:\"),e),this.reconnectMode=\"retry\",this.state=\"connected\",this.resetReconnectCount(\"opened\"),i.resolve()},r=async e=>{var t;if(WC.debug(\"[\".concat(this.name,\"] websocket close \").concat(null===(t=this.websocket)||void 0===t?void 0:t.url,\", code: \").concat(e.code,\", reason: \").concat(e.reason,\", current mode: \").concat(this.reconnectMode)),this.reconnectCount>=this.retryConfig.maxRetryCount)i.reject(new Vg(xg.WS_DISCONNECT,\"websocket close: \".concat(e.code))),this.close();else{\"connected\"===this.state&&(this.reconnectReason=e.reason,this.state=\"reconnecting\");const t=SS(this,Cv.WILL_RECONNECT,this.reconnectMode,e.reason)||this.reconnectMode,n=await this.reconnectWithAction(t);if(\"closed\"===this.state)return void WC.debug(\"[\".concat(this.connectionID,\"] ws is closed, no need to reconnect\"));if(!n)return i.reject(new Vg(xg.WS_DISCONNECT,\"websocket reconnect failed: \".concat(e.code))),this.close(!0);i.resolve()}},s=e=>{this.emit(Cv.ON_MESSAGE,e)},o=e=>{WC.warn(\"[\".concat(this.connectionID,\"] ws open error \").concat(e))};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),kC(\"GATEWAY_WSS_ADDRESS\")&&this.name.startsWith(\"gateway\")&&(e=kC(\"GATEWAY_WSS_ADDRESS\")),WC.debug(\"[\".concat(this.name,\"] start connect, url:\"),e);const a=null===(t=this.store)||void 0===t?void 0:t.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"gateway\"});try{var c;const t=await this.chooseBestWebsocketConnection(e);this.websocket=t,n&&n(this.websocket.url),this.websocket.onclose=r,this.websocket.onmessage=s,this.websocket.onerror=o,null===(c=this.store)||void 0===c||c.recordJoinChannelService({endTs:Date.now(),status:\"success\"},a),this.joinGatewayRecordIndex=a}catch(e){const t=\"closed\"===this.state,n=e instanceof Vg,s=n&&e.code===xg.WS_ABORT,o=n&&e.code===xg.WS_ERR,c=n?e.message:e&&(e.reason||e.toString());WC.warning(\"[choose-best-ws] chooseBestWebsocket error: \".concat(c)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:s?\"aborted\":\"error\",errors:[e]},a),t||o?(i.reject(t?new Vg(xg.WS_DISCONNECT,\"websocket is closed: \".concat(c)):new Vg(xg.WS_ERR,\"init websocket failed: \".concat(c))),o&&WC.error(\"[\".concat(this.name,\"] init websocket failed: \").concat(c))):r&&r(e)}return i.promise}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount)return!1;if(0===this.urls.length)return!1;if(\"closed\"===this.state)return!1;WC.warning(\"[choose-best-ws] action: =>\",e),this.onlineReconnectListener||RS.isOnline||!RS.onlineWaiter||(this.onlineReconnectListener=RS.onlineWaiter.then((()=>{this.onlineReconnectListener=void 0})));let i=!0;if(this.reconnectInterrupter=()=>i=!1,t){const t=zS(this.reconnectCount,this.retryConfig);WC.debug(\"[\".concat(this.name,\"] wait \").concat(t,\"ms to reconnect websocket, mode: \").concat(e)),await tg.race([US(t),this.onlineReconnectListener||new tg((()=>{}))])}if(\"closed\"===this._state||!i)return!1;this.reconnectCount+=1;const n=async(e,t)=>{this.emit(Cv.RECONNECT_CREATE_CONNECTION,t),await this.createWebSocketConnection(e)};try{if(\"retry\"===e)this.emit(Cv.RECONNECT_WAITTING_FINISH,e),await n(this.urls[this.currentURLIndex],e);else if(\"tryNext\"===e){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction(\"recover\",!1);WC.debug(\"[\".concat(this.name,\"] websocket url length: \").concat(this.urls.length,\" current index: \").concat(this.currentURLIndex)),this.emit(Cv.RECONNECT_WAITTING_FINISH,e),await n(this.urls[this.currentURLIndex],e)}else\"recover\"===e&&(WC.debug(\"[\".concat(this.name,\"] request new urls\")),this.resetReconnectCount(\"recover mode\"),this.emit(Cv.RECONNECT_WAITTING_FINISH,e),this.urls=await fS(this,Cv.REQUEST_NEW_URLS),this.currentURLIndex=0,await n(this.urls[this.currentURLIndex],e))}catch(i){var r;WC.error(\"[\".concat(this.name,\"] reconnect failed \").concat(i&&i.toString()));const n=null==i||null===(r=i.data)||void 0===r?void 0:r.desc;return Array.isArray(n)&&Pr(n).call(n,\"dynamic key expired\")?(this.emit(Cv.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):this.reconnectWithAction(e,t)}return!0}}class qI extends YI{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){const i=ng(),n=function(e,t){return new HI(e,t)}(this.forceCloseTimeout,this.store);this.closeEstablishingWs=()=>{WC.debug(\"[choose-best-ws] close establishing websockets\"),n.closeAllWebsockets(),i.reject(new Vg(xg.WS_ABORT,\"choose best websocket aborted\"))};const r=kC(\"GATEWAY_DOMAINS\");return WC.debug(\"[choose-best-ws] currentDomain: \",e,\", domains: \",r,\"total: \".concat(this.urls.length),\"current: \".concat(this.currentURLIndex+1)),n.chooseBestWebsocket(e,this.tryDoubleDomain,this.use443PortOnly,t).then(i.resolve).catch(i.reject),i.promise.finally((()=>{this.closeEstablishingWs=void 0}))}}class JI extends YI{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){return new tg(((i,n)=>{let r=!1;const s=[];this.closeEstablishingWs=()=>{WC.debug(\"[choose-best-ws] close establishing websockets\"),s.forEach((e=>{e.onclose=null,e.onopen=null,e.onmessage=null,e.close()})),n(new Vg(xg.WS_ABORT,\"choose best websocket aborted\"))};const o=kC(\"GATEWAY_DOMAINS\");let a;const c=e.indexOf(\"?h=\"),d=o.find((t=>-1!==c?Pr(e).call(e,t,c):Pr(e).call(e,t)));WC.debug(\"[choose-best-ws] currentDomain: \",d,\", domains: \",o);let l=!this.tryDoubleDomain||!d;if(!l&&d){var h;const u=Date.now();try{o.forEach((t=>{const i=-1===c?e.replace(d,t):e.substr(0,c)+e.substr(c).replace(d,t),n=new WebSocket(i);n.binaryType=\"arraybuffer\",s.push(n),WC.debug(\"[choose-best-ws] ws is connecting:\",n.url)}))}catch(e){for(WC.debug(\"[choose-best-ws] ws create failed, fallback to single url\"),s.forEach((e=>e.close()));s.length;)s.pop();l=!0}null===(h=this.store)||void 0===h||h.recordJoinChannelService({urls:s.map((e=>e.url)),service:\"gateway\"},t),s.forEach((e=>{e.onopen=()=>{if(r)return;const t=Date.now()-u;WC.debug(\"[choose-best-ws] ws open cost \".concat(t,\"ms\")),s.filter((t=>t!==e)).forEach((e=>{WC.debug(\"[choose-best-ws]close backup websocket: \".concat(e.url)),e.close()})),r=!0,i(e)},e.onclose=e=>{if(a=e,r)return;s.find((e=>!(e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING)))||(WC.debug(\"[choose-best-ws] all websocket is closed\"),r=!0,n(a))},e.onmessage=t=>{WC.debug(\"[choose-best-ws]\".concat(e.url,\" onmessage: \").concat(t.data))}})),US(this.forceCloseTimeout).then((()=>{s.forEach((e=>{e.readyState!==WebSocket.OPEN&&e.close()}))}))}if(l){var u;let r;WC.debug(\"[choose-best-ws] use single url: \",e),null===(u=this.store)||void 0===u||u.recordJoinChannelService({urls:[e],service:\"gateway\"},t);try{r=new WebSocket(e),s.push(r),r.binaryType=\"arraybuffer\"}catch(e){const t=new Vg(xg.WS_ERR,\"init websocket failed! Error: \".concat(e.toString()));return WC.error(\"[\".concat(this.name,\"]\").concat(t)),void n(t)}r.onopen=()=>{i(r)},r.onclose=e=>{n(e)},r.onmessage=e=>{WC.debug(\"[choose-best-ws]\".concat(r.url,\" onmessage: \").concat(e.data))},US(this.forceCloseTimeout).then((()=>{r&&r.readyState!==WebSocket.OPEN&&r.close()}))}})).then((e=>(this.closeEstablishingWs=void 0,e))).catch((e=>{throw this.closeEstablishingWs=void 0,e}))}}class zI extends iS{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===Ev.CONNECTED?this.emit(mv.WS_CONNECTED):e===Ev.RECONNECTING?this.emit(mv.WS_RECONNECTING,this._websocketReconnectReason):e===Ev.CLOSED&&this.emit(mv.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),nu(this,\"_disconnectedReason\",void 0),nu(this,\"_websocketReconnectReason\",void 0),nu(this,\"_connectionState\",Ev.CLOSED),nu(this,\"reconnectToken\",void 0),nu(this,\"websocket\",void 0),nu(this,\"openConnectionTime\",void 0),nu(this,\"clientId\",void 0),nu(this,\"lastMsgTime\",Date.now()),nu(this,\"uploadCache\",[]),nu(this,\"uploadCacheInterval\",void 0),nu(this,\"rttRolling\",new dT(5)),nu(this,\"pingpongTimer\",void 0),nu(this,\"wsInflateDataTimer\",void 0),nu(this,\"pingpongTimeoutCount\",0),nu(this,\"joinResponse\",void 0),nu(this,\"multiIpOption\",void 0),nu(this,\"initError\",void 0),nu(this,\"spec\",void 0),nu(this,\"store\",void 0),nu(this,\"onWebsocketMessage\",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(mv.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,\"_id\")){const e=\"res-@\".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,\"_type\")){if(this.emit(t._type,t._message),t._type===Sv.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===Sv.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(cS.UID_BANNED);break;case 15:this.close(cS.IP_BANNED);break;case 16:this.close(cS.CHANNEL_BANNED)}if(t._type===Sv.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case _v.ERR_LICENSE_MISSING:this.close(cS.LICENSE_MISSING);break;case _v.ERR_LICENSE_EXPIRED:this.close(cS.LICENSE_EXPIRED);break;case _v.ERR_LICENSE_MINUTES_EXCEEDED:this.close(cS.LICENSE_MINUTES_EXCEEDED);break;case _v.ERR_LICENSE_PERIOD_INVALID:this.close(cS.LICENSE_PERIOD_INVALID);break;case _v.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(cS.LICENSE_MULTIPLE_SDK_SERVICE);break;case _v.ERR_LICENSE_ILLEGAL:this.close(cS.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new qI(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,kC(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),kC(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),t),this.handleWebsocketEvents(),window.addEventListener(\"offline\",(()=>{this.connectionState===Ev.CONNECTED&&this.reconnect(\"retry\",lS.OFFLINE)}))}async request(e,t,i,n){const r=xS(6,\"\"),s={_id:r,_type:e,_message:t},o=this.websocket.connectionID,a=()=>new tg(((t,i)=>{if(this.connectionState===Ev.CONNECTED)return t();const n=()=>{this.off(mv.WS_CLOSED,r),t()},r=()=>{this.off(mv.WS_CONNECTED,n),i(new Mv(xg.WS_ABORT))};this.once(mv.WS_CONNECTED,n),this.once(mv.WS_CLOSED,r),e!==fv.PUBLISH&&e!==fv.SUBSCRIBE&&e!==fv.UNSUBSCRIBE&&e!==fv.UNPUBLISH&&e!==fv.CONTROL&&e!==fv.RESTART_ICE||this.once(mv.DISCONNECT_P2P,(()=>{i(new Mv(xg.DISCONNECT_P2P))})),e!==fv.PUBLISH&&e!==fv.RESTART_ICE||this.once(mv.ABORT_P2P_EXECUTION,(()=>{i(new Mv(xg.DISCONNECT_P2P))}))}));if(this.connectionState!==Ev.CONNECTING&&this.connectionState!==Ev.RECONNECTING||e===fv.JOIN||e===fv.REJOIN||await a(),this.websocket.sendMessage(s,!0),n)return;const c=new tg(((i,n)=>{let s=!1;const a=(n,r)=>{s=!0,i({isSuccess:\"success\"===n,message:r||{}}),this.off(mv.WS_CLOSED,c),this.off(mv.WS_RECONNECTING,c),this.emit(mv.REQUEST_SUCCESS,e,t)};this.once(\"res-@\".concat(r),a);const c=()=>{n(new Mv(xg.WS_ABORT,\"type: \".concat(e))),this.off(mv.WS_CLOSED,c),this.off(mv.WS_RECONNECTING,c),this.off(\"res-@\".concat(r),a)};this.once(mv.WS_CLOSED,c),this.once(mv.WS_RECONNECTING,c),US(kC(\"SIGNAL_REQUEST_TIMEOUT\")).then((()=>{this.websocket.connectionID!==o||s||(WC.warning(\"[\".concat(this.clientId,\"] ws request timeout, type: \").concat(e)),this.emit(mv.REQUEST_TIMEOUT,e,t))}))}));let d=null;try{d=await c}catch(n){if(this.connectionState===Ev.CLOSED||e===fv.LEAVE)throw new Mv(xg.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i?n.throw():e===fv.JOIN||e===fv.REJOIN?null:(await a(),await this.request(e,t))}if(d.isSuccess)return d.message;const l=Number(d.message.error_code||d.message.code),h=kI(l),u=new Mv(xg.UNEXPECTED_RESPONSE,\"\".concat(h.desc,\": \").concat(d.message.error_str),{code:l,data:d.message});return\"success\"===h.action?d.message:(WC.warning(\"[\".concat(this.clientId,\"] [\").concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(l,\", message: \").concat(h.desc,\", action: \").concat(h.action)),l===_v.ERR_TOO_MANY_BROADCASTERS?e===fv.JOIN||e===fv.REJOIN?(this.initError=u,this.close(),u.throw()):u.throw():\"failed\"===h.action?u.throw():\"quit\"===h.action?(this.initError=u,this.close(),u.throw()):(l===_v.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d.message.option,WC.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",lS.MULTI_IP)):this.reconnect(h.action,lS.SERVER_ERROR),e===fv.JOIN||e===fv.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new tg((i=>{const n=r=>{(!t||t(r))&&(this.off(e,n),i(r))};this.on(e,n)}))}upload(e,t){const i={_type:e,_message:t};try{this.websocket.sendMessage(i)}catch(e){const t=kC(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==Ev.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),kC(\"UPLOAD_CACHE_INTERVAL\")||2e3))}}send(e,t){const i={_type:e,_message:t};this.websocket.sendMessage(i)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new tg(((t,i)=>{this.once(mv.WS_CONNECTED,(()=>t(this.joinResponse))),this.once(mv.WS_CLOSED,(()=>i(this.initError||new Mv(xg.WS_ABORT)))),this.connectionState=Ev.CONNECTING,this.websocket.init(e).catch(i),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval((()=>{this.handleWsInflateData()}),2e4)}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||cS.LEAVE,this.connectionState=Ev.CLOSED,WC.debug(\"[\".concat(this.clientId,\"] \")+\"will close websocket in signal\"),this.websocket.close(),e===cS.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new qI(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,kC(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),kC(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(mv.ABORT_P2P_EXECUTION);const e=await fS(this,mv.REQUEST_JOIN_INFO),t=await this.request(fv.JOIN,e);if(!t)return this.emit(mv.REPORT_JOIN_GATEWAY,$v.TIMEOUT,this.url||\"\"),!1;this.joinResponse=t,this.emit(mv.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=Ev.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new Mv(xg.UNEXPECTED_ERROR,\"can not rejoin, no rejoin token\");const e=TS(this,mv.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(fv.REJOIN,e);return!!t&&(this.connectionState=Ev.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach((e=>{this.emit(Sv.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(Sv.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(Sv.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(Sv.MUTE_AUDIO,{uid:e.uid}):this.emit(Sv.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(Sv.MUTE_VIDEO,{uid:e.uid}):this.emit(Sv.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(Sv.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(Sv.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(Sv.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(Sv.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(Sv.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleNotification(e){WC.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);const t=kI(e.code);if(\"success\"!==t.action){if(\"failed\"!==t.action)return\"quit\"===t.action?(\"ERR_REPEAT_JOIN_CHANNEL\"===t.desc&&this.close(cS.UID_BANNED),void this.close()):void this.reconnect(t.action,lS.SERVER_ERROR);WC.error(\"[\".concat(this.clientId,\"] ignore error: \"),t.desc)}}handlePingPong(){if(!this.websocket||\"connected\"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=kC(\"PING_PONG_TIME_OUT\"),t=Date.now();this.pingpongTimeoutCount>=e&&(WC.warning(\"[\".concat(this.clientId,\"] PING-PONG Timeout. Last Socket Message: \").concat(t-this.lastMsgTime,\"ms\")),t-this.lastMsgTime>kC(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",lS.TIMEOUT):this.request(fv.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),kC(\"REPORT_STATS\")&&this.send(fv.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWsInflateData(){const{wsInflateLength:e,wsDeflateLength:t}=this.websocket.getWsInflateData();0!==e&&0!==t&&this.upload(gv.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(Cv.RECONNECT_WAITTING_FINISH,(e=>{this.emit(mv.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(Cv.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(mv.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(Cv.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(Cv.CLOSED,(()=>{this.connectionState=Ev.CLOSED})),this.websocket.on(Cv.FAILED,(()=>{this._disconnectedReason=cS.NETWORK_ERROR,this.connectionState=Ev.CLOSED})),this.websocket.on(Cv.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===Ev.CONNECTED?this.connectionState=Ev.RECONNECTING:this.connectionState=Ev.CONNECTING})),this.websocket.on(Cv.WILL_RECONNECT,((e,t,i)=>{const n=TS(this,mv.IS_P2P_DISCONNECTED),r=n||\"retry\"!==e;n&&\"retry\"===e&&(WC.debug(\"\".concat(this.clientId,\" reconnect mode is retry, but p2p lost, change to tryNext\")),e=\"tryNext\",t=$v.P2P_DISCONNECTED),r&&(WC.debug(\"\".concat(this.clientId,\" will renewSession, reconnect mode: \").concat(e)),this.emit(mv.REPORT_JOIN_GATEWAY,t||$v.UNKNOWN_REASON,this.url||\"\"),this.reconnectToken=void 0,this.emit(mv.NEED_RENEW_SESSION),this.emit(mv.DISCONNECT_P2P)),i(e)})),this.websocket.on(Cv.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{WC.warning(\"[\".concat(this.clientId,\"] rejoin failed \").concat(e)),this.reconnect(\"tryNext\",lS.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(mv.REPORT_JOIN_GATEWAY,e.message||e.code||$v.UNKNOWN_REASON,this.url||\"\"),e instanceof Mv&&e.code===xg.UNEXPECTED_RESPONSE&&e.data.code===_v.ERR_NO_AUTHORIZED)return WC.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",lS.SERVER_ERROR);WC.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",lS.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(Cv.REQUEST_NEW_URLS,((e,t)=>{fS(this,mv.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(Cv.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(Sv.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}}var XI=\"\\t\\n\\v\\f\\r                　\\u2028\\u2029\\ufeff\",QI=et,ZI=gr,$I=XI,ey=_e(\"\".replace),ty=RegExp(\"^[\"+$I+\"]+\"),iy=RegExp(\"(^|[^\"+$I+\"])[\"+$I+\"]+$\"),ny=function(e){return function(t){var i=ZI(QI(t));return 1&e&&(i=ey(i,ty,\"\")),2&e&&(i=ey(i,iy,\"$1\")),i}},ry={start:ny(1),end:ny(2),trim:ny(3)},sy=Jd.PROPER,oy=ce,ay=XI,cy=ry.trim;kn({target:\"String\",proto:!0,forced:function(e){return oy((function(){return!!ay[e]()||\"​᠎\"!==\"​᠎\"[e]()||sy&&ay[e].name!==e}))}(\"trim\")},{trim:function(){return cy(this)}});var dy,ly,hy=er(\"String\").trim,uy=Ee,py=hy,_y=String.prototype,Ey=J((function(e){var t=e.trim;return\"string\"==typeof e||e===_y||uy(_y,e)&&t===_y.trim?py:t}));function my(e,t,i){return{sampleRate:e,stereo:t,bitrate:i}}function fy(e,t,i,n,r){return{width:e,height:t,frameRate:i,bitrateMin:n,bitrateMax:r}}function gy(e,t,i,n,r){return{width:{max:e},height:{max:t},frameRate:i,bitrateMin:n,bitrateMax:r}}function Sy(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}!function(e){e[e.CHOOSE_SERVER=11]=\"CHOOSE_SERVER\",e[e.CLOUD_PROXY=18]=\"CLOUD_PROXY\",e[e.CLOUD_PROXY_5=20]=\"CLOUD_PROXY_5\",e[e.CLOUD_PROXY_FALLBACK=26]=\"CLOUD_PROXY_FALLBACK\"}(dy||(dy={})),function(e){e.IOS_15_16_INTERRUPTION_START=\"ios15_16-interruption-start\",e.IOS_15_16_INTERRUPTION_END=\"ios15_16-interruption-end\",e.IOS_INTERRUPTION_START=\"ios-interruption-start\",e.IOS_INTERRUPTION_END=\"ios-interruption-end\",e.STATE_CHANGE=\"state-change\"}(ly||(ly={}));const Ty={\"90p\":fy(160,90),\"90p_1\":fy(160,90),\"120p\":fy(160,120,15,30,65),\"120p_1\":fy(160,120,15,30,65),\"120p_3\":fy(120,120,15,30,50),\"120p_4\":fy(212,120),\"180p\":fy(320,180,15,30,140),\"180p_1\":fy(320,180,15,30,140),\"180p_3\":fy(180,180,15,30,100),\"180p_4\":fy(240,180,15,30,120),\"240p\":fy(320,240,15,40,200),\"240p_1\":fy(320,240,15,40,200),\"240p_3\":fy(240,240,15,40,140),\"240p_4\":fy(424,240,15,40,220),\"360p\":fy(640,360,15,80,400),\"360p_1\":fy(640,360,15,80,400),\"360p_3\":fy(360,360,15,80,260),\"360p_4\":fy(640,360,30,80,600),\"360p_6\":fy(360,360,30,80,400),\"360p_7\":fy(480,360,15,80,320),\"360p_8\":fy(480,360,30,80,490),\"360p_9\":fy(640,360,15,80,800),\"360p_10\":fy(640,360,24,80,800),\"360p_11\":fy(640,360,24,80,1e3),\"480p\":fy(640,480,15,100,500),\"480p_1\":fy(640,480,15,100,500),\"480p_2\":fy(640,480,30,100,1e3),\"480p_3\":fy(480,480,15,100,400),\"480p_4\":fy(640,480,30,100,750),\"480p_6\":fy(480,480,30,100,600),\"480p_8\":fy(848,480,15,100,610),\"480p_9\":fy(848,480,30,100,930),\"480p_10\":fy(640,480,10,100,400),\"720p\":fy(1280,720,15,120,1130),\"720p_1\":fy(1280,720,15,120,1130),\"720p_2\":fy(1280,720,30,120,2e3),\"720p_3\":fy(1280,720,30,120,1710),\"720p_5\":fy(960,720,15,120,910),\"720p_6\":fy(960,720,30,120,1380),\"1080p\":fy(1920,1080,15,120,2080),\"1080p_1\":fy(1920,1080,15,120,2080),\"1080p_2\":fy(1920,1080,30,120,3e3),\"1080p_3\":fy(1920,1080,30,120,3150),\"1080p_5\":fy(1920,1080,60,120,4780),\"1440p\":fy(2560,1440,30,120,4850),\"1440p_1\":fy(2560,1440,30,120,4850),\"1440p_2\":fy(2560,1440,60,120,7350),\"4k\":fy(3840,2160,30,120,8910),\"4k_1\":fy(3840,2160,30,120,8910),\"4k_3\":fy(3840,2160,60,120,13500)},Ry={\"480p\":gy(640,480,5),\"480p_1\":gy(640,480,5),\"480p_2\":gy(640,480,30),\"480p_3\":gy(640,480,15),\"720p\":gy(1280,720,5),\"720p_1\":gy(1280,720,5),\"720p_2\":gy(1280,720,30),\"720p_3\":gy(1280,720,15),\"1080p\":gy(1920,1080,5),\"1080p_1\":gy(1920,1080,5),\"1080p_2\":gy(1920,1080,30),\"1080p_3\":gy(1920,1080,15)},Cy={\"1SL1TL\":Sy(1,1),\"3SL3TL\":Sy(3,3),\"2SL3TL\":Sy(2,3)};function vy(e){return e||(e=\"480p_1\"),\"string\"==typeof e?Object.assign({},Ty[e]):e}function Iy(e){return\"string\"==typeof e?Object.assign({},Ry[e]):e}function yy(e){return\"string\"==typeof e?Object.assign({},Cy[e]):e}const Ay={speech_low_quality:my(16e3,!1),speech_standard:my(32e3,!1,18),music_standard:my(48e3,!1),standard_stereo:my(48e3,!0,56),high_quality:my(48e3,!1,128),high_quality_stereo:my(48e3,!0,192)};function by(e){return\"string\"==typeof e?Object.assign({},Ay[e]):e}const wy=[];function Oy(e){return Bg(e,\"mediaSource\",[\"screen\",\"window\",\"application\"]),!0}var Ny,Dy,Py,Ly,ky,My,Uy,xy,Vy,Fy;!function(e){e.NEED_RENEGOTIATE=\"@need_renegotiate\",e.NEED_REPLACE_TRACK=\"@need_replace_track\",e.NEED_CLOSE=\"@need_close\",e.NEED_ENABLE_TRACK=\"@need_enable_track\",e.NEED_DISABLE_TRACK=\"@need_disable_track\",e.NEED_SESSION_ID=\"@need_sid\",e.SET_OPTIMIZATION_MODE=\"@set_optimization_mode\",e.GET_STATS=\"@get_stats\",e.GET_LOW_VIDEO_TRACK=\"@get_low_video_track\",e.NEED_RESET_REMOTE_SDP=\"@need_reset_remote_sdp\",e.NEED_UPDATE_VIDEO_ENCODER=\"@need_update_video_encoder\",e.NEED_MUTE_TRACK=\"@need_mute_track\",e.NEED_UNMUTE_TRACK=\"@need_unmute_track\"}(Ny||(Ny={})),function(e){e.SCREEN_TRACK=\"screen_track\",e.CUSTOM_TRACK=\"custome_track\",e.LOW_STREAM=\"low_stream\"}(Dy||(Dy={})),function(e){e[e.HIGH_STREAM=0]=\"HIGH_STREAM\",e[e.LOW_STREAM=1]=\"LOW_STREAM\"}(Py||(Py={})),function(e){e[e.HIGH_STREAM=0]=\"HIGH_STREAM\",e[e.LOW_STREAM=1]=\"LOW_STREAM\"}(Ly||(Ly={})),function(e){e[e.DISABLE=0]=\"DISABLE\",e[e.LOW_STREAM=1]=\"LOW_STREAM\",e[e.AUDIO_ONLY=2]=\"AUDIO_ONLY\"}(ky||(ky={})),function(e){e.TRANSCEIVER_UPDATED=\"transceiver-updated\"}(My||(My={})),function(e){e.SOURCE_STATE_CHANGE=\"source-state-change\",e.TRACK_ENDED=\"track-ended\",e.BEAUTY_EFFECT_OVERLOAD=\"beauty-effect-overload\",e.VIDEO_ELEMENT_VISIBLE_STATUS=\"video-element-visible-status\",e.CLOSED=\"closed\"}(Uy||(Uy={})),function(e){e.FIRST_FRAME_DECODED=\"first-frame-decoded\",e.VIDEO_ELEMENT_VISIBLE_STATUS=\"video-element-visible-status\"}(xy||(xy={})),function(e){e.AUDIO_SOURCE_STATE_CHANGE=\"audio_source_state_change\",e.RECEIVE_TRACK_BUFFER=\"receive_track_buffer\",e.ON_AUDIO_BUFFER=\"on_audio_buffer\",e.UPDATE_SOURCE=\"update_source\"}(Vy||(Vy={})),function(e){e.UPDATE_TRACK_SOURCE=\"update-track-source\"}(Fy||(Fy={}));const By={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},jy={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},Gy={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},Wy={uplinkNetworkQuality:0,downlinkNetworkQuality:0},Hy={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};var Ky,Yy,qy,Jy,zy;!function(e){e.ON_TRACK=\"on_track\",e.ON_NODE=\"on_node\"}(Ky||(Ky={})),function(e){e.REQUEST_UPDATE_CONSTRAINTS=\"request_update_constraints\",e.REQUEST_CONSTRAINTS=\"request_constraints\"}(Yy||(Yy={})),function(e){e.IDLE=\"IDLE\",e.INITING=\"INITING\",e.INITEND=\"INITEND\"}(qy||(qy={})),function(e){e.STATE_CHANGE=\"state_change\",e.RECORDING_DEVICE_CHANGED=\"recordingDeviceChanged\",e.PLAYOUT_DEVICE_CHANGED=\"playoutDeviceChanged\",e.CAMERA_DEVICE_CHANGED=\"cameraDeviceChanged\"}(Jy||(Jy={})),function(e){e.NONE=\"none\",e.INIT=\"init\",e.CANPLAY=\"canplay\",e.PLAYING=\"playing\",e.PAUSED=\"paused\",e.SUSPEND=\"suspend\",e.STALLED=\"stalled\",e.WAITING=\"waiting\",e.ERROR=\"error\",e.DESTROYED=\"destroyed\",e.ABORT=\"abort\",e.ENDED=\"ended\",e.EMPTIED=\"emptied\",e.LOADEDDATA=\"loadeddata\"}(zy||(zy={}));const Xy={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};var Qy;!function(e){e.OPEN=\"open\",e.MESSAGE=\"message\",e.CLOSE=\"close\",e.CLOSING=\"closing\",e.ERROR=\"error\"}(Qy||(Qy={}));class Zy extends iS{constructor(e,t){super(),nu(this,\"_ID\",void 0),nu(this,\"_rtpTransceiver\",void 0),nu(this,\"_lowRtpTransceiver\",void 0),nu(this,\"_hints\",[]),nu(this,\"_isClosed\",!1),nu(this,\"_originMediaStreamTrack\",void 0),nu(this,\"_mediaStreamTrack\",void 0),nu(this,\"_external\",{}),this._ID=t||xS(8,\"track-\"),this._originMediaStreamTrack=e,this._mediaStreamTrack=e,function(e){Pr(wy).call(wy,e)||wy.push(e)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(e){if(!e){const e=iv.reportApiInvoke(null,{name:sS.GET_MEDIA_STREAM_TRACK,options:[],tag:oS.TRACER});this._mediaStreamTrack&&\"string\"==typeof this._mediaStreamTrack.label?e.onSuccess(this._mediaStreamTrack.label):e.onSuccess(\"\")}return this._mediaStreamTrack}getRTCRtpTransceiver(e){return e===Py.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(e){const t=wy.indexOf(e);-1!==t&&wy.splice(t,1)}(this),this.emit(Uy.CLOSED)}_updateRtpTransceiver(e,t){if(t===Py.LOW_STREAM){if(this._lowRtpTransceiver===e)return;this._lowRtpTransceiver=e}else{if(this._rtpTransceiver===e)return;this._rtpTransceiver=e}this.emit(My.TRANSCEIVER_UPDATED,e,t)}}class $y extends Zy{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}constructor(e,t){super(e,t),nu(this,\"_enabled\",!0),nu(this,\"_muted\",!1),nu(this,\"_isExternalTrack\",!1),nu(this,\"_isClosed\",!1),nu(this,\"_enabledMutex\",void 0),nu(this,\"processor\",void 0),nu(this,\"_handleTrackEnded\",(()=>{this.onTrackEnded()})),this._enabledMutex=new YS(\"\".concat(this.getTrackId())),e.addEventListener(\"ended\",this._handleTrackEnded)}getTrackLabel(){var e,t;return null!==(e=null===(t=this._originMediaStreamTrack)||void 0===t?void 0:t.label)&&void 0!==e?e:\"\"}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,WC.debug(\"[\".concat(this.getTrackId(),\"] close\")),this.emit(Ny.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isExternalTrack=i,e!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener(\"ended\",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener(\"ended\",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await gS(this,Ny.NEED_REPLACE_TRACK,this),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){WC.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(Uy.TRACK_ENDED)}stateCheck(e,t){if(WC.debug(\"check track state, [muted: \".concat(this._muted,\", enabled: \").concat(this._enabled,\"] to [\").concat(e,\": \").concat(t,\"]\")),Fg(t,e),this._enabled&&this._muted&&\"enabled\"===e&&!1===t)throw new Vg(xg.TRACK_STATE_UNREACHABLE,\"cannot set enabled while the track is muted\").print(\"error\",WC);if(!this._enabled&&!this._muted&&\"muted\"===e&&!0===t)throw new Vg(xg.TRACK_STATE_UNREACHABLE,\"cannot set muted while the track is disabled\").print(\"error\",WC)}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}function eA(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}const tA=window.AudioContext||window.webkitAudioContext;let iA=null;const nA=new class extends iS{constructor(){super(...arguments),nu(this,\"prevState\",void 0),nu(this,\"curState\",void 0),nu(this,\"currentTime\",void 0),nu(this,\"currentTimeStuckAt\",void 0),nu(this,\"interruptDetectorTrack\",void 0),nu(this,\"onLocalAudioTrackMute\",(()=>{WC.info(\"ios15-interruption-start\"),this.emit(ly.IOS_15_16_INTERRUPTION_START)})),nu(this,\"onLocalAudioTrackUnmute\",(async()=>{WC.info(\"ios15-interruption-end\"),\"running\"!==this.curState||this.duringInterruption?WC.info(\"ios15-interruption-end-canceled\"):(iA&&await iA.suspend(),this.emit(ly.IOS_15_16_INTERRUPTION_END))}))}get duringInterruption(){return\"running\"===this.prevState&&\"interrupted\"===this.curState}bindInterruptDetectorTrack(e){WC.debug(\"webaudio bindInterruptDetectorTrack \".concat(e.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=e,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(e){WC.debug(\"webaudio unbindInterruptDetectorTrack \".concat(e.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===e&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function rA(){if(!tA)return void WC.error(\"your browser is not support web audio\");WC.info(\"create audio context\");const e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):eA(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},kC(\"WEBAUDIO_INIT_OPTIONS\"));WC.debug(\"audio context init option:\",JSON.stringify(e)),iA=new tA(e),nA.curState=iA.state,iA.onstatechange=()=>{nA.prevState=nA.curState,nA.curState=iA?iA.state:void 0;const{prevState:e,curState:t}=nA,i=\"running\"===t,n=\"interrupted\"===t,r=\"running\"===e,s=\"suspended\"===e,o=\"interrupted\"===e,a=pg().osVersion;(Cg()||Dg())&&r&&n&&(WC.info(\"ios\".concat(a,\"-interruption-start\")),nA.emit(ly.IOS_INTERRUPTION_START)),(Cg()||Dg())&&(s||o)&&i&&(WC.info(\"ios\".concat(a,\"-interruption-end\")),nA.emit(ly.IOS_INTERRUPTION_END)),e!==t&&(WC.debug(\"AudioContext State Change\",\"\".concat(e,\"=>\").concat(t)),nA.emit(ly.STATE_CHANGE))},setInterval((()=>{var e;const t=null===(e=iA)||void 0===e?void 0:e.currentTime;if(nA.currentTime!==t)nA.currentTimeStuckAt&&(WC.debug(\"AudioContext current time resume at \".concat(t)),nA.currentTimeStuckAt=void 0),nA.currentTime=t;else{if(t!==nA.currentTimeStuckAt){iv.reportApiInvoke(null,{name:\"WEB_AUDIO_CURRENT_TIME_STUCK\",options:{currentTime:t},tag:oS.TRACER}).onSuccess(),WC.warning(\"AudioContext current time stuck at \".concat(t))}nA.currentTimeStuckAt=t}}),5e3),async function(e){const t=[\"click\",\"contextmenu\",\"auxclick\",\"dblclick\",\"mousedown\",\"mouseup\",\"touchend\",\"keydown\",\"keyup\"];let i,n=!1,r=!1,s=!1;function o(t){\"running\"===e.state?a(!1):Cg()||Dg()?\"suspended\"===e.state&&(a(!0),t&&e.resume().then(d,d)):\"closed\"!==e.state&&(a(!0),t&&e.resume().then(d,d))}function a(e){if(n!==e){n=e;for(let i=0,n=t;i<n.length;i+=1){const t=n[i];e?window.addEventListener(t,l,{capture:!0,passive:!0}):window.removeEventListener(t,l,{capture:!0,passive:!0})}}}function c(){o(!0)}function d(){o(!1)}function l(){o(!0)}function h(e){if(!s)if(i.paused)if(e){let e;u(!1),s=!0;try{e=i.play(),e?e.then(p,p):(i.addEventListener(\"playing\",p),i.addEventListener(\"abort\",p),i.addEventListener(\"error\",p))}catch(e){p()}}else u(!0);else u(!1)}function u(e){if(r!==e){r=e;for(let i=0,n=t;i<n.length;i++){const t=n[i];e?window.addEventListener(t,_,{capture:!0,passive:!0}):window.removeEventListener(t,_,{capture:!0,passive:!0})}}}function p(){i.removeEventListener(\"playing\",p),i.removeEventListener(\"abort\",p),i.removeEventListener(\"error\",p),s=!1,h(!1)}function _(){h(!0)}if(Cg()){const t=e.createMediaStreamDestination(),n=document.createElement(\"div\");n.innerHTML=\"<audio x-webkit-airplay='deny'></audio>\",i=n.children.item(0),i.controls=!1,i.disableRemotePlayback=!0,i.preload=\"auto\",i.srcObject=t.stream,h(!0)}nA.on(ly.STATE_CHANGE,c),o(!1)}(iA)}function sA(){if(!iA){if(rA(),!iA)throw new Vg(xg.NOT_SUPPORTED,\"can not create audio context\");return iA}return iA}function oA(){return!!iA}function aA(e){if(function(){if(null!==cA)return cA;const e=sA(),t=e.createBufferSource(),i=e.createGain(),n=e.createGain();t.connect(i),t.connect(n),t.disconnect(i);let r=!1;try{t.disconnect(i)}catch(e){r=!0}return t.disconnect(),cA=r,r}())return;const t=e.connect,i=e.disconnect;e.connect=(i,n,r)=>{var s;return e._inputNodes||(e._inputNodes=[]),Pr(s=e._inputNodes).call(s,i)||(i instanceof AudioNode?(e._inputNodes.push(i),t.call(e,i,n,r)):t.call(e,i,n)),e},e.disconnect=(n,r,s)=>{i.call(e),n?IS(e._inputNodes,n):e._inputNodes=[];for(const i of e._inputNodes)t.call(e,i)}}let cA=null;function dA(e,t){let i=!1;const n=1/t;if(kC(\"DISABLE_WEBAUDIO\")){const t=window.setInterval((()=>{i?window.clearInterval(t):e(performance.now()/1e3)}),1e3*n)}else{const t=sA();let r=t.createGain();r.gain.value=0,r.connect(t.destination);const s=()=>{if(i)return void(r=null);const o=t.createOscillator();o.onended=s,o.connect(r),o.start(0),o.stop(t.currentTime+n),e(t.currentTime)};s()}return()=>{i=!0}}const lA={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1};function hA(){return lA}class uA{constructor(){nu(this,\"context\",void 0),nu(this,\"analyserNode\",void 0),nu(this,\"sourceNode\",void 0),this.context=sA(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(e){if(e!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch(e){}this.sourceNode=e,null==e||e.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode)return 0;if(!this.context||Cg()||Dg()||\"running\"!==this.context.state&&this.context.resume(),!this.analyserNode)return 0;const e=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(e);else{const t=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(t);for(let i=0;i<e.length;++i)e[i]=t[i]/128-1}const t=cT(e).call(e,((e,t)=>e+t*t),0)/e.length;return Math.max(10*Math.log10(t)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var e,t;null===(e=this.sourceNode)||void 0===e||e.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,null===(t=this.sourceNode)||void 0===t||t.connect(this.analyserNode)}catch(e){WC.warning(\"rebuild analyser node failed.\")}}destroy(){this.updateSource(void 0)}}class pA extends iS{get processSourceNode(){return this.sourceNode}set processedNode(e){var t;if(!this.isDestroyed&&this._processedNode!==e){try{var i;null===(i=this.sourceNode)||void 0===i||i.disconnect(this.outputNode)}catch(e){}null===(t=this._processedNode)||void 0===t||t.disconnect(),this._processedNode=e,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),nu(this,\"outputNode\",void 0),nu(this,\"outputTrack\",void 0),nu(this,\"isPlayed\",!1),nu(this,\"context\",void 0),nu(this,\"audioBufferNode\",void 0),nu(this,\"destNode\",void 0),nu(this,\"audioOutputLevel\",0),nu(this,\"volumeLevelAnalyser\",void 0),nu(this,\"_processedNode\",void 0),nu(this,\"playNode\",void 0),nu(this,\"isDestroyed\",!1),nu(this,\"onNoAudioInput\",void 0),nu(this,\"isNoAudioInput\",!1),nu(this,\"_noAudioInputCount\",0),this.context=sA(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),aA(this.outputNode),this.volumeLevelAnalyser=new uA}startGetAudioBuffer(e){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=e=>{this.emit(Vy.ON_AUDIO_BUFFER,function(e){for(let t=0;t<e.outputBuffer.numberOfChannels;t+=1){const i=e.outputBuffer.getChannelData(t);for(let e=0;e<i.length;e+=1)i[e]=0}return e.inputBuffer}(e))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!hA().webAudioMediaStreamDest)throw new Vg(xg.NOT_SUPPORTED,\"your browser is not support audio processor\");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(e){\"running\"!==this.context.state&&AS((()=>{nA.emit(\"autoplay-failed\")})),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(e){}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;Cg()||Dg()?\"suspended\"===this.context.state&&this.context.resume():\"running\"!==this.context.state&&this.context.resume();const t=this.volumeLevelAnalyser.getAnalyserNode();let i;t.getFloatTimeDomainData?(i=new Float32Array(t.fftSize),t.getFloatTimeDomainData(i)):(i=new Uint8Array(t.fftSize),t.getByteTimeDomainData(i));let n=!1;for(let e=0;e<i.length;e++)0!==i[e]&&(n=!0);return n?(this.isNoAudioInput=!1,!0):(await US(200),await this.checkHasAudioInput(e?e+1:1)&&n)}getAudioVolume(){return this.outputNode.gain.value}setVolume(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}disconnect(){var e,t;null===(e=this.processedNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var e;this.processedNode?null===(e=this.processedNode)||void 0===e||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode);this.volumeLevelAnalyser.updateSource(this.outputNode)}}class _A extends pA{get isFreeze(){return!1}constructor(e,t,i){var n;if(super(),nu(this,\"sourceNode\",void 0),nu(this,\"track\",void 0),nu(this,\"clonedTrack\",void 0),nu(this,\"audioElement\",void 0),nu(this,\"isCurrentTrackCloned\",!1),nu(this,\"isRemoteTrack\",!1),nu(this,\"originVolumeLevelAnalyser\",void 0),nu(this,\"rebuildWebAudio\",(async()=>{if(WC.debug(\"ready to rebuild web audio, state:\",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener(\"click\",this.rebuildWebAudio,!0),void WC.debug(\"rebuild web audio success, current volume status\",this.getAccurateVolumeLevel());this.context.resume().then((()=>WC.info(\"resume success\"))),WC.debug(\"rebuild web audio because of ios 12 bugs\"),this.disconnect();const e=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?e.stop():this.isCurrentTrackCloned=!0;const t=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(t),aA(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const i=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(i,this.context.currentTime),aA(this.outputNode),this.emit(Vy.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=t,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()})),\"audio\"!==e.kind)throw new Vg(xg.UNEXPECTED_ERROR);this.track=e;const r=new MediaStream([this.track]);if(this.isRemoteTrack=!!t,this.sourceNode=this.context.createMediaStreamSource(r),aA(this.sourceNode),i){const e=i.clone();e.enabled=!0,this.clonedTrack=e,WC.debug(\"create an unmuted track \".concat(e.id,\" from the original track \").concat(i.id,\" to get the volume\"));const t=this.context.createMediaStreamSource(new MediaStream([e]));aA(t),this.originVolumeLevelAnalyser=new uA,this.originVolumeLevelAnalyser.updateSource(t)}this.connect(),this.audioElement=document.createElement(\"audio\"),this.audioElement.srcObject=r;const s=pg();t&&s.os===ag.IOS&&Number(null===(n=s.osVersion)||void 0===n?void 0:n.split(\".\")[0])<15&&(nA.on(ly.STATE_CHANGE,(()=>{\"suspended\"===this.context.state?document.body.addEventListener(\"click\",this.rebuildWebAudio,!0):\"running\"===this.context.state&&this.rebuildWebAudio()})),this.checkHasAudioInput().then((e=>{e||document.body.addEventListener(\"click\",this.rebuildWebAudio,!0)})))}updateTrack(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1;const t=new MediaStream([e]);this.sourceNode=this.context.createMediaStreamSource(t),aA(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(Vy.UPDATE_SOURCE),this.audioElement.srcObject=t}destroy(){var e;this.audioElement.srcObject=null,this.audioElement.remove(),nA.off(\"state-change\",this.rebuildWebAudio),null===(e=this.originVolumeLevelAnalyser)||void 0===e||e.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(e){return this.context.createMediaStreamSource(new MediaStream([e]))}updateOriginTrack(e){const t=e.clone();t.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=t),WC.debug(\"create an unmuted track \".concat(t.id,\" from the original track \").concat(e.id,\" to get the volume\"));const i=this.context.createMediaStreamSource(new MediaStream([t]));aA(i),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(i)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function EA(e,t,i){const n=(e,t)=>e?\"number\"!=typeof e?e.max||e.exact||e.ideal||e.min||t:e:t,r={audio:!!i&&{mandatory:{chromeMediaSource:\"desktop\"}},video:{mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:e,maxHeight:n(t.height,1080),maxWidth:n(t.width,1920)}}};return t.frameRate&&\"number\"!=typeof t.frameRate?(r.video.mandatory.maxFrameRate=t.frameRate.max,r.video.mandatory.minFrameRate=t.frameRate.min):\"number\"==typeof t.frameRate&&(r.video.mandatory.maxFrameRate=t.frameRate),await navigator.mediaDevices.getUserMedia(r)}async function mA(e,t){const i=await fA(e.mediaSource),{sourceId:n,audio:r}=await function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new tg(((i,n)=>{const r=document.createElement(\"div\");r.innerText=\"share screen\",r.setAttribute(\"style\",\"text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;\");const s=document.createElement(\"div\");s.setAttribute(\"style\",\"width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;\");const o=document.createElement(\"div\");o.innerText=\"Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.\",o.setAttribute(\"style\",\"height: 12%;\");const a=document.createElement(\"div\");a.setAttribute(\"style\",\"width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;\");const c=document.createElement(\"div\");c.setAttribute(\"style\",\"display: flex; justify-content: space-between; padding: 16px 0;\");const d=document.createElement(\"button\");d.innerHTML=\"cancel\",d.setAttribute(\"style\",\"width: 85px;\"),d.onclick=()=>{document.body.removeChild(u);const e=new Error(\"NotAllowedError\");e.name=\"NotAllowedError\",n(e)};let l=t;const h=document.createElement(\"div\");if(t){const e=document.createElement(\"input\");e.setAttribute(\"type\",\"checkbox\");const t=document.createElement(\"span\");e.setAttribute(\"style\",\"margin-right: 6px;\"),t.innerText=\"Share audio\",e.checked=l,e.onchange=()=>{l=e.checked},h.appendChild(e),h.appendChild(t)}c.appendChild(h),c.appendChild(d),s.appendChild(o),s.appendChild(a),s.appendChild(c);const u=document.createElement(\"div\");u.setAttribute(\"style\",\"position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);\"),u.appendChild(r),u.appendChild(s),document.body.appendChild(u),e.map((e=>{if(e.id){const t=document.createElement(\"div\");t.setAttribute(\"style\",\"width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;\");let n=e.thumbnail;try{const{width:e}=n.getSize();e>1920&&(n=n.resize({width:1920}))}catch(e){throw e&&e.message.startsWith(\"Illegal invocation\")&&console.error(\"Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)\"),e}t.innerHTML='<div style=\"height: 120px; display: table-cell; vertical-align: middle;\"><img style=\"width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);\" src='+n.toDataURL()+' /></div><span style=\"\\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">'+e.name.replace(/[\\u00A0-\\u9999<>\\&]/g,(function(e){return\"&#\"+e.charCodeAt(0)+\";\"}))+\"</span>\",t.onclick=()=>{document.body.removeChild(u),i({sourceId:e.id,audio:l})},a.appendChild(t)}}))}))}(i,t);return await EA(n,e,r)}async function fA(e){let t=[\"window\",\"screen\"];\"application\"!==e&&\"window\"!==e||(t=[\"window\"]),\"screen\"===e&&(t=[\"screen\"]);const i=rS();if(!i)throw console.error(\"failed to fetch electron, please mount it to window\"),new Vg(xg.ELECTRON_IS_NULL);let n=null;try{var r;n=(null===(r=i.desktopCapturer)||void 0===r?void 0:r.getSources({types:t}))||i.ipcRenderer.invoke(\"DESKTOP_CAPTURER_GET_SOURCES\",{types:t})}catch(e){n=null}n&&n.then||(n=new tg(((e,n)=>{i.desktopCapturer.getSources({types:t},((t,i)=>{t?n(t):e(i)}))})));try{return await n}catch(e){throw new Vg(xg.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,e.toString())}}function gA(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}const SA=new YS(\"safari\");let TA=!1,RA=!1;async function CA(e,t){let i=0,n=null;for(;i<2;)try{n=await vA(e,t,i>0);break}catch(e){if(e instanceof Vg)throw WC.error(\"[\".concat(t,\"] \").concat(e.toString())),e;const n=IA(e.name||e.code||e,e.message);if(n.code===xg.MEDIA_OPTION_INVALID){WC.debug(\"[\".concat(t,\"] detect media option invalid, retry\")),i+=1,await US(500);continue}throw WC.error(\"[\".concat(t,\"] \").concat(n.toString())),n}if(!n)throw new Vg(xg.UNEXPECTED_ERROR,\"can not find stream after getUserMedia\");return n}async function vA(e,t,i){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Vg(xg.NOT_SUPPORTED,\"can not find getUserMedia\");i&&(e.video&&(delete e.video.width,delete e.video.height),e.screen&&(delete e.screen.width,delete e.screen.height));const n=hA(),r=new MediaStream;if(e.audioSource&&r.addTrack(e.audioSource),e.videoSource&&r.addTrack(e.videoSource),!e.audio&&!e.video&&!e.screen)return WC.debug(\"Using Video Source/ Audio Source\"),r;if(e.screen)if(rS())if(e.screen.sourceId){yA(r,await EA(e.screen.sourceId,e.screen,e.screenAudio))}else{yA(r,await mA(e.screen,e.screenAudio))}else if(Sg()&&e.screen.extensionId&&e.screen.mandatory){if(!n.getStreamFromExtension)throw new Vg(xg.NOT_SUPPORTED,\"This browser does not support screen sharing\");WC.debug(\"[\".concat(t,'] Screen access on chrome stable, looking for extension\"'));const i=await(o=e.screen.extensionId,a=t,new tg(((e,t)=>{try{chrome.runtime.sendMessage(o,{getStream:!0},(i=>{if(!i||!i.streamId)return WC.error(\"[\".concat(a,\"] No response from Chrome Plugin. Plugin not installed properly\"),i),void t(new Vg(xg.CHROME_PLUGIN_NO_RESPONSE,\"No response from Chrome Plugin. Plugin not installed properly\"));e(i.streamId)}))}catch(e){WC.error(\"[\".concat(a,\"] AgoraRTC screensharing plugin is not accessible(\").concat(o,\")\"),e.toString()),t(new Vg(xg.CHROME_PLUGIN_NOT_INSTALL))}})));e.screen.mandatory.chromeMediaSourceId=i;yA(r,await navigator.mediaDevices.getUserMedia({video:{mandatory:e.screen.mandatory}}))}else if(n.getDisplayMedia){var s;e.screen.mediaSource&&Oy(e.screen.mediaSource);const i={width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate,displaySurface:null!==(s=e.screen.displaySurface)&&void 0!==s?s:\"screen\"===e.screen.mediaSource?\"monitor\":e.screen.mediaSource},{selfBrowserSurface:n,surfaceSwitching:o,systemAudio:a}=e.screen,c={selfBrowserSurface:n,surfaceSwitching:o,systemAudio:a};!n&&delete c.selfBrowserSurface,!o&&delete c.surfaceSwitching,!a&&delete c.systemAudio,WC.debug(\"[\".concat(t,\"] getDisplayMedia:\"),JSON.stringify({video:i,audio:!!e.screenAudio,controls:c}));const d=await navigator.mediaDevices.getDisplayMedia(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?gA(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):gA(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({video:i,audio:!!e.screenAudio},c));yA(r,d)}else{if(!Rg())throw WC.error(\"[\".concat(t,\"] This browser does not support screenSharing\")),new Vg(xg.NOT_SUPPORTED,\"This browser does not support screen sharing\");{e.screen.mediaSource&&Oy(e.screen.mediaSource);const i={video:{mediaSource:e.screen.mediaSource,width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate}};WC.debug(\"[\".concat(t,\"] getUserMedia: \").concat(JSON.stringify(i)));yA(r,await navigator.mediaDevices.getUserMedia(i))}}var o,a;if(!e.video&&!e.audio)return r;let c={video:e.video,audio:e.audio},d=kC(\"MEDIA_DEVICE_CONSTRAINTS\");if(d)try{\"string\"==typeof d&&(d=JSON.parse(d)),c=WS(c,d)}catch(e){}WC.debug(\"[\".concat(t,\"] GetUserMedia\"),JSON.stringify(c)),pg();let l,h=null;(Tg()||Cg()||mg())&&(h=await SA.lock());try{l=await navigator.mediaDevices.getUserMedia(c)}catch(e){throw h&&h(),e}return c.audio&&(TA=!0),c.video&&(RA=!0),yA(r,l),h&&h(),r}function IA(e,t){switch(e){case\"Starting video failed\":case\"OverconstrainedError\":case\"TrackStartError\":return new Vg(xg.MEDIA_OPTION_INVALID,\"\".concat(e,\": \").concat(t));case\"NotFoundError\":case\"DevicesNotFoundError\":return new Vg(xg.DEVICE_NOT_FOUND,\"\".concat(e,\": \").concat(t));case\"NotSupportedError\":return new Vg(xg.NOT_SUPPORTED,\"\".concat(e,\": \").concat(t));case\"NotReadableError\":return new Vg(xg.NOT_READABLE,\"\".concat(e,\": \").concat(t));case\"InvalidStateError\":case\"NotAllowedError\":case\"PERMISSION_DENIED\":case\"PermissionDeniedError\":return new Vg(xg.PERMISSION_DENIED,\"\".concat(e,\": \").concat(t));case\"ConstraintNotSatisfiedError\":return new Vg(xg.CONSTRAINT_NOT_SATISFIED,\"\".concat(e,\": \").concat(t));default:return WC.error(\"getUserMedia unexpected error\",e),new Vg(xg.UNEXPECTED_ERROR,\"\".concat(e,\": \").concat(t))}}function yA(e,t){const i=e.getVideoTracks()[0],n=e.getAudioTracks()[0],r=t.getVideoTracks()[0],s=t.getAudioTracks()[0];s&&(n&&e.removeTrack(n),e.addTrack(s)),r&&(i&&e.removeTrack(i),e.addTrack(r))}const AA=new class extends iS{get state(){return this._state}set state(e){e!==this._state&&(this.emit(Jy.STATE_CHANGE,e),this._state=e)}constructor(){super(),nu(this,\"_state\",qy.IDLE),nu(this,\"isAccessMicrophonePermission\",!1),nu(this,\"isAccessCameraPermission\",!1),nu(this,\"lastAccessMicrophonePermission\",!1),nu(this,\"lastAccessCameraPermission\",!1),nu(this,\"checkdeviceMatched\",!1),nu(this,\"deviceInfoMap\",new Map),this.init().then((()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener(\"devicechange\",this.updateDevicesInfo.bind(this)),window.setInterval((()=>{(kC(\"ENUMERATE_DEVICES_INTERVAL\")||(Mg()||_g()===ag.HARMONY_OS)&&kg())&&this.updateDevicesInfo()}),kC(\"ENUMERATE_DEVICES_INTERVAL_TIME\"))})).catch((e=>WC.error(e.toString())))}async enumerateDevices(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices){return new Vg(xg.NOT_SUPPORTED,\"enumerateDevices() not supported.\").throw()}const n=await navigator.mediaDevices.enumerateDevices(),r=this.checkMediaDeviceInfoIsOk(n);let s=!this.isAccessMicrophonePermission&&e,o=!this.isAccessCameraPermission&&t;r.audio&&(s=!1),r.video&&(o=!1);let a=null,c=null,d=null;if(!i&&(s||o)){if(SA.isLocked){WC.debug(\"[device manager] wait GUM lock\");(await SA.lock())(),WC.debug(\"[device manager] GUM unlock\")}if(TA&&(s=!1,this.isAccessMicrophonePermission=!0),RA&&(o=!1,this.isAccessCameraPermission=!0),WC.debug(\"[device manager] check media device permissions\",e,t,s,o),s&&o){try{d=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(e){const t=IA(e.name||e.code||e,e.message);if(t.code===xg.PERMISSION_DENIED)throw t;WC.warning(\"getUserMedia failed in getDevices\",t)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(s){try{a=await navigator.mediaDevices.getUserMedia({audio:e})}catch(e){const t=IA(e.name||e.code||e,e.message);if(t.code===xg.PERMISSION_DENIED)throw t;WC.warning(\"getUserMedia failed in getDevices\",t)}this.isAccessMicrophonePermission=!0}else if(o){try{c=await navigator.mediaDevices.getUserMedia({video:t})}catch(e){const t=IA(e.name||e.code||e,e.message);if(t.code===xg.PERMISSION_DENIED)throw t;WC.warning(\"getUserMedia failed in getDevices\",t)}this.isAccessCameraPermission=!0}WC.debug(\"[device manager] mic permission\",e,\"cam permission\",t)}try{const e=await navigator.mediaDevices.enumerateDevices();return a&&a.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),d&&d.getTracks().forEach((e=>e.stop())),a=null,c=null,d=null,e}catch(e){a&&a.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),d&&d.getTracks().forEach((e=>e.stop())),a=null,c=null,d=null;return new Vg(xg.ENUMERATE_DEVICES_FAILED,e.toString()).throw()}}async getRecordingDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>\"audioinput\"===e.kind))}async getCamerasDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!1,!0,e)).filter((e=>\"videoinput\"===e.kind))}async getSpeakers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>\"audiooutput\"===e.kind))}searchDeviceIdByName(e){let t=null;return this.deviceInfoMap.forEach((i=>{i.device.label===e&&(t=i.device.deviceId)})),t}async getDeviceById(e){const t=(await this.enumerateDevices(!0,!0,!0)).find((t=>t.deviceId===e));if(!t)throw new Vg(xg.DEVICE_NOT_FOUND,\"deviceId: \".concat(e));return t}async init(){this.state=qy.INITING;try{await this.updateDevicesInfo(),this.state=qy.INITEND}catch(e){if(WC.warning(\"Device Detection functionality cannot start properly.\",e.toString()),this.state=qy.IDLE,!(\"boolean\"==typeof isSecureContext?isSecureContext:\"https:\"===location.protocol||\"file:\"===location.protocol||\"localhost\"===location.hostname||\"127.0.0.1\"===location.hostname||\"::1\"===location.hostname)){new Vg(xg.WEB_SECURITY_RESTRICT,\"Your context is limited by web security, please try using https protocol or localhost.\").throw()}throw e}}async updateDevicesInfo(){const e=await this.enumerateDevices(!0,!0,!0),t=Date.now(),i=[];if(e[0]&&e[0].label&&!1===this.checkdeviceMatched){this.checkdeviceMatched=!0;const t=e.find((e=>\"audioinput\"===e.kind&&\"default\"===e.deviceId)),i=e.find((e=>\"audiooutput\"===e.kind&&\"default\"===e.deviceId));t&&i?i.groupId===t.groupId?WC.debug(\"[device-check] default input \".concat(t.label,\" and output \").concat(i.label,\" is the same group\")):WC.warning(\"[device-check] default input \".concat(t.label,\" and output \").concat(i.label,\" is not the same group\")):WC.debug(\"[device-check] default input or output not found\")}const n=this.checkMediaDeviceInfoIsOk(e);if(e.forEach((e=>{if(!e.deviceId)return;const n=this.deviceInfoMap.get(\"\".concat(e.kind,\"_\").concat(e.deviceId));if(\"ACTIVE\"!==(n?n.state:\"INACTIVE\")){const n={initAt:t,updateAt:t,device:e,state:\"ACTIVE\"};this.deviceInfoMap.set(\"\".concat(e.kind,\"_\").concat(e.deviceId),n),i.push(n)}n&&(n.updateAt=t)})),this.deviceInfoMap.forEach(((e,n)=>{\"ACTIVE\"===e.state&&e.updateAt!==t&&(e.state=\"INACTIVE\",i.push(e))})),this.state!==qy.INITEND)return n.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(n.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));i.forEach((e=>{switch(e.device.kind){case\"audioinput\":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(Jy.RECORDING_DEVICE_CHANGED,e);break;case\"videoinput\":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(Jy.CAMERA_DEVICE_CHANGED,e);break;case\"audiooutput\":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(Jy.PLAYOUT_DEVICE_CHANGED,e)}})),n.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),n.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(e){const t=e.filter((e=>\"audioinput\"===e.kind)),i=e.filter((e=>\"videoinput\"===e.kind)),n={audio:!1,video:!1};for(const e of t)if(e.label&&e.deviceId){n.audio=!0;break}for(const e of i)if(e.label&&e.deviceId){n.video=!0;break}return n}};let bA=!1;const wA=new class extends iS{constructor(){super(...arguments),nu(this,\"onAutoplayFailed\",void 0),nu(this,\"onAudioAutoplayFailed\",void 0)}};function OA(){if(pg(),!bA){const e=t=>{t.preventDefault(),bA=!1,Ug()?document.body.removeEventListener(\"click\",e,!0):(document.body.removeEventListener(\"touchstart\",e,!0),document.body.removeEventListener(\"mousedown\",e,!0))};bA=!0,Ug()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0)),WC.info(\"detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web\"),wA.onAutoplayFailed?wA.onAutoplayFailed():wA.onAudioAutoplayFailed?WC.warning(\"AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\\n\\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .\"):WC.warning(\"We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\\n\\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\\n\\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .\"),wA.emit(\"autoplay-failed\")}}function NA(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function DA(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?NA(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):NA(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function PA(e,t,i,n){if(!e)return;const r=iv.getBaseInfoBySessionId(e);if(!r)return;const s=r.info,o=Date.now(),a=DA(DA({},s),{},{vid:void 0===s.vid?0:Number(s.vid),lts:o,elapse:o-r.startTime,cbRegistered:wA.onAutoplayFailed||wA.onAudioAutoplayFailed?1:-1,errorMsg:i,mediaType:t,trackId:n,extend:void 0});iv.send({type:zC.AUTOPLAY_FAILED,data:a},!0)}const LA=[\"play\",\"playing\",\"loadeddata\",\"canplay\",\"pause\",\"stalled\",\"suspend\",\"waiting\",\"abort\",\"emptied\",\"ended\",\"error\"],kA=new class{constructor(){nu(this,\"onAutoplayFailed\",void 0),nu(this,\"elementMap\",new Map),nu(this,\"elementStateMap\",new Map),nu(this,\"elementsNeedToResume\",[]),nu(this,\"sinkIdMap\",new Map),nu(this,\"autoResumeAfterInterruption\",(()=>{Array.from(this.elementMap.entries()).forEach((e=>{let[t,i]=e;const n=this.elementStateMap.get(t),r=i.srcObject.getAudioTracks()[0];wg()?r&&\"live\"===r.readyState&&\"running\"===nA.curState&&(WC.debug(\"auto resume after interruption for iOS 15\"),i.pause(),i.play()):n&&\"paused\"===n&&r&&\"live\"===r.readyState&&\"running\"===nA.curState&&(WC.debug(\"auto resume after interruption for iOS\"),i.play())}))})),nu(this,\"autoResumeAfterInterruptionOnIOS15_16\",(()=>{Array.from(this.elementMap.entries()).forEach((e=>{let[t,i]=e;const n=i.srcObject.getAudioTracks()[0];n&&\"live\"===n.readyState&&(WC.debug(\"auto resume after interruption inside autoResumeAfterInterruptionOnIOS15\"),i.pause(),i.play())}))})),this.autoResumeAudioElement(),nA.on(ly.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),nA.on(ly.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),nA.on(ly.STATE_CHANGE,(()=>{Cg()&&\"suspended\"===nA.prevState&&\"running\"===nA.curState&&this.autoResumeAfterInterruption()}))}async setSinkID(e,t){const i=this.elementMap.get(e);if(this.sinkIdMap.set(e,t),i)try{await i.setSinkId(t)}catch(e){throw new Vg(xg.PERMISSION_DENIED,\"can not set sink id: \"+e.toString())}}play(e,t,i,n){if(this.elementMap.has(t))return;const r=document.createElement(\"audio\");r.autoplay=!0,r.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,r),this.elementMap.set(t,r),this.elementStateMap.set(t,zy.INIT),this.setVolume(t,i);const s=this.sinkIdMap.get(t);if(s)try{r.setSinkId(s).catch((e=>{WC.warning(\"[\".concat(t,\"] set sink id failed\"),e.toString())}))}catch(e){WC.warning(\"[\".concat(t,\"] set sink id failed\"),e.toString())}const o=r.play();o&&o.then&&o.catch((e=>{n&&PA(n,\"audio\",e.message,t),WC.warning(\"audio element play warning\",e.toString()),this.elementMap.has(t)&&\"NotAllowedError\"===e.name&&(WC.warning(\"detected audio element autoplay failed\"),this.elementsNeedToResume.push(r),AS((()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),OA()})))}))}updateTrack(e,t){const i=this.elementMap.get(e);i&&(i.srcObject=new MediaStream([t]))}isPlaying(e){return this.elementMap.has(e)&&\"playing\"===this.elementStateMap.get(e)}setVolume(e,t){const i=this.elementMap.get(e);i&&(t=Math.max(0,Math.min(100,t)),i.volume=t/100)}stop(e){const t=this.elementMap.get(e);if(this.sinkIdMap.delete(e),!t)return;const i=this.elementsNeedToResume.indexOf(t);this.elementsNeedToResume.splice(i,1),t.srcObject=null,t.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}bindAudioElementEvents(e,t){LA.forEach((i=>{t.addEventListener(i,(i=>{const n=this.elementStateMap.get(e),r=\"pause\"===i.type?\"paused\":i.type;if(WC.debug(\"[\".concat(e,\"] audio-element-status change \").concat(n,\" => \").concat(r)),\"error\"===i.type){const i=null==t?void 0:t.error;i&&WC.error(\"[\".concat(e,\"] media error, code: \").concat(i.code,\", message: \").concat(i.message))}this.elementStateMap.set(e,r)}))}))}getPlayerState(e){return this.elementStateMap.get(e)||\"uninit\"}autoResumeAudioElement(){const e=()=>{this.elementsNeedToResume.forEach((e=>{e.play().then((e=>{WC.debug(\"Auto resume audio element success\")})).catch((e=>{WC.warning(\"Auto resume audio element failed!\",e)}))})),this.elementsNeedToResume=[]};new tg((e=>{document.body?e():window.addEventListener(\"load\",(()=>e()))})).then((()=>{Ug()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0))}))}};function MA(){return function(e,t,i){const n=i.value;return\"function\"==typeof n&&(i.value=function(){this._isClosed&&new Vg(xg.INVALID_OPERATION,\"[\".concat(this.getTrackId(),\"] cannot operate a closed track\")).print(\"warning\",WC);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const r=n.apply(this,t);return r instanceof tg?new tg(((e,t)=>{r.then(e).catch(t)})):r}),i}}function UA(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function xA(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?UA(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):UA(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class VA extends iS{constructor(e){super(),nu(this,\"name\",\"VideoProcessorDestination\"),nu(this,\"ID\",\"0\"),nu(this,\"_source\",void 0),nu(this,\"videoContext\",void 0),nu(this,\"inputTrack\",void 0),this.videoContext=e}get kind(){return\"video\"}get enabled(){return!0}pipe(){throw new Vg(xg.NOT_SUPPORTED,\"VideoProcessor cannot pipe to any other Processor\")}unpipe(){throw new Vg(xg.NOT_SUPPORTED,\"VideoProcessor cannot unpipe to any other Processor\")}enable(){}disable(){}updateInput(e){if(e.context!==this.videoContext)throw new Error(\"ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\\nProbably you are making pipeline like this:\\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).\");e.track&&e.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=e.track,this.emit(Ky.ON_TRACK,e.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(Ky.ON_TRACK,void 0)}}class FA extends iS{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t){super(),nu(this,\"constraintsMap\",new Map),nu(this,\"statsRegistry\",[]),nu(this,\"usageRegistry\",[]),nu(this,\"trackId\",void 0),nu(this,\"direction\",void 0),nu(this,\"_chained\",!1),this.trackId=e,this.direction=t}async getConstraints(){return await fS(this,Yy.REQUEST_CONSTRAINTS)}async requestApplyConstraints(e,t){var i;return WC.info(\"processor \".concat(t.name,\" requestApplyConstraints for \").concat(this.trackId)),e&&this.constraintsMap.set(t,e),gS(this,Yy.REQUEST_UPDATE_CONSTRAINTS,Array.from(Pv(i=this.constraintsMap).call(i)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return WC.info(\"processor \".concat(e.name,\" requestRevertConstraints for \").concat(this.trackId)),this.constraintsMap.delete(e),gS(this,Yy.REQUEST_UPDATE_CONSTRAINTS,Array.from(Pv(t=this.constraintsMap).call(t)))}registerStats(e,t,i){this.statsRegistry.find((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:i})}unregisterStats(e,t){const i=this.statsRegistry.findIndex((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t));-1!==i&&this.statsRegistry.splice(i,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:i,type:n,cb:r}of this.statsRegistry)try{const s=r();e.push({processorID:t,processorName:i,type:n,stats:s})}catch(e){WC.error(new Vg(xg.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let i=t();i instanceof tg&&(i=await i),e.push(xA(xA({},i),{},{direction:this.direction}))}catch(e){WC.error(\"gather extension usage error\",e)}return e}getDirection(){return this.direction}}class BA extends iS{constructor(e){super(),nu(this,\"name\",\"AudioProcessorDestination\"),nu(this,\"ID\",\"0\"),nu(this,\"inputTrack\",void 0),nu(this,\"inputNode\",void 0),nu(this,\"audioProcessorContext\",void 0),nu(this,\"_source\",void 0),this.audioProcessorContext=e}get kind(){return\"audio\"}get enabled(){return!0}pipe(){throw new Vg(xg.NOT_SUPPORTED,\"AudioProcessorDestination cannot pipe to any other Processor\")}unpipe(){throw new Vg(xg.NOT_SUPPORTED,\"AudioProcessor cannot unpipe to any other Processor\")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(Ky.ON_TRACK,void 0),this.emit(Ky.ON_NODE,void 0)}updateInput(e){if(e.context!==this.audioProcessorContext)throw new Error(\"ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.\\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).\");e.track&&this.inputTrack!==e.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=e.track,this.emit(Ky.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.audioProcessorContext.chained=!0,this.inputNode=e.node,this.emit(Ky.ON_NODE,this.inputNode))}}class jA extends iS{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t,i){super(),nu(this,\"constraintsMap\",new Map),nu(this,\"statsRegistry\",[]),nu(this,\"audioContext\",void 0),nu(this,\"trackId\",void 0),nu(this,\"direction\",void 0),nu(this,\"usageRegistry\",[]),nu(this,\"_chained\",!1),this.audioContext=e,this.trackId=t,this.direction=i}async getConstraints(){return fS(this,Yy.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(e,t){var i;return WC.info(\"processor \".concat(t.name,\" requestApplyConstraints for \").concat(this.trackId)),e&&this.constraintsMap.set(t,e),gS(this,Yy.REQUEST_UPDATE_CONSTRAINTS,Array.from(Pv(i=this.constraintsMap).call(i)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return this.constraintsMap.delete(e),gS(this,Yy.REQUEST_UPDATE_CONSTRAINTS,Array.from(Pv(t=this.constraintsMap).call(t)))}registerStats(e,t,i){this.statsRegistry.find((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:i})}unregisterStats(e,t){const i=this.statsRegistry.findIndex((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t));-1!==i&&this.statsRegistry.splice(i,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:i,type:n,cb:r}of this.statsRegistry)try{const s=r();e.push({processorID:t,processorName:i,type:n,stats:s})}catch(e){WC.error(new Vg(xg.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let i=t();i instanceof tg&&(i=await i),e.push(xA(xA({},i),{},{direction:this.direction}))}catch(e){WC.error(\"gather extension usage error\",e)}return e}getDirection(){return this.direction}}class GA extends iS{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),nu(this,\"context\",void 0),nu(this,\"processSourceNode\",void 0),nu(this,\"outputTrack\",void 0),nu(this,\"processedNode\",void 0),nu(this,\"clonedTrack\",void 0),nu(this,\"outputNode\",void 0),this.outputNode=new WA}setVolume(){}createOutputTrack(){throw new Vg(xg.NOT_SUPPORTED,\"can not create output MediaStreamTrack when WebAudio disabled\")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class WA{disconnect(){}connect(){}}let HA=null;class KA{constructor(){nu(this,\"state\",\"open\"),nu(this,\"trigger\",void 0),nu(this,\"tasks\",[]),WC.debug(\"[macro-task-queue] is created.\"),this.trigger=window.setTimeout((()=>{this.state=\"closed\",WC.debug(\"[macro-task-queue] will be closed, all remaining tasks will execute. [\".concat(this.tasks.map((e=>e.key)),\"]\")),this.trigger=void 0,this.tasks.forEach((e=>{let{func:t}=e;return t()})),this.tasks.length=0,WC.debug(\"[macro-task-queue] is closed.\")}))}enqueue(e,t){\"closed\"!==this.state&&(this.tasks.push({key:e,func:t}),WC.debug(\"[macro-task-queue] is queued, current queue \".concat(this.tasks.length,\". \").concat(\"string\"==typeof e?e:\"\")))}runTask(e){if(\"closed\"===this.state)return;const t=this.tasks.findIndex((t=>t.key===e));if(-1!==t){const i=this.tasks.splice(t,1);WC.debug(\"[macro-task-queue] is unqueued, current queue \".concat(this.tasks.length,\". \").concat(\"string\"==typeof e?e:\"\")),i[0].func()}}release(){this.trigger&&(this.state=\"closed\",clearTimeout(this.trigger),this.trigger=void 0,this.tasks.length=0,WC.debug(\"[macro-task-queue] is closed.\"))}}function YA(e){return function(t,i,n){var r;const s=null!==(r=n.value)&&void 0!==r?r:n.get,o=function(){HA&&\"open\"===HA.state&&HA.runTask(e);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return null==s?void 0:s.apply(this,...i)};return n.value?n.value=o:n.get=o,n}}function qA(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function JA(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?qA(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):qA(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class zA extends $y{get _source(){return this._trackSource}set _source(e){this._trackSource=e}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}get processorDestination(){return this._processorDestination}set processorDestination(e){this._processorDestination=e}get isPlaying(){return this._useAudioElement?kA.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return\"LocalAudioTrack\"}constructor(e,t,i,n,r){super(e,i),nu(this,\"trackMediaType\",\"audio\"),nu(this,\"_encoderConfig\",void 0),nu(this,\"_trackSource\",void 0),nu(this,\"_enabled\",!0),nu(this,\"_volume\",100),nu(this,\"_useAudioElement\",!1),nu(this,\"_bypassWebAudio\",!1),nu(this,\"processor\",void 0),nu(this,\"_processorContext\",void 0),nu(this,\"_processorDestination\",void 0),nu(this,\"_getOriginVolumeLevel\",void 0),this._encoderConfig=t,this._getOriginVolumeLevel=!!n;const s=()=>{this.processorContext=new jA(this._source.context,this.getTrackId(),\"local\"),this.processorDestination=new BA(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(Vy.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))},o=r&&Tg()&&!oA();if(kC(\"DISABLE_WEBAUDIO\")?(this._source=new GA,this._useAudioElement=!0,this._bypassWebAudio=!0):o?this._source=new GA:(this._source=new _A(e,!1,this._getOriginVolumeLevel?e:void 0),kC(\"LOCAL_AUDIO_TRACK_USES_WEB_AUDIO\")||(this._useAudioElement=!0)),s(),!kC(\"DISABLE_WEBAUDIO\")&&o){(HA||(HA=new KA),HA).enqueue(\"INIT_WEBAUDIO\",(()=>{this._source=new _A(e,!1,this._getOriginVolumeLevel?e:void 0),kC(\"LOCAL_AUDIO_TRACK_USES_WEB_AUDIO\")||(this._useAudioElement=!0),s(),this.emit(Fy.UPDATE_TRACK_SOURCE)}))}}setVolume(e){jg(e,\"volume\",0,1e3),this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&kA.setVolume(this.getTrackId(),e);try{if(this._bypassWebAudio)return void WC.debug(\"[\".concat(this.getTrackId(),\"] setVolume returned because no pass through WebAudio.\"));const e=this._source.createOutputTrack();this._mediaStreamTrack!==e&&(this._mediaStreamTrack=e,gS(this,Ny.NEED_REPLACE_TRACK,this).then((()=>{WC.debug(\"[\".concat(this.getTrackId(),\"] replace web audio track success\"))})).catch((e=>{WC.warning(\"[\".concat(this.getTrackId(),\"] replace web audio track failed\"),e)})))}catch(e){}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(e){if(!this._useAudioElement)throw new Vg(xg.NOT_SUPPORTED,\"your browser does not support setting the audio output device\");await kA.setSinkID(this.getTrackId(),e)}async setEnabled(e,t,i){return this._setEnabled(e,t,i)}async _setEnabled(e,t,i){if(!i){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(WC.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),e){this._originMediaStreamTrack.enabled=!0;try{i||(this._enabled=!0),await gS(this,Ny.NEED_ENABLE_TRACK,this),WC.info(\"[\".concat(this.getTrackId(),\"] setEnabled to \").concat(e,\" success\"))}catch(e){throw i||(this._enabled=!1),WC.error(\"[\".concat(this.getTrackId(),\"] setEnabled to true error\"),e.toString()),e}}else{this._originMediaStreamTrack.enabled=!1,i||(this._enabled=!1);try{await gS(this,Ny.NEED_DISABLE_TRACK,this)}catch(e){throw i||(this._enabled=!0),WC.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),e.toString()),e}}}async setMuted(e){e!==this._muted&&(this.stateCheck(\"muted\",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,WC.debug(\"[\".concat(this.getTrackId(),\"] start set muted: \").concat(e)),e?await gS(this,Ny.NEED_MUTE_TRACK,this):await gS(this,Ny.NEED_UNMUTE_TRACK,this))}getStats(){NS((()=>{WC.warning(\"[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead\")}),\"localAudioTrackGetStatsWarning\");const e=SS(this,Ny.GET_STATS);return e||JA({},By)}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(Vy.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(Vy.ON_AUDIO_BUFFER),this._source.on(Vy.ON_AUDIO_BUFFER,(t=>e(t)))}play(){WC.debug(\"[\".concat(this.getTrackId(),\"] start audio playback\")),this._useAudioElement?(WC.debug(\"[\".concat(this.getTrackId(),\"] start audio playback in element\")),kA.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){WC.debug(\"[\".concat(this.getTrackId(),\"] stop audio playback\")),this._useAudioElement?kA.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];WC.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&kA.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(e,t){this._originMediaStreamTrack!==e&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener(\"ended\",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener(\"ended\",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this.processor.updateInput({track:e,context:this.processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await gS(this,Ny.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(e))}renewMediaStreamTrack(e){return tg.resolve(void 0)}pipe(e){if(this._bypassWebAudio)throw new Vg(xg.INVALID_OPERATION,\"Can not process AudioTrack when bypassWebAudio set to true.\");if(this.processor===e)return e;if(e._source)throw new Vg(xg.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(Ky.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e),await gS(this,Ny.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await gS(this,Ny.NEED_REPLACE_TRACK,this))})),this.processorDestination.on(Ky.ON_NODE,(e=>{this._source.processedNode=e}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(Ky.ON_TRACK),this.processorDestination.removeAllListeners(Ky.ON_NODE)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(Yy.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(Yy.REQUEST_CONSTRAINTS)}}Lv([YA(\"INIT_WEBAUDIO\"),kv(\"design:type\",Object),kv(\"design:paramtypes\",[Object])],zA.prototype,\"_source\",null),Lv([YA(\"INIT_WEBAUDIO\"),kv(\"design:type\",jA),kv(\"design:paramtypes\",[jA])],zA.prototype,\"processorContext\",null),Lv([YA(\"INIT_WEBAUDIO\"),kv(\"design:type\",BA),kv(\"design:paramtypes\",[BA])],zA.prototype,\"processorDestination\",null),Lv([tv({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Number]),kv(\"design:returntype\",void 0)],zA.prototype,\"setVolume\",null),Lv([tv({argsMap:(e,t)=>[e.getTrackId(),t]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],zA.prototype,\"setPlaybackDevice\",null),Lv([qS(\"LocalAudioTrack\",\"_enabledMutex\"),tv({argsMap:(e,t)=>[e.getTrackId(),t]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Boolean,Object,Boolean]),kv(\"design:returntype\",tg)],zA.prototype,\"setEnabled\",null),Lv([qS(\"LocalAudioTrack\",\"_enabledMutex\"),tv({argsMap:(e,t)=>[e.getTrackId(),t]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Boolean]),kv(\"design:returntype\",tg)],zA.prototype,\"setMuted\",null),Lv([MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",Object)],zA.prototype,\"getStats\",null),Lv([MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Number]),kv(\"design:returntype\",void 0)],zA.prototype,\"setAudioFrameCallback\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],zA.prototype,\"play\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],zA.prototype,\"stop\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],zA.prototype,\"close\",null),Lv([tv({argsMap:(e,t)=>[e.getTrackId(),t.name]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",Object)],zA.prototype,\"pipe\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],zA.prototype,\"unpipe\",null);class XA extends zA{get __className__(){return\"MicrophoneAudioTrack\"}constructor(e,t,i,n){super(e,t.encoderConfig?by(t.encoderConfig):{},n,kC(\"GET_VOLUME_OF_MUTED_AUDIO_TRACK\"),!0),nu(this,\"_config\",void 0),nu(this,\"_deviceName\",\"default\"),nu(this,\"_constraints\",void 0),nu(this,\"_originalConstraints\",void 0),nu(this,\"_enabled\",!0),this._config=t,this._constraints=i,this._originalConstraints=i,this._deviceName=e.label,\"boolean\"==typeof t.bypassWebAudio&&(this._bypassWebAudio=t.bypassWebAudio),(wg()||Og())&&nA.bindInterruptDetectorTrack(this),this.on(Fy.UPDATE_TRACK_SOURCE,(()=>{this.bindProcessorContextEvents()})),oA()&&this.bindProcessorContextEvents()}async setDevice(e){if(WC.info(\"[\".concat(this.getTrackId(),\"] start set device to \").concat(e)),this._enabled)try{const t=await AA.getDeviceById(e),i={};i.audio=JA({},this._constraints),i.audio.deviceId={exact:e},this._originMediaStreamTrack.stop();let n=null;try{n=await CA(i,this.getTrackId())}catch(e){throw WC.error(\"[\".concat(this.getTrackId(),\"] setDevice failed\"),e.toString()),n=await CA({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(n.getAudioTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(n.getAudioTracks()[0],!1),this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw WC.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}else try{const t=await AA.getDeviceById(e);this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw WC.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}WC.info(\"[\".concat(this.getTrackId(),\"] set device to \").concat(e,\" success\"))}async setEnabled(e,t,i){if(t)return WC.debug(\"[\".concat(this.getTrackId(),\"] setEnabled false (do not close microphone)\")),await super._setEnabled(e);if(!i){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(WC.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),!e){var n;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),null===(n=this._source.clonedTrack)||void 0===n||n.stop(),i||(this._enabled=!1);try{await gS(this,Ny.NEED_DISABLE_TRACK,this)}catch(e){throw WC.error(\"[\".concat(this.getTrackId(),\"] setEnabled false failed\"),e.toString()),e}return}const r=JA({},this._constraints),s=AA.searchDeviceIdByName(this._deviceName);s&&!r.deviceId&&(r.deviceId=s);try{i||(this._enabled=!0);const e=await CA({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!1),await gS(this,Ny.NEED_ENABLE_TRACK,this)}catch(e){throw i||(this._enabled=!1),WC.error(\"[\".concat(this.getTrackId(),\"] setEnabled true failed\"),e.toString()),e}WC.info(\"[\".concat(this.getTrackId(),\"] setEnabled success\"))}close(){super.close(),(wg()||Og())&&nA.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((Cg()||Dg())&&this._enabled&&!this._isClosed&&nA.duringInterruption){const e=async()=>{nA.off(ly.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(WC.debug(\"[\".concat(this.getTrackId(),\"] try capture microphone media device for interrupted iOS device.\")),await this.setEnabled(!1),await this.setEnabled(!0))};nA.on(ly.IOS_INTERRUPTION_END,e)}else WC.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(Uy.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,i=AA.searchDeviceIdByName(this._deviceName);if(i&&!t.deviceId&&(t.deviceId=i),this._constraints=t,this._enabled){this._originMediaStreamTrack.stop();const e=await CA({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!0)}}bindProcessorContextEvents(){this.processorContext.on(Yy.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,i)=>{try{const i=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(i),t()}catch(e){i(e)}})),this.processorContext.on(Yy.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}}Lv([tv({argsMap:(e,t)=>[e.getTrackId(),t]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],XA.prototype,\"setDevice\",null),Lv([qS(\"MicrophoneAudioTrack\",\"_enabledMutex\"),tv({argsMap:(e,t,i)=>[e.getTrackId(),t,i]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Boolean,Boolean,Boolean]),kv(\"design:returntype\",tg)],XA.prototype,\"setEnabled\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],XA.prototype,\"close\",null);class QA extends zA{get __className__(){return\"BufferSourceAudioTrack\"}constructor(e,t,i,n){super(t.createOutputTrack(),i,n),nu(this,\"source\",void 0),nu(this,\"_bufferSource\",void 0),this.source=e,this._bufferSource=t,this._bufferSource.on(Vy.AUDIO_SOURCE_STATE_CHANGE,(e=>{this.safeEmit(Uy.SOURCE_STATE_CHANGE,e)}));try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(e){e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(e){this._bufferSource.seekAudioBuffer(e)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}close(){this.source=null,this._bufferSource.destroy(),super.close()}setAudioBufferPlaybackSpeed(e){jg(e,\"speed\",0),this._bufferSource.setAudioBufferPlaybackSpeed(e)}}Lv([tv({argsMap:(e,t)=>[e.getTrackId(),t,e.duration]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",void 0)],QA.prototype,\"startProcessAudioBuffer\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],QA.prototype,\"pauseProcessAudioBuffer\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Number]),kv(\"design:returntype\",void 0)],QA.prototype,\"seekAudioBuffer\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],QA.prototype,\"resumeProcessAudioBuffer\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],QA.prototype,\"stopProcessAudioBuffer\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],QA.prototype,\"close\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Number]),kv(\"design:returntype\",void 0)],QA.prototype,\"setAudioBufferPlaybackSpeed\",null);class ZA extends zA{get __className__(){return\"MixingAudioTrack\"}get isActive(){for(const e of this.trackList)if(e._enabled&&!e._isClosed&&!e.muted)return!0;return!1}constructor(){const e=sA().createMediaStreamDestination();super(e.stream.getAudioTracks()[0],void 0,xS(8,\"track-mix-\")),nu(this,\"trackList\",void 0),nu(this,\"destNode\",void 0);try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}this.destNode=e,this.trackList=[]}hasAudioTrack(e){return-1!==this.trackList.indexOf(e)}addAudioTrack(e){-1===this.trackList.indexOf(e)?(WC.debug(\"add \".concat(e.getTrackId(),\" to mixing track\")),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()):WC.debug(\"track \".concat(e.getTrackId(),\" is already added\"))}removeAudioTrack(e){if(-1!==this.trackList.indexOf(e)){WC.debug(\"remove \".concat(e.getTrackId(),\" from mixing track\"));try{e._source.outputNode.disconnect(this.destNode)}catch(e){}IS(this.trackList,e),this.updateEncoderConfig()}}updateEncoderConfig(){const e={};this.trackList.forEach((t=>{t._encoderConfig&&((t._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=t._encoderConfig.bitrate),(t._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=t._encoderConfig.sampleRate),(t._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=t._encoderConfig.sampleSize),t._encoderConfig.stereo&&(e.stereo=!0))})),this._encoderConfig=e}_updateRtpTransceiver(e){this._rtpTransceiver!==e&&(this._rtpTransceiver=e,this.trackList.forEach((t=>{t instanceof ZA?t.emit(My.TRANSCEIVER_UPDATED,e):t._updateRtpTransceiver(e)})))}}function $A(e){const t={};e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId});const i=vy(e.encoderConfig);return null!=i.width&&(t.width=i.width),null!=i.height&&(t.height=i.height),!Lg()&&i.frameRate&&(t.frameRate=i.frameRate),pg().name===cg.EDGE&&\"object\"==typeof t.frameRate&&(t.frameRate.max=60),Rg()&&(t.frameRate={ideal:30,max:30}),t}function eb(e){const t={};if(Lg()||(void 0!==e.AGC&&(t.autoGainControl=e.AGC),void 0!==e.AEC&&(t.echoCancellation=e.AEC),void 0!==e.ANS&&(t.noiseSuppression=e.ANS,Sg()&&e.ANS&&(t.googHighpassFilter=e.ANS))),e.encoderConfig){const i=by(e.encoderConfig);t.channelCount=i.stereo?2:1,t.sampleRate=i.sampleRate,t.sampleSize=i.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),Mg()&&(t.sampleRate=void 0),t}class tb extends pA{set currentState(e){e!==this._currentState&&(this._currentState=e,this.safeEmit(Vy.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),nu(this,\"audioBuffer\",void 0),nu(this,\"sourceNode\",void 0),nu(this,\"startPlayTime\",0),nu(this,\"startPlayOffset\",0),nu(this,\"pausePlayTime\",0),nu(this,\"options\",void 0),nu(this,\"currentLoopCount\",0),nu(this,\"currentPlaybackSpeed\",100),nu(this,\"_currentState\",\"stopped\"),this.audioBuffer=e,this.options=t,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?\"stopped\"===this.currentState?0:\"paused\"===this.currentState?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(e){\"stopped\"===this.currentState?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):WC.warning(\"can not set audio source options\")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState=\"playing\"}pauseProcessAudioBuffer(){this.sourceNode&&\"playing\"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState=\"paused\")}seekAudioBuffer(e){this.sourceNode&&(this.sourceNode.onended=null,\"playing\"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),\"playing\"===this.currentState?(this.startPlayOffset=e,this.startSourceNode()):\"paused\"===this.currentState&&(this.pausePlayTime=e))}resumeProcessAudioBuffer(){\"paused\"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState=\"playing\")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(e){}this.reset()}}destroy(){this.audioBuffer=null,super.destroy()}setAudioBufferPlaybackSpeed(e){this.sourceNode&&(\"playing\"===this.currentState&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=e/100),this.currentPlaybackSpeed=e}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e.playbackRate.value=this.currentPlaybackSpeed/100,e}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState=\"stopped\",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const ib=new Map;async function nb(e,t){let i=null;if(\"string\"==typeof e){const t=ib.get(e);if(t)return WC.debug(\"use cached audio resource: \",e),t;try{i=(await XS((()=>EC.get(e,{responseType:\"arraybuffer\"})),void 0,void 0,{maxRetryCount:3})).data}catch(e){throw new Vg(xg.FETCH_AUDIO_FILE_FAILED,e.toString())}}else{const t=new tg(((t,i)=>{const n=new FileReader;n.onload=e=>{e.target?t(e.target.result):i(new Vg(xg.READ_LOCAL_AUDIO_FILE_ERROR))},n.onerror=()=>{i(new Vg(xg.READ_LOCAL_AUDIO_FILE_ERROR))},n.readAsArrayBuffer(e)}));i=await t}const n=await function(e){const t=sA();return new tg(((i,n)=>{t.decodeAudioData(e,(e=>{i(e)}),(e=>{n(new Vg(xg.DECODE_AUDIO_FILE_FAILED,e.toString()))}))}))}(i);return\"string\"==typeof e&&t&&ib.set(e,n),n}const rb=e=>{const t=document.createElement(\"canvas\");return t.width=2,t.height=2,new tg(((i,n)=>{t.toBlob((async e=>{if(t.remove(),e){const n=await sb(e);i({buffer:n,width:t.width,height:t.height})}else n(new Vg(xg.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,1)}))},sb=async e=>{const t=await e.arrayBuffer();return new Uint8Array(t)};const ob=new class extends iS{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),nu(this,\"_lastHiddenTime\",0),nu(this,\"_lastVisibleTime\",0),document.addEventListener(\"visibilitychange\",(()=>{\"hidden\"===document.visibilityState?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),WC.debug(\"document visibility went \".concat(document.visibilityState)),this.emit(\"VISIBILITY_CHANGE\",document.visibilityState)}))}};function ab(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function cb(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ab(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ab(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class db{get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(e){e!==this._videoElementStatus&&(WC.debug(\"[\".concat(this.trackId,\"] video-element-status change \").concat(this._videoElementStatus,\" => \").concat(e)),this._videoElementStatus=e)}constructor(e){nu(this,\"trackId\",void 0),nu(this,\"config\",void 0),nu(this,\"onFirstVideoFrameDecoded\",void 0),nu(this,\"freezeTimeCounterList\",[]),nu(this,\"renderFreezeAccTime\",0),nu(this,\"isKeepLastFrame\",!1),nu(this,\"timeUpdatedCount\",0),nu(this,\"freezeTime\",0),nu(this,\"playbackTime\",0),nu(this,\"lastTimeUpdatedTime\",0),nu(this,\"autoplayFailed\",!1),nu(this,\"videoTrack\",void 0),nu(this,\"videoElement\",void 0),nu(this,\"cacheVideoElement\",void 0),nu(this,\"videoElementCheckInterval\",void 0),nu(this,\"_videoElementStatus\",zy.NONE),nu(this,\"isGettingVideoDimensions\",!1),nu(this,\"startGetVideoDimensions\",(()=>{const e=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return WC.debug(\"[\".concat(this.trackId,\"] current video dimensions:\"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(e,500)};!this.isGettingVideoDimensions&&e()})),nu(this,\"autoResumeAfterInterruption\",(()=>{this.videoTrack&&\"live\"===this.videoTrack.readyState&&\"running\"===nA.curState&&(WC.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume for \").concat(Eg())),Ng()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),nu(this,\"handleVideoEvents\",(e=>{switch(e.type){case\"play\":case\"playing\":this.startGetVideoDimensions(),this.videoElementStatus=zy.PLAYING;break;case\"loadeddata\":if(this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove()}catch(e){}this.cacheVideoElement=void 0}break;case\"canplay\":this.videoElementStatus=zy.CANPLAY;break;case\"stalled\":this.videoElementStatus=zy.STALLED;break;case\"suspend\":this.videoElementStatus=zy.SUSPEND;break;case\"pause\":this.videoElementStatus=zy.PAUSED,Cg()||Dg()||Tg()&&this.autoplayFailed||!this.videoTrack||\"live\"!==this.videoTrack.readyState||(WC.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume\")),this.videoElement.play());break;case\"waiting\":this.videoElementStatus=zy.WAITING;break;case\"abort\":this.videoElementStatus=zy.ABORT;break;case\"ended\":this.videoElementStatus=zy.ENDED;break;case\"emptied\":this.videoElementStatus=zy.EMPTIED;break;case\"error\":{this.videoElementStatus=zy.ERROR;const e=this.videoElement.error;e&&WC.error(\"[\".concat(this.trackId,\"] media error, code: \").concat(e.code,\", message: \").concat(e.message));break}case\"timeupdate\":{const e=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=e);const t=e-this.lastTimeUpdatedTime,i=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=e,ob.lastVisibleTime<ob.lastHiddenTime||i<ob.lastHiddenTime||i<ob.lastVisibleTime)return;for(t>kC(\"VIDEO_FREEZE_DURATION\")&&(this.freezeTime+=t),this.playbackTime+=t;this.playbackTime>=6e3;){this.playbackTime-=6e3;const e=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(e),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}})),nu(this,\"autoResumeAfterInterruptionOnIOS15_16\",(()=>{this.videoTrack&&\"live\"===this.videoTrack.readyState&&(WC.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume for \").concat(Eg())),Ng()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),this.trackId=e.trackId,this.config=e,e.element instanceof HTMLVideoElement?this.videoElement=e.element:this.videoElement=document.createElement(\"video\"),nA.on(ly.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),nA.on(ly.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}getVideoElement(){return this.videoElement}getContainerElement(){var e;return null!==(e=this.videoElement.parentElement)&&void 0!==e?e:void 0}updateConfig(e){this.config=e,this.trackId=e.trackId,e.element!==this.videoElement&&(this.destroy(),this.videoElement=e.element),this.videoTrack&&this.initVideoElement()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.initVideoElement())}play(e){const t=this.videoElement.play();t&&t.catch&&t.catch((t=>{e&&PA(e,\"video\",t.message,this.trackId),\"NotAllowedError\"===t.name?(WC.warning(\"detected video element autoplay failed\",t),this.autoplayFailed=!0,this.handleAutoPlayFailed()):WC.warning(\"[\".concat(this.trackId,\"] play warning: \"),t)}));const i=pg();if((\"Safari\"===i.name&&15===Number(i.version)||wg())&&t&&t.then){const e=()=>{this.config.mirror&&(this.videoElement.style.transform=\"rotateY(180deg)\")};t.then(e).catch(e)}}getCurrentFrame(){const e=document.createElement(\"canvas\");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;const t=e.getContext(\"2d\");if(!t)return WC.error(\"create canvas context failed!\"),new ImageData(2,2);t.drawImage(this.videoElement,0,0,e.width,e.height);const i=t.getImageData(0,0,e.width,e.height);return e.remove(),i}async getCurrentFrameToUint8Array(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=document.createElement(\"canvas\");i.width=this.videoElement.videoWidth,i.height=this.videoElement.videoHeight;const n=i.getContext(\"2d\");return n?(n.drawImage(this.videoElement,0,0,i.width,i.height),new tg(((n,r)=>{i.toBlob((async e=>{if(i.remove(),e){const t=await sb(e);n({buffer:t,width:i.width,height:i.height})}else r(new Vg(xg.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,t<0?.1:t>1?1:t)}))):await rb(e)}destroy(){nA.off(ly.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),nA.off(ly.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[]}initVideoElement(){if(this.videoElementStatus=zy.INIT,!this.videoElementCheckInterval&&(lb.forEach((e=>{this.videoElement.addEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval=window.setInterval((()=>{(function(e){return e!==document.body&&document.body.contains(e)})(this.videoElement)||(this.videoElementStatus=zy.DESTROYED)}),1e3),kC(\"ENABLE_VIDEO_FRAME_CALLBACK\"))){var e,t;let i;const n=(e,t)=>{if(this.videoElementStatus===zy.PLAYING){if(i){const e=t.presentationTime-i.presentationTime;e>kC(\"VIDEO_FREEZE_DURATION\")&&ob.lastVisibleTime>=ob.lastHiddenTime&&i.timestamp>ob.lastVisibleTime&&i.timestamp>ob.lastHiddenTime&&(this.renderFreezeAccTime+=e)}i=cb(cb({},t),{},{timestamp:e})}var r,s;kC(\"ENABLE_VIDEO_FRAME_CALLBACK\")&&(null===(r=(s=this.videoElement).requestVideoFrameCallback)||void 0===r||r.call(s,n))};null===(e=(t=this.videoElement).requestVideoFrameCallback)||void 0===e||e.call(t,n)}this.videoElement.controls=!1,this.videoElement.setAttribute(\"playsinline\",\"\"),Mg()&&(this.videoElement.poster=\"noposter\");const i=pg();if(\"Safari\"===i.name&&15===Number(i.version)||wg()||!this.config.mirror||(this.videoElement.style.transform=\"rotateY(180deg)\"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit=\"cover\",this.videoElement.setAttribute(\"muted\",\"\"),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream){this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Rg()&&this.videoElement.load())}else this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Rg()&&this.videoElement.load();const n=this.videoElement.play();void 0!==n&&n.catch((e=>{WC.debug(\"[\".concat(this.trackId,\"] playback interrupted\"),e.toString())}))}resetVideoElement(){lb.forEach((e=>{this.videoElement&&this.videoElement.removeEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=zy.NONE}handleAutoPlayFailed(){const e=t=>{t.preventDefault(),this.videoElement.play().then((()=>{WC.debug(\"[\".concat(this.trackId,\"] Video element for trackId:\").concat(this.trackId,\" autoplay resumed.\"))})).catch((e=>{WC.error(e)})),this.autoplayFailed=!1,Ug()?document.body.removeEventListener(\"click\",e,!0):(document.body.removeEventListener(\"touchstart\",e,!0),document.body.removeEventListener(\"mousedown\",e,!0))};Ug()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0)),OA()}}const lb=[\"play\",\"playing\",\"loadeddata\",\"canplay\",\"pause\",\"stalled\",\"suspend\",\"waiting\",\"abort\",\"emptied\",\"ended\",\"timeupdate\",\"error\"];class hb extends db{constructor(e){super(e),nu(this,\"container\",void 0),nu(this,\"slot\",void 0),this.slot=e.element,this.updateConfig(e)}updateConfig(e){this.config=e,this.trackId=e.trackId;const t=e.element;t!==this.slot&&(this.destroy(),this.slot=t),this.createElements()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements())}play(e){var t;null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)&&super.play(e)}getCurrentFrame(){var e;return null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(e,i):await rb(e)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement(\"video\"),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch(e){}this.container=void 0}}createElements(){this.container||(this.container=document.createElement(\"div\")),this.container.id=\"agora-video-player-\".concat(this.trackId),this.container.style.width=\"100%\",this.container.style.height=\"100%\",this.container.style.position=\"relative\",this.container.style.overflow=\"hidden\",this.videoTrack?(this.container.style.backgroundColor=\"black\",kC(\"KEEP_LAST_FRAME\")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),this.slot.appendChild(this.container)}mountedVideoElement(){var e;!this.container||null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id=\"video_\".concat(this.trackId),this.videoElement.className=\"agora_video_player\",this.videoElement.style.width=\"100%\",this.videoElement.style.height=\"100%\",this.videoElement.style.position=\"absolute\",this.videoElement.style.left=\"0\",this.videoElement.style.top=\"0\"}unmountedVideoElement(){var e;if(null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement)}catch(e){}this.videoElement=document.createElement(\"video\")}}resetVideoElement(){var e;null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement(\"video\"))}getContainerElement(){return this.container}}function ub(e){return new tg(((t,i)=>{let n=!1;const r=document.createElement(\"video\");r.setAttribute(\"autoplay\",\"\"),r.setAttribute(\"muted\",\"\"),r.muted=!0,r.autoplay=!0,r.setAttribute(\"playsinline\",\"\"),r.setAttribute(\"style\",\"position: fixed; top: 0; left: 0; width: 1px; height: 1px\"),document.body.appendChild(r);const s=Cg()?\"canplay\":\"playing\";r.addEventListener(s,(()=>{const e=r.videoWidth,i=r.videoHeight;!e&&Rg()||(n=!0,r.srcObject=null,r.remove(),t([e,i]))})),r.srcObject=new MediaStream([e]),r.play().catch(FS),setTimeout((()=>{n||(r.srcObject=null,r.remove(),t([r.videoWidth,r.videoHeight]))}),4e3)}))}const pb=async(e,t,i)=>{const n=function(e){const t=[];for(let i=0;i<e.length;i+=2)t.push(parseInt(e.slice(i,i+2),16));return Uint8Array.from(t)}(function(e){const t=\"0123456789abcdef\";function i(e){let i,n=\"\";for(i=0;i<=3;i++)n+=t.charAt(e>>8*i+4&15)+t.charAt(e>>8*i&15);return n}function n(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function r(e,t,i,r,s,o){return n(function(e,t){return e<<t|e>>>32-t}(n(n(t,e),n(r,o)),s),i)}function s(e,t,i,n,s,o,a){return r(t&i|~t&n,e,t,s,o,a)}function o(e,t,i,n,s,o,a){return r(t&n|i&~n,e,t,s,o,a)}function a(e,t,i,n,s,o,a){return r(t^i^n,e,t,s,o,a)}function c(e,t,i,n,s,o,a){return r(i^(t|~n),e,t,s,o,a)}const d=function(e){let t;const i=1+(e.length+8>>6),n=new Array(16*i);for(t=0;t<16*i;t++)n[t]=0;for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<t%4*8;return n[t>>2]|=128<<t%4*8,n[16*i-2]=8*e.length,n}(e);let l,h,u,p,_,E=1732584193,m=-271733879,f=-1732584194,g=271733878;for(l=0;l<d.length;l+=16)h=E,u=m,p=f,_=g,E=s(E,m,f,g,d[l+0],7,-680876936),g=s(g,E,m,f,d[l+1],12,-389564586),f=s(f,g,E,m,d[l+2],17,606105819),m=s(m,f,g,E,d[l+3],22,-1044525330),E=s(E,m,f,g,d[l+4],7,-176418897),g=s(g,E,m,f,d[l+5],12,1200080426),f=s(f,g,E,m,d[l+6],17,-1473231341),m=s(m,f,g,E,d[l+7],22,-45705983),E=s(E,m,f,g,d[l+8],7,1770035416),g=s(g,E,m,f,d[l+9],12,-1958414417),f=s(f,g,E,m,d[l+10],17,-42063),m=s(m,f,g,E,d[l+11],22,-1990404162),E=s(E,m,f,g,d[l+12],7,1804603682),g=s(g,E,m,f,d[l+13],12,-40341101),f=s(f,g,E,m,d[l+14],17,-1502002290),m=s(m,f,g,E,d[l+15],22,1236535329),E=o(E,m,f,g,d[l+1],5,-165796510),g=o(g,E,m,f,d[l+6],9,-1069501632),f=o(f,g,E,m,d[l+11],14,643717713),m=o(m,f,g,E,d[l+0],20,-373897302),E=o(E,m,f,g,d[l+5],5,-701558691),g=o(g,E,m,f,d[l+10],9,38016083),f=o(f,g,E,m,d[l+15],14,-660478335),m=o(m,f,g,E,d[l+4],20,-405537848),E=o(E,m,f,g,d[l+9],5,568446438),g=o(g,E,m,f,d[l+14],9,-1019803690),f=o(f,g,E,m,d[l+3],14,-187363961),m=o(m,f,g,E,d[l+8],20,1163531501),E=o(E,m,f,g,d[l+13],5,-1444681467),g=o(g,E,m,f,d[l+2],9,-51403784),f=o(f,g,E,m,d[l+7],14,1735328473),m=o(m,f,g,E,d[l+12],20,-1926607734),E=a(E,m,f,g,d[l+5],4,-378558),g=a(g,E,m,f,d[l+8],11,-2022574463),f=a(f,g,E,m,d[l+11],16,1839030562),m=a(m,f,g,E,d[l+14],23,-35309556),E=a(E,m,f,g,d[l+1],4,-1530992060),g=a(g,E,m,f,d[l+4],11,1272893353),f=a(f,g,E,m,d[l+7],16,-155497632),m=a(m,f,g,E,d[l+10],23,-1094730640),E=a(E,m,f,g,d[l+13],4,681279174),g=a(g,E,m,f,d[l+0],11,-358537222),f=a(f,g,E,m,d[l+3],16,-722521979),m=a(m,f,g,E,d[l+6],23,76029189),E=a(E,m,f,g,d[l+9],4,-640364487),g=a(g,E,m,f,d[l+12],11,-421815835),f=a(f,g,E,m,d[l+15],16,530742520),m=a(m,f,g,E,d[l+2],23,-995338651),E=c(E,m,f,g,d[l+0],6,-198630844),g=c(g,E,m,f,d[l+7],10,1126891415),f=c(f,g,E,m,d[l+14],15,-1416354905),m=c(m,f,g,E,d[l+5],21,-57434055),E=c(E,m,f,g,d[l+12],6,1700485571),g=c(g,E,m,f,d[l+3],10,-1894986606),f=c(f,g,E,m,d[l+10],15,-1051523),m=c(m,f,g,E,d[l+1],21,-2054922799),E=c(E,m,f,g,d[l+8],6,1873313359),g=c(g,E,m,f,d[l+15],10,-30611744),f=c(f,g,E,m,d[l+6],15,-1560198380),m=c(m,f,g,E,d[l+13],21,1309151649),E=c(E,m,f,g,d[l+4],6,-145523070),g=c(g,E,m,f,d[l+11],10,-1120210379),f=c(f,g,E,m,d[l+2],15,718787259),m=c(m,f,g,E,d[l+9],21,-343485551),E=n(E,h),m=n(m,u),f=n(f,p),g=n(g,_);return i(E)+i(m)+i(f)+i(g)}(\"\"+t+i)).slice(0,16),r=n.slice(0,12),s=await window.crypto.subtle.importKey(\"raw\",n,\"AES-GCM\",!0,[\"encrypt\"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:r},s,e))},_b=async(e,t,i)=>await pb(e.buffer,t,i);function Eb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function mb(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Eb(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Eb(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class fb extends $y{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==zy.PLAYING)}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}get __className__(){return\"LocalVideoTrack\"}constructor(e,t,i,n,r,s){if(super(e,r),nu(this,\"trackMediaType\",\"video\"),nu(this,\"_player\",void 0),nu(this,\"_videoVisibleTimer\",null),nu(this,\"_previousVideoVisibleStatus\",void 0),nu(this,\"_clearPreviousVideoVisibleStatus\",(()=>this._previousVideoVisibleStatus=void 0)),nu(this,\"_encoderConfig\",void 0),nu(this,\"_scalabilityMode\",{numSpatialLayers:1,numTemporalLayers:1}),nu(this,\"_optimizationMode\",void 0),nu(this,\"_videoHeight\",void 0),nu(this,\"_videoWidth\",void 0),nu(this,\"_forceBitrateLimit\",void 0),nu(this,\"_enabled\",!0),nu(this,\"processorDestination\",void 0),nu(this,\"_processorContext\",void 0),Tg()){const{width:t,height:i}=e.getSettings();this._videoWidth=t,this._videoHeight=i}else this.updateMediaStreamTrackResolution();if(this._encoderConfig=t,this._scalabilityMode=i,this._optimizationMode=n,this._hints=s||[],-1===this._hints.indexOf(Dy.SCREEN_TRACK))this.updateBitrateFromProfile();else if(function(e,t,i){const n=pg();return!(n.name!==e||!n.osVersion)&&(i?Number(n.version)>=t&&Number(n.version)<=i:Number(n.version)===t)}(cg.CHROME,115)&&-1!==_g().indexOf(\"Windows\")){const t=function(e,t){if(\"VideoFrame\"in window&&\"TransformStream\"in window&&hA().supportWebRTCInsertableStream){const i=new MediaStreamTrackProcessor(e),n=new MediaStreamTrackGenerator({kind:\"video\"});let r,s,o=Date.now();const a=()=>{c&&(clearInterval(c),c=void 0),r&&(r.close(),r=void 0),e.stop(),s=void 0,n.removeEventListener(\"ended\",a)};let c=window.setInterval((()=>{if(s&&r&&Date.now()-o>(null!=t?t:1e3))try{\"live\"===n.readyState?s.enqueue(r.clone()):a()}catch(e){a()}}),null!=t?t:1e3);const d=new TransformStream({transform:(e,t)=>{\"live\"===n.readyState?(s=t,o=Date.now(),void 0===r?(r=e,t.enqueue(e.clone())):(t.enqueue(r),r=e)):e.close()}});return n.addEventListener(\"ended\",a),i.readable.pipeThrough(d).pipeTo(n.writable),n}}(e);t&&(WC.info(\"local screen video track begin to inject frame\"),this._mediaStreamTrack=t)}t&&-1!==this._hints.indexOf(Dy.CUSTOM_TRACK)&&this.setEncoderConfiguration(t),this.processorContext=new FA(this.getTrackId(),\"local\"),this.processorDestination=new VA(this.processorContext),this.bindProcessorDestinationEvents()}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"string\"==typeof e){const t=document.getElementById(e);t?e=t:(WC.warning(\"[\".concat(this.getTrackId(),'] can not find \"#').concat(e,'\" element, use document.body')),e=document.body)}WC.debug(\"[\".concat(this.getTrackId(),\"] start video playback in \").concat(e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\"),JSON.stringify(t));const i=mb(mb(mb({},this._getDefaultPlayerConfig()),t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(i):(e instanceof HTMLVideoElement?this._player=new db(i):this._player=new hb(i),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(Uy.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),kC(\"CHECK_VIDEO_VISIBLE_INTERVAL\"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,WC.debug(\"[\".concat(this.getTrackId(),\"] stop video playback\")))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(WC.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),!e){this._originMediaStreamTrack.enabled=!1;try{await gS(this,Ny.NEED_DISABLE_TRACK,this)}catch(e){throw WC.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),e.toString()),e}return t||(this._enabled=!1),void WC.info(\"[\".concat(this.getTrackId(),\"] setEnabled to false success\"))}this._originMediaStreamTrack.enabled=!0;try{await gS(this,Ny.NEED_ENABLE_TRACK,this)}catch(e){throw WC.error(\"[\".concat(this.getTrackId(),\"] setEnabled to true error\"),e.toString()),e}WC.info(\"[\".concat(this.getTrackId(),\"] setEnabled to true success\")),t||(this._enabled=!0)}async setMuted(e){e!==this._muted&&(this.stateCheck(\"muted\",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,WC.debug(\"[\".concat(this.getTrackId(),\"] start set muted: \").concat(e)),e?await gS(this,Ny.NEED_MUTE_TRACK,this):await gS(this,Ny.NEED_UNMUTE_TRACK,this))}async setEncoderConfiguration(e,t){if(!this._enabled)throw new Vg(xg.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");if(e=vy(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),e.width||e.height||e.frameRate){const t=$A({encoderConfig:e});(Tg()||Cg()||Dg())&&(t.deviceId=void 0),WC.debug(\"[\".concat(this.getTrackId(),\"] setEncoderConfiguration applyConstraints\"),JSON.stringify(e),JSON.stringify(t));try{await this._originMediaStreamTrack.applyConstraints(t),this.updateMediaStreamTrackResolution()}catch(e){const t=new Vg(xg.UNEXPECTED_ERROR,e.toString());throw WC.error(\"[\".concat(this.getTrackId(),\"] applyConstraints error\"),t.toString()),t}}this._encoderConfig=e,-1===this._hints.indexOf(Dy.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await gS(this,Ny.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(WC)}}getStats(){NS((()=>{WC.warning(\"[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead\")}),\"localVideoTrackGetStatsWarning\");const e=SS(this,Ny.GET_STATS);return e||mb({},jy)}async setBeautyEffect(e){WC.error(\"LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect\")}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(e,t):await rb(e)}async setBitrateLimit(e){if(WC.debug(\"[\".concat(this.getTrackId(),\"] set bitrate limit, \").concat(JSON.stringify(e))),e){this._forceBitrateLimit=e,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<e.max_bitrate?this._encoderConfig.bitrateMax:e.max_bitrate:this._encoderConfig.bitrateMax=e.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=e.min_bitrate);try{await gS(this,Ny.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(WC)}}}async setOptimizationMode(e){if(\"motion\"!==e&&\"detail\"!==e&&\"balanced\"!==e)return void WC.error(xg.INVALID_PARAMS,\"optimization mode must be motion, detail or balanced\");const t=this._optimizationMode;try{this._optimizationMode=e,await gS(this,Ny.SET_OPTIMIZATION_MODE,this)}catch(e){throw this._optimizationMode=t,WC.error(\"[\".concat(this.getTrackId(),\"] set optimization mode failed\"),e.toString()),e}WC.info(\"[\".concat(this.getTrackId(),\"] set optimization mode success (\").concat(e,\")\"))}setScalabiltyMode(e){if(1===e.numSpatialLayers&&1!==e.numTemporalLayers)return WC.error(xg.INVALID_PARAMS,\"scalability mode currently not supported, no SVC.\"),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=e,WC.info(\"[\".concat(this.getTrackId(),\"] set scalability mode success (\").concat(e,\")\"))}updateMediaStreamTrackResolution(){ub(this._originMediaStreamTrack).then((e=>{let[t,i]=e;this._videoHeight=i,this._videoWidth=t})).catch(FS)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:\"contain\"}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:e,height:t,frameRate:i}=this.getMediaStreamTrackSettings();if(!e||!t||!i)return;const[n,r]=function(e,t,i,n){let r;const s=200*Math.pow(i/15,.6)*Math.pow(e*t/640/360,.75),o=s;if(\"STANDARD_BITRATE\"===n)r=4*s;else{if(\"COMPATIABLE_BITRATE\"!==n)return;r=2*s}return[Math.floor(r),Math.floor(o)]}(e,t,i,kC(\"BITRATE_ADAPTER_TYPE\"))||[void 0,void 0];this._encoderConfig.bitrateMin||this._encoderConfig.bitrateMax||(this._encoderConfig.bitrateMin=r,this._encoderConfig.bitrateMax=n,WC.debug(\"[\".concat(this.getTrackId(),\"] update bitrate from profile, [w: \").concat(e,\", h: \").concat(t,\", fps: \").concat(i,\"] => [brMax: \").concat(n,\", brMin: \").concat(r,\"]\")))}getVideoElementVisibleStatus(){try{var e,t;const i=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),n={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==i?void 0:i.parentElement},{element:r,slot:s}=n;if(this.isPlaying&&r instanceof HTMLVideoElement&&s instanceof HTMLElement){const e=Qg.checkOneElementVisible(r),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=iv.reportApiInvoke(null,{tag:oS.TRACER,name:sS.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess(\"Video is visible\"):e.onSuccess(\"Invisible because of \".concat(t.reason))}return t}return}catch(e){throw new Vg(xg.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}async renewMediaStreamTrack(e){}pipe(e){if(this.processor===e)return e;if(e._source)throw new Vg(xg.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}clone(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._encoderConfig;e&&(i=mb(mb({},i),vy(e))),i=wS(i);const n=xS(8,\"track-video-cloned-\"),r=new fb(t?this._mediaStreamTrack.clone():this._mediaStreamTrack,i,wS(this._scalabilityMode),this._optimizationMode,n,wS(this._hints));return e&&i&&r.setEncoderConfiguration(i),WC.debug(\"clone video track from \".concat(this.getTrackId(),\" to \").concat(n,\", clone \").concat(t)),r}async replaceTrack(e,t){if(!(e instanceof MediaStreamTrack))throw new Vg(xg.INVALID_PARAMS,\"track should be an instance of MediaStreamTrack\");if(\"video\"!==e.kind)throw new Vg(xg.INVALID_PARAMS,\"track should be a video MediaStreamTrack\");await this._updateOriginMediaStreamTrack(e,t,!0),this.updateMediaStreamTrackResolution()}bindProcessorDestinationEvents(){this.processorDestination.on(Ky.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(),await gS(this,Ny.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await gS(this,Ny.NEED_REPLACE_TRACK,this))}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(Ky.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(Yy.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(Yy.REQUEST_CONSTRAINTS)}}Lv([tv({argsMap:(e,t,i)=>[e.getTrackId(),\"string\"==typeof t?t:t instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\",i]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Object]),kv(\"design:returntype\",void 0)],fb.prototype,\"play\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],fb.prototype,\"stop\",null),Lv([qS(\"LocalVideoTrack\",\"_enabledMutex\"),tv({argsMap:(e,t)=>[e.getTrackId(),t]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Boolean,Boolean]),kv(\"design:returntype\",tg)],fb.prototype,\"setEnabled\",null),Lv([qS(\"LocalVideoTrack\",\"_enabledMutex\"),tv({argsMap:(e,t)=>[e.getTrackId(),t]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Boolean]),kv(\"design:returntype\",tg)],fb.prototype,\"setMuted\",null),Lv([tv({argsMap:(e,t)=>[e.getTrackId(),t]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Boolean]),kv(\"design:returntype\",tg)],fb.prototype,\"setEncoderConfiguration\",null),Lv([MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",Object)],fb.prototype,\"getStats\",null),Lv([tv({argsMap:(e,t,i)=>[e.getTrackId(),t,i]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Boolean,Object]),kv(\"design:returntype\",tg)],fb.prototype,\"setBeautyEffect\",null),Lv([MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",ImageData)],fb.prototype,\"getCurrentFrameData\",null),Lv([MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,Number]),kv(\"design:returntype\",tg)],fb.prototype,\"getCurrentFrameImage\",null),Lv([MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",tg)],fb.prototype,\"setBitrateLimit\",null),Lv([MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],fb.prototype,\"setOptimizationMode\",null),Lv([MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",void 0)],fb.prototype,\"setScalabiltyMode\",null),Lv([MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],fb.prototype,\"updateMediaStreamTrackResolution\",null),Lv([tv({argsMap:(e,t)=>[e.getTrackId(),t.name]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",Object)],fb.prototype,\"pipe\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],fb.prototype,\"unpipe\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],fb.prototype,\"close\",null),Lv([tv({argsMap:(e,t,i)=>[e.getTrackId(),t.label,i]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[MediaStreamTrack,Boolean]),kv(\"design:returntype\",tg)],fb.prototype,\"replaceTrack\",null);class gb extends fb{get __className__(){return\"CameraVideoTrack\"}constructor(e,t,i,n,r,s){super(e,vy(t.encoderConfig),n,r,s),nu(this,\"_config\",void 0),nu(this,\"_originalConstraints\",void 0),nu(this,\"_constraints\",void 0),nu(this,\"_enabled\",!0),nu(this,\"_deviceName\",\"default\"),nu(this,\"tryResumeVideoForIOS15_16WeChat\",(async()=>{(wg()||Og())&&!function(){const e=pg();if(e.os!==ag.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 15===Number(t[0])&&Number(t[1])>=2}()&&Pg()&&this._enabled&&!this._isClosed&&(WC.debug(\"[\".concat(this.getTrackId(),\"] try capture camera media device for interrupted iOS 15 device on WeChat.\")),await this.renewMediaStreamTrack())})),this._config=t,this._originalConstraints=i,this._constraints=i,this._deviceName=e.label,this._encoderConfig=vy(this._config.encoderConfig),nA.on(ly.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),nA.on(ly.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents()}async setDevice(e){return\"string\"==typeof e?this._setDeviceById(e):e.deviceId?this._setDeviceById(e.deviceId):e.facingMode?this._setDeviceByFacingModel(e.facingMode):void 0}async _setDeviceById(e){if(WC.info(\"[\".concat(this.getTrackId(),\"] set device to \").concat(e)),this._enabled)try{const t=await AA.getDeviceById(e),i={};i.video=mb({},this._constraints),i.video.deviceId={exact:e},i.video.facingMode=void 0,this._originMediaStreamTrack.stop();let n=null;try{n=await CA(i,this.getTrackId())}catch(e){throw WC.error(\"[\".concat(this.getTrackId(),\"] setDevice failed\"),e.toString()),n=await CA({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(n.getVideoTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(n.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw WC.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}else try{const t=await AA.getDeviceById(e);this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw WC.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}WC.info(\"[\".concat(this.getTrackId(),\"] setDevice success\"))}async _setDeviceByFacingModel(e){WC.info(\"[\".concat(this.getTrackId(),\"] set facingMode \").concat(e));const t={video:mb(mb({},this._constraints),{},{deviceId:void 0,facingMode:{exact:e}})};if(this._enabled){this._originMediaStreamTrack.stop();let e=null;try{e=await CA(t,this.getTrackId())}catch(t){throw WC.error(\"[\".concat(this.getTrackId(),\"] setDeviceByFacingModel failed\"),t.toString()),e=await CA({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),t}await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution()}this._deviceName=\"\",this._config.facingMode=e,this._config.cameraId=void 0,this._constraints=mb({},t.video),WC.info(\"[\".concat(this.getTrackId(),\"] setDeviceByFacingModel success\"))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(WC.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),e){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else{const e=await CA({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1)}await gS(this,Ny.NEED_ENABLE_TRACK,this)}catch(e){throw WC.error(\"[\".concat(this.getTrackId(),\"] setEnabled true error\"),e.toString()),e}this.updateMediaStreamTrackResolution(),WC.info(\"[\".concat(this.getTrackId(),\"] setEnabled to true success\")),t||(this._enabled=!0)}else{this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),t||(this._enabled=!1);try{await gS(this,Ny.NEED_DISABLE_TRACK,this)}catch(e){throw WC.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),e.toString()),e}WC.info(\"[\".concat(this.getTrackId(),\"] setEnabled to false success\"))}}async setEncoderConfiguration(e,t){if(!this._enabled)throw new Vg(xg.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");e=vy(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin);const i=bS(this._config);i.encoderConfig=e;const n=$A(i);(Tg()||Cg()||Dg())&&(n.deviceId=void 0),WC.debug(\"[\".concat(this.getTrackId(),\"] setEncoderConfiguration applyConstraints\"),JSON.stringify(e),JSON.stringify(n));try{await this._originMediaStreamTrack.applyConstraints(n),this.updateMediaStreamTrackResolution()}catch(e){const t=new Vg(xg.UNEXPECTED_ERROR,e.toString());throw WC.error(\"[\".concat(this.getTrackId(),\"] applyConstraints error\"),t.toString()),t}this._config=i,this._constraints=n,this._originalConstraints=n,this._encoderConfig=e,-1===this._hints.indexOf(Dy.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await gS(this,Ny.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(WC)}}_getDefaultPlayerConfig(){return{mirror:!0,fit:\"cover\"}}onTrackEnded(){if((Cg()||Dg())&&this._enabled&&!this._isClosed&&nA.duringInterruption){const e=async()=>{nA.off(ly.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(WC.debug(\"[\".concat(this.getTrackId(),\"] try capture camera media device for interrupted iOS device.\")),await this.setEnabled(!1),await this.setEnabled(!0))};nA.on(ly.IOS_INTERRUPTION_END,e)}else WC.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(Uy.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,i=AA.searchDeviceIdByName(this._deviceName);if(i&&!t.deviceId&&(t.deviceId={exact:i}),this._enabled){const e=await CA({video:t},this.getTrackId());this._constraints=t,await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),nA.off(ly.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),nA.off(ly.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}clone(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._encoderConfig;e&&(i=mb(mb({},i),vy(e))),i=wS(i);const n=xS(8,\"track-cam-cloned-\"),r=new gb(t?this._mediaStreamTrack.clone():this._mediaStreamTrack,wS(mb(mb({},this._config),{},{encoderConfig:i})),wS(this._constraints),wS(this._scalabilityMode),this._optimizationMode,n);return e&&i&&r.setEncoderConfiguration(i),WC.debug(\"clone track from \".concat(this.getTrackId(),\" to \").concat(n,\", clone \").concat(t)),r}bindProcessorContextEvents(){this.processorContext.on(Yy.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,i)=>{try{const i=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(i),t()}catch(e){i(e)}})),this.processorContext.on(Yy.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}}function Sb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Tb(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Sb(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Sb(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Rb(e,t,i,n){i.optimizationMode&&(n&&n.width&&n.height?(i.encoderConfig=Tb(Tb({},n),{},{bitrateMin:n.bitrateMin,bitrateMax:n.bitrateMax}),\"motion\"!==i.optimizationMode&&\"detail\"!==i.optimizationMode||(t.contentHint=i.optimizationMode,t.contentHint===i.optimizationMode?WC.debug(\"[\".concat(e,\"] set content hint to\"),i.optimizationMode):WC.debug(\"[\".concat(e,\"] set content hint failed\")))):WC.warning(\"[\".concat(e,\"] can not apply optimization mode bitrate config, no encoderConfig\")))}function Cb(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function vb(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Cb(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Cb(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}Lv([tv({argsMap:(e,t)=>[e.getTrackId(),t]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",tg)],gb.prototype,\"setDevice\",null),Lv([qS(\"CameraVideoTrack\",\"_enabledMutex\"),tv({argsMap:(e,t)=>[e.getTrackId(),t]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Boolean,Boolean]),kv(\"design:returntype\",tg)],gb.prototype,\"setEnabled\",null),Lv([tv({argsMap:(e,t)=>[e.getTrackId(),t]}),MA(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Boolean]),kv(\"design:returntype\",tg)],gb.prototype,\"setEncoderConfiguration\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],gb.prototype,\"close\",null);class Ib extends Zy{getUserId(){return this._userId}constructor(e,t,i,n){super(e,\"track-\".concat(e.kind,\"-\").concat(t,\"-\").concat(n.clientId,\"_\").concat(xS(5,\"\"))),nu(this,\"_userId\",void 0),nu(this,\"_uintId\",void 0),nu(this,\"_isDestroyed\",!1),nu(this,\"store\",void 0),nu(this,\"processor\",void 0),this._userId=t,this._uintId=i,this.store=n}_updateOriginMediaStreamTrack(e){this._originMediaStreamTrack=e,this._mediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,WC.info(\"[\".concat(this.getTrackId(),\"] is destroyed\")),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}class yb extends Ib{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==zy.PLAYING)}get __className__(){return\"RemoteVideoTrack\"}constructor(e,t,i,n){super(e,t,i,n),nu(this,\"_videoVisibleTimer\",null),nu(this,\"_previousVideoVisibleStatus\",void 0),nu(this,\"_clearPreviousVideoVisibleStatus\",(()=>this._previousVideoVisibleStatus=void 0)),nu(this,\"trackMediaType\",\"video\"),nu(this,\"_videoWidth\",void 0),nu(this,\"_videoHeight\",void 0),nu(this,\"_player\",void 0),nu(this,\"processorDestination\",void 0),nu(this,\"processorContext\",void 0),this.updateMediaStreamTrackResolution(),this.processorContext=new FA(this.getTrackId(),\"remote\"),this.processorDestination=new VA(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){NS((()=>{WC.warning(\"[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead\")}),\"remoteVideoTrackGetStatsWarning\");return SS(this,Ny.GET_STATS)||vb({},Hy)}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"string\"==typeof e){const t=document.getElementById(e);t?e=t:(WC.warning(\"[\".concat(this.getTrackId(),'] can not find \"#').concat(e,'\" element, use document.body')),e=document.body)}WC.debug(\"[\".concat(this.getTrackId(),\"] start video playback in \").concat(e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\"),JSON.stringify(t));const i=vb(vb({fit:\"cover\"},t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(i):(e instanceof HTMLVideoElement?this._player=new db(i):this._player=new hb(i),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),\"video\",void 0,void 0,Date.now()),this.safeEmit(xy.FIRST_FRAME_DECODED)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(xy.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),kC(\"CHECK_VIDEO_VISIBLE_INTERVAL\"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,WC.debug(\"[\".concat(this.getTrackId(),\"] stop video playback\")))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){ub(this._originMediaStreamTrack).then((e=>{let[t,i]=e;this._videoHeight=i,this._videoWidth=t})).catch(FS)}_updatePlayerSource(){WC.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var e,t;const i=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),n={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==i?void 0:i.parentElement},{element:r,slot:s}=n;if(this.isPlaying&&r instanceof HTMLVideoElement&&s instanceof HTMLElement){const e=Qg.checkOneElementVisible(r),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=iv.reportApiInvoke(null,{tag:oS.TRACER,name:sS.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess(\"Video is visible\"):e.onSuccess(\"Invisible because of \".concat(t.reason))}return t}return}catch(e){throw new Vg(xg.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}pipe(e){if(this.processor===e)return e;if(e._source)throw new Vg(xg.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(Ky.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(Ky.ON_TRACK)}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents()}}Lv([tv({argsMap:(e,t,i)=>[e.getTrackId(),\"string\"==typeof t?t:t instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\",i]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Object]),kv(\"design:returntype\",void 0)],yb.prototype,\"play\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],yb.prototype,\"stop\",null),Lv([tv({argsMap:(e,t)=>[e.getTrackId(),t.name]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",Object)],yb.prototype,\"pipe\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],yb.prototype,\"unpipe\",null);class Ab extends Ib{get isPlaying(){return this._useAudioElement?kA.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return\"RemoteAudioTrack\"}constructor(e,t,i,n){super(e,t,i,n),nu(this,\"trackMediaType\",\"audio\"),nu(this,\"_source\",void 0),nu(this,\"_useAudioElement\",!0),nu(this,\"_volume\",100),nu(this,\"processorContext\",void 0),nu(this,\"processorDestination\",void 0),nu(this,\"_played\",!1),nu(this,\"_bypassWebAudio\",!1),kC(\"DISABLE_WEBAUDIO\")?(this._source=new GA,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new _A(e,!0),kC(\"REMOTE_AUDIO_TRACK_USES_WEB_AUDIO\")&&(this._useAudioElement=!1)),this._source.once(Vy.RECEIVE_TRACK_BUFFER,(()=>{this.safeEmit(xy.FIRST_FRAME_DECODED)})),this.processorContext=new jA(this._source.context,this.getTrackId(),\"remote\"),this.processorDestination=new BA(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(Vy.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(Vy.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(Vy.ON_AUDIO_BUFFER),this._source.on(Vy.ON_AUDIO_BUFFER,(t=>e(t)))}setVolume(e){this._volume=e,this._useAudioElement?kA.setVolume(this.getTrackId(),e):this._source.setVolume(e/100)}async setPlaybackDevice(e){if(!this._useAudioElement)throw new Vg(xg.NOT_SUPPORTED,\"your browser does not support setting the audio output device\");await kA.setSinkID(this.getTrackId(),e)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){NS((()=>{WC.warning(\"[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead\")}),\"remoteAudioTrackGetStatsWarning\");return SS(this,Ny.GET_STATS)||vb({},Gy)}play(){WC.debug(\"[\".concat(this.getTrackId(),\"] start audio playback\")),this._played=!0,this._useAudioElement?(WC.debug(\"[\".concat(this.getTrackId(),\"] use audio element to play\")),kA.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play()}stop(){WC.debug(\"[\".concat(this.getTrackId(),\"] stop audio playback\")),this._played=!1,this._useAudioElement?kA.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];WC.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&kA.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(e){if(this._bypassWebAudio)throw new Vg(xg.NOT_SUPPORTED,\"can not pipe extension when WebAudio disabled\");if(this.processor===e)return e;if(e._source)throw new Vg(xg.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(this._bypassWebAudio)throw new Vg(xg.NOT_SUPPORTED,\"can not unpipe extension when WebAudio disabled\");if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(Ky.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})),this.processorDestination.on(Ky.ON_NODE,(e=>{this._source.processedNode=e;const t=!e;this._useAudioElement!==t&&(this._played?(this.stop(),this._useAudioElement=t,this.play()):this._useAudioElement=t)}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(Ky.ON_TRACK),this.processorDestination.removeAllListeners(Ky.ON_NODE)}}Lv([tv({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Number]),kv(\"design:returntype\",void 0)],Ab.prototype,\"setVolume\",null),Lv([tv({argsMap:(e,t)=>[e.getTrackId(),t]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],Ab.prototype,\"setPlaybackDevice\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],Ab.prototype,\"play\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],Ab.prototype,\"stop\",null),Lv([tv({argsMap:(e,t)=>[e.getTrackId(),t.name]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",Object)],Ab.prototype,\"pipe\",null),Lv([tv({argsMap:e=>[e.getTrackId()]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],Ab.prototype,\"unpipe\",null);function bb(e){let t=e.length;for(;--t>=0;)e[t]=0}const wb=256,Ob=286,Nb=30,Db=15,Pb=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Lb=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),kb=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Mb=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ub=new Array(576);bb(Ub);const xb=new Array(60);bb(xb);const Vb=new Array(512);bb(Vb);const Fb=new Array(256);bb(Fb);const Bb=new Array(29);bb(Bb);const jb=new Array(Nb);function Gb(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}let Wb,Hb,Kb;function Yb(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}bb(jb);const qb=e=>e<256?Vb[e]:Vb[256+(e>>>7)],Jb=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},zb=(e,t,i)=>{e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,Jb(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},Xb=(e,t,i)=>{zb(e,i[2*t],i[2*t+1])},Qb=(e,t)=>{let i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1},Zb=(e,t,i)=>{const n=new Array(16);let r,s,o=0;for(r=1;r<=Db;r++)o=o+i[r-1]<<1,n[r]=o;for(s=0;s<=t;s++){let t=e[2*s+1];0!==t&&(e[2*s]=Qb(n[t]++,t))}},$b=e=>{let t;for(t=0;t<Ob;t++)e.dyn_ltree[2*t]=0;for(t=0;t<Nb;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},ew=e=>{e.bi_valid>8?Jb(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},tw=(e,t,i,n)=>{const r=2*t,s=2*i;return e[r]<e[s]||e[r]===e[s]&&n[t]<=n[i]},iw=(e,t,i)=>{const n=e.heap[i];let r=i<<1;for(;r<=e.heap_len&&(r<e.heap_len&&tw(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!tw(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n},nw=(e,t,i)=>{let n,r,s,o,a=0;if(0!==e.sym_next)do{n=255&e.pending_buf[e.sym_buf+a++],n+=(255&e.pending_buf[e.sym_buf+a++])<<8,r=e.pending_buf[e.sym_buf+a++],0===n?Xb(e,r,t):(s=Fb[r],Xb(e,s+wb+1,t),o=Pb[s],0!==o&&(r-=Bb[s],zb(e,r,o)),n--,s=qb(n),Xb(e,s,i),o=Lb[s],0!==o&&(n-=jb[s],zb(e,n,o)))}while(a<e.sym_next);Xb(e,256,t)},rw=(e,t)=>{const i=t.dyn_tree,n=t.stat_desc.static_tree,r=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,a,c,d=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<s;o++)0!==i[2*o]?(e.heap[++e.heap_len]=d=o,e.depth[o]=0):i[2*o+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=d<2?++d:0,i[2*c]=1,e.depth[c]=0,e.opt_len--,r&&(e.static_len-=n[2*c+1]);for(t.max_code=d,o=e.heap_len>>1;o>=1;o--)iw(e,i,o);c=s;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],iw(e,i,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,i[2*c]=i[2*o]+i[2*a],e.depth[c]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,i[2*o+1]=i[2*a+1]=c,e.heap[1]=c++,iw(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const i=t.dyn_tree,n=t.max_code,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let d,l,h,u,p,_,E=0;for(u=0;u<=Db;u++)e.bl_count[u]=0;for(i[2*e.heap[e.heap_max]+1]=0,d=e.heap_max+1;d<573;d++)l=e.heap[d],u=i[2*i[2*l+1]+1]+1,u>c&&(u=c,E++),i[2*l+1]=u,l>n||(e.bl_count[u]++,p=0,l>=a&&(p=o[l-a]),_=i[2*l],e.opt_len+=_*(u+p),s&&(e.static_len+=_*(r[2*l+1]+p)));if(0!==E){do{for(u=c-1;0===e.bl_count[u];)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[c]--,E-=2}while(E>0);for(u=c;0!==u;u--)for(l=e.bl_count[u];0!==l;)h=e.heap[--d],h>n||(i[2*h+1]!==u&&(e.opt_len+=(u-i[2*h+1])*i[2*h],i[2*h+1]=u),l--)}})(e,t),Zb(i,d,e.bl_count)},sw=(e,t,i)=>{let n,r,s=-1,o=t[1],a=0,c=7,d=4;for(0===o&&(c=138,d=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=t[2*(n+1)+1],++a<c&&r===o||(a<d?e.bl_tree[2*r]+=a:0!==r?(r!==s&&e.bl_tree[2*r]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,s=r,0===o?(c=138,d=3):r===o?(c=6,d=3):(c=7,d=4))},ow=(e,t,i)=>{let n,r,s=-1,o=t[1],a=0,c=7,d=4;for(0===o&&(c=138,d=3),n=0;n<=i;n++)if(r=o,o=t[2*(n+1)+1],!(++a<c&&r===o)){if(a<d)do{Xb(e,r,e.bl_tree)}while(0!=--a);else 0!==r?(r!==s&&(Xb(e,r,e.bl_tree),a--),Xb(e,16,e.bl_tree),zb(e,a-3,2)):a<=10?(Xb(e,17,e.bl_tree),zb(e,a-3,3)):(Xb(e,18,e.bl_tree),zb(e,a-11,7));a=0,s=r,0===o?(c=138,d=3):r===o?(c=6,d=3):(c=7,d=4)}};let aw=!1;const cw=(e,t,i,n)=>{zb(e,0+(n?1:0),3),ew(e),Jb(e,i),Jb(e,~i),i&&e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i};var dw=e=>{aw||((()=>{let e,t,i,n,r;const s=new Array(16);for(i=0,n=0;n<28;n++)for(Bb[n]=i,e=0;e<1<<Pb[n];e++)Fb[i++]=n;for(Fb[i-1]=n,r=0,n=0;n<16;n++)for(jb[n]=r,e=0;e<1<<Lb[n];e++)Vb[r++]=n;for(r>>=7;n<Nb;n++)for(jb[n]=r<<7,e=0;e<1<<Lb[n]-7;e++)Vb[256+r++]=n;for(t=0;t<=Db;t++)s[t]=0;for(e=0;e<=143;)Ub[2*e+1]=8,e++,s[8]++;for(;e<=255;)Ub[2*e+1]=9,e++,s[9]++;for(;e<=279;)Ub[2*e+1]=7,e++,s[7]++;for(;e<=287;)Ub[2*e+1]=8,e++,s[8]++;for(Zb(Ub,287,s),e=0;e<Nb;e++)xb[2*e+1]=5,xb[2*e]=Qb(e,5);Wb=new Gb(Ub,Pb,257,Ob,Db),Hb=new Gb(xb,Lb,0,Nb,Db),Kb=new Gb(new Array(0),kb,0,19,7)})(),aw=!0),e.l_desc=new Yb(e.dyn_ltree,Wb),e.d_desc=new Yb(e.dyn_dtree,Hb),e.bl_desc=new Yb(e.bl_tree,Kb),e.bi_buf=0,e.bi_valid=0,$b(e)},lw=(e,t,i,n)=>{let r,s,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<wb;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),rw(e,e.l_desc),rw(e,e.d_desc),o=(e=>{let t;for(sw(e,e.dyn_ltree,e.l_desc.max_code),sw(e,e.dyn_dtree,e.d_desc.max_code),rw(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*Mb[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),r=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=r&&(r=s)):r=s=i+5,i+4<=r&&-1!==t?cw(e,t,i,n):4===e.strategy||s===r?(zb(e,2+(n?1:0),3),nw(e,Ub,xb)):(zb(e,4+(n?1:0),3),((e,t,i,n)=>{let r;for(zb(e,t-257,5),zb(e,i-1,5),zb(e,n-4,4),r=0;r<n;r++)zb(e,e.bl_tree[2*Mb[r]+1],3);ow(e,e.dyn_ltree,t-1),ow(e,e.dyn_dtree,i-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),nw(e,e.dyn_ltree,e.dyn_dtree)),$b(e),n&&ew(e)},hw=(e,t,i)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=i,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(Fb[i]+wb+1)]++,e.dyn_dtree[2*qb(t)]++),e.sym_next===e.sym_end),uw={_tr_init:dw,_tr_stored_block:cw,_tr_flush_block:lw,_tr_tally:hw,_tr_align:e=>{zb(e,2,3),Xb(e,256,Ub),(e=>{16===e.bi_valid?(Jb(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var pw=(e,t,i,n)=>{let r=65535&e|0,s=e>>>16&65535|0,o=0;for(;0!==i;){o=i>2e3?2e3:i,i-=o;do{r=r+t[n++]|0,s=s+r|0}while(--o);r%=65521,s%=65521}return r|s<<16|0};const _w=new Uint32Array((()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t})());var Ew=(e,t,i,n)=>{const r=_w,s=n+i;e^=-1;for(let i=n;i<s;i++)e=e>>>8^r[255&(e^t[i])];return-1^e},mw={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"},fw={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:gw,_tr_stored_block:Sw,_tr_flush_block:Tw,_tr_tally:Rw,_tr_align:Cw}=uw,{Z_NO_FLUSH:vw,Z_PARTIAL_FLUSH:Iw,Z_FULL_FLUSH:yw,Z_FINISH:Aw,Z_BLOCK:bw,Z_OK:ww,Z_STREAM_END:Ow,Z_STREAM_ERROR:Nw,Z_DATA_ERROR:Dw,Z_BUF_ERROR:Pw,Z_DEFAULT_COMPRESSION:Lw,Z_FILTERED:kw,Z_HUFFMAN_ONLY:Mw,Z_RLE:Uw,Z_FIXED:xw,Z_DEFAULT_STRATEGY:Vw,Z_UNKNOWN:Fw,Z_DEFLATED:Bw}=fw,jw=286,Gw=30,Ww=19,Hw=2*jw+1,Kw=15,Yw=258,qw=262,Jw=42,zw=113,Xw=666,Qw=(e,t)=>(e.msg=mw[t],t),Zw=e=>2*e-(e>4?9:0),$w=e=>{let t=e.length;for(;--t>=0;)e[t]=0},eO=e=>{let t,i,n,r=e.w_size;t=e.hash_size,n=t;do{i=e.head[--n],e.head[n]=i>=r?i-r:0}while(--t);t=r,n=t;do{i=e.prev[--n],e.prev[n]=i>=r?i-r:0}while(--t)};let tO=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask;const iO=e=>{const t=e.state;let i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))},nO=(e,t)=>{Tw(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,iO(e.strm)},rO=(e,t)=>{e.pending_buf[e.pending++]=t},sO=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},oO=(e,t,i,n)=>{let r=e.avail_in;return r>n&&(r=n),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),i),1===e.state.wrap?e.adler=pw(e.adler,t,r,i):2===e.state.wrap&&(e.adler=Ew(e.adler,t,r,i)),e.next_in+=r,e.total_in+=r,r)},aO=(e,t)=>{let i,n,r=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-qw?e.strstart-(e.w_size-qw):0,d=e.window,l=e.w_mask,h=e.prev,u=e.strstart+Yw;let p=d[s+o-1],_=d[s+o];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(i=t,d[i+o]===_&&d[i+o-1]===p&&d[i]===d[s]&&d[++i]===d[s+1]){s+=2,i++;do{}while(d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&d[++s]===d[++i]&&s<u);if(n=Yw-(u-s),s=u-Yw,n>o){if(e.match_start=t,o=n,n>=a)break;p=d[s+o-1],_=d[s+o]}}}while((t=h[t&l])>c&&0!=--r);return o<=e.lookahead?o:e.lookahead},cO=e=>{const t=e.w_size;let i,n,r;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-qw)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),eO(e),n+=t),0===e.strm.avail_in)break;if(i=oO(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=3)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=tO(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=tO(e,e.ins_h,e.window[r+3-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<qw&&0!==e.strm.avail_in)},dO=(e,t)=>{let i,n,r,s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,o=0,a=e.strm.avail_in;do{if(i=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r)break;if(r=e.strm.avail_out-r,n=e.strstart-e.block_start,i>n+e.strm.avail_in&&(i=n+e.strm.avail_in),i>r&&(i=r),i<s&&(0===i&&t!==Aw||t===vw||i!==n+e.strm.avail_in))break;o=t===Aw&&i===n+e.strm.avail_in?1:0,Sw(e,0,0,o),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,iO(e.strm),n&&(n>i&&(n=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,i-=n),i&&(oO(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(0===o);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?4:t!==vw&&t!==Aw&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(oO(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,s=r>e.w_size?e.w_size:r,n=e.strstart-e.block_start,(n>=s||(n||t===Aw)&&t!==vw&&0===e.strm.avail_in&&n<=r)&&(i=n>r?r:n,o=t===Aw&&0===e.strm.avail_in&&i===n?1:0,Sw(e,e.block_start,i,o),e.block_start+=i,iO(e.strm)),o?3:1)},lO=(e,t)=>{let i,n;for(;;){if(e.lookahead<qw){if(cO(e),e.lookahead<qw&&t===vw)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=tO(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-qw&&(e.match_length=aO(e,i)),e.match_length>=3)if(n=Rw(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=tO(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=tO(e,e.ins_h,e.window[e.strstart+1]);else n=Rw(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(nO(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Aw?(nO(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(nO(e,!1),0===e.strm.avail_out)?1:2},hO=(e,t)=>{let i,n,r;for(;;){if(e.lookahead<qw){if(cO(e),e.lookahead<qw&&t===vw)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=tO(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-qw&&(e.match_length=aO(e,i),e.match_length<=5&&(e.strategy===kw||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,n=Rw(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=tO(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(nO(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=Rw(e,0,e.window[e.strstart-1]),n&&nO(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Rw(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Aw?(nO(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(nO(e,!1),0===e.strm.avail_out)?1:2};function uO(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}const pO=[new uO(0,0,0,0,dO),new uO(4,4,8,4,lO),new uO(4,5,16,8,lO),new uO(4,6,32,32,lO),new uO(4,4,16,16,hO),new uO(8,16,32,32,hO),new uO(8,16,128,128,hO),new uO(8,32,128,256,hO),new uO(32,128,258,1024,hO),new uO(32,258,258,4096,hO)];function _O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Bw,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*Hw),this.dyn_dtree=new Uint16Array(2*(2*Gw+1)),this.bl_tree=new Uint16Array(2*(2*Ww+1)),$w(this.dyn_ltree),$w(this.dyn_dtree),$w(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Kw+1),this.heap=new Uint16Array(2*jw+1),$w(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*jw+1),$w(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const EO=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Jw&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==zw&&t.status!==Xw?1:0},mO=e=>{if(EO(e))return Qw(e,Nw);e.total_in=e.total_out=0,e.data_type=Fw;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Jw:zw,e.adler=2===t.wrap?0:1,t.last_flush=-2,gw(t),ww},fO=e=>{const t=mO(e);var i;return t===ww&&((i=e.state).window_size=2*i.w_size,$w(i.head),i.max_lazy_match=pO[i.level].max_lazy,i.good_match=pO[i.level].good_length,i.nice_match=pO[i.level].nice_length,i.max_chain_length=pO[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),t},gO=(e,t,i,n,r,s)=>{if(!e)return Nw;let o=1;if(t===Lw&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),r<1||r>9||i!==Bw||n<8||n>15||t<0||t>9||s<0||s>xw||8===n&&1!==o)return Qw(e,Nw);8===n&&(n=9);const a=new _O;return e.state=a,a.strm=e,a.status=Jw,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=t,a.strategy=s,a.method=i,fO(e)};var SO=(e,t)=>{if(EO(e)||t>bw||t<0)return e?Qw(e,Nw):Nw;const i=e.state;if(!e.output||0!==e.avail_in&&!e.input||i.status===Xw&&t!==Aw)return Qw(e,0===e.avail_out?Pw:Nw);const n=i.last_flush;if(i.last_flush=t,0!==i.pending){if(iO(e),0===e.avail_out)return i.last_flush=-1,ww}else if(0===e.avail_in&&Zw(t)<=Zw(n)&&t!==Aw)return Qw(e,Pw);if(i.status===Xw&&0!==e.avail_in)return Qw(e,Pw);if(i.status===Jw&&0===i.wrap&&(i.status=zw),i.status===Jw){let t=Bw+(i.w_bits-8<<4)<<8,n=-1;if(n=i.strategy>=Mw||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,sO(i,t),0!==i.strstart&&(sO(i,e.adler>>>16),sO(i,65535&e.adler)),e.adler=1,i.status=zw,iO(e),0!==i.pending)return i.last_flush=-1,ww}if(57===i.status)if(e.adler=0,rO(i,31),rO(i,139),rO(i,8),i.gzhead)rO(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),rO(i,255&i.gzhead.time),rO(i,i.gzhead.time>>8&255),rO(i,i.gzhead.time>>16&255),rO(i,i.gzhead.time>>24&255),rO(i,9===i.level?2:i.strategy>=Mw||i.level<2?4:0),rO(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(rO(i,255&i.gzhead.extra.length),rO(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=Ew(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(rO(i,0),rO(i,0),rO(i,0),rO(i,0),rO(i,0),rO(i,9===i.level?2:i.strategy>=Mw||i.level<2?4:0),rO(i,3),i.status=zw,iO(e),0!==i.pending)return i.last_flush=-1,ww;if(69===i.status){if(i.gzhead.extra){let t=i.pending,n=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let r=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+r),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>t&&(e.adler=Ew(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex+=r,iO(e),0!==i.pending)return i.last_flush=-1,ww;t=0,n-=r}let r=new Uint8Array(i.gzhead.extra);i.pending_buf.set(r.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>t&&(e.adler=Ew(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=Ew(e.adler,i.pending_buf,i.pending-n,n)),iO(e),0!==i.pending)return i.last_flush=-1,ww;n=0}t=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,rO(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=Ew(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=Ew(e.adler,i.pending_buf,i.pending-n,n)),iO(e),0!==i.pending)return i.last_flush=-1,ww;n=0}t=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,rO(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=Ew(e.adler,i.pending_buf,i.pending-n,n))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(iO(e),0!==i.pending))return i.last_flush=-1,ww;rO(i,255&e.adler),rO(i,e.adler>>8&255),e.adler=0}if(i.status=zw,iO(e),0!==i.pending)return i.last_flush=-1,ww}if(0!==e.avail_in||0!==i.lookahead||t!==vw&&i.status!==Xw){let n=0===i.level?dO(i,t):i.strategy===Mw?((e,t)=>{let i;for(;;){if(0===e.lookahead&&(cO(e),0===e.lookahead)){if(t===vw)return 1;break}if(e.match_length=0,i=Rw(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(nO(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Aw?(nO(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(nO(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===Uw?((e,t)=>{let i,n,r,s;const o=e.window;for(;;){if(e.lookahead<=Yw){if(cO(e),e.lookahead<=Yw&&t===vw)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=e.strstart-1,n=o[r],n===o[++r]&&n===o[++r]&&n===o[++r])){s=e.strstart+Yw;do{}while(n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&r<s);e.match_length=Yw-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=Rw(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=Rw(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(nO(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Aw?(nO(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(nO(e,!1),0===e.strm.avail_out)?1:2})(i,t):pO[i.level].func(i,t);if(3!==n&&4!==n||(i.status=Xw),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),ww;if(2===n&&(t===Iw?Cw(i):t!==bw&&(Sw(i,0,0,!1),t===yw&&($w(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),iO(e),0===e.avail_out))return i.last_flush=-1,ww}return t!==Aw?ww:i.wrap<=0?Ow:(2===i.wrap?(rO(i,255&e.adler),rO(i,e.adler>>8&255),rO(i,e.adler>>16&255),rO(i,e.adler>>24&255),rO(i,255&e.total_in),rO(i,e.total_in>>8&255),rO(i,e.total_in>>16&255),rO(i,e.total_in>>24&255)):(sO(i,e.adler>>>16),sO(i,65535&e.adler)),iO(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?ww:Ow)},TO=(e,t)=>{let i=t.length;if(EO(e))return Nw;const n=e.state,r=n.wrap;if(2===r||1===r&&n.status!==Jw||n.lookahead)return Nw;if(1===r&&(e.adler=pw(e.adler,t,i,0)),n.wrap=0,i>=n.w_size){0===r&&($w(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(i-n.w_size,i),0),t=e,i=n.w_size}const s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,cO(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=tO(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,cO(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,n.wrap=r,ww},RO={deflateInit:(e,t)=>gO(e,t,Bw,15,8,Vw),deflateInit2:gO,deflateReset:fO,deflateResetKeep:mO,deflateSetHeader:(e,t)=>EO(e)||2!==e.state.wrap?Nw:(e.state.gzhead=t,ww),deflate:SO,deflateEnd:e=>{if(EO(e))return Nw;const t=e.state.status;return e.state=null,t===zw?Qw(e,Dw):ww},deflateSetDictionary:TO,deflateInfo:\"pako deflate (from Nodeca project)\"};const CO=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var vO={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if(\"object\"!=typeof i)throw new TypeError(i+\"must be non-object\");for(const t in i)CO(i,t)&&(e[t]=i[t])}}return e},flattenChunks:e=>{let t=0;for(let i=0,n=e.length;i<n;i++)t+=e[i].length;const i=new Uint8Array(t);for(let t=0,n=0,r=e.length;t<r;t++){let r=e[t];i.set(r,n),n+=r.length}return i}};let IO=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){IO=!1}const yO=new Uint8Array(256);for(let e=0;e<256;e++)yO[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;yO[254]=yO[254]=1;var AO={string2buf:e=>{if(\"function\"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,i,n,r,s,o=e.length,a=0;for(r=0;r<o;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<o&&(n=e.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(a),s=0,r=0;s<a;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<o&&(n=e.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),i<128?t[s++]=i:i<2048?(t[s++]=192|i>>>6,t[s++]=128|63&i):i<65536?(t[s++]=224|i>>>12,t[s++]=128|i>>>6&63,t[s++]=128|63&i):(t[s++]=240|i>>>18,t[s++]=128|i>>>12&63,t[s++]=128|i>>>6&63,t[s++]=128|63&i);return t},buf2string:(e,t)=>{const i=t||e.length;if(\"function\"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,r;const s=new Array(2*i);for(r=0,n=0;n<i;){let t=e[n++];if(t<128){s[r++]=t;continue}let o=yO[t];if(o>4)s[r++]=65533,n+=o-1;else{for(t&=2===o?31:3===o?15:7;o>1&&n<i;)t=t<<6|63&e[n++],o--;o>1?s[r++]=65533:t<65536?s[r++]=t:(t-=65536,s[r++]=55296|t>>10&1023,s[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&IO)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i=\"\";for(let n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i})(s,r)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+yO[e[i]]>t?i:t}};var bO=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0};const wO=Object.prototype.toString,{Z_NO_FLUSH:OO,Z_SYNC_FLUSH:NO,Z_FULL_FLUSH:DO,Z_FINISH:PO,Z_OK:LO,Z_STREAM_END:kO,Z_DEFAULT_COMPRESSION:MO,Z_DEFAULT_STRATEGY:UO,Z_DEFLATED:xO}=fw;function VO(e){this.options=vO.assign({level:MO,method:xO,chunkSize:16384,windowBits:15,memLevel:8,strategy:UO},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new bO,this.strm.avail_out=0;let i=RO.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==LO)throw new Error(mw[i]);if(t.header&&RO.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e=\"string\"==typeof t.dictionary?AO.string2buf(t.dictionary):\"[object ArrayBuffer]\"===wO.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,i=RO.deflateSetDictionary(this.strm,e),i!==LO)throw new Error(mw[i]);this._dict_set=!0}}function FO(e,t){const i=new VO(t);if(i.push(e,!0),i.err)throw i.msg||mw[i.err];return i.result}VO.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize;let r,s;if(this.ended)return!1;for(s=t===~~t?t:!0===t?PO:OO,\"string\"==typeof e?i.input=AO.string2buf(e):\"[object ArrayBuffer]\"===wO.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(s===NO||s===DO)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(r=RO.deflate(i,s),r===kO)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=RO.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===LO;if(0!==i.avail_out){if(s>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},VO.prototype.onData=function(e){this.chunks.push(e)},VO.prototype.onEnd=function(e){e===LO&&(this.result=vO.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var BO={Deflate:VO,deflate:FO,deflateRaw:function(e,t){return(t=t||{}).raw=!0,FO(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,FO(e,t)},constants:fw};const jO=16209;var GO=function(e,t){let i,n,r,s,o,a,c,d,l,h,u,p,_,E,m,f,g,S,T,R,C,v,I,y;const A=e.state;i=e.next_in,I=e.input,n=i+(e.avail_in-5),r=e.next_out,y=e.output,s=r-(t-e.avail_out),o=r+(e.avail_out-257),a=A.dmax,c=A.wsize,d=A.whave,l=A.wnext,h=A.window,u=A.hold,p=A.bits,_=A.lencode,E=A.distcode,m=(1<<A.lenbits)-1,f=(1<<A.distbits)-1;e:do{p<15&&(u+=I[i++]<<p,p+=8,u+=I[i++]<<p,p+=8),g=_[u&m];t:for(;;){if(S=g>>>24,u>>>=S,p-=S,S=g>>>16&255,0===S)y[r++]=65535&g;else{if(!(16&S)){if(0==(64&S)){g=_[(65535&g)+(u&(1<<S)-1)];continue t}if(32&S){A.mode=16191;break e}e.msg=\"invalid literal/length code\",A.mode=jO;break e}T=65535&g,S&=15,S&&(p<S&&(u+=I[i++]<<p,p+=8),T+=u&(1<<S)-1,u>>>=S,p-=S),p<15&&(u+=I[i++]<<p,p+=8,u+=I[i++]<<p,p+=8),g=E[u&f];i:for(;;){if(S=g>>>24,u>>>=S,p-=S,S=g>>>16&255,!(16&S)){if(0==(64&S)){g=E[(65535&g)+(u&(1<<S)-1)];continue i}e.msg=\"invalid distance code\",A.mode=jO;break e}if(R=65535&g,S&=15,p<S&&(u+=I[i++]<<p,p+=8,p<S&&(u+=I[i++]<<p,p+=8)),R+=u&(1<<S)-1,R>a){e.msg=\"invalid distance too far back\",A.mode=jO;break e}if(u>>>=S,p-=S,S=r-s,R>S){if(S=R-S,S>d&&A.sane){e.msg=\"invalid distance too far back\",A.mode=jO;break e}if(C=0,v=h,0===l){if(C+=c-S,S<T){T-=S;do{y[r++]=h[C++]}while(--S);C=r-R,v=y}}else if(l<S){if(C+=c+l-S,S-=l,S<T){T-=S;do{y[r++]=h[C++]}while(--S);if(C=0,l<T){S=l,T-=S;do{y[r++]=h[C++]}while(--S);C=r-R,v=y}}}else if(C+=l-S,S<T){T-=S;do{y[r++]=h[C++]}while(--S);C=r-R,v=y}for(;T>2;)y[r++]=v[C++],y[r++]=v[C++],y[r++]=v[C++],T-=3;T&&(y[r++]=v[C++],T>1&&(y[r++]=v[C++]))}else{C=r-R;do{y[r++]=y[C++],y[r++]=y[C++],y[r++]=y[C++],T-=3}while(T>2);T&&(y[r++]=y[C++],T>1&&(y[r++]=y[C++]))}break}}break}}while(i<n&&r<o);T=p>>3,i-=T,p-=T<<3,u&=(1<<p)-1,e.next_in=i,e.next_out=r,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=r<o?o-r+257:257-(r-o),A.hold=u,A.bits=p};const WO=15,HO=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),KO=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),YO=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),qO=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var JO=(e,t,i,n,r,s,o,a)=>{const c=a.bits;let d,l,h,u,p,_,E=0,m=0,f=0,g=0,S=0,T=0,R=0,C=0,v=0,I=0,y=null;const A=new Uint16Array(16),b=new Uint16Array(16);let w,O,N,D=null;for(E=0;E<=WO;E++)A[E]=0;for(m=0;m<n;m++)A[t[i+m]]++;for(S=c,g=WO;g>=1&&0===A[g];g--);if(S>g&&(S=g),0===g)return r[s++]=20971520,r[s++]=20971520,a.bits=1,0;for(f=1;f<g&&0===A[f];f++);for(S<f&&(S=f),C=1,E=1;E<=WO;E++)if(C<<=1,C-=A[E],C<0)return-1;if(C>0&&(0===e||1!==g))return-1;for(b[1]=0,E=1;E<WO;E++)b[E+1]=b[E]+A[E];for(m=0;m<n;m++)0!==t[i+m]&&(o[b[t[i+m]]++]=m);if(0===e?(y=D=o,_=20):1===e?(y=HO,D=KO,_=257):(y=YO,D=qO,_=0),I=0,m=0,E=f,p=s,T=S,R=0,h=-1,v=1<<S,u=v-1,1===e&&v>852||2===e&&v>592)return 1;for(;;){w=E-R,o[m]+1<_?(O=0,N=o[m]):o[m]>=_?(O=D[o[m]-_],N=y[o[m]-_]):(O=96,N=0),d=1<<E-R,l=1<<T,f=l;do{l-=d,r[p+(I>>R)+l]=w<<24|O<<16|N|0}while(0!==l);for(d=1<<E-1;I&d;)d>>=1;if(0!==d?(I&=d-1,I+=d):I=0,m++,0==--A[E]){if(E===g)break;E=t[i+o[m]]}if(E>S&&(I&u)!==h){for(0===R&&(R=S),p+=f,T=E-R,C=1<<T;T+R<g&&(C-=A[T+R],!(C<=0));)T++,C<<=1;if(v+=1<<T,1===e&&v>852||2===e&&v>592)return 1;h=I&u,r[h]=S<<24|T<<16|p-s|0}}return 0!==I&&(r[p+I]=E-R<<24|64<<16|0),a.bits=S,0};const{Z_FINISH:zO,Z_BLOCK:XO,Z_TREES:QO,Z_OK:ZO,Z_STREAM_END:$O,Z_NEED_DICT:eN,Z_STREAM_ERROR:tN,Z_DATA_ERROR:iN,Z_MEM_ERROR:nN,Z_BUF_ERROR:rN,Z_DEFLATED:sN}=fw,oN=16180,aN=16190,cN=16191,dN=16192,lN=16194,hN=16199,uN=16200,pN=16206,_N=16209,EN=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function mN(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const fN=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<oN||t.mode>16211?1:0},gN=e=>{if(fN(e))return tN;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=oN,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,ZO},SN=e=>{if(fN(e))return tN;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,gN(e)},TN=(e,t)=>{let i;if(fN(e))return tN;const n=e.state;return t<0?(i=0,t=-t):(i=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?tN:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,SN(e))},RN=(e,t)=>{if(!e)return tN;const i=new mN;e.state=i,i.strm=e,i.window=null,i.mode=oN;const n=TN(e,t);return n!==ZO&&(e.state=null),n};let CN,vN,IN=!0;const yN=e=>{if(IN){CN=new Int32Array(512),vN=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(JO(1,e.lens,0,288,CN,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;JO(2,e.lens,0,32,vN,0,e.work,{bits:5}),IN=!1}e.lencode=CN,e.lenbits=9,e.distcode=vN,e.distbits=5},AN=(e,t,i,n)=>{let r;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(i-s.wsize,i),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>n&&(r=n),s.window.set(t.subarray(i-n,i-n+r),s.wnext),(n-=r)?(s.window.set(t.subarray(i-n,i),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0};var bN=(e,t)=>{let i,n,r,s,o,a,c,d,l,h,u,p,_,E,m,f,g,S,T,R,C,v,I=0;const y=new Uint8Array(4);let A,b;const w=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(fN(e)||!e.output||!e.input&&0!==e.avail_in)return tN;i=e.state,i.mode===cN&&(i.mode=dN),o=e.next_out,r=e.output,c=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,d=i.hold,l=i.bits,h=a,u=c,v=ZO;e:for(;;)switch(i.mode){case oN:if(0===i.wrap){i.mode=dN;break}for(;l<16;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(2&i.wrap&&35615===d){0===i.wbits&&(i.wbits=15),i.check=0,y[0]=255&d,y[1]=d>>>8&255,i.check=Ew(i.check,y,2,0),d=0,l=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg=\"incorrect header check\",i.mode=_N;break}if((15&d)!==sN){e.msg=\"unknown compression method\",i.mode=_N;break}if(d>>>=4,l-=4,C=8+(15&d),0===i.wbits&&(i.wbits=C),C>15||C>i.wbits){e.msg=\"invalid window size\",i.mode=_N;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=512&d?16189:cN,d=0,l=0;break;case 16181:for(;l<16;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(i.flags=d,(255&i.flags)!==sN){e.msg=\"unknown compression method\",i.mode=_N;break}if(57344&i.flags){e.msg=\"unknown header flags set\",i.mode=_N;break}i.head&&(i.head.text=d>>8&1),512&i.flags&&4&i.wrap&&(y[0]=255&d,y[1]=d>>>8&255,i.check=Ew(i.check,y,2,0)),d=0,l=0,i.mode=16182;case 16182:for(;l<32;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}i.head&&(i.head.time=d),512&i.flags&&4&i.wrap&&(y[0]=255&d,y[1]=d>>>8&255,y[2]=d>>>16&255,y[3]=d>>>24&255,i.check=Ew(i.check,y,4,0)),d=0,l=0,i.mode=16183;case 16183:for(;l<16;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}i.head&&(i.head.xflags=255&d,i.head.os=d>>8),512&i.flags&&4&i.wrap&&(y[0]=255&d,y[1]=d>>>8&255,i.check=Ew(i.check,y,2,0)),d=0,l=0,i.mode=16184;case 16184:if(1024&i.flags){for(;l<16;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}i.length=d,i.head&&(i.head.extra_len=d),512&i.flags&&4&i.wrap&&(y[0]=255&d,y[1]=d>>>8&255,i.check=Ew(i.check,y,2,0)),d=0,l=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(p=i.length,p>a&&(p=a),p&&(i.head&&(C=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(s,s+p),C)),512&i.flags&&4&i.wrap&&(i.check=Ew(i.check,n,p,s)),a-=p,s+=p,i.length-=p),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===a)break e;p=0;do{C=n[s+p++],i.head&&C&&i.length<65536&&(i.head.name+=String.fromCharCode(C))}while(C&&p<a);if(512&i.flags&&4&i.wrap&&(i.check=Ew(i.check,n,p,s)),a-=p,s+=p,C)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===a)break e;p=0;do{C=n[s+p++],i.head&&C&&i.length<65536&&(i.head.comment+=String.fromCharCode(C))}while(C&&p<a);if(512&i.flags&&4&i.wrap&&(i.check=Ew(i.check,n,p,s)),a-=p,s+=p,C)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;l<16;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(4&i.wrap&&d!==(65535&i.check)){e.msg=\"header crc mismatch\",i.mode=_N;break}d=0,l=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=cN;break;case 16189:for(;l<32;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}e.adler=i.check=EN(d),d=0,l=0,i.mode=aN;case aN:if(0===i.havedict)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,i.hold=d,i.bits=l,eN;e.adler=i.check=1,i.mode=cN;case cN:if(t===XO||t===QO)break e;case dN:if(i.last){d>>>=7&l,l-=7&l,i.mode=pN;break}for(;l<3;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}switch(i.last=1&d,d>>>=1,l-=1,3&d){case 0:i.mode=16193;break;case 1:if(yN(i),i.mode=hN,t===QO){d>>>=2,l-=2;break e}break;case 2:i.mode=16196;break;case 3:e.msg=\"invalid block type\",i.mode=_N}d>>>=2,l-=2;break;case 16193:for(d>>>=7&l,l-=7&l;l<32;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if((65535&d)!=(d>>>16^65535)){e.msg=\"invalid stored block lengths\",i.mode=_N;break}if(i.length=65535&d,d=0,l=0,i.mode=lN,t===QO)break e;case lN:i.mode=16195;case 16195:if(p=i.length,p){if(p>a&&(p=a),p>c&&(p=c),0===p)break e;r.set(n.subarray(s,s+p),o),a-=p,s+=p,c-=p,o+=p,i.length-=p;break}i.mode=cN;break;case 16196:for(;l<14;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(i.nlen=257+(31&d),d>>>=5,l-=5,i.ndist=1+(31&d),d>>>=5,l-=5,i.ncode=4+(15&d),d>>>=4,l-=4,i.nlen>286||i.ndist>30){e.msg=\"too many length or distance symbols\",i.mode=_N;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;l<3;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}i.lens[w[i.have++]]=7&d,d>>>=3,l-=3}for(;i.have<19;)i.lens[w[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,A={bits:i.lenbits},v=JO(0,i.lens,0,19,i.lencode,0,i.work,A),i.lenbits=A.bits,v){e.msg=\"invalid code lengths set\",i.mode=_N;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;I=i.lencode[d&(1<<i.lenbits)-1],m=I>>>24,f=I>>>16&255,g=65535&I,!(m<=l);){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(g<16)d>>>=m,l-=m,i.lens[i.have++]=g;else{if(16===g){for(b=m+2;l<b;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(d>>>=m,l-=m,0===i.have){e.msg=\"invalid bit length repeat\",i.mode=_N;break}C=i.lens[i.have-1],p=3+(3&d),d>>>=2,l-=2}else if(17===g){for(b=m+3;l<b;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}d>>>=m,l-=m,C=0,p=3+(7&d),d>>>=3,l-=3}else{for(b=m+7;l<b;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}d>>>=m,l-=m,C=0,p=11+(127&d),d>>>=7,l-=7}if(i.have+p>i.nlen+i.ndist){e.msg=\"invalid bit length repeat\",i.mode=_N;break}for(;p--;)i.lens[i.have++]=C}}if(i.mode===_N)break;if(0===i.lens[256]){e.msg=\"invalid code -- missing end-of-block\",i.mode=_N;break}if(i.lenbits=9,A={bits:i.lenbits},v=JO(1,i.lens,0,i.nlen,i.lencode,0,i.work,A),i.lenbits=A.bits,v){e.msg=\"invalid literal/lengths set\",i.mode=_N;break}if(i.distbits=6,i.distcode=i.distdyn,A={bits:i.distbits},v=JO(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,A),i.distbits=A.bits,v){e.msg=\"invalid distances set\",i.mode=_N;break}if(i.mode=hN,t===QO)break e;case hN:i.mode=uN;case uN:if(a>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,i.hold=d,i.bits=l,GO(e,u),o=e.next_out,r=e.output,c=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,d=i.hold,l=i.bits,i.mode===cN&&(i.back=-1);break}for(i.back=0;I=i.lencode[d&(1<<i.lenbits)-1],m=I>>>24,f=I>>>16&255,g=65535&I,!(m<=l);){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(f&&0==(240&f)){for(S=m,T=f,R=g;I=i.lencode[R+((d&(1<<S+T)-1)>>S)],m=I>>>24,f=I>>>16&255,g=65535&I,!(S+m<=l);){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}d>>>=S,l-=S,i.back+=S}if(d>>>=m,l-=m,i.back+=m,i.length=g,0===f){i.mode=16205;break}if(32&f){i.back=-1,i.mode=cN;break}if(64&f){e.msg=\"invalid literal/length code\",i.mode=_N;break}i.extra=15&f,i.mode=16201;case 16201:if(i.extra){for(b=i.extra;l<b;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}i.length+=d&(1<<i.extra)-1,d>>>=i.extra,l-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;I=i.distcode[d&(1<<i.distbits)-1],m=I>>>24,f=I>>>16&255,g=65535&I,!(m<=l);){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(0==(240&f)){for(S=m,T=f,R=g;I=i.distcode[R+((d&(1<<S+T)-1)>>S)],m=I>>>24,f=I>>>16&255,g=65535&I,!(S+m<=l);){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}d>>>=S,l-=S,i.back+=S}if(d>>>=m,l-=m,i.back+=m,64&f){e.msg=\"invalid distance code\",i.mode=_N;break}i.offset=g,i.extra=15&f,i.mode=16203;case 16203:if(i.extra){for(b=i.extra;l<b;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}i.offset+=d&(1<<i.extra)-1,d>>>=i.extra,l-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg=\"invalid distance too far back\",i.mode=_N;break}i.mode=16204;case 16204:if(0===c)break e;if(p=u-c,i.offset>p){if(p=i.offset-p,p>i.whave&&i.sane){e.msg=\"invalid distance too far back\",i.mode=_N;break}p>i.wnext?(p-=i.wnext,_=i.wsize-p):_=i.wnext-p,p>i.length&&(p=i.length),E=i.window}else E=r,_=o-i.offset,p=i.length;p>c&&(p=c),c-=p,i.length-=p;do{r[o++]=E[_++]}while(--p);0===i.length&&(i.mode=uN);break;case 16205:if(0===c)break e;r[o++]=i.length,c--,i.mode=uN;break;case pN:if(i.wrap){for(;l<32;){if(0===a)break e;a--,d|=n[s++]<<l,l+=8}if(u-=c,e.total_out+=u,i.total+=u,4&i.wrap&&u&&(e.adler=i.check=i.flags?Ew(i.check,r,u,o-u):pw(i.check,r,u,o-u)),u=c,4&i.wrap&&(i.flags?d:EN(d))!==i.check){e.msg=\"incorrect data check\",i.mode=_N;break}d=0,l=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;l<32;){if(0===a)break e;a--,d+=n[s++]<<l,l+=8}if(4&i.wrap&&d!==(4294967295&i.total)){e.msg=\"incorrect length check\",i.mode=_N;break}d=0,l=0}i.mode=16208;case 16208:v=$O;break e;case _N:v=iN;break e;case 16210:return nN;default:return tN}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,i.hold=d,i.bits=l,(i.wsize||u!==e.avail_out&&i.mode<_N&&(i.mode<pN||t!==zO))&&AN(e,e.output,e.next_out,u-e.avail_out),h-=e.avail_in,u-=e.avail_out,e.total_in+=h,e.total_out+=u,i.total+=u,4&i.wrap&&u&&(e.adler=i.check=i.flags?Ew(i.check,r,u,e.next_out-u):pw(i.check,r,u,e.next_out-u)),e.data_type=i.bits+(i.last?64:0)+(i.mode===cN?128:0)+(i.mode===hN||i.mode===lN?256:0),(0===h&&0===u||t===zO)&&v===ZO&&(v=rN),v},wN={inflateReset:SN,inflateReset2:TN,inflateResetKeep:gN,inflateInit:e=>RN(e,15),inflateInit2:RN,inflate:bN,inflateEnd:e=>{if(fN(e))return tN;let t=e.state;return t.window&&(t.window=null),e.state=null,ZO},inflateGetHeader:(e,t)=>{if(fN(e))return tN;const i=e.state;return 0==(2&i.wrap)?tN:(i.head=t,t.done=!1,ZO)},inflateSetDictionary:(e,t)=>{const i=t.length;let n,r,s;return fN(e)?tN:(n=e.state,0!==n.wrap&&n.mode!==aN?tN:n.mode===aN&&(r=1,r=pw(r,t,i,0),r!==n.check)?iN:(s=AN(e,t,i,i),s?(n.mode=16210,nN):(n.havedict=1,ZO)))},inflateInfo:\"pako inflate (from Nodeca project)\"};var ON=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1};const NN=Object.prototype.toString,{Z_NO_FLUSH:DN,Z_FINISH:PN,Z_OK:LN,Z_STREAM_END:kN,Z_NEED_DICT:MN,Z_STREAM_ERROR:UN,Z_DATA_ERROR:xN,Z_MEM_ERROR:VN}=fw;function FN(e){this.options=vO.assign({chunkSize:65536,windowBits:15,to:\"\"},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new bO,this.strm.avail_out=0;let i=wN.inflateInit2(this.strm,t.windowBits);if(i!==LN)throw new Error(mw[i]);if(this.header=new ON,wN.inflateGetHeader(this.strm,this.header),t.dictionary&&(\"string\"==typeof t.dictionary?t.dictionary=AO.string2buf(t.dictionary):\"[object ArrayBuffer]\"===NN.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=wN.inflateSetDictionary(this.strm,t.dictionary),i!==LN)))throw new Error(mw[i])}function BN(e,t){const i=new FN(t);if(i.push(e),i.err)throw i.msg||mw[i.err];return i.result}FN.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(o=t===~~t?t:!0===t?PN:DN,\"[object ArrayBuffer]\"===NN.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),s=wN.inflate(i,o),s===MN&&r&&(s=wN.inflateSetDictionary(i,r),s===LN?s=wN.inflate(i,o):s===xN&&(s=MN));i.avail_in>0&&s===kN&&i.state.wrap>0&&0!==e[i.next_in];)wN.inflateReset(i),s=wN.inflate(i,o);switch(s){case UN:case xN:case MN:case VN:return this.onEnd(s),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||s===kN))if(\"string\"===this.options.to){let e=AO.utf8border(i.output,i.next_out),t=i.next_out-e,r=AO.buf2string(i.output,e);i.next_out=t,i.avail_out=n-t,t&&i.output.set(i.output.subarray(e,e+t),0),this.onData(r)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(s!==LN||0!==a){if(s===kN)return s=wN.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},FN.prototype.onData=function(e){this.chunks.push(e)},FN.prototype.onEnd=function(e){e===LN&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=vO.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var jN={Inflate:FN,inflate:BN,inflateRaw:function(e,t){return(t=t||{}).raw=!0,BN(e,t)},ungzip:BN,constants:fw};const{Deflate:GN,deflate:WN,deflateRaw:HN,gzip:KN}=BO,{Inflate:YN,inflate:qN,inflateRaw:JN,ungzip:zN}=jN;var XN,QN=WN,ZN=qN;!function(e){e[e.ONE_BYTE=0]=\"ONE_BYTE\",e[e.TWO_BYTE=1]=\"TWO_BYTE\"}(XN||(XN={}));class $N{constructor(){nu(this,\"_sequence\",0),nu(this,\"_startTime\",Date.now()),nu(this,\"isUseOneByte\",!0)}get startTime(){const e=Date.now()-this._startTime;return e<Math.pow(2,16)?e:(this._startTime+=Math.pow(2,16),this.startTime)}get sequence(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}serialize(e){const t={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:e};if(e.byteLength>128){const i=new Uint8Array(4);i.set([1,0,0,0]);const n={id:0,length:4,data:i.buffer},r={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[n]};t.commonPacketHeader.extension=1,t.extension=r,t.payload=this.compress(e),t.commonPacketHeader.length=8+(t.extension.length+2)+t.payload.byteLength}else t.commonPacketHeader.length=8+t.payload.byteLength;const i=new ArrayBuffer(t.commonPacketHeader.length),n=new Uint8Array(i),r=new DataView(i);let s=0;if(r.setUint16(s,t.commonPacketHeader.extension<<15|t.commonPacketHeader.reserved<<14|t.commonPacketHeader.length,!0),s+=2,r.setUint32(s,t.commonPacketHeader.sequence,!0),s+=4,r.setUint16(s,t.commonStreamHeader,!0),s+=2,t.extension){const e=this.serializeExtension(t.extension);n.set(new Uint8Array(e),s),s+=e.byteLength}if(n.set(new Uint8Array(t.payload),s),s+=t.payload.byteLength,s!==t.commonPacketHeader.length)throw Error(\"serialize error!\");return i}deserialize(e){if(e.byteLength<4)return new ArrayBuffer(0);const t=new DataView(e);let i=0;const n=t.getUint16(i,!0);i+=2;const r=(32768&n)>>15;t.getUint16(i+2,!0),t.getUint16(i,!0);let s,o;if(i+=4,t.getUint16(i,!0),i+=2,r){o=this.deserializeExtension(e.slice(i)),i+=2+o.length,s=e.slice(i);let t=!1;if(o.datas.length>0){const e=o.datas.find((e=>0===e.id));if(e){t=1==(1&new DataView(e.data).getUint32(0,!0))}}s=t?this.decompress(s):s}else s=e.slice(8);return s}serializeExtension(e){const{profile:t,length:i,datas:n}=e,r=new ArrayBuffer(i+2),s=new Uint8Array(r),o=new DataView(r);let a=0;if(o.setUint8(a++,t),o.setUint8(a++,i),n.forEach((e=>{t?(o.setUint8(a++,e.id),o.setUint8(a++,e.length),s.set(new Uint8Array(e.data),a),a+=e.data.byteLength):(o.setUint8(a++,e.id|e.length<<4),s.set(new Uint8Array(e.data),a),a+=e.data.byteLength)})),a!==i+2)throw Error(\"serialize extension error, is \".concat(a,\"!==\").concat(i+2));return r}deserializeExtension(e){const t=new DataView(e);let i=0;const n=t.getUint8(i);i++;const r=t.getUint8(i);i++;const s=n===XN.TWO_BYTE,o=[],a=new DataView(e,2);let c=0;for(;c<r;){let e=0,t=0,i=new ArrayBuffer(0);s?(e=a.getUint8(c),c++,t=a.getUint8(c),c++):(e=15&a.getUint8(c),t=a.getUint8(c)>>4,c++),t>0&&(i=a.buffer.slice(c+2,c+2+t),c+=i.byteLength),o.push({id:e,length:t,data:i})}if(c!==r)throw Error(\"parse error\");return{profile:n,length:r,datas:o}}decompress(e){return ZN(new Uint8Array(e))}compress(e){return QN(new Uint8Array(e))}}class eD extends iS{constructor(e,t){super(),nu(this,\"_version\",1),nu(this,\"_type\",3),nu(this,\"_config\",void 0),nu(this,\"_originDataChannel\",void 0),nu(this,\"_dataStreamPacketHeader\",new ArrayBuffer(4)),nu(this,\"_dataStreamPacketHandler\",void 0),nu(this,\"_datachannelEventMap\",new Map),this._config=e,t&&(this._originDataChannel=t,this._bandDataChannelEvents(t)),this._initPacketHeader(),this._dataStreamPacketHandler=new $N}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return kC(\"DATASTREAM_MAX_RETRANSMITS\")}get metadata(){return this._config.metadata}get readyState(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.readyState)&&void 0!==e?e:\"connecting\"}get _originDataChannelId(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.id)&&void 0!==e?e:null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0)}async _waitTillOpen(){return new tg(((e,t)=>{if(this._originDataChannel){\"open\"===this._originDataChannel.readyState&&e();const i=setTimeout((()=>{var e;t(new Vg(xg.DATACHANNEL_CONNECTION_TIMEOUT,\"Cannot create datachannel, id: \".concat(null===(e=this._originDataChannel)||void 0===e?void 0:e.id)))}),1e4);this._originDataChannel.onopen=()=>{clearTimeout(i),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),e()},this._originDataChannel.onerror=()=>{throw clearTimeout(i),new Vg(xg.DATACHANNEL_CONNECTION_TIMEOUT)}}else t(new Vg(xg.DATACHANNEL_CONNECTION_TIMEOUT,\"cannot find dataChannel\"))}))}_updateOriginDataChannel(e){this._originDataChannel=e,this._bandDataChannelEvents(e)}_initPacketHeader(){const e=new DataView(this._dataStreamPacketHeader);e.setUint16(0,this._version),e.setUint8(2,this._type),e.setUint8(3,this._config.id)}_bandDataChannelEvents(e){this._unbindDataChannelEvents(e),[Qy.OPEN,Qy.CLOSE,Qy.ERROR].forEach((t=>{const i=()=>{this.emit(t)};this._datachannelEventMap.set(t,i),e.addEventListener(t,i)}))}_unbindDataChannelEvents(e){Array.from(this._datachannelEventMap.entries()).forEach((t=>{let[i,n]=t;e.removeEventListener(i,n)})),this._datachannelEventMap.clear()}}class tD extends eD{constructor(e){super(e),nu(this,\"_messageListener\",void 0),this._messageListener=e=>{if(e.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error(\"invalid byteLength: the byte length must exceed \"+this._dataStreamPacketHeader.byteLength);const t=e.data.slice(0,this._dataStreamPacketHeader.byteLength);if(new DataView(t).getUint8(3)!==this.id)return;let i=e.data.slice(this._dataStreamPacketHeader.byteLength);i=this._dataStreamPacketHandler.deserialize(i),this.emit(Qy.MESSAGE,i)}}_updateOriginDataChannel(e){super._updateOriginDataChannel(e),this._bandRemoteDataChannelEvents()}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener(\"message\",this._messageListener),super._close())}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener(\"message\",this._messageListener)}}class iD extends eD{send(e){if(this._originDataChannel){let t=e;t=this._dataStreamPacketHandler.serialize(e);const i=new Uint8Array(this._dataStreamPacketHeader.byteLength+t.byteLength);i.set(new Uint8Array(this._dataStreamPacketHeader),0),i.set(new Uint8Array(t),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(i.buffer)}}}class nD extends iS{constructor(){super(...arguments),nu(this,\"resultStorage\",new Map)}setLocalAudioStats(e,t,i){this.record(\"AUDIO_INPUT_LEVEL_TOO_LOW\",e,this.checkAudioInputLevel(i,t)),this.record(\"SEND_AUDIO_BITRATE_TOO_LOW\",e,this.checkSendAudioBitrate(i,t))}setLocalVideoStats(e,t,i){this.record(\"SEND_VIDEO_BITRATE_TOO_LOW\",e,this.checkSendVideoBitrate(i,t)),this.record(\"FRAMERATE_INPUT_TOO_LOW\",e,this.checkFramerateInput(i,t)),this.record(\"FRAMERATE_SENT_TOO_LOW\",e,this.checkFramerateSent(i))}setRemoteAudioStats(e,t){const i=e.getUserId();this.record(\"AUDIO_OUTPUT_LEVEL_TOO_LOW\",i,this.checkAudioOutputLevel(t))}setRemoteVideoStats(e,t){const i=e.getUserId();this.record(\"RECV_VIDEO_DECODE_FAILED\",i,this.checkVideoDecode(t))}record(e,t,i){if(kC(\"STATS_UPDATE_INTERVAL\")>500)return;this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});const n=this.resultStorage.get(e);if(n&&(n.result.push(i),n.result.length>=5)){var r;const i=Pr(r=n.result).call(r,!0);n.isPrevNormal&&!i&&this.emit(\"exception\",rD[e],e,t),!n.isPrevNormal&&i&&this.emit(\"exception\",rD[e]+2e3,e+\"_RECOVER\",t),n.isPrevNormal=i,n.result=[]}}checkAudioOutputLevel(e){return!(e.receiveBitrate>0&&0===e.receiveLevel)}checkAudioInputLevel(e,t){return t instanceof ZA&&!t.isActive||(!!t.muted||0!==e.sendVolumeLevel)}checkFramerateInput(e,t){let i=null;t._encoderConfig&&t._encoderConfig.frameRate&&(i=pD(t._encoderConfig.frameRate));const n=e.captureFrameRate;return!i||!n||!(i>10&&n<5||i<10&&i>=5&&n<=1)}checkFramerateSent(e){return!(e.captureFrameRate&&e.sendFrameRate&&e.captureFrameRate>5&&e.sendFrameRate<=1)}checkSendVideoBitrate(e,t){return!!t.muted||0!==e.sendBitrate}checkSendAudioBitrate(e,t){return t instanceof ZA&&!t.isActive||(!!t.muted||0!==e.sendBitrate)}checkVideoDecode(e){return 0===e.receiveBitrate||0!==e.decodeFrameRate}}const rD={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003};const sD=new class{markSubscribeStart(e,t){performance.mark(\"agora-web-sdk/\".concat(e,\"/subscribe-\").concat(t))}markPublishStart(e,t){performance.mark(\"agora-web-sdk/\".concat(e,\"/publish-\").concat(t))}measureFromSubscribeStart(e,t){const i=performance.getEntriesByName(\"agora-web-sdk/\".concat(e,\"/subscribe-\").concat(t));if(i.length>0){const e=i[i.length-1];return Math.round(performance.now()-e.startTime)}return 0}measureFromPublishStart(e,t){const i=performance.getEntriesByName(\"agora-web-sdk/\".concat(e,\"/publish-\").concat(t));if(i.length>0){const e=i[i.length-1];return Math.round(performance.now()-e.startTime)}return 0}};function oD(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function aD(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?oD(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):oD(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class cD{constructor(e){nu(this,\"store\",void 0),nu(this,\"onStatsException\",void 0),nu(this,\"onUploadPublishDuration\",void 0),nu(this,\"onStatsChanged\",void 0),nu(this,\"localStats\",new Map),nu(this,\"remoteStats\",new Map),nu(this,\"updateStatsInterval\",void 0),nu(this,\"trafficStats\",void 0),nu(this,\"trafficStatsPeerList\",[]),nu(this,\"uplinkStats\",void 0),nu(this,\"exceptionMonitor\",void 0),nu(this,\"p2pChannel\",void 0),nu(this,\"scalabilityMode\",cv.L1T1),nu(this,\"updateStats\",(()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))})),this.store=e,this.updateStatsInterval=window.setInterval(this.updateStats,1e3),this.exceptionMonitor=new nD,this.exceptionMonitor.on(\"exception\",((e,t,i)=>{this.onStatsException&&this.onStatsException(e,t,i)}))}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(uI.LocalAudioTrack)||aD({},By)}getLocalVideoTrackStats(){return this.localStats.get(uI.LocalVideoTrack)||aD({},jy)}getRemoteAudioTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const i=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return i&&(t.publishDuration=i.B_ppad+(Date.now()-this.trafficStats.timestamp)),t},i={};if(e){var n;const r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.audioStats;r&&(i[e]=t(e,r))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[n,{audioStats:r}]=e;r&&(i[n]=t(n,r))}));return i}getRemoteNetworkQualityStats(e){const t={};if(e){var i;const n=null===(i=this.remoteStats.get(e))||void 0===i?void 0:i.networkStats;n&&(t[e]=n)}else Array.from(this.remoteStats.entries()).forEach((e=>{let[i,{networkStats:n}]=e;n&&(t[i]=n)}));return t}getRemoteVideoTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const i=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return i&&(t.publishDuration=i.B_ppvd+(Date.now()-this.trafficStats.timestamp)),t},i={};if(e){var n;const r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.videoStats;r&&(i[e]=t(e,r))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[n,{videoStats:r}]=e;r&&(i[n]=t(n,r))}));return i}getRTCStats(){let e=0,t=0,i=0,n=0;const r=this.localStats.get(uI.LocalAudioTrack);r&&(e+=r.sendBytes,t+=r.sendBitrate);const s=this.localStats.get(uI.LocalVideoTrack);s&&(e+=s.sendBytes,t+=s.sendBitrate);const o=this.localStats.get(uI.LocalVideoLowTrack);o&&(e+=o.sendBytes,t+=o.sendBitrate),this.remoteStats.forEach((e=>{let{audioStats:t,videoStats:r}=e;t&&(i+=t.receiveBytes,n+=t.receiveBitrate),r&&(i+=r.receiveBytes,n+=r.receiveBitrate)}));let a=1;return this.trafficStats&&(a+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:a,SendBitrate:t,SendBytes:e,RecvBytes:i,RecvBitrate:n,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(e){this.localStats.set(e,void 0)}removeLocalStats(e){e?this.localStats.delete(e):this.localStats.clear()}addRemoteStats(e){this.remoteStats.set(e,{})}removeRemoteStats(e){e?this.remoteStats.delete(e):this.remoteStats.clear()}addP2PChannel(e){this.p2pChannel=e}updateTrafficStats(e){e.peer_delay=e.peer_delay.filter((e=>void 0!==e.B_ppad||void 0!==e.B_ppvd));e.peer_delay.filter((e=>-1===this.trafficStatsPeerList.indexOf(e.peer_uid))).forEach((e=>{var t;const i=null===(t=this.p2pChannel)||void 0===t?void 0:t.getRemoteMedia(e.peer_uid),n=null!=i&&i.videoSSRC?sD.measureFromSubscribeStart(this.store.clientId,i.videoSSRC):0,r=null!=i&&i.audioSSRC?sD.measureFromSubscribeStart(this.store.clientId,i.audioSSRC):0;void 0!==e.B_ppad&&void 0!==e.B_ppvd&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(e.peer_uid,e.B_ppad,e.B_ppvd,n>r?n:r),this.trafficStatsPeerList.push(e.peer_uid))})),this.trafficStats=e}updateUplinkStats(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&WC.debug(\"[\".concat(this.store.clientId,\"]: Period fir changes to \").concat(e.B_fir)),this.uplinkStats=e}static isRemoteVideoFreeze(e,t,i){if(!e)return!1;const n=!!i&&t.framesDecodeFreezeTime>i.framesDecodeFreezeTime,r=!i||t.framesDecodeCount>i.framesDecodeCount;return n||!r}static isRemoteAudioFreeze(e){return!!e&&e._isFreeze()}isLocalVideoFreeze(e){return!(!e.inputFrame||!e.sentFrame)&&(e.inputFrame.frameRate>5&&e.sentFrame.frameRate<3)}updateLocalStats(e){Array.from(this.localStats.entries()).forEach((t=>{let[i,n]=t;switch(i){case uI.LocalVideoTrack:case uI.LocalVideoLowTrack:{const t=n,s=aD({},jy),o=e.getStats(),a=e.getLocalMedia(i);if(o){const i=o.videoSend.find((e=>e.ssrc===(null==a?void 0:a.ssrcs[0].ssrcId)));if(i){const n=e.getLocalVideoSize(),r=e.getEncoderConfig(uI.LocalVideoTrack);\"H264\"!==i.codec&&\"H265\"!==i.codec&&\"VP8\"!==i.codec&&\"VP9\"!==i.codec&&\"AV1X\"!==i.codec&&\"AV1\"!==i.codec||(s.codecType=i.codec),s.sendBytes=i.bytes,s.sendBitrate=t?8*Math.max(0,s.sendBytes-t.sendBytes):0,i.inputFrame?(s.captureFrameRate=i.inputFrame.frameRate,s.captureResolutionHeight=i.inputFrame.height,s.captureResolutionWidth=i.inputFrame.width):n&&(s.captureResolutionWidth=n.width,s.captureResolutionHeight=n.height),i.sentFrame?(s.sendFrameRate=i.sentFrame.frameRate,s.sendResolutionHeight=i.sentFrame.height,s.sendResolutionWidth=i.sentFrame.width):n&&(s.sendResolutionWidth=n.width,s.sendResolutionHeight=n.height),i.avgEncodeMs&&(s.encodeDelay=i.avgEncodeMs),r&&r.bitrateMax&&(s.targetSendBitrate=1e3*r.bitrateMax),s.sendPackets=i.packets,s.sendPacketsLost=i.packetsLost,s.sendJitterMs=i.jitterMs,s.sendRttMs=i.rttMs,s.totalDuration=t?t.totalDuration+1:1,s.totalFreezeTime=t?t.totalFreezeTime:0,this.isLocalVideoFreeze(i)&&(s.totalFreezeTime+=1),i.scalabilityMode&&this.scalabilityMode!==i.scalabilityMode&&(WC.debug(\"[\".concat(this.store.clientId,\"]: The scalabilityMode of the video sending stream is \").concat(i.scalabilityMode)),this.scalabilityMode=i.scalabilityMode)}this.trafficStats&&(s.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100)}var r;if(this.localStats.set(i,s),(null==t?void 0:t.sendResolutionWidth)!==s.sendResolutionWidth||(null==t?void 0:t.sendResolutionHeight)!==s.sendResolutionHeight)null===(r=this.onStatsChanged)||void 0===r||r.call(this,\"resolution\",{width:s.sendResolutionWidth,height:s.sendResolutionHeight});s&&a&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,a.track,s);break}case uI.LocalAudioTrack:{const t=n,r=aD({},By),s=e.getStats(),o=e.getLocalMedia(i);if(s){const i=s.audioSend.find((e=>e.ssrc===(null==o?void 0:o.ssrcs[0].ssrcId)));if(i){if(\"opus\"!==i.codec&&\"aac\"!==i.codec&&\"PCMU\"!==i.codec&&\"PCMA\"!==i.codec&&\"G722\"!==i.codec||(r.codecType=i.codec),i.inputLevel)r.sendVolumeLevel=Math.round(32767*i.inputLevel);else{const t=e.getLocalAudioVolume();t&&(r.sendVolumeLevel=Math.round(32767*t))}r.sendBytes=i.bytes,r.sendPackets=i.packets,r.sendPacketsLost=i.packetsLost,r.sendJitterMs=i.jitterMs,r.sendRttMs=i.rttMs,r.sendBitrate=t?8*Math.max(0,r.sendBytes-t.sendBytes):0}}this.trafficStats&&(r.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(uI.LocalAudioTrack,r),r&&o&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,o.track,r);break}}}))}updateRemoteStats(e){Array.from(this.remoteStats.entries()).forEach((t=>{let[i,{videoStats:n,audioStats:r,videoPcStats:s}]=t;const o=r,a=n,c=s,d=aD({},Gy),l=aD({},Hy),h=aD({},Wy),{audioTrack:u,videoTrack:p,audioSSRC:_,videoSSRC:E}=e.getRemoteMedia(i),m=e.getStats(),f=null==m?void 0:m.audioRecv.find((e=>e.ssrc===_)),g=null==m?void 0:m.videoRecv.find((e=>e.ssrc===E)),S=this.trafficStats&&this.trafficStats.peer_delay.find((e=>e.peer_uid===i));if(f&&(\"opus\"!==f.codec&&\"aac\"!==f.codec&&\"PCMU\"!==f.codec&&\"PCMA\"!==f.codec&&\"G722\"!==f.codec||(d.codecType=f.codec),f.outputLevel?d.receiveLevel=Math.round(32767*f.outputLevel):u&&(d.receiveLevel=Math.round(32767*u.getVolumeLevel())),d.receiveBytes=f.bytes,d.receivePackets=f.packets,d.receivePacketsLost=f.packetsLost,d.packetLossRate=d.receivePacketsLost/(d.receivePackets+d.receivePacketsLost),d.receiveBitrate=o?8*Math.max(0,d.receiveBytes-o.receiveBytes):0,d.totalDuration=o?o.totalDuration+1:1,d.totalFreezeTime=o?o.totalFreezeTime:0,d.freezeRate=d.totalFreezeTime/d.totalDuration,d.receiveDelay=f.jitterBufferMs,d.totalDuration>10&&cD.isRemoteAudioFreeze(u)&&(d.totalFreezeTime+=1)),g){\"H264\"!==g.codec&&\"H265\"!==g.codec&&\"VP8\"!==g.codec&&\"VP9\"!==g.codec&&\"AV1X\"!==g.codec&&\"AV1\"!==g.codec||(l.codecType=g.codec),l.receiveBytes=g.bytes,l.receiveBitrate=a?8*Math.max(0,l.receiveBytes-a.receiveBytes):0,l.decodeFrameRate=g.decodeFrameRate<0?0:g.decodeFrameRate,l.renderFrameRate=g.decodeFrameRate<0?0:g.decodeFrameRate,g.outputFrame&&(l.renderFrameRate=g.outputFrame.frameRate),g.receivedFrame?(l.receiveFrameRate=g.receivedFrame.frameRate,l.receiveResolutionHeight=g.receivedFrame.height,l.receiveResolutionWidth=g.receivedFrame.width):p&&(l.receiveResolutionHeight=p._videoHeight||0,l.receiveResolutionWidth=p._videoWidth||0),void 0!==g.framesRateFirefox&&(l.receiveFrameRate=Math.round(g.framesRateFirefox)),l.receivePackets=g.packets,l.receivePacketsLost=g.packetsLost,l.packetLossRate=l.receivePacketsLost/(l.receivePackets+l.receivePacketsLost),l.totalDuration=a?a.totalDuration+1:1,l.totalFreezeTime=a?a.totalFreezeTime:0,l.receiveDelay=g.jitterBufferMs||0;const t=!!E&&e.getRemoteVideoIsReady(E);p&&t&&cD.isRemoteVideoFreeze(p,g,c)&&(l.totalFreezeTime+=1),l.freezeRate=l.totalFreezeTime/l.totalDuration}S&&(d.end2EndDelay=S.B_ad,l.end2EndDelay=S.B_vd,d.transportDelay=S.B_ed,l.transportDelay=S.B_ed,d.currentPacketLossRate=S.B_ealr4/100,l.currentPacketLossRate=S.B_evlr4/100,h.uplinkNetworkQuality=S.B_punq?S.B_punq:0,h.downlinkNetworkQuality=S.B_pdnq?S.B_pdnq:0),this.remoteStats.set(i,{audioStats:d,videoStats:l,videoPcStats:g,networkStats:h}),u&&this.exceptionMonitor.setRemoteAudioStats(u,d),p&&this.exceptionMonitor.setRemoteVideoStats(p,l)}))}}function dD(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function lD(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?dD(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):dD(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function hD(e){return e.match(/^[\\.\\:\\d]+$/)?\"\".concat(e.replace(/[^\\d]/g,\"-\"),\".\").concat(kC(\"TURN_DOMAIN\")):(WC.info(\"Cannot recognized as IP address \".concat(e,\". Used As Host instead\")),e)}function uD(e,t){var i,n;const r=kC(\"GATEWAY_DOMAINS\");let s=r[1]&&-1!==t.indexOf(r[1])?1:0;e.addresses=e.addresses||[];const o=e.addresses.map((e=>e.domain_prefix?{address:\"\".concat(e.domain_prefix,\".\").concat(r[s++%r.length],\":\").concat(e.port)}:e.ip.match(/^[\\.\\:\\d]+$/)?{ip:e.ip,port:e.port,address:\"\".concat(e.ip.replace(/[^\\d]/g,\"-\"),\".\").concat(r[s++%r.length],\":\").concat(e.port)}:(WC.info(\"Cannot recognized as IP address \".concat(e.ip,\". Used As Host instead\")),{ip:e.ip,port:e.port,address:\"\".concat(e.ip,\":\").concat(e.port)})));if(null!==(i=e.detail)&&void 0!==i&&i[18]&&\"string\"==typeof(null===(n=e.detail)||void 0===n?void 0:n[18])){const t=e.detail[18],i=null==t?void 0:t.split(\";\");for(let e=0;e<i.length;e++){var a;const t=Ey(a=i[e]).call(a);o[e]&&t&&(o[e].ip6=t)}}return{gatewayAddrs:o,uid:e.uid,cid:e.cid,cert:e.cert,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}function pD(e){return\"number\"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function _D(e){const t=e._encoderConfig;if(!t)return{};const i={resolution:t.width&&t.height?\"\".concat(pD(t.width),\"x\").concat(pD(t.height)):void 0,maxVideoBW:t.bitrateMax,minVideoBW:t.bitrateMin};return\"number\"==typeof t.frameRate?(i.maxFrameRate=t.frameRate,i.minFrameRate=t.frameRate):t.frameRate&&(i.maxFrameRate=t.frameRate.max||t.frameRate.ideal||t.frameRate.exact||t.frameRate.min,i.minFrameRate=t.frameRate.min||t.frameRate.ideal||t.frameRate.exact||t.frameRate.max),i}function ED(e){const t={connectionType:0,googRtt:e.rtt};switch(e.selectedCandidatePair.localCandidate.candidateType){case\"relay\":{const i=e.selectedCandidatePair.localCandidate.relayProtocol;\"udp\"===i&&(t.connectionType=1),\"tcp\"===i&&(t.connectionType=3),\"tls\"===i&&(t.connectionType=4);break}case\"srflx\":t.connectionType=2}return t}function mD(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0}function fD(e,t){let i,n,r;switch(t){case dy.CHOOSE_SERVER:n=4096,r=\"choose server\";break;case dy.CLOUD_PROXY:n=1048576,r=\"proxy\";break;case dy.CLOUD_PROXY_5:n=4194304,r=\"proxy5\";break;case dy.CLOUD_PROXY_FALLBACK:n=4194310,r=\"proxy fallback\";break;default:throw new Mv(xg.UNEXPECTED_ERROR,\"multi unlibs response transformer get unknown service id\",{csIp:e.detail&&e.detail[502],retry:!1})}if(e.response_body.forEach((t=>{t.buffer&&t.buffer.flag===n&&(i={code:t.buffer.code,addresses:(t.buffer.edges_services||[]).map((e=>lD(lD({},e),{},{ticket:t.buffer.cert}))),server_ts:e.enter_ts,uid:t.buffer.uid,cid:t.buffer.cid,cname:t.buffer.cname,detail:lD(lD({},t.buffer.detail),e.detail),flag:t.buffer.flag,opid:e.opid,cert:t.buffer.cert})})),!i)throw new Mv(xg.MULTI_UNILBS_RESPONSE_ERROR,\"cannot parse response \".concat(r,\" from multi unilbs response\"),{csIp:e.detail&&e.detail[502]});return i}async function gD(e,t){return await tg.all(e.addresses.map((async e=>({address:hD(e.ip),tcpport:e.port,udpport:e.port,username:t&&kC(\"ENCRYPT_PROXY_USERNAME_AND_PSW\")&&window.isSecureContext?t.toString():rv.username,password:t&&kC(\"ENCRYPT_PROXY_USERNAME_AND_PSW\")&&window.isSecureContext?await tS(t.toString()):rv.password}))))}function SD(e,t){const i=t._videoHeight||t.getMediaStreamTrack(!0).getSettings().height;return i?Math.max(i/pD(e.height),1):(WC.warning(\"can't get ori-track's height, default scale down 4 times for low stream\"),4)}function TD(e){let{candidateType:t,relayProtocol:i,type:n,address:r,port:s,protocol:o}=e;return\"local-candidate\"===n?{candidateType:t,relayProtocol:i,protocol:o}:{candidateType:t,relayProtocol:i,address:r,port:s,protocol:o}}function RD(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}class CD extends iS{get url(){return this._url?this._url:null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){var t;Pr(t=[\"tryNext\",\"recover\"]).call(t,e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,\"reconnecting\"===this._state?this.emit(TI.RECONNECTING,this.reconnectReason):\"connected\"===this._state?this.emit(TI.CONNECTED):\"closed\"===this._state?this.emit(TI.CLOSED):\"failed\"===this._state&&this.emit(TI.FAILED))}constructor(e,t,i,n){super(),nu(this,\"connectionID\",0),nu(this,\"currentURLIndex\",0),nu(this,\"reconnectReason\",void 0),nu(this,\"_reconnectMode\",\"tryNext\"),nu(this,\"_name\",void 0),nu(this,\"_state\",\"closed\"),nu(this,\"_retryConfig\",void 0),nu(this,\"_reconnectCount\",0),nu(this,\"_forceCloseTimeout\",5e3),nu(this,\"_onlineReconnectListener\",void 0),nu(this,\"_closeEstablishingTransmitter\",(()=>{})),nu(this,\"_store\",void 0),nu(this,\"_joinChannelServiceRecordIndex\",void 0),nu(this,\"_useCompress\",void 0),nu(this,\"_inflateLength\",0),nu(this,\"_deflateLength\",0),this._store=n,this._name=e,this._retryConfig=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?RD(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):RD(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t),this._useCompress=i}resetReconnectCount(e){WC.debug(\"\".concat(this._name,\" reset reconnect count, reason: \").concat(e)),this._reconnectCount=0}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount(\"close\"),this._reconnectInterrupter&&this._reconnectInterrupter(),this._transmitter){this._transmitter.onclose=null,this._transmitter.onopen=null,this._transmitter.onmessage=null;const e=this._transmitter;t?setTimeout((()=>e.close()),500):e.close(),this._transmitter=void 0}this.state=e?\"failed\":\"closed\",this._closeEstablishingTransmitter&&this._closeEstablishingTransmitter()}reconnect(e,t){if(!this._transmitter)return void WC.warning(\"[\".concat(this._name,\"] can not reconnect, no websocket\"));var i;(void 0!==e&&(this.reconnectMode=e),WC.debug(\"[\".concat(this._name,\"] reconnect is triggered initiative\")),\"number\"==typeof this._joinChannelServiceRecordIndex)&&(null===(i=this._store)||void 0===i||i.recordJoinChannelService({status:\"error\",errors:[new Error(t)]},this._joinChannelServiceRecordIndex));const n=this._transmitter.onclose;this._transmitter.onclose=null,this._transmitter.close(),n&&n.bind(this._transmitter)({code:9999,reason:t})}getInflateData(){const e=this._inflateLength,t=this._deflateLength;return this.clearInflateData(),{inflateLength:e,deflateLength:t}}setInflateData(e){this._deflateLength=this._deflateLength+e.originLength,this._inflateLength=this._inflateLength+e.compressedLength}clearInflateData(){this._inflateLength=0,this._deflateLength=0}}var vD;!function(e){e[e.Default=0]=\"Default\",e[e.Ack=1]=\"Ack\"}(vD||(vD={}));class ID{constructor(e,t,i){nu(this,\"version\",1),nu(this,\"initialRTO\",void 0),nu(this,\"maxBatchAckCount\",void 0),nu(this,\"maxRTO\",void 0),nu(this,\"initialRTT\",void 0),nu(this,\"ID\",void 0),nu(this,\"rtt\",void 0),nu(this,\"packetNumber\",1),nu(this,\"rtoRatioMap\",new Map),nu(this,\"timeoutMap\",new Map),nu(this,\"unorderedPacketQueue\",[]),nu(this,\"batchAckPacketQueue\",[]),nu(this,\"lastOrderedPacketNumber\",0),nu(this,\"batchAckTimer\",void 0),nu(this,\"sendImpl\",void 0),nu(this,\"receiveImpl\",void 0),this.sendImpl=e,this.receiveImpl=t,this.ID=xS(7,\"transmitter-\"),this.initialRTO=void 0!==(null==i?void 0:i.initialRTO)?i.initialRTO:kC(\"TRANSMITTER_INITIAL_RTO\"),this.initialRTT=void 0!==(null==i?void 0:i.initialRTT)?i.initialRTT:kC(\"TRANSMITTER_INITIAL_RTT\"),this.rtt=void 0!==(null==i?void 0:i.initialRTT)?i.initialRTT:kC(\"TRANSMITTER_INITIAL_RTT\"),this.maxBatchAckCount=void 0!==(null==i?void 0:i.maxBatchAckCount)?i.maxBatchAckCount:kC(\"TRANSMITTER_MAX_BATCH_ACK_COUNT\"),this.maxRTO=void 0!==(null==i?void 0:i.maxRTO)?i.maxRTO:kC(\"TRANSMITTER_MAX_RTO\")}packetize(e,t){return{type:vD.Default,version:this.version,packetNumber:t,payload:e}}serialize(e){switch(e.type){case vD.Default:{let t;if(\"string\"==typeof e.payload){t=(new TextEncoder).encode(e.payload)}else t=e.payload;const i=new ArrayBuffer(t.length+15),n=new DataView(i);n.setUint16(0,e.version),n.setUint8(2,e.type),n.setUint32(3,e.packetNumber),Jg(n,7,BigInt(e.sendTs));return new Uint8Array(n.buffer).set(t,15),i}case vD.Ack:{const t=new ArrayBuffer(16),i=new DataView(t);return i.setUint16(0,e.version),i.setUint8(2,e.type),i.setUint32(3,e.maxAckPacketNumber),i.setUint8(7,e.shift),Jg(i,8,BigInt(e.ackSendTs)),t}}}deserialize(e){const t=new DataView(e),i=t.getUint16(0),n=t.getUint8(2);switch(n){case vD.Default:{const r=t.getUint32(3),s=qg(t,7),o=e.slice(15),a=(new TextDecoder).decode(o);return{version:i,type:n,packetNumber:r,sendTs:Number(s),payload:a}}case vD.Ack:{const e=t.getUint32(3),r=t.getUint8(7),s=qg(t,8);return{version:i,type:n,maxAckPacketNumber:e,shift:r,ackSendTs:Number(s)}}default:throw WC.error(\"[\".concat(this.ID,\"] Unrecognized packet type \").concat(n)),new Error(\"Unrecognized packet type \".concat(n))}}sendMessage(e){const t=this.packetize(e,this.packetNumber);this.packetNumber=4294967295===this.packetNumber?1:this.packetNumber+1;const i=this.calculateRTO(t),n=window.setTimeout((()=>{this.resendMessage(t)}),i);this.timeoutMap.set(t.packetNumber,n),this.sendPacket(t)}onData(e){const t=this.deserialize(e);t.type===vD.Default?this.ack(t):t.type===vD.Ack&&(this.updateRTT(t,Math.round(performance.now())),this.clearRTO(t))}close(){this.rtt=this.initialRTT,this.packetNumber=1,Array.from(this.timeoutMap.entries()).forEach((e=>{let[t,i]=e;window.clearTimeout(i)})),this.timeoutMap=new Map,this.rtoRatioMap=new Map,this.unorderedPacketQueue=[],this.batchAckPacketQueue=[],this.lastOrderedPacketNumber=0,void 0!==this.batchAckTimer&&window.clearTimeout(this.batchAckTimer)}resendMessage(e){const t=this.calculateRTO(e),i=window.setTimeout((()=>{this.resendMessage(e)}),t);this.timeoutMap.set(e.packetNumber,i),this.sendPacket(e)}calculateRTO(e){const t=this.rtoRatioMap.get(e.packetNumber);if(void 0===t)return this.rtoRatioMap.set(e.packetNumber,1),this.initialRTO;{const i=9*this.rtt/8*t;return this.rtoRatioMap.set(e.packetNumber,t+1),i>this.maxRTO?this.maxRTO:i}}updateRTT(e,t){const i=e.ackSendTs;this.rtt=this.rtt*(7/8)+(t-i-this.rtt)/8}ack(e){if(e.packetNumber===this.lastOrderedPacketNumber+1)for(this.batchAckPacketQueue.length>=this.maxBatchAckCount&&this.batchAck(),this.batchAckTimer?this.batchAckPacketQueue.push(e):(this.batchAckPacketQueue.push(e),this.batchAckTimer=window.setTimeout((()=>{this.batchAck()}),this.rtt/8)),this.lastOrderedPacketNumber+=1,this.receiveImpl(e.payload);;){const e=this.unorderedPacketQueue[0];if(!e){this.unorderedPacketQueue.shift();break}this.batchAckTimer&&this.batchAck(),this.receiveImpl(e.payload),this.unorderedPacketQueue.shift(),this.lastOrderedPacketNumber+=1}else if(e.packetNumber<=this.lastOrderedPacketNumber){const t={ackSendTs:e.sendTs,maxAckPacketNumber:e.packetNumber,shift:0,type:vD.Ack,version:this.version};this.sendPacket(t)}else if(e.packetNumber>this.lastOrderedPacketNumber){this.unorderedPacketQueue[e.packetNumber-this.lastOrderedPacketNumber-2]=e;const t={ackSendTs:e.sendTs,maxAckPacketNumber:e.packetNumber,shift:0,type:vD.Ack,version:this.version};this.sendPacket(t)}}batchAck(){window.clearTimeout(this.batchAckTimer),this.batchAckTimer=void 0;const e={ackSendTs:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].sendTs,maxAckPacketNumber:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].packetNumber,shift:this.batchAckPacketQueue.length-1,type:vD.Ack,version:this.version};this.sendPacket(e),this.batchAckPacketQueue=[]}sendPacket(e){e.type===vD.Default&&(e.sendTs=Math.round(performance.now()));const t=this.serialize(e);this.sendImpl(t)}clearRTO(e){for(let t=e.maxAckPacketNumber-e.shift;t<=e.maxAckPacketNumber;t++){const e=this.timeoutMap.get(t);void 0!==e&&window.clearTimeout(e),this.timeoutMap.delete(t),this.rtoRatioMap.delete(t)}}}class yD extends CD{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3?arguments[3]:void 0),nu(this,\"_initMutex\",void 0),nu(this,\"_reconnectInterrupter\",void 0),nu(this,\"_url\",void 0),nu(this,\"_transmitter\",void 0),nu(this,\"_addresses\",void 0),nu(this,\"_reliableTransmission\",void 0),this._initMutex=new YS(\"datachannel\");const{timeout:i,timeoutFactor:n}=t,r=Math.max(300,Math.floor(3*i/5)),s=Math.max(1.2,Math.floor(8*n)/10);hS.ONLINE&&(this._retryConfig.timeout=r,this._retryConfig.timeoutFactor=s),RS.on(uS.NETWORK_STATE_CHANGE,((e,t)=>{e!==t&&(this.resetReconnectCount(\"network state change: \".concat(t,\" -> \").concat(e)),e===hS.ONLINE?(this._retryConfig.timeout=r,this._retryConfig.timeoutFactor=s):(this._retryConfig.timeout=i,this._retryConfig.timeoutFactor=n))}))}getConnection(){if(this._reliableTransmission)return this._reliableTransmission}async init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this._forceCloseTimeout=t;const i=(t,i)=>{this._addresses=e,this.currentURLIndex=this._addresses.findIndex((e=>e.fingerprint||kC(\"FINGERPRINT\")));const n=this._addresses[this.currentURLIndex];this.state=\"connecting\",this.createTransmitterConnection(n).then(t).catch(i),this.once(TI.CLOSED,(()=>i(new Mv(xg.WS_DISCONNECT)))),this.once(TI.CONNECTED,(()=>t()))};return this._initMutex.lock().then((e=>new tg(((e,t)=>{i(e,t)})).then((()=>{e()})).catch((()=>{e()}))))}sendMessage(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._transmitter||!this._reliableTransmission)throw new Mv(xg.WS_ABORT,\"datachannel is not ready\");try{t||(e=JSON.stringify(e)),this._reliableTransmission.sendMessage(e)}catch(e){throw new Mv(xg.WS_ERR,\"send datachannel signal message error\"+e.toString())}}unbindDcCloseEventListener(){this._transmitter&&(this._transmitter.onclose=null)}sendMessageWithJSON(e){const t=JSON.stringify(e);return{compressed:t,compressedLength:t.length,origin:e}}sendMessageWithUint8Array(e){return{compressed:e,compressedLength:e.byteLength,origin:e}}createTransmitterConnection(e){return this.connectionID+=1,this._joinChannelServiceRecordIndex=void 0,this._url=\"dc://\".concat(e.ip,\":\").concat(e.port),new tg(((t,i)=>{var n;const r=()=>{WC.debug(\"[\".concat(this._name,\"] datachannel opened:\"),this._url),this.reconnectMode=\"retry\",this.state=\"connected\",this.resetReconnectCount(\"opened\"),t()},s=async e=>{var n;if(null===(n=this._closeEstablishingTransmitter)||void 0===n||n.call(this),WC.debug(\"[\".concat(this._name,\"] datachannel close \").concat(this._url,\", code: \").concat(e.code,\", reason: \").concat(e.reason,\", current mode: \").concat(this.reconnectMode)),this._reconnectCount<this._retryConfig.maxRetryCount){\"connected\"===this.state&&(this.reconnectReason=e.reason,this.state=\"reconnecting\");const n=SS(this,TI.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,r=await this.reconnectWithAction(n);if(\"closed\"===this.state)return void WC.debug(\"[\".concat(this.connectionID,\"] dc is closed, no need to reconnect\"));if(!r)return i(new Mv(xg.WS_DISCONNECT,\"datachannel reconnect failed: \".concat(e.code))),void this.close(!0);t()}else i(new Mv(xg.WS_DISCONNECT,\"datachannel close: \".concat(e.code))),this.close()},o=e=>{var t;null===(t=this._reliableTransmission)||void 0===t||t.onData(e.data)};this._transmitter&&(this._transmitter.onclose=null,this._transmitter.close()),this._reliableTransmission&&(this._reliableTransmission.close(),this._reliableTransmission=void 0),WC.debug(\"[\".concat(this._name,\"] start connect, address: \").concat(JSON.stringify(e)));const a=null===(n=this._store)||void 0===n?void 0:n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"gateway\"}),c=Date.now();fS(this,TI.TO_CONNECT_DATACHANNEL,e).then((e=>{var t,i;if(!e)throw new Error(\"transmissonInfo not exist yet\");const{transmitter:n,close:d}=e;this._transmitter=n,null===(t=this._store)||void 0===t||t.signalChannelOpen();const l=Date.now()-c;WC.debug(\"[choose dc] dc open cost \".concat(l,\"ms\"));this._reliableTransmission=new ID((e=>{var t;this._transmitter&&\"open\"===this._transmitter.readyState&&(null===(t=this._transmitter)||void 0===t||t.send(e))}),(e=>{\"string\"==typeof e&&this.emit(TI.ON_MESSAGE,e)})),this._closeEstablishingTransmitter=()=>{var e;null===(e=this._reliableTransmission)||void 0===e||e.close(),this._reliableTransmission=void 0,d()},r&&r(),n.onclose=s,n.onmessage=o,null===(i=this._store)||void 0===i||i.recordJoinChannelService({endTs:Date.now(),status:\"success\"},a),this._joinChannelServiceRecordIndex=a})).catch((e=>{var t;if(null===(t=this._store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:e instanceof Mv&&e.code===xg.WS_ABORT?\"aborted\":\"error\",errors:[e]},a),\"closed\"!==this.state){if(e instanceof Mv&&e.code===xg.WS_ERR){const t=new Mv(xg.WS_ERR,\"init datachannel failed! Error: \".concat(e.toString()));return WC.error(\"[\".concat(this._name,\"]\").concat(t)),void i(t)}s&&s(e)}else i(new Mv(xg.WS_DISCONNECT,\"datachannel is closed: \".concat(e.toString())))}))}))}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._reconnectCount>=this._retryConfig.maxRetryCount)return!1;if(!this._addresses)return!1;if(\"closed\"===this.state)return!1;this._onlineReconnectListener||RS.networkState!==hS.OFFLINE||(this._onlineReconnectListener=RS.onlineWaiter&&RS.onlineWaiter.then((()=>{this._onlineReconnectListener=void 0})));let i=!0;if(this._reconnectInterrupter=()=>{i=!1},t){const t=zS(this._reconnectCount,this._retryConfig);WC.debug(\"[\".concat(this._name,\"] wait \").concat(t,\"ms to reconnect datachannel, mode: \").concat(e)),await tg.race([US(t),this._onlineReconnectListener||new tg((()=>{}))])}if(\"closed\"===this.state||!i)return!1;this._reconnectCount+=1;const n=async(e,t)=>{this.emit(TI.RECONNECT_CREATE_CONNECTION,t),await this.createTransmitterConnection(e)};try{if(\"retry\"===e){const t=this._addresses[this.currentURLIndex];this.emit(TI.RECONNECT_WAITTING_FINISH,e),await n(t,e)}else if(\"tryNext\"===e){this.currentURLIndex+=1;for(let e=this.currentURLIndex;e<this._addresses.length;e++){if(this._addresses[e].fingerprint||kC(\"FINGERPRINT\")){this.currentURLIndex=e;break}this.currentURLIndex+=1}if(this.currentURLIndex>=this._addresses.length)return WC.debug(\"[\".concat(this._name,\"] the available addresses are exhausted, change to recover\")),await this.reconnectWithAction(\"recover\",!1);WC.debug(\"[\".concat(this._name,\"] datachannel url length: \").concat(this._addresses.length,\" current index: \").concat(this.currentURLIndex));const t=this._addresses[this.currentURLIndex];this.emit(TI.RECONNECT_WAITTING_FINISH,e),await n(t,e)}else\"recover\"===e&&(WC.debug(\"[\".concat(this._name,\"] start to failback to websocket\")),this.resetReconnectCount(\"recover mode\"),this.emit(TI.RECONNECT_WAITTING_FINISH,e),this.emit(TI.FAILBACK));return!0}catch(i){var r,s;return WC.error(\"[\".concat(this._name,\"] reconnect failed\"),i.toString()),null!=i&&null!==(r=i.data)&&void 0!==r&&r.desc&&Array.isArray(i.data.desc)&&i.data.desc.length&&Pr(s=i.data.desc).call(s,\"dynamic key expired\")?(this.emit(TI.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):await this.reconnectWithAction(e,t)}}}class AD extends iS{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===Ev.CONNECTED?this.emit(mv.WS_CONNECTED):e===Ev.RECONNECTING?this.emit(mv.WS_RECONNECTING,this._websocketReconnectReason):e===Ev.CLOSED&&this.emit(mv.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket?this.websocket.url:null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),nu(this,\"_disconnectedReason\",void 0),nu(this,\"_websocketReconnectReason\",void 0),nu(this,\"_connectionState\",Ev.CLOSED),nu(this,\"reconnectToken\",void 0),nu(this,\"websocket\",void 0),nu(this,\"openConnectionTime\",void 0),nu(this,\"clientId\",void 0),nu(this,\"lastMsgTime\",Date.now()),nu(this,\"uploadCache\",[]),nu(this,\"uploadCacheInterval\",void 0),nu(this,\"rttRolling\",new dT(5)),nu(this,\"pingpongTimer\",void 0),nu(this,\"inflateDataTimer\",void 0),nu(this,\"pingpongTimeoutCount\",0),nu(this,\"joinResponse\",void 0),nu(this,\"multiIpOption\",void 0),nu(this,\"initError\",void 0),nu(this,\"spec\",void 0),nu(this,\"store\",void 0),nu(this,\"onWebsocketMessage\",(e=>{if(e instanceof ArrayBuffer)return void this.emit(mv.ON_BINARY_DATA,e);const t=JSON.parse(e);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,\"_id\")){const e=\"res-@\".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,\"_type\")&&(this.emit(t._type,t._message),t._type===Sv.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===Sv.ON_USER_BANNED))switch(t._message.error_code){case 14:this.close(cS.UID_BANNED);break;case 15:this.close(cS.IP_BANNED);break;case 16:this.close(cS.CHANNEL_BANNED)}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new yD(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,t),this.handleWebsocketEvents(),window.addEventListener(\"offline\",(()=>{this.connectionState===Ev.CONNECTED&&this.reconnect(\"retry\",SI.OFFLINE)}))}async request(e,t,i,n){const r=xS(6,\"\"),s={_id:r,_type:e,_message:t},o=this.websocket.connectionID,a=()=>new tg(((t,i)=>{if(this.connectionState===Ev.CONNECTED)return t();const n=()=>{this.off(mv.WS_CLOSED,r),t()},r=()=>{this.off(mv.WS_CONNECTED,n),i(new Mv(xg.WS_ABORT))};this.once(mv.WS_CONNECTED,n),this.once(mv.WS_CLOSED,r),e!==fv.PUBLISH&&e!==fv.SUBSCRIBE&&e!==fv.UNSUBSCRIBE&&e!==fv.UNPUBLISH&&e!==fv.CONTROL&&e!==fv.RESTART_ICE||this.once(mv.DISCONNECT_P2P,(()=>{i(new Mv(xg.DISCONNECT_P2P))})),e!==fv.PUBLISH&&e!==fv.RESTART_ICE||this.once(mv.ABORT_P2P_EXECUTION,(()=>{i(new Mv(xg.DISCONNECT_P2P))}))}));if(this.connectionState!==Ev.CONNECTING&&this.connectionState!==Ev.RECONNECTING||e===fv.JOIN||e===fv.REJOIN||await a(),e===fv.LEAVE&&(this.websocket.unbindDcCloseEventListener(),n=!0),this.websocket.sendMessage(s,!0,!1),n)return;const c=new tg(((i,n)=>{let s=!1;const a=(n,r)=>{s=!0,i({isSuccess:\"success\"===n,message:r||{}}),this.off(mv.WS_CLOSED,c),this.off(mv.WS_RECONNECTING,c),this.emit(mv.REQUEST_SUCCESS,e,t)};this.once(\"res-@\".concat(r),a);const c=()=>{n(new Mv(xg.WS_ABORT,\"type: \".concat(e))),this.off(mv.WS_CLOSED,c),this.off(mv.WS_RECONNECTING,c),this.off(\"res-@\".concat(r),a)};this.once(mv.WS_CLOSED,c),this.once(mv.WS_RECONNECTING,c),US(kC(\"SIGNAL_REQUEST_TIMEOUT\")).then((()=>{this.websocket.connectionID!==o||s||(WC.warning(\"dc request timeout, type: \".concat(e)),this.emit(mv.REQUEST_TIMEOUT,e,t))}))}));let d=null;try{d=await c}catch(n){if(this.connectionState===Ev.CLOSED||e===fv.LEAVE)throw new Mv(xg.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i?n.throw():e===fv.JOIN||e===fv.REJOIN?null:(await a(),await this.request(e,t))}if(d.isSuccess)return d.message;const l=Number(d.message.error_code||d.message.code),h=kI(l),u=new Mv(xg.UNEXPECTED_RESPONSE,\"\".concat(h.desc,\": \").concat(d.message.error_str),{code:l,data:d.message});return\"success\"===h.action?d.message:(WC.warning(\"[\".concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(l,\", message: \").concat(h.desc,\", action: \").concat(h.action)),l===_v.ERR_TOO_MANY_BROADCASTERS?e===fv.JOIN||e===fv.REJOIN?(this.initError=u,this.close(),u.throw()):u.throw():\"failed\"===h.action?u.throw():\"quit\"===h.action?(this.initError=u,this.close(),u.throw()):(l===_v.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d.message.option,WC.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",SI.MULTI_IP)):this.reconnect(h.action,SI.SERVER_ERROR),e===fv.JOIN||e===fv.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new tg((i=>{const n=r=>{(!t||t(r))&&(this.off(e,n),i(r))};this.on(e,n)}))}upload(e,t){const i={_type:e,_message:t};try{this.websocket.sendMessage(i)}catch(e){const t=kC(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==Ev.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),kC(\"UPLOAD_CACHE_INTERVAL\")||2e3))}}send(e,t){const i={_type:e,_message:t};this.websocket.sendMessage(i)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new tg(((i,n)=>{this.once(mv.WS_CONNECTED,(()=>i(this.joinResponse))),this.once(mv.WS_CLOSED,(()=>n(this.initError||new Mv(xg.WS_ABORT)))),this.connectionState=Ev.CONNECTING,this.websocket.init(e).catch(n),this.websocket.once(TI.FAILBACK,(()=>{void 0===this.openConnectionTime&&n(new Mv(xg.INIT_DATACHANNEL_TIMEOUT))})),this.inflateDataTimer&&window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=window.setInterval((()=>{this.handleInflateData()}),2e4),setTimeout((()=>{t&&void 0===this.openConnectionTime&&(WC.debug(\"[\".concat(this.clientId,\"] init datachannel timeout while join with failback to websocket\")),n(new Mv(xg.INIT_DATACHANNEL_TIMEOUT)))}),kC(\"DC_JOIN_WITH_FAILBACK\"))}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.inflateDataTimer&&(this.handleInflateData(),window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||cS.LEAVE,this.connectionState=Ev.CLOSED,WC.debug(\"[\".concat(this.clientId,\"] \")+\"will close datachannel in signal\"),this.websocket.close(),e===cS.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new yD(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(mv.ABORT_P2P_EXECUTION);const e=await fS(this,mv.DATACHANNEL_CONNECTING),t=await this.request(fv.JOIN,e);if(!t)return this.emit(mv.REPORT_JOIN_GATEWAY,xg.TIMEOUT,this.url||\"\"),!1;this.joinResponse=t,this.emit(mv.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=Ev.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new Mv(xg.UNEXPECTED_ERROR,\"can not rejoin, no rejoin token\");const e=TS(this,mv.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(fv.REJOIN,e);return!!t&&(this.connectionState=Ev.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach((e=>{this.emit(Sv.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(Sv.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(Sv.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(Sv.MUTE_AUDIO,{uid:e.uid}):this.emit(Sv.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(Sv.MUTE_VIDEO,{uid:e.uid}):this.emit(Sv.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(Sv.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(Sv.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(Sv.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(Sv.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(Sv.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleNotification(e){WC.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);const t=kI(e.code);if(\"success\"!==t.action){if(\"failed\"!==t.action)return\"quit\"===t.action?(\"ERR_REPEAT_JOIN_CHANNEL\"===t.desc&&this.close(cS.UID_BANNED),void this.close()):void this.reconnect(t.action,SI.SERVER_ERROR);WC.error(\"[\".concat(this.clientId,\"] ignore error: \"),t.desc)}}handlePingPong(){if(!this.websocket||\"connected\"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=kC(\"PING_PONG_TIME_OUT\"),t=Date.now();this.pingpongTimeoutCount>=e&&(WC.warning(\"PINGPONG Timeout. Last Socket Message: \".concat(t-this.lastMsgTime,\"ms\")),t-this.lastMsgTime>kC(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",SI.TIMEOUT):this.request(fv.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),kC(\"REPORT_STATS\")&&this.send(fv.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleInflateData(){const{inflateLength:e,deflateLength:t}=this.websocket.getInflateData();0!==e&&0!==t&&this.upload(gv.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(TI.RECONNECT_WAITTING_FINISH,(e=>{this.emit(mv.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(TI.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(mv.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(TI.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(TI.CLOSED,(()=>{this.connectionState=Ev.CLOSED})),this.websocket.on(TI.FAILED,(()=>{this._disconnectedReason=cS.NETWORK_ERROR,this.connectionState=Ev.CLOSED})),this.websocket.on(TI.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===Ev.CONNECTED?this.connectionState=Ev.RECONNECTING:this.connectionState=Ev.CONNECTING})),this.websocket.on(TI.WILL_RECONNECT,((e,t)=>{if(TS(this,mv.IS_P2P_DISCONNECTED)&&\"retry\"===e)return WC.debug(\"\".concat(this.clientId,\" reconnect mode is retry, but p2p lost, change to tryNext\")),this.reconnectToken=void 0,this.emit(mv.NEED_RENEW_SESSION),this.emit(mv.DISCONNECT_P2P),t(\"tryNext\");\"retry\"!==e&&(WC.debug(\"\".concat(this.clientId,\" websockt will_connect event, renewSession reconnectMode is \").concat(e)),this.reconnectToken=void 0,this.emit(mv.NEED_RENEW_SESSION),this.emit(mv.DISCONNECT_P2P)),t(e)})),this.websocket.on(TI.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{WC.warning(\"[\".concat(this.clientId,\"] rejoin failed \").concat(e)),this.reconnect(\"tryNext\",SI.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(mv.REPORT_JOIN_GATEWAY,e.message||e.code,this.url||\"\"),e instanceof Mv&&e.code===xg.UNEXPECTED_RESPONSE&&e.data.code===_v.ERR_NO_AUTHORIZED)return WC.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",SI.SERVER_ERROR);WC.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",SI.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(TI.REQUEST_NEW_URLS,((e,t)=>{fS(this,mv.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(TI.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(Sv.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})),this.websocket.on(TI.TO_CONNECT_DATACHANNEL,(async(e,t,i)=>fS(this,mv.DATACHANNEL_PRECONNECT,e).then(t).catch(i))),this.websocket.on(TI.FAILBACK,(()=>{void 0!==this.openConnectionTime&&this.emit(mv.DATACHANNEL_FAILBACK)}))}}class bD extends iS{constructor(e){super(),nu(this,\"_signal\",void 0),nu(this,\"_sequence\",0),nu(this,\"_userMap\",new Map),nu(this,\"_encoder\",new TextEncoder),this._signal=e}async send(e,t,i,n,r){var s,o,a;\"string\"!=typeof t&&(t=JSON.stringify(t)),n=null!==(s=n)&&void 0!==s?s:xS(6,\"\"),r=null!==(o=r)&&void 0!==o?o:this._sequence++;const c={_id:n,_type:e,_seq:null!==(a=r)&&void 0!==a?a:this._sequence++,_message:t};if(kC(\"SHOW_P2P_LOG\")&&WC.debug(\"send message\",c),this.sendStreamMessage(JSON.stringify(c)),i)return;const d=new tg(((t,i)=>{const r=window.setTimeout((()=>{this.off(\"res-@\".concat(n),s),WC.warning(\"[external-signal] request timeout, type: \".concat(e)),0===this._userMap.size?i(new Vg(xg.INVALID_REMOTE_USER)):i(new Vg(xg.TIMEOUT))}),kC(\"EXTERNAL_SIGNAL_REQUEST_TIMEOUT\")),s=(e,n)=>{r&&window.clearTimeout(r),\"success\"===e?t({isSuccess:!0,message:n}):i(new Vg(xg.UNEXPECTED_ERROR,n))};this.once(\"res-@\".concat(n),s)}));let l;try{l=await d}catch(i){if(i.code===xg.TIMEOUT)return await this.send(e,t,!1,n,r);throw i}return l.isSuccess?l.message:void 0}sendStreamMessage(e){this._splitMessage(e).forEach((e=>{this._signal.request(fv.DATA_STREAM,{payload:PS(this._encoder.encode(e))})}))}onMessage(e){const{_uid:t}=e;let i;const n=this._userMap.get(t);if(n?i=n.splitMessageMap:(i=new Map,this._userMap.set(t,{isStart:!1,splitMessageMap:i,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map})),\"id\"in e&&\"total\"in e){var r;const{id:n,total:s}=e,o=null!==(r=i.get(n))&&void 0!==r?r:[];if(o.push(e),i.has(n)||i.set(n,o),o.length!==s)return;{const r=Zu(o).call(o,((e,t)=>e.index-t.index)).map((e=>e.payload)).join(\"\");i.delete(n),(e=JSON.parse(r))._uid=t}}this.handleReceivedMessage(e)}setStart(e){this._userMap.has(e)?this._userMap.get(e).isStart=!0:this._userMap.set(e,{isStart:!0,splitMessageMap:new Map,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map}),this.handleReceivedMessage()}setEnd(e){return this._userMap.delete(e),0===this._userMap.size}ack(e,t,i){this.send(AI.ACK,JSON.stringify({success:!i,message:t}),!0,e)}handleReceivedMessage(e){const t=()=>{this._userMap.forEach((e=>{const{receivedMessagesMap:t,nextExpectedSequenceNumber:i}=e;for(;t.has(i);){const n=t.get(i);t.delete(i),this.receiveMessage(n),e.nextExpectedSequenceNumber++}}))};if(!e)return void t();const{_uid:i,_seq:n}=e,r=this._userMap.get(i),{receivedMessagesMap:s,isStart:o,nextExpectedSequenceNumber:a}=r;n<a?WC.debug(\"[external-signal] receive old message, seq: \".concat(n)):(s.set(n,e),o&&n===a&&(this.receiveMessage(e),s.delete(a),r.nextExpectedSequenceNumber++,t()))}receiveMessage(e){const{_id:t,_type:i,_message:n,_uid:r}=e;if(kC(\"SHOW_P2P_LOG\")&&WC.debug(\"收到消息\",e),t)switch(e._type){case AI.PUBLISH:const s=JSON.parse(n);this._signal.emit(i,s,r),this.ack(e._id);break;case AI.CONTROL:case AI.UNPUBLISH:case AI.DO_SUBSCRIBE:case AI.DO_UNSUBSCRIBE:{const t=JSON.parse(n);t.uid=r,fS(this._signal,i,t).then((t=>{this.ack(e._id,t)})).catch((t=>{this.ack(e._id,void 0,!0)}));break}case AI.ACK:{const{success:e,message:i}=JSON.parse(n);this.emit(\"res-@\".concat(t),e?\"success\":\"failed\",i);break}case AI.CALL:fS(this,i,n).then((e=>{this.ack(t,e)}));break;case AI.RESTART_ICE:case AI.EXCHANGE_SDP:case AI.SUBSCRIBE:case AI.UNSUBSCRIBE:fS(this._signal,i,n).then((e=>{this.ack(t,e)})).catch((t=>{this.ack(e._id,void 0,!0)}));break;case AI.CANDIDATE:this._signal.emit(i,n),this.ack(t);break;case AI.JOIN:this.emit(i,JSON.parse(n));break;default:this.emit(i,n),this.ack(t)}}_splitMessage(e){if(e.length<bD.MAX_MESSAGE_SIZE)return[e];const t=[],i=xS(6,\"\");let n=0;const r=Math.ceil(e.length/800);for(;e.length>0;){n++;const s=e.slice(0,800);t.push({id:i,index:n,total:r,payload:s}),e=e.slice(800)}return t.map((e=>JSON.stringify(e)))}clear(){this._sequence=0,this._userMap.clear()}}nu(bD,\"MAX_MESSAGE_SIZE\",1024);class wD extends iS{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===Ev.CONNECTED?this.emit(mv.WS_CONNECTED):e===Ev.RECONNECTING?this.emit(mv.WS_RECONNECTING,this._websocketReconnectReason):e===Ev.CLOSED&&this.emit(mv.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),nu(this,\"_disconnectedReason\",void 0),nu(this,\"_websocketReconnectReason\",void 0),nu(this,\"_connectionState\",Ev.CLOSED),nu(this,\"reconnectToken\",void 0),nu(this,\"_userInRoom\",!1),nu(this,\"_userOnlineTime\",void 0),nu(this,\"websocket\",void 0),nu(this,\"openConnectionTime\",void 0),nu(this,\"clientId\",void 0),nu(this,\"lastMsgTime\",Date.now()),nu(this,\"uploadCache\",[]),nu(this,\"uploadCacheInterval\",void 0),nu(this,\"rttRolling\",new dT(5)),nu(this,\"pingpongTimer\",void 0),nu(this,\"wsInflateDataTimer\",void 0),nu(this,\"pingpongTimeoutCount\",0),nu(this,\"joinResponse\",void 0),nu(this,\"multiIpOption\",void 0),nu(this,\"initError\",void 0),nu(this,\"spec\",void 0),nu(this,\"store\",void 0),nu(this,\"_external_signal\",void 0),nu(this,\"onWebsocketMessage\",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(mv.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,\"_id\")){const e=\"res-@\".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,\"_type\")){switch(t._type){case Sv.ON_DATA_STREAM:return void this.handleDataStream(t._message);case Sv.MUTE_AUDIO:case Sv.MUTE_VIDEO:case Sv.ON_P2P_LOST:return;case Sv.ON_USER_ONLINE:this.emit(t._type,t._message);const{uid:e}=t._message;return this._external_signal.setStart(e),void this._external_signal.send(AI.JOIN,{onlineTime:this._userOnlineTime},!0)}if(this.emit(t._type,t._message),t._type===Sv.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===Sv.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(cS.UID_BANNED);break;case 15:this.close(cS.IP_BANNED);break;case 16:this.close(cS.CHANNEL_BANNED)}if(t._type===Sv.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case _v.ERR_LICENSE_MISSING:this.close(cS.LICENSE_MISSING);break;case _v.ERR_LICENSE_EXPIRED:this.close(cS.LICENSE_EXPIRED);break;case _v.ERR_LICENSE_MINUTES_EXCEEDED:this.close(cS.LICENSE_MINUTES_EXCEEDED);break;case _v.ERR_LICENSE_PERIOD_INVALID:this.close(cS.LICENSE_PERIOD_INVALID);break;case _v.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(cS.LICENSE_MULTIPLE_SDK_SERVICE);break;case _v.ERR_LICENSE_ILLEGAL:this.close(cS.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new qI(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,kC(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),kC(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),t),this.handleWebsocketEvents(),window.addEventListener(\"offline\",(()=>{this.connectionState===Ev.CONNECTED&&this.reconnect(\"retry\",lS.OFFLINE)})),this._external_signal=new bD(this),this._handleSignalP2PEvents()}async request(e,t,i,n){const r=xS(6,\"\"),s={_id:r,_type:e,_message:t},o=this.websocket.connectionID,a=()=>new tg(((t,i)=>{if(this.connectionState===Ev.CONNECTED)return t();const n=()=>{this.off(mv.WS_CLOSED,r),t()},r=()=>{this.off(mv.WS_CONNECTED,n),i(new Vg(xg.WS_ABORT))};this.once(mv.WS_CONNECTED,n),this.once(mv.WS_CLOSED,r),e!==fv.PUBLISH&&e!==fv.SUBSCRIBE&&e!==fv.UNSUBSCRIBE&&e!==fv.UNPUBLISH&&e!==fv.CONTROL&&e!==fv.RESTART_ICE||this.once(mv.DISCONNECT_P2P,(()=>{i(new Vg(xg.DISCONNECT_P2P))})),e!==fv.PUBLISH&&e!==fv.RESTART_ICE||this.once(mv.ABORT_P2P_EXECUTION,(()=>{i(new Vg(xg.DISCONNECT_P2P))}))}));if(this.connectionState!==Ev.CONNECTING&&this.connectionState!==Ev.RECONNECTING||e===fv.JOIN||e===fv.REJOIN||await a(),this.websocket.sendMessage(s,!0),n)return;const c=new tg(((i,n)=>{let s=!1;const a=(n,r)=>{s=!0,i({isSuccess:\"success\"===n,message:r||{}}),this.off(mv.WS_CLOSED,c),this.off(mv.WS_RECONNECTING,c),this.emit(mv.REQUEST_SUCCESS,e,t)};this.once(\"res-@\".concat(r),a);const c=()=>{n(new Vg(xg.WS_ABORT,\"type: \".concat(e))),this.off(mv.WS_CLOSED,c),this.off(mv.WS_RECONNECTING,c),this.off(\"res-@\".concat(r),a)};this.once(mv.WS_CLOSED,c),this.once(mv.WS_RECONNECTING,c),US(kC(\"SIGNAL_REQUEST_TIMEOUT\")).then((()=>{this.websocket.connectionID!==o||s||(WC.warning(\"[\".concat(this.clientId,\"] ws request timeout, type: \").concat(e)),this.emit(mv.REQUEST_TIMEOUT,e,t))}))}));let d=null;try{d=await c}catch(n){if(this.connectionState===Ev.CLOSED||e===fv.LEAVE)throw new Vg(xg.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i?n.throw():e===fv.JOIN||e===fv.REJOIN?null:(await a(),await this.request(e,t))}if(d.isSuccess)return d.message;const l=Number(d.message.error_code||d.message.code),h=kI(l),u=new Vg(xg.UNEXPECTED_RESPONSE,\"\".concat(h.desc,\": \").concat(d.message.error_str),{code:l,data:d.message});return\"success\"===h.action?d.message:(WC.warning(\"[\".concat(this.clientId,\"] [\").concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(l,\", message: \").concat(h.desc,\", action: \").concat(h.action)),l===_v.ERR_TOO_MANY_BROADCASTERS?e===fv.JOIN||e===fv.REJOIN?(this.initError=u,this.close(),u.throw()):u.throw():\"failed\"===h.action?u.throw():\"quit\"===h.action?(this.initError=u,this.close(),u.throw()):(l===_v.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d.message.option,WC.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",lS.MULTI_IP)):this.reconnect(h.action,lS.SERVER_ERROR),e===fv.JOIN||e===fv.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new tg((i=>{const n=r=>{(!t||t(r))&&(this.off(e,n),i(r))};this.on(e,n)}))}upload(e,t){const i={_type:e,_message:t};try{this.websocket.sendMessage(i)}catch(e){const t=kC(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==Ev.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),kC(\"UPLOAD_CACHE_INTERVAL\")||2e3))}}send(e,t){const i={_type:e,_message:t};this.websocket.sendMessage(i)}async sendExtensionMessage(e,t,i){return await this.waitTillUserOnline(),await this._external_signal.send(e,t,i)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new tg(((t,i)=>{this.once(mv.WS_CONNECTED,(()=>t(this.joinResponse))),this.once(mv.WS_CLOSED,(()=>i(this.initError||new Vg(xg.WS_ABORT)))),this.connectionState=Ev.CONNECTING,this.websocket.init(e).catch(i),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval((()=>{this.handleWsInflateData()}),2e4)}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||cS.LEAVE,this.connectionState=Ev.CLOSED,WC.debug(\"[\".concat(this.clientId,\"] \")+\"will close websocket in signal\"),this.websocket.close(),e===cS.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new qI(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,kC(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),kC(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(mv.ABORT_P2P_EXECUTION);const e=await fS(this,mv.REQUEST_JOIN_INFO),t=await this.request(fv.JOIN,e);if(!t)return this.emit(mv.REPORT_JOIN_GATEWAY,xg.TIMEOUT,this.url||\"\"),!1;this.joinResponse=t,this.emit(mv.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=Ev.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),this._userOnlineTime=(new Date).getTime(),this._external_signal.clear(),!0}async rejoin(){if(!this.reconnectToken)throw new Vg(xg.UNEXPECTED_ERROR,\"can not rejoin, no rejoin token\");const e=TS(this,mv.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;return!!await this.request(fv.REJOIN,e)&&(this.connectionState=Ev.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleDataStream(e){try{var t;const i=DS(e.payload),n=(new TextDecoder).decode(i),r=JSON.parse(n);\"total\"in r&&\"id\"in r||Pr(t=Object.values(AI)).call(t,r._type)?(e.seq&&delete e.seq,r._uid=e.uid,this._external_signal.onMessage(r)):this.emit(Sv.ON_DATA_STREAM,e)}catch(e){}}handleNotification(e){WC.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);const t=kI(e.code);if(\"success\"!==t.action){if(\"failed\"!==t.action)return\"quit\"===t.action?(\"ERR_REPEAT_JOIN_CHANNEL\"===t.desc&&this.close(cS.UID_BANNED),void this.close()):void this.reconnect(t.action,lS.SERVER_ERROR);WC.error(\"[\".concat(this.clientId,\"] ignore error: \"),t.desc)}}handlePingPong(){if(!this.websocket||\"connected\"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=kC(\"PING_PONG_TIME_OUT\"),t=Date.now();this.pingpongTimeoutCount>=e&&(WC.warning(\"[\".concat(this.clientId,\"] PINGPONG Timeout. Last Socket Message: \").concat(t-this.lastMsgTime,\"ms\")),t-this.lastMsgTime>kC(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",lS.TIMEOUT):this.request(fv.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),kC(\"REPORT_STATS\")&&this.send(fv.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWsInflateData(){const{wsInflateLength:e,wsDeflateLength:t}=this.websocket.getWsInflateData();0!==e&&0!==t&&this.upload(gv.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(Cv.RECONNECT_WAITTING_FINISH,(e=>{this.emit(mv.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(Cv.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(mv.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(Cv.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(Cv.CLOSED,(()=>{this.connectionState=Ev.CLOSED})),this.websocket.on(Cv.FAILED,(()=>{this._disconnectedReason=cS.NETWORK_ERROR,this.connectionState=Ev.CLOSED})),this.websocket.on(Cv.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===Ev.CONNECTED?this.connectionState=Ev.RECONNECTING:this.connectionState=Ev.CONNECTING})),this.websocket.on(Cv.WILL_RECONNECT,((e,t,i)=>{if(TS(this,mv.IS_P2P_DISCONNECTED)&&\"retry\"===e)return WC.debug(\"\".concat(this.clientId,\" reconnect mode is retry, but p2p lost, change to tryNext\")),this.reconnectToken=void 0,this.emit(mv.NEED_RENEW_SESSION),this.emit(mv.DISCONNECT_P2P),i(\"tryNext\");\"retry\"!==e&&(WC.debug(\"\".concat(this.clientId,\" websocket will_connect event, renewSession reconnectMode is \").concat(e)),this.reconnectToken=void 0,this.emit(mv.NEED_RENEW_SESSION),this.emit(mv.DISCONNECT_P2P)),i(e)})),this.websocket.on(Cv.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{WC.warning(\"[\".concat(this.clientId,\"] rejoin failed \").concat(e)),this.reconnect(\"tryNext\",lS.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(mv.REPORT_JOIN_GATEWAY,e.message||e.code,this.url||\"\"),e instanceof Vg&&e.code===xg.UNEXPECTED_RESPONSE&&e.data.code===_v.ERR_NO_AUTHORIZED)return WC.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",lS.SERVER_ERROR);WC.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",lS.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(Cv.REQUEST_NEW_URLS,((e,t)=>{fS(this,mv.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(Cv.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(Sv.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}_handleSignalP2PEvents(){this._external_signal.on(AI.JOIN,(async e=>{if(this._userOnlineTime&&this._userOnlineTime<e.onlineTime){const e=await fS(this,mv.P2P_START,void 0),t=await this._external_signal.send(AI.CALL,e);this.emit(mv.P2P_CONNECTION,t,!0)}this._userInRoom=!0,this.emit(\"user-online\")})),this.on(Sv.ON_USER_OFFLINE,(async e=>{this._external_signal.clear(),this._userInRoom=!1})),this._external_signal.on(AI.CALL,(async(e,t,i)=>{this._userInRoom=!0,this.emit(\"user-online\");try{t(await fS(this,mv.P2P_START,e))}catch(e){i(e)}}))}async waitTillUserOnline(){return new tg((e=>{if(this._userInRoom)e();else{const t=()=>{this.off(\"user-online\",t),e()};this.on(\"user-online\",t)}}))}}function OD(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ND(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?OD(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):OD(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const DD=new Map;class PD extends iS{get state(){return this._state}set state(e){if(e===this._state)return;const t=this._state;this._state=e,\"DISCONNECTED\"===e&&this._disconnectedReason?this.emit(Zv.CONNECTION_STATE_CHANGE,e,t,this._disconnectedReason):this.emit(Zv.CONNECTION_STATE_CHANGE,e,t)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(e){WC.debug(\"[\".concat(this.store.clientId,\"] set joinGatewayStartTime at \").concat(e)),this._joinGatewayStartTime=e}constructor(e,t){super(),nu(this,\"store\",void 0),nu(this,\"joinInfo\",void 0),nu(this,\"key\",void 0),nu(this,\"ntpOffset\",0),nu(this,\"signal\",void 0),nu(this,\"role\",void 0),nu(this,\"inChannelInfo\",{joinAt:null,duration:0}),nu(this,\"spec\",void 0),nu(this,\"_state\",\"DISCONNECTED\"),nu(this,\"_statsCollector\",void 0),nu(this,\"_disconnectedReason\",void 0),nu(this,\"isSignalRecover\",!1),nu(this,\"hasChangeBGPAddress\",!1),nu(this,\"trafficStatsInterval\",void 0),nu(this,\"networkQualityInterval\",void 0),nu(this,\"_joinGatewayStartTime\",0),nu(this,\"_signalTimeout\",!1),nu(this,\"_clientRoleOptions\",void 0),nu(this,\"_isProactiveJoin\",!1),this.store=e,this.spec=t,this.signal=this.store.useP2P?new wD(ND(ND({},t),{},{retryConfig:t.websocketRetryConfig}),e):this.store.useDataChannel?new AD(ND(ND({},t),{},{retryConfig:t.websocketRetryConfig}),e):new zI(ND(ND({},t),{},{retryConfig:t.websocketRetryConfig}),e),this._statsCollector=t.statsCollector,this.role=t.role||\"audience\",this._clientRoleOptions=t.clientRoleOptions,this.handleSignalEvents()}async join(e,t,i){if(this.signal instanceof AD){let t=!1;\"disabled\"!==e.cloudProxyServer?(WC.debug(\"[\".concat(this.store.clientId,\"] Dc is not supported, because cloudProxyServer are not supported (\").concat(e.cloudProxyServer,\")\")),t=!0):\"\".concat(e.apResponse.cid,\"_\").concat(e.apResponse.cert).length>255||\"\".concat(e.apResponse.cid,\"_\").concat(e.apResponse.cert).length<22?(WC.debug(\"[\".concat(this.store.clientId,\"] Dc is not supported, because ticket length is incorrect, it has to be between 22 and 255\")),t=!0):e.apResponse.addresses.some((e=>e.fingerprint))||kC(\"FINGERPRINT\")||(WC.debug(\"[\".concat(this.store.clientId,\"] Dc is not supported, because fingerprint does not exist\")),t=!0),t&&this.resetSignal()}this.store.joinGatewayStart(),\"disabled\"!==e.cloudProxyServer&&(this.hasChangeBGPAddress=!0);const n=Date.now();let r=DD.get(e.cname);if(r||(r=new Map,DD.set(e.cname,r)),this._isProactiveJoin=!0,r.has(e.uid)){const t=new Mv(xg.UID_CONFLICT);throw iv.joinGateway(e.sid,{lts:n,succ:!1,ec:t.message,addr:null,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!e.proxyServer,signalChannel:this.signal instanceof AD?\"1\":\"0\"}),this._isProactiveJoin=!1,t}r.set(e.uid,!0),this.joinInfo=e,this.key=t;let s=0;this.joinGatewayStartTime=n;const o=e.proxyServer;try{let t;if(WC.debug(\"[\".concat(this.store.clientId,\"] use \").concat(this.signal instanceof AD?\"datachannel\":\"websocket\",\" join uid \").concat(s)),this.signal instanceof AD)t=await this.signal.init(e.apResponse.addresses,i);else{const n=e.gatewayAddrs.map((t=>{let{address:i}=t;const[n,r]=i.split(\":\"),s={host:n,port:r};return e.proxyServer&&(s.proxy=e.proxyServer),s}));t=await this.signal.init(n,i)}s=t.uid,WC.debug(\"[\".concat(this.store.clientId,\"] \").concat(this.signal instanceof AD?\"datachannel\":\"websocket\",\" join uid \").concat(s,\" cost \").concat(Date.now()-this.joinGatewayStartTime))}catch(t){if(t&&t.code===xg.INIT_WEBSOCKET_TIMEOUT)throw WC.warning(\"[\".concat(this.store.clientId,\"] User join failed\"),t.toString()),t;if(t&&t.code===xg.INIT_DATACHANNEL_TIMEOUT)throw WC.warning(\"[\".concat(this.store.clientId,\"] User join datachannel failed\"),t.toString()),this.resetSignal(),t;throw WC.error(\"[\".concat(this.store.clientId,\"] User join failed\"),t.toString()),iv.joinGateway(e.sid,{lts:n,succ:!1,ec:t.message,addr:this.signal.url,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!o,signalChannel:this.signal instanceof AD?\"1\":\"0\"}),this._isProactiveJoin=!1,r.delete(e.uid),this.signal.close(),t}return this.state=\"CONNECTED\",this.inChannelInfo.joinAt=Date.now(),WC.debug(\"[\".concat(this.store.clientId,\"] Connected to gateway server\")),this.trafficStatsInterval=window.setInterval((()=>{this.updateTrafficStats().catch((e=>{WC.warning(\"[\".concat(this.store.clientId,\"] get traffic stats error\"),e.toString())}))}),3e3),this.networkQualityInterval=window.setInterval((()=>{navigator&&void 0!==navigator.onLine&&!navigator.onLine?this.emit(Zv.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(Zv.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):\"CONNECTED\"===this.state&&this._statsCollector.trafficStats?this.emit(Zv.NETWORK_QUALITY,{uplinkNetworkQuality:mD(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:mD(this._statsCollector.trafficStats.B_dnq)}):this.emit(Zv.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3),this.store.joinGatewayEnd(),s}async leave(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(\"DISCONNECTED\"!==this.state){t!==cS.FALLBACK&&(this.state=\"DISCONNECTING\");try{e||this.signal.connectionState!==Ev.CONNECTED||await function(e,t){return t===1/0?e:tg.race([e,MS(t)])}(this.signal.request(fv.LEAVE,void 0,!0),3e3)}catch(e){WC.warning(\"[\".concat(this.store.clientId,\"] leave request failed, ignore\"),e)}this.signal.close(t),t!==cS.FALLBACK&&(this.state=\"DISCONNECTED\"),this.reset()}}async publish(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Mv(xg.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));const n={state:\"offer\",p2p_id:this.store.p2pId,ortc:t,mode:this.spec.mode,extend:kC(\"PUB_EXTEND\"),twcc:!!kC(\"PUBLISH_TWCC\"),rtx:!!kC(\"USE_PUB_RTX\")};try{return(await this.signal.request(fv.PUBLISH,n,!0))._message}catch(n){if(i&&n.data&&n.data.code===_v.ERR_PUBLISH_REQUEST_INVALID)return WC.warning(\"[\".concat(this.store.clientId,\"] receive publish error code, retry\"),n.toString()),await this.tryUnpubBeforeRepub(e,t),this.publish(e,t,!1);throw n}}async publishDataChannel(e,t,i){var n;if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Mv(xg.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));const r={stream_id:t.streamId,ordered:t.ordered?1:0,max_retrans_times:null!==(n=t.maxRetransmits)&&void 0!==n?n:10,channel_id:t.channelId,metadata:t.metadata};try{await this.signal.request(fv.PUBLISH_DATASTREAM,r,!0)}catch(n){if(i&&n.data&&n.data.code===_v.ERR_PUBLISH_REQUEST_INVALID)return WC.warning(\"[\".concat(this.store.clientId,\"] receive publish datachannels error code, retry\"),n.toString()),await this.tryUnpubDataChannelBeforeRepub(e,t),this.publishDataChannel(e,t,!1);throw n}}async unpublish(e,t){try{if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Mv(xg.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await this.signal.request(fv.UNPUBLISH,{stream_id:t,ortc:e},!0)}catch(e){WC.warning(\"[\".concat(this.store.clientId,\"] unpublish warning: \"),e)}}async unpublishDataChannel(e){try{if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Mv(xg.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await tg.all(e.map((e=>this.signal.request(fv.UNPUBLISH_DATASTREAM,{channel_id:e},!0))))}catch(e){WC.warning(\"unpublish datachannels warning: \",e)}}async subscribe(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Mv(xg.INVALID_OPERATION,\"can not subscribe when connection state is \".concat(this.state));const n={stream_id:e,stream_type:t.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!kC(\"SUBSCRIBE_TWCC\"),rtx:!!kC(\"USE_SUB_RTX\"),extend:kC(\"SUB_EXTEND\"),ssrcId:t.ssrcId,svc:Array.isArray(kC(\"SVC\"))&&0!==kC(\"SVC\").length?kC(\"SVC\"):void 0};try{return(await this.signal.request(fv.SUBSCRIBE,n,!0))._message}catch(n){if(i&&n.data&&n.data.code===_v.ERR_SUBSCRIBE_REQUEST_INVALID)return WC.warning(\"[\".concat(this.store.clientId,\"] receiver subscribe error code, retry\"),n.toString()),await this.tryUnsubBeforeResub(e,t),await this.subscribe(e,t,!1);throw n}}async subscribeDataChannel(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Mv(xg.INVALID_OPERATION,\"can not subscribe datachannel when connection state is \".concat(this.state));const n={uid:e,stream_id:t.id,channel_id:t.datachannelId};try{return void await this.signal.request(fv.SUBSCRIBE_DATASTREAM,n,!0)}catch(n){if(i&&n.data&&n.data.code===_v.ERR_SUBSCRIBE_REQUEST_INVALID)return WC.warning(\"[\".concat(this.store.clientId,\"] receiver subscribe datachannel error code, retry\"),n.toString()),await this.tryUnsubDataChannelBeforeResub(e,t),await this.subscribeDataChannel(e,t,!1);throw n}}async subscribeAll(e,t){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Mv(xg.INVALID_OPERATION,\"can not massSubscribe when connection state is \".concat(this.state));const i={p2p_id:this.store.p2pId,users:e,dtx:!1,rtx:!!kC(\"USE_SUB_RTX\")};try{return await this.signal.request(fv.SUBSCRIBE_STREAMS,i,!0)}catch(i){if(t&&i.data&&i.data.code===_v.ERR_SUBSCRIBE_REQUEST_INVALID)return WC.warning(\"[\".concat(this.store.clientId,\"] receiver massSubscribe error code, retry\"),i.toString()),await this.tryMassUnsubBeforeResub(e),await this.subscribeAll(e,!1);throw i}}async setVideoProfile(e){const t=function(e){if(!(e.bitrateMax&&e.bitrateMin&&e.frameRate&&e.height&&e.width))return;let t=e.frameRate,i=e.width,n=e.height,r=!0;return\"number\"!=typeof t&&(t=t.exact||t.ideal||t.max||t.min||0,t||(r=!1)),\"number\"!=typeof i&&(i=i.exact||i.ideal||i.max||i.min||0,i||(r=!1)),\"number\"!=typeof n&&(n=n.exact||n.ideal||n.max||n.min||0,t||(r=!1)),r?{stream_type:0,width:i,height:n,fps:t,start_bps:1e3*e.bitrateMax,min_bps:1e3*e.bitrateMin,target_bps:1e3*e.bitrateMax}:void 0}(e);if(t)return this.signal.request(fv.SET_VIDEO_PROFILE,t);WC.debug(\"[\".concat(this.store.clientId,\"] encoder config is not complete, do not report to gateway\"))}async unsubscribe(e,t){try{await this.signal.request(fv.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:e,stream_id:t},!0)}catch(e){WC.warning(\"[\".concat(this.store.clientId,\"] unsubscribe warning: \"),e)}}async unsubscribeDataChannel(e,t){try{if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Mv(xg.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await tg.all(e.map((e=>this.signal.request(fv.UNSUBSCRIBE_DATASTREAM,{stream_id:e,uid:t},!0))))}catch(e){WC.warning(\"unsubscribeDataChannel warning: \",e)}}async massUnsubscribe(e){try{await this.signal.request(fv.UNSUBSCRIBE_STREAMS,e,!0)}catch(e){WC.warning(\"[\".concat(this.store.clientId,\"] massUnsubscribeAll warning: \"),e)}}async reconnectPC(e){const{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}=e;return{gatewayEstablishParams:await this.signal.request(fv.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(fv.GATEWAY_INFO)}async renewToken(e){await this.signal.request(fv.RENEW_TOKEN,e),this.key=e.token}async setClientRole(e,t){if(t&&(this._clientRoleOptions=Object.assign({},t)),\"CONNECTED\"!==this.state)return void(this.role=e);let i,n=0;\"audience\"===e?this._clientRoleOptions&&this._clientRoleOptions.delay?(i=this._clientRoleOptions.delay,n=1):n=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:n=0,await this.signal.request(fv.SET_CLIENT_ROLE,{role:e,level:n,delay:i,client_ts:Date.now()}),this.role=e}async setRemoteVideoStreamType(e,t){await this.signal.request(fv.SWITCH_VIDEO_STREAM,{stream_id:e,stream_type:t})}async setDefaultRemoteVideoStreamType(e){await this.signal.request(fv.DEFAULT_VIDEO_STREAM,{stream_type:e})}async setStreamFallbackOption(e,t){await this.signal.request(fv.SET_FALLBACK_OPTION,{stream_id:e,fallback_type:t})}async pickSVCLayer(e,t){await this.signal.request(fv.PICK_SVC_LAYER,{stream_id:e,spatial_layer:t.spatialLayer,temporal_layer:t.temporalLayer})}async setRTM2Flag(e){await this.signal.request(fv.SET_RTM2_FLAG,{rtm2_flag:e})}async sendExtensionMessage(e,t,i){if(this.signal instanceof wD)return this.signal.sendExtensionMessage(e,t,i)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),ND({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(fv.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const e=DD.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const e=function(e){let t;return t=e.startsWith(\"dc\")?e.match(/(dc\\:\\/\\/)?([^:]+):(\\d+)/):e.match(/(wss\\:\\/\\/)?([^:]+):(\\d+)/),t?{username:rv.username,password:rv.password,turnServerURL:t[2],tcpport:parseInt(t[3])+30,udpport:parseInt(t[3])+30,forceturn:!1}:null}((\"disabled\"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||\"\");this.joinInfo.turnServer.serversFromGateway=[],e&&\"off\"!==this.joinInfo.turnServer.mode&&\"disabled\"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(ND(ND({},rv),{},{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if(\"CONNECTED\"!==this.state)return;const e=await this.signal.request(fv.TRAFFIC_STATS,void 0,!0);e.timestamp=Date.now(),null!=e.ntp_offset&&(this.ntpOffset=e.ntp_offset),e.peer_delay.forEach((e=>{const t=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find((t=>t.peer_uid===e.peer_uid));t&&t.B_st!==e.B_st&&AS((()=>{this.emit(Zv.STREAM_TYPE_CHANGE,e.peer_uid,e.B_st)}))})),this._statsCollector.updateTrafficStats(e)}getJoinMessage(e){if(!this.joinInfo||!this.key)throw new Mv(xg.UNEXPECTED_ERROR,\"can not generate join message, no join info\");const t=Object.assign({},this.joinInfo.apResponse);let i=kC(\"REPORT_APP_SCENARIO\");if(\"string\"!=typeof i)try{i=JSON.stringify(i)}catch(e){i=void 0}i&&i.length>128&&(i=void 0);const n=ND({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:OC,browser:navigator.userAgent,process_id:kC(\"PROCESS_ID\"),mode:this.store.useP2P?\"p2p\":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:t,extend:kC(\"JOIN_EXTEND\"),details:{6:this.joinInfo.stringUid,cservice_map:\"proxy3\"===this.joinInfo.cloudProxyServer?\"1\":\"proxy5\"===this.joinInfo.cloudProxyServer?\"2\":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:i,attributes:{userAttributes:{enablePublishedUserList:kC(\"ENABLE_PUBLISHED_USER_LIST\"),maxSubscription:kC(\"MAX_SUBSCRIPTION\"),subscribeAudioFilterTopN:\"number\"==typeof kC(\"SUBSCRIBE_AUDIO_FILTER_TOPN\")?kC(\"SUBSCRIBE_AUDIO_FILTER_TOPN\"):void 0,enablePublishAudioFilter:\"boolean\"==typeof kC(\"ENABLE_PUBLISH_AUDIO_FILTER\")?kC(\"ENABLE_PUBLISH_AUDIO_FILTER\"):void 0,enableUserLicenseCheck:\"boolean\"==typeof kC(\"ENABLE_USER_LICENSE_CHECK\")?kC(\"ENABLE_USER_LICENSE_CHECK\"):void 0,enableRTX:!0===kC(\"USE_PUB_RTX\")||!0===kC(\"USE_SUB_RTX\")||void 0,disableFEC:kC(\"DISABLE_FEC\"),enableNTPReport:!!kC(\"ENABLE_NTP_REPORT\")||void 0,enableInstantVideo:!!kC(\"ENABLE_INSTANT_VIDEO\")||void 0,enableDataStream2:\"boolean\"==typeof kC(\"ENABLE_DATASTREAM_2\")?kC(\"ENABLE_DATASTREAM_2\"):void 0,rtm2Flag:\"number\"==typeof kC(\"RTM2_FLAG\")?kC(\"RTM2_FLAG\"):void 0,enableUserAutoRebalanceCheck:!!kC(\"ENABLE_USER_AUTO_REBALANCE_CHECK\"),enableXR:\"boolean\"==typeof kC(\"USE_XR\")?kC(\"USE_XR\"):void 0}},join_ts:this.joinGatewayStartTime},e);return this.joinInfo.stringUid&&(n.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(n.aes_mode=this.joinInfo.aesmode,kC(\"ENCRYPT_AES\")?(n.aes_secret=this.joinInfo.aespassword,n.aes_encrypt=!0):n.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(n.aes_salt=this.joinInfo.aessalt)),t.addresses[this.signal.websocket.currentURLIndex]&&(n.ap_response.ticket=t.addresses[this.signal.websocket.currentURLIndex].ticket,delete t.addresses),void 0!==this.joinInfo.defaultVideoStream&&(n.default_video_stream=this.joinInfo.defaultVideoStream),n}getRejoinMessage(){if(!this.joinInfo)throw new Mv(xg.UNEXPECTED_ERROR,\"can not generate rejoin message, no join info\");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(mv.WS_RECONNECT_WAITTING_FINISH,(e=>{var t;Pr(t=[\"tryNext\",\"recover\"]).call(t,e)&&this.joinInfo&&iv.adjustSessionStartTime(this.joinInfo.sid)})),this.signal.on(mv.WS_RECONNECT_CREATE_CONNECTION,(e=>{this.joinGatewayStartTime=Date.now()})),this.signal.on(mv.WS_RECONNECTING,(e=>{this.joinInfo&&iv.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e||lS.NETWORK_ERROR}),this.joinInfo&&(this.state=\"RECONNECTING\",iv.sessionInit(this.joinInfo.sid,{lts:(new Date).getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())})),this.signal.on(mv.WS_CLOSED,(e=>{let t;switch(e){case cS.LEAVE:t=lS.LEAVE;break;case cS.UID_BANNED:case cS.IP_BANNED:case cS.CHANNEL_BANNED:case cS.SERVER_ERROR:t=lS.SERVER_ERROR;break;case cS.FALLBACK:t=lS.FALLBACK;break;case cS.LICENSE_MISSING:case cS.LICENSE_EXPIRED:case cS.LICENSE_MINUTES_EXCEEDED:case cS.LICENSE_PERIOD_INVALID:case cS.LICENSE_MULTIPLE_SDK_SERVICE:case cS.LICENSE_ILLEGAL:case cS.TOKEN_EXPIRE:t=e;break;default:t=lS.NETWORK_ERROR}WC.debug(\"[\".concat(this.store.clientId,\"] [signal] websocket closed, reason: \").concat(t||\"undefined -> \"+lS.NETWORK_ERROR)),this.joinInfo&&iv.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:e===cS.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:t}),this._disconnectedReason=e,e!==cS.FALLBACK&&(this.state=\"DISCONNECTED\"),this.reset()})),this.signal.on(mv.WS_CONNECTED,(()=>{if(this.updateTurnConfigFromSignal(),this.state=\"CONNECTED\",this.joinInfo&&(\"audience\"===this.role&&this._clientRoleOptions&&(this._clientRoleOptions.level||this._clientRoleOptions.delay)&&(WC.debug(\"[\".concat(this.store.clientId,\"] patch to send set client role, role: \").concat(this.role,\", mode: \").concat(this.spec.mode,\", level: \").concat(this._clientRoleOptions.level,\", delay: \").concat(this._clientRoleOptions.delay)),this.setClientRole(this.role,this._clientRoleOptions)),iv.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:this.signal instanceof AD?\"1\":\"0\"}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&1===this.joinInfo.setLocalAPVersion)){const e=this.signal.url&&this.signal.url.match(/wss\\:\\/\\/([^:]+):(\\d+)/);if(!e)return void WC.error(\"[\".concat(this.store.clientId,\"] set local access point after joined failed: \").concat(e));LC(\"EVENT_REPORT_DOMAIN\",e[1]),LC(\"EVENT_REPORT_BACKUP_DOMAIN\",e[1]),LC(\"LOG_UPLOAD_SERVER\",\"\".concat(e[1],\":6444\"))}})),this.signal.on(Sv.ON_UPLINK_STATS,(e=>{this._statsCollector.updateUplinkStats(e)})),this.signal.on(mv.REQUEST_RECOVER,((e,t,i)=>{if(!this.joinInfo)return i(new Mv(xg.UNEXPECTED_ERROR,\"gateway: can not recover, no join info\"));e&&(this.joinInfo.multiIP=e,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,fS(this,Zv.REQUEST_NEW_GATEWAY_LIST).then(t).catch(i)})),this.signal.on(mv.REQUEST_JOIN_INFO,(async e=>{var t;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void e(this.getJoinMessage({ortc:{}}));const{iceParameters:i,dtlsParameters:n,rtpCapabilities:r}=await fS(this,Zv.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:null===(t=this.joinInfo)||void 0===t?void 0:t.turnServer});e(this.getJoinMessage({ortc:{iceParameters:i,dtlsParameters:n,rtpCapabilities:r,version:\"2\"}}))})),this.signal.on(mv.REQUEST_REJOIN_INFO,(e=>{e(this.getRejoinMessage())})),this.signal.on(mv.REPORT_JOIN_GATEWAY,((e,t)=>{this.joinInfo&&(iv.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:e,addr:t,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:this.signal instanceof AD?\"1\":\"0\"}),this._isProactiveJoin=!1)})),this.signal.on(mv.IS_P2P_DISCONNECTED,(e=>{e(TS(this,Zv.IS_P2P_DISCONNECTED))})),this.signal.on(mv.DISCONNECT_P2P,(()=>{this.emit(Zv.DISCONNECT_P2P)})),this.signal.on(mv.NEED_RENEW_SESSION,(()=>{this.emit(Zv.NEED_RENEW_SESSION)})),this.signal.on(mv.REQUEST_SUCCESS,(()=>{this._signalTimeout=!1})),this.signal.on(mv.REQUEST_TIMEOUT,(()=>{this._signalTimeout=!0})),this.signal.on(mv.JOIN_RESPONSE,(e=>{const t=this.getCurrentGatewayAddress();this.emit(Zv.JOIN_RESPONSE,e,t)})),this.signal.on(mv.DATACHANNEL_PRECONNECT,(async(e,t,i)=>{this.updateTurnConfigFromSignal();const n=this.getCurrentGatewayAddress();return fS(this,Zv.DATACHANNEL_PRECONNECT,e,n).then(t).catch(i)})),this.signal.on(mv.DATACHANNEL_CONNECTING,(async e=>{const{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}=await fS(this,Zv.REQUEST_DC_CONNECTION_PARAMS);e(this.getJoinMessage({ortc:{iceParameters:t,dtlsParameters:i,rtpCapabilities:n,version:\"2\"}}))})),this.signal.on(mv.DATACHANNEL_FAILBACK,(()=>{WC.warning(\"[\".concat(this.store.clientId,\"] User join datachannel failed\")),this.reset(),this.resetSignal(),this.emit(Zv.DATACHANNEL_FAILBACK)}))}async tryUnsubBeforeResub(e,t){try{await this.signal.request(fv.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:e,ortc:[t]},!0)}catch(e){throw WC.warning(\"[\".concat(this.store.clientId,\"] tryUnsubBeforeResub warning\"),e),e}}async tryUnsubDataChannelBeforeResub(e,t){try{await this.signal.request(fv.UNSUBSCRIBE,{stream_id:t.id},!0)}catch(e){throw WC.warning(\"unsubscribe datachannel warning\",e),e}}async tryUnpubBeforeRepub(e,t){try{await this.signal.request(fv.UNPUBLISH,{stream_id:e,ortc:t},!0)}catch(e){throw WC.warning(\"[\".concat(this.store.clientId,\"] tryUnpubBeforeRepub warning: \"),e),e}}async tryUnpubDataChannelBeforeRepub(e,t){try{await this.signal.request(fv.UNPUBLISH_DATASTREAM,{channnel_id:t.channelId},!0)}catch(e){throw WC.warning(\"unpublish datastream warning: \",e),e}}async tryMassUnsubBeforeResub(e){const t={users:e.map((e=>({stream_id:e.stream_id,stream_type:e.stream_type})))};try{await this.signal.request(fv.UNSUBSCRIBE_STREAMS,t,!0)}catch(e){throw WC.warning(\"[\".concat(this.store.clientId,\"] tryMassUnsubBeforeResub warning\"),e),e}}async muteLocal(e,t){const i={action:e.find((e=>e.stream_type===Qv.Audio))?\"mute_local_audio\":\"mute_local_video\",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(fv.CONTROL,i,!0,!0)}catch(e){throw WC.warning(\"[\".concat(this.store.clientId,\"] gateway muteLocal warning: \"),e),e}}async unmuteLocal(e,t){const i={action:e.find((e=>e.stream_type===Qv.Audio))?\"unmute_local_audio\":\"unmute_local_video\",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(fv.CONTROL,i,!0,!0)}catch(e){throw WC.warning(\"[\".concat(this.store.clientId,\"] gateway unmuteLocal warning: \"),e),e}}async muteRemote(e,t){const i={action:e===dI.AUDIO?\"mute_remote_audio\":\"mute_remote_video\",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(fv.CONTROL,i,!0,!0)}catch(e){throw WC.warning(\"[\".concat(this.store.clientId,\"] gateway muteRemote warning: \"),e),e}}async unmuteRemote(e,t){const i={action:e===dI.AUDIO?\"unmute_remote_audio\":\"unmute_remote_video\",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(fv.CONTROL,i,!0,!0)}catch(e){throw WC.warning(\"[\".concat(this.store.clientId,\"] gateway unmuteRemote warning: \"),e),e}}uploadStats(e,t){this.signal.upload(e,t)}getSignalRTT(){return this.signal.rtt}async restartICE(e){const t={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:e};try{return await this.signal.request(fv.RESTART_ICE,t,!0)}catch(e){throw WC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.restartICE warning: \"),e),e}}reconnect(){\"CONNECTED\"===this.state&&this.signal.reconnect(void 0,lS.P2P_FAILED)}getCurrentGatewayAddress(){var e;if(!kC(\"GATEWAY_WSS_ADDRESS\"))return null!==(e=this.joinInfo)&&void 0!==e&&e.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(e){await this.signal.request(fv.SET_PARAMETER,{enablePublishAudioFilter:e})}resetSignal(){this.signal&&(this.signal.removeAllListeners(),this.signal.close(cS.FALLBACK)),this.store.useDataChannel=!1,this.signal=new zI(ND(ND({},this.spec),{},{retryConfig:this.spec.websocketRetryConfig}),this.store),this.handleSignalEvents(),this.emit(Zv.RESET_SIGNAL,tI.websocket)}}let LD=0,kD=0;function MD(e,t,i,n){return new tg(((r,s)=>{t.timeout=t.timeout||kC(\"HTTP_CONNECT_TIMEOUT\"),t.responseType=t.responseType||\"json\",t.data&&!i?(t.data=JSON.stringify(t.data),LD+=LS(t.data)):i&&(t.data.size?LD+=t.data.size:t.data instanceof FormData?LD+=kS(t.data):LD+=LS(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers[\"Content-Type\"]=t.headers[\"Content-Type\"]||\"application/json\",t.method=\"POST\",t.url=e,EC.request(t).then((e=>{\"string\"==typeof e.data?kD+=LS(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?kD+=e.data.byteLength:kD+=LS(JSON.stringify(e.data)),n&&r({data:e.data,headers:e.headers}),r(e.data)})).catch((e=>{EC.isCancel(e)?s(new Mv(xg.OPERATION_ABORTED,\"cancel token canceled\")):\"ECONNABORTED\"===e.code?s(new Mv(xg.NETWORK_TIMEOUT,e.message)):e.response?s(new Mv(xg.NETWORK_RESPONSE_ERROR,e.response.status)):s(new Mv(xg.NETWORK_ERROR,e.message))}))}))}\n/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */!function(){var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var i=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){return e==Array.prototype||e==Object.prototype||(e[t]=i.value),e};var n,r=function(e){e=[\"object\"==typeof globalThis&&globalThis,e,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof q&&q];for(var t=0;t<e.length;++t){var i=e[t];if(i&&i.Math==Math)return i}throw Error(\"Cannot find global object\")}(this);function s(e,t){if(t)e:{var n=r;e=e.split(\".\");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in n))break e;n=n[o]}(t=t(s=n[e=e[e.length-1]]))!=s&&null!=t&&i(n,e,{configurable:!0,writable:!0,value:t})}}function o(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function a(e){var i=\"undefined\"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return i?i.call(e):{next:t(e)}}if(s(\"Symbol\",(function(e){function t(e,t){this.A=e,i(this,\"description\",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.A};var n=\"jscomp_symbol_\"+(1e9*Math.random()>>>0)+\"_\",r=0;return function e(i){if(this instanceof e)throw new TypeError(\"Symbol is not a constructor\");return new t(n+(i||\"\")+\"_\"+r++,i)}})),s(\"Symbol.iterator\",(function(e){if(e)return e;e=Symbol(\"Symbol.iterator\");for(var n=\"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"),s=0;s<n.length;s++){var a=r[n[s]];\"function\"==typeof a&&\"function\"!=typeof a.prototype[e]&&i(a.prototype,e,{configurable:!0,writable:!0,value:function(){return o(t(this))}})}return e})),\"function\"==typeof Object.setPrototypeOf)n=Object.setPrototypeOf;else{var c;e:{var d={};try{d.__proto__={a:!0},c=d.a;break e}catch(e){}c=!1}n=c?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+\" is not extensible\");return e}:null}var l=n;function h(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function u(e){if(e.m)throw new TypeError(\"Generator is already running\");e.m=!0}function p(e,t){return e.h=3,{value:t}}function _(e){this.g=new h,this.G=e}function E(e,t,i,n){try{var r=t.call(e.g.j,i);if(!(r instanceof Object))throw new TypeError(\"Iterator result \"+r+\" is not an object\");if(!r.done)return e.g.m=!1,r;var s=r.value}catch(t){return e.g.j=null,e.g.s(t),m(e)}return e.g.j=null,n.call(e.g,s),m(e)}function m(e){for(;e.g.h;)try{var t=e.G(e.g);if(t)return e.g.m=!1,{value:t.value,done:!1}}catch(t){e.g.v=void 0,e.g.s(t)}if(e.g.m=!1,e.g.l){if(t=e.g.l,e.g.l=null,t.F)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function f(e){this.next=function(t){return e.o(t)},this.throw=function(t){return e.s(t)},this.return=function(t){return function(e,t){u(e.g);var i=e.g.j;return i?E(e,\"return\"in i?i.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),m(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function g(e,t){return t=new f(new _(t)),l&&e.prototype&&l(t,e.prototype),t}if(h.prototype.o=function(e){this.v=e},h.prototype.s=function(e){this.l={D:e,F:!0},this.h=this.C||this.u},h.prototype.return=function(e){this.l={return:e},this.h=this.u},_.prototype.o=function(e){return u(this.g),this.g.j?E(this,this.g.j.next,e,this.g.o):(this.g.o(e),m(this))},_.prototype.s=function(e){return u(this.g),this.g.j?E(this,this.g.j.throw,e,this.g.o):(this.g.s(e),m(this))},s(\"Array.prototype.entries\",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+=\"\");var i=0,n=!1,r={next:function(){if(!n&&i<e.length){var r=i++;return{value:t(r,e[r]),done:!1}}return n=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e,t){return[e,t]}))}})),\"undefined\"!=typeof Blob&&(\"undefined\"==typeof FormData||!FormData.prototype.keys)){var S=function(e,t){for(var i=0;i<e.length;i++)t(e[i])},T=function(e){return e.replace(/\\r?\\n|\\r/g,\"\\r\\n\")},R=function(e,t,i){return t instanceof Blob?(i=void 0!==i?String(i+\"\"):\"string\"==typeof t.name?t.name:\"blob\",t.name===i&&\"[object Blob]\"!==Object.prototype.toString.call(t)||(t=new File([t],i)),[String(e),t]):[String(e),String(t)]},C=function(e,t){if(e.length<t)throw new TypeError(t+\" argument required, but only \"+e.length+\" present.\")},v=\"object\"==typeof globalThis?globalThis:\"object\"==typeof window?window:\"object\"==typeof self?self:this,I=v.FormData,y=v.XMLHttpRequest&&v.XMLHttpRequest.prototype.send,A=v.Request&&v.fetch,b=v.navigator&&v.navigator.sendBeacon,w=v.Element&&v.Element.prototype,O=v.Symbol&&Symbol.toStringTag;O&&(Blob.prototype[O]||(Blob.prototype[O]=\"Blob\"),\"File\"in v&&!File.prototype[O]&&(File.prototype[O]=\"File\"));try{new File([],\"\")}catch(e){v.File=function(e,t,i){return e=new Blob(e,i||{}),Object.defineProperties(e,{name:{value:t},lastModified:{value:+(i&&void 0!==i.lastModified?new Date(i.lastModified):new Date)},toString:{value:function(){return\"[object File]\"}}}),O&&Object.defineProperty(e,O,{value:\"File\"}),e}}var N=function(e){return e.replace(/\\n/g,\"%0A\").replace(/\\r/g,\"%0D\").replace(/\"/g,\"%22\")},D=function(e){this.i=[];var t=this;e&&S(e.elements,(function(e){if(e.name&&!e.disabled&&\"submit\"!==e.type&&\"button\"!==e.type&&!e.matches(\"form fieldset[disabled] *\"))if(\"file\"===e.type){var i=e.files&&e.files.length?e.files:[new File([],\"\",{type:\"application/octet-stream\"})];S(i,(function(i){t.append(e.name,i)}))}else\"select-multiple\"===e.type||\"select-one\"===e.type?S(e.options,(function(i){!i.disabled&&i.selected&&t.append(e.name,i.value)})):\"checkbox\"===e.type||\"radio\"===e.type?e.checked&&t.append(e.name,e.value):(i=\"textarea\"===e.type?T(e.value):e.value,t.append(e.name,i))}))};if((e=D.prototype).append=function(e,t,i){C(arguments,2),this.i.push(R(e,t,i))},e.delete=function(e){C(arguments,1);var t=[];e=String(e),S(this.i,(function(i){i[0]!==e&&t.push(i)})),this.i=t},e.entries=function e(){var t,i=this;return g(e,(function(e){if(1==e.h&&(t=0),3!=e.h)return t<i.i.length?e=p(e,i.i[t]):(e.h=0,e=void 0),e;t++,e.h=2}))},e.forEach=function(e,t){C(arguments,1);for(var i=a(this),n=i.next();!n.done;n=i.next()){var r=a(n.value);n=r.next().value,r=r.next().value,e.call(t,r,n,this)}},e.get=function(e){C(arguments,1);var t=this.i;e=String(e);for(var i=0;i<t.length;i++)if(t[i][0]===e)return t[i][1];return null},e.getAll=function(e){C(arguments,1);var t=[];return e=String(e),S(this.i,(function(i){i[0]===e&&t.push(i[1])})),t},e.has=function(e){C(arguments,1),e=String(e);for(var t=0;t<this.i.length;t++)if(this.i[t][0]===e)return!0;return!1},e.keys=function e(){var t,i,n,r,s=this;return g(e,(function(e){if(1==e.h&&(t=a(s),i=t.next()),3!=e.h)return i.done?void(e.h=0):(n=i.value,r=a(n),p(e,r.next().value));i=t.next(),e.h=2}))},e.set=function(e,t,i){C(arguments,2),e=String(e);var n=[],r=R(e,t,i),s=!0;S(this.i,(function(t){t[0]===e?s&&(s=!n.push(r)):n.push(t)})),s&&n.push(r),this.i=n},e.values=function e(){var t,i,n,r,s=this;return g(e,(function(e){if(1==e.h&&(t=a(s),i=t.next()),3!=e.h)return i.done?void(e.h=0):(n=i.value,(r=a(n)).next(),p(e,r.next().value));i=t.next(),e.h=2}))},D.prototype._asNative=function(){for(var e=new I,t=a(this),i=t.next();!i.done;i=t.next()){var n=a(i.value);i=n.next().value,n=n.next().value,e.append(i,n)}return e},D.prototype._blob=function(){var e=\"----formdata-polyfill-\"+Math.random(),t=[],i=\"--\"+e+'\\r\\nContent-Disposition: form-data; name=\"';return this.forEach((function(e,n){return\"string\"==typeof e?t.push(i+N(T(n))+'\"\\r\\n\\r\\n'+T(e)+\"\\r\\n\"):t.push(i+N(T(n))+'\"; filename=\"'+N(e.name)+'\"\\r\\nContent-Type: '+(e.type||\"application/octet-stream\")+\"\\r\\n\\r\\n\",e,\"\\r\\n\")})),t.push(\"--\"+e+\"--\"),new Blob(t,{type:\"multipart/form-data; boundary=\"+e})},D.prototype[Symbol.iterator]=function(){return this.entries()},D.prototype.toString=function(){return\"[object FormData]\"},w&&!w.matches&&(w.matches=w.matchesSelector||w.mozMatchesSelector||w.msMatchesSelector||w.oMatchesSelector||w.webkitMatchesSelector||function(e){for(var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--t&&e.item(t)!==this;);return-1<t}),O&&(D.prototype[O]=\"FormData\"),y){var P=v.XMLHttpRequest.prototype.setRequestHeader;v.XMLHttpRequest.prototype.setRequestHeader=function(e,t){P.call(this,e,t),\"content-type\"===e.toLowerCase()&&(this.B=!0)},v.XMLHttpRequest.prototype.send=function(e){e instanceof D?(e=e._blob(),this.B||this.setRequestHeader(\"Content-Type\",e.type),y.call(this,e)):y.call(this,e)}}A&&(v.fetch=function(e,t){return t&&t.body&&t.body instanceof D&&(t.body=t.body._blob()),A.call(this,e,t)}),b&&(v.navigator.sendBeacon=function(e,t){return t instanceof D&&(t=t._asNative()),b.call(this,e,t)}),v.FormData=D}}();const UD=()=>{const e=kC(\"AREAS\");0===e.length&&e.push(iI.GLOBAL);return cT(e).call(e,((e,t,i)=>{const n=xD(t);return n?0===i?n:\"\".concat(e,\",\").concat(n):e}),\"\")},xD=e=>e===iI.OVERSEA?\"\".concat(sI.ASIA,\",\").concat(sI.EUROPE,\",\").concat(sI.AFRICA,\",\").concat(sI.NORTH_AMERICA,\",\").concat(sI.SOUTH_AMERICA,\",\").concat(sI.OCEANIA):sI[e],VD=e=>{const t={CODE:\"\",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e.map((e=>{const i=oI[e],n=Object.keys(i);n&&n.map((e=>{\"CODE\"!==e&&(t[e]=t[e].concat(i[e]))}))})),t},FD={GLOBAL:{ASIA:[iI.CHINA,iI.JAPAN,iI.INDIA,iI.KOREA,iI.HKMC],EUROPE:[],NORTH_AMERICA:[iI.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},BD=Object.keys(FD[iI.GLOBAL]),jD=[iI.CHINA,iI.NORTH_AMERICA,iI.EUROPE,iI.ASIA,iI.JAPAN,iI.INDIA,iI.OCEANIA,iI.SOUTH_AMERICA,iI.AFRICA,iI.KOREA,iI.HKMC,iI.US],GD=function(e,t){let i=[];if(Pr(e).call(e,iI.GLOBAL)){const s=[iI.GLOBAL,iI.OVERSEA],o=Object.keys(oI);if(t===iI.GLOBAL)throw new Mv(xg.INVALID_PARAMS,\"GLOBAL is an invalid excludedArea value\");if(t===iI.CHINA)i=[iI.OVERSEA];else if(r=t,Pr(BD).call(BD,r)){const e=(n=t,FD[iI.GLOBAL][n]||[]),r=[...s,t,...e];i=o.filter((e=>!Pr(r).call(r,e)))}else if(function(e){let t=!1;return BD.forEach((i=>{var n;Pr(n=FD[iI.GLOBAL][i]).call(n,e)&&(t=!0)})),t}(t)){const e=function(e){let t;return BD.forEach((i=>{var n;Pr(n=FD[iI.GLOBAL][i]).call(n,e)&&(t=i)})),t}(t),n=[...s,e,t];i=o.filter((e=>!Pr(n).call(n,e)))}else i=e;i=function(e){const t=[];return jD.forEach((i=>{Pr(e).call(e,i)&&t.push(i)})),t.concat(e.filter((e=>!Pr(jD).call(jD,e))))}(i)}else i=e;var n,r;return i};function WD(e){var t,i;if(!e&&Pr(t=kC(\"AREAS\")).call(t,iI.EXTENSIONS))return WC.debug(\"update area from ap : reset\"),void HD(nv,!0);if(!Pr(i=kC(\"AREAS\")).call(i,iI.GLOBAL)||!e)return;let n=oI.EXTENSIONS;n&&(n={CODE:xD(iI.EXTENSIONS),WEBCS_DOMAIN:[\"ap-web-1-\".concat(e,\".agora.io\")],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],PROXY_CS:[\"proxy-ap-web-\".concat(e,\".agora.io\")],CDS_AP:[\"cds-ap-web-1-\".concat(e,\".agora.io\"),\"cds-ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],ACCOUNT_REGISTER:[\"sua-ap-web-1-\".concat(e,\".agora.io\"),\"sua-ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],UAP_AP:[\"uap-ap-web-1-\".concat(e,\".agora.io\"),\"uap-ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],EVENT_REPORT_DOMAIN:[\"statscollector-1-\".concat(e,\".agora.io\")],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-\".concat(e,\".agora.io\")],LOG_UPLOAD_SERVER:[\"logservice-\".concat(e,\".agora.io\")],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy-\".concat(e,\".agora.io\")]},WC.debug(\"update area from ap success: \".concat(e,\",config is \"),n),LC(\"AREAS\",[iI.EXTENSIONS],!0),Object.keys(n).map((e=>{if(\"LOG_UPLOAD_SERVER\"===e||\"EVENT_REPORT_DOMAIN\"===e||\"EVENT_REPORT_BACKUP_DOMAIN\"===e||\"PROXY_SERVER_TYPE3\"===e){LC(e,n[e][0])}else LC(e,n[e])})))}function HD(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=iv.reportApiInvoke(null,{name:sS.SET_AREA,options:e,tag:oS.TRACER});try{let n=[];if(\"string\"==typeof e&&(n=[e]),Array.isArray(e)&&(e.forEach((e=>{if(!Pr(rI).call(rI,e))throw new Mv(xg.INVALID_PARAMS,\"invalid area code\")})),n=e),\"[object Object]\"===Object.prototype.toString.call(e)){const{areaCode:t,excludedArea:i}=e;if(!t)throw new Mv(xg.INVALID_PARAMS,\"area code is needed\");let r=t;\"string\"==typeof t&&(r=[t]),n=i?GD(r,i):r}if(!t){if(MC.AREAS){const e=new Mv(xg.PROHIBITED_OPERATION,\"setArea is prohibited because of config-distribute\");return i.onError(e),void WC.warning(\"setArea is prohibited because of config-distribute\")}if(Pr(n).call(n,iI.GLOBAL)&&kC(\"AREAS\")===iI.EXTENSIONS){const e=new Mv(xg.PROHIBITED_OPERATION,\"setArea is prohibited because of ap extensions\");return i.onError(e),void WC.warning(\"setArea is prohibited because of ap extensions\")}}LC(\"AREAS\",n,t);const r=VD(n);Object.keys(r).map((e=>{if(\"LOG_UPLOAD_SERVER\"===e||\"EVENT_REPORT_DOMAIN\"===e||\"EVENT_REPORT_BACKUP_DOMAIN\"===e||\"PROXY_SERVER_TYPE3\"===e){LC(e,r[e][0])}else LC(e,r[e])})),WC.debug(\"set area success:\",n.join(\",\"))}catch(e){throw i.onError(e),e}i.onSuccess()}function KD(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function YD(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?KD(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):KD(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let qD=1;function JD(e,t,i,n,r){qD+=1;const s={sid:i.sid,command:\"convergeAllocateEdge\",uid:\"666\",appId:i.appId,ts:Math.floor(Date.now()/1e3),seq:qD,requestId:qD,version:OC,cname:i.cname},o={service_name:t,json_body:JSON.stringify(s)};let a,c,d=e[0];return XS((async()=>{a=Date.now();const e=await MD(d,{data:o,cancelToken:n,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"}});if(c=Date.now()-a,0!==e.code){const t=new Mv(xg.UNEXPECTED_RESPONSE,\"live streaming ap error, code\"+e.code,{retry:!0,responseTime:c});throw WC.error(t.toString()),t}const i=JSON.parse(e.json_body);if(200!==i.code){const e=new Mv(xg.UNEXPECTED_RESPONSE,\"live streaming app center error, code: \".concat(i.code,\", reason: \").concat(i.reason),{code:i.code,responseTime:c});throw WC.error(e.toString()),e}if(!i.servers||0===i.servers.length){const e=new Mv(xg.UNEXPECTED_RESPONSE,\"live streaming app center empty server\",{code:i.code,responseTime:c});throw WC.error(e.toString()),e}const r=function(e,t){return{addressList:e.servers.map((e=>\"wss://\".concat(e.address.replace(/\\./g,\"-\"),\".\").concat(kC(\"WORKER_DOMAIN\"),\":\").concat(e.wss,\"?serviceName=\").concat(encodeURIComponent(t)))),workerToken:e.workerToken,vid:e.vid}}(i,t);return kC(\"LIVE_STREAMING_ADDRESS\")&&(r.addressList=kC(\"LIVE_STREAMING_ADDRESS\")instanceof Array?kC(\"LIVE_STREAMING_ADDRESS\"):[kC(\"LIVE_STREAMING_ADDRESS\")]),YD(YD({},r),{},{responseTime:c})}),((n,r)=>(iv.apworkerEvent(i.sid,{success:!0,sc:200,serviceName:t,responseDetail:JSON.stringify(n.addressList),firstSuccess:0===r,responseTime:c,serverIp:e[r%e.length]}),!1)),((n,r)=>(iv.apworkerEvent(i.sid,{success:!1,sc:n.data&&n.data.code||200,serviceName:t,responseTime:c,serverIp:e[r%e.length]}),!!(n.code!==xg.OPERATION_ABORTED&&n.code!==xg.UNEXPECTED_RESPONSE||n.data&&n.data.retry)&&(d=e[(r+1)%e.length],!0))),r)}let zD=1;function XD(e,t,i,n){let{url:r,areaCode:s}=e;const o=Date.now();let a;const[c,d]=tP(t,s,[dy.CHOOSE_SERVER]);let l=RS.networkState;return XS((async()=>{l&&RS.networkState===hS.OFFLINE&&RS.onlineWaiter&&await tg.race([RS.onlineWaiter,US(n&&n.maxRetryTimeout||JS.maxRetryTimeout)]),l=RS.networkState;const{data:e,headers:s}=await MD(r,{data:c,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);a=\"1\"===s.http3?1:-1,iv.reportResourceTiming(r,t.sid),ZD(e,r,t,o,[dy.CHOOSE_SERVER],a);const d=fD(e,dy.CHOOSE_SERVER);return $D(d),uD(d,r)}),(e=>(e&&iv.joinChooseServer(t.sid,{lts:o,succ:!0,csAddr:r,opid:d,serverList:e.gatewayAddrs.map((e=>e.address)),ec:null,cid:e.cid.toString(),uid:e.uid.toString(),csIp:e.csIp,unilbsServerIds:[dy.CHOOSE_SERVER].toString(),isHttp3:a}),!1)),(e=>e.code!==xg.OPERATION_ABORTED&&(e.code===xg.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(iv.joinChooseServer(t.sid,{lts:o,succ:!1,csAddr:r,serverList:null,opid:d,ec:e.code,csIp:e.data&&e.data.csIp,unilbsServerIds:[dy.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:l}),isHttp3:a}),WC.warning(\"[\".concat(t.clientId,\"] Choose server network error, retry\"),e),!0))),n)}function QD(e,t,i,n){let r,{url:s,areaCode:o,serviceIds:a}=e;const c=Date.now(),[d,l]=tP(t,o,a);let h;return XS((async()=>{h&&RS.networkState===hS.OFFLINE&&RS.onlineWaiter&&await tg.race([RS.onlineWaiter,US(n&&n.maxRetryTimeout||JS.maxRetryTimeout)]),h=RS.networkState;const{data:e,headers:o}=await MD(s,{data:d,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);r=\"1\"===o.http3?1:-1,iv.reportResourceTiming(s,t.sid),ZD(e,s,t,c,a,r);const l=fD(e,dy.CHOOSE_SERVER),u=fD(e,\"proxy5\"===t.cloudProxyServer?dy.CLOUD_PROXY_5:\"proxy3\"===t.cloudProxyServer||\"proxy4\"===t.cloudProxyServer?dy.CLOUD_PROXY:dy.CLOUD_PROXY_FALLBACK);return $D(l),{gatewayInfo:uD(l,s),proxyInfo:u,url:s}}),(e=>(e.gatewayInfo&&iv.joinChooseServer(t.sid,{lts:c,succ:!0,csAddr:s,serverList:e.gatewayInfo.gatewayAddrs.map((e=>e.address)),ec:null,opid:l,cid:e.gatewayInfo.cid.toString(),uid:e.gatewayInfo.uid.toString(),csIp:e.gatewayInfo.csIp,unilbsServerIds:a.toString(),isHttp3:r}),e.proxyInfo&&iv.joinWebProxyAP(t.sid,{lts:c,sucess:1,apServerAddr:s,turnServerAddrList:e.proxyInfo.addresses.map((e=>e.ip)).join(\",\"),errorCode:null,eventType:t.cloudProxyServer,unilbsServerIds:a.toString()}),!1)),(e=>e.code!==xg.OPERATION_ABORTED&&(e.code===xg.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(iv.joinWebProxyAP(t.sid,{lts:c,sucess:0,apServerAddr:s,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer,unilbsServerIds:a.toString(),extend:JSON.stringify({networkState:h})}),WC.warning(\"[\".concat(t.clientId,\"] multi unilbs network error, retry\"),e),!0))),n)}const ZD=(e,t,i,n,r,s)=>{const o=[],a=o=>{4096===o.flag?iv.joinChooseServer(i.sid,{lts:n,succ:!1,csAddr:t,opid:e.opid,serverList:null,ec:o.error.message,csIp:o.error.data&&o.error.data.csIp,unilbsServerIds:r.toString(),isHttp3:s}):1048576!==o.flag&&4194304!==o.flag&&4194310!==o.flag||iv.joinWebProxyAP(i.sid,{lts:n,sucess:0,apServerAddr:t,turnServerAddrList:null,errorCode:o.error.code,eventType:i.cloudProxyServer,unilbsServerIds:r.toString()})};if(e.response_body.forEach((t=>{const i=t.buffer.code;if(23===t.uri&&0===i&&!t.buffer.edges_services)if(4194310===t.buffer.flag)WC.warning(\"no edge services in ap response of proxy fallback, will not set proxy in iceServers\"),t.buffer.edges_services=[];else{const i={error:new Mv(xg.CAN_NOT_GET_GATEWAY_SERVER,\"no edge services in ap response\",{retry:!0,csIp:e.detail[502]}),flag:t.buffer.flag};o.push(i),a(i)}if(0!==i){const n=PI(i),r={error:new Mv(xg.CAN_NOT_GET_GATEWAY_SERVER,n.desc,{desc:n.desc,retry:n.retry,csIp:e.detail[502]}),flag:t.buffer.flag};4194310===t.buffer.flag?WC.warning(r.error.toString()):o.push(r),a(r)}})),o.length)throw WC.warning(\"[\".concat(i.clientId,\"] multi unilbs \").concat(t,\" failed, \").concat(o.map((e=>\"flag: \".concat(e.flag,\", message: \").concat(e.error.message,\", retry: \").concat(e.error.data.retry))).join(\" | \"))),new Mv(xg.CAN_NOT_GET_GATEWAY_SERVER,o.map((e=>\"flag: \".concat(e.flag,\", message: \").concat(e.error.message))).join(\" | \"),{retry:!!o.find((e=>e.error.data.retry)),csIp:e.detail[502],desc:[...new Set(o.map((e=>{var t;return null==e||null===(t=e.error)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.desc})).filter((e=>!!e)))]})},$D=e=>{var t,i,n,r;if(e.addresses&&0===e.addresses.length&&0===e.code)throw new Mv(xg.CAN_NOT_GET_GATEWAY_SERVER,\"void gateway address\",{retry:!0,csIp:e.detail&&e.detail[502]});kC(\"AP_AREA\")&&(null!==(n=e.detail)&&void 0!==n&&n[23]&&\"string\"==typeof(null===(r=e.detail)||void 0===r?void 0:r[23])?WD(e.detail[23].toLowerCase()):WD());if(null!==(t=e.detail)&&void 0!==t&&t[19]&&\"string\"==typeof(null===(i=e.detail)||void 0===i?void 0:i[19])){const t=e.detail[19],i=null==t?void 0:t.split(\";\");for(let t=0;t<i.length;t++){var s;const n=Ey(s=i[t]).call(s);e.addresses[t]&&i&&(e.addresses[t].fingerprint=n)}}if(kC(\"GATEWAY_ADDRESS\")&&kC(\"GATEWAY_ADDRESS\").length>0){WC.debug(\"assign gateway address to\",kC(\"GATEWAY_ADDRESS\"));const t=kC(\"GATEWAY_ADDRESS\").map((t=>{var i,n;const r=null!==(i=null===(n=e.addresses.find((e=>e.ip===t.ip&&e.port===t.port)))||void 0===n?void 0:n.fingerprint)&&void 0!==i?i:\"\";return{ip:t.ip,port:t.port,ticket:e.addresses[0]&&e.addresses[0].ticket,fingerprint:r}}));e.addresses=t}},eP=(e,t)=>{if(e.response_body&&e.response_body.length){const t=e.response_body[0];if(0!==t.buffer.code){const e=PI(t.buffer.code);throw new Mv(xg.UPDATE_TICKET_FAILED,\"[\".concat(t.buffer.code,\"]: \").concat(e.desc),{retry:e.retry})}return t.buffer.ticket}throw WC.debug(\"update ticket request received ap response without response body:\",t),new Mv(xg.UPDATE_TICKET_FAILED,\"cannot find response body from ap response\",{retry:!1})},tP=(e,t,i)=>{const n=Math.floor(Math.random()*10**12),r={appid:e.appId,client_ts:Date.now(),opid:n,sid:e.sid,request_bodies:[{uri:22,buffer:{cname:e.cname,detail:YD({6:e.stringUid,11:t,12:kC(\"USE_NEW_TOKEN\")?\"1\":void 0,22:t},kC(\"AP_RTM\")?{26:\"RTM2\"}:{}),key:e.token,service_ids:i,uid:e.uid||0}}]};r.request_bodies.forEach((t=>{e.multiIP&&e.multiIP.gateway_ip&&(t.buffer.detail[5]=JSON.stringify({vocs_ip:[e.multiIP.uni_lbs_ip],vos_ip:[e.multiIP.gateway_ip]}))}));const s=new FormData;return s.append(\"request\",JSON.stringify(r)),[s,n]},iP=(e,t)=>{const i=Math.floor(Math.random()*10**12),n={appid:e.appId,client_ts:Date.now(),opid:i,sid:e.sid,request_bodies:[{uri:28,buffer:{cname:e.cname,detail:{1:\"\",6:e.stringUid,12:\"1\"},token:e.token,service_ids:t,uid:e.uid||0,edges_services:e.apResponse.addresses.map((e=>({ip:e.ip,port:e.port})))}}]},r=new FormData;return r.append(\"request\",JSON.stringify(n)),[r,i]};let nP=0;function rP(e){return tg.all(e.map((e=>e.then((e=>{throw e}),(e=>e))))).then((e=>{throw e}),(e=>e))}const sP=async e=>{let{fragementLength:t,referenceList:i,asyncMapHandler:n,allFailedhandler:r,promisesCollector:s}=e,o=0;const a=t;let c,d=0;const l=async()=>{const e=(()=>{const e=o*a,t=e+a;return i.slice(e,t).map(n)})();s&&s.push(...e);try{c=await rP(e)}catch(e){if(d+=a,o++,!(d>=i.length))return void await l();r(e)}e.forEach((e=>e.cancel()))};return await l(),c};async function oP(e,t,i,n){const r=async function(e,t,i,n){let r=null;const s=[],o=async()=>{const r=kC(\"WEBCS_DOMAIN\").slice(0,kC(\"AJAX_REQUEST_CONCURRENT\")).map((t=>({url:e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),areaCode:UD()}))),o=n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:r.map((e=>e.url))}),a=await sP({fragementLength:kC(\"FRAGEMENT_LENGTH\"),referenceList:r,asyncMapHandler:n=>(WC.debug(\"[\".concat(e.clientId,\"] Connect to choose_server:\"),n.url),XD(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},o),e[0]},promisesCollector:s});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},o),a},a=async()=>{if(await US(1e3),null!==r)return r;const o=kC(\"WEBCS_DOMAIN_BACKUP_LIST\").map((t=>({url:e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),areaCode:UD()}))),a=n.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:o.map((e=>e.url))}),c=await sP({fragementLength:kC(\"FRAGEMENT_LENGTH\"),referenceList:o,asyncMapHandler:n=>(WC.debug(\"[\".concat(e.clientId,\"] Connect to backup choose_server:\"),n.url),XD(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},a),e[0]},promisesCollector:s});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},a),c};try{return r=await rP([o(),a()]),s.length&&s.forEach((e=>e.cancel&&\"function\"==typeof e.cancel&&e.cancel())),r}catch(e){throw e[0]}}(e,t,i,n);return{gatewayInfo:await r}}async function aP(e,t,i,n,r){const s=e.cloudProxyServer;if(\"disabled\"===s){if(!n)return;if(e.useLocalAccessPoint)return await oP(e,t,i,r);if(kC(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\")){const{gatewayInfo:n,proxyInfo:s}=await lP(e,t,i,r);return e.turnServer&&\"auto\"!==e.turnServer.mode||(e.turnServer={mode:\"manual\",servers:s.map((e=>({turnServerURL:e.address,tcpport:e.tcpport||rv.tcpport,udpport:e.udpport||rv.udpport,username:e.username||rv.username,password:e.password||rv.password,forceturn:!1,security:!0})))}),{gatewayInfo:n}}return await oP(e,t,i,r)}const{proxyInfo:o,gatewayInfo:a}=await lP(e,t,i,r),c={gatewayInfo:a};return e.turnServer={mode:\"manual\",servers:o.map((e=>({turnServerURL:e.address,tcpport:\"proxy3\"===s?void 0:e.tcpport?e.tcpport:rv.tcpport,udpport:\"proxy4\"===s?void 0:e.udpport?e.udpport:rv.udpport,username:e.username||rv.username,password:e.password||rv.password,forceturn:\"proxy4\"!==s,security:\"proxy5\"===s})))},WC.debug(\"[\".concat(e.clientId,\"] set proxy server: \").concat(e.proxyServer,\", mode: \").concat(s)),c}async function cP(e,t,i,n,r){const s=kC(\"ACCOUNT_REGISTER\").slice(0,kC(\"AJAX_REQUEST_CONCURRENT\"));let o=[];o=t.proxyServer?s.map((e=>\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(e+\"/api/v1\"))):s.map((e=>\"https://\".concat(e,\"/api/v1\")));const a=null==r?void 0:r.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"stringUID\",urls:o});try{const s=await async function(e,t,i,n,r){const s=Date.now(),o={sid:i.sid,opid:10,appid:i.appId,string_uid:t};let a=e[0];const c=await XS((()=>MD(a+\"\".concat(-1===a.indexOf(\"?\")?\"?\":\"&\",\"action=stringuid\"),{data:o,cancelToken:n,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":72}})),((i,n)=>{if(0===i.code){if(i.uid<=0||i.uid>=Math.pow(2,32))throw WC.error(\"Invalid Uint Uid \".concat(t,\" => \").concat(i.uid),i),iv.reqUserAccount(o.sid,{lts:s,success:!1,serverAddr:a,stringUid:o.string_uid,uid:i.uid,errorCode:xg.INVALID_UINT_UID_FROM_STRING_UID,extend:o}),new Mv(xg.INVALID_UINT_UID_FROM_STRING_UID);return iv.reqUserAccount(o.sid,{lts:s,success:!0,serverAddr:a,stringUid:o.string_uid,uid:i.uid,errorCode:null,extend:o}),!1}const r=PI(i.code);return r.retry&&(a=e[(n+1)%e.length]),iv.reqUserAccount(o.sid,{lts:s,success:!1,serverAddr:a,stringUid:o.string_uid,uid:i.uid,errorCode:r.desc,extend:o}),r.retry}),((t,i)=>t.code!==xg.OPERATION_ABORTED&&(iv.reqUserAccount(o.sid,{lts:s,success:!1,serverAddr:a,stringUid:o.string_uid,uid:null,errorCode:t.code,extend:o}),a=e[(i+1)%e.length],!0)),r);if(0!==c.code){const e=PI(c.code);throw new Mv(xg.UNEXPECTED_RESPONSE,e.desc)}return c}(o,e,t,i,n);return null==r||r.recordJoinChannelService({status:\"success\",endTs:Date.now()},a),s.uid}catch(e){throw null==r||r.recordJoinChannelService({status:\"error\",endTs:Date.now(),errors:[e]},a),e}}async function dP(e,t,i){const n=kC(\"CDS_AP\").slice(0,kC(\"AJAX_REQUEST_CONCURRENT\")).map((t=>e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v1\"):\"https://\".concat(t,\"/api/v1?action=config\"))).map((n=>function(e,t,i,n){const r=pg(),s={flag:64,cipher_method:0,features:{device:r.name,system:r.os,system_general:navigator.userAgent,vendor:t.appId,version:OC,cname:t.cname,sid:t.sid,session_id:t.sid,detail:\"\",proxyServer:t.proxyServer}};return XS((()=>MD(e,{data:s,timeout:1e3,cancelToken:i,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":54}})),void 0,(e=>e.code!==xg.OPERATION_ABORTED),n)}(n,e,t,i)));let r=null,s=null,o={};try{r=await rP(n)}catch(e){if(e.code===xg.OPERATION_ABORTED)throw e;s=e}n.forEach((e=>e.cancel()));if(iv.reportApiInvoke(e.sid,{name:sS.REQUEST_CONFIG_DISTRIBUTE,options:{error:s,res:r}}).onSuccess(),r&&r.test_tags)try{o=function(e){if(!e.test_tags)return{};const t=e.test_tags,i=Object.keys(t),n={};return i.forEach((e=>{var i;const r=Ey(i=e.slice(4)).call(i),s=JSON.parse(t[e])[1];n[r]=s})),n}(r)}catch(e){}return o}async function lP(e,t,i,n){const r=kC(\"PROXY_SERVER_TYPE3\"),s=(e,t,i)=>{let n=i||r;return Array.isArray(n)&&(n=t%2==0?r[1]:r[0]),\"https://\".concat(n,\"/ap/?url=\").concat(e)};let o=null;const a=[],c=async()=>{const r=kC(\"WEBCS_DOMAIN\").slice(0,kC(\"AJAX_REQUEST_CONCURRENT\")).map(((t,i)=>{let n;return n=\"disabled\"===e.cloudProxyServer&&e.proxyServer?s(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i,e.proxyServer):\"disabled\"===e.cloudProxyServer||\"fallback\"===e.cloudProxyServer?\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"):s(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i),{url:n,areaCode:UD(),serviceIds:[dy.CHOOSE_SERVER,\"proxy5\"===e.cloudProxyServer?dy.CLOUD_PROXY_5:\"proxy3\"===e.cloudProxyServer||\"proxy4\"===e.cloudProxyServer?dy.CLOUD_PROXY:dy.CLOUD_PROXY_FALLBACK]}})),o=n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:r.map((e=>e.url))}),c=await sP({fragementLength:kC(\"FRAGEMENT_LENGTH\"),referenceList:r,asyncMapHandler:n=>(WC.debug(\"[\".concat(e.clientId,\"] Connect to choose_server:\"),n.url),QD(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},o),e[0]},promisesCollector:a});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},o),c},d=async()=>{if(await US(1e3),null!==o)return o;const r=kC(\"WEBCS_DOMAIN_BACKUP_LIST\").map(((t,i)=>{let n;return n=\"disabled\"===e.cloudProxyServer&&e.proxyServer?s(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i,e.proxyServer):\"disabled\"===e.cloudProxyServer||\"fallback\"===e.cloudProxyServer?\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"):s(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i),{url:n,areaCode:UD(),serviceIds:[dy.CHOOSE_SERVER,\"proxy5\"===e.cloudProxyServer?dy.CLOUD_PROXY_5:\"proxy3\"===e.cloudProxyServer||\"proxy4\"===e.cloudProxyServer?dy.CLOUD_PROXY:dy.CLOUD_PROXY_FALLBACK]}})),c=n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:r.map((e=>e.url))}),d=await sP({fragementLength:kC(\"FRAGEMENT_LENGTH\"),referenceList:r,asyncMapHandler:n=>(WC.debug(\"[\".concat(e.clientId,\"] Connect to backup choose_server:\"),n.url),QD(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},c),e[0]},promisesCollector:a});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},c),d};let l,h,u;try{({gatewayInfo:l,proxyInfo:h,url:u}=await rP([c(),d()]))}catch(e){throw e[0]}if(a.length&&a.forEach((e=>e.cancel&&\"function\"==typeof e.cancel&&e.cancel())),!l||!h)throw new Mv(xg.UNEXPECTED_ERROR,\"missing gateway or proxy response\").print();if(e.apUrl=u,\"disabled\"!==e.cloudProxyServer&&Array.isArray(r)&&u){const t=/^https?:\\/\\/(.+?)(\\/.*)?$/.exec(u)[1];Pr(r).call(r,t)&&(e.proxyServer=t,WC.setProxyServer(t),iv.setProxyServer(t))}return o={gatewayInfo:l,proxyInfo:await gD(h,l.uid)},o}async function hP(e,t,i,n){const r=kC(\"UAP_AP\").slice(0,kC(\"AJAX_REQUEST_CONCURRENT\")).map((e=>t.proxyServer?\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(e+\"/api/v1?action=uap\"):\"https://\".concat(e,\"/api/v1?action=uap\")));return await JD(r,e,t,i,n)}async function uP(e,t,i){const n=kC(\"UAP_AP\").slice(0,kC(\"AJAX_REQUEST_CONCURRENT\")).map((t=>e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v1?action=uap\"):\"https://\".concat(t,\"/api/v1?action=uap\"))).map((n=>function(e,t,i,n){const r={command:\"convergeAllocateEdge\",sid:t.sid,appId:t.appId,token:t.token,ts:Date.now(),version:OC,cname:t.cname,uid:t.uid.toString(),requestId:zD,seq:zD};zD+=1;const s={service_name:\"tele_channel\",json_body:JSON.stringify(r)};return XS((async()=>{const t=await MD(e,{data:s,cancelToken:i,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":61}});if(0!==t.code){const e=new Mv(xg.UNEXPECTED_RESPONSE,\"cross channel ap error, code\"+t.code,{retry:!0});throw WC.error(e.toString()),e}const n=JSON.parse(t.json_body);if(200!==n.code){const e=new Mv(xg.UNEXPECTED_RESPONSE,\"cross channel app center error, code: \".concat(n.code,\", reason: \").concat(n.reason));throw WC.error(e.toString()),e}if(!n.servers||0===n.servers.length){const e=new Mv(xg.UNEXPECTED_RESPONSE,\"cross channel app center empty server\");throw WC.error(e.toString()),e}return{vid:n.vid,workerToken:n.workerToken,addressList:(kC(\"CHANNEL_MEDIA_RELAY_SERVERS\")||n.servers).map((e=>\"wss://\".concat(e.address.replace(/\\./g,\"-\"),\".\").concat(kC(\"WORKER_DOMAIN\"),\":\").concat(e.wss)))}}),void 0,(e=>!!(e.code!==xg.OPERATION_ABORTED&&e.code!==xg.UNEXPECTED_RESPONSE||e.data&&e.data.retry)),n)}(n,e,t,i)));try{const e=await rP(n);return n.forEach((e=>e.cancel())),e}catch(e){throw e[0]}}async function pP(e,t,i){let n=null;const r=[],s=async s=>{const o=kC(s?\"WEBCS_DOMAIN_BACKUP_LIST\":\"WEBCS_DOMAIN\").map((t=>e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\")));return s&&(await US(1e3),null!==n)?n:await sP({fragementLength:kC(\"FRAGEMENT_LENGTH\"),referenceList:o,asyncMapHandler:n=>(WC.debug(\"[\".concat(e.clientId,\"] update ticket, Connect to \").concat(s?\"backup\":\"\",\" choose_server:\"),n),function(e,t,i,n){const[r]=iP(t,[dy.CHOOSE_SERVER]);let s=RS.networkState;return XS((async()=>{s&&RS.networkState===hS.OFFLINE&&RS.onlineWaiter&&await tg.race([RS.onlineWaiter,US(n&&n.maxRetryTimeout||JS.maxRetryTimeout)]),s=RS.networkState;const t=await MD(e,{data:r,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0);return eP(t,e)}),(()=>!1),(e=>e.code!==xg.OPERATION_ABORTED&&(e.code===xg.UPDATE_TICKET_FAILED?e.data.retry:(WC.warning(\"[\".concat(t.clientId,\"] update ticket network error, retry\"),e),!0))),n)}(n,e,t,i)),allFailedhandler:e=>{throw e[0]},promisesCollector:r})};try{return n=await rP([s(!1),s(!0)]),r.length&&r.forEach((e=>e.cancel&&\"function\"==typeof e.cancel&&e.cancel())),n}catch(e){throw e[0]}}function _P(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function EP(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_P(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_P(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class mP extends iS{constructor(){super(),nu(this,\"configs\",void 0),nu(this,\"joinInfo\",void 0),nu(this,\"cancelToken\",void 0),nu(this,\"retryConfig\",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),nu(this,\"interval\",void 0),nu(this,\"mutex\",new YS(\"config-distribute\")),nu(this,\"mutableParamsRead\",!1)}startGetConfigDistribute(e,t){this.joinInfo=e,this.cancelToken=t,this.interval&&this.stopGetConfigDistribute(),kC(\"ENABLE_CONFIG_DISTRIBUTE\")&&(this.updateConfigDistribute(),this.interval=window.setInterval((()=>{this.updateConfigDistribute()}),kC(\"CONFIG_DISTRIBUTE_INTERVAL\")))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}async awaitConfigDistributeComplete(){if(!this.mutex.isLocked)return;(await this.mutex.lock())()}async updateConfigDistribute(){if(!this.mutableParamsRead){this.mutableParamsRead=!0;iv.reportApiInvoke(null,{options:void 0,name:sS.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:oS.TRACER}).onSuccess(JSON.stringify(MC))}if(!this.joinInfo||!this.cancelToken||!this.retryConfig)return void WC.debug(\"[config-distribute] get config distribute interrupted have no joininfo\");let e;const t=await this.mutex.lock();try{e=await dP(this.joinInfo,this.cancelToken,this.retryConfig),WC.debug(\"[config-distribute] get config distribute\",JSON.stringify(e)),e.limit_bitrate&&this.handleBitrateLimit(e.limit_bitrate),this.cacheGlobalParameterConfig(e),this.configs=e}catch(e){const t=new Mv(xg.NETWORK_RESPONSE_ERROR,e);WC.warning(\"[config-distribute] \".concat(t.toString()))}finally{t()}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(e){var t;(t=e)&&t.uplink&&t.id&&void 0!==t.uplink.max_bitrate&&void 0!==t.uplink.min_bitrate&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==e.id&&this.emit(aI.UPDATE_BITRATE_LIMIT,e):this.emit(aI.UPDATE_BITRATE_LIMIT,e))}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&EP({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(e){var t;const i=Zu(t=Object.keys(e).filter((e=>/^webrtc_ng_global_parameter/.test(e)))).call(t);for(let t=0;t<i.length;t++)for(let n=i.length-1;n>t;n--){const t=i[n];if(\"number\"==typeof e[t].__priority){const r=e[t].__priority,s=i[n-1];if(\"number\"==typeof e[s].__priority){if(!(r>e[s].__priority))continue;{const e=t;i[n]=i[n-1],i[n-1]=e}}else{const e=t;i[n]=i[n-1],i[n-1]=e}}}const n={};i.forEach((t=>{const i=e[t],r=i.__expires;Object.keys(i).forEach((e=>{\"__priority\"===e||\"__expires\"===e||Object.prototype.hasOwnProperty.call(n,e)||(n[e]=EP({value:i[e]},r&&{expires:r}))}))}));try{!function(e){try{const t=Date.now();Object.keys(e).forEach((i=>{switch(i){case\"ENABLE_EVENT_REPORT\":case\"UPLOAD_LOG\":if(Object.prototype.hasOwnProperty.call(PC,i)){const{value:n,expires:r}=e[i];if(r&&r<=t)return;MC[i]=n,PC[i]=n,WC.debug(\"Update global parameters from config distribute\",i,n)}}}))}catch(t){WC.error(\"Error update config immediately: \".concat(e),t.message)}}(n);const e=JSON.stringify(n),t=window.btoa(e);window.localStorage.setItem(\"websdk_ng_global_parameter\",t),WC.debug(\"Caching global parameters \".concat(e))}catch(e){WC.error(\"Error caching global parameters:\",e.message)}}}function fP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function gP(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?fP(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):fP(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class SP extends iS{constructor(e,t,i,n){super(),nu(this,\"spec\",void 0),nu(this,\"token\",void 0),nu(this,\"websocket\",void 0),nu(this,\"pingpongTimer\",void 0),nu(this,\"reconnectMode\",\"retry\"),nu(this,\"serviceMode\",void 0),nu(this,\"reqId\",0),nu(this,\"commandReqId\",0),nu(this,\"handleWebSocketOpen\",(()=>{this.reconnectMode=\"retry\",this.startPingPong()})),nu(this,\"handleWebSocketMessage\",(e=>{if(!e.data)return;const t=JSON.parse(e.data);t.requestId?this.emit(\"@\".concat(t.requestId,\"-\").concat(t.sid),t):this.serviceMode===vv.INJECT?this.emit(Wv.INJECT_STREAM_STATUS,t):(iv.workerEvent(this.spec.sid,{actionType:\"status\",serverCode:t.code,workerType:this.serviceMode===vv.TRANSCODE?1:2}),this.emit(Wv.PUBLISH_STREAM_STATUS,t))})),this.spec=t,this.token=e,this.serviceMode=n,this.websocket=new JI(\"live-streaming\",i),this.websocket.on(Cv.CONNECTED,this.handleWebSocketOpen),this.websocket.on(Cv.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(Cv.REQUEST_NEW_URLS,((e,t)=>{fS(this,Wv.REQUEST_NEW_ADDRESS).then(e).catch(t)})),this.websocket.on(Cv.RECONNECTING,(()=>{this.websocket.reconnectMode=this.reconnectMode}))}init(e){return this.websocket.init(e)}async request(e,t,i,n){this.reqId+=1,\"request\"===e&&(this.commandReqId+=1);const r=this.commandReqId,s=this.reqId;if(!s||!this.websocket)throw new Mv(xg.UNEXPECTED_ERROR);const o=gP({command:e,sdkVersion:\"4.19.1\"===OC?\"0.0.1\":OC,seq:s,requestId:s,allocate:i,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t);if(\"closed\"===this.websocket.state)throw new Mv(xg.WS_DISCONNECT);const a=()=>new tg(((e,t)=>{this.websocket.once(Cv.CLOSED,(()=>t(new Mv(xg.WS_ABORT)))),this.websocket.once(Cv.CONNECTED,e)}));\"connected\"!==this.websocket.state&&await a(),o.clientRequest&&(o.clientRequest.workerToken=this.token);const c=new tg(((e,t)=>{const i=()=>{t(new Mv(xg.WS_ABORT))};this.websocket.once(Cv.RECONNECTING,i),this.websocket.once(Cv.CLOSED,i),this.once(\"@\".concat(s,\"-\").concat(this.spec.sid),(t=>{e(t)}))}));n&&iv.workerEvent(this.spec.sid,gP(gP({},n),{},{requestId:r,actionType:\"request\",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0}));const d=Date.now();this.websocket.sendMessage(o);let l=null;try{l=await c}catch(n){if(\"closed\"===this.websocket.state)throw n;return await a(),await this.request(e,t,i)}return n&&iv.workerEvent(this.spec.sid,gP(gP({},n),{},{requestId:r,actionType:\"response\",payload:JSON.stringify(l.serverResponse),serverCode:l.code,success:200===l.code,responseTime:Date.now()-d})),200!==l.code&&this.handleResponseError(l),l}tryNextAddress(){this.reconnectMode=\"tryNext\",this.websocket.reconnect(\"tryNext\")}close(){const e=\"4.19.1\"===OC?\"0.0.1\":OC;this.reqId+=1,\"connected\"===this.websocket.state?(this.websocket.sendMessage({command:\"request\",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:\"DestroyWorker\"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(e){switch(e.code){case Kv.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void WC.warning(\"live stream response already exists stream\");case Kv.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case Kv.LIVE_STREAM_RESPONSE_BAD_STREAM:case Kv.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new Mv(xg.LIVE_STREAMING_INVALID_ARGUMENT,\"\",{code:e.code}).throw();case Kv.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if(\"UnpublishStream\"===e.serverResponse.command||\"UninjectStream\"===e.serverResponse.command)return;throw new Mv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream response wm worker not exist\",{retry:!0});case Kv.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new Mv(xg.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,\"\",{code:e.code}).throw();case Kv.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const t=new Mv(xg.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(Wv.WARNING,t,e.serverResponse.url)}case Kv.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const t=new Mv(xg.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(Wv.WARNING,t,e.serverResponse.url)}case Kv.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new Mv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream response wm worker not exist\",{retry:!0});case Kv.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new Mv(xg.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,\"\",{code:e.code}).throw();case Kv.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const t=new Mv(xg.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(Wv.WARNING,t,e.serverResponse.url)}case Kv.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new Mv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"\",{code:e.code}).throw();case Kv.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new Mv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream resource limit\",{retry:!0,changeAddress:!0});case Kv.LIVE_STREAM_RESPONSE_WORKER_LOST:case Kv.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(\"UnpublishStream\"===e.serverResponse.command||\"UninjectStream\"===e.serverResponse.command)return;throw new Mv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{retry:!0,changeAddress:!0});case Kv.ERROR_FAIL_SEND_MESSAGE:if(\"UnpublishStream\"===e.serverResponse.command||\"UninjectStream\"===e.serverResponse.command)return;if(\"UpdateTranscoding\"===e.serverResponse.command||\"ControlStream\"===e.serverResponse.command)return new Mv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{code:e.code}).throw();throw new Mv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{retry:!0,changeAddress:!0});case Kv.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case Kv.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case Kv.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case Kv.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new Mv(xg.LIVE_STREAMING_CDN_ERROR,\"\",{code:e.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((()=>{\"connected\"===this.websocket.state&&this.request(\"ping\",{}).catch(FS)}),6e3)}}function TP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function RP(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?TP(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):TP(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class CP extends iS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JS,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JS;super(),nu(this,\"onLiveStreamWarning\",void 0),nu(this,\"onLiveStreamError\",void 0),nu(this,\"onInjectStatusChange\",void 0),nu(this,\"spec\",void 0),nu(this,\"retryTimeout\",1e4),nu(this,\"connection\",void 0),nu(this,\"httpRetryConfig\",void 0),nu(this,\"wsRetryConfig\",void 0),nu(this,\"streamingTasks\",new Map),nu(this,\"isStartingStreamingTask\",!1),nu(this,\"taskMutex\",new YS(\"live-streaming\")),nu(this,\"cancelToken\",EC.CancelToken.source()),nu(this,\"transcodingConfig\",void 0),nu(this,\"injectConfig\",RP({},Gv)),nu(this,\"injectLoopTimes\",0),nu(this,\"uapResponse\",void 0),nu(this,\"lastTaskId\",1),nu(this,\"statusError\",new Map),this.spec=e,this.httpRetryConfig=i,this.wsRetryConfig=t}async setTranscodingConfig(e){const t=RP(RP({},jv),e);66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(WC.debug(\"[\".concat(this.spec.clientId,\"] set transcoding config, fix video codec profile: \").concat(t.videoCodecProfile,\" -> 100\")),t.videoCodecProfile=100),t.transcodingUsers||(t.transcodingUsers=t.userConfigs),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map((e=>RP(RP(RP({},Vv),e),{},{zOrder:e.zOrder?e.zOrder+1:1})))),function(e){Kg(e.width)||jg(e.width,\"config.width\",0,1e4),Kg(e.height)||jg(e.height,\"config.height\",0,1e4),Kg(e.videoBitrate)||jg(e.videoBitrate,\"config.videoBitrate\",1,1e6),Kg(e.videoFrameRate)||jg(e.videoFrameRate,\"config.videoFrameRate\"),Kg(e.lowLatency)||Fg(e.lowLatency,\"config.lowLatency\"),Kg(e.audioSampleRate)||Bg(e.audioSampleRate,\"config.audioSampleRate\",[32e3,44100,48e3]),Kg(e.audioBitrate)||jg(e.audioBitrate,\"config.audioBitrate\",1,128),Kg(e.audioChannels)||Bg(e.audioChannels,\"config.audioChannels\",[1,2,3,4,5]),Kg(e.videoGop)||jg(e.videoGop,\"config.videoGop\"),Kg(e.videoCodecProfile)||Bg(e.videoCodecProfile,\"config.videoCodecProfile\",[66,77,100]),Kg(e.userCount)||jg(e.userCount,\"config.userCount\",0,17),Kg(e.backgroundColor)||jg(e.backgroundColor,\"config.backgroundColor\",0,16777215),Kg(e.userConfigExtraInfo)||Wg(e.userConfigExtraInfo,\"config.userConfigExtraInfo\",0,4096,!1),e.transcodingUsers&&!Kg(e.transcodingUsers)&&(Hg(e.transcodingUsers,\"config.transcodingUsers\"),e.transcodingUsers.forEach(((e,t)=>{xv(e.uid),Kg(e.x)||jg(e.x,\"transcodingUser[\".concat(t,\"].x\"),0,1e4),Kg(e.y)||jg(e.y,\"transcodingUser[\".concat(t,\"].y\"),0,1e4),Kg(e.width)||jg(e.width,\"transcodingUser[\".concat(t,\"].width\"),0,1e4),Kg(e.height)||jg(e.height,\"transcodingUser[\".concat(t,\"].height\"),0,1e4),Kg(e.zOrder)||jg(e.zOrder-1,\"transcodingUser[\".concat(t,\"].zOrder\"),0,100),Kg(e.alpha)||jg(e.alpha,\"transcodingUser[\".concat(t,\"].alpha\"),0,1,!1)}))),Kg(e.watermark)||Bv(e.watermark,\"watermark\"),Kg(e.backgroundImage)||Bv(e.backgroundImage,\"backgroundImage\"),e.images&&!Kg(e.images)&&(Hg(e.images,\"config.images\"),e.images.forEach(((e,t)=>{Bv(e,\"images[\".concat(t,\"]\"))})))}(t);const i=[];t.images&&i.push(...t.images.map((e=>RP(RP(RP({},Fv),e),{},{zOrder:255})))),t.backgroundImage&&(i.push(RP(RP(RP({},Fv),t.backgroundImage),{},{zOrder:0})),delete t.backgroundImage),t.watermark&&(i.push(RP(RP(RP({},Fv),t.watermark),{},{zOrder:255})),delete t.watermark),t.images=i,t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map((e=>RP({},e))),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers);const n=(t.userConfigs||[]).map((e=>\"number\"==typeof e.uid?tg.resolve(e.uid):cP(e.uid,this.spec,this.cancelToken.token,this.httpRetryConfig)));if((await tg.all(n)).forEach(((e,i)=>{t.userConfigs&&t.userConfigs[i]&&(t.userConfigs[i].uid=e)})),this.transcodingConfig=t,this.connection)try{var r;const e=await this.connection.request(\"request\",{clientRequest:{command:\"UpdateTranscoding\",transcodingConfig:this.transcodingConfig}},!1,{command:\"UpdateTranscoding\",workerType:1,requestByUser:!0,tid:Array.from(Pv(r=this.streamingTasks).call(r)).map((e=>e.taskId)).join(\"#\")});WC.debug(\"[\".concat(this.spec.clientId,\"] update live transcoding config success, code: \").concat(e.code,\", config:\"),JSON.stringify(this.transcodingConfig))}catch(e){if(!e.data||!e.data.retry)throw e;e.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((t=>{WC.warning(\"[\".concat(this.spec.clientId,\"] live streaming receive error\"),e.toString(),\"try to republish\",t.url),this.startLiveStreamingTask(t.url,t.mode,e).then((()=>{WC.debug(\"[\".concat(this.spec.clientId,\"] live streaming republish \").concat(t.url,\" success\"))})).catch((e=>{WC.error(\"[\".concat(this.spec.clientId,\"] live streaming republish failed\"),t.url,e.toString()),this.onLiveStreamError&&this.onLiveStreamError(t.url,e)}))}))}}setInjectStreamConfig(e,t){this.injectConfig=Object.assign({},this.injectConfig,e),this.injectLoopTimes=t}async startLiveStreamingTask(e,t,i){var n;if(Array.from(Pv(n=this.streamingTasks).call(n)).find((e=>e.mode===vv.INJECT))&&t===vv.INJECT)return new Mv(xg.LIVE_STREAMING_TASK_CONFLICT,\"inject stream over limit\").throw();if(!this.transcodingConfig&&t===vv.TRANSCODE)throw new Mv(xg.INVALID_OPERATION,\"[LiveStreaming] no transcoding config found, can not start transcoding streaming task\");let r={command:\"PublishStream\",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};WC.debug(\"[\".concat(this.spec.clientId,\"] start live streaming \").concat(e,\", mode: \").concat(t));const s=await this.taskMutex.lock();if(!this.connection&&i)return void s();if(this.streamingTasks.get(e)&&!i)return s(),new Mv(xg.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(t))}catch(e){throw s(),e}switch(t){case vv.TRANSCODE:r.transcodingConfig=RP({},this.transcodingConfig);break;case vv.RAW:break;case vv.INJECT:r={cname:this.spec.cname,command:\"InjectStream\",sid:this.spec.sid,transcodingConfig:this.injectConfig,ts:Date.now(),url:e,loopTimes:this.injectLoopTimes}}this.uapResponse&&this.uapResponse.vid&&(r.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const o=this.lastTaskId++;try{const n=new tg(((t,n)=>{US(this.retryTimeout).then((()=>{if(i)return n(i);const t=this.statusError.get(e);return t?(this.statusError.delete(e),n(t)):void 0}))})),a=await tg.race([this.connection.request(\"request\",{clientRequest:r},!0,{url:e,command:\"PublishStream\",workerType:t===vv.TRANSCODE?1:2,requestByUser:!i,tid:o.toString()}),n]);this.isStartingStreamingTask=!1,WC.debug(\"[\".concat(this.spec.clientId,\"] live streaming started, code: \").concat(a.code)),this.streamingTasks.set(e,{clientRequest:r,mode:t,url:e,taskId:o}),s()}catch(n){if(s(),this.isStartingStreamingTask=!1,!n.data||!n.data.retry||i)throw n;return n.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(e,t,n)):await this.startLiveStreamingTask(e,t,n)}}stopLiveStreamingTask(e){return new tg(((t,i)=>{const n=this.streamingTasks.get(e);if(!n||!this.connection)return new Mv(xg.UNEXPECTED_ERROR,\"can not find streaming task to stop\").throw();const r=n.mode;n.abortTask=()=>{WC.debug(\"[\".concat(this.spec.clientId,\"] stop live streaming success(worker exception)\")),this.streamingTasks.delete(e),t()},this.connection.request(\"request\",{clientRequest:{command:r===vv.INJECT?\"UninjectStream\":\"UnpublishStream\",url:n.url}},!1,{url:e,command:\"UnPublishStream\",workerType:r===vv.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then((i=>{WC.debug(\"[\".concat(this.spec.clientId,\"] stop live streaming success, code: \").concat(i.code)),this.streamingTasks.delete(e),0===this.streamingTasks.size&&r!==vv.INJECT&&(this.connection&&this.connection.close(),this.connection=void 0),t(),r===vv.INJECT&&this.onInjectStatusChange&&this.onInjectStatusChange(Iv.INJECT_STREAM_STATUS_STOP_SUCCESS,this.spec.uid,e)})).catch(i)}))}async controlInjectStream(e,t,i,n){const r=this.streamingTasks.get(e);if(!r||!this.connection||r.mode!==vv.INJECT)throw new Mv(xg.INVALID_OPERATION,\"can not find inject stream task to control\");return(await this.connection.request(\"request\",{clientRequest:{command:\"ControlStream\",url:e,control:t,audioVolume:i,position:n}})).serverResponse}resetAllTask(){var e;const t=Array.from(Pv(e=this.streamingTasks).call(e));this.terminate();for(const e of t)this.startLiveStreamingTask(e.url,e.mode).catch((t=>{this.onLiveStreamError&&this.onLiveStreamError(e.url,t)}))}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=EC.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(e){if(this.connection)throw new Mv(xg.UNEXPECTED_ERROR,\"live streaming connection has already connected\");const t=await fS(this,Hv.REQUEST_WORKER_MANAGER_LIST,e);return this.uapResponse=t,this.connection=new SP(t.workerToken,this.spec,this.wsRetryConfig,e),this.connection.on(Wv.WARNING,((e,t)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e))),this.connection.on(Wv.PUBLISH_STREAM_STATUS,(e=>this.handlePublishStreamServer(e))),this.connection.on(Wv.INJECT_STREAM_STATUS,(e=>this.handleInjectStreamServerStatus(e))),this.connection.on(Wv.REQUEST_NEW_ADDRESS,((t,i)=>{if(!this.connection)return i(new Mv(xg.UNEXPECTED_ERROR,\"can not get new live streaming address list\"));fS(this,Hv.REQUEST_WORKER_MANAGER_LIST,e).then((e=>{this.uapResponse=e,t(e.addressList)})).catch(i)})),await this.connection.init(t.addressList),this.connection}handlePublishStreamServer(e){const t=e.serverStatus&&e.serverStatus.url||\"empty_url\",i=this.streamingTasks.get(t),n=e.reason;switch(e.code){case Kv.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case Kv.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case Kv.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case Kv.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const n=new Mv(xg.LIVE_STREAMING_CDN_ERROR,\"\",{code:e.code});if(i)return WC.error(n.toString()),this.onLiveStreamError&&this.onLiveStreamError(t,n);if(!this.isStartingStreamingTask)return;this.statusError.set(t,n)}case Kv.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const e=new Mv(xg.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,n);return this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e)}case Kv.LIVE_STREAM_RESPONSE_WORKER_LOST:case Kv.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var r;if(!this.connection)return;this.connection.tryNextAddress();const t=Array.from(Pv(r=this.streamingTasks).call(r));for(const i of t)i.abortTask?i.abortTask():(WC.warning(\"[\".concat(this.spec.clientId,\"] publish stream status code\"),e.code,\"try to republish\",i.url),this.startLiveStreamingTask(i.url,i.mode,new Mv(xg.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"\",{code:e.code})).then((()=>{WC.debug(\"[\".concat(this.spec.clientId,\"] republish live stream success\"),i.url)})).catch((e=>{WC.error(e.toString()),this.onLiveStreamError&&this.onLiveStreamError(i.url,e)})));return}}}handleInjectStreamServerStatus(e){const t=Number(e.uid),i=e.serverStatus&&e.serverStatus.url;switch(e.code){case 200:return void(this.onInjectStatusChange&&this.onInjectStatusChange(Iv.INJECT_STREAM_STATUS_START_SUCCESS,t,i));case 451:return this.onInjectStatusChange&&this.onInjectStatusChange(Iv.INJECT_STREAM_STATUS_START_ALREADY_EXISTS,t,i),void this.streamingTasks.delete(i);case 453:return this.onInjectStatusChange&&this.onInjectStatusChange(Iv.INJECT_STREAM_STATUS_START_UNAUTHORIZED,t,i),void this.streamingTasks.delete(i);case 470:return this.onInjectStatusChange&&this.onInjectStatusChange(Iv.INJECT_STREAM_STATUS_BROKEN,t,i),void this.streamingTasks.delete(i);case 499:return this.onInjectStatusChange&&this.onInjectStatusChange(Iv.INJECT_STREAM_STATUS_START_TIMEOUT,t,i),void this.streamingTasks.delete(i);default:return void WC.debug(\"inject stream server status\",e)}}hasUrl(e){return this.streamingTasks.has(e)}}class vP{constructor(){nu(this,\"destChannelMediaInfos\",new Map),nu(this,\"srcChannelMediaInfo\",void 0)}setSrcChannelInfo(e){nI(e),this.srcChannelMediaInfo=e}addDestChannelInfo(e){nI(e),this.destChannelMediaInfos.set(e.channelName,e)}removeDestChannelInfo(e){Uv(e),this.destChannelMediaInfos.delete(e)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function IP(e){if(!(e instanceof vP)){return new Mv(xg.INVALID_PARAMS,\"Config should be instance of [ChannelMediaRelayConfiguration]\").throw()}const t=e.getSrcChannelMediaInfo(),i=e.getDestChannelMediaInfo();if(!t){return new Mv(xg.INVALID_PARAMS,\"srcChannelMediaInfo should not be empty\").throw()}if(0===i.size){return new Mv(xg.INVALID_PARAMS,\"destChannelMediaInfo should not be empty\").throw()}}class yP extends iS{constructor(e,t,i){super(),nu(this,\"ws\",void 0),nu(this,\"requestId\",1),nu(this,\"heartBeatTimer\",void 0),nu(this,\"joinInfo\",void 0),nu(this,\"clientId\",void 0),nu(this,\"onOpen\",(()=>{this.emit(\"open\"),this.startHeartBeatCheck()})),nu(this,\"onClose\",(e=>{this.emit(\"close\"),this.dispose()})),nu(this,\"onMessage\",(e=>{const t=JSON.parse(e.data);if(!t||\"serverResponse\"!==t.command||!t.requestId)return t&&\"serverStatus\"===t.command&&t.serverStatus&&t.serverStatus.command?(this.emit(\"status\",t.serverStatus),void this.emit(t.serverStatus.command,t.serverStatus)):void 0;this.emit(\"req_\".concat(t.requestId),t)})),this.joinInfo=e,this.clientId=t,this.ws=new JI(\"cross-channel-\".concat(this.clientId),i),this.ws.on(Cv.RECONNECTING,(()=>{this.ws.reconnectMode=\"retry\",this.emit(\"reconnecting\")})),this.ws.on(Cv.CONNECTED,this.onOpen),this.ws.on(Cv.ON_MESSAGE,this.onMessage),this.ws.on(Cv.CLOSED,this.onClose)}isConnect(){return\"connected\"===this.ws.state}sendMessage(e){const t=this.requestId++;return e.requestId=t,e.seq=t,this.ws.sendMessage(e),t}waitStatus(e){return new tg(((t,i)=>{const n=window.setTimeout((()=>{i(new Mv(xg.TIMEOUT,\"wait status timeout, status: \".concat(e)))}),5e3);this.once(e,(r=>{window.clearTimeout(n),r.state&&0!==r.state?i(new Mv(xg.CROSS_CHANNEL_WAIT_STATUS_ERROR,\"wait status error, status: \".concat(e))):t(void 0)})),this.once(\"dispose\",(()=>{window.clearTimeout(n),i(new Mv(xg.WS_ABORT))}))}))}async request(e){if(\"closed\"===this.ws.state)throw new Mv(xg.WS_DISCONNECT);const t=()=>new tg(((e,t)=>{this.ws.once(Cv.CLOSED,(()=>t(new Mv(xg.WS_ABORT)))),this.ws.once(Cv.CONNECTED,e)}));\"connected\"!==this.ws.state&&await t();const i=this.sendMessage(e),n=new tg(((e,t)=>{const n=()=>{t(new Mv(xg.WS_ABORT))};this.ws.once(Cv.RECONNECTING,n),this.ws.once(Cv.CLOSED,n),this.once(\"req_\".concat(i),e),US(3e3).then((()=>{this.removeAllListeners(\"req_\".concat(i)),this.ws.off(Cv.RECONNECTING,n),this.ws.off(Cv.CLOSED,n),t(new Mv(xg.TIMEOUT,\"cross channel ws request timeout\"))}))})),r=await n;if(!r||200!==r.code)throw new Mv(xg.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,\"response: \".concat(JSON.stringify(r)));return r}async connect(e){this.ws.removeAllListeners(Cv.REQUEST_NEW_URLS),this.ws.on(Cv.REQUEST_NEW_URLS,(t=>{t(e)})),await this.ws.init(e)}dispose(){this.clearHeartBeatCheck(),this.emit(\"dispose\"),this.removeAllListeners(),this.ws.close()}sendPing(e){const t=this.requestId++;return e.requestId=t,this.ws.sendMessage(e),t}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval((()=>{this.sendPing({command:\"ping\",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})}),3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class AP extends iS{set state(e){e!==this._state&&(e!==zv.RELAY_STATE_FAILURE&&(this.errorCode=Xv.RELAY_OK),this.emit(\"state\",e,this.errorCode),this._state=e)}get state(){return this._state}constructor(e,t,i,n,r){super(),nu(this,\"joinInfo\",void 0),nu(this,\"sid\",void 0),nu(this,\"clientId\",void 0),nu(this,\"cancelToken\",EC.CancelToken.source()),nu(this,\"workerToken\",void 0),nu(this,\"requestId\",0),nu(this,\"signal\",void 0),nu(this,\"prevChannelMediaConfig\",void 0),nu(this,\"httpRetryConfig\",void 0),nu(this,\"_resolution\",void 0),nu(this,\"_state\",zv.RELAY_STATE_IDLE),nu(this,\"errorCode\",Xv.RELAY_OK),nu(this,\"onStatus\",(e=>{WC.debug(\"[\".concat(this.clientId,\"] ChannelMediaStatus: \").concat(JSON.stringify(e))),e&&e.command&&(\"onAudioPacketReceived\"===e.command&&this.emit(\"event\",Jv.PACKET_RECEIVED_AUDIO_FROM_SRC),\"onVideoPacketReceived\"===e.command&&this.emit(\"event\",Jv.PACKET_RECEIVED_VIDEO_FROM_SRC),\"onSrcTokenPrivilegeDidExpire\"===e.command&&(this.errorCode=Xv.SRC_TOKEN_EXPIRED,this.state=zv.RELAY_STATE_FAILURE),\"onDestTokenPrivilegeDidExpire\"===e.command&&(this.errorCode=Xv.DEST_TOKEN_EXPIRED,this.state=zv.RELAY_STATE_FAILURE))})),nu(this,\"onReconnect\",(async()=>{WC.debug(\"[\".concat(this.clientId,\"] ChannelMediaSocket disconnect, reconnecting\")),this.emit(\"event\",Jv.NETWORK_DISCONNECTED),this.state=zv.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch((e=>{this.state!==zv.RELAY_STATE_IDLE&&(WC.error(\"auto restart channel media relay failed\",e.toString()),this.errorCode=Xv.SERVER_CONNECTION_LOST,this.state=zv.RELAY_STATE_FAILURE)}))})),this.joinInfo=e,this.clientId=t,this.sid=VS(),this.signal=new yP(this.joinInfo,this.clientId,i),this.httpRetryConfig=n,this._resolution=r}async startChannelMediaRelay(e){if(this.state!==zv.RELAY_STATE_IDLE)throw new Mv(xg.INVALID_OPERATION);this.state=zv.RELAY_STATE_CONNECTING,await this.connect(),WC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: connect success\"));try{await this.sendStartRelayMessage(e)}catch(e){if(e.data&&e.data.serverResponse&&\"SetSourceChannel\"===e.data.serverResponse.command)throw new Mv(xg.CROSS_CHANNEL_FAILED_JOIN_SRC);if(e.data&&e.data.serverResponse&&\"SetDestChannelStatus\"===e.serverResponse.command)throw new Mv(xg.CROSS_CHANNEL_FAILED_JOIN_DEST);if(e.data&&e.data.serverResponse&&\"StartPacketTransfer\"===e.serverResponse.command)throw new Mv(xg.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);throw e}this.prevChannelMediaConfig=e}async updateChannelMediaRelay(e){if(this.state!==zv.RELAY_STATE_RUNNING)throw new Mv(xg.INVALID_OPERATION);await this.sendUpdateMessage(e),this.prevChannelMediaConfig=e}async setVideoProfile(e){if(this._resolution=e,this.state!==zv.RELAY_STATE_RUNNING)throw new Mv(xg.INVALID_OPERATION);const t=this.genMessage(qv.SetVideoProfile);await this.signal.request(t),WC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: setVideoProfile success\"))}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),WC.debug(\"[\".concat(this.clientId,\"] stopChannelMediaRelay: send stop message success\")),this.state=zv.RELAY_STATE_IDLE,this.dispose()}dispose(){WC.debug(\"[\".concat(this.clientId,\"] disposeChannelMediaRelay\")),this.cancelToken.cancel(),this.cancelToken=EC.CancelToken.source(),this.state=zv.RELAY_STATE_IDLE,this.emit(\"dispose\"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const e=await uP(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=e.workerToken,await this.signal.connect(e.addressList),this.emit(\"event\",Jv.NETWORK_CONNECTED),this.signal.on(\"status\",this.onStatus),this.signal.on(\"reconnecting\",this.onReconnect)}async sendStartRelayMessage(e){const t=this.genMessage(qv.StopPacketTransfer);await this.signal.request(t),await this.signal.waitStatus(\"Normal Quit\"),WC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: StopPacketTransfer success\"));const i=this.genMessage(qv.SetSdkProfile,e);await this.signal.request(i),WC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSdkProfile success\"));const n=this.genMessage(qv.SetSourceChannel,e);await this.signal.request(n),await this.signal.waitStatus(\"SetSourceChannelStatus\"),this.emit(\"event\",Jv.PACKET_JOINED_SRC_CHANNEL),WC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSourceChannel success\"));const r=this.genMessage(qv.SetSourceUserId,e);await this.signal.request(r),WC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSourceUserId success\"));const s=this.genMessage(qv.SetDestChannel,e);await this.signal.request(s),await this.signal.waitStatus(\"SetDestChannelStatus\"),this.emit(\"event\",Jv.PACKET_JOINED_DEST_CHANNEL),WC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetDestChannel success\"));const o=this.genMessage(qv.StartPacketTransfer,e);await this.signal.request(o),this.emit(\"event\",Jv.PACKET_SENT_TO_DEST_CHANNEL),this.state=zv.RELAY_STATE_RUNNING,WC.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: StartPacketTransfer success\")),this.setVideoProfile(this._resolution)}async sendUpdateMessage(e){const t=this.genMessage(qv.UpdateDestChannel,e);await this.signal.request(t),this.emit(\"event\",Jv.PACKET_UPDATE_DEST_CHANNEL),WC.debug(\"[\".concat(this.clientId,\"] sendUpdateMessage: UpdateDestChannel success\"))}async sendStopRelayMessage(){const e=this.genMessage(qv.StopPacketTransfer);await this.signal.request(e),WC.debug(\"[\".concat(this.clientId,\"] sendStopRelayMessage: StopPacketTransfer success\"))}genMessage(e,t){const i=[],n=[],r=[];this.requestId+=1;const s={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:OC,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};\"4.19.1\"===s.sdkVersion&&(s.sdkVersion=\"0.0.1\");let o=null,a=null;switch(e){case qv.SetSdkProfile:return s.clientRequest={command:\"SetSdkProfile\",type:\"multi_channel\"},s;case qv.SetSourceChannel:if(a=t&&t.getSrcChannelMediaInfo(),!a)throw new Mv(xg.UNEXPECTED_ERROR,\"can not find source config\");return s.clientRequest={command:\"SetSourceChannel\",uid:\"0\",channelName:a.channelName,token:a.token||this.joinInfo.appId},s;case qv.SetSourceUserId:if(a=t&&t.getSrcChannelMediaInfo(),!a)throw new Mv(xg.UNEXPECTED_ERROR,\"can not find source config\");return s.clientRequest={command:\"SetSourceUserId\",uid:a.uid+\"\"},s;case qv.SetDestChannel:if(o=t&&t.getDestChannelMediaInfo(),!o)throw new Mv(xg.UNEXPECTED_ERROR,\"can not find dest config\");return o.forEach((e=>{i.push(e.channelName),n.push(e.uid+\"\"),r.push(e.token||this.joinInfo.appId)})),s.clientRequest={command:\"SetDestChannel\",channelName:i,uid:n,token:r},s;case qv.StartPacketTransfer:return s.clientRequest={command:\"StartPacketTransfer\"},s;case qv.Reconnect:return s.clientRequest={command:\"Reconnect\"},s;case qv.StopPacketTransfer:return s.clientRequest={command:\"StopPacketTransfer\"},s;case qv.UpdateDestChannel:if(o=t&&t.getDestChannelMediaInfo(),!o)throw new Mv(xg.UNEXPECTED_ERROR,\"can not find dest config\");return o.forEach((e=>{i.push(e.channelName),n.push(e.uid+\"\"),r.push(e.token||this.joinInfo.appId)})),s.clientRequest={command:\"UpdateDestChannel\",channelName:i,uid:n,token:r},s;case qv.SetVideoProfile:s.clientRequest={command:\"SetVideoProfile\",width:this._resolution.width,height:this._resolution.height}}return s}}class bP{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio)return this._audioTrack}get videoTrack(){if(this.hasVideo)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(e,t){nu(this,\"uid\",void 0),nu(this,\"_uintid\",void 0),nu(this,\"_trust_in_room_\",!0),nu(this,\"_trust_audio_enabled_state_\",!0),nu(this,\"_trust_video_enabled_state_\",!0),nu(this,\"_trust_audio_mute_state_\",!0),nu(this,\"_trust_video_mute_state_\",!0),nu(this,\"_audio_muted_\",!1),nu(this,\"_video_muted_\",!1),nu(this,\"_audio_enabled_\",!0),nu(this,\"_video_enabled_\",!0),nu(this,\"_audio_added_\",!1),nu(this,\"_video_added_\",!1),nu(this,\"_trust_video_stream_added_state_\",!0),nu(this,\"_trust_audio_stream_added_state_\",!0),nu(this,\"_audioTrack\",void 0),nu(this,\"_videoTrack\",void 0),nu(this,\"_dataChannels\",[]),nu(this,\"_audioSSRC\",void 0),nu(this,\"_videoSSRC\",void 0),nu(this,\"_audioOrtc\",void 0),nu(this,\"_videoOrtc\",void 0),nu(this,\"_cname\",void 0),nu(this,\"_rtxSsrcId\",void 0),this.uid=e,this._uintid=t}}var wP=eg,OP=rm;kn({target:\"Promise\",stat:!0,forced:!0},{withResolvers:function(){var e=OP.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var NP=rm,DP=FE;kn({target:\"Promise\",stat:!0,forced:!0},{try:function(e){var t=NP.f(this),i=DP(e);return(i.error?t.reject:t.resolve)(i.value),t.promise}});var PP=J(wP),LP=Fo.f(\"asyncIterator\"),kP=J(LP);function MP(e,t){this.v=e,this.k=t}function UP(e){var t,i;function n(t,i){try{var s=e[t](i),o=s.value,a=o instanceof MP;PP.resolve(a?o.v:o).then((function(i){if(a){var c=\"return\"===t?\"return\":\"next\";if(!o.k||i.done)return n(c,i);i=e[c](i).value}r(s.done?\"return\":\"normal\",i)}),(function(e){n(\"throw\",e)}))}catch(e){r(\"throw\",e)}}function r(e,r){switch(e){case\"return\":t.resolve({value:r,done:!0});break;case\"throw\":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?n(t.key,t.arg):i=null}this._invoke=function(e,r){return new PP((function(s,o){var a={key:e,arg:r,resolve:s,reject:o,next:null};i?i=i.next=a:(t=i=a,n(e,r))}))},\"function\"!=typeof e.return&&(this.return=void 0)}function xP(e){return function(){return new UP(e.apply(this,arguments))}}function VP(e){return new MP(e,0)}function FP(e){var t={},i=!1;function n(t,n){return i=!0,{done:!1,value:new MP(n=new PP((function(i){i(e[t](n))})),1)}}return t[void 0!==Uh&&$h||\"@@iterator\"]=function(){return this},t.next=function(e){return i?(i=!1,e):n(\"next\",e)},\"function\"==typeof e.throw&&(t.throw=function(e){if(i)throw i=!1,e;return n(\"throw\",e)}),\"function\"==typeof e.return&&(t.return=function(e){return i?(i=!1,e):n(\"return\",e)}),t}UP.prototype[\"function\"==typeof Uh&&kP||\"@@asyncIterator\"]=function(){return this},UP.prototype.next=function(e){return this._invoke(\"next\",e)},UP.prototype.throw=function(e){return this._invoke(\"throw\",e)},UP.prototype.return=function(e){return this._invoke(\"return\",e)};var BP=J(LP),jP={exports:{}};!function(e,t){e.exports=(()=>{var e={8:(e,t,i)=>{i.r(t),i.d(t,{Parser:()=>C,Printer:()=>b,parse:()=>D,print:()=>P});const n=\"\\n\",r=\"\".concat(\"\\r\").concat(n),s=\" \";let o;function a(e){return e>=\"0\"&&e<=\"9\"}function c(e){return e>=\"!\"&&e<=\"~\"}function d(e){return c(e)||e>=\"\"&&e<=\"ÿ\"}function l(e){return\"!\"===e||e>=\"#\"&&e<=\"'\"||e>=\"*\"&&e<=\"+\"||e>=\"-\"&&e<=\".\"||e>=\"0\"&&e<=\"9\"||e>=\"A\"&&e<=\"Z\"||e>=\"^\"&&e<=\"~\"}function h(e){return e>=\"1\"&&e<=\"9\"}function u(e){return e>=\"A\"&&e<=\"Z\"||e>=\"a\"&&e<=\"z\"}function p(e){return\"d\"===e||\"h\"===e||\"m\"===e||\"s\"===e}function _(e){return e>\"\u0001\"&&e<\"\\t\"||e>\"\\v\"&&e<\"\\f\"||e>\"\u000e\"&&e<\"ÿ\"}function E(e){return u(e)||a(e)||\"+\"===e||\"/\"===e}function m(e){return a(e)||u(e)||\"+\"===e||\"/\"===e||\"-\"===e||\"_\"===e}function f(e){return u(e)||a(e)||\"+\"===e||\"/\"===e}function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function S(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){T(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function T(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}!function(e){e.VERSION=\"v\",e.ORIGIN=\"o\",e.SESSION_NAME=\"s\",e.INFORMATION=\"i\",e.URI=\"u\",e.EMAIL=\"e\",e.PHONE=\"p\",e.CONNECTION=\"c\",e.BANDWIDTH=\"b\",e.TIME=\"t\",e.REPEAT=\"r\",e.ZONE_ADJUSTMENTS=\"z\",e.KEY=\"k\",e.ATTRIBUTE=\"a\",e.MEDIA=\"m\"}(o||(o={}));class R{consumeText(e,t){let i=t;for(;i<e.length;){const t=e[i];if(\"\\0\"===t||\"\\r\"===t||t===n)break;i+=1}if(i-t==0)throw new Error(\"Invalid text, at \".concat(e));return i}consumeUnicastAddress(e,t,i){return this.consumeTill(e,t,s)}consumeOneOrMore(e,t,i){let n=t;for(;i(e[n]);)n++;if(n-t==0)throw new Error(\"Invalid rule at \".concat(t,\".\"));return n}consumeSpace(e,t){if(e[t]===s)return t+1;throw new Error(\"Invalid space at \".concat(t,\".\"))}consumeIP4Address(e,t){let i=t;for(let t=0;t<4;t++)if(i=this.consumeDecimalUChar(e,i),3!==t){if(\".\"!==e[i])throw new Error(\"Invalid IP4 address.\");i++}return i}consumeDecimalUChar(e,t){let i=t;for(let t=0;t<3&&a(e[i]);t++,i++);if(i-t==0)throw new Error(\"Invalid decimal uchar.\");const n=parseInt(e.slice(t,i));if(n>=0&&n<=255)return i;throw new Error(\"Invalid decimal uchar\")}consumeIP6Address(e,t){let i=this.consumeHexpart(e,t);return\":\"===e[i]?(i+=1,i=this.consumeIP4Address(e,i),i):i}consumeHexpart(e,t){let i=t;if(\":\"===e[i]&&\":\"===e[i+1]){i+=2;try{i=this.consumeHexseq(e,i)}catch(e){}return i}if(i=this.consumeHexseq(e,i),\":\"===e[i]&&\":\"===e[i+1]){i+=2;try{i=this.consumeHexseq(e,i)}catch(e){}return i}return i}consumeHexseq(e,t){let i=t;for(;i=this.consumeHex4(e,i),\":\"===e[i]&&\":\"!==e[i+1];)i+=1;return i}consumeHex4(e,t){let i=0;for(;i<4;i++)if(!((n=e[t+i])>=\"0\"&&n<=\"9\"||n>=\"a\"&&n<=\"f\"||n>=\"A\"&&n<=\"F\")){if(0===i)throw new Error(\"Invalid hex 4\");break}var n;return t+i}consumeFQDN(e,t){let i=t;for(;a(e[i])||u(e[i])||\"-\"===e[i]||\".\"===e[i];)i+=1;if(i-t<4)throw new Error(\"Invalid FQDN\");return i}consumeExtnAddr(e,t){return this.consumeOneOrMore(e,t,d)}consumeMulticastAddress(e,t,i){switch(i){case\"IP4\":case\"ip4\":return this.consumeIP4MulticastAddress(e,t);case\"IP6\":case\"ip6\":return this.consumeIP6MulticastAddress(e,t);default:try{return this.consumeFQDN(e,t)}catch(i){return this.consumeExtnAddr(e,t)}}}consumeIP6MulticastAddress(e,t){const i=this.consumeHexpart(e,t);return\"/\"===e[i]?this.consumeInteger(e,i+1):i}consumeIP4MulticastAddress(e,t){let i=t+3;const n=e.slice(t,i),r=parseInt(n);if(r<224||r>239)throw new Error(\"Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.\");for(let t=0;t<3;t++){if(\".\"!==e[i])throw new Error(\"Invalid IP4 multicast address.\");i+=1,i=this.consumeDecimalUChar(e,i)}return\"/\"===e[i]&&(i+=1),i=this.consumeTTL(e,i),\"/\"===e[i]&&(i=this.consumeInteger(e,i)),i}consumeInteger(e,t){if(!h(e[t]))throw new Error(\"Invalid integer.\");for(t+=1;a(e[t]);)t+=1;return t}consumeTTL(e,t){if(\"0\"===e[t])return t+1;if(!h(e[t]))throw new Error(\"Invalid TTL.\");t+=1;for(let i=0;i<2&&a(e[t]);i++)t+=1;return t}consumeToken(e,t){return this.consumeOneOrMore(e,t,l)}consumeTime(e,t){let i=t;if(\"0\"===e[i])return i+1;for(h(e[i])&&(i+=1);a(e[i]);)i++;if(i-t<10)throw new Error(\"Invalid time\");return i}consumeAddress(e,t){return this.consumeTill(e,t,s)}consumeTypedTime(e,t){let i=t;return i=this.consumeOneOrMore(e,i,a),p(e[i])?i+1:i}consumeRepeatInterval(e,t){if(!h(e[t]))throw new Error(\"Invalid repeat interval\");for(t+=1;a(e[t]);)t+=1;return p(e[t])&&(t+=1),t}consumePort(e,t){return this.consumeOneOrMore(e,t,a)}consume(e,t,i){for(let n=0;n<i.length;n++){if(t+n>=e.length)throw new Error(\"consume exceeding value length\");if(e[t+n]!==i[n])throw new Error(\"consume \".concat(i,\" failed at \").concat(n))}return t+i.length}consumeTill(e,t,i){let n=t;for(;n<e.length&&(\"string\"!=typeof i||e[n]!==i)&&(\"function\"!=typeof i||!i(e[n]));)n++;return n}}class C extends R{constructor(){super(),T(this,\"records\",[]),T(this,\"currentLine\",0)}parse(e){const t=this.probeEOL(e);this.records=e.split(t).filter((e=>!!e.trim())).map(this.parseLine),this.currentLine=0;const i=this.parseVersion(),n=this.parseOrigin(),r=this.parseSessionName(),s=this.parseInformation(),o=this.parseUri(),a=this.parseEmail(),c=this.parsePhone(),d=this.parseConnection(),l=this.parseBandWidth(),h=this.parseTimeFields(),u=this.parseKey(),p=this.parseSessionAttribute(),_=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error(\"parsing failed, non exhaustive sdp lines.\");return{version:i,origin:n,sessionName:r,information:s,uri:o,emails:a,phones:c,connection:d,bandwidths:l,timeFields:h,key:u,attributes:p,mediaDescriptions:_}}getCurrentRecord(){const e=this.records[this.currentLine];if(!e)throw new Error(\"Record doesn't exit.\");return e}probeEOL(e){for(let t=0;t<e.length;t++)if(e[t]===n)return\"\\r\"===e[t-1]?r:n;throw new Error(\"Invalid newline character.\")}parseLine(e,t){if(e.length<2)throw new Error(\"Invalid sdp line, sdp line should be of form <type>=<value>.\");const i=e[0];if(\"=\"!==e[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an \"=\" sign.');return{type:i,value:e.slice(2),line:t,cur:0}}parseSessionAttribute(){const e=new I;for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==o.ATTRIBUTE)break;const i={attField:this.extractOneOrMore(t,(e=>l(e)&&\":\"!==e)),_cur:0};\":\"===t.value[t.cur]&&(t.cur+=1,i.attValue=this.extractOneOrMore(t,_)),e.parse(i),this.currentLine++}return e.digest()}parseMediaAttributes(e){const t=new y(e);for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==o.ATTRIBUTE)break;const i={attField:this.extractOneOrMore(e,(e=>l(e)&&\":\"!==e)),_cur:0};\":\"===e.value[e.cur]&&(e.cur+=1,i.attValue=this.extractOneOrMore(e,_)),t.parse(i),this.currentLine++}return t.digest()}parseKey(){const e=this.getCurrentRecord();if(e.type===o.KEY){if(\"prompt\"===e.value||\"clear:\"===e.value||\"base64:\"===e.value||\"uri:\"===e.value)return e.value;throw this.currentLine++,new Error(\"Invalid key.\")}}parseZone(){const e=this.getCurrentRecord();if(e.type===o.ZONE_ADJUSTMENTS){const t=[];for(;;)try{const i=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);let n=!1;\"-\"===e.value[e.cur]&&(n=!0,e.cur+=1);const r=this.extract(e,this.consumeTypedTime);t.push({time:i,typedTime:r,back:n})}catch(e){break}if(0===t.length)throw new Error(\"Invalid zone adjustments\");return this.currentLine++,t}return[]}parseRepeat(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==o.REPEAT)break;{const i=this.extract(t,this.consumeRepeatInterval),n=this.parseTypedTime(t);e.push({repeatInterval:i,typedTimes:n}),this.currentLine++}}return e}parseTypedTime(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeTypedTime))}catch(e){break}if(0===t.length)throw new Error(\"Invalid typed time.\");return t}parseTime(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);const i=this.extract(e,this.consumeTime);return this.currentLine++,{startTime:t,stopTime:i}}parseBandWidth(){const e=[];for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==o.BANDWIDTH)break;{const i=this.extractOneOrMore(t,l);if(\":\"!==t.value[t.cur])throw new Error(\"Invalid bandwidth field.\");t.cur++;const n=this.extractOneOrMore(t,a);e.push({bwtype:i,bandwidth:n}),this.currentLine++}}return e}parseVersion(){const e=this.getCurrentRecord();if(e.type!==o.VERSION)throw new Error(\"first sdp record must be version\");const t=e.value.slice(0,this.consumeOneOrMore(e.value,0,a));if(t.length!==e.value.length)throw new Error('invalid proto version, \"v='.concat(e.value,'\"'));return this.currentLine++,t}parseOrigin(){const e=this.getCurrentRecord();if(e.type!==o.ORIGIN)throw new Error(\"second line of sdp must be origin\");const t=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,a);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,a);this.consumeSpaceForRecord(e);const r=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const s=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const c=this.extract(e,this.consumeUnicastAddress);return this.currentLine++,{username:t,sessId:i,sessVersion:n,nettype:r,addrtype:s,unicastAddress:c}}parseSessionName(){const e=this.getCurrentRecord();if(e.type===o.SESSION_NAME){const t=this.extract(e,this.consumeText);return this.currentLine++,t}}parseInformation(){const e=this.getCurrentRecord();if(e.type!==o.INFORMATION)return;const t=this.extract(e,this.consumeText);return this.currentLine++,t}parseUri(){const e=this.getCurrentRecord();if(e.type===o.URI)return this.currentLine++,e.value}parseEmail(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==o.EMAIL)break;e.push(t.value),this.currentLine++}return e}parsePhone(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==o.PHONE)break;e.push(t.value),this.currentLine++}return e}parseConnection(){const e=this.getCurrentRecord();if(e.type===o.CONNECTION){const t=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const n=this.extract(e,this.consumeAddress);return this.currentLine++,{nettype:t,addrtype:i,address:n}}}parseMedia(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeToken);this.consumeSpaceForRecord(e);let i=this.extract(e,this.consumePort);\"/\"===e.value[e.cur]&&(e.cur+=1,i+=this.extract(e,this.consumeInteger)),this.consumeSpaceForRecord(e);const n=[];for(n.push(this.extract(e,this.consumeToken));\"/\"===e.value[e.cur];)e.cur+=1,n.push(this.extract(e,this.consumeToken));if(0===n.length)throw new Error(\"Invalid proto\");const r=this.parseFmt(e);return this.currentLine++,{mediaType:t,port:i,protos:n,fmts:r}}parseTimeFields(){const e=[];for(;this.getCurrentRecord().type===o.TIME;){const t=this.parseTime(),i=this.parseRepeat(),n=this.parseZone();e.push({time:t,repeats:i,zones:n})}return e}parseMediaDescription(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===o.MEDIA;){const t=this.parseMedia(),i=this.parseInformation(),n=this.parseConnections(),r=this.parseBandWidth(),s=this.parseKey(),o=this.parseMediaAttributes(t);e.push({media:t,information:i,connections:n,bandwidths:r,key:s,attributes:o})}return e}parseConnections(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===o.CONNECTION;)e.push(this.parseConnection());return e}parseFmt(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeToken))}catch(e){break}if(0===t.length)throw new Error(\"Invalid fmts\");return t}extract(e,t,...i){const n=t.call(this,e.value,e.cur,...i),r=e.value.slice(e.cur,n);return e.cur=n,r}extractOneOrMore(e,t){const i=this.consumeOneOrMore(e.value,e.cur,t),n=e.value.slice(e.cur,i);return e.cur=i,n}consumeSpaceForRecord(e){if(e.value[e.cur]!==s)throw new Error(\"Invalid space at \".concat(e.cur,\".\"));e.cur+=1}}class v extends R{constructor(...e){super(...e),T(this,\"attributes\",void 0),T(this,\"digested\",!1)}extractOneOrMore(e,t,i){const n=this.consumeOneOrMore(e.attValue,e._cur,t),r=e.attValue.slice(e._cur,n),[s,o]=i||[];if(\"number\"==typeof s&&r.length<s)throw new Error(\"error in length, should be more or equal than \".concat(s,\" characters.\"));if(\"number\"==typeof o&&r.length>o)throw new Error(\"error in length, should be less or equal than \".concat(o,\" characters.\"));return e._cur=n,r}consumeAttributeSpace(e){if(e.attValue[e._cur]!==s)throw new Error(\"Invalid space at \".concat(e._cur,\".\"));e._cur+=1}extract(e,t,...i){if(!e.attValue)throw new Error(\"Nothing to extract from attValue.\");const n=t.call(this,e.attValue,e._cur,...i),r=e.attValue.slice(e._cur,n);return e._cur=n,r}atEnd(e){if(!e.attValue)throw new Error;return e._cur>=e.attValue.length}peekChar(e){if(!e.attValue)throw new Error;return e.attValue[e._cur]}peek(e,t){if(!e.attValue)throw new Error;for(let i=0;i<t.length;i++)if(t[i]!==e.attValue[e._cur+i])return!1;return!0}parseIceUfrag(e){if(this.attributes.iceUfrag)throw new Error(\"Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'\");this.attributes.iceUfrag=this.extractOneOrMore(e,E,[4,256])}parseIcePwd(e){if(this.attributes.icePwd)throw new Error(\"Invalid ice-pwd, should be only a single line if 'a=ice-pwd'\");this.attributes.icePwd=this.extractOneOrMore(e,E,[22,256])}parseIceOptions(e){if(this.attributes.iceOptions)throw new Error(\"Invalid ice-options, should be only one 'ice-options' line\");const t=[];for(;!this.atEnd(e);){t.push(this.extractOneOrMore(e,E));try{this.consumeAttributeSpace(e)}catch(t){if(this.atEnd(e))break;throw t}}this.attributes.iceOptions=t}parseFingerprint(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill);this.attributes.fingerprints.push({hashFunction:t,fingerprint:i})}parseExtmap(e){const t=this.extractOneOrMore(e,a);let i;\"/\"===this.peekChar(e)&&(this.extract(e,this.consume,\"/\"),i=this.extract(e,this.consumeToken)),this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,s),r=S(S({entry:parseInt(t,10)},i&&{direction:i}),{},{extensionName:n});this.peekChar(e)===s&&(this.consumeAttributeSpace(e),r.extensionAttributes=this.extract(e,this.consumeTill)),this.attributes.extmaps.push(r)}parseSetup(e){if(this.attributes.setup)throw new Error(\"must only be one single 'a=setup' line.\");const t=this.extract(e,this.consumeTill);if(\"active\"!==t&&\"passive\"!==t&&\"actpass\"!==t&&\"holdconn\"!==t)throw new Error(\"role must be one of 'active', 'passive', 'actpass', 'holdconn'.\");this.attributes.setup=t}}class I extends v{constructor(...e){super(...e),T(this,\"attributes\",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(e){if(this.digested)throw new Error(\"already digested\");try{switch(e.attField){case\"group\":this.parseGroup(e);break;case\"ice-lite\":this.parseIceLite();break;case\"ice-ufrag\":this.parseIceUfrag(e);break;case\"ice-pwd\":this.parseIcePwd(e);break;case\"ice-options\":this.parseIceOptions(e);break;case\"fingerprint\":this.parseFingerprint(e);break;case\"setup\":this.parseSetup(e);break;case\"tls-id\":this.parseTlsId(e);break;case\"identity\":this.parseIdentity(e);break;case\"extmap\":this.parseExtmap(e);break;case\"msid-semantic\":this.parseMsidSemantic(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error(\"parsing session attribute \".concat(e.attField,' error, \"a=').concat(e.attField,\":\").concat(e.attValue,'\"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error(\"attribute parsing error\")}digest(){return this.digested=!0,this.attributes}parseGroup(e){const t=this.extract(e,this.consumeToken),i=[];for(;!this.atEnd(e)&&this.peekChar(e)===s;)this.consumeAttributeSpace(e),i.push(this.extract(e,this.consumeToken));this.attributes.groups.push({semantic:t,identificationTag:i})}parseIceLite(){if(this.attributes.iceLite)throw new Error(\"Invalid ice-lite, should be only a single line of 'a=ice-lite'\");this.attributes.iceLite=!0}parseTlsId(e){if(this.attributes.tlsId)throw new Error(\"must be only one tld-id line\");this.attributes.tlsId=this.extractOneOrMore(e,m)}parseIdentity(e){const t=this.extractOneOrMore(e,f),i=[];for(;!this.atEnd(e)&&this.peekChar(e)===s;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.extract(e,this.consume,\"=\");const n=this.extractOneOrMore(e,(e=>e!==s&&_(e)));i.push({name:t,value:n})}this.attributes.identities.push({assertionValue:t,extensions:i})}parseMsidSemantic(e){this.peekChar(e)===s&&this.consumeAttributeSpace(e);const t={semantic:this.extract(e,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(e)}catch(e){break}if(\"*\"===this.peekChar(e)){this.extract(e,this.consume,\"*\"),t.applyForAll=!0;break}{const i=this.extract(e,this.consumeTill,s);t.identifierList.push(i)}}this.attributes.msidSemantic=t}}class y extends v{constructor(e){super(),T(this,\"attributes\",void 0),-1!==e.protos.indexOf(\"RTP\")||e.protos.indexOf(\"rtp\"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(e){if(this.digested)throw new Error(\"already digested\");try{switch(e.attField){case\"extmap\":this.parseExtmap(e);break;case\"setup\":this.parseSetup(e);break;case\"ice-ufrag\":this.parseIceUfrag(e);break;case\"ice-pwd\":this.parseIcePwd(e);break;case\"ice-options\":this.parseIceOptions(e);break;case\"candidate\":this.parseCandidate(e);break;case\"remote-candidate\":this.parseRemoteCandidate(e);break;case\"end-of-candidates\":this.parseEndOfCandidates();break;case\"fingerprint\":this.parseFingerprint(e);break;case\"rtpmap\":this.parseRtpmap(e);break;case\"ptime\":this.parsePtime(e);break;case\"maxptime\":this.parseMaxPtime(e);break;case\"sendrecv\":case\"recvonly\":case\"sendonly\":case\"inactive\":this.parseDirection(e);break;case\"ssrc\":this.parseSSRC(e);break;case\"fmtp\":this.parseFmtp(e);break;case\"rtcp-fb\":this.parseRtcpFb(e);break;case\"rtcp-mux\":this.parseRTCPMux();break;case\"rtcp-mux-only\":this.parseRTCPMuxOnly();break;case\"rtcp-rsize\":this.parseRTCPRsize();break;case\"rtcp\":this.parseRTCP(e);break;case\"mid\":this.parseMid(e);break;case\"msid\":this.parseMsid(e);break;case\"imageattr\":this.parseImageAttr(e);break;case\"rid\":this.parseRid(e);break;case\"simulcast\":this.parseSimulcast(e);break;case\"sctp-port\":this.parseSctpPort(e);break;case\"max-message-size\":this.parseMaxMessageSize(e);break;case\"ssrc-group\":this.parseSSRCGroup(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error(\"parsing media attribute \".concat(e.attField,' error, \"a=').concat(e.attField,\":\").concat(e.attValue,'\"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error(\"attribute parsing error\")}parseCandidate(e){const t=this.extractOneOrMore(e,E,[1,32]);this.consumeAttributeSpace(e);const i=this.extractOneOrMore(e,a,[1,5]);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const r=this.extractOneOrMore(e,a,[1,10]);this.consumeAttributeSpace(e);const o=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const d=this.extract(e,this.consumePort);this.consumeAttributeSpace(e),this.extract(e,this.consume,\"typ\"),this.consumeAttributeSpace(e);const l={foundation:t,componentId:i,transport:n,priority:r,connectionAddress:o,port:d,type:this.extract(e,this.consumeToken),extension:{}};for(this.peek(e,\" raddr\")&&(this.extract(e,this.consume,\" raddr\"),this.consumeAttributeSpace(e),l.relAddr=this.extract(e,this.consumeAddress)),this.peek(e,\" rport\")&&(this.extract(e,this.consume,\" rport\"),this.consumeAttributeSpace(e),l.relPort=this.extract(e,this.consumePort));this.peekChar(e)===s;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e),l.extension[t]=this.extractOneOrMore(e,c)}this.attributes.candidates.push(l)}parseRemoteCandidate(e){const t=[];for(;;){const i=this.extractOneOrMore(e,a,[1,5]);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumePort);t.push({componentId:i,connectionAddress:n,port:r});try{this.consumeAttributeSpace(e)}catch(e){break}}this.attributes.remoteCandidatesList.push(t)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error(\"must be only one line of end-of-candidates\");this.attributes.endOfCandidates=!0}parseRtpmap(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,\"/\");this.extract(e,this.consume,\"/\");const n={encodingName:i,clockRate:this.extractOneOrMore(e,a)};this.atEnd(e)||\"/\"!==this.peekChar(e)||(this.extract(e,this.consume,\"/\"),n.encodingParameters=parseInt(this.extract(e,this.consumeTill),10));const r=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));r?r.rtpMap=n:this.attributes.payloads.push({payloadType:parseInt(t,10),rtpMap:n,rtcpFeedbacks:[]})}parsePtime(e){if(this.attributes.ptime)throw new Error(\"must be only one line of ptime\");this.attributes.ptime=this.extract(e,this.consumeTill)}parseMaxPtime(e){if(this.attributes.maxPtime)throw new Error(\"must be only one line of ptime\");this.attributes.maxPtime=this.extract(e,this.consumeTill)}parseDirection(e){if(this.attributes.direction)throw new Error(\"must be only one line of direction info\");this.attributes.direction=e.attField}parseSSRC(e){const t=this.extractOneOrMore(e,a);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,\":\");let n;\":\"===this.peekChar(e)&&(this.extract(e,this.consume,\":\"),n=this.extract(e,this.consumeTill));const r=this.attributes.ssrcs.find((e=>e.ssrcId===parseInt(t,10)));r?r.attributes[i]=n:this.attributes.ssrcs.push({ssrcId:parseInt(t,10),attributes:{[i]:n}})}parseFmtp(e){const t=this.extract(e,this.consumeTill,s);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill),n={};i.split(\";\").forEach((e=>{let[t,i]=e.split(\"=\");t=t.trim();const r=\"string\"==typeof i?i.trim():null;\"string\"==typeof t&&t.length>0&&(n[t]=r)}));const r=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));r?r.fmtp={parameters:n}:this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[],fmtp:{parameters:n}})}parseFmtParameters(e){const t={},i=this.extract(e,this.consumeTill,\"=\");e._cur++;const n=this.extract(e,this.consumeTill,\";\");for(t[i]=n;\";\"===e.attValue[e._cur];){const i=this.extract(e,this.consumeTill,\"=\");e._cur++;const n=this.extract(e,this.consumeTill,\";\");t[i]=n}return t}parseRtcpFb(e){let t=\"\";t=\"*\"===this.peekChar(e)?this.extract(e,this.consume,\"*\"):this.extract(e,this.consumeTill,s),this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,s);let n;if(\"trr-int\"===i)n={type:i,interval:this.extract(e,this.consumeTill)};else{const t={type:i};this.peekChar(e)===s&&(this.consumeAttributeSpace(e),t.parameter=this.extract(e,this.consumeToken),this.peekChar(e)===s&&(t.additional=this.extract(e,this.consumeTill))),n=t}if(\"*\"===t)this.attributes.rtcpFeedbackWildcards.push(n);else{const e=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));e?e.rtcpFeedbacks.push(n):this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[n]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error(\"must be single line of rtcp-mux\");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error(\"must be single line of rtcp-only\");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error(\"must be single line of rtcp-rsize\");this.attributes.rtcpRsize=!0}parseRTCP(e){if(this.attributes.rtcp)throw new Error(\"must be single line of rtcp\");const t={port:this.extract(e,this.consumePort)};this.peekChar(e)===s&&(this.consumeAttributeSpace(e),t.netType=this.extractOneOrMore(e,l),this.consumeAttributeSpace(e),t.addressType=this.extractOneOrMore(e,l),this.consumeAttributeSpace(e),t.address=this.extract(e,this.consumeAddress)),this.attributes.rtcp=t}parseMsid(e){const t={id:this.extractOneOrMore(e,l,[1,64])};this.peekChar(e)===s&&(this.consumeAttributeSpace(e),t.appdata=this.extractOneOrMore(e,l,[1,64])),this.attributes.msids.push(t)}parseImageAttr(e){this.attributes.imageattr.push(e.attValue)}parseRid(e){const t=this.extractOneOrMore(e,(e=>u(e)||a(e)||\"_\"===e||\"-\"===e));this.consumeAttributeSpace(e);const i={id:t,direction:this.extract(e,this.consumeToken),params:[]};if(this.peekChar(e)===s){if(this.consumeAttributeSpace(e),this.peek(e,\"pt=\")){this.extract(e,this.consume,\"pt=\");const t=[];for(;;){const i=this.extract(e,this.consumeToken);t.push(i);try{this.extract(e,this.consume,\",\")}catch(e){break}}i.payloads=t,this.peekChar(e)===s&&this.extract(e,this.consume,s)}for(;;){const t=this.extract(e,this.consumeToken);switch(t){case\"depend\":{const n={type:t,rids:this.extract(e,this.consume,\"=\").split(\",\")};i.params.push(n);break}default:{const n={type:t};\"=\"===this.peekChar(e)&&(this.extract(e,this.consume,\"=\"),n.val=this.extract(e,this.consumeTill,\";\")),i.params.push(n)}}try{this.extract(e,this.consume,\";\")}catch(e){break}}}this.attributes.rids.push(i)}parseSimulcast(e){if(this.attributes.simulcast)throw new Error(\"must be single line of simulcast\");this.attributes.simulcast=e.attValue,this.extract(e,this.consumeTill)}parseSctpPort(e){this.attributes.sctpPort=this.extractOneOrMore(e,a,[1,5])}parseMaxMessageSize(e){this.attributes.maxMessageSize=this.extractOneOrMore(e,a,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(e){this.attributes.mid=this.extract(e,this.consumeToken)}parseSSRCGroup(e){const t=this.extract(e,this.consumeToken),i=[];for(;;)try{this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeInteger);i.push(parseInt(t,10))}catch(e){break}this.attributes.ssrcGroups.push({semantic:t,ssrcIds:i})}}function A(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class b{constructor(){A(this,\"eol\",r)}print(e,t){let i=\"\";return t&&(this.eol=t),i+=this.printVersion(e.version),i+=this.printOrigin(e.origin),i+=this.printSessionName(e.sessionName),i+=this.printInformation(e.information),i+=this.printUri(e.uri),i+=this.printEmail(e.emails),i+=this.printPhone(e.phones),i+=this.printConnection(e.connection),i+=this.printBandwidth(e.bandwidths),i+=this.printTimeFields(e.timeFields),i+=this.printKey(e.key),i+=this.printSessionAttributes(e.attributes),i+=this.printMediaDescription(e.mediaDescriptions),i}printVersion(e){return\"v=\".concat(e).concat(this.eol)}printOrigin(e){return\"o=\".concat(e.username,\" \").concat(e.sessId,\" \").concat(e.sessVersion,\" \").concat(e.nettype,\" \").concat(e.addrtype,\" \").concat(e.unicastAddress).concat(this.eol)}printSessionName(e){return e?\"s=\".concat(e).concat(this.eol):\"\"}printInformation(e){return e?\"i=\".concat(e).concat(this.eol):\"\"}printUri(e){return e?\"u=\".concat(e).concat(this.eol):\"\"}printEmail(e){let t=\"\";for(const i of e)t+=\"e=\".concat(i).concat(this.eol);return t}printPhone(e){let t=\"\";for(const i of e)t+=\"e=\".concat(i).concat(this.eol);return t}printConnection(e){return e?\"c=\".concat(e.nettype,\" \").concat(e.addrtype,\" \").concat(e.address).concat(this.eol):\"\"}printBandwidth(e){let t=\"\";for(const i of e)t+=\"b=\".concat(i.bwtype,\":\").concat(i.bandwidth).concat(this.eol);return t}printTimeFields(e){let t=\"\";for(const i of e){t+=\"t=\".concat(i.time.startTime,\" \").concat(i.time.startTime).concat(this.eol);for(const e of i.repeats)t+=\"r=\".concat(e.repeatInterval,\" \").concat(e.typedTimes.join(\" \")).concat(this.eol);i.zoneAdjustments&&(t+=\"z=\",t+=\"z=\".concat(i.zoneAdjustments.map((e=>\"\".concat(e.time,\" \").concat(e.back?\"-\":\"\",\" \").concat(e.typedTime))).join(\" \")).concat(this.eol),t+=this.eol)}return t}printKey(e){return e?\"k=\".concat(e).concat(this.eol):\"\"}printAttributes(e){let t=\"\";for(const i of e)t+=\"a=\".concat(i.attField).concat(i.attValue?\":\".concat(i.attValue):\"\").concat(this.eol);return t}printMediaDescription(e){let t=\"\";for(const i of e)t+=this.printMedia(i.media),t+=this.printInformation(i.information),t+=this.printConnections(i.connections),t+=this.printBandwidth(i.bandwidths),t+=this.printKey(i.key),t+=this.printMediaAttributes(i);return t}printConnections(e){let t=\"\";for(const i of e)t+=this.printConnection(i);return t}printMedia(e){return\"m=\".concat(e.mediaType,\" \").concat(e.port,\" \").concat(e.protos.join(\"/\"),\" \").concat(e.fmts.join(\" \")).concat(this.eol)}printSessionAttributes(e){return new O(this.eol).print(e)}printMediaAttributes(e){return new N(this.eol).print(e)}}class w{constructor(e){A(this,\"eol\",void 0),this.eol=e}printIceUfrag(e){return void 0===e?\"\":\"a=ice-ufrag:\".concat(e).concat(this.eol)}printIcePwd(e){return void 0===e?\"\":\"a=ice-pwd:\".concat(e).concat(this.eol)}printIceOptions(e){return void 0===e?\"\":\"a=ice-options:\".concat(e.join(s)).concat(this.eol)}printFingerprints(e){return e.length>0?e.map((e=>\"a=fingerprint:\".concat(e.hashFunction).concat(s).concat(e.fingerprint))).join(this.eol)+this.eol:\"\"}printExtmap(e){return e.map((e=>\"a=extmap:\".concat(e.entry).concat(e.direction?\"/\".concat(e.direction):\"\").concat(s).concat(e.extensionName).concat(e.extensionAttributes?\"\".concat(s).concat(e.extensionAttributes):\"\").concat(this.eol))).join(\"\")}printSetup(e){return void 0===e?\"\":\"a=setup:\".concat(e).concat(this.eol)}printUnrecognized(e){return e.map((e=>\"a=\".concat(e.attField).concat(e.attValue?\":\".concat(e.attValue):\"\").concat(this.eol))).join(\"\")}}class O extends w{print(e){let t=\"\";return t+=this.printGroups(e.groups),t+=this.printMsidSemantic(e.msidSemantic),t+=this.printIceLite(e.iceLite),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printTlsId(e.tlsId),t+=this.printIdentity(e.identities),t+=this.printExtmap(e.extmaps),t+=this.printUnrecognized(e.unrecognized),t}printGroups(e){let t=\"\";return e.length>0&&(t+=e.map((e=>\"a=group:\".concat(e.semantic).concat(e.identificationTag.map((e=>\"\".concat(s).concat(e))).join(\"\")).concat(this.eol))).join(\"\")),t}printIceLite(e){return void 0===e?\"\":\"a=ice-lite\"+this.eol}printTlsId(e){return e?\"a=tls-id:\".concat(e).concat(this.eol):\"\"}printIdentity(e){return 0===e.length?\"\":e.map((e=>\"a=identity:\".concat(e.assertionValue).concat(e.extensions.map((e=>\"\".concat(s).concat(e.name).concat(e.value?\"=\".concat(e.value):\"\")))))).join(this.eol)+this.eol}printMsidSemantic(e){if(!e)return\"\";let t=\"a=msid-semantic:\".concat(e.semantic);return e.applyForAll?t+=\"\".concat(s,\"*\"):e.identifierList.length>0&&(t+=e.identifierList.map((e=>\"\".concat(s).concat(e)))),t+this.eol}}class N extends w{print(e){const t=e.attributes;let i=\"\";return i+=this.printRTCP(t.rtcp),i+=this.printIceUfrag(t.iceUfrag),i+=this.printIcePwd(t.icePwd),i+=this.printIceOptions(t.iceOptions),i+=this.printCandidates(t.candidates),i+=this.printRemoteCandidatesList(t.remoteCandidatesList),i+=this.printEndOfCandidates(t.endOfCandidates),i+=this.printFingerprints(t.fingerprints),i+=this.printSetup(t.setup),i+=this.printMid(t.mid),i+=this.printExtmap(t.extmaps),i+=this.printRTPRelated(t),i+=this.printPtime(t.ptime),i+=this.printMaxPtime(t.maxPtime),i+=this.printDirection(t.direction),i+=this.printSSRCGroups(t.ssrcGroups),i+=this.printSSRC(t.ssrcs),i+=this.printRTCPMux(t.rtcpMux),i+=this.printRTCPMuxOnly(t.rtcpMuxOnly),i+=this.printRTCPRsize(t.rtcpRsize),i+=this.printMSId(t.msids),i+=this.printImageattr(t.imageattr),i+=this.printRid(t.rids),i+=this.printSimulcast(t.simulcast),i+=this.printSCTPPort(t.sctpPort),i+=this.printMaxMessageSize(t.maxMessageSize),i+=this.printUnrecognized(t.unrecognized),i}printCandidates(e){return e.map((e=>\"a=candidate:\".concat(e.foundation).concat(s).concat(e.componentId).concat(s).concat(e.transport).concat(s).concat(e.priority).concat(s).concat(e.connectionAddress).concat(s).concat(e.port).concat(s,\"typ\").concat(s).concat(e.type).concat(e.relAddr?\"\".concat(s,\"raddr\").concat(s).concat(e.relAddr):\"\").concat(e.relPort?\"\".concat(s,\"rport\").concat(s).concat(e.relPort):\"\").concat(Object.keys(e.extension).map((t=>\"\".concat(s).concat(t).concat(s).concat(e.extension[t]))).join(\"\")).concat(this.eol))).join(\"\")}printRemoteCandidatesList(e){return e.map((e=>\"a=remote-candidates:\".concat(e.join(s)).concat(this.eol))).join(\"\")}printEndOfCandidates(e){return void 0===e?\"\":\"a=end-of-candidates\"+this.eol}printRTPRelated(e){if(!e.payloads)return\"\";const t=e.payloads;let i=\"\";i+=e.rtcpFeedbackWildcards.map((e=>this.printRTCPFeedback(\"*\",e))).join(\"\");for(const e of t)i+=this.printRtpMap(e.payloadType,e.rtpMap),i+=this.printFmtp(e.payloadType,e.fmtp),i+=e.rtcpFeedbacks.map((t=>this.printRTCPFeedback(e.payloadType,t))).join(\"\");return i}printFmtp(e,t){if(!t)return\"\";const i=Object.keys(t.parameters);return 1===i.length&&null===t.parameters[i[0]]?\"a=fmtp:\".concat(e).concat(s).concat(i[0]).concat(this.eol):\"a=fmtp:\".concat(e).concat(s).concat(Object.keys(t.parameters).map((e=>\"\".concat(e,\"=\").concat(t.parameters[e]))).join(\";\")).concat(this.eol)}printRtpMap(e,t){return t?\"a=rtpmap:\".concat(e).concat(s).concat(t.encodingName,\"/\").concat(t.clockRate).concat(t.encodingParameters?\"/\".concat(t.encodingParameters):\"\").concat(this.eol):\"\"}printRTCPFeedback(e,t){let i=\"a=rtcp-fb:\".concat(e).concat(s),n=t;return\"trr-int\"===n.type?i+=\"ttr-int\".concat(s).concat(n.interval):(i+=\"\".concat(n.type),n.parameter&&(i+=\"\".concat(s).concat(n.parameter),n.additional&&(i+=\"\".concat(s).concat(n.additional)))),i+this.eol}printPtime(e){return void 0===e?\"\":\"a=ptime:\".concat(e).concat(this.eol)}printMaxPtime(e){return void 0===e?\"\":\"a=maxptime:\".concat(e).concat(this.eol)}printDirection(e){return void 0===e?\"\":\"a=\".concat(e).concat(this.eol)}printSSRC(e){return e.map((e=>Object.keys(e.attributes).map((t=>\"a=ssrc:\".concat(e.ssrcId.toString(10)).concat(s).concat(t).concat(e.attributes[t]?\":\".concat(e.attributes[t]):\"\").concat(this.eol))).join(\"\"))).join(\"\")}printRTCPMux(e){return void 0===e?\"\":\"a=rtcp-mux\".concat(this.eol)}printRTCPMuxOnly(e){return void 0===e?\"\":\"a=rtcp-mux-only\".concat(this.eol)}printRTCPRsize(e){return void 0===e?\"\":\"a=rtcp-rsize\".concat(this.eol)}printRTCP(e){if(void 0===e)return\"\";let t=\"a=rtcp:\".concat(e.port);return e.netType&&(t+=\"\".concat(s).concat(e.netType)),e.addressType&&(t+=\"\".concat(s).concat(e.addressType)),e.address&&(t+=\"\".concat(s).concat(e.address)),t+this.eol}printMSId(e){return e.map((e=>\"a=msid:\".concat(e.id).concat(e.appdata?\"\".concat(s).concat(e.appdata):\"\").concat(this.eol))).join(\"\")}printImageattr(e){return e.map((e=>\"a=imageattr:\".concat(e).concat(this.eol))).join(\"\")}printRid(e){return e.map((e=>{let t=\"a=rid:\".concat(e.id).concat(s).concat(e.direction);return e.payloads&&(t+=\"\".concat(s,\"pt=\").concat(e.payloads.join(\",\"))),e.params.length>0&&(t+=\"\".concat(s).concat(e.params.map((e=>\"depend\"===e.type?\"depend=\".concat(e.rids.join(\",\")):\"\".concat(e.type,\"=\").concat(e.val))).join(\";\"))),t+this.eol})).join(\"\")}printSimulcast(e){return void 0===e?\"\":\"a=simulcast:\".concat(e).concat(this.eol)}printSCTPPort(e){return void 0===e?\"\":\"a=sctp-port:\".concat(e).concat(this.eol)}printMaxMessageSize(e){return void 0===e?\"\":\"a=max-message-size:\".concat(e).concat(this.eol)}printMid(e){return void 0===e?\"\":\"a=mid:\".concat(e).concat(this.eol)}printSSRCGroups(e){return e.map((e=>\"a=ssrc-group:\".concat(e.semantic).concat(e.ssrcIds.map((e=>\"\".concat(s).concat(e.toString(10)))).join(\"\")).concat(this.eol))).join(\"\")}}function D(e){return(new C).parse(e)}function P(e,t){return(new b).print(e,t)}}},t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}return i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i(8)})()}(jP);var GP=jP.exports;function WP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function HP(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?WP(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):WP(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function KP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;const{filterRTX:r,filterVideoFec:s,filterAudioFec:o,filterAudioCodec:a,filterVideoCodec:c}=t,{useXR:d}=i;let l=[],h=[],u=[],p=[],_=!1,E=!1;if(GP.parse(e).mediaDescriptions.forEach((e=>{n&&n!==e.attributes.direction||(\"video\"!==e.media.mediaType||_||(h=e.attributes.payloads,p=e.attributes.extmaps,_=!0),\"audio\"!==e.media.mediaType||E||(l=e.attributes.payloads,u=e.attributes.extmaps,E=!0))})),!p||0===h.length)throw new Error(\"Cannot get video capabilities from SDP.\");if(!u||0===l.length)throw new Error(\"Cannot get audio capabilities from SDP.\");return h.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),d&&e.rtcpFeedbacks.push({type:\"rrtr\"})})),l.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),d&&e.rtcpFeedbacks.push({type:\"rrtr\"})})),r&&(l=l.filter((e=>{var t;return\"rtx\"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})),h=h.filter((e=>{var t;return\"rtx\"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}))),s&&(h=h.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||\"\")}))),o&&(l=l.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||\"\")}))),a&&(null==a?void 0:a.length)>0&&(l=l.filter((e=>{var t;return Pr(a).call(a,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\")}))),c&&(null==c?void 0:c.length)>0&&(h=h.filter((e=>{var t;return Pr(c).call(c,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\")}))),{audioCodecs:l,videoCodecs:h,audioExtensions:u,videoExtensions:p}}function YP(e){const t=GP.parse(e);let i,n;for(const e of t.mediaDescriptions){if(!i){const t=e.attributes.iceUfrag,n=e.attributes.icePwd;if(!t||!n)throw new Error(\"Cannot get iceUfrag or icePwd from SDP.\");i={iceUfrag:t,icePwd:n}}if(!n){const t=e.attributes.fingerprints;t.length>0&&(n={fingerprints:t})}}if(!n&&t.attributes.fingerprints.length>0&&(n={fingerprints:t.attributes.fingerprints}),!n||!i)throw new Error(\"Cannot get iceParameters or dtlsParameters from SDP.\");return{iceParameters:i,dtlsParameters:n}}function qP(e,t){const i=[],n=e.attributes.ssrcGroups.filter((e=>\"FID\"===e.semantic)),r=e.attributes.ssrcGroups.find((e=>\"SIM\"===e.semantic)),s=e.attributes.ssrcs;if(r)r.ssrcIds.forEach((e=>{var r;const s=null===(r=n.find((t=>t.ssrcIds[0]===e)))||void 0===r?void 0:r.ssrcIds[1];i.push({ssrcId:e,rtx:t?s:void 0})}));else if(n.length>0){const e=n[0].ssrcIds[0],r=n[0].ssrcIds[1];i.push({ssrcId:e,rtx:t?r:void 0})}else{if(0===s.length)throw new Error(\"No ssrcs found on local media description.\");i.push({ssrcId:s[0].ssrcId})}return i}function JP(e,t){const{cname:i}=e;let n;t&&t.ip&&\"number\"==typeof t.port?(n=[{foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip,port:t.port.toString(),type:\"host\",extension:{}}],WC.debug(\"Using remote candidate from AP \".concat(t.ip,\":\").concat(t.port)),t.ip6&&(n.push({foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip6,port:t.port.toString(),type:\"host\",extension:{}}),WC.debug(\"Using IPV6 remote candidate from AP \".concat(t.ip6,\":\").concat(t.port)))):n=e.iceParameters.candidates.map((e=>({foundation:e.foundation,componentId:\"1\",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}})));const r={fingerprints:e.dtlsParameters.fingerprints.map((e=>({hashFunction:e.algorithm,fingerprint:e.fingerprint})))},s={iceUfrag:e.iceParameters.iceUfrag,icePwd:e.iceParameters.icePwd};let o;switch(e.dtlsParameters.role){case\"server\":o=\"passive\";break;case\"client\":o=\"active\";break;case\"auto\":o=\"actpass\"}return{dtlsParameters:r,iceParameters:s,candidates:n,rtpCapabilities:rL(e.rtpCapabilities),setup:o,cname:i}}function zP(e,t,i){const n=[],r=[];return e.forEach((e=>{let{ssrcId:s,rtx:o}=e;const a=xS(8,\"track-\"),c={ssrcId:s,attributes:HP({label:a,mslabel:i=i||xS(10,\"\"),msid:\"\".concat(i,\" \").concat(a)},t&&{cname:t})};if(n.push(c),void 0!==o){const e={ssrcId:o,attributes:HP({label:a,mslabel:i,msid:\"\".concat(i,\" \").concat(a)},t&&{cname:t})};n.push(e),r.push({semantic:\"FID\",ssrcIds:[s,o]})}})),e.length>1&&r.push({semantic:\"SIM\",ssrcIds:e.map((e=>{let{ssrcId:t}=e;return t}))}),{ssrcs:n,ssrcGroups:r}}function XP(e,t){t instanceof zA&&e.attributes.payloads.forEach((e=>{var i;const n=null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase();if(!n||-1===[\"opus\",\"pcmu\",\"pcma\",\"g722\"].indexOf(n))return;e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.minptime=\"10\",e.fmtp.parameters.useinbandfec=\"1\";const r=t._encoderConfig;r&&\"pcmu\"!==n&&\"pcma\"!==n&&\"g722\"!==n&&(r.bitrate&&!Rg()&&(e.fmtp.parameters.maxaveragebitrate=\"\".concat(Math.floor(1e3*r.bitrate))),r.sampleRate&&(e.fmtp.parameters.maxplaybackrate=\"\".concat(r.sampleRate),e.fmtp.parameters[\"sprop-maxcapturerate\"]=\"\".concat(r.sampleRate)),r.stereo&&(e.fmtp.parameters.stereo=\"1\",e.fmtp.parameters[\"sprop-stereo\"]=\"1\"))}))}function QP(e){const t=e.attributes.unrecognized.findIndex((e=>\"x-google-flag\"===e.attField&&\"conference\"===e.attValue));-1!==t&&e.attributes.unrecognized.splice(t,1)}function ZP(e,t){var i;if(!(t instanceof fb&&t._encoderConfig&&-1===t._hints.indexOf(Dy.SCREEN_TRACK)))return;const n=t._encoderConfig;hA().supportMinBitrate&&n.bitrateMin&&e.attributes.payloads.forEach((e=>{var t,i;Pr(t=[\"h264\",\"h265\",\"vp8\",\"vp9\",\"av1\"]).call(t,(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters[\"x-google-min-bitrate\"]=\"\".concat(n.bitrateMin))})),hA().supportMinBitrate&&!Pr(i=t._hints).call(i,Dy.LOW_STREAM)&&n.bitrateMax&&e.attributes.payloads.forEach((e=>{var t,i;Pr(t=[\"h264\",\"h265\",\"vp8\",\"vp9\",\"av1\"]).call(t,(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters[\"x-google-start-bitrate\"]=\"\".concat(kC(\"X_GOOGLE_START_BITRATE\")||Math.floor(n.bitrateMax)))}))}function $P(e){if(\"video\"!==e.media.mediaType)return;const t=pg();if(t.name!==cg.SAFARI&&t.os!==ag.IOS)return;const i=e.attributes.extmaps.findIndex((e=>/video-orientation/g.test(e.extensionName)));-1!==i&&e.attributes.extmaps.splice(i,1)}function eL(e,t,i){if(!t)return;let n,r;if(\"video\"===e.media.mediaType?(n=i.videoExtensions,r=i.videoCodecs):(n=i.audioExtensions,r=i.audioCodecs),!0===t.twcc){const t=n.find((e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName));if(t){e.attributes.extmaps.find((e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName))||e.attributes.extmaps.push({entry:t.entry,extensionName:\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"});const i=function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>\"transport-cc\"===e.type))))))}(r,e.attributes.payloads);i.forEach((e=>{e.rtcpFeedbacks.find((e=>\"transport-cc\"===e.type))||e.rtcpFeedbacks.push({type:\"transport-cc\"})}))}}else if(!1===t.twcc){const t=e.attributes.extmaps.findIndex((e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>\"transport-cc\"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}if(!0===t.remb){const t=n.find((e=>\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"===e.extensionName));if(t){e.attributes.extmaps.find((e=>\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"===e.extensionName))||e.attributes.extmaps.push({entry:t.entry,extensionName:\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"});const i=function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>\"goog-remb\"===e.type))))))}(r,e.attributes.payloads);i.forEach((e=>{e.rtcpFeedbacks.find((e=>\"goog-remb\"===e.type))||e.rtcpFeedbacks.push({type:\"goog-remb\"})}))}}else if(!1===t.remb){const t=e.attributes.extmaps.findIndex((e=>\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"===e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>\"goog-remb\"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}}function tL(e,t,i){if(Rg())return;if(\"video\"!==e.media.mediaType)return;if(!(t instanceof fb))return;if(\"vp9\"!==i&&\"vp8\"!==i)return;if(\"vp8\"===i&&!kC(\"SIMULCAST\"))return;if(void 0===t._scalabilityMode||t._scalabilityMode.numSpatialLayers<=1)return;const n=\"vp8\"===i?2:t._scalabilityMode.numSpatialLayers,r=e.attributes.ssrcs[0],s=e.attributes.ssrcGroups.find((e=>\"FID\"===e.semantic&&e.ssrcIds[0]===r.ssrcId)),o={semantic:\"SIM\",ssrcIds:[r.ssrcId]};for(let t=1;t<n;t++)e.attributes.ssrcs.push({ssrcId:r.ssrcId+t,attributes:bS(r.attributes)}),o.ssrcIds.push(r.ssrcId+t),s&&(e.attributes.ssrcs.push({ssrcId:s.ssrcIds[1]+t,attributes:bS(r.attributes)}),e.attributes.ssrcGroups.push({semantic:\"FID\",ssrcIds:[r.ssrcId+t,s.ssrcIds[1]+t]}));e.attributes.ssrcGroups.unshift(o)}async function iL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{filterRTX:i,filterVideoFec:n,filterAudioFec:r,filterAudioCodec:s,filterVideoCodec:o}=e,{useXR:a}=t,c=new RTCPeerConnection;c.addTransceiver(\"video\",{direction:\"sendonly\"}),c.addTransceiver(\"audio\",{direction:\"sendonly\"}),c.addTransceiver(\"video\",{direction:\"recvonly\"}),c.addTransceiver(\"audio\",{direction:\"recvonly\"});const d=(await c.createOffer()).sdp,l=KP(d,{filterRTX:i,filterVideoFec:n,filterAudioFec:r,filterAudioCodec:s,filterVideoCodec:o},{useXR:a},\"sendonly\"),h=KP(d,{filterRTX:i,filterVideoFec:n,filterAudioFec:r,filterAudioCodec:s,filterVideoCodec:o},{useXR:a},\"recvonly\"),u={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},p={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},_={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(nL(l,h,\"videoExtensions\",u,p,_),nL(l,h,\"videoCodecs\",u,p,_),nL(l,h,\"audioExtensions\",u,p,_),nL(l,h,\"audioCodecs\",u,p,_),kC(\"RAISE_H264_BASELINE_PRIORITY\")){const e=_.videoCodecs.findIndex((e=>{var t,i;return\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&\"42001f\"===(null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"])}));if(-1!==e){const t=_.videoCodecs.findIndex((e=>{var t;return\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())}));if(t<e){WC.debug(\"raising H264 baseline profile priority\");const i=_.videoCodecs[e];_.videoCodecs.splice(e,1),_.videoCodecs.splice(t,0,i)}-1!==t&&(p.videoCodecs=p.videoCodecs.filter((e=>{var t,i;return!(\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&\"42001f\"!==(null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"]))}))),-1!==t&&kC(\"FILTER_SEND_H264_BASELINE\")&&(u.videoCodecs=u.videoCodecs.filter((e=>{var t,i;return!(\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&\"42001f\"!==(null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"]))})))}}try{c.close()}catch(e){}return{send:u,recv:p,sendrecv:_}}function nL(e,t,i,n,r,s){if(\"videoExtensions\"===i||\"audioExtensions\"===i){const o=[];return e[i].forEach((e=>{t[i].some(((t,i)=>{if(e.entry===t.entry&&e.extensionName===t.extensionName)return o.push(i),!0}))?s[i].push(e):n[i].push(e)})),void t[i].forEach(((e,t)=>{-1===o.indexOf(t)&&r[i].push(e)}))}if(\"videoCodecs\"===i||\"audioCodecs\"===i){const o=[];return e[i].forEach((e=>{t[i].some(((t,i)=>{if(e.payloadType===t.payloadType&&JSON.stringify(e)===JSON.stringify(t))return o.push(i),!0}))?s[i].push(e):n[i].push(e)})),void t[i].forEach(((e,t)=>{-1===o.indexOf(t)&&r[i].push(e)}))}}function rL(e){const{send:t,recv:i,sendrecv:n}=e;if(!n){if(!t||!i)throw new Error(\"cannot merge rtp capabilities because one of send or recv is empty!\");return{send:t,recv:i}}let r,s;return t?(r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r.audioCodecs=[...t.audioCodecs,...n.audioCodecs],r.videoCodecs=[...t.videoCodecs,...n.videoCodecs],r.audioExtensions=[...t.audioExtensions,...n.audioExtensions],r.videoExtensions=[...t.videoExtensions,...n.videoExtensions]):r=n,i?(s={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},s.audioCodecs=[...i.audioCodecs,...n.audioCodecs],s.videoCodecs=[...i.videoCodecs,...n.videoCodecs],s.audioExtensions=[...i.audioExtensions,...n.audioExtensions],s.videoExtensions=[...i.videoExtensions,...n.videoExtensions]):s=n,{send:r,recv:s}}function sL(e){if(\"audio\"!==e.media.mediaType)return;e.attributes.payloads.filter((e=>{var t;return\"opus\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})).forEach((e=>{e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.stereo=\"1\",e.fmtp.parameters[\"sprop-stereo\"]=\"1\"}))}function oL(e){e.mediaDescriptions.forEach((e=>{\"video\"!==e.media.mediaType&&\"audio\"!==e.media.mediaType||e.attributes.payloads.forEach((e=>{-1===e.rtcpFeedbacks.findIndex((e=>\"rrtr\"===e.type))&&e.rtcpFeedbacks.push({type:\"rrtr\"})}))}))}function aL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function cL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?aL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):aL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function dL(e){if(Array.isArray(e))return e.map((e=>e));if(!lL(e))return e;const t={};for(const i in e){const n=e[i];lL(n)||Array.isArray(n)?t[i]=dL(n):t[i]=n}return t}function lL(e){return!(\"object\"!=typeof e||Array.isArray(e)||!e)}class hL{constructor(e){nu(this,\"input\",[]),nu(this,\"size\",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}}const uL={address:\"unknown\",candidateType:\"unknown\",id:\"unknown\",port:0,priority:0,protocol:\"unknown\",type:\"unknown\"},pL={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:\"unknown\",localCandidate:uL,remoteCandidate:uL}},_L={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0},EL={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},mL={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},fL={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0};function gL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function SL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?gL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):gL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class TL{constructor(e,t){nu(this,\"onFirstVideoReceived\",void 0),nu(this,\"onFirstVideoDecoded\",void 0),nu(this,\"onFirstAudioReceived\",void 0),nu(this,\"onFirstVideoDecodedTimeout\",void 0),nu(this,\"onFirstAudioDecoded\",void 0),nu(this,\"onSelectedLocalCandidateChanged\",void 0),nu(this,\"onSelectedRemoteCandidateChanged\",void 0),nu(this,\"videoIsReady\",!1),nu(this,\"videoIsReady2\",{}),nu(this,\"pc\",void 0),nu(this,\"options\",void 0),nu(this,\"intervalTimer\",void 0),nu(this,\"stats\",dL(pL)),nu(this,\"isFirstVideoReceived\",{}),nu(this,\"isFirstVideoDecoded\",{}),nu(this,\"isFirstAudioReceived\",{}),nu(this,\"isFirstAudioDecoded\",{}),nu(this,\"isFirstVideoDecodedTimeout\",{}),nu(this,\"lossRateWindowStats\",[]),this.pc=e,this.options=t,this.intervalTimer=window.setInterval((async()=>{this.updateStats()}),this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new tg((e=>{e({local:SL({},uL),remote:SL({},uL)})}))}setVideoIsReady(e){this.videoIsReady=e}setVideoIsReady2(e,t){this.videoIsReady2[e]=t}getVideoIsReady(e){return this.videoIsReady2[e]||!1}setIsFirstAudioDecoded(e){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(e){this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);const t=this.lossRateWindowStats.length,i=[\"videoSend\",\"audioSend\",\"videoRecv\",\"audioRecv\"];let n=0,r=0,s=0,o=0;for(const a of i)e[a].forEach(((e,i)=>{if(!this.lossRateWindowStats[t-1][a][i]||!this.lossRateWindowStats[0][a][i])return;const c=this.lossRateWindowStats[t-1][a][i].packets-this.lossRateWindowStats[0][a][i].packets,d=this.lossRateWindowStats[t-1][a][i].packetsLost-this.lossRateWindowStats[0][a][i].packetsLost;\"videoSend\"===a||\"audioSend\"===a?(n+=c,s+=d):(r+=c,o+=d),Number.isNaN(c)||Number.isNaN(c)?e.packetLostRate=0:e.packetLostRate=c<=0||d<=0?0:d/(c+d)}));e.sendPacketLossRate=n<=0||s<=0?0:s/(n+s),e.recvPacketLossRate=r<=0||o<=0?0:o/(r+o)}}function RL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function CL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?RL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):RL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class vL extends TL{constructor(){super(...arguments),nu(this,\"_stats\",pL),nu(this,\"lastDecodeVideoReceiverStats\",new Map)}async updateStats(){const e=await this._getStats(),t=this.statsResponsesToObjects(e);this._stats=dL(pL);const i=t.filter((e=>\"ssrc\"===e.type));this.processSSRCStats(i);const n=t.find((e=>\"VideoBwe\"===e.type));n&&this.processBandwidthStats(n),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)}processSSRCStats(e){e.forEach((e=>{var t;const i=Pr(t=e.id).call(t,\"send\");switch(\"\".concat(e.mediaType,\"_\").concat(i?\"send\":\"recv\")){case\"video_send\":{const t=dL(EL);t.codec=e.googCodecName,t.adaptionChangeReason=\"none\",e.googCpuLimitedResolution&&(t.adaptionChangeReason=\"cpu\"),e.googBandwidthLimitedResolution&&(t.adaptionChangeReason=\"bandwidth\"),t.avgEncodeMs=Number(e.googAvgEncodeMs),t.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.firsCount=Number(e.googFirReceived),t.nacksCount=Number(e.googNacksReceived),t.plisCount=Number(e.googPlisReceived),t.frameCount=Number(e.framesEncoded),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.videoSend.push(t),this._stats.rtt=t.rttMs;break}case\"video_recv\":{const t=dL(_L),i=this.lastDecodeVideoReceiverStats.get(Number(e.ssrc));if(t.codec=e.googCodecName,t.targetDelayMs=Number(e.googTargetDelayMs),t.renderDelayMs=Number(e.googRenderDelayMs),t.currentDelayMs=Number(e.googCurrentDelayMs),t.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),t.decodeMs=Number(e.googDecodeMs),t.maxDecodeMs=Number(e.googMaxDecodeMs),t.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},t.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},t.decodeFrameRate=Number(e.googFrameRateDecoded),t.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},t.jitterBufferMs=Number(e.googJitterBufferMs),t.firsCount=Number(e.googFirsSent),t.nacksCount=Number(e.googNacksSent),t.plisCount=Number(e.googPlisSent),t.framesDecodeCount=Number(e.framesDecoded),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,t.decodedFrame.width,t.decodedFrame.height),this.isFirstVideoDecoded[t.ssrc]=!0),i){const n=i.stats,r=Date.now()-i.lts;t.framesDecodeFreezeTime=n.framesDecodeFreezeTime,t.framesDecodeInterval=n.framesDecodeInterval,t.framesDecodeCount>n.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(i.lts=Date.now(),t.framesDecodeInterval=r,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc,10))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<i.stats.framesDecodeCount&&(t.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:CL({},t),lts:Date.now()}),this._stats.videoRecv.push(t);break}case\"audio_recv\":{const t=dL(fL);t.codec=e.googCodecName,t.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,t.decodingCNG=Number(e.googDecodingCNG),t.decodingCTN=Number(e.googDecodingCTN),t.decodingCTSG=Number(e.googDecodingCTSG),t.decodingNormal=Number(e.googDecodingNormal),t.decodingPLC=Number(e.googDecodingPLC),t.decodingPLCCNG=Number(e.googDecodingPLCCNG),t.expandRate=Number(e.googExpandRate),t.accelerateRate=Number(e.googAccelerateRate),t.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),t.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),t.speechExpandRate=Number(e.googSpeechExpandRate),t.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),t.jitterBufferMs=Number(e.googJitterBufferMs),t.jitterMs=Number(e.googJitterReceived),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),t.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.decodingNormal>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),this._stats.audioRecv.push(t);break}case\"audio_send\":{const t=dL(mL);t.codec=e.googCodecName,t.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,t.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),t.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),t.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),t.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.rtt=t.rttMs,this._stats.audioSend.push(t);break}}}))}_getStats(){return new tg(((e,t)=>{this.pc.getStats(e,t)}))}statsResponsesToObjects(e){const t=[];return e.result().forEach((e=>{const i={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach((t=>{i[t]=e.stat(t)})),t.push(i)})),t}}function IL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function yL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?IL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):IL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class AL extends TL{constructor(){super(...arguments),nu(this,\"_stats\",pL),nu(this,\"report\",void 0),nu(this,\"lastDecodeVideoReceiverStats\",new Map),nu(this,\"lastVideoFramesRecv\",new Map),nu(this,\"lastVideoFramesSent\",new Map),nu(this,\"lastVideoFramesDecode\",new Map),nu(this,\"lastVideoJBDelay\",new Map),nu(this,\"lastAudioJBDelay\",new Map),nu(this,\"mediaBytesSent\",new Map),nu(this,\"mediaBytesRetransmit\",new Map),nu(this,\"mediaBytesTargetEncode\",new Map),nu(this,\"lastEncoderMs\",new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=dL(pL),this.report.forEach((e=>{switch(e.type){case dv.OUTBOUND:case dv.INBOUND:{const t=e.mediaType||e.kind,i=!t&&\"frameWidth\"in e,n=!t&&!(\"frameWidth\"in e);e.type===dv.OUTBOUND?\"audio\"===t||n?this.processAudioOutboundStats(e):(\"video\"===t||i)&&this.processVideoOutboundStats(e):e.type===dv.INBOUND&&(\"audio\"===t||n?this.processAudioInboundStats(e):(\"video\"===t||i)&&this.processVideoInboundStats(e));break}case dv.TRANSPORT:{const t=this.report.get(e.selectedCandidatePairId);t&&this.processCandidatePairStats(t);break}case dv.CANDIDATE_PAIR:e.selected&&this.processCandidatePairStats(e)}})),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){const e=await this.pc.getStats(),t={local:yL({},uL),remote:yL({},uL)};return e.forEach((i=>{let n;if(i.type===dv.TRANSPORT&&(n=e.get(i.selectedCandidatePairId)),i.type===dv.CANDIDATE_PAIR&&i.selected&&(n=i),n){const i=(e,t)=>{e.type=t.type,e.id=t.id,t.address&&(e.address=t.address),t.candidateType&&(e.candidateType=t.candidateType),t.port&&(e.port=t.port),t.priority&&(e.priority=t.priority),t.protocol&&(e.protocol=t.protocol),t.relayProtocol&&(e.relayProtocol=t.relayProtocol)};if(n.localCandidateId){const r=e.get(n.localCandidateId);r&&i(t.local,r)}if(n.remoteCandidateId){const r=e.get(n.remoteCandidateId);r&&i(t.remote,r)}}})),t}processCandidatePairStats(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.audioSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){const t=this.report.get(e.localCandidateId);t&&this.processCandidateStats(t)}if(e.remoteCandidateId){const t=this.report.get(e.remoteCandidateId);t&&this.processCandidateStats(t)}}processCandidateStats(e){let t;e.type===dv.LOCAL_CANDIDATE&&(t=this._stats.selectedCandidatePair.localCandidate),e.type===dv.REMOTE_CANDIDATE&&(t=this._stats.selectedCandidatePair.remoteCandidate),t&&(t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol),e.type===dv.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(yL({},t),yL({},this.stats.selectedCandidatePair.localCandidate)),e.type===dv.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(yL({},t),yL({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(e){let t=this._stats.audioRecv.find((t=>t.ssrc===e.ssrc));t||(t=dL(fL),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,this.processAudioTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.outputLevel&&t.outputLevel>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),\"number\"==typeof e.concealedSamples&&(t.concealedSamples=e.concealedSamples)}processVideoInboundStats(e){let t=this._stats.videoRecv.find((t=>t.ssrc===e.ssrc));t||(t=dL(_L),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded,t.totalInterFrameDelay=e.totalInterFrameDelay,t.totalSquaredInterFrameDelay=e.totalSquaredInterFrameDelay;const i=this.lastDecodeVideoReceiverStats.get(t.ssrc),n=this.lastVideoFramesDecode.get(t.ssrc),r=Date.now();if(t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]){const e=t.decodedFrame?t.decodedFrame.width:0,i=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,e,i),this.isFirstVideoDecoded[t.ssrc]=!0}if(i){const n=i.stats,s=r-i.lts;t.framesDecodeFreezeTime=n.framesDecodeFreezeTime,t.framesDecodeInterval=n.framesDecodeInterval,!this.isFirstVideoDecoded[t.ssrc]&&s>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[t.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t.ssrc),this.isFirstVideoDecodedTimeout[t.ssrc]=!0),t.framesDecodeCount>n.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(i.lts=Date.now(),t.framesDecodeInterval=s,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<n.framesDecodeCount&&(t.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(i.stats.framesDecodeCount>e.framesDecoded?t.qpSumPerFrame=e.qpSum/e.framesDecoded:t.qpSumPerFrame=(e.qpSum-i.qpSum)/(e.framesDecoded-i.stats.framesDecodeCount))}n&&r-n.lts>=800?(t.decodeFrameRate=Math.round((t.framesDecodeCount-n.count)/((r-n.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:r,rate:t.decodeFrameRate})):n?t.decodeFrameRate=n.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:r,rate:0}),e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime),this.processVideoTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:yL({},t),lts:i?i.lts:Date.now(),qpSum:e.qpSum})}processVideoOutboundStats(e){let t=this._stats.videoSend.find((t=>t.ssrc===e.ssrc));t||(t=dL(EL),this._stats.videoSend.push(t));const i=this.mediaBytesSent.get(e.ssrc);if(i)i.add(e.bytesSent);else{const t=new hL(10);t.add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,t)}if(void 0!==e.retransmittedBytesSent){const t=this.mediaBytesRetransmit.get(e.ssrc);if(t)t.add(e.retransmittedBytesSent);else{const t=new hL(10);t.add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,t)}}if(e.totalEncodedBytesTarget){const t=this.mediaBytesTargetEncode.get(e.ssrc);if(t)t.add(e.totalEncodedBytesTarget);else{const t=new hL(10);t.add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,t)}}if(t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,t.scalabilityMode=e.scalabilityMode,e.totalEncodeTime&&e.framesEncoded){const i=this.lastEncoderMs.get(e.ssrc);if(!i||i.lastFrameCount>e.framesEncoded)t.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else{const n=e.framesEncoded-i.lastFrameCount,r=e.totalEncodeTime-i.lastEncoderTime;t.avgEncodeMs=1e3*r/n}}if(e.framesEncoded&&e.qpSum){const i=this.lastEncoderMs.get(e.ssrc);!i||i.lastFrameCount>e.framesEncoded?t.qpSumPerFrame=e.qpSum/e.framesEncoded:t.qpSumPerFrame=(e.qpSum-i.lastQpSum)/(e.framesEncoded-i.lastFrameCount)}if(this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),this.processVideoTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const i=this.findRemoteStatsId(e.ssrc,dv.REMOTE_INBOUND);i&&this.processRemoteInboundStats(i,t)}}processAudioOutboundStats(e){let t=this._stats.audioSend.find((t=>t.ssrc===e.ssrc));if(t||(t=dL(mL),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),this.processAudioTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const i=this.findRemoteStatsId(e.ssrc,dv.REMOTE_INBOUND);i&&this.processRemoteInboundStats(i,t)}}findRemoteStatsId(e,t){var i;const n=Array.from(Pv(i=this.report).call(i)).find((i=>i.type===t&&i.ssrc===e));return n?n.id:null}processVideoMediaSource(e,t){const i=this.report.get(e);i&&i.width&&i.height&&i.framesPerSecond&&(t.inputFrame={width:i.width,height:i.height,frameRate:i.framesPerSecond})}processAudioMediaSource(e,t){const i=this.report.get(e);i&&(t.inputLevel=i.audioLevel)}processVideoTrackSenderStats(e,t,i){var n,r,s,o;const a=t?this.report.get(t):void 0,c=null!==(n=null==a?void 0:a.framesSent)&&void 0!==n?n:e.framesSent;if(\"number\"!=typeof c)return;let d=null!==(r=null==a?void 0:a.frameWidth)&&void 0!==r?r:e.frameWidth,l=null!==(s=null==a?void 0:a.frameHeight)&&void 0!==s?s:e.frameHeight,h=null!==(o=null==a?void 0:a.framesPerSecond)&&void 0!==o?o:e.framesPerSecond;if(\"number\"==typeof d&&\"number\"==typeof l||(d=0,l=0),null==h){const e=Date.now(),t=this.lastVideoFramesSent.get(i.ssrc);t&&e-t.lts>=800?(h=Math.round((c-t.count)/((e-t.lts)/1e3)),this.lastVideoFramesSent.set(i.ssrc,{count:c,lts:e,rate:h})):t?h=t.rate:this.lastVideoFramesSent.set(i.ssrc,{count:c,lts:e,rate:0})}i.sentFrame={width:d,height:l,frameRate:Math.max(0,h)}}processVideoTrackReceiverStats(e,t,i){var n,r,s,o,a;const c=t?this.report.get(t):void 0,d=null!==(n=null==c?void 0:c.framesReceived)&&void 0!==n?n:e.framesReceived,l=null!==(r=null==c?void 0:c.frameWidth)&&void 0!==r?r:e.frameWidth,h=null!==(s=null==c?void 0:c.frameHeight)&&void 0!==s?s:e.frameHeight,u=null!==(o=null==c?void 0:c.jitterBufferDelay)&&void 0!==o?o:e.jitterBufferDelay,p=null!==(a=null==c?void 0:c.jitterBufferEmittedCount)&&void 0!==a?a:e.jitterBufferEmittedCount;if(\"number\"==typeof d){const e=this.lastVideoFramesRecv.get(i.ssrc),t=Date.now();i.framesReceivedCount=d;let n=0;e&&t-e.lts>=800?(n=Math.round((d-e.count)/((t-e.lts)/1e3)),this.lastVideoFramesRecv.set(i.ssrc,{count:d,lts:t,rate:n})):e?n=e.rate:this.lastVideoFramesRecv.set(i.ssrc,{count:d,lts:t,rate:0}),i.receivedFrame={width:l||0,height:h||0,frameRate:n||0},i.decodedFrame={width:l||0,height:h||0,frameRate:i.decodeFrameRate||0},i.outputFrame={width:l||0,height:h||0,frameRate:i.decodeFrameRate||0}}if(u&&p){const e=this.lastVideoJBDelay.get(i.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const n=p-e.jitterBufferEmittedCount;n>0&&(t=1e3*(u-e.jitterBufferDelay)/n),i.jitterBufferMs=t,i.currentDelayMs=Math.round(t),this.lastVideoJBDelay.set(i.ssrc,{jitterBufferDelay:u,jitterBufferEmittedCount:p,jitterBufferMs:i.currentDelayMs})}}processAudioTrackSenderStats(e,t,i){var n,r,s,o;const a=t?this.report.get(t):void 0,c=null!==(n=null!==(r=null==a?void 0:a.echoReturnLoss)&&void 0!==r?r:e.echoReturnLoss)&&void 0!==n?n:0,d=null!==(s=null!==(o=null==a?void 0:a.echoReturnLossEnhancement)&&void 0!==o?o:e.echoReturnLossEnhancement)&&void 0!==s?s:0;i.aecReturnLoss=c,i.aecReturnLossEnhancement=d}processAudioTrackReceiverStats(e,t,i){var n,r,s,o,a,c,d;const l=t?this.report.get(t):void 0,h=null!==(n=null==l?void 0:l.removedSamplesForAcceleration)&&void 0!==n?n:e.removedSamplesForAcceleration,u=null!==(r=null==l?void 0:l.totalSamplesReceived)&&void 0!==r?r:e.totalSamplesReceived,p=null!==(s=null==l?void 0:l.jitterBufferDelay)&&void 0!==s?s:e.jitterBufferDelay,_=null!==(o=null==l?void 0:l.jitterBufferEmittedCount)&&void 0!==o?o:e.jitterBufferEmittedCount,E=null!==(a=null==l?void 0:l.audioLevel)&&void 0!==a?a:null==e?void 0:e.audioLevel,m=null!==(c=null==l?void 0:l.totalSamplesDuration)&&void 0!==c?c:null==e?void 0:e.totalSamplesDuration,f=null!==(d=null==l?void 0:l.concealedSamples)&&void 0!==d?d:e.concealedSamples;if(h&&u&&(i.accelerateRate=h/u),p&&_){const e=this.lastAudioJBDelay.get(i.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const n=_-e.jitterBufferEmittedCount;n>0&&(t=1e3*(p-e.jitterBufferDelay)/n),i.jitterBufferMs=Math.round(t),this.lastAudioJBDelay.set(i.ssrc,{jitterBufferDelay:p,jitterBufferEmittedCount:_,jitterBufferMs:i.jitterBufferMs})}i.outputLevel=E;let g=1920;m&&u&&(g=u/m/50,i.receivedFrames=Math.round(u/g)),f&&(i.droppedFrames=Math.round(f/g))}processRemoteInboundStats(e,t){const i=this.report.get(e);i&&(t.packetsLost=i.packetsLost,i.roundTripTime&&(t.rttMs=1e3*i.roundTripTime),i.jitter&&(t.jitterMs=1e3*i.jitter),i.timestamp&&(t.timestamp=i.timestamp))}getCodecFromCodecStats(e){const t=this.report.get(e);if(!t)return\"\";const i=t.mimeType.match(/\\/(.*)$/);return i&&i[1]?i[1]:\"\"}updateSendBitrate(){let e=0,t=null,i=null;this.mediaBytesSent.forEach((t=>{e+=t.diffMean()})),this.mediaBytesRetransmit.forEach((e=>{t=null===t?e.diffMean():t+e.diffMean()})),this.mediaBytesTargetEncode.forEach((e=>{i=null===i?e.diffMean():i+e.diffMean()}));const n=null!==t?e-t:e;this._stats.bitrate={actualEncoded:8*n/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==i&&(this._stats.bitrate.targetEncoded=8*i/(this.options.updateInterval/1e3))}}class bL extends TL{updateStats(){return tg.resolve()}}function wL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4;const s=function(){const e=navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]*/i);return e&&e[0]?Number(e[0].split(\"/\")[1]):null}();return s?s<76?new vL(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r}):new AL(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r}):function(e){return!!window.RTCStatsReport&&e.getStats()instanceof tg}(e)?new AL(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r}):new bL(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r})}function OL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function NL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?OL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):OL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class DL extends NI{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}constructor(e,t){super(e,t),nu(this,\"store\",void 0),nu(this,\"peerConnection\",void 0),nu(this,\"remoteSDP\",void 0),nu(this,\"initialOffer\",void 0),nu(this,\"statsFilter\",void 0),nu(this,\"useRTX\",!1),nu(this,\"localCapabilities\",void 0),nu(this,\"localCandidateCount\",0),nu(this,\"allCandidatesReceived\",!1),nu(this,\"establishPromise\",void 0),nu(this,\"mutex\",new YS(\"P2PConnection-mutex\")),this.store=t,this.peerConnection=new RTCPeerConnection(DL.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),this.statsFilter=wL(this.peerConnection,kC(\"STATS_UPDATE_INTERVAL\"),void 0,Rg()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{const e=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const t=YP(e.sdp),i=KP(e.sdp,{filterRTX:!this.useRTX,filterVideoFec:kC(\"FILTER_VIDEO_FEC\"),filterAudioFec:kC(\"FILTER_AUDIO_FEC\"),filterAudioCodec:[\"opus\"]});return this.localCapabilities=i,this.initialOffer=e,NL(NL({},t),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:i},offerSDP:e.sdp})}catch(e){throw new Vg(xg.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,i,n,r,s){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");this.remoteSDP=new class{constructor(e){nu(this,\"sessionDesc\",void 0),nu(this,\"localCapabilities\",void 0),nu(this,\"rtpCapabilities\",void 0),nu(this,\"candidates\",void 0),nu(this,\"iceParameters\",void 0),nu(this,\"dtlsParameters\",void 0),nu(this,\"setup\",void 0),nu(this,\"currentMidIndex\",void 0),nu(this,\"cname\",void 0),e=bS(e);const{remoteIceParameters:t,remoteDtlsParameters:i,candidates:n,remoteRTPCapabilities:r,remoteSetup:s,localCapabilities:o,sdkCodec:a,cname:c}=e,d=GP.parse(\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE audio video\\na=msid-semantic: WMS\\na=ice-lite\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendrecv\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:audio\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendrecv\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:video\\n\");this.rtpCapabilities=r,this.candidates=n,this.iceParameters=t,this.dtlsParameters=i,this.setup=s,this.localCapabilities=o,this.cname=c;for(let e=0;e<d.mediaDescriptions.length;e++){const o=d.mediaDescriptions[e];o.attributes.iceUfrag=t.iceUfrag,o.attributes.icePwd=t.icePwd,o.attributes.fingerprints=i.fingerprints,o.attributes.candidates=n,o.attributes.setup=s,\"video\"===o.media.mediaType&&(o.media.fmts=r.videoCodecs.map((e=>e.payloadType.toString(10))),o.attributes.payloads=r.videoCodecs,o.attributes.extmaps=r.videoExtensions),\"audio\"===o.media.mediaType&&(o.media.fmts=r.audioCodecs.map((e=>e.payloadType.toString(10))),o.attributes.payloads=r.audioCodecs,o.attributes.extmaps=r.audioExtensions),d.mediaDescriptions[e]=this.mungMediaDesc(o)}this.sessionDesc=d,this.currentMidIndex=d.mediaDescriptions.length-1}toString(){return GP.print(this.sessionDesc)}send(e,t,i){const{ssrcs:n,ssrcGroups:r}=zP(t,this.cname),s=this.sessionDesc.mediaDescriptions.find((t=>e===dI.VIDEO?\"video\"===t.media.mediaType:\"audio\"===t.media.mediaType)),o=n[0].attributes.label,a=n[0].attributes.mslabel;return s.attributes.ssrcs=s.attributes.ssrcs.concat(n),s.attributes.ssrcGroups=s.attributes.ssrcGroups.concat(r),{id:o,mslabel:a}}batchSend(e){return e.map((e=>{let{kind:t,ssrcMsg:i}=e;return this.send(t,i,void 0)}))}stopSending(e){this.sessionDesc.mediaDescriptions.forEach((t=>{const i=[],n=[],r=[];t.attributes.ssrcs.forEach((t=>{Pr(e).call(e,t.attributes.label||\"\")?r.push(t):i.push(t)})),t.attributes.ssrcGroups.forEach((e=>{var t;Pr(t=r.map((e=>e.ssrcId))).call(t,e.ssrcIds[0])||n.push(e)})),t.attributes.ssrcs=i,t.attributes.ssrcGroups=n}))}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.mute.\"));t.attributes.direction=\"inactive\"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.unmute.\"));t.attributes.direction=\"sendonly\"}receive(e,t,i){e.forEach(((e,t)=>{const i=e._mediaStreamTrack,n=this.sessionDesc.mediaDescriptions.findIndex((e=>e.attributes.mid===i.kind)),r=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],e);this.sessionDesc.mediaDescriptions[n]=r}))}stopReceiving(e){}updateCandidates(e){e===lI.TCP?this.candidates.forEach((e=>{-1===this.candidates.findIndex((t=>\"tcp\"===t.transport&&t.connectionAddress===e.connectionAddress&&t.port===e.port))&&this.candidates.push(cL(cL({},e),{},{foundation:\"tcpcandidate\",priority:Number(e.priority)-1+\"\",transport:\"tcp\",port:Number(e.port)+90+\"\"}))})):this.candidates=this.candidates.filter((e=>\"tcp\"!==e.transport));for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}restartICE(e){e=bS(e),this.iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let i=0;i<e;i++)t.push((this.currentMidIndex+i+1).toString(10));return t}mungRecvMediaDsec(e,t){const i=bS(e);return XP(i,t),ZP(i,t),i}updateRecvMedia(e,t){const i=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==i){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=e}}bumpMid(e){this.currentMidIndex+=e}updateTrackLabel(e,t,i){const n=this.sessionDesc.mediaDescriptions.find((t=>e===dI.VIDEO?\"video\"===t.attributes.mid:\"audio\"===t.attributes.mid));if(n){const e=n.attributes.ssrcs.find((e=>e.attributes.label===t));var r;e&&(e.attributes.label=i,null===(r=e.attributes.msid)||void 0===r||r.replace(t,i))}}mungMediaDesc(e){const t=bS(e);return QP(t),function(e){const t=e.attributes.extmaps.find((e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName));t&&e.attributes.extmaps.splice(e.attributes.extmaps.indexOf(t),1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>\"transport-cc\"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}(t),t}getSSRC(e){for(const t of this.sessionDesc.mediaDescriptions)for(const i of t.attributes.ssrcs)if(i.attributes.label===e)return[i]}}({remoteIceParameters:e,remoteDtlsParameters:t,candidates:i,remoteRTPCapabilities:n.send,remoteSetup:r,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec,cname:s});const o=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(e.toString()))}}send(e,t){var i=this;return xP((function*(){const n=yield VP(i.mutex.lock());try{if(!i.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");const r=e.map((e=>i.peerConnection.addTrack(e._mediaStreamTrack))),s=yield VP(i.peerConnection.createOffer()),o=GP.parse(s.sdp),a=e.map((e=>{const t=e._mediaStreamTrack,n=o.mediaDescriptions.find((e=>e.attributes.mid===t.kind));if(!n)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return function(e,t,i){const n=e.attributes.ssrcs.filter((e=>e.attributes.label===t)),r=e.attributes.ssrcGroups;if(0===n.length)throw new Error(\"Cannot extract ssrc from plan-b SDP.\");if(r&&n.length>1){const e=r.find((e=>-1!==e.ssrcIds.indexOf(n[0].ssrcId)));return e?[{ssrcId:e.ssrcIds[0],rtx:i?e.ssrcIds[1]:void 0}]:[{ssrcId:n[0].ssrcId}]}return[{ssrcId:n[0].ssrcId}]}(n,t.id,i.useRTX)}));let c;try{c=yield a}catch(e){throw r.forEach((e=>{Tg()&&e.replaceTrack(null),i.peerConnection.removeTrack(e)})),e}const d=i.mungSendOfferSDP(s.sdp,e);i.remoteSDP.receive(e,t,c);const l=i.remoteSDP.toString();return yield VP(i.peerConnection.setLocalDescription({type:\"offer\",sdp:d})),yield VP(i.applySendEncodings(r,e)),yield VP(i.peerConnection.setRemoteDescription({type:\"answer\",sdp:l})),e.map(((e,t)=>{const i=e._mediaStreamTrack.id;return{localSSRC:a[t],id:i}}))}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(e.toString()))}finally{n()}}))()}async stopSending(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");const t=this.peerConnection.getSenders().filter((t=>{var i;return-1!==e.indexOf((null===(i=t.track)||void 0===i?void 0:i.id)||\"\")}));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");t.map((e=>{Tg()&&e.replaceTrack(null),this.peerConnection.removeTrack(e)}));const i=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i),this.remoteSDP.stopReceiving(e);const n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(e.toString()))}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));const{id:i,mslabel:r}=this.remoteSDP.send(e,t,n),s=new tg(((t,n)=>{const s=setTimeout((()=>{n(new Error(\"Cannot receive track, id: \".concat(i)))}),1e4),o=n=>{const a=pg();if((\"Safari\"===a.name&&11===Number(a.version)||Cg())&&n.track.id!==i&&n.streams[0].id===r){var c;const r=n.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(e,i,n.track.id),this.peerConnection.removeEventListener(\"track\",o),clearTimeout(s),void t(r)}if(n.track.id===i)return this.peerConnection.removeEventListener(\"track\",o),clearTimeout(s),void t(n.track)};this.peerConnection.addEventListener(\"track\",o)})),o=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:o});const a=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(a);return{track:await s,id:i}}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const i=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(i)}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}async muteRemote(e){}async unmuteRemote(e){}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");const t=this.peerConnection.getSenders().filter((t=>{var i;return-1!==e.indexOf((null===(i=t.track)||void 0===i?void 0:i.id)||\"\")}));if(t.length!==e.length)throw new Error(\"sender' length doesn't match mids' length.\");t.map((e=>{if(Tg()&&e.track)e.track.enabled=!1;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!1)),e.setParameters(t)}}))}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getSenders().filter((t=>{var i;return-1!==e.indexOf((null===(i=t.track)||void 0===i?void 0:i.id)||\"\")}));if(t.length!==e.length)throw new Error(\"Senders' length doesn't match mids' length.\");t.map((async e=>{if(Tg()&&e.track)e.track.enabled=!0;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!0)),await e.setParameters(t)}}));const i=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i);const n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(e.toString()))}}restartICE(e){var t=this;return xP((function*(){const i=yield VP(t.mutex.lock(\"From P2PConnection.restartICE\"));try{if(!t.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");if(hA().supportPCSetConfiguration){const i=t.peerConnection.getConfiguration(),n=e===lI.RELAY?\"relay\":\"all\";i.iceTransportPolicy!==n&&(WC.debug(\"[\".concat(t.store.clientId,\"] restartICE change iceTransportPolicy from [\").concat(i.iceTransportPolicy,\"] to [\").concat(n,\"]\")),i.iceTransportPolicy=n,t.peerConnection.setConfiguration(i))}else if(e===lI.RELAY)return;e!==lI.RELAY&&t.remoteSDP.updateCandidates(e);const n=yield VP(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const r=YP(n.sdp),{remoteIceParameters:s}=yield r.iceParameters;t.remoteSDP.restartICE(s);const o=t.remoteSDP.toString();yield VP(t.peerConnection.setLocalDescription(n)),yield VP(t.peerConnection.setRemoteDescription({type:\"answer\",sdp:o}))}catch(e){WC.warning(\"[\".concat(t.store.clientId,\"] restart ICE failed, abort operation\"),e)}finally{i()}}))()}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");const e=await this.peerConnection.createOffer(),i=this.mungSendOfferSDP(e.sdp,[t]);this.remoteSDP.updateRecvMedia(t._mediaStreamTrack.kind,t);const n=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:\"offer\",sdp:i}),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getSenders().filter((t=>{var i;return(null===(i=t.track)||void 0===i?void 0:i.id)===e}));1===i.length&&await this.applySendEncodings(i,[t])}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getSenders().find((e=>{var i;return(null===(i=e.track)||void 0===i?void 0:i.id)===t}));i&&await i.replaceTrack(e._mediaStreamTrack)}createDataChannels(e,t){throw new Vg(xg.NOT_SUPPORTED,\"Planb mode does not support createDataChannels.\")}stopDataChannels(e){throw new Vg(xg.NOT_SUPPORTED,\"Planb mode does not support stopDataChannels.\")}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,WC.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,WC.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))}),kC(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(e){const t={iceServers:[],sdpSemantics:\"plan-b\"};return e.iceServers?t.iceServers=e.iceServers:e.turnServer&&\"off\"!==e.turnServer.mode&&(_S(e.turnServer.servers)?t.iceServers=e.turnServer.servers:(t.iceServers&&t.iceServers.push(...DL.turnServerConfigToIceServers(e.turnServer.servers)),kC(\"USE_TURN_SERVER_OF_GATEWAY\")&&t.iceServers&&e.turnServer.serversFromGateway&&t.iceServers.push(...DL.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(t.iceTransportPolicy=\"relay\")})))),t}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))})),t}async updateRtpSenderEncodings(e,t){var i;if(!t){t=this.peerConnection.getSenders().find((t=>{var i;return(null===(i=t.track)||void 0===i?void 0:i.id)===e._mediaStreamTrack.id}))}if(!t)return WC.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(!hA().supportSetRtpSenderParameters)return WC.warn(\"Browser not support set rtp-sender parameters\");const n={},r={};if(e instanceof fb)switch(e._optimizationMode){case\"motion\":n.degradationPreference=\"maintain-framerate\";break;case\"detail\":n.degradationPreference=\"maintain-resolution\";break;default:n.degradationPreference=\"balanced\"}if(kC(\"DSCP_TYPE\")&&kg()){var s;const e=kC(\"DSCP_TYPE\");Pr(s=[\"very-low\",\"low\",\"medium\",\"high\"]).call(s,e)&&(r.networkPriority=e)}const o=t.getParameters(),a=null===(i=o.encodings)||void 0===i?void 0:i[0];a&&Object.assign(a,r),Object.assign(o,n),WC.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(o.encodings))),await t.setParameters(o)}async applySendEncodings(e,t){try{if(!hA().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let i=0;i<e.length;i++){const n=e[i],r=t[i];n&&r&&await this.updateRtpSenderEncodings(r,n)}}catch(e){WC.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"))}}mungSendOfferSDP(e,t){const i=GP.parse(e);return t.forEach(((e,t)=>{const n=e._mediaStreamTrack,r=i.mediaDescriptions.find((e=>e.attributes.mid===n.kind));r&&XP(r,e)})),GP.print(i)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");const t=this.remoteSDP.batchSend(e).map(((t,i)=>{let{id:n,mslabel:r}=t;const{kind:s}=e[i];return new tg(((e,t)=>{const i=setTimeout((()=>{t(new Error(\"Cannot receive track, id: \".concat(n)))}),1e4),o=t=>{const a=pg();if(\"Safari\"===a.name&&11===Number(a.version)&&t.track.id!==n&&t.streams[0].id===r){var c;const r=t.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(s,n,t.track.id),this.peerConnection.removeEventListener(\"track\",o),clearTimeout(i),void e({track:r,id:n})}if(t.track.id===n)return this.peerConnection.removeEventListener(\"track\",o),clearTimeout(i),void e({track:t.track,id:n})};this.peerConnection.addEventListener(\"track\",o)}))})),i=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:i});const n=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(n),await tg.all(t)}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(e){if(hA().supportPCSetConfiguration){const t=DL.resolvePCConfiguration(e);this.peerConnection.setConfiguration(t)}}}function PL(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"Locking from P2PConnection.\".concat(t));try{for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return await n.apply(this,s)}finally{i()}},i}function LL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function kL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?LL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):LL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}Lv([PL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Object,Array,Object,String,String]),kv(\"design:returntype\",tg)],DL.prototype,\"connect\",null),Lv([PL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],DL.prototype,\"stopSending\",null),Lv([PL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,Array,String,Object]),kv(\"design:returntype\",tg)],DL.prototype,\"receive\",null),Lv([PL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],DL.prototype,\"stopReceiving\",null),Lv([PL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],DL.prototype,\"muteRemote\",null),Lv([PL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],DL.prototype,\"unmuteRemote\",null),Lv([PL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],DL.prototype,\"muteLocal\",null),Lv([PL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],DL.prototype,\"unmuteLocal\",null),Lv([PL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],DL.prototype,\"close\",null),Lv([PL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,$y]),kv(\"design:returntype\",tg)],DL.prototype,\"updateEncoderConfig\",null),Lv([PL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,$y]),kv(\"design:returntype\",tg)],DL.prototype,\"updateSendParameters\",null),Lv([PL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[$y,String]),kv(\"design:returntype\",tg)],DL.prototype,\"replaceTrack\",null),Lv([PL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],DL.prototype,\"getRemoteSSRC\",null);const ML=\"9\",UL=4e4;function xL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function VL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let FL=class e extends NI{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}constructor(t,i){super(t,i),nu(this,\"store\",void 0),nu(this,\"peerConnection\",void 0),nu(this,\"remoteSDP\",void 0),nu(this,\"initialOffer\",void 0),nu(this,\"transportEventReceiver\",void 0),nu(this,\"statsFilter\",void 0),nu(this,\"useXR\",kC(\"USE_XR\")),nu(this,\"localCapabilities\",void 0),nu(this,\"localCandidateCount\",0),nu(this,\"allCandidatesReceived\",!1),nu(this,\"dataStreamChannelMap\",new Map),nu(this,\"establishPromise\",void 0),nu(this,\"mutex\",new YS(\"P2PConnection-mutex\")),this.store=i,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=wL(this.peerConnection,kC(\"STATS_UPDATE_INTERVAL\"),void 0,Rg()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{this.peerConnection.addTransceiver(\"video\",{direction:\"recvonly\"}),this.peerConnection.addTransceiver(\"audio\",{direction:\"recvonly\"});const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const t=YP(e.sdp),i=await iL({filterRTX:!kC(\"USE_PUB_RTX\")&&!kC(\"USE_SUB_RTX\"),filterVideoFec:kC(\"FILTER_VIDEO_FEC\"),filterAudioFec:kC(\"FILTER_AUDIO_FEC\")},{useXR:this.useXR});return this.localCapabilities=rL(i),this.initialOffer=e,VL(VL({},t),{},{rtpCapabilities:i,offerSDP:e.sdp})}catch(e){throw new Vg(xg.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,i,n,r,s){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");this.remoteSDP=new class{get localCapabilities(){return bS(this._localCapabilities)}get rtpCapabilities(){return bS(this._rtpCapabilities)}get candidates(){return bS(this._candidates)}get iceParameters(){return bS(this._iceParameters)}get dtlsParameters(){return bS(this._dtlsParameters)}constructor(e){nu(this,\"sessionDesc\",void 0),nu(this,\"_localCapabilities\",void 0),nu(this,\"_rtpCapabilities\",void 0),nu(this,\"_candidates\",void 0),nu(this,\"_iceParameters\",void 0),nu(this,\"_dtlsParameters\",void 0),nu(this,\"setup\",void 0),nu(this,\"currentMidIndex\",void 0),nu(this,\"cname\",void 0),nu(this,\"firefoxSsrcMidMap\",new Map),e=bS(e);const{remoteIceParameters:t,remoteDtlsParameters:i,candidates:n,remoteRTPCapabilities:r,remoteSetup:s,localCapabilities:o,cname:a}=e,c=GP.parse(\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE 0 1\\na=msid-semantic: WMS\\na=ice-lite\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:0\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:1\\n\");this._rtpCapabilities=r,this._candidates=n,this._iceParameters=t,this._dtlsParameters=i,this._localCapabilities=o,this.setup=s,this.cname=a;const d=this.rtpCapabilities.send;for(const e of c.mediaDescriptions){if(e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=i.fingerprints,e.attributes.candidates=n,e.attributes.setup=s,\"video\"===e.media.mediaType&&(e.media.fmts=d.videoCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=d.videoCodecs,e.attributes.extmaps=d.videoExtensions,kC(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=zP([{ssrcId:UL,rtx:kC(\"USE_SUB_RTX\")?40001:void 0}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}if(\"audio\"===e.media.mediaType&&(e.media.fmts=d.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=d.audioCodecs,e.attributes.extmaps=d.audioExtensions,sL(e),kC(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=zP([{ssrcId:2e4}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}}this.sessionDesc=c,this.currentMidIndex=c.mediaDescriptions.length-1}preloadRemoteMedia(){const e=kC(\"PRELOAD_MEDIA_COUNT\");this.rtpCapabilities;const t=this.candidates,i=this.dtlsParameters,n=this.iceParameters,r=this.rtpCapabilities.send;for(let s=1;s<e;s++){const e=2*s+2e4,o=2*s+UL,{ssrcs:a,ssrcGroups:c}=zP([{ssrcId:e}],this.cname),{ssrcs:d,ssrcGroups:l}=zP([{ssrcId:o,rtx:kC(\"USE_SUB_RTX\")?o+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"video\",port:ML,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:r.videoCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.videoExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:d,ssrcGroups:l,rtcpFeedbackWildcards:[],payloads:r.videoCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(2*s)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"audio\",port:ML,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:r.audioCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.audioExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:a,ssrcGroups:c,rtcpFeedbackWildcards:[],payloads:r.audioCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(2*s+1)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return GP.print(this.sessionDesc)}send(e,t,i,n){const{ssrcs:r,ssrcGroups:s}=zP(t,this.cname,kC(\"SYNC_GROUP\")?i:void 0),o=this.findPreloadMediaDesc(r);if(o){if(Rg()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,o.attributes.mid),n&&(n.twcc||n.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(o);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(o,n),{mid:o.attributes.mid,needExchangeSDP:!0}}return{mid:o.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,r);let i;return-1===t||1===t&&(Tg()||Ag())||0===t&&kC(\"USE_SUB_RTX\")||bg()?(i=this.createOrRecycleSendMedia(e,r,s,\"sendonly\",n),this.updateBundleMids()):(i=bS(this.sessionDesc.mediaDescriptions[t]),i.attributes.direction=\"sendonly\",i.attributes.ssrcs=r,i.attributes.ssrcGroups=s,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(i,n)),Rg()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,i.attributes.mid),{mid:i.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){const{mediaDesc:e,needExchangeSDP:t}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:e.attributes.mid,needExchangeSDP:t}}batchSend(e){const t=e.map((e=>{let{kind:t,ssrcMsg:i,mslabel:n}=e;return this.send(t,i,n)})),i=[];let n=!1;return t.forEach((e=>{let{mid:t,needExchangeSDP:r}=e;r&&(n=!0),i.push(t)})),{mids:i,needExchangeSDP:n}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.\");t.forEach((e=>{\"0\"===e.attributes.mid||Rg()||bg()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction=\"inactive\",e.media.port=\"0\")})),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.mute.\"));t.attributes.direction=\"inactive\"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.unmute.\"));t.attributes.direction=\"sendonly\"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Pr(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"inactive\"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Pr(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"recvonly\"}))}receive(e,t,i,n){e.forEach(((e,r)=>{this.createOrRecycleRecvMedia(e,[],\"recvonly\",t,i,n[r])})),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.\");t.forEach((e=>{e.media.port=\"0\",e.attributes.direction=\"inactive\"})),this.updateBundleMids()}updateCandidates(e){const t=this._candidates.filter((e=>\"udp\"===e.transport));if(e===lI.TCP){if(0===t.length)return;if(kC(\"TCP_CANDIDATE_ONLY\")){const e=this._candidates.filter((e=>\"tcp\"===e.transport));t.forEach((t=>{-1===e.findIndex((e=>e.connectionAddress===t.connectionAddress))&&e.push(kL(kL({},t),{},{foundation:\"tcpcandidate\",priority:Number(t.priority)-1+\"\",transport:\"tcp\",port:Number(t.port)+90+\"\"}))})),this._candidates=e}else{const e=[];t.forEach((t=>{e.push(kL(kL({},t),{},{foundation:\"tcpcandidate\",priority:Number(t.priority)-1+\"\",transport:\"tcp\",port:Number(t.port)+90+\"\"}))})),this._candidates=[...t,...e]}}else if(e===lI.RELAY){if(0!==t.length)return;{const e=this._candidates.filter((e=>\"tcp\"===e.transport));e.forEach((e=>{t.push(kL(kL({},e),{},{foundation:\"udpcandidate\",priority:Number(e.priority)+1+\"\",transport:\"udp\",port:Number(e.port)-90+\"\"}))})),this._candidates=[...t,...e]}}else 0===t.length?(this._candidates.filter((e=>\"tcp\"===e.transport)).forEach((e=>{t.push(kL(kL({},e),{},{foundation:\"udpcandidate\",priority:Number(e.priority)+1+\"\",transport:\"udp\",port:Number(e.port)-90+\"\"}))})),this._candidates=t):this._candidates=this._candidates.filter((e=>\"tcp\"!==e.transport));for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}restartICE(e){e=bS(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let i=0;i<e;i++)t.push((this.currentMidIndex+i+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex((i=>{const n=i.media.mediaType===e&&\"0\"!==i.media.port&&(\"sendonly\"===i.attributes.direction||\"sendrecv\"===i.attributes.direction)&&0===i.attributes.ssrcs.length;if(Rg()){if(n){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||\"0\"!==i.attributes.mid&&\"1\"!==i.attributes.mid)||!(!e||e!==i.attributes.mid)}return!1}return n}))}createOrRecycleDataChannel(){for(const e of this.sessionDesc.mediaDescriptions)if(\"application\"===e.media.mediaType)return{mediaDesc:e,needExchangeSDP:!1};this.currentMidIndex+=1;const e=\"\".concat(this.currentMidIndex),t={media:{mediaType:\"application\",port:ML,protos:[\"UDP\",\"DTLS\",\"SCTP\"],fmts:[\"webrtc-datachannel\"]},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,mid:\"\".concat(e),sctpPort:\"5000\"}};return this.sessionDesc.mediaDescriptions.push(t),{mediaDesc:t,needExchangeSDP:!0}}createOrRecycleRecvMedia(e,t,i,n,r,s){const o=e._mediaStreamTrack.kind,a=this.rtpCapabilities.recv,c=this.localCapabilities.send;let d=[];if(o===dI.VIDEO){var l,h;if(kC(\"H264_PROFILE_LEVEL_ID\")&&\"h264\"===n&&(d=a.videoCodecs.filter((e=>{var t,i,r;return Pr(t=(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\").call(t,n)&&(null==e||null===(r=e.fmtp)||void 0===r?void 0:r.parameters[\"profile-level-id\"])===kC(\"H264_PROFILE_LEVEL_ID\")}))),!d||0===(null===(l=d)||void 0===l?void 0:l.length)){const e=c.videoCodecs.filter((e=>{var t,i;return Pr(t=(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\").call(t,n)}));0!==e.length&&(d=a.videoCodecs.filter((t=>e.some((e=>e.payloadType===t.payloadType)))))}if(kC(\"USE_PUB_RTX\")){const e=d.map((e=>e.payloadType.toString())),t=a.videoCodecs.filter((t=>{var i,n;return\"rtx\"===(null===(i=t.rtpMap)||void 0===i?void 0:i.encodingName)&&Pr(e).call(e,(null===(n=t.fmtp)||void 0===n?void 0:n.parameters.apt)||\"\")}));d=[...d,...t]}0===d.length&&(WC.warning(\"codec \".concat(n,\" not included in rtpCapabilities, fallback to default payloads: \").concat(null===(h=a.videoCodecs[0].rtpMap)||void 0===h?void 0:h.encodingName)),d=a.videoCodecs)}else d=a.audioCodecs.filter((e=>{var t,i;return Pr(t=(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\").call(t,r)})),0===d.length&&(WC.warning(\"codec \".concat(r,\" not included in rtpCapabilities, fallback to opus\")),d=a.audioCodecs.filter((e=>{var t,i;return Pr(t=(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\").call(t,\"opus\")})));const u=o===dI.VIDEO?a.videoExtensions:a.audioExtensions;this.currentMidIndex+=1;const p=\"\".concat(this.currentMidIndex);let _={media:{mediaType:o,port:ML,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:d.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:u,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:d,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(p)}};_=this.mungRecvMediaDsec(_,e,s);const E=this.findFirstClosedMedia(o);if(E){const e=this.sessionDesc.mediaDescriptions.indexOf(E);this.sessionDesc.mediaDescriptions[e]=_}else this.sessionDesc.mediaDescriptions.push(_);return _}createOrRecycleSendMedia(e,t,i,n,r){const s=this.rtpCapabilities.send,o=e===dI.VIDEO?s.videoCodecs:s.audioCodecs,a=e===dI.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;const c=\"\".concat(this.currentMidIndex);let d={media:{mediaType:e,port:ML,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:o.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:a,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:i,rtcpFeedbackWildcards:[],payloads:o,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(c)}};d=this.mungSendMediaDesc(d,r);const l=this.findFirstClosedMedia(e);if(l){const e=this.sessionDesc.mediaDescriptions.indexOf(l);this.sessionDesc.mediaDescriptions[e]=d}else this.sessionDesc.mediaDescriptions.push(d);return d}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>\"0\"!==e.media.port)).map((e=>e.attributes.mid))}mungRecvMediaDsec(e,t,i){const n=bS(e);return QP(n),XP(n,t),ZP(n,t),$P(n),eL(n,i,this.localCapabilities.send),n}mungSendMediaDesc(e,t){const i=bS(e);return eL(i,t,this.localCapabilities.recv),sL(i),i}updateRecvMedia(e,t){const i=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==i){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>Rg()?\"0\"===t.media.port&&t.media.mediaType===e:\"0\"===t.media.port))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var i;return(null===(i=t.attributes)||void 0===i||null===(i=i.ssrcs[0])||void 0===i?void 0:i.ssrcId)===e[0].ssrcId}))}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===t?void 0:t.attributes.ssrcs}}({remoteIceParameters:e,remoteDtlsParameters:t,candidates:i,remoteRTPCapabilities:n,remoteSetup:r,localCapabilities:this.localCapabilities,cname:s});const o=this.remoteSDP.toString(),a=GP.parse(this.initialOffer.sdp),c=a.mediaDescriptions.find((e=>\"audio\"===e.media.mediaType));c&&sL(c),this.useXR&&oL(a);const d=GP.print(a),l=this.logSDPExchange(d||\"\",\"offer\",\"local\",\"connect\");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:\"offer\",sdp:d}),null==l||l(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o});const h=this.peerConnection.getTransceivers()[0];if(null!=h&&h.receiver&&this.tryBindTransportEvents(h.receiver),kC(\"PRELOAD_MEDIA_COUNT\")>0){this.remoteSDP.preloadRemoteMedia();const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t)}}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(e.toString()))}}send(e,t,i){var n=this;return xP((function*(){const r=yield VP(n.mutex.lock(\"From P2PConnection.send\"));try{if(!n.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");const s=[];e.forEach((e=>{const t=n.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:\"sendonly\"});s.push(t),e._updateRtpTransceiver(t)})),Rg()&&!0===kC(\"SIMULCAST\")&&(yield VP(n.applySimulcastForFirefox(s,e)));const o=yield VP(n.peerConnection.createOffer()),a=n.remoteSDP.predictReceivingMids(e.length),c=n.mungSendOfferSDP(o.sdp,e,a),d=GP.parse(c),l=a.map((e=>{const t=d.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return qP(t,kC(\"USE_PUB_RTX\"))}));let h;try{h=yield l}catch(r){h=[],n.remoteSDP.receive(e,t,i,h);const s=n.remoteSDP.toString();throw yield VP(n.peerConnection.setLocalDescription({type:\"offer\",sdp:c})),yield VP(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:s})),yield VP(n.stopSending(a,!0)),r}n.remoteSDP.receive(e,t,i,h);const u=n.remoteSDP.toString(),p=n.logSDPExchange(c,\"offer\",\"local\",\"send\");return yield VP(n.peerConnection.setLocalDescription({type:\"offer\",sdp:c})),yield VP(n.applySimulcastEncodings(s,e)),yield VP(n.applySendEncodings(s,e)),null==p||p(u),yield VP(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:u})),s.map(((e,t)=>{const i=a[t];return{localSSRC:l[t],id:i,transceiver:e}}))}catch(e){throw e instanceof Vg?e:new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(e.toString()))}finally{r()}}))()}async createDataChannels(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.createDataChannels before remote SDP created\");let i=this.dataStreamChannelMap.get(e);i&&\"open\"===i.readyState?WC.debug(\"[P2PConnection] Channels are already available and can be reused directly.\"):(i=this.peerConnection.createDataChannel(\"datastream-channel\",{ordered:!1,maxRetransmits:kC(\"DATASTREAM_MAX_RETRANSMITS\")}),i.binaryType=\"arraybuffer\",this.dataStreamChannelMap.set(e,i)),t.forEach((e=>{e._updateOriginDataChannel(i)}));const{needExchangeSDP:n}=this.remoteSDP.sendDataChannel();if(n){const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t),WC.debug(\"[P2PConnection] createDataChannels by exchanging SDP.\")}else WC.debug(\"[P2PConnection] createDataChannels no need to exchange SDP.\");return}catch(e){throw e instanceof Vg?e:new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.createDataChannels failed; \".concat(e.toString()))}}async stopDataChannels(e){try{const t=this.dataStreamChannelMap.get(e);return null==t||t.close(),void this.dataStreamChannelMap.delete(e)}catch(e){throw e instanceof Vg?e:new Vg(xg.DATACHANNEL_FAILED,\"P2PConnection.stopDataChannels failed; \".concat(e.toString()))}}async stopSending(e,t){const i=t?void 0:await this.mutex.lock(\"From P2PConnection.stopSending\");try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");t.map((e=>{var t;e.direction=\"inactive\",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"stopSending\");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const s=this.remoteSDP.toString();null==r||r(s),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:s})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(e.toString()))}finally{i&&i()}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));const{mid:r,needExchangeSDP:s}=this.remoteSDP.send(e,t,i,n);if(s){const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"receive\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer(),s=this.mungReceiveAnswerSDP(n.sdp,r,e);null==i||i(s||\"\"),await this.peerConnection.setLocalDescription({type:\"answer\",sdp:s}),WC.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\"))}else WC.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" no need to exchange SDP.\"));const o=this.peerConnection.getTransceivers().find((e=>e.mid===r));if(!o)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:o.receiver.track,id:r,transceiver:o}}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");const{mids:t,needExchangeSDP:i}=this.remoteSDP.batchSend(e);if(i){const e=this.remoteSDP.toString(),t=this.logSDPExchange(e,\"offer\",\"remote\",\"receive\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const i=await this.peerConnection.createAnswer();null==t||t(i.sdp||\"\"),await this.peerConnection.setLocalDescription(i),WC.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] batchReceive by exchanging SDP.\"))}else WC.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] batchReceive no need to exchange SDP.\"));return t.map((e=>{const t=this.peerConnection.getTransceivers().find((t=>t.mid===e));if(!t)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:t.receiver.track,id:e,transceiver:t}}))}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"stopReceiving\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"muteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.muteRemote failed; \".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"unmuteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteRemote failed; \".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((e=>{e.direction=\"inactive\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((async(e,t)=>{e.direction=\"sendonly\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"unmuteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.unmuteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(e.toString()))}}restartICE(e){var t=this;return xP((function*(){const i=yield VP(t.mutex.lock(\"From P2PConnection.restartICE\"));try{if(!t.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");if(hA().supportPCSetConfiguration){const i=t.peerConnection.getConfiguration(),n=e===lI.RELAY?\"relay\":\"all\";i.iceTransportPolicy!==n&&(WC.debug(\"[\".concat(t.store.clientId,\"] restartICE change iceTransportPolicy from [\").concat(i.iceTransportPolicy,\"] to [\").concat(n,\"]\")),i.iceTransportPolicy=n,t.peerConnection.setConfiguration(i))}else if(e===lI.RELAY)return;t.remoteSDP.updateCandidates(e);const n=yield VP(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const r=YP(n.sdp),{remoteIceParameters:s}=yield r.iceParameters;t.remoteSDP.restartICE(s);const o=t.remoteSDP.toString(),a=t.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"restartICE\");t.store.descriptionStart(),yield VP(t.peerConnection.setLocalDescription(n)),null==a||a(o),yield VP(t.peerConnection.setRemoteDescription({type:\"answer\",sdp:o}))}catch(e){WC.warning(\"[\".concat(t.store.clientId,\"] restart ICE failed, abort operation\"),e)}finally{i()}}))()}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");const i=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(i.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),s=this.logSDPExchange(n,\"offer\",\"local\",\"updateEncoderConfig\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:n}),null==s||s(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===i.length&&(this.isVP8Simulcast(t)?Rg()||await this.applySimulcastEncodings(i,[t]):await this.applySendEncodings(i,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getTransceivers().find((e=>e.mid===t));i&&await i.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:i,remote:n}=t.getSelectedCandidatePair();return{local:VL(VL({},uL),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port}),remote:VL(VL({},uL),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,WC.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,WC.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))}),kC(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const i={iceServers:[]};return t.iceServers?i.iceServers=t.iceServers:t.turnServer&&\"off\"!==t.turnServer.mode&&(_S(t.turnServer.servers)?i.iceServers=t.turnServer.servers:(i.iceServers&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),kC(\"USE_TURN_SERVER_OF_GATEWAY\")&&i.iceServers&&t.turnServer.serversFromGateway&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),kC(\"FORCE_TURN_TCP\")?i.iceTransportPolicy=\"relay\":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(i.iceTransportPolicy=\"relay\")})))),kC(\"ENABLE_ENCODED_TRANSFORM\")&&hA().supportWebRTCEncodedTransform&&(i.encodedInsertableStreams=!0),i}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(hD(e.turnServerURL),\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&!kC(\"FORCE_TURN_TCP\")&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))})),t}tryBindTransportEvents(e){const t=e.transport;if(t){this.transportEventReceiver=e,t.onstatechange=()=>{var e;null!=t&&t.state&&(null===(e=this.onDTLSTransportStateChange)||void 0===e||e.call(this,t.state))},t.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,\"error\"in e?e.error:e)};const i=t.iceTransport;i&&(i.onstatechange=()=>{const e=null==t?void 0:t.iceTransport.state;var i;e&&(null===(i=this.onICETransportStateChange)||void 0===i||i.call(this,e))},i.getSelectedCandidatePair&&(i.onselectedcandidatepairchange=()=>{if(i.getSelectedCandidatePair()){const{local:e,remote:t}=i.getSelectedCandidatePair();WC.info(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] selectedcandidatepairchange: local \").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol}),\", remote \").concat(JSON.stringify({candidateType:t.type,protocol:t.protocol,address:t.address,port:t.port}),\" )\"))}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var i;if(!t){t=this.peerConnection.getSenders().find((t=>t.track===e._mediaStreamTrack))}if(!t)return WC.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(this.isVP8Simulcast(e))return WC.warn(\"[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings\");if(!hA().supportSetRtpSenderParameters)return WC.warn(\"[updateRtpSenderEncodings] Browser not support set rtp-sender parameters\");const n={},r={};switch(e._optimizationMode){case\"motion\":n.degradationPreference=\"maintain-framerate\";break;case\"detail\":n.degradationPreference=\"maintain-resolution\";break;default:n.degradationPreference=\"balanced\"}if(e._encoderConfig){var s;const{bitrateMax:t,frameRate:i,scaleResolutionDownBy:n}=e._encoderConfig;t&&(r.maxBitrate=1e3*t),Pr(s=e._hints).call(s,Dy.LOW_STREAM)&&(i&&(r.maxFramerate=pD(i)),n&&n>=1&&(r.scaleResolutionDownBy=n))}if(kC(\"DSCP_TYPE\")&&kg()){var o;const e=kC(\"DSCP_TYPE\");Pr(o=[\"very-low\",\"low\",\"medium\",\"high\"]).call(o,e)&&(r.networkPriority=e)}const a=t.getParameters(),c=null===(i=a.encodings)||void 0===i?void 0:i[0];Rg()&&!c&&(n.encodings=[r]),c&&Object.assign(c,r),Object.assign(a,n),WC.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(a.encodings))),await t.setParameters(a)}async applySendEncodings(e,t){try{if(!hA().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let i=0;i<e.length;i++){const n=e[i],r=t[i];r instanceof fb&&!this.isVP8Simulcast(r)&&await this.updateRtpSenderEncodings(r,n.sender)}}catch(e){WC.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"))}}mungSendOfferSDP(e,t,i){const n=GP.parse(e);return t.forEach(((e,t)=>{const r=i[t],s=n.mediaDescriptions.find((e=>e.attributes.mid===r));s&&(XP(s,e),tL(s,e,this.store.codec))})),GP.print(n)}mungReceiveAnswerSDP(e,t,i){const n=GP.parse(e),r=n.mediaDescriptions.find((e=>e.attributes.mid===t));return r&&(i===dI.AUDIO&&\"audio\"===r.media.mediaType&&sL(r),this.useXR&&oL(n)),GP.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let a=0;a<e.length;a++){var i,n,r,s,o;const c=e[a],d=t[a];if(d instanceof fb&&!Pr(i=d._hints).call(i,Dy.LOW_STREAM)&&null!==(n=d._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=d._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(s=d._scalabilityMode)&&void 0!==s&&s.numSpatialLayers&&(null===(o=d._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1&&\"vp8\"===this.store.codec){const e={},t={high:1e3*(d._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:\"m\",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:t.high}];const i=c.sender.getParameters();await c.sender.setParameters(Object.assign(i,e))}}}async applySimulcastEncodings(e,t){if(!Rg()&&e.length===t.length)for(let i=0;i<e.length;i++){const n=t[i];if(n instanceof fb&&this.isVP8Simulcast(n)){const t=e[i],r={},s={high:1e3*(n._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:s.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:s.medium,scaleResolutionDownBy:4}];const o=t.sender.getParameters();await t.sender.setParameters(Object.assign(o,r))}}}isVP8Simulcast(e){var t,i,n,r,s;return!!(e instanceof fb&&kC(\"SIMULCAST\")&&\"vp8\"===this.store.codec&&!Pr(t=e._hints).call(t,Dy.LOW_STREAM)&&null!==(i=e._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(s=e._scalabilityMode)||void 0===s?void 0:s.numSpatialLayers)>1)}logSDPExchange(e,t,i,n){if(kC(\"SDP_LOGGING\"))return WC.upload(\"[\".concat(this.store.clientId,\"] exchanging \").concat(i,\" \").concat(t,\" SDP during P2PConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(t){if(hA().supportPCSetConfiguration){const i=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(i)}}};function BL(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From P2PConnection.\".concat(t));try{for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return await n.apply(this,s)}finally{i()}},i}function jL(e,t){let i=document.createElement(\"video\"),n=document.createElement(\"canvas\");i.setAttribute(\"style\",\"display:none\"),n.setAttribute(\"style\",\"display:none\"),i.setAttribute(\"muted\",\"\"),i.muted=!0,i.setAttribute(\"autoplay\",\"\"),i.autoplay=!0,i.setAttribute(\"playsinline\",\"\"),n.width=pD(t.width),n.height=pD(t.height);const r=pD(t.framerate||15);document.body.append(i),document.body.append(n);let s=e._mediaStreamTrack;i.srcObject=new MediaStream([s]),i.play();const o=n.getContext(\"2d\");if(!o)throw new Mv(xg.UNEXPECTED_ERROR,\"can not get canvas context\");const a=hA(),c=n.captureStream(a.supportRequestFrame?0:r).getVideoTracks()[0];c.canvas||(c.canvas=n),n.startCapture=()=>{if(!i)return n.stopCapture&&n.stopCapture();if(i.paused&&i.play(),i.videoHeight>2&&i.videoWidth>2){const e=i.videoWidth,t=i.videoHeight/e,r=n.width*t;Math.abs(r-n.height)>=2&&(WC.debug(\"adjust low stream resolution\",\"\".concat(n.width,\"x\").concat(n.height,\" -> \").concat(n.width,\"x\").concat(r)),n.height=r)}o.drawImage(i,0,0,n.width,n.height),c.requestFrame&&c.requestFrame(),s!==e._mediaStreamTrack&&(s=e._mediaStreamTrack,i.srcObject=new MediaStream([s]))},n.stopCapture=dA((()=>n.startCapture&&n.startCapture()),r);const d=c.stop;return c.stop=()=>{d.call(c),i&&(i.remove(),i.srcObject=null,i=null),n&&(n.width=0,n.remove(),n.stopCapture&&n.stopCapture(),n.startCapture=void 0,n.stopCapture=void 0,n=null),WC.debug(\"clean low stream renderer\")},c}function GL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function WL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?GL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):GL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}Lv([BL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Object,Array,Object,String,String]),kv(\"design:returntype\",tg)],FL.prototype,\"connect\",null),Lv([BL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Array]),kv(\"design:returntype\",tg)],FL.prototype,\"createDataChannels\",null),Lv([BL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,Array,String,Object]),kv(\"design:returntype\",tg)],FL.prototype,\"receive\",null),Lv([BL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],FL.prototype,\"batchReceive\",null),Lv([BL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],FL.prototype,\"stopReceiving\",null),Lv([BL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],FL.prototype,\"muteRemote\",null),Lv([BL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],FL.prototype,\"unmuteRemote\",null),Lv([BL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],FL.prototype,\"muteLocal\",null),Lv([BL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],FL.prototype,\"unmuteLocal\",null),Lv([BL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],FL.prototype,\"close\",null),Lv([BL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,$y]),kv(\"design:returntype\",tg)],FL.prototype,\"updateEncoderConfig\",null),Lv([BL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,$y]),kv(\"design:returntype\",tg)],FL.prototype,\"updateSendParameters\",null),Lv([BL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[$y,String]),kv(\"design:returntype\",tg)],FL.prototype,\"replaceTrack\",null),Lv([BL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],FL.prototype,\"getRemoteSSRC\",null);const HL=\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE 0\\na=msid-semantic: WMS\\na=ice-lite\\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\\nc=IN IP4 127.0.0.1\\na=mid:0\\n\",KL=\"9\",YL=2e4,qL=4e4;class JL{get localCapabilities(){return bS(this._localCapabilities)}get rtpCapabilities(){return bS(this._rtpCapabilities)}get candidates(){return bS(this._candidates)}get iceParameters(){return bS(this._iceParameters)}get dtlsParameters(){return bS(this._dtlsParameters)}constructor(e){nu(this,\"sessionDesc\",void 0),nu(this,\"_localCapabilities\",void 0),nu(this,\"_rtpCapabilities\",void 0),nu(this,\"_candidates\",void 0),nu(this,\"_iceParameters\",void 0),nu(this,\"_dtlsParameters\",void 0),nu(this,\"setup\",void 0),nu(this,\"currentMidIndex\",void 0),nu(this,\"cname\",void 0),nu(this,\"firefoxSsrcMidMap\",new Map),e=bS(e);const{remoteIceParameters:t,remoteDtlsParameters:i,candidates:n,remoteRTPCapabilities:r,remoteSetup:s,localCapabilities:o,cname:a}=e,c=GP.parse(HL);this._rtpCapabilities=r,this._candidates=n,this._iceParameters=t,this._dtlsParameters=i,this._localCapabilities=o,this.setup=s,this.cname=a;const d=this.rtpCapabilities.send;for(const e of c.mediaDescriptions){if(e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=i.fingerprints,e.attributes.candidates=n,e.attributes.setup=s,\"application\"===e.media.mediaType&&(e.attributes.sctpPort=\"5000\"),\"video\"===e.media.mediaType&&(e.media.fmts=d.videoCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=d.videoCodecs,e.attributes.extmaps=d.videoExtensions,kC(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=zP([{ssrcId:qL,rtx:kC(\"USE_SUB_RTX\")?40001:void 0}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}if(\"audio\"===e.media.mediaType&&(e.media.fmts=d.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=d.audioCodecs,e.attributes.extmaps=d.audioExtensions,sL(e),kC(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=zP([{ssrcId:YL}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}}this.sessionDesc=c,this.currentMidIndex=c.mediaDescriptions.length-1}updateRemoteRTPCapabilities(e){const t=GP.parse(HL);this._rtpCapabilities=e;const i=this.rtpCapabilities.send;for(const e of t.mediaDescriptions){if(e.attributes.iceUfrag=this._iceParameters.iceUfrag,e.attributes.icePwd=this._iceParameters.icePwd,e.attributes.fingerprints=this._dtlsParameters.fingerprints,e.attributes.candidates=this._candidates,e.attributes.setup=this.setup,\"application\"===e.media.mediaType&&(e.attributes.sctpPort=\"5000\"),\"video\"===e.media.mediaType&&(e.media.fmts=i.videoCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=i.videoCodecs,e.attributes.extmaps=i.videoExtensions,kC(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=zP([{ssrcId:qL,rtx:kC(\"USE_SUB_RTX\")?40001:void 0}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}if(\"audio\"===e.media.mediaType&&(e.media.fmts=i.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=i.audioCodecs,e.attributes.extmaps=i.audioExtensions,kC(\"PRELOAD_MEDIA_COUNT\")>0)){const{ssrcs:t,ssrcGroups:i}=zP([{ssrcId:YL}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}}this.sessionDesc=t,this.currentMidIndex=t.mediaDescriptions.length-1}preloadRemoteMedia(e){this.rtpCapabilities;const t=this.candidates,i=this.dtlsParameters,n=this.iceParameters,r=this.rtpCapabilities.send;for(let s=1;s<e;s++){const e=2*s+YL,o=2*s+qL,{ssrcs:a,ssrcGroups:c}=zP([{ssrcId:e}],this.cname),{ssrcs:d,ssrcGroups:l}=zP([{ssrcId:o,rtx:kC(\"USE_SUB_RTX\")?o+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"video\",port:KL,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:r.videoCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.videoExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:d,ssrcGroups:l,rtcpFeedbackWildcards:[],payloads:r.videoCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(2*s-1)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"audio\",port:KL,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:r.audioCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.audioExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:a,ssrcGroups:c,rtcpFeedbackWildcards:[],payloads:r.audioCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(2*s)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return GP.print(this.sessionDesc)}send(e,t,i,n){const{ssrcs:r,ssrcGroups:s}=zP(t,this.cname,kC(\"SYNC_GROUP\")?i:void 0),o=this.findPreloadMediaDesc(r);if(o){if(Rg()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,o.attributes.mid),n&&(n.twcc||n.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(o);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(o,n),{mid:o.attributes.mid,needExchangeSDP:!0}}return{mid:o.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,r);let i;return-1===t||Tg()||Cg()||Ag()||0===t&&kC(\"USE_SUB_RTX\")?(i=this.createOrRecycleSendMedia(e,r,s,\"sendonly\",n),this.updateBundleMids()):(i=bS(this.sessionDesc.mediaDescriptions[t]),i.attributes.direction=\"sendonly\",i.attributes.ssrcs=r,i.attributes.ssrcGroups=s,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(i,n)),Rg()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,i.attributes.mid),{mid:i.attributes.mid,needExchangeSDP:!0}}}batchSend(e){const t=e.map((e=>{let{kind:t,ssrcMsg:i,mslabel:n}=e;return this.send(t,i,n)})),i=[];let n=!1;return t.forEach((e=>{let{mid:t,needExchangeSDP:r}=e;r&&(n=!0),i.push(t)})),{mids:i,needExchangeSDP:n}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.\");t.forEach((e=>{\"0\"===e.attributes.mid||Rg()||Tg()||Cg()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction=\"inactive\",e.media.port=\"0\")})),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.mute.\"));t.attributes.direction=\"inactive\"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.unmute.\"));t.attributes.direction=\"sendonly\"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Pr(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"inactive\"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Pr(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"recvonly\"}))}receive(e,t,i,n){e.forEach(((e,r)=>{this.createOrRecycleRecvMedia(e,[],\"recvonly\",t,i,n[r])})),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.\");t.forEach((e=>{e.media.port=\"0\",e.attributes.direction=\"inactive\"})),this.updateBundleMids()}updateCandidates(e){e===lI.TCP?this._candidates.forEach((e=>{-1===this._candidates.findIndex((t=>\"tcp\"===t.transport&&t.connectionAddress===e.connectionAddress&&t.port===e.port))&&this._candidates.push(WL(WL({},e),{},{foundation:\"tcpcandidate\",priority:Number(e.priority)-1+\"\",transport:\"tcp\",port:Number(e.port)+90+\"\"}))})):this._candidates=this._candidates.filter((e=>\"tcp\"!==e.transport));for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}restartICE(e){e=bS(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let i=0;i<e;i++)t.push((this.currentMidIndex+i+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex((i=>{const n=i.media.mediaType===e&&\"0\"!==i.media.port&&(\"sendonly\"===i.attributes.direction||\"sendrecv\"===i.attributes.direction)&&0===i.attributes.ssrcs.length;if(Rg()){if(n){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||\"0\"!==i.attributes.mid&&\"1\"!==i.attributes.mid)||!(!e||e!==i.attributes.mid)}return!1}return n}))}createOrRecycleRecvMedia(e,t,i,n,r,s){const o=e._mediaStreamTrack.kind,a=this.rtpCapabilities.recv,c=this.localCapabilities.send;let d=[];if(o===dI.VIDEO){var l,h;if(kC(\"H264_PROFILE_LEVEL_ID\")&&\"h264\"===n&&(d=a.videoCodecs.filter((e=>{var t,i,r;return Pr(t=(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\").call(t,n)&&(null==e||null===(r=e.fmtp)||void 0===r?void 0:r.parameters[\"profile-level-id\"])===kC(\"H264_PROFILE_LEVEL_ID\")}))),!d||0===(null===(l=d)||void 0===l?void 0:l.length)){const e=c.videoCodecs.filter((e=>{var t,i;return Pr(t=(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\").call(t,n)}));0!==e.length&&(d=a.videoCodecs.filter((t=>e.some((e=>e.payloadType===t.payloadType)))))}if(kC(\"USE_PUB_RTX\")){const e=d.map((e=>e.payloadType.toString())),t=a.videoCodecs.filter((t=>{var i,n;return\"rtx\"===(null===(i=t.rtpMap)||void 0===i?void 0:i.encodingName)&&Pr(e).call(e,(null===(n=t.fmtp)||void 0===n?void 0:n.parameters.apt)||\"\")}));d=[...d,...t]}if(0===d.length)WC.warning(\"codec \".concat(n,\" not included in rtpCapabilities, fallback to default payloads: \").concat(null===(h=a.videoCodecs[0].rtpMap)||void 0===h?void 0:h.encodingName)),d=a.videoCodecs}else d=a.audioCodecs.filter((e=>{var t,i;return Pr(t=(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\").call(t,r)})),0===d.length&&(WC.warning(\"codec \".concat(r,\" not included in rtpCapabilities, fallback to opus\")),d=a.audioCodecs.filter((e=>{var t,i;return Pr(t=(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\").call(t,\"opus\")})));const u=o===dI.VIDEO?a.videoExtensions:a.audioExtensions;this.currentMidIndex+=1;const p=\"\".concat(this.currentMidIndex);let _={media:{mediaType:o,port:KL,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:d.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:u,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:d,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(p)}};_=this.mungRecvMediaDsec(_,e,s);const E=this.findFirstClosedMedia(o);if(E){const e=this.sessionDesc.mediaDescriptions.indexOf(E);this.sessionDesc.mediaDescriptions[e]=_}else this.sessionDesc.mediaDescriptions.push(_);return _}createOrRecycleSendMedia(e,t,i,n,r){const s=this.rtpCapabilities.send,o=e===dI.VIDEO?s.videoCodecs:s.audioCodecs,a=e===dI.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;const c=\"\".concat(this.currentMidIndex);let d={media:{mediaType:e,port:KL,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:o.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:a,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:i,rtcpFeedbackWildcards:[],payloads:o,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(c)}};d=this.mungSendMediaDesc(d,r);const l=this.findFirstClosedMedia(e);if(l){const e=this.sessionDesc.mediaDescriptions.indexOf(l);this.sessionDesc.mediaDescriptions[e]=d}else this.sessionDesc.mediaDescriptions.push(d);return d}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>\"0\"!==e.media.port)).map((e=>e.attributes.mid))}mungRecvMediaDsec(e,t,i){const n=bS(e);return QP(n),XP(n,t),ZP(n,t),$P(n),eL(n,i,this.localCapabilities.send),n}mungSendMediaDesc(e,t){const i=bS(e);return eL(i,t,this.localCapabilities.recv),sL(i),i}updateRecvMedia(e,t){const i=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==i){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>Rg()?\"0\"===t.media.port&&t.media.mediaType===e:\"0\"===t.media.port))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var i;return(null===(i=t.attributes)||void 0===i||null===(i=i.ssrcs[0])||void 0===i?void 0:i.ssrcId)===e[0].ssrcId}))}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===t?void 0:t.attributes.ssrcs}}function zL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function XL(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?zL(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):zL(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class QL extends NI{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}constructor(e,t,i){super(e,t),nu(this,\"store\",void 0),nu(this,\"peerConnection\",void 0),nu(this,\"remoteSDP\",void 0),nu(this,\"initialOffer\",void 0),nu(this,\"transportEventReceiver\",void 0),nu(this,\"statsFilter\",void 0),nu(this,\"useXR\",kC(\"USE_XR\")),nu(this,\"localCapabilities\",void 0),nu(this,\"localCandidateCount\",0),nu(this,\"allCandidatesReceived\",!1),nu(this,\"dataStreamChannelMap\",new Map),nu(this,\"establishPromise\",void 0),nu(this,\"mutex\",new YS(\"NVExtentionsConnection-mutex\")),nu(this,\"rtcMedia\",void 0),this.store=t,this.peerConnection=i,this.statsFilter=wL(this.peerConnection,kC(\"STATS_UPDATE_INTERVAL\"),void 0,Rg()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(e){try{const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const t=YP(e.sdp),i=await iL({filterRTX:!kC(\"USE_PUB_RTX\")&&!kC(\"USE_SUB_RTX\"),filterVideoFec:kC(\"FILTER_VIDEO_FEC\"),filterAudioFec:kC(\"FILTER_AUDIO_FEC\")},{useXR:this.useXR});return this.localCapabilities=i,this.initialOffer=e,XL(XL({},t),{},{rtpCapabilities:i,offerSDP:e.sdp})}catch(e){throw new Mv(xg.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,i,n,r,s){try{if(!this.initialOffer)throw new Error(\"Cannot establish NVConnection without initial offer.\");this.remoteSDP=new JL({remoteIceParameters:e,remoteDtlsParameters:t,candidates:i,remoteRTPCapabilities:n,remoteSetup:r,localCapabilities:rL(this.localCapabilities),cname:s});const o=this.remoteSDP.toString(),a=GP.parse(this.initialOffer.sdp),c=a.mediaDescriptions.find((e=>\"audio\"===e.media.mediaType));c&&sL(c),this.useXR&&oL(a);const d=GP.print(a),l=this.logSDPExchange(d||\"\",\"offer\",\"local\",\"connect\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:d}),null==l||l(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o})}catch(e){throw new Mv(xg.EXCHANGE_SDP_FAILED,\"NV.connect failed; \".concat(e.toString()))}}async updateRemoteConnect(e){var t,i,n;null===(t=this.remoteSDP)||void 0===t||t.updateRemoteRTPCapabilities(e),null===(i=this.remoteSDP)||void 0===i||i.preloadRemoteMedia(2);const r=null===(n=this.remoteSDP)||void 0===n?void 0:n.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:r});const s=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(s),WC.debug(\"[NVExtentionsConnection] updateRemoteRTPCapabilities by exchanging SDP.\")}send(e,t,i){var n=this;return xP((function*(){const r=yield VP(n.mutex.lock(\"From NVExtentionsConnection.send\"));try{if(!n.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.send before remote SDP created\");const s=[];e.forEach((e=>{const t=n.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:\"sendonly\"});s.push(t)})),Rg()&&!0===kC(\"SIMULCAST\")&&(yield VP(n.applySimulcastForFirefox(s,e)));const o=yield VP(n.peerConnection.createOffer()),a=n.remoteSDP.predictReceivingMids(e.length),c=n.mungSendOfferSDP(o.sdp,e,a),d=GP.parse(c),l=a.map((e=>{const t=d.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return qP(t,kC(\"USE_PUB_RTX\"))}));let h;try{h=yield l}catch(r){h=[],n.remoteSDP.receive(e,t,i,h);const s=n.remoteSDP.toString();throw yield VP(n.peerConnection.setLocalDescription({type:\"offer\",sdp:c})),yield VP(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:s})),yield VP(n.stopSending(a,!0)),r}n.remoteSDP.receive(e,t,i,h);const u=n.remoteSDP.toString(),p=n.logSDPExchange(c,\"offer\",\"local\",\"send\");return yield VP(n.peerConnection.setLocalDescription({type:\"offer\",sdp:c})),yield VP(n.applySimulcastEncodings(s,e)),yield VP(n.applySendEncodings(s,e)),null==p||p(u),yield VP(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:u})),s.map(((e,t)=>{const i=a[t];return{localSSRC:l[t],id:i,transceiver:e}}))}catch(e){throw e instanceof Mv?e:new Mv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.send failed; \".concat(e.toString()))}finally{r()}}))()}async stopSending(e,t){const i=t?void 0:await this.mutex.lock(\"From NVExtentionsConnection.stopSending\");try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.stopSending before remote SDP created\");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call NVExtentionsConnection.stopSending.\");t.map((e=>{var t;e.direction=\"inactive\",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"stopSending\");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const s=this.remoteSDP.toString();null==r||r(s),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:s})}catch(e){throw new Mv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.stopSending failed; \".concat(e.toString()))}finally{i&&i()}}async createDataChannels(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.createDataChannels before remote SDP created\");let i=this.dataStreamChannelMap.get(e);return i&&\"open\"===i.readyState?WC.debug(\"[P2PConnection] Channels are already available and can be reused directly.\"):(i=this.peerConnection.createDataChannel(\"datastream-channel\",{ordered:!1,maxRetransmits:kC(\"DATASTREAM_MAX_RETRANSMITS\")}),i.binaryType=\"arraybuffer\",this.dataStreamChannelMap.set(e,i)),void t.forEach((e=>{e._updateOriginDataChannel(i)}))}catch(e){throw e instanceof Mv?e:new Mv(xg.DATACHANNEL_FAILED,\"NVExtentionsConnection.createDataChannels failed; \".concat(e.toString()))}}async stopDataChannels(e){try{const t=this.dataStreamChannelMap.get(e);return null==t||t.close(),void this.dataStreamChannelMap.delete(e)}catch(e){throw e instanceof Mv?e:new Mv(xg.DATACHANNEL_FAILED,\"NVExtentionsConnection.stopDataChannels failed; \".concat(e.toString()))}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.receive \".concat(e,\" before remoteSDP created.\"));const{mid:r,needExchangeSDP:s}=this.remoteSDP.send(e,t,i,n);if(s){const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"receive\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer(),s=this.mungReceiveAnswerSDP(n.sdp,r,e);null==i||i(s||\"\"),await this.peerConnection.setLocalDescription({type:\"answer\",sdp:s}),WC.debug(\"[NVExtentionsConnection] receive \".concat(e,\" by exchanging SDP.\"))}else WC.debug(\"[NVExtentionsConnection] receive \".concat(e,\" no need to exchange SDP.\"));const o=this.peerConnection.getTransceivers().find((e=>e.mid===r));if(!o)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:o.receiver.track,id:r}}catch(e){throw new Mv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.receive failed; \".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.batchReceive before remoteSDP created.\");const{mids:t,needExchangeSDP:i}=this.remoteSDP.batchSend(e);if(i){const e=this.remoteSDP.toString(),t=this.logSDPExchange(e,\"offer\",\"remote\",\"receive\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const i=await this.peerConnection.createAnswer();null==t||t(i.sdp||\"\"),await this.peerConnection.setLocalDescription(i),WC.debug(\"[NVExtentionsConnection] batchReceive by exchanging SDP.\")}else WC.debug(\"[NVExtentionsConnection] batchReceive no need to exchange SDP.\");return t.map((e=>{const t=this.peerConnection.getTransceivers().find((t=>t.mid===e));if(!t)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:t.receiver.track,id:e}}))}catch(e){throw new Mv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"stopReceiving\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new Mv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection stopReceiving failed; \".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.muteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"muteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new Mv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.muteRemote failed; \".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.unmuteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"unmuteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new Mv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.unmuteRemote failed; \".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.muteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((e=>{e.direction=\"inactive\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new Mv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((async(e,t)=>{e.direction=\"sendonly\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"unmuteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.unmuteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new Mv(xg.EXCHANGE_SDP_FAILED,\"NVExtentionsConnection.unmuteLocal failed; \".concat(e.toString()))}}restartICE(e){var t=this;return xP((function*(){const i=yield VP(t.mutex.lock(\"From NVExtentionsConnection.restartICE\"));try{if(!t.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");if(hA().supportPCSetConfiguration){const i=t.peerConnection.getConfiguration(),n=e===lI.RELAY?\"relay\":\"all\";i.iceTransportPolicy!==n&&(WC.debug(\"restartICE change iceTransportPolicy from [\".concat(i.iceTransportPolicy,\"] to [\").concat(n,\"]\")),i.iceTransportPolicy=n,t.peerConnection.setConfiguration(i))}else if(e===lI.RELAY)return;e!==lI.RELAY&&t.remoteSDP.updateCandidates(e);const n=yield VP(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const r=YP(n.sdp),{remoteIceParameters:s}=yield r.iceParameters;t.remoteSDP.restartICE(s);const o=t.remoteSDP.toString(),a=t.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"restartICE\");yield VP(t.peerConnection.setLocalDescription(n)),null==a||a(o),yield VP(t.peerConnection.setRemoteDescription({type:\"answer\",sdp:o}))}catch(e){WC.warning(\"restart ICE failed, abort operation\",e)}finally{i()}}))()}close(){var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call NVExtentionsConnection.updateEncoderConfig before remote SDP created.\");const i=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(i.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),s=this.logSDPExchange(n,\"offer\",\"local\",\"updateEncoderConfig\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:n}),null==s||s(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new Mv(xg.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===i.length&&(this.isVP8Simulcast(t)?Rg()||await this.applySimulcastEncodings(i,[t]):await this.applySendEncodings(i,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getTransceivers().find((e=>e.mid===t));i&&await i.sender.replaceTrack(e._mediaStreamTrack)}getP2PConnectionParams(){var e;if(null===(e=this.peerConnection.currentLocalDescription)||void 0===e||!e.sdp||!this.localCapabilities)throw new Error;return XL(XL({},YP(this.peerConnection.currentLocalDescription.sdp)),{},{rtpCapabilities:this.localCapabilities})}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,WC.debug(\"[pc-\".concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,WC.debug(\"[pc-\".concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))}),kC(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(e){const t={iceServers:[]};return e.iceServers?t.iceServers=e.iceServers:e.turnServer&&\"off\"!==e.turnServer.mode&&(_S(e.turnServer.servers)?t.iceServers=e.turnServer.servers:(t.iceServers&&t.iceServers.push(...QL.turnServerConfigToIceServers(e.turnServer.servers)),kC(\"USE_TURN_SERVER_OF_GATEWAY\")&&t.iceServers&&e.turnServer.serversFromGateway&&t.iceServers.push(...QL.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),kC(\"FORCE_TURN_TCP\")?t.iceTransportPolicy=\"relay\":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(t.iceTransportPolicy=\"relay\")})))),t}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(hD(e.turnServerURL),\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&!kC(\"FORCE_TURN_TCP\")&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))})),t}async applySendEncodings(e,t){try{if(!hA().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let l=0;l<e.length;l++){const h=e[l],u=t[l];if(u&&u instanceof fb){var i,n,r;if(this.isVP8Simulcast(u))continue;const e={},t={};switch(u._optimizationMode){case\"motion\":e.degradationPreference=\"maintain-framerate\";break;case\"detail\":e.degradationPreference=\"maintain-resolution\";break;default:e.degradationPreference=\"balanced\"}var s,o,a,c;if(null!==(i=u._encoderConfig)&&void 0!==i&&i.bitrateMax)t.maxBitrate=1e3*(null===(s=u._encoderConfig)||void 0===s?void 0:s.bitrateMax);if(Pr(n=u._hints).call(n,Dy.LOW_STREAM))null!==(o=u._encoderConfig)&&void 0!==o&&o.frameRate&&(t.maxFramerate=pD(u._encoderConfig.frameRate)),null!==(a=u._encoderConfig)&&void 0!==a&&a.scaleResolutionDownBy&&(null===(c=u._encoderConfig)||void 0===c?void 0:c.scaleResolutionDownBy)>1&&(t.scaleResolutionDownBy=u._encoderConfig.scaleResolutionDownBy);if(kC(\"DSCP_TYPE\")&&kg()){var d;const e=kC(\"DSCP_TYPE\");Pr(d=[\"very-low\",\"low\",\"medium\",\"high\"]).call(d,e)&&(t.networkPriority=e)}const l=h.sender.getParameters(),p=null===(r=l.encodings)||void 0===r?void 0:r[0];Rg()&&!p&&(e.encodings=[t]),p&&Object.assign(p,t),Object.assign(l,e),await h.sender.setParameters(l)}}}catch(e){WC.debug(\"Apply RTPSendEncodings failed.\")}}mungSendOfferSDP(e,t,i){const n=GP.parse(e);return t.forEach(((e,t)=>{const r=i[t],s=n.mediaDescriptions.find((e=>e.attributes.mid===r));s&&(XP(s,e),tL(s,e,this.store.codec))})),GP.print(n)}mungReceiveAnswerSDP(e,t,i){const n=GP.parse(e),r=n.mediaDescriptions.find((e=>e.attributes.mid===t));return r&&i===dI.AUDIO&&\"audio\"===r.media.mediaType&&sL(r),this.useXR&&oL(n),GP.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let a=0;a<e.length;a++){var i,n,r,s,o;const c=e[a],d=t[a];if(d instanceof fb&&!Pr(i=d._hints).call(i,Dy.LOW_STREAM)&&null!==(n=d._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=d._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(s=d._scalabilityMode)&&void 0!==s&&s.numSpatialLayers&&(null===(o=d._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1&&\"vp8\"===this.store.codec){const e={},t={high:1e3*(d._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:\"m\",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:t.high}];const i=c.sender.getParameters();await c.sender.setParameters(Object.assign(i,e))}}}async applySimulcastEncodings(e,t){if(!Rg()&&e.length===t.length)for(let i=0;i<e.length;i++){const n=t[i];if(n instanceof fb&&this.isVP8Simulcast(n)){const t=e[i],r={},s={high:1e3*(n._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:s.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:s.medium,scaleResolutionDownBy:4}];const o=t.sender.getParameters();await t.sender.setParameters(Object.assign(o,r))}}}isVP8Simulcast(e){var t,i,n,r,s;return!!(e instanceof fb&&kC(\"SIMULCAST\")&&\"vp8\"===this.store.codec&&!Pr(t=e._hints).call(t,Dy.LOW_STREAM)&&null!==(i=e._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(s=e._scalabilityMode)||void 0===s?void 0:s.numSpatialLayers)>1)}logSDPExchange(e,t,i,n){if(kC(\"SDP_LOGGING\"))return WC.upload(\"exchanging \".concat(i,\" \").concat(t,\" SDP during NVExtentionsConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(e){if(hA().supportPCSetConfiguration){const t=QL.resolvePCConfiguration(e);this.peerConnection.setConfiguration(t)}}}function ZL(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From NVExtentionsConnection.\".concat(t));try{for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return await n.apply(this,s)}finally{i()}},i}function $L(e){var t,i,n,r=2;for(\"undefined\"!=typeof Symbol&&(i=BP,n=Symbol.iterator);r--;){if(i&&null!=(t=e[i]))return t.call(e);if(n&&null!=(t=e[n]))return new ek(t.call(e));i=\"@@asyncIterator\",n=\"@@iterator\"}throw new TypeError(\"Object is not async iterable\")}function ek(e){function t(e){if(Object(e)!==e)return tg.reject(new TypeError(e+\" is not an object.\"));var t=e.done;return tg.resolve(e.value).then((function(e){return{value:e,done:t}}))}return ek=function(e){this.s=e,this.n=e.next},ek.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var i=this.s.return;return void 0===i?tg.resolve({value:e,done:!0}):t(i.apply(this.s,arguments))},throw:function(e){var i=this.s.return;return void 0===i?tg.reject(e):t(i.apply(this.s,arguments))}},new ek(e)}Lv([ZL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Object,Array,Object,String,String]),kv(\"design:returntype\",tg)],QL.prototype,\"connect\",null),Lv([ZL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",tg)],QL.prototype,\"updateRemoteConnect\",null),Lv([ZL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Array]),kv(\"design:returntype\",tg)],QL.prototype,\"createDataChannels\",null),Lv([ZL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,Array,String,Object]),kv(\"design:returntype\",tg)],QL.prototype,\"receive\",null),Lv([ZL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],QL.prototype,\"batchReceive\",null),Lv([ZL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],QL.prototype,\"stopReceiving\",null),Lv([ZL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],QL.prototype,\"muteRemote\",null),Lv([ZL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],QL.prototype,\"unmuteRemote\",null),Lv([ZL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],QL.prototype,\"muteLocal\",null),Lv([ZL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],QL.prototype,\"unmuteLocal\",null),Lv([ZL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],QL.prototype,\"close\",null),Lv([ZL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,$y]),kv(\"design:returntype\",tg)],QL.prototype,\"updateEncoderConfig\",null),Lv([ZL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,$y]),kv(\"design:returntype\",tg)],QL.prototype,\"updateSendParameters\",null),Lv([ZL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[$y,String]),kv(\"design:returntype\",tg)],QL.prototype,\"replaceTrack\",null),Lv([ZL,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],QL.prototype,\"getRemoteSSRC\",null);class tk extends NI{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}constructor(e,t){super(e,t),nu(this,\"store\",void 0),nu(this,\"peerConnection\",void 0),nu(this,\"cname\",void 0),nu(this,\"mutex\",new YS(\"DataChannelConnection-mutex\")),nu(this,\"dataChannel\",void 0),nu(this,\"_p2pConnection\",void 0),nu(this,\"establishPromise\",void 0),nu(this,\"_nvMedia\",void 0),this.store=t,this.store.dcId=this.store.dcId+1,this.peerConnection=new RTCPeerConnection(tk.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),this.dataChannel=this.peerConnection.createDataChannel(\"agora-signal\",{ordered:!1,maxPacketLifeTime:50}),this.dataChannel.binaryType=\"arraybuffer\",this._p2pConnection=new QL(e,t,this.peerConnection),this.bindPCEvents(),this.establishPromise=this._p2pConnection.establishPromise}async establish(){var e;const t=null===(e=this._nvMedia)||void 0===e?void 0:e.getLocalRtpCapabilities();return await this._p2pConnection.establish(t)}getP2PConnectionParams(){return this._p2pConnection.getP2PConnectionParams()}async connect(e,t,i,n,r,s){return this.cname=s,await this._p2pConnection.connect(e,t,i,n,r,s),await new tg(((e,t)=>{const n=setTimeout((()=>{this.closeSignal(),t(new Mv(xg.DATACHANNEL_CONNECTION_TIMEOUT,\"Datachannel connection timed out, candidates: \".concat(JSON.stringify(i))))}),2e3);this.dataChannel.onopen=()=>{if(\"open\"===this.dataChannel.readyState)return clearTimeout(n),void e()},this.dataChannel.onerror=e=>{this.closeSignal(),t(e)}})),{transmitter:this.dataChannel,close:this.closeSignal.bind(this)}}send(e,t,i){var n=this;return xP((function*(){const r=yield VP(n.mutex.lock(\"From DataChannelConnection.send\"));try{return yield*FP($L(n._p2pConnection.send(e,t,i)))}finally{r()}}))()}async stopSending(e,t){return this._p2pConnection.stopSending(e,t)}async createDataChannels(e,t){return this._p2pConnection.createDataChannels(e,t)}async stopDataChannels(e){return this._p2pConnection.stopDataChannels(e)}async receive(e,t,i,n){return this._nvMedia?(WC.debug(\"[DataChannelConnection] receive \".concat(e,\" by DataChannel.\")),await this._nvMedia.reveiveByRTCMedia(e,t,this.cname)):(WC.debug(\"[DataChannelConnection] receive \".concat(e,\" by WebRTC.\")),await this._p2pConnection.receive(e,t,i,n))}async batchReceive(e){return[...await this._p2pConnection.batchReceive(e)]}async stopReceiving(e){return await this._p2pConnection.stopReceiving(e)}async muteRemote(e){return await this._p2pConnection.muteRemote(e)}async unmuteRemote(e){return await this._p2pConnection.unmuteRemote(e)}async muteLocal(e){return await this._p2pConnection.muteLocal(e)}async unmuteLocal(e){return await this._p2pConnection.unmuteLocal(e)}restartICE(e){var t=this;return xP((function*(){return yield*FP($L(t._p2pConnection.restartICE(e)))}))()}close(){var e;null===(e=this._nvMedia)||void 0===e||e.close(),this._p2pConnection.close(),this.unbindConnectionEvents(this._p2pConnection)}getStats(){return this._p2pConnection.getStats()}getRemoteVideoIsReady(e){return this._p2pConnection.getRemoteVideoIsReady(e)}updateRemoteConnect(e){var t;null===(t=this._nvMedia)||void 0===t||t.setRemoteRtpCapabilities(e),this._p2pConnection.updateRemoteConnect(e)}async updateEncoderConfig(e,t){return await this._p2pConnection.updateEncoderConfig(e,t)}async updateSendParameters(e,t){return await this._p2pConnection.updateSendParameters(e,t)}setStatsRemoteVideoIsReady(e,t){this._p2pConnection.setStatsRemoteVideoIsReady(e,t)}async replaceTrack(e,t){return await this._p2pConnection.replaceTrack(e,t)}async getRemoteSSRC(e){return this._p2pConnection.getRemoteSSRC(e)}logSDPExchange(e,t,i,n){if(kC(\"SDP_LOGGING\"))return WC.upload(\"exchanging \".concat(i,\" \").concat(t,\" SDP during DataChannelConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}static resolvePCConfiguration(e){const t={iceServers:[]};return e.iceServers?t.iceServers=e.iceServers:e.turnServer&&\"off\"!==e.turnServer.mode&&(_S(e.turnServer.servers)?t.iceServers=e.turnServer.servers:(t.iceServers&&t.iceServers.push(...tk.turnServerConfigToIceServers(e.turnServer.servers)),kC(\"USE_TURN_SERVER_OF_GATEWAY\")&&t.iceServers&&e.turnServer.serversFromGateway&&t.iceServers.push(...tk.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),kC(\"FORCE_TURN_TCP\")?t.iceTransportPolicy=\"relay\":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(t.iceTransportPolicy=\"relay\")})))),t}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(hD(e.turnServerURL),\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&!kC(\"FORCE_TURN_TCP\")&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))})),t}bindPCEvents(){this._p2pConnection.onICEConnectionStateChange=e=>{var t;return null===(t=this.onICEConnectionStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onConnectionStateChange=e=>{var t;return null===(t=this.onConnectionStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onDTLSTransportStateChange=e=>{var t;return null===(t=this.onDTLSTransportStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onDTLSTransportError=e=>{var t;return null===(t=this.onDTLSTransportError)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onICETransportStateChange=e=>{var t;return null===(t=this.onICETransportStateChange)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstAudioReceived=e=>{var t;return null===(t=this.onFirstAudioReceived)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstVideoReceived=e=>{var t;return null===(t=this.onFirstVideoReceived)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstAudioDecoded=e=>{var t;return null===(t=this.onFirstAudioDecoded)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onFirstVideoDecoded=(e,t,i)=>{var n;return null===(n=this.onFirstVideoDecoded)||void 0===n?void 0:n.call(this,e,t,i)},this._p2pConnection.onFirstVideoDecodedTimeout=e=>{var t;return null===(t=this.onFirstVideoDecodedTimeout)||void 0===t?void 0:t.call(this,e)},this._p2pConnection.onSelectedLocalCandidateChanged=(e,t)=>{var i;return null===(i=this.onSelectedLocalCandidateChanged)||void 0===i?void 0:i.call(this,e,t)},this._p2pConnection.onSelectedRemoteCandidateChanged=(e,t)=>{var i;return null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i?void 0:i.call(this,e,t)}}closeSignal(){this.dataChannel.close(),this.peerConnection.close()}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}setConfiguration(e){this._p2pConnection.setConfiguration(e)}}function ik(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From DataChannelConnection.\".concat(t));try{for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return await n.apply(this,s)}finally{i()}},i}function nk(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function rk(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?nk(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):nk(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}Lv([ik,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Object,Array,Object,String,String]),kv(\"design:returntype\",tg)],tk.prototype,\"connect\",null),Lv([ik,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Array]),kv(\"design:returntype\",tg)],tk.prototype,\"createDataChannels\",null),Lv([ik,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,Array,String,Object]),kv(\"design:returntype\",tg)],tk.prototype,\"receive\",null),Lv([ik,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],tk.prototype,\"stopReceiving\",null),Lv([ik,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],tk.prototype,\"muteRemote\",null),Lv([ik,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],tk.prototype,\"unmuteRemote\",null),Lv([ik,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],tk.prototype,\"muteLocal\",null),Lv([ik,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],tk.prototype,\"unmuteLocal\",null),Lv([ik,kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],tk.prototype,\"close\",null),Lv([ik,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,$y]),kv(\"design:returntype\",tg)],tk.prototype,\"updateEncoderConfig\",null),Lv([ik,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,$y]),kv(\"design:returntype\",tg)],tk.prototype,\"updateSendParameters\",null),Lv([ik,kv(\"design:type\",Function),kv(\"design:paramtypes\",[$y,String]),kv(\"design:returntype\",tg)],tk.prototype,\"replaceTrack\",null),Lv([ik,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],tk.prototype,\"getRemoteSSRC\",null);class sk extends iS{constructor(){super(),nu(this,\"uplinkStatsUploadInterval\",void 0),nu(this,\"uplinkRelatedStatsUploadInterval\",void 0),nu(this,\"uplinkDenoiserStatsUploadInterval\",void 0),nu(this,\"transportStatsUploadInterval\",void 0),nu(this,\"uplinkExtensionStatsUploadInterval\",void 0),nu(this,\"downlinkExtensionStatsUploadInterval\",void 0),nu(this,\"extensionUsageStatsUploadInterval\",void 0),nu(this,\"downlinkStatsUploadInterval\",void 0),nu(this,\"downlinkRelatedStatsUploadInterval\",void 0),nu(this,\"lastStats\",void 0),nu(this,\"uploadUnplinkStarted\",!1),nu(this,\"uploadDownlinkStarted\",!1),nu(this,\"uploadTransportStarted\",!1),nu(this,\"uploadExtensionUsageStarted\",!1),nu(this,\"requestStats\",void 0),nu(this,\"requestTransportStats\",void 0),nu(this,\"requestLocalMedia\",void 0),nu(this,\"requestRemoteMedia\",void 0),nu(this,\"requestAllTracks\",void 0),nu(this,\"requestVideoIsReady\",void 0),nu(this,\"requestUpload\",void 0)}startUploadTransportStats(e){this.uploadTransportStarted||(this.uploadTransportStarted=!0,this.transportStatsUploadInterval&&window.clearInterval(this.transportStatsUploadInterval),this.transportStatsUploadInterval=window.setInterval((()=>{var t;const i=null===(t=this.requestStats)||void 0===t?void 0:t.call(this);if(i){const t=ED(i);if(e){var n;const e=null===(n=this.requestStats)||void 0===n?void 0:n.call(this,!0);if(e){const i=ED(e);t.connectionType+=i.connectionType<<3}t.connectionType+=110}else t.connectionType+=100;AS((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,gv.TRANSPORT_STATS,t)}))}}),1e3))}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.extensionUsageStatsUploadInterval&&window.clearInterval(this.extensionUsageStatsUploadInterval);const e=new Map;this.extensionUsageStatsUploadInterval=window.setInterval((async()=>{var t,i,n;const r=Date.now(),s={connectionInterval:kC(\"EXTENSION_USAGE_UPLOAD_INTERVAL\")/1e3,details:[],lts:r};let o=[];const a=(null===(t=this.requestAllTracks)||void 0===t?void 0:t.call(this))||[];for(const e of a)!e.muted&&e.enabled&&(o=o.concat(await e.getProcessorUsage()));const c=(null===(i=this.requestRemoteMedia)||void 0===i?void 0:i.call(this))||[];for(const[e,t]of c)t.has(dI.VIDEO)&&e.videoTrack&&(o=o.concat(await e.videoTrack.getProcessorUsage())),t.has(dI.AUDIO)&&e.audioTrack&&(o=o.concat(await e.audioTrack.getProcessorUsage()));if(0===o.length)return;s.details=function(e,t){const i={};for(const{id:o,value:a,level:c,direction:d}of e){var n;const e=null!==(n=t.get(o))&&void 0!==n?n:0,l=2===a?e+kC(\"EXTENSION_USAGE_UPLOAD_INTERVAL\")/1e3:e;var r,s;t.set(o,l),i[o]?(2===a&&(i[o].value=a),c>i[o].level&&(i[o].level=c),\"remote\"===d&&(i[o].remoteUidCount+=1),i[o].totalTs=null!==(r=t.get(o))&&void 0!==r?r:0):i[o]={value:a,level:c,remoteUidCount:\"local\"===d?0:1,totalTs:null!==(s=t.get(o))&&void 0!==s?s:0}}return Object.keys(i).map((e=>{const{level:t,value:n,totalTs:r}=i[e];return{id:e,level:t,value:n,totalTs:r}}))}(o,e);const d=Date.now(),l=d>r?d:r+1;null===(n=this.requestUpload)||void 0===n||n.call(this,gv.EXTENSION_USAGE_STATS,{usageStats:s,sendTs:l})}),kC(\"EXTENSION_USAGE_UPLOAD_INTERVAL\"))}startUploadUplinkStats(){this.uploadUnplinkStarted||(this.uploadUnplinkStarted=!0,this.uplinkStatsUploadInterval&&window.clearInterval(this.uplinkStatsUploadInterval),this.uplinkStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&(this.uploadUplinkStats(t),this.lastStats=t)}),3e3),this.uplinkRelatedStatsUploadInterval&&window.clearInterval(this.uplinkRelatedStatsUploadInterval),this.uplinkRelatedStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadRelatedUplinkStats(t,this.lastStats),this.lastStats=t}),1e3),this.uplinkDenoiserStatsUploadInterval&&window.clearInterval(this.uplinkDenoiserStatsUploadInterval),this.uplinkDenoiserStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestAllTracks)||void 0===e?void 0:e.call(this);t&&this.uploadDenoiserStats(t)}),2e3),this.uplinkExtensionStatsUploadInterval&&window.clearInterval(this.uplinkExtensionStatsUploadInterval),this.uplinkExtensionStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestAllTracks)||void 0===e?void 0:e.call(this);t&&this.uploadExtensionStats(t)}),2e3))}uploadUplinkStats(e){var t;((null===(t=this.requestLocalMedia)||void 0===t?void 0:t.call(this))||[]).forEach((t=>{let[i,{track:n,ssrcs:r}]=t;switch(i){case uI.LocalVideoLowTrack:case uI.LocalVideoTrack:{const t=function(e,t,i){var n;const r=t.videoSend.find((t=>t.ssrc===e));if(!r)return null;const s={id:xS(10,\"\"),timestamp:new Date(t.timestamp).toISOString(),mediaType:\"video\",type:\"ssrc\",ssrc:r.ssrc.toString()};switch(s.A_vstd=i._originMediaStreamTrack&&!i._originMediaStreamTrack.enabled||i._mediaStreamTrack&&!i._mediaStreamTrack.enabled?\"1\":\"0\",r.sentFrame&&(s.A_fhs=r.sentFrame.height.toString(),s.A_frs=r.sentFrame.frameRate.toString(),s.A_fws=r.sentFrame.width.toString()),r.adaptionChangeReason){case\"none\":s.A_ac=\"0\";break;case\"cpu\":s.A_ac=\"1\";break;case\"bandwidth\":s.A_ac=\"2\";break;case\"other\":s.A_ac=\"3\"}return s.A_lvps=Xy[i._player?i._player.videoElementStatus:\"uninit\"].toString(),s.A_nr=null===(n=r.nacksCount)||void 0===n?void 0:n.toString(),r.avgEncodeMs&&(s.A_aem=r.avgEncodeMs.toFixed(0).toString()),kC(\"P2P\")&&(r.bytes&&(s.bytesSent=r.bytes.toString()),\"number\"==typeof r.packetsLost&&(s.packetsLost=r.packetsLost.toString()),r.packets&&(s.packetsSent=r.packets.toString())),s}(r[0].ssrcId,e,n),s=i===uI.LocalVideoTrack?function(e,t,i){var n,r,s,o,a,c,d,l;const h=t.videoSend.find((t=>t.ssrc===e));if(!h)return null;const u={id:xS(10,\"\"),timestamp:new Date(t.timestamp).toISOString(),mediaType:\"video\",type:\"ssrc\",ssrc:h.ssrc.toString()},p=null!==(n=null!==(r=null===(s=h.inputFrame)||void 0===s?void 0:s.height)&&void 0!==r?r:null==i?void 0:i._videoHeight)&&void 0!==n?n:0,_=null!==(o=null!==(a=null===(c=h.inputFrame)||void 0===c?void 0:c.width)&&void 0!==a?a:null==i?void 0:i._videoWidth)&&void 0!==o?o:0,E=null!==(d=null===(l=h.inputFrame)||void 0===l?void 0:l.frameRate)&&void 0!==d?d:0;return p&&(u.A_fhi=p+\"\"),_&&(u.A_fwi=_+\"\"),E&&(u.A_fri=E+\"\"),u}(r[0].ssrcId,e,n):null;t&&AS((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,gv.PUBLISH_STATS,{stream_type:i===uI.LocalVideoLowTrack?\"low\":\"high\",stats:rk(rk({},t),s)})}));const o=function(e){const t={id:\"bweforvideo\",timestamp:new Date(e.timestamp).toISOString(),type:\"VideoBwe\"};return e.bitrate.retransmit&&(t.A_rb=e.bitrate.retransmit.toString()),e.bitrate.targetEncoded&&(t.A_teb=e.bitrate.targetEncoded.toString()),t.A_aeb=e.bitrate.actualEncoded.toString(),t.A_tb=e.bitrate.transmit.toString(),void 0!==e.sendBandwidth&&(t.A_asb=e.sendBandwidth.toString()),t}(e);o&&setTimeout((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,gv.PUBLISH_STATS,{stream_type:i===uI.LocalVideoLowTrack?\"low\":\"high\",stats:o})}),1e3);break}case uI.LocalAudioTrack:{const t=function(e,t,i){const n=t.audioSend.find((t=>t.ssrc===e));if(!n)return null;const r={id:xS(10,\"\"),timestamp:new Date(t.timestamp).toISOString(),mediaType:\"audio\",type:\"ssrc\",ssrc:n.ssrc.toString()};return r.A_astd=i._originMediaStreamTrack&&!i._originMediaStreamTrack.enabled||i._mediaStreamTrack&&!i._mediaStreamTrack.enabled?\"1\":\"0\",n.inputLevel?r.A_ail=Math.round(100*n.inputLevel).toString():r.A_ail=Math.round(100*i._source.getAccurateVolumeLevel()).toString(),r.A_apil=Math.round(100*i._source.getAccurateVolumeLevel()).toString(),n.aecReturnLoss&&(r.A_ecrl=Math.round(n.aecReturnLoss).toString()),n.aecReturnLossEnhancement&&(r.A_ecrle=Math.round(n.aecReturnLossEnhancement).toString()),kC(\"P2P\")&&(n.bytes&&(r.bytesSent=n.bytes.toString()),\"number\"==typeof n.packetsLost&&(r.packetsLost=n.packetsLost.toString()),n.packets&&(r.packetsSent=n.packets.toString())),r}(r[0].ssrcId,e,n);t&&AS((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,gv.PUBLISH_STATS,{stream_type:\"high\",stats:t})}));break}}}))}uploadRelatedUplinkStats(e,t){var i;((null===(i=this.requestLocalMedia)||void 0===i?void 0:i.call(this))||[]).filter((e=>{let[t]=e;return t===uI.LocalVideoLowTrack||t===uI.LocalVideoTrack})).forEach((t=>{let[i,{ssrcs:n}]=t;const r=function(e,t){const i=t.videoSend.find((t=>t.ssrc===e));return i?{mediaType:\"video\",isVideoMute:!1,frameRateInput:i.inputFrame&&i.inputFrame.frameRate.toString(),frameRateSent:i.sentFrame&&i.sentFrame.frameRate.toString(),googRtt:i.rttMs.toString(),qpSumPerFrame:Math.floor(i.qpSumPerFrame).toString()}:null}(n[0].ssrcId,e);r&&AS((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,gv.PUBLISH_RELATED_STATS,{stream_type:i===uI.LocalVideoLowTrack?\"low\":\"high\",stats:r})}))}))}uploadDenoiserStats(e){for(let r=0;r<e.length;r++){const s=e[r];if(s instanceof XA){var t,i,n;const e=null===(t=(i=s._external).getDenoiserStats)||void 0===t?void 0:t.call(i);return void(e&&(null===(n=this.requestUpload)||void 0===n||n.call(this,gv.DENOISER_STATS,e)))}}}uploadExtensionStats(e){for(let t=0;t<e.length;t++){e[t].getProcessorStats().forEach((e=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,e.type,e.stats)}))}}stopUploadUplinkStats(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStatsUploadInterval&&window.clearInterval(this.uplinkStatsUploadInterval),this.uplinkRelatedStatsUploadInterval&&window.clearInterval(this.uplinkRelatedStatsUploadInterval),this.uplinkDenoiserStatsUploadInterval&&window.clearInterval(this.uplinkDenoiserStatsUploadInterval),this.uplinkStatsUploadInterval=void 0,this.uplinkRelatedStatsUploadInterval=void 0,this.uplinkDenoiserStatsUploadInterval=void 0)}startUploadDownlinkStats(){if(this.uploadDownlinkStarted)return;let e;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);let t=!1;this.downlinkStatsUploadInterval=window.setInterval((()=>{var i;const n=null===(i=this.requestStats)||void 0===i?void 0:i.call(this,!0);n&&(this.uploadDownlinkStats(n,t,e),e=n),t=!t}),3e3),this.downlinkRelatedStatsUploadInterval&&window.clearInterval(this.downlinkRelatedStatsUploadInterval),this.downlinkRelatedStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this,!0);t&&(this.uploadRelatedDownlinkStats(t,this.lastStats),this.lastStats=t)}),1e3),this.downlinkExtensionStatsUploadInterval&&window.clearInterval(this.downlinkExtensionStatsUploadInterval),this.downlinkExtensionStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestRemoteMedia)||void 0===e?void 0:e.call(this);t&&this.uploadDownlinkExtensionStats(t)}),2e3)}uploadDownlinkStats(e,t,i){var n;((null===(n=this.requestRemoteMedia)||void 0===n?void 0:n.call(this))||[]).forEach((n=>{let[r,s]=n;if(s.has(dI.VIDEO)&&r.videoTrack){const n=r.videoTrack?function(e,t,i,n,r){const s=t.videoRecv.find((t=>t.ssrc===e));if(!s)return null;const o={id:xS(10,\"\"),timestamp:new Date(t.timestamp).toISOString(),mediaType:\"video\",type:\"ssrc\",ssrc:s.ssrc.toString()};var a,c;if(o.bytesReceived=s.bytes.toString(),o.packetsLost=s.packetsLost.toString(),o.packetsReceived=s.packets.toString(),s.framesRateFirefox&&(o.A_frr=s.framesRateFirefox.toString()),s.receivedFrame?(o.A_frr=s.receivedFrame.frameRate.toString(),o.A_fhr=s.receivedFrame.height.toString(),o.A_fwr=s.receivedFrame.width.toString()):(o.A_fhr=null===(a=n._videoHeight)||void 0===a?void 0:a.toString(),o.A_fwr=null===(c=n._videoWidth)||void 0===c?void 0:c.toString()),o.A_frd=s.decodeFrameRate.toString(),s.outputFrame&&(o.A_fro=s.outputFrame.frameRate.toString()),void 0!==s.jitterBufferMs&&(o.A_jbm=Math.floor(s.jitterBufferMs).toString()),void 0!==s.currentDelayMs&&(o.A_cdm=Math.floor(s.currentDelayMs).toString()),o.A_fs=s.firsCount.toString(),o.A_ns=s.nacksCount.toString(),o.A_ps=s.plisCount.toString(),n&&(o.A_vrtd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?\"0\":\"1\"),n._player&&n._player.freezeTimeCounterList.length>0&&(o.A_vrft=Math.round(n._player.freezeTimeCounterList.splice(0,1)[0]).toString()),r&&n._player&&\"visible\"===ob.visibility){const e=Math.min(6e3,n._player.renderFreezeAccTime);o.A_vrrft=Math.round(e).toString(),n._player.renderFreezeAccTime=Math.max(0,n._player.renderFreezeAccTime-e)}if(o.A_rvps=Xy[n._player?n._player.videoElementStatus:\"uninit\"].toString(),i){const t=i.videoRecv.find((t=>t.ssrc===e));if(t&&void 0!==s.totalInterFrameDelay&&void 0!==s.totalSquaredInterFrameDelay&&void 0!==t.totalInterFrameDelay&&void 0!==t.totalSquaredInterFrameDelay){const e=s.totalInterFrameDelay-t.totalInterFrameDelay,i=s.totalSquaredInterFrameDelay-t.totalSquaredInterFrameDelay,n=s.framesDecodeCount-t.framesDecodeCount,r=e/n*1e3,a=Math.round(1e3*Math.sqrt((i-Math.pow(e,2)/n)/n));!isNaN(a)&&r+a>Math.max(3*r,r+150)&&(o.A_ifdsd=a.toString())}}return o}(r._videoSSRC,e,i,r.videoTrack,t):void 0;n&&AS((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,gv.SUBSCRIBE_STATS,{stream_id:r.uid,stats:n})}))}if(s.has(dI.AUDIO)&&r.audioTrack){const t=r.audioTrack?function(e,t,i,n){const r=t.audioRecv.find((t=>t.ssrc===e));if(!r)return null;const s={id:xS(10,\"\"),timestamp:new Date(t.timestamp).toISOString(),mediaType:\"audio\",type:\"ssrc\",ssrc:r.ssrc.toString()};if(s.bytesReceived=r.bytes.toString(),s.packetsLost=r.packetsLost.toString(),s.packetsReceived=r.packets.toString(),r.outputLevel?s.A_aol=Math.round(100*r.outputLevel).toString():s.A_aol=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),s.A_apol=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),n&&(s.A_artd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?\"0\":\"1\"),s.A_jr=r.jitterMs.toString(),s.A_jbm=Math.floor(r.jitterBufferMs).toString(),s.A_cdm=Math.floor(r.jitterBufferMs).toString(),s.A_raps=Xy[kA.getPlayerState(n.getTrackId())].toString(),i){const t=i.audioRecv.find((t=>t.ssrc===e));if(t){const e=r.concealedSamples-t.concealedSamples;e>0&&(s.A_cs=Math.round(e).toString())}}return s}(r._audioSSRC,e,i,r.audioTrack):void 0;t&&AS((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,gv.SUBSCRIBE_STATS,{stream_id:r.uid,stats:t})}))}}))}uploadRelatedDownlinkStats(e,t){var i;((null===(i=this.requestRemoteMedia)||void 0===i?void 0:i.call(this))||[]).forEach((i=>{let[n,r]=i;if(r.has(dI.VIDEO)&&n.videoTrack){var s;const i=!0===(n._videoSSRC&&(null===(s=this.requestVideoIsReady)||void 0===s?void 0:s.call(this,n._videoSSRC))||!1),r=function(e,t,i,n,r,s){const o=i.videoRecv.find((t=>t.ssrc===e)),a=r?r.videoRecv.find((t=>t.ssrc===e)):void 0;if(!o)return null;const c=cD.isRemoteVideoFreeze(s,o,a)&&t,d={mediaType:\"video\",isVideoMute:!1,peerId:n,frameRateReceived:o.receivedFrame&&o.receivedFrame.frameRate.toString(),frameRateDecoded:o.decodedFrame&&o.decodedFrame.frameRate.toString(),isFreeze:c,bytesReceived:o.bytes.toString(),packetsReceived:o.packets.toString(),packetsLost:o.packetsLost.toString(),qpSumPerFrame:Math.floor(o.qpSumPerFrame).toString()};return o.framesRateFirefox&&(d.frameRateDecoded=o.framesRateFirefox.toString(),d.frameRateReceived=o.framesRateFirefox.toString()),d}(n._videoSSRC,i,e,n.uid,t,n.videoTrack);r&&AS((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,gv.SUBSCRIBE_RELATED_STATS,{stream_id:n.uid,stats:r})}))}if(r.has(dI.AUDIO)&&n.audioTrack){const t=function(e,t,i,n){const r=t.audioRecv.find((t=>t.ssrc===e));if(!r)return null;const s=cD.isRemoteAudioFreeze(n);return{mediaType:\"audio\",isAudioMute:!1,peerId:i,googJitterReceived:r.jitterMs.toString(),isFreeze:s,bytesReceived:r.bytes.toString(),packetsReceived:r.packets.toString(),packetsLost:r.packetsLost.toString(),frameReceived:r.receivedFrames.toString(),frameDropped:r.droppedFrames.toString()}}(n._audioSSRC,e,n.uid,n.audioTrack);t&&AS((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,gv.SUBSCRIBE_RELATED_STATS,{stream_id:n.uid,stats:t})}))}}))}stopUploadDownlinkStats(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval),this.downlinkRelatedStatsUploadInterval&&window.clearInterval(this.downlinkRelatedStatsUploadInterval),this.downlinkStatsUploadInterval=void 0,this.downlinkRelatedStatsUploadInterval=void 0)}stopUploadTransportStats(){this.uploadTransportStarted&&(this.uploadTransportStarted=!1,this.transportStatsUploadInterval&&window.clearInterval(this.transportStatsUploadInterval),this.transportStatsUploadInterval=void 0)}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.extensionUsageStatsUploadInterval&&window.clearInterval(this.extensionUsageStatsUploadInterval),this.extensionUsageStatsUploadInterval=void 0)}uploadDownlinkExtensionStats(e){e.forEach((e=>{let[t,i]=e;if(i.has(dI.VIDEO)&&t.videoTrack){t.videoTrack.getProcessorStats().forEach((e=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,e.type,e.stats)}))}if(i.has(dI.AUDIO)&&t.audioTrack){t.audioTrack.getProcessorStats().forEach((e=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,e.type,e.stats)}))}}))}}function ok(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ak(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ok(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ok(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ck(e){var t,i,n,r=2;for(\"undefined\"!=typeof Symbol&&(i=BP,n=Symbol.iterator);r--;){if(i&&null!=(t=e[i]))return t.call(e);if(n&&null!=(t=e[n]))return new dk(t.call(e));i=\"@@asyncIterator\",n=\"@@iterator\"}throw new TypeError(\"Object is not async iterable\")}function dk(e){function t(e){if(Object(e)!==e)return tg.reject(new TypeError(e+\" is not an object.\"));var t=e.done;return tg.resolve(e.value).then((function(e){return{value:e,done:t}}))}return dk=function(e){this.s=e,this.n=e.next},dk.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var i=this.s.return;return void 0===i?tg.resolve({value:e,done:!0}):t(i.apply(this.s,arguments))},throw:function(e){var i=this.s.return;return void 0===i?tg.reject(e):t(i.apply(this.s,arguments))}},new dk(e)}class lk extends iS{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(_I.StateChange,t,this._state)}constructor(e,t){super(),nu(this,\"store\",void 0),nu(this,\"statsUploader\",void 0),nu(this,\"connection\",void 0),nu(this,\"localTrackMap\",new Map),nu(this,\"remoteUserMap\",new Map),nu(this,\"localDataChannels\",[]),nu(this,\"remoteDataChannelMap\",new Map),nu(this,\"pendingLocalTracks\",[]),nu(this,\"pendingRemoteTracks\",[]),nu(this,\"pendingLocalDataChannels\",[]),nu(this,\"pendingRemoteDataChannels\",[]),nu(this,\"statsCollector\",void 0),nu(this,\"isPlanB\",!1),nu(this,\"shouldForwardP2PCreation\",void 0),nu(this,\"iceFailedCount\",0),nu(this,\"dtlsFailedCount\",0),nu(this,\"mutex\",new YS(\"P2PChannel-mutex\")),nu(this,\"_state\",pI.Disconnected),nu(this,\"_pcStatsUploadType\",kC(\"NEW_ICE_RESTART\")?hI.FIRST_CONNECTION:hI.OLD_FIRST_CONNECTION),nu(this,\"_isInRestartIce\",!1),nu(this,\"_isStartRestartIce\",!1),nu(this,\"_restartStates\",[\"disconnected\",\"failed\"]),nu(this,\"_restartTimer\",void 0),nu(this,\"_isFirstConnected\",!0),nu(this,\"handleMuteLocalTrack\",(async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleMuteLocalTrack\");try{if(!this.connection||this.state!==pI.Connected)return void i(new Vg(xg.INVALID_OPERATION,\"Cannot call P2PChannel.handleMuteLocalTrack before connection established.\"));const r=this.filterTobeMutedTracks(e);if(0===r.length)return void t();const s=r.find((e=>\"videoLowTrack\"===e[0]));if(s){s[1].track._originMediaStreamTrack.stop()}await this.connection.muteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const o=this.createMuteMessage(r);await gS(this,_I.RequestMuteLocal,o),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleUnmuteLocalTrack\",(async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleUnmuteLocalTrack\");try{if(!this.connection||this.state!==pI.Connected)return void i(new Vg(xg.INVALID_OPERATION,\"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established.\"));const r=this.filterTobeUnmutedTracks(e);if(0===r.length)return void t();const s=r.find((e=>\"videoLowTrack\"===e[0]));if(s){const t=s[1];if(t.track._originMediaStreamTrack.stop(),!kC(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&hA().supportDualStreamEncoding){const i=e._mediaStreamTrack.clone();t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i}else{const i=jL(e,TS(this,_I.RequestLowStreamParameter));t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i}await new tg(((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)}))}await this.connection.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const o=this.createUnmuteMessage(r);await gS(this,_I.RequestUnmuteLocal,o),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleUpdateVideoEncoder\",(async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleSetVideoEncoder\");try{const i=this.localTrackMap.get(uI.LocalVideoTrack);if(!this.connection||!i||i.track!==e||this.state!==pI.Connected)return void t();const{id:r,track:s}=i;await this.connection.updateSendParameters(r,s),await this.connection.updateEncoderConfig(r,s),this.emit(_I.UpdateVideoEncoder,s),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleSetOptimizationMode\",(async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleSetOptimizationMode\");try{const i=this.localTrackMap.get(uI.LocalVideoTrack);if(!this.connection||!i||i.track!==e||this.state!==pI.Connected)return;const{id:r,track:s}=i;await this.connection.updateSendParameters(r,s),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleReplaceTrack\",(async(e,t,i,n)=>{let r;WC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel handleReplaceTrack for [track-id-\").concat(e.getTrackId(),\"]\")),\"boolean\"==typeof n&&n||(r=await this.mutex.lock(\"From P2PChannel.handleReplaceTrack\"));try{var s;const i=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(!this.connection||!i||this.state!==pI.Connected)return void t();if(await(null===(s=this.connection)||void 0===s?void 0:s.replaceTrack(e,i[1].id)),this.isPlanB){const t=i[1];t.id=e._mediaStreamTrack.id,this.localTrackMap.set(i[0],t)}if(i[0]===uI.LocalVideoTrack&&!kC(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&hA().supportDualStreamEncoding){const t=this.localTrackMap.get(uI.LocalVideoLowTrack);if(t){const i=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i,await new tg(((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)}))}}t()}catch(e){i(e)}finally{var o;null===(o=r)||void 0===o||o()}})),nu(this,\"handleGetLocalVideoStats\",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),nu(this,\"handleGetLocalAudioStats\",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),nu(this,\"handleGetRemoteVideoStats\",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),nu(this,\"handleGetRemoteAudioStats\",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new sk,this.bindStatsUploaderEvents(),this.isPlanB=!hA().supportUnifiedPlan||kC(\"CHROME_FORCE_PLAN_B\")&&kg(),this.shouldForwardP2PCreation=kC(\"FORWARD_P2P_CREATION\")&&hA().supportPCSetConfiguration&&function(){const e=_g();return e===ag.ANDROID||e===ag.IOS||e===ag.HARMONY_OS}(),this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new tk({},this.store):this.isPlanB?new DL({},this.store):new FL({},this.store),this.bindConnectionEvents(this.connection))}async startP2PConnection(e,t){var i;this.state=pI.New;const n=this.shouldForwardP2PCreation&&\"closed\"===(null===(i=this.connection)||void 0===i?void 0:i.peerConnectionState);if(this.shouldForwardP2PCreation&&!n||(n&&this.connection&&(WC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2PConnection ForwardP2P closed.\")),this.connection.close(),this.unbindConnectionEvents(this.connection)),this.connection=this.store.useDataChannel?new tk(e,this.store):this.isPlanB?new DL(e,this.store):new FL(e,this.store),this.bindConnectionEvents(this.connection)),!this.connection)throw new Vg(xg.UNEXPECTED_ERROR,\"Cannot P2PChannel.startConnection before P2PConnection initialization .\");return this._pcStatsUploadType=kC(\"NEW_ICE_RESTART\")?hI.FIRST_CONNECTION:hI.OLD_FIRST_CONNECTION,this._isFirstConnected=!0,this._isInRestartIce=!1,this._isStartRestartIce=!1,this.connection.setConfiguration(e),this.connection.establishPromise}async connect(e,t,i,n,r,s){if(!this.connection)throw new Vg(xg.UNEXPECTED_ERROR,\"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .\");this.connection instanceof tk?this.connection.updateRemoteConnect(n):(this.store.peerConnectionStart(),await this.connection.connect(e,t,i,n,r,s),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=pI.Connected)}async preConnect(e,t,i,n,r,s){if(!this.connection)throw new Vg(xg.UNEXPECTED_ERROR,\"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .\");this.store.peerConnectionStart();const o=await this.connection.connect(e,t,i,n,r,s);return this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=pI.Connected,o}getEstablishParams(){if(this.connection instanceof tk)return this.connection.getP2PConnectionParams();throw new Error(\"Only DataChannelConnection needs to obtain establishParams\")}async publishDataChannel(e){if(!this.connection){if(this.state===pI.Disconnected)throw new Vg(xg.UNEXPECTED_ERROR,\"PeerConnection already disconnected.\");const t=e.filter((e=>-1!==this.pendingLocalDataChannels.findIndex((t=>t.id===e.id))));return void(this.pendingLocalDataChannels=this.pendingLocalDataChannels.concat(t))}const t=this.filterTobePublishedDataChannels(e);0!==t.length&&(t.forEach((e=>{const t=Date.now();this.store.publish(e.id.toString(),\"datachannel\",t)})),await this.connection.createDataChannels(this.store.uid,t),t.forEach((e=>{this.localDataChannels.push(e);const t=Date.now();this.store.publish(e.id+\"\",\"datachannel\",void 0,t)})))}publish(e,t,i){var n=this;return xP((function*(){const r=yield VP(n.mutex.lock(\"From P2PChannel.publish\"));try{if(!n.connection||n.state!==pI.Connected){if(n.state===pI.Disconnected)throw new Vg(xg.UNEXPECTED_ERROR,\"PeerConnection already disconnected.\");n.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===n.pendingLocalTracks.indexOf(e)));return void(n.pendingLocalTracks=n.pendingLocalTracks.concat(t))}n.store.pubId=n.store.pubId+1,sD.markPublishStart(n.store.clientId,n.store.pubId);const s=n.filterTobePublishedTracks(e,t,i);if(0===s.length)return void(yield VP(n.tryToUnmuteAudio(e)));yield*FP(ck(n.doPublish(n.connection,s)))}finally{r()}}))()}doPublish(e,t){var i=this;return xP((function*(){t.forEach((e=>{let{track:t,type:n}=e;const r=Date.now();i.store.publish(t.getTrackId(),n===uI.LocalAudioTrack?\"audio\":\"video\",r)})),i.bindLocalTrackEvents(t);const n=yield VP(e.send(t.map((e=>{let{track:t}=e;return t})),i.store.codec,i.store.audioCodec)),r=(yield VP(n.next())).value,s=i.createGatewayPublishMessage(t,r);let o;try{o=yield s}catch(e){throw n.throw(e),(null==e?void 0:e.code)===xg.WS_ABORT&&t.forEach((e=>{let{track:t}=e;-1===i.pendingLocalTracks.indexOf(t)&&i.pendingLocalTracks.push(t)})),i.unbindLocalTrackEvents(t),e}const a=i.mapPubResToRemoteConfig(s,o),c=(yield VP(n.next(a))).value;t.forEach((e=>{let{type:t}=e;i.statsCollector.addLocalStats(t)})),i.assignLocalTracks(t,c),i.statsUploader.startUploadUplinkStats(),t.forEach((e=>{let{track:t,type:n}=e;const r=Date.now();i.store.publish(t.getTrackId(),n===uI.LocalAudioTrack?\"audio\":\"video\",void 0,r)}))}))()}async updateVideoStreamParameter(e,t){const i=this.localTrackMap.get(t);if(!i)return;if(!(i.track instanceof fb))return WC.warn(\"[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack\");if(!(this.connection instanceof FL||this.connection instanceof DL))return WC.warn(\"[updateVideoStreamParameter]: connection is not P2PConnection or P2PConnectionPlanB\");const{track:n}=i,r=function(e,t){const i={};return e.height&&e.width&&(i.scaleResolutionDownBy=SD(e,t)),i.maxFramerate=e.framerate?pD(e.framerate):void 0,i.maxBitrate=e.bitrate?1e3*e.bitrate:void 0,i}(e,n);if(n._encoderConfig||(n._encoderConfig={}),t!==uI.LocalVideoLowTrack||!kC(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&hA().supportDualStreamEncoding)null!=r.scaleResolutionDownBy&&(n._encoderConfig.scaleResolutionDownBy=r.scaleResolutionDownBy);else{const t=n._originMediaStreamTrack;if(!t.canvas)return WC.warn(\"[\".concat(n.getTrackId(),\"] no canvas on track\"));!function(e,t){const i=e.canvas;t.width&&(i.width=pD(t.width)),t.height&&(i.height=pD(t.height)),t.framerate&&(i.stopCapture&&i.stopCapture(),i.stopCapture=dA((()=>{!i.startCapture&&i.stopCapture&&i.stopCapture(),i.startCapture&&i.startCapture()}),pD(t.framerate)))}(t,e)}null!=r.maxBitrate&&(n._encoderConfig.bitrateMax=r.maxBitrate/1e3),null!=r.maxFramerate&&(n._encoderConfig.frameRate&&\"object\"==typeof n._encoderConfig.frameRate?n._encoderConfig.frameRate.max=r.maxFramerate:n._encoderConfig.frameRate={max:r.maxFramerate}),WC.debug(\"[\".concat(n.getTrackId(),\"] LowStreamEncoderConfig: , \").concat(JSON.stringify(n._encoderConfig))),await this.connection.updateRtpSenderEncodings(n)}publishLowStream(e){var t=this;return xP((function*(){if(!t.connection||t.state!==pI.Connected)return;const i=yield VP(t.mutex.lock(\"Locking from P2PChannel.publishLowStream\"));try{const r=t.localTrackMap.get(uI.LocalVideoTrack);if(!r)throw new Vg(xg.UNEXPECTED_ERROR,\"Could not find high stream\");if(t.localTrackMap.has(uI.LocalVideoLowTrack))throw new Vg(xg.UNEXPECTED_ERROR,\"[\".concat(t.store.clientId,\"] Can't publish low stream when stream already publish\"));const s=[{track:t.getLowVideoTrack(r.track,e),type:uI.LocalVideoLowTrack}];if(yield*FP(ck(t.doPublish(t.connection,s))),r.track.muted||!r.track.enabled){var n;const e=null===(n=t.localTrackMap.get(uI.LocalVideoLowTrack))||void 0===n?void 0:n.id;void 0!==e&&(yield VP(t.connection.muteLocal([e])))}}finally{i()}}))()}async republish(){this.pendingLocalTracks.length>0&&(WC.debug(\"[\".concat(this.store.clientId,\"] Emit P2PChannelEvents.RequestRePublish to republish tracks.\")),await fS(this,_I.RequestRePublish,this.pendingLocalTracks),this.emit(_I.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&(WC.debug(\"Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels.\"),await fS(this,_I.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[])}async reSubscribe(e){for(let e=this.pendingRemoteTracks.length-1;e>=0;e--){const{user:t,kind:i}=this.pendingRemoteTracks[e];(i!==dI.AUDIO||t._audio_added_&&t._audioSSRC)&&(i!==dI.VIDEO||t._video_added_&&t._videoSSRC)||this.pendingRemoteTracks.splice(e,1)}if(e)await fS(this,_I.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:e,kind:t}of this.pendingRemoteTracks)await this.subscribe(e,t,t===dI.VIDEO?e._videoSSRC:e._audioSSRC);this.pendingRemoteTracks.forEach((e=>{let{user:t}=e;this.emit(_I.MediaReconnectEnd,t.uid)})),this.pendingRemoteTracks=[]}async unpublish(e){if(!this.connection||this.state!==pI.Connected)return void e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const i=t.find((e=>\"videoLowTrack\"===e[0]));if(i){i[1].track.close()}return this.doUnpublish(this.connection,t)}async unpublishDataChannel(e){if(!this.connection||this.state!==pI.Connected)return void e.forEach((e=>{const t=this.pendingLocalDataChannels.indexOf(e);-1!==t&&this.pendingLocalDataChannels.splice(t,1)}));const t=this.filterTobeUnpublishedDataChannels(e);return 0!==t.length?(t.forEach((e=>{const t=this.localDataChannels.indexOf(e);-1!==t&&this.localDataChannels.splice(t,1)})),0===this.localDataChannels.length&&await this.connection.stopDataChannels(this.store.uid),t.map((e=>e.id))):void 0}async unpublishLowStream(){if(!this.connection||this.state!==pI.Connected)return;const e=this.localTrackMap.get(uI.LocalVideoLowTrack);if(!e)return;e.track.close();const t=[[uI.LocalVideoLowTrack,e]];return this.doUnpublish(this.connection,t)}async doUnpublish(e,t){const i=this.createGatewayUnpublishMessage(t);return await e.stopSending(t.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:i}]=e;return{type:t,track:i}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&this.statsUploader.stopUploadUplinkStats(),i}async subscribeDataChannel(e,t){if(!this.connection||this.state!==pI.Connected)throw new Vg(xg.INVALID_OPERATION,\"Cannot subscribe remote user when peerConnection disconnected.\");const i=t.filter((t=>{var i;return!(null!==(i=this.remoteDataChannelMap.get(e))&&void 0!==i&&i.get(t.id))}));if(0!==i.length)return await this.connection.createDataChannels(e.uid,i),i.forEach((t=>{var i;this.remoteDataChannelMap.has(e)?null===(i=this.remoteDataChannelMap.get(e))||void 0===i||i.set(t.id,t):this.remoteDataChannelMap.set(e,new Map([[t.id,t]]));const n=this.pendingRemoteDataChannels.findIndex((i=>{let{user:n,id:r}=i;return n.uid===e.uid&&r===t.id}));-1!==n&&this.pendingRemoteDataChannels.splice(n,1)})),i.map((e=>e.id))}async subscribe(e,t,i,n,r){var s;if(!this.connection||this.state!==pI.Connected)throw new Vg(xg.INVALID_OPERATION,\"Cannot subscribe remote user when peerConnection disconnected.\");if(null!==(s=this.remoteUserMap.get(e))&&void 0!==s&&s.has(t))return;let o,a,c;if(r){const i=r.find((e=>{let{stream_type:i}=e;return i===t}));if(!i)throw new Vg(xg.UNEXPECTED_ERROR,\"Cannot subscribe to remote \".concat(t,\" for user: \").concat(e.uid,\" because subscribe answer from gateway does not contain stream_type: \").concat(t,\".\"));const n=await this.connection.receive(t,i.ssrcs,String(e._uintid),i.attributes);this.connection instanceof FL&&(c=n.transceiver),o=n.track,a=n.id}else{const r=await this.connection.receive(t,[{ssrcId:i,rtx:n}],String(e._uintid),void 0);this.connection instanceof FL&&(c=r.transceiver),o=r.track,a=r.id}t===dI.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(o):(e._audioTrack=new Ab(o,e.uid,e._uintid,this.store),WC.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(e._audioTrack.getTrackId()))),c&&e._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(o):(e._videoTrack=new yb(o,e.uid,e._uintid,this.store),WC.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(e._videoTrack.getTrackId()))),c&&e._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._videoTrack));const d=this.remoteUserMap.get(e);d?d.set(t,a):this.remoteUserMap.set(e,new Map([[t,a]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadDownlinkStats();const l=this.pendingRemoteTracks.findIndex((i=>{let{user:n,kind:r}=i;return n.uid===e.uid&&t===r}));-1!==l&&(this.pendingRemoteTracks.splice(l,1),this.emit(_I.MediaReconnectEnd,e.uid))}async massSubscribe(e){return this.massSubscribeNoLock(e)}async massSubscribeNoLock(e){if(!this.connection||this.state!==pI.Connected)throw new Vg(xg.INVALID_OPERATION,\"Cannot subscribeAll remote users when peerConnection disconnected.\");e=e.filter((e=>{var t;let{user:i,mediaType:n}=e;return!(null!==(t=this.remoteUserMap.get(i))&&void 0!==t&&t.has(n))}));const t=await this.connection.batchReceive(e.map((e=>{let{user:t,mediaType:i,ssrcId:n,rtxSsrcId:r}=e;return{kind:i,ssrcMsg:[{ssrcId:n,rtx:r}],mslabel:String(t._uintid)}})));e.forEach(((e,i)=>{let{user:n,mediaType:r}=e;const{track:s,id:o,transceiver:a}=t[i];r===dI.AUDIO?(n._audioTrack?n._audioTrack._updateOriginMediaStreamTrack(s):(n._audioTrack=new Ab(s,n.uid,n._uintid,this.store),WC.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(n._audioTrack.getTrackId()))),a&&n._audioTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(n,n._audioTrack)):(n._videoTrack?n._videoTrack._updateOriginMediaStreamTrack(s):(n._videoTrack=new yb(s,n.uid,n._uintid,this.store),WC.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(n._videoTrack.getTrackId()))),a&&n._videoTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(n,n._videoTrack));const c=this.remoteUserMap.get(n);c?c.set(r,o):this.remoteUserMap.set(n,new Map([[r,o]])),this.statsCollector.addRemoteStats(n.uid),this.statsUploader.startUploadDownlinkStats();const d=this.pendingRemoteTracks.findIndex((e=>{let{user:t,kind:i}=e;return t.uid===n.uid&&r===i}));-1!==d&&(this.pendingRemoteTracks.splice(d,1),this.emit(_I.MediaReconnectEnd,n.uid))}))}async unsubscribe(e,t,i){const n=this.pendingRemoteTracks.filter((i=>{let{user:n,kind:r}=i;return void 0!==t?n.uid===e.uid&&t===r:n.uid===e.uid}));if(n.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.connection&&this.state===pI.Connected||i||n.forEach((t=>{let{kind:i}=t;var n;if(i===dI.AUDIO)null===(n=e._audioTrack)||void 0===n||n._destroy(),e._audioTrack=void 0;else if(i===dI.VIDEO){var r;null===(r=e._videoTrack)||void 0===r||r._destroy(),e._videoTrack=void 0}})),!this.connection||this.state!==pI.Connected)return;const r=this.filterTobeUnSubscribedTracks(e,t);if(0===r.length)return;await this.connection.stopReceiving(r.map((e=>{let[,{id:t}]=e;return t})));const s=this.createUnsubscribeMessage(r);return this.withdrawRemoteTracks(r),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),r.forEach((e=>{let[t,{kind:n}]=e;var r,s;n===dI.VIDEO&&t._videoSSRC&&(null===(r=this.connection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1));if(n===dI.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),i||(null===(s=t._videoTrack)||void 0===s||s._destroy(),t._videoTrack=void 0);else if(n===dI.AUDIO){var o;if(this.unbindRemoteTrackEvents(t._audioTrack),!i)null===(o=t._audioTrack)||void 0===o||o._destroy(),t._audioTrack=void 0}})),s}async unsubscribeDataChannel(e,t){if(t.forEach((e=>{const t=this.pendingRemoteDataChannels.findIndex((t=>t.id===e.id));-1!==t&&this.pendingRemoteDataChannels.splice(t,1)})),!this.connection)return;const i=this.filterTobeUnSubscribedDataChannels(e,t);if(0===i.length)return;t.forEach((e=>{e._close()}));const n=this.remoteDataChannelMap.get(e);return i.forEach((e=>{n&&n.delete(e.id)})),n&&0===n.size&&(this.remoteDataChannelMap.delete(e),await this.connection.stopDataChannels(e.uid)),i.map((e=>e.id))}async massUnsubscribe(e){return this.massUnsubscribeNoLock(e)}async massUnsubscribeNoLock(e){let t=[];for(const{user:i,mediaType:n}of e){const e=this.pendingRemoteTracks.filter((e=>{let{user:t,kind:r}=e;return void 0!==n?t.uid===i.uid&&n===r:t.uid===i.uid}));e.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),t=t.concat(e)}if(!this.connection||this.state!==pI.Connected)return void t.forEach((e=>{let{user:t,kind:i}=e;var n;if(i===dI.AUDIO)null===(n=t._audioTrack)||void 0===n||n._destroy(),t._audioTrack=void 0;else if(i===dI.VIDEO){var r;null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0}}));const i=cT(e).call(e,((e,t)=>{let{user:i,mediaType:n}=t;const r=this.filterTobeUnSubscribedTracks(i,n);return e.concat(r)}),[]);if(0===i.length)return;await this.connection.stopReceiving(i.map((e=>{let[,{id:t}]=e;return t})));const n=this.createUnsubscribeAllMessage(i);return this.withdrawRemoteTracks(i),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),i.forEach((e=>{let[t,{kind:i}]=e;var n,r;i===dI.VIDEO&&t._videoSSRC&&(null===(n=this.connection)||void 0===n||n.setStatsRemoteVideoIsReady(t._videoSSRC,!1));if(i===dI.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0;else if(i===dI.AUDIO){var s;this.unbindRemoteTrackEvents(t._audioTrack),null===(s=t._audioTrack)||void 0===s||s._destroy(),t._audioTrack=void 0}})),n}async muteRemote(e,t){if(!this.connection)return;const i=this.remoteUserMap.get(e);if(!i)return void WC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.muteRemote has no remote user \").concat(e.uid,\".\"));if(!i.get(t))return void WC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.muteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"));const n=t===dI.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==n&&this.connection.setStatsRemoteVideoIsReady(n,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.connection)return;const i=this.remoteUserMap.get(e);if(!i)return void WC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.unmuteRemote has no remote user \").concat(e.uid,\".\"));i.get(t)||WC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.unmuteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"))}getAllTracks(e){const t=this.localTrackMap.get(uI.LocalAudioTrack);if((null==t?void 0:t.track)instanceof ZA){const i=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==uI.LocalAudioTrack})).filter((t=>{let[i]=t;return!(e&&i===uI.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(i.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[i]=t;return!(e&&i===uI.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(e,t,i,n,r){if(e){const i=this.localTrackMap.get(uI.LocalAudioTrack),s=n?this.localTrackMap.get(uI.LocalVideoLowTrack):this.localTrackMap.get(uI.LocalVideoTrack);iv.publish(this.store.sessionId,{eventElapse:sD.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==i?void 0:i.track.getTrackLabel(),videoName:null==s?void 0:s.track.getTrackLabel(),screenshare:-1!==(null==s?void 0:s.track._hints.indexOf(Dy.SCREEN_TRACK)),audio:!!i,video:!!s,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{var s;i||(i=[]);const o=i.find((e=>e instanceof zA)),a=n?null===(s=this.localTrackMap.get(uI.LocalVideoTrack))||void 0===s?void 0:s.track:i.find((e=>e instanceof fb));iv.publish(this.store.sessionId,{eventElapse:sD.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==o?void 0:o.getTrackLabel(),videoName:null==a?void 0:a.getTrackLabel(),screenshare:-1!==(null==a?void 0:a._hints.indexOf(Dy.SCREEN_TRACK)),audio:!!o,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}reportSubscribeEvent(e,t,i,n){const r=n===dI.VIDEO?i._videoSSRC:i._audioSSRC;r&&iv.subscribe(this.store.sessionId,{succ:e,ec:t,video:n===dI.VIDEO,audio:n===dI.AUDIO,peerid:i.uid,subscribeRequestid:n===dI.VIDEO?i._videoSSRC:i._audioSSRC,p2pid:this.store.p2pId,eventElapse:sD.measureFromSubscribeStart(this.store.clientId,r)})}reset(){WC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel.reset\")),this.mutex=new YS(\"P2PChannel-mutex\"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new tk({},this.store):this.isPlanB?new DL({},this.store):new FL({},this.store),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(uI.LocalAudioTrack);if((null==e?void 0:e.track)instanceof ZA){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach((e=>{t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=pI.Disconnected}getStats(){var e;return null===(e=this.connection)||void 0===e?void 0:e.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.connection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(uI.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(uI.LocalVideoTrack);if(e)return{width:e.track._videoWidth||0,height:e.track._videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof fb||t&&t.track instanceof zA?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}getRemoteMedia(e){var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return i?{audioTrack:i.audioTrack,audioSSRC:i._audioSSRC,videoTrack:i.videoTrack,videoSSRC:i._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(uI.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=Zu(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.connection&&(WC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel.disconnectForReconnect closing P2PConnection\")),this.state=pI.Reconnecting,kC(\"KEEP_LAST_FRAME\")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t]=e;var i;t._videoTrack&&t._videoTrack._player&&(null===(i=t._videoTrack._player.getVideoElement())||void 0===i||i.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())})),this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new tk({},this.store):this.isPlanB?new DL({},this.store):new FL({},this.store),this.bindConnectionEvents(this.connection)),0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{var t;let[i,{track:n}]=e;switch(i){case uI.LocalVideoTrack:Pr(t=n._hints).call(t,Dy.LOW_STREAM)?n.close():this.pendingLocalTracks.push(n);break;case uI.LocalAudioTrack:n instanceof ZA?this.pendingLocalTracks=this.pendingLocalTracks.concat(n.trackList):this.pendingLocalTracks.push(n);case uI.LocalVideoLowTrack:}})),this.emit(_I.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;Array.from(hu(i).call(i)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(_I.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),0!==this.localDataChannels.length&&(this.localDataChannels.forEach((e=>{this.pendingLocalDataChannels.push(e)})),this.localDataChannels.length=0),0!==this.remoteDataChannelMap.size&&(Array.from(this.remoteDataChannelMap.entries()).forEach((e=>{let[t,i]=e;Array.from(hu(i).call(i)).forEach((e=>{this.setPendingRemoteDataChannel(t,e)}))})),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),WC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel disconnected, waiting to reconnect.\")))}hasPendingRemoteDataChannel(e,t){for(const i of this.pendingRemoteDataChannels){const{user:n,id:r}=i;if((e instanceof bP?e.uid:e)===n.uid&&r===t)return!0}return!1}setPendingRemoteDataChannel(e,t){this.hasPendingRemoteDataChannel(e,t)||this.pendingRemoteDataChannels.push({user:e,id:t})}hasPendingRemoteMedia(e,t){for(const i of this.pendingRemoteTracks){const{user:n,kind:r}=i;if((e instanceof bP?e.uid:e)===n.uid&&t===r)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}restartICE(e){var t=this;return xP((function*(){if(!t.connection||t.state!==pI.Connected||t.connection instanceof tk)return;const i=yield VP(t.mutex.lock(\"From P2PChannel.restartICE\"));let n;try{n=yield VP(t.connection.restartICE(e));const r=yield VP(n.next());if(r.done)return;const s=r.value,o=yield s;switch(t.reportPCDisconnectedOrFailed(e),e){case lI.TCP:t._pcStatsUploadType=hI.TCP_RESTART;break;case lI.RELAY:t._pcStatsUploadType=hI.RELAY_RESTART;break;default:t._pcStatsUploadType=hI.OLD_RESTART}t._isInRestartIce=!0,n.next(o)}catch(e){var r;null===(r=n)||void 0===r||r.throw(e)}finally{i()}}))()}getUplinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats(),t=this.localTrackMap.get(uI.LocalVideoTrack),i=this.localTrackMap.get(uI.LocalAudioTrack),n=e.videoSend.find((e=>e.ssrc===(null==t?void 0:t.ssrcs[0].ssrcId))),r=e.audioSend.find((e=>e.ssrc===(null==i?void 0:i.ssrcs[0].ssrcId)));if(!n||!r)return 1;const s=SS(this,_I.NeedSignalRTT),o=n?n.rttMs:void 0,a=r?r.rttMs:void 0,c=o&&a?(o+a)/2:o||a,d=(c&&s?(c+s)/2:c||s)||0,l=100*e.sendPacketLossRate*.7/50+.3*d/1500,h=l<.17?1:l<.36?2:l<.59?3:l<.1?4:5,u=null==t?void 0:t.track;if(u&&u._encoderConfig&&-1===u._hints.indexOf(Dy.SCREEN_TRACK)){const t=u._encoderConfig.bitrateMax,i=e.bitrate.actualEncoded;if(t&&i){const e=(1e3*t-i)/(1e3*t);return sv[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][h]}}return h}getDownlinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((i=>{let[n]=i;const r=n._audioSSRC,s=n._videoSSRC,o=e.audioRecv.find((e=>e.ssrc===r)),a=e.videoRecv.find((e=>e.ssrc===s));if(!o&&!a)return void(t+=1);const c=SS(this,_I.NeedSignalRTT),d=e.rtt,l=(d&&c?(d+c)/2:d||c)||0,h=o?o.jitterMs:void 0,u=e.recvPacketLossRate;let p=.7*u*100/50+.3*l/1500;h&&(p=.6*u*100/50+.2*l/1500+.2*h/400);t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new tg(((t,i)=>{this.handleMuteLocalTrack(e,t,i)}))}filterTobePublishedTracks(e,t,i){const n=[],r=hA(),s=this.getAllTracks();e=yS(e=e.filter((e=>-1===s.indexOf(e))));let o=!1,a=!1;for(const s of e){if(s instanceof fb&&(this.localTrackMap.has(uI.LocalVideoTrack)||o?new Vg(xg.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(n.push({track:s,type:uI.LocalVideoTrack}),o=!0),t)){const e=this.getLowVideoTrack(s,i);n.push({track:e,type:uI.LocalVideoLowTrack})}if(s instanceof zA){const e=this.localTrackMap.get(uI.LocalAudioTrack);if(e){if(!(e.track instanceof ZA))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(s._bypassWebAudio)throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");e.track.addAudioTrack(s),this.bindLocalAudioTrackEvents(s,!0)}else if(a){const e=n.find((e=>{let{type:t}=e;return t===uI.LocalAudioTrack}));if(!(e.track instanceof ZA))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(s._bypassWebAudio)throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");e.track.addAudioTrack(s)}else{if(!r.webAudioMediaStreamDest||s instanceof ZA||s._bypassWebAudio)n.push({track:s,type:uI.LocalAudioTrack});else{const e=new ZA;e.addAudioTrack(s),n.push({track:e,type:uI.LocalAudioTrack})}a=!0}}}return n}filterTobeUnpublishedTracks(e){const t=[],i=this.getAllTracks();e=yS(e=e.filter((e=>-1!==i.indexOf(e))));for(const i of e){if(i instanceof zA){const e=this.localTrackMap.get(uI.LocalAudioTrack);if(!e)continue;e.track instanceof ZA?(e.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),0===e.track.trackList.length&&(t.push([uI.LocalAudioTrack,e]),e.track.close())):t.push([uI.LocalAudioTrack,e])}if(i instanceof fb){const e=this.localTrackMap.get(uI.LocalVideoTrack);if(!e)continue;t.push([uI.LocalVideoTrack,e]);const i=this.localTrackMap.get(uI.LocalVideoLowTrack);i&&t.push([uI.LocalVideoLowTrack,i])}}return t}filterTobePublishedDataChannels(e){return e=(e=yS(e)).filter((e=>-1===this.localDataChannels.findIndex((t=>t.id===e.id))))}filterTobeUnpublishedDataChannels(e){return e=(e=(e=yS(e)).filter((e=>-1!==this.localDataChannels.indexOf(e)))).filter((e=>e._originDataChannel))}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:i}=e;switch(i){case uI.LocalVideoTrack:t.addListener(Ny.GET_STATS,this.handleGetLocalVideoStats),t.addListener(Ny.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(Ny.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(Ny.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(Ny.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.addListener(Ny.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(Ny.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(Ny.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case uI.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case uI.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof ZA?e.trackList.forEach((e=>{e.addListener(Ny.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(Ny.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(Ny.GET_STATS,this.handleGetLocalAudioStats),e.addListener(Ny.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(Ny.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener(Ny.GET_STATS,this.handleGetLocalAudioStats),e.addListener(Ny.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(Ny.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(Ny.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(Ny.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(Ny.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:i}]=e;return{track:i,type:t}}))),e.forEach((e=>{let{track:t,type:i}=e;switch(i){case uI.LocalVideoTrack:t.off(Ny.GET_STATS,this.handleGetLocalVideoStats),t.off(Ny.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(Ny.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(Ny.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(Ny.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.off(Ny.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(Ny.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(Ny.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case uI.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case uI.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof ZA?e.trackList.forEach((e=>{e.off(Ny.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(Ny.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(Ny.GET_STATS,this.handleGetLocalAudioStats),e.off(Ny.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(Ny.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off(Ny.GET_STATS,this.handleGetLocalAudioStats),e.off(Ny.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(Ny.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(Ny.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(Ny.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(Ny.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof yb&&t.addListener(Ny.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof Ab&&t.addListener(Ny.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(Ny.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;i.has(dI.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),i.has(dI.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e,t){return e.map(((e,i)=>{var n;let r,s,{track:o,type:a}=e;switch(a){case uI.LocalAudioTrack:r=Qv.Audio,s={dtx:o instanceof XA&&o._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case uI.LocalVideoTrack:r=Pr(n=o._hints).call(n,Dy.SCREEN_TRACK)?Qv.Screen:Qv.High,s=ak(ak({},_D(o)),{},{codec:this.store.codec});break;case uI.LocalVideoLowTrack:r=Qv.Low,s=ak(ak({},_D(o)),{},{codec:this.store.codec})}return{stream_type:r,attributes:s,ssrcs:t[i]}}))}createGatewayUnpublishMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:s,id:o}]=e;switch(n){case uI.LocalVideoTrack:i=Pr(t=r._hints).call(t,Dy.SCREEN_TRACK)?Qv.Screen:Qv.High;break;case uI.LocalAudioTrack:i=Qv.Audio;break;case uI.LocalVideoLowTrack:i=Qv.Low}return{stream_type:i,ssrcs:s,mid:o}}))}assignLocalTracks(e,t){e.forEach(((e,i)=>{let{track:n,type:r}=e;this.localTrackMap.set(r,{track:n,id:t[i].id,ssrcs:t[i].localSSRC})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{if(WC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onConnectionStateChange(\").concat(t,\")\")),this.emit(_I.PeerConnectionStateChange,t),\"connected\"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),\"connected\"===t&&(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=void 0),(this._isFirstConnected||this._isInRestartIce)&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isInRestartIce=!1,this._isFirstConnected=!1,this._isStartRestartIce=!1),kC(\"NEW_ICE_RESTART\")){var i;if(Pr(i=this._restartStates).call(i,t)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;const t=t=>{if(\"disconnected\"===e.iceConnectionState||\"checking\"===e.iceConnectionState||\"failed\"===e.iceConnectionState){WC.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] start use restartICE, type is \").concat(t));\"CONNECTED\"===SS(this,_I.QueryClientConnectionState)&&this.emit(_I.RequestRestartICE,t)}},i=()=>{\"disconnected\"!==e.iceConnectionState&&\"checking\"!==e.iceConnectionState&&\"failed\"!==e.iceConnectionState||(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),WC.debug(\"[\".concat(this.store.clientId,\"] P2PConnection disconnected timeout, force reconnect\")),setTimeout((()=>this.emit(_I.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())},n=kC(\"ICE_RESTART_INTERVAL\");return void(this._restartTimer=window.setTimeout((()=>{if(kC(\"JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE\")&&hA().supportPCSetConfiguration)t(lI.RELAY),this._restartTimer=window.setTimeout(i,n);else if(Rg())t(lI.UDP),this._restartTimer=window.setTimeout(i,4e3);else{if(t(lI.TCP),hA().supportPCSetConfiguration)return void(this._restartTimer=window.setTimeout((()=>{t(lI.RELAY),this._restartTimer=window.setTimeout(i,n)}),n));this._restartTimer=window.setTimeout(i,n)}}),800))}}else{if(\"disconnected\"===t&&\"disconnected\"===e.iceConnectionState)return setTimeout((()=>{if(\"disconnected\"===e.iceConnectionState&&kC(\"ICE_RESTART\")){\"CONNECTED\"===SS(this,_I.QueryClientConnectionState)&&this.emit(_I.RequestRestartICE)}}),800),void setTimeout((()=>{\"disconnected\"===e.peerConnectionState&&(WC.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection disconnected timeout 4000ms, force reconnect\")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isInRestartIce=!1,setTimeout((()=>this.emit(_I.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())}),4e3);\"failed\"===t&&(WC.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection state failed, force reconnect\")),this.reportPCDisconnectedOrFailed(),setTimeout((()=>this.emit(_I.P2PLost)),0),this.iceFailedCount+=1,await this.requestReconnect())}},e.onICEConnectionStateChange=e=>{\"connected\"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),WC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICEConnectionStateChange(\").concat(e,\")\")),iv.reportApiInvoke(this.store.sessionId,{name:\"ICEConnectionStateChange\",options:e,tag:oS.TRACER}).onSuccess(),this.emit(_I.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{WC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICETransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportStateChange=e=>{WC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportError=e=>{WC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportError(\").concat(e,\")\"))},e.onFirstAudioDecoded=e=>{var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var n;i&&(this.store.subscribe(i.uid,\"audio\",void 0,void 0,void 0,Date.now()),null===(n=i.audioTrack)||void 0===n||n.emit(xy.FIRST_FRAME_DECODED),iv.firstRemoteFrame(this.store.sessionId,JC.FIRST_AUDIO_DECODE,zC.FIRST_AUDIO_DECODE,{peer:i._uintid,subscribeElapse:sD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));i&&iv.firstRemoteFrame(this.store.sessionId,JC.FIRST_AUDIO_RECEIVED,zC.FIRST_AUDIO_RECEIVED,{peer:i._uintid,subscribeElapse:sD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,i)=>{this.reportVideoFirstFrameDecoded(e,t,i)},e.onFirstVideoReceived=e=>{var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));i&&iv.firstRemoteFrame(this.store.sessionId,JC.FIRST_VIDEO_RECEIVED,zC.FIRST_VIDEO_RECEIVED,{peer:i._uintid,subscribeElapse:sD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const i=\"relay\"===e.candidateType,n=\"relay\"===t.candidateType;\"unknown\"!==t.candidateType&&i===n||this.emit(_I.ConnectionTypeChange,i),WC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedLocalCandidateChanged(\").concat(JSON.stringify(TD(t)),\" -> \").concat(JSON.stringify(TD(e)),\")\"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{WC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedRemoteCandidateChanged(\").concat(JSON.stringify(TD(t)),\" -> \").concat(JSON.stringify(TD(e)),\")\"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const i=this.localTrackMap.get(uI.LocalAudioTrack);if(e instanceof zA&&(null==i?void 0:i.track)instanceof ZA)return i.track.isActive||t.push([uI.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n&&(t.push(n),n[0]===uI.LocalVideoTrack)){const e=this.localTrackMap.get(uI.LocalVideoLowTrack);e&&t.push([uI.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],i=this.localTrackMap.get(uI.LocalAudioTrack);if(e instanceof zA&&(null==i?void 0:i.track)instanceof ZA)return i.track.isActive&&t.push([uI.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n)if(n[0]===uI.LocalVideoTrack){t.push(n);const e=this.localTrackMap.get(uI.LocalVideoLowTrack);e&&t.push([uI.LocalVideoLowTrack,e])}else t.push(n);return t}createMuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:s,id:o}]=e;switch(n){case uI.LocalAudioTrack:i=Qv.Audio;break;case uI.LocalVideoTrack:i=Pr(t=r._hints).call(t,Dy.SCREEN_TRACK)?Qv.Screen:Qv.High;break;case uI.LocalVideoLowTrack:i=Qv.Low}return{stream_type:i,ssrcs:s,mid:o}}))}createUnmuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:s,id:o}]=e;switch(n){case uI.LocalAudioTrack:i=Qv.Audio;break;case uI.LocalVideoTrack:i=Pr(t=r._hints).call(t,Dy.SCREEN_TRACK)?Qv.Screen:Qv.High;break;case uI.LocalVideoLowTrack:i=Qv.Low}return{stream_type:i,ssrcs:s,mid:o}}))}filterTobeUnSubscribedTracks(e,t){const i=[],n=this.remoteUserMap.get(e);if(!n)return i;if(t){const r=n.get(t);if(!r)return i;i.push([e,{kind:t,id:r}])}else Array.from(n.entries()).forEach((t=>{let[n,r]=t;i.push([e,{kind:n,id:r}])}));return i}filterTobeUnSubscribedDataChannels(e,t){const i=[];return t.forEach((t=>{var n;null!==(n=this.remoteDataChannelMap.get(e))&&void 0!==n&&n.has(t.id)&&i.push(t)})),i}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[i,{kind:n,id:r}]=e;switch(n){case dI.VIDEO:return void(i._videoSSRC&&t.push({stream_type:dI.VIDEO,ssrcId:i._videoSSRC}));case dI.AUDIO:return void(i._audioSSRC&&t.push({stream_type:dI.AUDIO,ssrcId:i._audioSSRC}))}})),t}createUnsubscribeAllMessage(e){const t=new Map;return e.forEach((e=>{let[i,{kind:n}]=e;if(t.has(i)){let e=t.get(i);n===dI.VIDEO?e|=eI.Video:e|=eI.Audio,t.set(i,e)}else n===dI.VIDEO?t.set(i,eI.Video):t.set(i,eI.Audio)})),{users:Array.from(t.entries()).map((e=>{let[t,i]=e;return{stream_id:t.uid,stream_type:i}}))}}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:i}]=e;const n=this.remoteUserMap.get(t);n&&(n.delete(i),0===Array.from(n.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(uI.LocalVideoTrack),i=this.localTrackMap.get(uI.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),i&&e.low_stream_uplink&&await i.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){if(this.connection){return\"connected\"!==this.connection.peerConnectionState}return!0}mapPubResToRemoteConfig(e,t){return e.map(((e,i)=>{var n;let{stream_type:r}=e;return null===(n=t.find((e=>{let{stream_type:t}=e;return r===t})))||void 0===n?void 0:n.attributes}))}async tryToUnmuteAudio(e){for(let i=0;i<e.length;i++)if(e[i]instanceof zA){var t;const n=this.filterTobeUnmutedTracks(e[i]);if(0===n.length)continue;await(null===(t=this.connection)||void 0===t?void 0:t.unmuteLocal(n.map((e=>{let[,{id:t}]=e;return t}))));const r=this.createUnmuteMessage(n);return void await gS(this,_I.RequestUnmuteLocal,r)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.connection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(_I.RequestUploadStats,e,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await US(zS(this.dtlsFailedCount,JS)),this.emit(_I.RequestReconnect)}async reconnectP2P(){const e=Array.from(this.localTrackMap.entries()),t=this.createGatewayUnpublishMessage(e);Array.from(this.remoteUserMap.entries()),t.length>0&&await fS(this,_I.RequestUnpublishForReconnectPC,t),this.disconnectForReconnect(),this.emit(_I.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(uI.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof fb))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof fb)).length>1)throw new Vg(xg.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof zA)).length>1&&(e.some((e=>e instanceof zA&&e._bypassWebAudio))||!hA().webAudioMediaStreamDest))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\");for(const t of e){if(t instanceof fb&&this.pendingLocalTracks.some((e=>e instanceof fb)))throw new Vg(xg.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof zA&&this.pendingLocalTracks.some((e=>e instanceof zA))&&(!hA().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof zA&&e._bypassWebAudio))))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\")}}getLowVideoTrack(e,t){const i=!kC(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&hA().supportDualStreamEncoding,n=ak(ak({},{width:160,height:120,framerate:15,bitrate:50}),t);let r;r=i?e._mediaStreamTrack.clone():jL(e,n);const s=xS(8,\"track-low-\"),o=new fb(r,ak(ak({},i&&{scaleResolutionDownBy:SD(n,e)}),{},{frameRate:n.framerate,bitrateMax:n.bitrate,bitrateMin:n.bitrate}),void 0,void 0,s);return o.on(My.TRANSCEIVER_UPDATED,(t=>{e._updateRtpTransceiver(t,Py.LOW_STREAM)})),o._hints.push(Dy.LOW_STREAM),e.addListener(Ny.NEED_CLOSE,(()=>{o.close()})),o}async globalLock(){return this.mutex.lock(\"From P2PChannel.globalLock\")}async reportPCStats(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.connection&&this.connection instanceof FL){var r,s,o,a;const c=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:d,dtlsTransportState:l,peerConnectionState:h}=this.connection,{local:u,remote:p}=await this.connection.getSelectedCandidatePair();iv.pcStats(this.store.sessionId,{startTime:c,eventElapse:e-c||0,iceconnectionsate:d,dtlsstate:l,connectionstate:h,intSucc:t?1:2,error:n,selectedLocalCandidateProtocol:null!==(r=null==u?void 0:u.protocol)&&void 0!==r?r:\"\",selectedLocalCandidateType:null!==(s=u.candidateType)&&void 0!==s?s:\"\",selectedLocalCandidateAddress:\"\".concat(u.address,\":\").concat(u.port),selectedRemoteCandidateProtocol:null!==(o=p.protocol)&&void 0!==o?o:\"\",selectedRemoteCandidateType:null!==(a=p.candidateType)&&void 0!==a?a:\"\",selectedRemoteCandidateAddress:\"\".concat(p.address,\":\").concat(p.port),restartCnt:i})}}reportVideoFirstFrameDecoded(e,t,i,n){var r;const s=Array.from(hu(r=this.remoteUserMap).call(r)).find((t=>t._videoSSRC===e));if(s){n||this.store.subscribe(s.uid,\"video\",void 0,void 0,void 0,void 0,Date.now());const r=this.store.keyMetrics,o=r.subscribe.find((e=>e.userId===s.uid&&\"video\"===e.type));iv.firstRemoteVideoDecode(this.store.sessionId,JC.FIRST_VIDEO_DECODE,zC.FIRST_VIDEO_DECODE,{peer:s._uintid,videowidth:t,videoheight:i,subscribeElapse:sD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==o?void 0:o.subscribeEnd)||0,subscriberStart:(null==o?void 0:o.subscribeStart)||0,videoAddNotify:(null==o?void 0:o.streamAdded)||0,state:n?1:0})}}async remoteMediaSsrcChanged(e,t,i){if(!this.connection)return!1;const n=this.remoteUserMap.get(e);if(!n)return!1;const r=n.get(t);if(!r)return!1;const s=await this.connection.getRemoteSSRC(r);return void 0!==s&&s!==i}resetConnection(e){WC.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] reset connection to \").concat(e)),this.state===pI.Connected?(WC.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] fallback to websocket but P2PChannel state still connected, disconnect first\")),this.disconnectForReconnect()):(this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=e===tI.datachannel?new tk({},this.store):this.isPlanB?new DL({},this.store):new FL({},this.store),this.bindConnectionEvents(this.connection)))}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:i}]=e;t===uI.LocalVideoLowTrack?i._updateRtpTransceiver(void 0,Py.LOW_STREAM):i._updateRtpTransceiver(void 0)}))}reportPCDisconnectedOrFailed(e){this.connection&&this.connection instanceof FL&&(\"disconnected\"!==this.connection.iceConnectionState&&\"checking\"!==this.connection.iceConnectionState&&\"failed\"!==this.connection.iceConnectionState||(this._isFirstConnected?(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isFirstConnected=!1):this._pcStatsUploadType===hI.TCP_RESTART&&e===lI.RELAY?this.reportPCStats(Date.now(),!1,this._pcStatsUploadType):this.reportPCStats(Date.now(),!1,hI.DISCONNECTED_OR_FAILED)))}}function hk(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From P2PChannel.\".concat(t));try{for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return await n.apply(this,s)}finally{i()}},i}function uk(e){let t=vk();return function(e,t){let i=e.appId;void 0!==i&&(xk(t,10),Nk(t,i));let n=e.cid;void 0!==n&&(xk(t,16),xk(t,n));let r=e.cname;void 0!==r&&(xk(t,26),Nk(t,r));let s=e.deviceId;void 0!==s&&(xk(t,34),Nk(t,s));let o=e.elapse;void 0!==o&&(xk(t,40),Vk(t,o));let a=e.fileSize;void 0!==a&&(xk(t,48),Vk(t,Rk(a)));let c=e.height;void 0!==c&&(xk(t,56),Vk(t,Rk(c)));let d=e.jpg;void 0!==d&&(xk(t,66),xk(t,d.length),function(e,t){let i=bk(e,t.length);e.bytes.set(t,i)}(t,d));let l=e.networkType;void 0!==l&&(xk(t,72),Vk(t,Rk(l)));let h=e.osType;void 0!==h&&(xk(t,80),Vk(t,Rk(h)));let u=e.requestId;void 0!==u&&(xk(t,90),Nk(t,u));let p=e.sdkVersion;void 0!==p&&(xk(t,98),Nk(t,p));let _=e.sequence;void 0!==_&&(xk(t,104),Vk(t,Rk(_)));let E=e.sid;void 0!==E&&(xk(t,114),Nk(t,E));let m=e.timestamp;void 0!==m&&(xk(t,120),Vk(t,m));let f=e.uid;void 0!==f&&(xk(t,128),xk(t,f));let g=e.vid;void 0!==g&&(xk(t,136),xk(t,g));let S=e.width;void 0!==S&&(xk(t,144),Vk(t,Rk(S)));let T=e.service;void 0!==T&&(xk(t,152),xk(t,T));let R=e.callbackData;void 0!==R&&(xk(t,162),Nk(t,R));let C=e.jpgEncryption;void 0!==C&&(xk(t,168),xk(t,C));let v=e.requestType;void 0!==v&&(xk(t,176),xk(t,v));let I=e.scorePorn;void 0!==I&&(xk(t,185),Mk(t,I));let y=e.scoreSexy;void 0!==y&&(xk(t,193),Mk(t,y));let A=e.scoreNeutral;void 0!==A&&(xk(t,201),Mk(t,A));let b=e.scene;void 0!==b&&(xk(t,208),xk(t,b));let w=e.ossFilePrefix;void 0!==w&&(xk(t,218),Nk(t,w));let O=e.serviceVendor;if(void 0!==O)for(let e of O){xk(t,226);let i=vk();Ek(e,i),xk(t,i.limit),Dk(t,i),Ik(i)}}(e,t),function(e){let t=e.bytes,i=e.limit;return t.length===i?t:t.subarray(0,i)}(t)}function pk(e){return function(e){let t={};e:for(;!Ak(e);){let i=Uk(e);switch(i>>>3){case 0:break e;case 1:t.code=Uk(e);break;case 2:t.msg=Ok(e,Uk(e));break;case 3:{let i=mk(e);t.data=_k(e),e.limit=i;break}default:fk(e,7&i)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function _k(e){let t={};e:for(;!Ak(e);){let i=Uk(e);switch(i>>>3){case 0:break e;case 1:t.requestId=Ok(e,Uk(e));break;case 2:t.requestType=Uk(e)>>>0;break;case 3:t.scorePorn=kk(e);break;case 4:t.scoreSexy=kk(e);break;case 5:t.scoreNeutral=kk(e);break;case 6:t.requestScene=Uk(e)>>>0;break;case 7:t.scene=Uk(e)>>>0;break;default:fk(e,7&i)}}return t}function Ek(e,t){let i=e.service;void 0!==i&&(xk(t,8),xk(t,i));let n=e.vendor;void 0!==n&&(xk(t,16),xk(t,n));let r=e.token;void 0!==r&&(xk(t,26),Nk(t,r));let s=e.callbackUrl;void 0!==s&&(xk(t,34),Nk(t,s))}function mk(e){let t=Uk(e),i=e.limit;return e.limit=e.offset+t,i}function fk(e,t){switch(t){case 0:for(;128&Pk(e););break;case 2:yk(e,Uk(e));break;case 5:yk(e,4);break;case 1:yk(e,8);break;default:throw new Error(\"Unimplemented type: \"+t)}}Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Boolean]),kv(\"design:returntype\",tg)],lk.prototype,\"startP2PConnection\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Object,Array,Object,String,String]),kv(\"design:returntype\",tg)],lk.prototype,\"connect\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Object,Array,Object,String,String]),kv(\"design:returntype\",tg)],lk.prototype,\"preConnect\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],lk.prototype,\"publishDataChannel\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],lk.prototype,\"unpublish\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],lk.prototype,\"unpublishDataChannel\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",tg)],lk.prototype,\"unpublishLowStream\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,Array]),kv(\"design:returntype\",tg)],lk.prototype,\"subscribeDataChannel\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,String,Number,Number,Array]),kv(\"design:returntype\",tg)],lk.prototype,\"subscribe\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],lk.prototype,\"massSubscribe\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,String,Boolean]),kv(\"design:returntype\",tg)],lk.prototype,\"unsubscribe\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,Array]),kv(\"design:returntype\",tg)],lk.prototype,\"unsubscribeDataChannel\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],lk.prototype,\"massUnsubscribe\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,String]),kv(\"design:returntype\",tg)],lk.prototype,\"muteRemote\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,String]),kv(\"design:returntype\",tg)],lk.prototype,\"unmuteRemote\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,String]),kv(\"design:returntype\",tg)],lk.prototype,\"hasRemoteMediaWithLock\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",tg)],lk.prototype,\"disconnectForReconnect\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",tg)],lk.prototype,\"updateBitrateLimit\",null),Lv([hk,kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,String,Number]),kv(\"design:returntype\",tg)],lk.prototype,\"remoteMediaSsrcChanged\",null);let gk=new Float32Array(1);new Uint8Array(gk.buffer);let Sk=new Float64Array(1),Tk=new Uint8Array(Sk.buffer);function Rk(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let Ck=[];function vk(){const e=Ck.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function Ik(e){Ck.push(e)}function yk(e,t){if(e.offset+t>e.limit)throw new Error(\"Skip past limit\");e.offset+=t}function Ak(e){return e.offset>=e.limit}function bk(e,t){let i=e.bytes,n=e.offset,r=e.limit,s=n+t;if(s>i.length){let t=new Uint8Array(2*s);t.set(i),e.bytes=t}return e.offset=s,s>r&&(e.limit=s),n}function wk(e,t){let i=e.offset;if(i+t>e.limit)throw new Error(\"Read past limit\");return e.offset+=t,i}function Ok(e,t){let i=wk(e,t),n=String.fromCharCode,r=e.bytes,s=\"�\",o=\"\";for(let e=0;e<t;e++){let a,c,d,l,h=r[e+i];0==(128&h)?o+=n(h):192==(224&h)?e+1>=t?o+=s:(a=r[e+i+1],128!=(192&a)?o+=s:(l=(31&h)<<6|63&a,l<128?o+=s:(o+=n(l),e++))):224==(240&h)?e+2>=t?o+=s:(a=r[e+i+1],c=r[e+i+2],32896!=(49344&(a|c<<8))?o+=s:(l=(15&h)<<12|(63&a)<<6|63&c,l<2048||l>=55296&&l<=57343?o+=s:(o+=n(l),e+=2))):240==(248&h)?e+3>=t?o+=s:(a=r[e+i+1],c=r[e+i+2],d=r[e+i+3],8421504!=(12632256&(a|c<<8|d<<16))?o+=s:(l=(7&h)<<18|(63&a)<<12|(63&c)<<6|63&d,l<65536||l>1114111?o+=s:(l-=65536,o+=n(55296+(l>>10),56320+(1023&l)),e+=3))):o+=s}return o}function Nk(e,t){let i=t.length,n=0;for(let e=0;e<i;e++){let r=t.charCodeAt(e);r>=55296&&r<=56319&&e+1<i&&(r=(r<<10)+t.charCodeAt(++e)-56613888),n+=r<128?1:r<2048?2:r<65536?3:4}xk(e,n);let r=bk(e,n),s=e.bytes;for(let e=0;e<i;e++){let n=t.charCodeAt(e);n>=55296&&n<=56319&&e+1<i&&(n=(n<<10)+t.charCodeAt(++e)-56613888),n<128?s[r++]=n:(n<2048?s[r++]=n>>6&31|192:(n<65536?s[r++]=n>>12&15|224:(s[r++]=n>>18&7|240,s[r++]=n>>12&63|128),s[r++]=n>>6&63|128),s[r++]=63&n|128)}}function Dk(e,t){let i=bk(e,t.limit),n=e.bytes,r=t.bytes;for(let e=0,s=t.limit;e<s;e++)n[e+i]=r[e]}function Pk(e){return e.bytes[wk(e,1)]}function Lk(e,t){let i=bk(e,1);e.bytes[i]=t}function kk(e){let t=wk(e,8),i=e.bytes;return Tk[0]=i[t++],Tk[1]=i[t++],Tk[2]=i[t++],Tk[3]=i[t++],Tk[4]=i[t++],Tk[5]=i[t++],Tk[6]=i[t++],Tk[7]=i[t++],Sk[0]}function Mk(e,t){let i=bk(e,8),n=e.bytes;Sk[0]=t,n[i++]=Tk[0],n[i++]=Tk[1],n[i++]=Tk[2],n[i++]=Tk[3],n[i++]=Tk[4],n[i++]=Tk[5],n[i++]=Tk[6],n[i++]=Tk[7]}function Uk(e){let t,i=0,n=0;do{t=Pk(e),i<32&&(n|=(127&t)<<i),i+=7}while(128&t);return n}function xk(e,t){for(t>>>=0;t>=128;)Lk(e,127&t|128),t>>>=7;Lk(e,t)}function Vk(e,t){let i=t.low>>>0,n=(t.low>>>28|t.high<<4)>>>0,r=t.high>>>24,s=0===r?0===n?i<16384?i<128?1:2:i<1<<21?3:4:n<16384?n<128?5:6:n<1<<21?7:8:r<128?9:10,o=bk(e,s),a=e.bytes;switch(s){case 10:a[o+9]=r>>>7&1;case 9:a[o+8]=9!==s?128|r:127&r;case 8:a[o+7]=8!==s?n>>>21|128:n>>>21&127;case 7:a[o+6]=7!==s?n>>>14|128:n>>>14&127;case 6:a[o+5]=6!==s?n>>>7|128:n>>>7&127;case 5:a[o+4]=5!==s?128|n:127&n;case 4:a[o+3]=4!==s?i>>>21|128:i>>>21&127;case 3:a[o+2]=3!==s?i>>>14|128:i>>>14&127;case 2:a[o+1]=2!==s?i>>>7|128:i>>>7&127;case 1:a[o]=1!==s?128|i:127&i}}function Fk(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}const Bk=new Map([[\"moderation\",1],[\"supervise\",2]]);class jk extends iS{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(gI.CONNECTION_STATE_CHANGE,t,e)}get inspectType(){return this._inspectType}set inspectType(e){var t;this._inspectMode=cT(t=e.map((e=>Bk.get(e)||0))).call(t,((e,t)=>e+t)),this._inspectType=e}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this.qualityRatio}),6e4))}constructor(e){super(),nu(this,\"name\",\"AgoraRTCVideoContentInspect\"),nu(this,\"_connectionState\",mI.CONNECTING),nu(this,\"_innerConnectionState\",void 0),nu(this,\"sequence\",0),nu(this,\"inspectStartTime\",void 0),nu(this,\"workerManagerConnection\",void 0),nu(this,\"workerConnection\",void 0),nu(this,\"workerMessageLengthLimit\",void 0),nu(this,\"inspectIntervalMinimum\",void 0),nu(this,\"qualityRatio\",void 0),nu(this,\"_connectInfo\",void 0),nu(this,\"_cancelTokenSource\",EC.CancelToken.source()),nu(this,\"_retryConfig\",void 0),nu(this,\"wmSequence\",0),nu(this,\"inspectInterval\",void 0),nu(this,\"inspectTimer\",null),nu(this,\"ossFilePrefix\",void 0),nu(this,\"extraInfo\",void 0),nu(this,\"_inspectType\",void 0),nu(this,\"_inspectMode\",void 0),nu(this,\"_quality\",1),nu(this,\"qualityTimer\",null),nu(this,\"_inspectId\",void 0),nu(this,\"_needWorkUrlOnly\",!1),nu(this,\"inspectImage\",(()=>{if(this.connectionState!==mI.CONNECTED)throw new Mv(xg.OPERATION_ABORTED,\"content inspect service connection status is \".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval((()=>{this.connectionState===mI.CONNECTED?this.requestToInspectImage():WC.debug(\"[\".concat(this._inspectId,\"] Inspect State is not connected , \"),this.connectionState)}),this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()})),this._inspectId=xS(5,\"inspect-\"),this.workerMessageLengthLimit=kC(\"VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT\"),this.inspectIntervalMinimum=kC(\"VIDEO_INSPECT_INTERVAL_MINIMUM\"),this.qualityRatio=kC(\"VIDEO_INSPECT_QUALITY_RATIO\"),this.inspectInterval=e.interval,this.ossFilePrefix=e.ossFilePrefix,this.extraInfo=e.extraInfo,this.inspectType=e.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new JI(\"worker-manager-\"+this._inspectId,JS),this.on(gI.STATE_CHANGE,((e,t)=>{this._innerConnectionState=e,WC.debug(\"[\".concat(this._inspectId,\"] Inspect operation :\").concat(fI[e],\" \").concat(t||\"\"))})),this.handleWorkerManagerEvents(),this.workerConnection=new JI(\"worker-\"+this._inspectId,JS),this.handleWorkerEvents()}async init(e,t){this.emit(gI.STATE_CHANGE,fI.CONNECT_AP),this._connectInfo=e;const i=this._cancelTokenSource.token;return this._retryConfig=t,new tg(((n,r)=>{this.on(gI.CONNECTION_STATE_CHANGE,((e,t)=>{t===mI.CONNECTED&&n()})),this.requestAP(e,i,t).then((e=>{this.connectWorkerManager(e)})).catch((e=>{r(e)}))}))}async requestAP(e,t,i){const n=kC(\"WEBCS_DOMAIN\").map((e=>\"https://\".concat(e,\"/api/v1\"))),r=await function(e,t,i,n){let{appId:r,areaCode:s,cname:o,sid:a,token:c,uid:d}=t;nP++;const l=\"image_moderation_api\",h={service_name:l,json_body:JSON.stringify({appId:r,areaCode:s,cname:o,command:\"allocateEdge\",requestId:nP,seq:nP,sid:a,token:c,ts:Date.now(),uid:d+\"\"})};let u,p,_=e[0];return XS((async()=>{u=Date.now();const e=await MD(_,{data:h,cancelToken:i,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"},params:{action:\"wrtc_gateway\"}});if(p=Date.now()-u,0!==e.code){const t=new Mv(xg.UNEXPECTED_RESPONSE,\"image inspect ap error, code\"+e.code,{retry:!0,responseTime:p});throw WC.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new Mv(xg.UNEXPECTED_RESPONSE,\"image inspect ap error, code: \".concat(t.code,\", reason: \").concat(t.reason),{code:t.code,responseTime:p});throw WC.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new Mv(xg.UNEXPECTED_RESPONSE,\"image inspect ap empty server\",{code:t.code,responseTime:p});throw WC.error(e.toString()),e}const n=kC(\"VIDEO_INSPECT_WORKER_MANAGER_HOST\"),r=kC(\"VIDEO_INSPECT_WORKER_MANAGER_PORT\");return{addressList:t.servers.map((e=>{let{address:t,wss:i}=e;if(t&&i)return\"wss://\".concat(t.replace(/\\./g,\"-\"),\".\").concat(n,\":\").concat(r||i)})).filter((e=>!!e)),workerToken:t.workerToken,vid:t.vid,responseTime:p}}),((t,i)=>(iv.apworkerEvent(a,{success:!0,sc:200,serviceName:l,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===i,responseTime:p,serverIp:e[i%e.length]}),!1)),((t,i)=>(iv.apworkerEvent(a,{success:!1,sc:t.data&&t.data.code||200,serviceName:l,responseTime:p,serverIp:e[i%e.length]}),!!(t.code!==xg.OPERATION_ABORTED&&t.code!==xg.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(_=e[(i+1)%e.length],!0))),n)}(n,e,t,i);this.emit(gI.STATE_CHANGE,fI.AP_CONNECTED);const{addressList:s}=r;return this.wmSequence++,s}async connectWorkerManager(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._needWorkUrlOnly=t,this.emit(gI.STATE_CHANGE,fI.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(e,1e4)}async connectWorker(e){await this.workerConnection.init([e])}handleWorkerManagerEvents(){this.workerManagerConnection.on(Cv.CONNECTED,(async()=>{this.emit(gI.STATE_CHANGE,fI.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+\"\",sdkVersion:\"4.19.1\",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:\"join\"}},!0)})),this.workerManagerConnection.on(Cv.CLOSED,(()=>{this._innerConnectionState<fI.GET_WORKER_MANAGER_RESPONSE&&WC.debug(\"[\".concat(this._inspectId,\"] Inspect worker manager is closed before connecting worker\"))})),this.workerManagerConnection.on(Cv.FAILED,(()=>{this._innerConnectionState<fI.GET_WORKER_MANAGER_RESPONSE&&WC.debug(\"[\".concat(this._inspectId,\"] Connecting inspect worker manager is failed before connecting worker\"))})),this.workerManagerConnection.on(Cv.RECONNECTING,(()=>{this._innerConnectionState<fI.GET_WORKER_MANAGER_RESPONSE&&WC.debug(\"[\".concat(this._inspectId,\"] Inspect worker manager is reconnecting before connecting worker\"))})),this.workerManagerConnection.on(Cv.ON_MESSAGE,(async e=>{this.emit(gI.STATE_CHANGE,fI.GET_WORKER_MANAGER_RESPONSE);const t=this.workerManagerConnection.url;this.workerManagerConnection.close();const i=JSON.parse(e.data);if(200!==i.code)throw WC.error(\"[\".concat(this._inspectId,\"] Unexpected code \").concat(i.code,\" from worker manager\")),new Mv(xg.UNEXPECTED_RESPONSE,\"response code of worker is unexpected\",i);if(!(i.serverResponse&&i.serverResponse.portWss&&t))throw WC.error(\"[\".concat(this._inspectId,\"] Unexpected content from worker manager : \").concat(JSON.stringify(i))),new Mv(xg.UNEXPECTED_RESPONSE,\"response content of worker is unexpected\",i);{const e=kC(\"VIDEO_INSPECT_WORKER_PORT\")||i.serverResponse.portWss,n=t.replace(/:\\d+\\/?$/,\":\".concat(e));this.emit(gI.STATE_CHANGE,fI.CONNECT_WORKER,n),this._needWorkUrlOnly?this.emit(gI.REQUEST_NEW_WORKER_URL,n):await this.connectWorker(n)}})),this.workerManagerConnection.on(Cv.WILL_RECONNECT,((e,t,i)=>{i(e)})),this.workerManagerConnection.on(Cv.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}handleWorkerEvents(){this.workerConnection.on(Cv.CONNECTED,(async()=>{this.emit(gI.STATE_CHANGE,fI.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=mI.CONNECTED})),this.workerConnection.on(Cv.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const i=pk(new Uint8Array(e.data));if(kC(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\")&&WC.debug(\"[\".concat(this._inspectId,\"] Response message for worker of inspect content \"),JSON.stringify(i)),200===i.code){if(Array.isArray(this.inspectType)&&1===this.inspectType.length&&\"supervise\"===this.inspectType[0])return void this.emit(gI.INSPECT_RESULT,void 0,void 0);if(i.data&&i.data.scorePorn&&i.data.scoreSexy&&i.data.scoreNeutral){var t;const e={porn:i.data.scorePorn,sexy:i.data.scoreSexy,neutral:i.data.scoreNeutral},n=cT(t=Object.keys(e)).call(t,((t,i)=>e[t]>e[i]?t:i),\"porn\"),r=Object.keys(e).find((e=>e===n));this.emit(gI.INSPECT_RESULT,r)}else this.emit(gI.INSPECT_RESULT,void 0,new Mv(xg.UNEXPECTED_RESPONSE,i.code+\"\",\"There is an unexpected data on message\"))}else this.emit(gI.INSPECT_RESULT,void 0,new Mv(xg.UNEXPECTED_RESPONSE,i.code+\"\",i.msg))}else WC.error(\"[\".concat(this._inspectId,\"] Unexpected message type from worker\")),this.emit(gI.INSPECT_RESULT,void 0,new Mv(xg.UNEXPECTED_RESPONSE,\"invalid worker message type\"))})),this.workerConnection.on(Cv.CLOSED,(()=>{this.connectionState=mI.CLOSED})),this.workerConnection.on(Cv.FAILED,(()=>{this.connectionState=mI.CLOSED})),this.workerConnection.on(Cv.RECONNECTING,(()=>{this.connectionState=this.connectionState===mI.CONNECTED?mI.RECONNECTING:mI.CONNECTING})),this.workerConnection.on(Cv.WILL_RECONNECT,((e,t,i)=>{\"recover\"===e&&i(e),i(\"tryNext\")})),this.workerConnection.on(Cv.REQUEST_NEW_URLS,((e,t)=>{this.workerManagerConnection.close(),this.once(gI.REQUEST_NEW_WORKER_URL,(t=>{e([t])})),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then((e=>{this.connectWorkerManager(e,!0)})).catch((e=>{t(e)}))}))}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){this.sequence++;const e=SS(this,gI.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void this.emit(gI.INSPECT_RESULT,void 0,new Mv(xg.INVALID_OPERATION,\"Only the track being played can be inspected\"));const i=await this.generateRequestData(e,t);this.workerConnection.sendMessage(i,!0,!0)}else this.emit(gI.INSPECT_RESULT,void 0,new Mv(xg.INVALID_OPERATION,\"Only the track being published can be inspected\"))}async generateRequestData(e,t){let{appId:i,cname:n,cid:r,vid:s,sid:o,uid:a}=t;const c=Date.now(),d=await e.getCurrentFrameImage(\"image/jpeg\",this.quality),l=await _b(d,i,n),h=this.sequence+\"-\"+r+\"-\"+a+\"-\"+c+\"-\"+xS(12,\"\"),u={appId:i,cid:r,cname:n,deviceId:\"\",elapse:jk.intToLong(Number(c-this.inspectStartTime)),fileSize:l.byteLength,jpgEncryption:2,height:d.height,width:d.width,jpg:l,networkType:6,osType:7,requestId:h,sdkVersion:\"4.19.1\",sequence:this.sequence,sid:o,timestamp:jk.intToLong(c),uid:a,vid:s,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};void 0===this.extraInfo&&delete u.callbackData,void 0===this.ossFilePrefix&&delete u.ossFilePrefix;const p=uk(u);if(p.byteLength<this.workerMessageLengthLimit){if(kC(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\")){const e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Fk(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Fk(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},u);delete e.jpg,WC.debug(\"[\".concat(this._inspectId,\"] Request message for worker of inspect content \"),JSON.stringify(e))}return p}{const t=this.quality*this.qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:i,cname:n,cid:r,vid:s,sid:o,uid:a})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=EC.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=mI.CLOSED,this.emit(gI.STATE_CHANGE,fI.CLOSED)}}function Gk(e){let t=function(){const e=Yk.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(e,t){let i=e.appId;void 0!==i&&(nM(t,10),$k(t,i));let n=e.cid;void 0!==n&&(nM(t,16),nM(t,n));let r=e.cname;void 0!==r&&(nM(t,26),$k(t,r));let s=e.deviceId;void 0!==s&&(nM(t,34),$k(t,s));let o=e.elapse;void 0!==o&&(nM(t,40),sM(t,o));let a=e.fileSize;void 0!==a&&(nM(t,48),sM(t,Kk(a)));let c=e.height;void 0!==c&&(nM(t,56),sM(t,Kk(c)));let d=e.jpg;void 0!==d&&(nM(t,66),nM(t,d.length),Qk(t,d));let l=e.networkType;void 0!==l&&(nM(t,72),sM(t,Kk(l)));let h=e.osType;void 0!==h&&(nM(t,80),sM(t,Kk(h)));let u=e.requestId;void 0!==u&&(nM(t,90),$k(t,u));let p=e.sdkVersion;void 0!==p&&(nM(t,98),$k(t,p));let _=e.sequence;void 0!==_&&(nM(t,104),sM(t,Kk(_)));let E=e.sid;void 0!==E&&(nM(t,114),$k(t,E));let m=e.timestamp;void 0!==m&&(nM(t,120),sM(t,m));let f=e.uid;void 0!==f&&(nM(t,128),nM(t,f));let g=e.vid;void 0!==g&&(nM(t,136),nM(t,g));let S=e.width;void 0!==S&&(nM(t,144),sM(t,Kk(S)));let T=e.service;void 0!==T&&(nM(t,152),nM(t,T));let R=e.callbackData;void 0!==R&&(nM(t,162),nM(t,R.length),Qk(t,R));let C=e.ticket;void 0!==C&&(nM(t,170),$k(t,C))}(e,t),function(e){let t=e.bytes,i=e.limit;return t.length===i?t:t.subarray(0,i)}(t)}function Wk(e){return function(e){let t={};e:for(;!Jk(e);){let i=iM(e);switch(i>>>3){case 0:break e;case 1:t.code=iM(e);break;case 2:t.msg=Zk(e,iM(e));break;case 3:t.requestId=Zk(e,iM(e));break;case 4:t.timestamp=rM(e,!1);break;default:Hk(e,7&i)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function Hk(e,t){switch(t){case 0:for(;128&eM(e););break;case 2:qk(e,iM(e));break;case 5:qk(e,4);break;case 1:qk(e,8);break;default:throw new Error(\"Unimplemented type: \"+t)}}function Kk(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let Yk=[];function qk(e,t){if(e.offset+t>e.limit)throw new Error(\"Skip past limit\");e.offset+=t}function Jk(e){return e.offset>=e.limit}function zk(e,t){let i=e.bytes,n=e.offset,r=e.limit,s=n+t;if(s>i.length){let t=new Uint8Array(2*s);t.set(i),e.bytes=t}return e.offset=s,s>r&&(e.limit=s),n}function Xk(e,t){let i=e.offset;if(i+t>e.limit)throw new Error(\"Read past limit\");return e.offset+=t,i}function Qk(e,t){let i=zk(e,t.length);e.bytes.set(t,i)}function Zk(e,t){let i=Xk(e,t),n=String.fromCharCode,r=e.bytes,s=\"�\",o=\"\";for(let e=0;e<t;e++){let a,c,d,l,h=r[e+i];0==(128&h)?o+=n(h):192==(224&h)?e+1>=t?o+=s:(a=r[e+i+1],128!=(192&a)?o+=s:(l=(31&h)<<6|63&a,l<128?o+=s:(o+=n(l),e++))):224==(240&h)?e+2>=t?o+=s:(a=r[e+i+1],c=r[e+i+2],32896!=(49344&(a|c<<8))?o+=s:(l=(15&h)<<12|(63&a)<<6|63&c,l<2048||l>=55296&&l<=57343?o+=s:(o+=n(l),e+=2))):240==(248&h)?e+3>=t?o+=s:(a=r[e+i+1],c=r[e+i+2],d=r[e+i+3],8421504!=(12632256&(a|c<<8|d<<16))?o+=s:(l=(7&h)<<18|(63&a)<<12|(63&c)<<6|63&d,l<65536||l>1114111?o+=s:(l-=65536,o+=n(55296+(l>>10),56320+(1023&l)),e+=3))):o+=s}return o}function $k(e,t){let i=t.length,n=0;for(let e=0;e<i;e++){let r=t.charCodeAt(e);r>=55296&&r<=56319&&e+1<i&&(r=(r<<10)+t.charCodeAt(++e)-56613888),n+=r<128?1:r<2048?2:r<65536?3:4}nM(e,n);let r=zk(e,n),s=e.bytes;for(let e=0;e<i;e++){let n=t.charCodeAt(e);n>=55296&&n<=56319&&e+1<i&&(n=(n<<10)+t.charCodeAt(++e)-56613888),n<128?s[r++]=n:(n<2048?s[r++]=n>>6&31|192:(n<65536?s[r++]=n>>12&15|224:(s[r++]=n>>18&7|240,s[r++]=n>>12&63|128),s[r++]=n>>6&63|128),s[r++]=63&n|128)}}function eM(e){return e.bytes[Xk(e,1)]}function tM(e,t){let i=zk(e,1);e.bytes[i]=t}function iM(e){let t,i=0,n=0;do{t=eM(e),i<32&&(n|=(127&t)<<i),i+=7}while(128&t);return n}function nM(e,t){for(t>>>=0;t>=128;)tM(e,127&t|128),t>>>=7;tM(e,t)}function rM(e,t){let i,n=0,r=0,s=0;return i=eM(e),n=127&i,128&i&&(i=eM(e),n|=(127&i)<<7,128&i&&(i=eM(e),n|=(127&i)<<14,128&i&&(i=eM(e),n|=(127&i)<<21,128&i&&(i=eM(e),r=127&i,128&i&&(i=eM(e),r|=(127&i)<<7,128&i&&(i=eM(e),r|=(127&i)<<14,128&i&&(i=eM(e),r|=(127&i)<<21,128&i&&(i=eM(e),s=127&i,128&i&&(i=eM(e),s|=(127&i)<<7))))))))),{low:n|r<<28,high:r>>>4|s<<24,unsigned:t}}function sM(e,t){let i=t.low>>>0,n=(t.low>>>28|t.high<<4)>>>0,r=t.high>>>24,s=0===r?0===n?i<16384?i<128?1:2:i<1<<21?3:4:n<16384?n<128?5:6:n<1<<21?7:8:r<128?9:10,o=zk(e,s),a=e.bytes;switch(s){case 10:a[o+9]=r>>>7&1;case 9:a[o+8]=9!==s?128|r:127&r;case 8:a[o+7]=8!==s?n>>>21|128:n>>>21&127;case 7:a[o+6]=7!==s?n>>>14|128:n>>>14&127;case 6:a[o+5]=6!==s?n>>>7|128:n>>>7&127;case 5:a[o+4]=5!==s?128|n:127&n;case 4:a[o+3]=4!==s?i>>>21|128:i>>>21&127;case 3:a[o+2]=3!==s?i>>>14|128:i>>>14&127;case 2:a[o+1]=2!==s?i>>>7|128:i>>>7&127;case 1:a[o]=1!==s?128|i:127&i}}const oM={},aM={},cM=4294967296,dM=cM*cM,lM=dM/2,hM=mM(0,!0),uM=mM(0),pM=fM(0,-2147483648,!1),_M=fM(-1,2147483647,!1),EM=fM(-1,-1,!0);function mM(e,t){let i,n,r;return t?(r=0<=(e>>>=0)&&e<256)&&(n=aM[e],n)?n:(i=fM(e,0,!0),r&&(aM[e]=i),i):(r=-128<=(e|=0)&&e<128)&&(n=oM[e],n)?n:(i=fM(e,e<0?-1:0,!1),r&&(oM[e]=i),i)}function fM(e,t,i){return{low:0|e,high:0|t,unsigned:!!i}}function gM(e,t){if(isNaN(e))return t?hM:uM;if(t){if(e<0)return hM;if(e>=dM)return EM}else{if(e<=-lM)return pM;if(e+1>=lM)return _M}return e<0?t?hM:uM:fM(e%cM|0,e/cM|0,t)}function SM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}class TM extends iS{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(II.CONNECTION_STATE_CHANGE,e,t)}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this._qualityRatio}),6e4))}constructor(e){var t;super(),nu(this,\"name\",\"AgoraRTCImageModeration\"),nu(this,\"_connectionState\",vI.CONNECTING),nu(this,\"_sequence\",0),nu(this,\"_moderationStartTime\",void 0),nu(this,\"_workerConnection\",void 0),nu(this,\"_workerMessageLengthLimit\",void 0),nu(this,\"_qualityRatio\",void 0),nu(this,\"_connectInfo\",void 0),nu(this,\"_cancelTokenSource\",EC.CancelToken.source()),nu(this,\"_retryConfig\",void 0),nu(this,\"_moderationInterval\",void 0),nu(this,\"_moderationTimer\",null),nu(this,\"_moderationMode\",1),nu(this,\"_quality\",1),nu(this,\"_qualityTimer\",null),nu(this,\"_ticket\",void 0),nu(this,\"_moderationIntervalMinimum\",void 0),nu(this,\"_uploadFailedNum\",0),nu(this,\"_uploadNum\",0),nu(this,\"_uploadTimer\",null),nu(this,\"_moderationId\",void 0),nu(this,\"inspectImage\",(()=>{if(this.connectionState!==vI.CONNECTED)throw new Mv(xg.OPERATION_ABORTED,\"image moderation service connection status is \".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval((()=>{this.connectionState===vI.CONNECTED?this.requestToInspectImage():WC.debug(\"[\".concat(this._moderationId,\"] Moderation State is not connected , \"),this.connectionState)}),this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage()})),this._moderationId=xS(5,\"image-moderation-\"),this._workerMessageLengthLimit=kC(\"IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT\"),this._moderationIntervalMinimum=kC(\"IMAGE_MODERATION_INTERVAL_MINIMUM\"),this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,this._qualityRatio=kC(\"IMAGE_MODERATION_QUALITY_RATIO\"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new JI(\"worker-\"+this._moderationId,JS),this.on(II.STATE_CHANGE,((e,t)=>{WC.debug(\"[\".concat(this._moderationId,\"] Moderation operation :\").concat(yI[e],\" \").concat(t||\"\"))})),this.handleWorkerEvents()}async init(e,t){this.emit(II.STATE_CHANGE,yI.CONNECT_AP),this._connectInfo=e;const i=this._cancelTokenSource.token;return this._retryConfig=t,new tg(((n,r)=>{this.on(II.CONNECTION_STATE_CHANGE,((e,t)=>{e===vI.CONNECTED&&n()})),this.requestAP(e,i,t).then((e=>{this.connectWorker(e)})).catch((e=>{r(e)}))}))}updateConfig(e){var t;this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,WC.debug(\"[\".concat(this._moderationId,\"] updateConfig: \").concat(JSON.stringify(e))),this.connectionState===vI.CONNECTED&&this.inspectImage()}async requestAP(e,t,i){const n=kC(\"WEBCS_DOMAIN\").map((e=>\"https://\".concat(e,\"/api/v1\"))),r=await function(e,t,i,n){let{appId:r,areaCode:s,cname:o,sid:a,token:c,uid:d}=t;nP++;const l=\"moderation_plugin\",h={service_name:l,json_body:JSON.stringify({appId:r,areaCode:s,cname:o,command:\"allocateEdge\",requestId:nP,seq:nP,sid:a,appToken:c,ts:Date.now(),uid:d+\"\"})};let u,p,_=e[0];return XS((async()=>{u=Date.now();const e=await MD(_,{data:h,cancelToken:i,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"},params:{action:\"wrtc_gateway\"}});if(p=Date.now()-u,0!==e.code){const t=new Mv(xg.UNEXPECTED_RESPONSE,\"moderation plugin ap error, code\"+e.code,{retry:!0,responseTime:p});throw WC.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new Mv(xg.UNEXPECTED_RESPONSE,\"moderation plugin ap error, code: \".concat(t.code,\", reason: \").concat(t.reason),{code:t.code,responseTime:p});throw WC.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new Mv(xg.UNEXPECTED_RESPONSE,\"moderation plugin ap empty server\",{code:t.code,responseTime:p});throw WC.error(e.toString()),e}if(!t.servers.some((e=>!!e.wss))){const e=new Mv(xg.UNEXPECTED_RESPONSE,\"moderation plugin ap empty port\",{code:t.code,responseTime:p});throw WC.error(e.toString()),e}const n=kC(\"IMAGE_MODERATION_WORKER_HOST\");return{addressList:t.servers.map((e=>{let{address:t,wss:i}=e;if(t&&i)return\"wss://\".concat(t.replace(/\\./g,\"-\"),\".\").concat(n,\":\").concat(i,\"/moderation\")})).filter((e=>!!e)),workerToken:t.workerToken,vid:t.vid,ticket:t.appTicket,responseTime:p}}),((t,i)=>(iv.apworkerEvent(a,{success:!0,sc:200,serviceName:l,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===i,responseTime:p,serverIp:e[i%e.length]}),!1)),((t,i)=>(iv.apworkerEvent(a,{success:!1,sc:t.data&&t.data.code||200,serviceName:l,responseTime:p,serverIp:e[i%e.length]}),!!(t.code!==xg.OPERATION_ABORTED&&t.code!==xg.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(_=e[(i+1)%e.length],!0))),n)}(n,e,t,i);this.emit(II.STATE_CHANGE,yI.AP_CONNECTED);const{addressList:s,ticket:o}=r;return this._ticket=o,s}async connectWorker(e){this.emit(II.STATE_CHANGE,yI.CONNECT_WORKER),await this._workerConnection.init(e,1e4)}handleWorkerEvents(){this._workerConnection.on(Cv.CONNECTED,(async()=>{this.emit(II.STATE_CHANGE,yI.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=vI.CONNECTED})),this._workerConnection.on(Cv.CLOSED,(()=>{this.connectionState=vI.CLOSED})),this._workerConnection.on(Cv.FAILED,(()=>{this.connectionState=vI.CLOSED})),this._workerConnection.on(Cv.RECONNECTING,(()=>{this.connectionState=this.connectionState===vI.CONNECTED?vI.RECONNECTING:vI.CONNECTING})),this._workerConnection.on(Cv.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const t=Wk(new Uint8Array(e.data));kC(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&WC.debug(\"[\".concat(this._moderationId,\"] Response message for worker of image moderation \"),JSON.stringify(t)),this._uploadNum++,void 0===t.code||0===t.code||(this._uploadFailedNum++,WC.error(\"[\".concat(this._moderationId,\"] Error response from worke, code is \").concat(t.code,\", msg is \").concat(t.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout((()=>{iv.reportApiInvoke(this._connectInfo.sid||null,{name:sS.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,t.code],tag:oS.TRACER}).onError(new Mv(xg.IMAGE_MODERATION_UPLOAD_FAILED,t.msg)),this._uploadTimer=null}),kC(\"IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL\"))))}else WC.error(\"[\".concat(this._moderationId,\"] Unexpected message type from worker\"))})),this._workerConnection.on(Cv.WILL_RECONNECT,((e,t,i)=>{\"recover\"===e&&i(e),i(\"tryNext\")})),this._workerConnection.on(Cv.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){const e=SS(this,II.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void(kC(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&WC.debug(\"Only the track being played can be inspected\"));this._sequence++;const i=await this.generateRequestData(e,t);this._workerConnection.sendMessage(i,!0,!0)}else kC(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&WC.debug(\"Only the track being published can be inspected\")}async generateRequestData(e,t){let{appId:i,cname:n,cid:r,vid:s,sid:o,uid:a}=t;const c=Date.now(),d=await e.getCurrentFrameImage(\"image/jpeg\",this.quality),l=await _b(d,i,n),h=this._sequence+\"-\"+r+\"-\"+a+\"-\"+c+\"-\"+xS(12,\"\"),u={appId:i,cid:r,cname:n,deviceId:\"\",elapse:TM.intToLong(Number(c-this._moderationStartTime)),fileSize:d.buffer.byteLength,height:d.height,width:d.width,jpg:l,networkType:6,osType:7,requestId:h,sdkVersion:\"4.19.1\",sequence:this._sequence,sid:o,timestamp:gM(c),uid:a,vid:s,service:this._moderationMode,ticket:this._ticket},p=Gk(u);if(p.byteLength<this._workerMessageLengthLimit){if(kC(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")){const e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?SM(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):SM(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},u);delete e.jpg,WC.debug(\"[\".concat(this._moderationId,\"] Request message for worker of image moderation service: \"),JSON.stringify(e))}return p}{const t=this.quality*this._qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:i,cname:n,cid:r,vid:s,sid:o,uid:a})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=EC.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=vI.CLOSED,this.emit(II.STATE_CHANGE,yI.CLOSED)}}function RM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function CM(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?RM(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):RM(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class vM extends OI{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}constructor(e,t,i){super(e,t),nu(this,\"direction\",void 0),nu(this,\"store\",void 0),nu(this,\"peerConnection\",void 0),nu(this,\"transportEventReceiver\",void 0),nu(this,\"statsFilter\",void 0),nu(this,\"localCandidateCount\",0),nu(this,\"allCandidatesReceived\",!1),nu(this,\"mutex\",new YS(\"P2PConnection-mutex\")),nu(this,\"dataChannel\",void 0),nu(this,\"onLocalCandidate\",void 0),this.store=t,this.peerConnection=new RTCPeerConnection(vM.resolvePCConfiguration(e),{optional:[{googDscp:!0}]}),this.direction=null!=i?i:Rv.SEND_ONLY,this.dataChannel=this.peerConnection.createDataChannel(\"agora-p2p-signal\",{ordered:!0}),this.statsFilter=wL(this.peerConnection,kC(\"STATS_UPDATE_INTERVAL\"),void 0,Rg()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(e){try{if(e){await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const t=await this.peerConnection.createAnswer();if(await this.peerConnection.setLocalDescription(t),!t.sdp)throw new Error(\"Cannot get answer sdp when trying to establish PeerConnection.\");return t.sdp}{const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");return await this.peerConnection.setLocalDescription(e),e.sdp}}catch(e){throw new Vg(xg.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e){try{await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:e})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(e.toString()))}}async addRemoteCandidate(e){try{await this.peerConnection.addIceCandidate(e)}catch(e){throw new Vg(xg.ADD_CANDIDATE_FAILED,\"P2PConnection.addRemoteCandidate failed; \".concat(e.toString()))}}async send(e){try{const t=[];e.forEach((e=>{const i=this.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:\"sendonly\"});t.push(i)})),Rg()&&!0===kC(\"SIMULCAST\")&&await this.applySimulcastForFirefox(t,e),await this.applySimulcastEncodings(t,e),await this.applySendEncodings(t,e);const i=await this.peerConnection.createOffer();if(await this.peerConnection.setLocalDescription(i),!i.sdp)throw new Error(\"Cannot get offer.sdp when trying to send PeerConnection.\");const n=t.map((e=>{const t=this.getLocalSSRC(e.mid,i.sdp);if(!t)throw new Error(\"Cannot get ssrc when trying to send PeerConnection.\");return{mid:e.mid,localSSRC:[{ssrcId:t}]}}));return{sdp:i.sdp,trackMessage:n}}catch(e){throw e instanceof Vg?e:new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(e.toString()))}}async stopSending(e,t){const i=t?void 0:await this.mutex.lock(\"From P2PConnection.stopSending\");try{const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length (\".concat(t.length,\") doesn't match mids' length (\").concat(e.length,\") when trying to call P2PConnection.stopSending.\"));t.map((e=>{var t;e.direction=\"inactive\",null===(t=e.stop)||void 0===t||t.call(e),this.peerConnection.removeTrack(e.sender)}));const n=await this.peerConnection.createOffer();if(await this.peerConnection.setLocalDescription(n),!n.sdp)throw new Error(\"Cannot get offer.sdp when trying to send PeerConnection.\");return n.sdp}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(e.toString()))}finally{i&&i()}}async receive(e,t,i){try{await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();if(!n.sdp)throw new Error(\"Cannot get answer sdp when trying to receive track.\");await this.peerConnection.setLocalDescription(n),WC.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\"));const r=this.getRemoteMid(i,t);if(void 0===r)throw new Error(\"Cannot get transceiver mid when trying to receive track.\");const s=this.peerConnection.getTransceivers().find((e=>e.mid===r));if(!s||null===s.mid)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:s.receiver.track,mid:s.mid,sdp:n.sdp}}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async setDescription(e,t){try{if(\"remote\"===e){await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const i=await this.peerConnection.createAnswer();if(!i.sdp)throw new Error(\"Cannot get answer sdp when trying to receive track.\");return await this.peerConnection.setLocalDescription(i),WC.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] exchanging SDP, type is \").concat(e)),i.sdp}await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:t})}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection.setDescription failed; \".concat(e.toString()))}}async stopReceiving(e,t){try{const i=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(i.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");i.map((e=>{var t;e.direction=\"inactive\",null===(t=e.stop)||void 0===t||t.call(e)})),await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();if(await this.peerConnection.setLocalDescription(n),!n.sdp)throw new Error(\"Cannot get answer sdp when trying to receive track.\");return n.sdp}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}async restartICE(){try{const e=await this.peerConnection.createOffer({iceRestart:!0});if(!e.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");return this.store.descriptionStart(),await this.peerConnection.setLocalDescription(e),e.sdp}catch(e){throw new Vg(xg.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transportEventReceiver=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){}async updateSendParameters(e,t){const i=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===i.length&&(this.isVP8Simulcast(t)?Rg()||await this.applySimulcastEncodings(i,[t]):await this.applySendEncodings(i,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getTransceivers().find((e=>e.mid===t));i&&await i.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:i,remote:n}=t.getSelectedCandidatePair();return{local:CM(CM({},uL),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port}),remote:CM(CM({},uL),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{var t;e.candidate&&(null===(t=this.onLocalCandidate)||void 0===t||t.call(this,e.candidate));e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,WC.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,WC.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))}),kC(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(e){const t={iceServers:[]};return e.iceServers?t.iceServers=e.iceServers:e.turnServer&&\"off\"!==e.turnServer.mode&&(_S(e.turnServer.servers)?t.iceServers=e.turnServer.servers:(t.iceServers&&t.iceServers.push(...vM.turnServerConfigToIceServers(e.turnServer.servers)),kC(\"USE_TURN_SERVER_OF_GATEWAY\")&&t.iceServers&&e.turnServer.serversFromGateway&&t.iceServers.push(...vM.turnServerConfigToIceServers(e.turnServer.serversFromGateway)),kC(\"FORCE_TURN_TCP\")?t.iceTransportPolicy=\"relay\":e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(t.iceTransportPolicy=\"relay\")})))),kC(\"ENABLE_ENCODED_TRANSFORM\")&&hA().supportWebRTCEncodedTransform&&(t.encodedInsertableStreams=!0),t}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.tcpport&&(t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(hD(e.turnServerURL),\":\").concat(e.tcpport,\"?transport=tcp\")}),t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=udp\")}),t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"stun:\".concat(e.turnServerURL,\":\").concat(e.tcpport)}))})),t}tryBindTransportEvents(e){const t=e.transport;if(t){this.transportEventReceiver=e,t.onstatechange=()=>{var e;null!=t&&t.state&&(null===(e=this.onDTLSTransportStateChange)||void 0===e||e.call(this,t.state))},t.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,\"error\"in e?e.error:e)};const i=t.iceTransport;i&&(i.onstatechange=()=>{const e=null==t?void 0:t.iceTransport.state;var i;e&&(null===(i=this.onICETransportStateChange)||void 0===i||i.call(this,e))},i.getSelectedCandidatePair&&(i.onselectedcandidatepairchange=()=>{if(i.getSelectedCandidatePair()){const{local:e,remote:t}=i.getSelectedCandidatePair();WC.info(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] selectedcandidatepairchange: local \").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol}),\", remote \").concat(JSON.stringify({candidateType:t.type,protocol:t.protocol,address:t.address,port:t.port}),\" )\"))}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var i;if(!t){t=this.peerConnection.getSenders().find((t=>t.track===e._mediaStreamTrack))}if(!t)return WC.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(this.isVP8Simulcast(e))return WC.warn(\"[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings\");if(!hA().supportSetRtpSenderParameters)return WC.warn(\"[updateRtpSenderEncodings] Browser not support set rtp-sender parameters\");const n={},r={};switch(e._optimizationMode){case\"motion\":n.degradationPreference=\"maintain-framerate\";break;case\"detail\":n.degradationPreference=\"maintain-resolution\";break;default:n.degradationPreference=\"balanced\"}if(e._encoderConfig){var s;const{bitrateMax:t,frameRate:i,scaleResolutionDownBy:n}=e._encoderConfig;t&&(r.maxBitrate=1e3*t),Pr(s=e._hints).call(s,Dy.LOW_STREAM)&&(i&&(r.maxFramerate=pD(i)),n&&n>=1&&(r.scaleResolutionDownBy=n))}if(kC(\"DSCP_TYPE\")&&kg()){var o;const e=kC(\"DSCP_TYPE\");Pr(o=[\"very-low\",\"low\",\"medium\",\"high\"]).call(o,e)&&(r.networkPriority=e)}const a=t.getParameters(),c=null===(i=a.encodings)||void 0===i?void 0:i[0];Rg()&&!c&&(n.encodings=[r]),c&&Object.assign(c,r),Object.assign(a,n),WC.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(a.encodings))),await t.setParameters(a)}async applySendEncodings(e,t){try{if(!hA().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let i=0;i<e.length;i++){const n=e[i],r=t[i];r instanceof fb&&!this.isVP8Simulcast(r)&&await this.updateRtpSenderEncodings(r,n.sender)}}catch(e){WC.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"))}}mungSendOfferSDP(e,t,i){const n=GP.parse(e);return t.forEach(((e,t)=>{const r=i[t],s=n.mediaDescriptions.find((e=>e.attributes.mid===r));s&&(XP(s,e),tL(s,e,this.store.codec))})),GP.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let a=0;a<e.length;a++){var i,n,r,s,o;const c=e[a],d=t[a];if(d instanceof fb&&!Pr(i=d._hints).call(i,Dy.LOW_STREAM)&&null!==(n=d._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=d._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(s=d._scalabilityMode)&&void 0!==s&&s.numSpatialLayers&&(null===(o=d._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1&&\"vp8\"===this.store.codec){const e={},t={high:1e3*(d._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:\"m\",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:t.high}];const i=c.sender.getParameters();await c.sender.setParameters(Object.assign(i,e))}}}async applySimulcastEncodings(e,t){if(!Rg()&&e.length===t.length)for(let i=0;i<e.length;i++){const n=t[i];if(n instanceof fb&&this.isVP8Simulcast(n)){const t=e[i],r={},s={high:1e3*(n._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:s.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:s.medium,scaleResolutionDownBy:4}];const o=t.sender.getParameters();await t.sender.setParameters(Object.assign(o,r))}}}isVP8Simulcast(e){var t,i,n,r,s;return!!(e instanceof fb&&kC(\"SIMULCAST\")&&\"vp8\"===this.store.codec&&!Pr(t=e._hints).call(t,Dy.LOW_STREAM)&&null!==(i=e._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(s=e._scalabilityMode)||void 0===s?void 0:s.numSpatialLayers)>1)}logSDPExchange(e,t,i,n){if(kC(\"SDP_LOGGING\"))return WC.upload(\"[\".concat(this.store.clientId,\"] exchanging \").concat(i,\" \").concat(t,\" SDP during P2PConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}getLocalSSRC(e,t){var i,n;if(t=null!==(i=t)&&void 0!==i?i:null===(n=this.currentLocalDescription)||void 0===n?void 0:n.sdp){var r;const i=null===(r=GP.parse(t).mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===r?void 0:r.attributes.ssrcs;return null==i?void 0:i[0].ssrcId}}getRemoteMid(e,t){var i,n;if(t=null!==(i=t)&&void 0!==i?i:null===(n=this.currentRemoteDescription)||void 0===n?void 0:n.sdp){var r;return null===(r=GP.parse(t).mediaDescriptions.find((t=>t.attributes.ssrcs.some((t=>t.ssrcId===e)))))||void 0===r?void 0:r.attributes.mid}}async getRemoteSSRC(e,t){var i,n;if(t=null!==(i=t)&&void 0!==i?i:null===(n=this.currentRemoteDescription)||void 0===n?void 0:n.sdp){var r;const i=null===(r=GP.parse(t).mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===r?void 0:r.attributes.ssrcs;return null==i?void 0:i[0].ssrcId}}}function IM(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From P2PConnection.\".concat(t));try{for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return await n.apply(this,s)}finally{i()}},i}var yM;function AM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function bM(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?AM(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):AM(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}Lv([IM,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],vM.prototype,\"establish\",null),Lv([IM,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],vM.prototype,\"connect\",null),Lv([IM,kv(\"design:type\",Function),kv(\"design:paramtypes\",[RTCIceCandidate]),kv(\"design:returntype\",tg)],vM.prototype,\"addRemoteCandidate\",null),Lv([IM,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],vM.prototype,\"send\",null),Lv([IM,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,String,Number]),kv(\"design:returntype\",tg)],vM.prototype,\"receive\",null),Lv([IM,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,String]),kv(\"design:returntype\",tg)],vM.prototype,\"setDescription\",null),Lv([IM,kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array,String]),kv(\"design:returntype\",tg)],vM.prototype,\"stopReceiving\",null),Lv([IM,kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",tg)],vM.prototype,\"restartICE\",null),Lv([IM,kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],vM.prototype,\"close\",null),Lv([IM,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,$y]),kv(\"design:returntype\",tg)],vM.prototype,\"updateEncoderConfig\",null),Lv([IM,kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,$y]),kv(\"design:returntype\",tg)],vM.prototype,\"updateSendParameters\",null),Lv([IM,kv(\"design:type\",Function),kv(\"design:paramtypes\",[$y,String]),kv(\"design:returntype\",tg)],vM.prototype,\"replaceTrack\",null),function(e){e.SEND_ONLY=\"SEND_ONLY\",e.RECEIVE_ONLY=\"RECEIVE_ONLY\"}(yM||(yM={}));class wM extends iS{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(_I.StateChange,t,this._state)}constructor(e,t){super(),nu(this,\"store\",void 0),nu(this,\"statsUploader\",void 0),nu(this,\"sendConnection\",void 0),nu(this,\"recvConnection\",void 0),nu(this,\"localTrackMap\",new Map),nu(this,\"remoteUserMap\",new Map),nu(this,\"localDataChannels\",[]),nu(this,\"pendingLocalTracks\",[]),nu(this,\"pendingRemoteTracks\",[]),nu(this,\"statsCollector\",void 0),nu(this,\"dtlsFailedCount\",0),nu(this,\"sendMutex\",new YS(\"P2PChannel2-send-mutex\")),nu(this,\"recvMutex\",new YS(\"P2PChannel2-recv-mutex\")),nu(this,\"_state\",pI.Disconnected),nu(this,\"_restartStates\",[\"disconnected\",\"failed\"]),nu(this,\"_restartTimer\",void 0),nu(this,\"handleMuteLocalTrack\",(async(e,t,i)=>{const n=await this.sendMutex.lock(\"Locking from P2PChannel2.handleMuteLocalTrack\");try{if(!this.sendConnection||this.state!==pI.Connected)return void i(new Vg(xg.INVALID_OPERATION,\"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.\"));const o=this.filterTobeMutedTracks(e);if(0===o.length)return void t();const a=o.find((e=>\"videoLowTrack\"===e[0]));if(a){a[1].track._originMediaStreamTrack.stop()}let c=!1;var r,s;if(\"video\"===e.trackMediaType)c=!(null===(r=this.localTrackMap.get(uI.LocalAudioTrack))||void 0===r||!r.track._muted);else c=void 0===(null===(s=this.localTrackMap.get(uI.LocalVideoTrack))||void 0===s?void 0:s.id);const d=o.filter((e=>{let[t,i]=e;return(t!==uI.LocalAudioTrack||c)&&void 0!==i.id})).map((e=>{let[,t]=e;return t}));let l;d.length>0&&(l=await this.sendConnection.stopSending(d.map((e=>e.id))),d.forEach((e=>{e.id=void 0,e.ssrcs=void 0})));const h=this.createMuteMessage(o),u=\"video\"===e.trackMediaType?bI.MUTE_LOCAL_VIDEO:bI.MUTE_LOCAL_AUDIO,p=await fS(this,_I.RequestP2PMuteLocal,{action:u,sdp:l,message:h,isMuteAll:c});p&&await this.sendConnection.setDescription(\"local\",p),(l||\"audio\"===e.trackMediaType)&&await gS(this,_I.RequestMuteLocal,h),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleUnmuteLocalTrack\",(async(e,t,i)=>{const n=await this.sendMutex.lock(\"Locking from P2PChannel2.handleUnmuteLocalTrack\");try{if(!this.sendConnection||this.state!==pI.Connected)return void i(new Vg(xg.INVALID_OPERATION,\"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established.\"));const r=this.filterTobeUnmutedTracks(e);if(0===r.length)return void t();const s=this.createUnmuteMessage(r),o=\"video\"===e.trackMediaType?bI.UNMUTE_LOCAL_VIDEO:bI.UNMUTE_LOCAL_AUDIO;await gS(this,_I.RequestP2PMuteLocal,{action:o,message:s}),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleUpdateVideoEncoder\",(async(e,t,i)=>{const n=await this.sendMutex.lock(\"Locking from P2PChannel2.handleSetVideoEncoder\");try{const i=this.localTrackMap.get(uI.LocalVideoTrack);if(!this.sendConnection||!i||i.track!==e||this.state!==pI.Connected)return void t();const{id:r,track:s}=i;r&&(await this.sendConnection.updateSendParameters(r,s),await this.sendConnection.updateEncoderConfig(r,s),this.emit(_I.UpdateVideoEncoder,s)),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleSetOptimizationMode\",(async(e,t,i)=>{const n=await this.sendMutex.lock(\"Locking from P2PChannel2.handleSetOptimizationMode\");try{const i=this.localTrackMap.get(uI.LocalVideoTrack);if(!this.sendConnection||!i||i.track!==e||this.state!==pI.Connected)return;const{id:r,track:s}=i;r&&await this.sendConnection.updateSendParameters(r,s),t()}catch(e){i(e)}finally{n()}})),nu(this,\"handleReplaceTrack\",(async(e,t,i,n)=>{let r;WC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2 handleReplaceTrack for [track-id-\").concat(e.getTrackId(),\"]\")),\"boolean\"==typeof n&&n||(r=await this.sendMutex.lock(\"From P2PChannel2.handleReplaceTrack\"));try{var s;const i=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(!this.sendConnection||!i||void 0===i[1].id||this.state!==pI.Connected)return void t();if(await(null===(s=this.sendConnection)||void 0===s?void 0:s.replaceTrack(e,i[1].id)),i[0]===uI.LocalVideoTrack&&hA().supportDualStreamEncoding){const t=this.localTrackMap.get(uI.LocalVideoLowTrack);if(t){const i=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i,await new tg(((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)}))}}t()}catch(e){i(e)}finally{var o;null===(o=r)||void 0===o||o()}})),nu(this,\"handleGetLocalVideoStats\",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),nu(this,\"handleGetLocalAudioStats\",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),nu(this,\"handleGetRemoteVideoStats\",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),nu(this,\"handleGetRemoteAudioStats\",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new sk,this.bindStatsUploaderEvents()}async startP2PConnection(e,t){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support startP2PConnection.\")}async connect(e,t,i,n,r,s){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support connect.\")}async startP2P(e,t){if(this.state=pI.New,this.sendConnection&&(WC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2P reset P2PConnection.\")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),this.recvConnection&&(WC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2P reset P2PConnection.\")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),this.sendConnection=new vM(e,this.store),this.bindConnectionEvents(this.sendConnection),this.recvConnection=new vM(e,this.store,Rv.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection),t){this.store.peerConnectionStart(),await this.recvConnection.establish(t);const e=await this.sendConnection.establish(t);return this.statsUploader.startUploadTransportStats(!0),this.statsUploader.startUploadExtensionUsageStats(),this.state=pI.Connected,e}return await this.recvConnection.establish(t),this.sendConnection.establish(t)}async p2pConnect(e){if(!this.sendConnection||!this.recvConnection)throw new Vg(xg.UNEXPECTED_ERROR,\"Cannot P2PChannel2.connect before P2PChannel2.startP2PConnection .\");this.store.peerConnectionStart(),await this.recvConnection.connect(e),await this.sendConnection.connect(e),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=pI.Connected}async addRemoteCandidate(e){if(!this.sendConnection||!this.recvConnection)throw new Vg(xg.UNEXPECTED_ERROR,\"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .\");await this.recvConnection.addRemoteCandidate(e),await this.sendConnection.addRemoteCandidate(e)}async publish(e,t,i){if(!this.sendConnection||this.state!==pI.Connected){this.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===this.pendingLocalTracks.indexOf(e)));return void(this.pendingLocalTracks=this.pendingLocalTracks.concat(t))}this.store.pubId=this.store.pubId+1,sD.markPublishStart(this.store.clientId,this.store.pubId);const n=this.filterTobePublishedTracks(e,t,i);if(0===n.length)return void await this.tryToUnmuteAudio(e);n.forEach((e=>{let{track:t,type:i}=e;const n=Date.now();this.store.publish(t.getTrackId(),i===uI.LocalAudioTrack?\"audio\":\"video\",n)})),this.bindLocalTrackEvents(n);const r=this.createGatewayPublishMessage(n);return this.assignLocalTracks(n),n.forEach((e=>{let{track:t,type:i}=e;const n=Date.now();this.store.publish(t.getTrackId(),i===uI.LocalAudioTrack?\"audio\":\"video\",void 0,n)})),r}async dopublish(e){if(!this.sendConnection||this.state!==pI.Connected)return;const t=this.localTrackMap.get(e);if(t){const{sdp:i,trackMessage:n}=await this.sendConnection.send([t.track]),{mid:r,localSSRC:s}=n[0];t.id=r,t.ssrcs=s,this.statsCollector.addLocalStats(e),this.statsUploader.startUploadUplinkStats();const o=await fS(this,_I.RequestP2PPublish,{kind:e===uI.LocalAudioTrack?dI.AUDIO:dI.VIDEO,sdp:i,ssrcId:s[0].ssrcId});await this.sendConnection.setDescription(\"local\",o);const a=this.createUnmuteMessage([[e,t]]);await gS(this,_I.RequestUnmuteLocal,a)}else;}async setDescription(e,t){let i,n;\"local\"===e?(i=await this.sendMutex.lock(\"From P2PChannel.restartICE\"),n=this.sendConnection):(i=await this.recvMutex.lock(\"From P2PChannel.restartICE\"),n=this.recvConnection);try{if(!n||this.state!==pI.Connected)return;return await n.setDescription(e,t)}finally{i()}}publishLowStream(e){return xP((function*(){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support publishLowStream.\")}))()}async republish(){this.pendingLocalTracks.length>0&&(WC.debug(\"[\".concat(this.store.clientId,\"] Emit P2PChannelEvents.RequestRePublish to republish tracks.\")),await fS(this,_I.RequestRePublish,this.pendingLocalTracks),this.emit(_I.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async unpublish(e){if(!this.sendConnection||this.state!==pI.Connected)return void(0===e.length?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter((t=>!Pr(e).call(e,t))));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:i}]=e;return{type:t,track:i}})));const i=t.filter((e=>{let[,{id:t}]=e;return void 0!==t}));if(!this.sendConnection||this.state!==pI.Connected)return void e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}));const n=t.find((e=>\"videoLowTrack\"===e[0]));if(n){n[1].track.close()}let r;const s=this.createGatewayUnpublishMessage(t);i.length>0&&(r=await this.sendConnection.stopSending(i.map((e=>{let[,{id:t}]=e;return t})))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:i}]=e;return{type:t,track:i}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&this.statsUploader.stopUploadUplinkStats();const o=this.createMuteMessage(t);return await tg.all(o.map((async e=>{await gS(this,_I.RequestMuteLocal,[e])}))),{sdp:r,unpubMsg:s}}async unpublishLowStream(){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support unpublishLowStream.\")}async doUnpublish(e){if(!this.sendConnection||this.state!==pI.Connected)return;const t=[];if(e!==dI.AUDIO){const e=this.localTrackMap.get(uI.LocalVideoTrack);void 0!==(null==e?void 0:e.id)&&t.push([uI.LocalVideoTrack,e]);const i=this.localTrackMap.get(uI.LocalVideoLowTrack);void 0!==(null==i?void 0:i.id)&&t.push([uI.LocalVideoLowTrack,i]),this.statsCollector.removeLocalStats(uI.LocalVideoTrack),this.statsCollector.removeLocalStats(uI.LocalVideoLowTrack)}if(e!==dI.VIDEO){const e=this.localTrackMap.get(uI.LocalAudioTrack);void 0!==(null==e?void 0:e.id)&&t.push([uI.LocalAudioTrack,e]),this.statsCollector.removeLocalStats(uI.LocalAudioTrack)}if(t.length>0){const i=await this.sendConnection.stopSending(t.map((e=>{let[,t]=e;return t.id})));t.forEach((e=>{let[,t]=e;t.id=void 0,t.ssrcs=void 0}));const n=await fS(this,_I.RequestP2PUnPublish,{sdp:i,kind:e});await this.sendConnection.setDescription(\"local\",n);const r=this.createMuteMessage(t);await tg.all(r.map((async e=>{await gS(this,_I.RequestMuteLocal,[e])})))}else;}async subscribe(e,t,i,n){var r;if(!this.recvConnection||this.state!==pI.Connected)throw new Vg(xg.INVALID_OPERATION,\"Cannot subscribe remote user when recvConnection disconnected.\");if(null!==(r=this.remoteUserMap.get(e))&&void 0!==r&&r.has(t))return;const{track:s,mid:o,sdp:a}=await this.recvConnection.receive(t,i,n);t===dI.AUDIO?(e._audioSSRC=n,e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(s):(e._audioTrack=new Ab(s,e.uid,e._uintid,this.store),WC.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(e._audioTrack.getTrackId()))),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoSSRC=n,e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(s):(e._videoTrack=new yb(s,e.uid,e._uintid,this.store),WC.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(e._videoTrack.getTrackId()))),this.bindRemoteTrackEvents(e,e._videoTrack));const c=this.remoteUserMap.get(e);c?c.set(t,o):this.remoteUserMap.set(e,new Map([[t,o]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadDownlinkStats(),await gS(this,_I.RequestP2PUnmuteRemote,t);const d=this.pendingRemoteTracks.findIndex((i=>{let{user:n,kind:r}=i;return n.uid===e.uid&&t===r}));return-1!==d&&(this.pendingRemoteTracks.splice(d,1),this.emit(_I.MediaReconnectEnd,e.uid)),a}async unsubscribe(e,t,i,n){const r=this.pendingRemoteTracks.filter((t=>{let{user:n,kind:r}=t;return void 0!==i?n.uid===e.uid&&i===r:n.uid===e.uid}));if(r.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.recvConnection&&this.state===pI.Connected||n||r.forEach((t=>{let{kind:i}=t;var n;if(i===dI.AUDIO)null===(n=e._audioTrack)||void 0===n||n._destroy(),e._audioTrack=void 0;else if(i===dI.VIDEO){var r;null===(r=e._videoTrack)||void 0===r||r._destroy(),e._videoTrack=void 0}})),!this.recvConnection||this.state!==pI.Connected)return;const s=this.filterTobeUnSubscribedTracks(e,i);if(0===s.length)return void(i!==dI.VIDEO&&gS(this,_I.RequestP2PMuteRemote,dI.AUDIO));const o=await this.recvConnection.stopReceiving(s.map((e=>{let[,{id:t}]=e;return t})),t);return this.withdrawRemoteTracks(s),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),s.forEach((e=>{let[t,{kind:i}]=e;var r,s;i===dI.VIDEO&&t._videoSSRC&&(null===(r=this.recvConnection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1));if(i===dI.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),n||(null===(s=t._videoTrack)||void 0===s||s._destroy(),t._videoTrack=void 0);else if(i===dI.AUDIO){var o;if(this.unbindRemoteTrackEvents(t._audioTrack),!n)null===(o=t._audioTrack)||void 0===o||o._destroy(),t._audioTrack=void 0}})),s.filter((e=>{let[,{kind:t}]=e;return t!==dI.AUDIO})).forEach((e=>{let[,{kind:t}]=e;gS(this,_I.RequestP2PMuteRemote,t)})),i!==dI.VIDEO&&gS(this,_I.RequestP2PMuteRemote,dI.AUDIO),o}getAllDataChannels(){return this.localDataChannels}async massSubscribe(e){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support massSubscribe.\")}async massSubscribeNoLock(e){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support massSubscribeNoLock.\")}async massUnsubscribe(e){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support massUnsubscribe.\")}async massUnsubscribeNoLock(e){throw new Vg(xg.NOT_SUPPORTED,\"p2p mode does not support massUnsubscribeNoLock.\")}async muteRemote(e,t){if(!this.recvConnection)return;const i=this.remoteUserMap.get(e);if(!i)return void WC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.muteRemote has no remote user \").concat(e.uid,\".\"));if(!i.get(t))return void WC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.muteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"));const n=t===dI.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==n&&this.recvConnection.setStatsRemoteVideoIsReady(n,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.recvConnection)return;const i=this.remoteUserMap.get(e);if(!i)return void WC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.unmuteRemote has no remote user \").concat(e.uid,\".\"));i.get(t)||WC.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.unmuteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"))}getAllTracks(e){const t=this.localTrackMap.get(uI.LocalAudioTrack);if((null==t?void 0:t.track)instanceof ZA){const i=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==uI.LocalAudioTrack})).filter((t=>{let[i]=t;return!(e&&i===uI.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(i.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[i]=t;return!(e&&i===uI.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}reportPublishEvent(e,t,i,n,r){if(e){const i=this.localTrackMap.get(uI.LocalAudioTrack),s=n?this.localTrackMap.get(uI.LocalVideoLowTrack):this.localTrackMap.get(uI.LocalVideoTrack);iv.publish(this.store.sessionId,{eventElapse:sD.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==i?void 0:i.track.getTrackLabel(),videoName:null==s?void 0:s.track.getTrackLabel(),screenshare:-1!==(null==s?void 0:s.track._hints.indexOf(Dy.SCREEN_TRACK)),audio:!!i,video:!!s,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{var s;i||(i=[]);const o=i.find((e=>e instanceof zA)),a=n?null===(s=this.localTrackMap.get(uI.LocalVideoTrack))||void 0===s?void 0:s.track:i.find((e=>e instanceof fb));iv.publish(this.store.sessionId,{eventElapse:sD.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==o?void 0:o.getTrackLabel(),videoName:null==a?void 0:a.getTrackLabel(),screenshare:-1!==(null==a?void 0:a._hints.indexOf(Dy.SCREEN_TRACK)),audio:!!o,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}reportSubscribeEvent(e,t,i,n){const r=n===dI.VIDEO?i._videoSSRC:i._audioSSRC;r&&iv.subscribe(this.store.sessionId,{succ:e,ec:t,video:n===dI.VIDEO,audio:n===dI.AUDIO,peerid:i.uid,subscribeRequestid:n===dI.VIDEO?i._videoSSRC:i._audioSSRC,p2pid:this.store.p2pId,eventElapse:sD.measureFromSubscribeStart(this.store.clientId,r)})}reset(){WC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2.reset\")),this.sendMutex=new YS(\"P2PChannel2-send-mutex\"),this.sendMutex=new YS(\"P2PChannel2-recv-mutex\"),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(uI.LocalAudioTrack);if((null==e?void 0:e.track)instanceof ZA){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach((e=>{t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.state=pI.Disconnected}getStats(e){var t,i;return e?null===(i=this.recvConnection)||void 0===i?void 0:i.getStats():null===(t=this.sendConnection)||void 0===t?void 0:t.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.recvConnection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(uI.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(uI.LocalVideoTrack);if(e)return{width:e.track._videoWidth||0,height:e.track._videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof fb||t&&t.track instanceof zA?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}getRemoteMedia(e){var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return i?{audioTrack:i.audioTrack,audioSSRC:i._audioSSRC,videoTrack:i.videoTrack,videoSSRC:i._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(uI.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=Zu(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&(WC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2.disconnectForReconnect closing P2PConnection\")),this.state=pI.Reconnecting,kC(\"KEEP_LAST_FRAME\")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t]=e;var i;t._videoTrack&&t._videoTrack._player&&(null===(i=t._videoTrack._player.getVideoElement())||void 0===i||i.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())})),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{var t;let[i,{track:n}]=e;switch(i){case uI.LocalVideoTrack:Pr(t=n._hints).call(t,Dy.LOW_STREAM)?n.close():this.pendingLocalTracks.push(n);break;case uI.LocalAudioTrack:n instanceof ZA?this.pendingLocalTracks=this.pendingLocalTracks.concat(n.trackList):this.pendingLocalTracks.push(n);case uI.LocalVideoLowTrack:}})),this.emit(_I.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;Array.from(hu(i).call(i)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(_I.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),WC.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2 disconnected, waiting to reconnect.\")))}hasPendingRemoteMedia(e,t){for(const i of this.pendingRemoteTracks){const{user:n,kind:r}=i;if((e instanceof bP?e.uid:e)===n.uid&&t===r)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}async restartICE(e){let t;t=e.direction===Rv.SEND_ONLY?await this.sendMutex.lock(\"From P2PChannel.restartICE\"):await this.recvMutex.lock(\"From P2PChannel.restartICE\");try{const i=await e.restartICE(),n=await fS(this,_I.RequestP2PRestartICE,i);e.setDescription(\"local\",n)}finally{t()}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;const e=this.sendConnection.getStats(),t=this.localTrackMap.get(uI.LocalVideoTrack),i=this.localTrackMap.get(uI.LocalAudioTrack),n=e.videoSend.find((e=>{var i;return e.ssrc===(null==t||null===(i=t.ssrcs)||void 0===i?void 0:i[0].ssrcId)})),r=e.audioSend.find((e=>{var t;return e.ssrc===(null==i||null===(t=i.ssrcs)||void 0===t?void 0:t[0].ssrcId)}));if(!n||!r)return 1;const s=SS(this,_I.NeedSignalRTT),o=n?n.rttMs:void 0,a=r?r.rttMs:void 0,c=o&&a?(o+a)/2:o||a,d=(c&&s?(c+s)/2:c||s)||0,l=100*e.sendPacketLossRate*.7/50+.3*d/1500,h=l<.17?1:l<.36?2:l<.59?3:l<.1?4:5,u=null==t?void 0:t.track;if(u&&u._encoderConfig&&-1===u._hints.indexOf(Dy.SCREEN_TRACK)){const t=u._encoderConfig.bitrateMax,i=e.bitrate.actualEncoded;if(t&&i){const e=(1e3*t-i)/(1e3*t);return sv[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][h]}}return h}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;const e=this.recvConnection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((i=>{let[n]=i;const r=n._audioSSRC,s=n._videoSSRC,o=e.audioRecv.find((e=>e.ssrc===r)),a=e.videoRecv.find((e=>e.ssrc===s));if(!o&&!a)return void(t+=1);const c=SS(this,_I.NeedSignalRTT),d=e.rtt,l=(d&&c?(d+c)/2:d||c)||0,h=o?o.jitterMs:void 0,u=e.recvPacketLossRate;let p=.7*u*100/50+.3*l/1500;h&&(p=.6*u*100/50+.2*l/1500+.2*h/400);t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new tg(((t,i)=>{this.handleMuteLocalTrack(e,t,i)}))}filterTobePublishedTracks(e,t,i){const n=[],r=hA(),s=this.getAllTracks();e=yS(e=e.filter((e=>-1===s.indexOf(e))));let o=!1,a=!1;for(const s of e){if(s instanceof fb&&(this.localTrackMap.has(uI.LocalVideoTrack)||o?new Vg(xg.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(n.push({track:s,type:uI.LocalVideoTrack}),o=!0),t)){const e=this.getLowVideoTrack(s,i);n.push({track:e,type:uI.LocalVideoLowTrack})}if(s instanceof zA){const e=this.localTrackMap.get(uI.LocalAudioTrack);if(e){if(!(e.track instanceof ZA))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(s._bypassWebAudio)throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");e.track.addAudioTrack(s),this.bindLocalAudioTrackEvents(s,!0)}else if(a){const e=n.find((e=>{let{type:t}=e;return t===uI.LocalAudioTrack}));if(!(e.track instanceof ZA))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(s._bypassWebAudio)throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");e.track.addAudioTrack(s)}else{if(!r.webAudioMediaStreamDest||s instanceof ZA||s._bypassWebAudio)n.push({track:s,type:uI.LocalAudioTrack});else{const e=new ZA;e.addAudioTrack(s),n.push({track:e,type:uI.LocalAudioTrack})}a=!0}}}return n}filterTobeUnpublishedTracks(e){const t=[],i=this.getAllTracks();e=yS(e=e.filter((e=>-1!==i.indexOf(e))));for(const i of e){if(i instanceof zA){const e=this.localTrackMap.get(uI.LocalAudioTrack);if(!e)continue;e.track instanceof ZA?(e.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),0===e.track.trackList.length&&(t.push([uI.LocalAudioTrack,e]),e.track.close())):t.push([uI.LocalAudioTrack,e])}if(i instanceof fb){const e=this.localTrackMap.get(uI.LocalVideoTrack);if(!e)continue;t.push([uI.LocalVideoTrack,e]);const i=this.localTrackMap.get(uI.LocalVideoLowTrack);i&&t.push([uI.LocalVideoLowTrack,i])}}return t}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:i}=e;switch(i){case uI.LocalVideoTrack:t.addListener(Ny.GET_STATS,this.handleGetLocalVideoStats),t.addListener(Ny.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(Ny.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(Ny.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(Ny.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.addListener(Ny.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(Ny.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(Ny.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case uI.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case uI.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof ZA?e.trackList.forEach((e=>{e.addListener(Ny.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(Ny.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(Ny.GET_STATS,this.handleGetLocalAudioStats),e.addListener(Ny.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(Ny.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener(Ny.GET_STATS,this.handleGetLocalAudioStats),e.addListener(Ny.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(Ny.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(Ny.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(Ny.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(Ny.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:i}]=e;return{track:i,type:t}}))),e.forEach((e=>{let{track:t,type:i}=e;switch(i){case uI.LocalVideoTrack:t.off(Ny.GET_STATS,this.handleGetLocalVideoStats),t.off(Ny.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(Ny.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(Ny.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(Ny.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.off(Ny.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(Ny.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(Ny.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case uI.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case uI.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof ZA?e.trackList.forEach((e=>{e.off(Ny.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(Ny.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(Ny.GET_STATS,this.handleGetLocalAudioStats),e.off(Ny.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(Ny.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off(Ny.GET_STATS,this.handleGetLocalAudioStats),e.off(Ny.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(Ny.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(Ny.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(Ny.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(Ny.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof yb&&t.addListener(Ny.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof Ab&&t.addListener(Ny.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(Ny.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;i.has(dI.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),i.has(dI.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e){return e.map((e=>{var t;let i,n,{track:r,type:s}=e;switch(s){case uI.LocalAudioTrack:i=Qv.Audio,n={dtx:r instanceof XA&&r._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case uI.LocalVideoTrack:i=Pr(t=r._hints).call(t,Dy.SCREEN_TRACK)?Qv.Screen:Qv.High,n=bM(bM({},_D(r)),{},{codec:this.store.codec});break;case uI.LocalVideoLowTrack:i=Qv.Low,n=bM(bM({},_D(r)),{},{codec:this.store.codec})}return{kind:s===uI.LocalAudioTrack?dI.AUDIO:dI.VIDEO,stream_type:i,attributes:n,isMuted:r.muted||!r.enabled}}))}createGatewayUnpublishMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:s,id:o}]=e;switch(n){case uI.LocalVideoTrack:i=Pr(t=r._hints).call(t,Dy.SCREEN_TRACK)?Qv.Screen:Qv.High;break;case uI.LocalAudioTrack:i=Qv.Audio;break;case uI.LocalVideoLowTrack:i=Qv.Low}return{stream_type:i,ssrcs:s,mid:o}}))}assignLocalTracks(e){e.forEach((e=>{let{track:t,type:i}=e;this.localTrackMap.set(i,{track:t})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{var i;if(WC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onConnectionStateChange(\").concat(t,\")\")),this.emit(_I.PeerConnectionStateChange,t),\"connected\"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),Pr(i=this._restartStates).call(i,t)||e.direction===Rv.SEND_ONLY){if(this._restartTimer)return;const t=()=>{if(\"disconnected\"===e.iceConnectionState||\"checking\"===e.iceConnectionState||\"failed\"===e.iceConnectionState){WC.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] start use restartICE\"));\"CONNECTED\"===SS(this,_I.QueryClientConnectionState)&&this.restartICE(e)}};this._restartTimer=window.setTimeout((()=>{t(),this._restartTimer=void 0}),800)}else;},e.onICEConnectionStateChange=e=>{\"connected\"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),WC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICEConnectionStateChange(\").concat(e,\")\")),iv.reportApiInvoke(this.store.sessionId,{name:\"ICEConnectionStateChange\",options:e,tag:oS.TRACER}).onSuccess(),this.emit(_I.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{WC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICETransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportStateChange=e=>{WC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportError=e=>{WC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportError(\").concat(e,\")\"))},e.onFirstAudioDecoded=e=>{var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var n;i&&(this.store.subscribe(i.uid,\"audio\",void 0,void 0,void 0,Date.now()),null===(n=i.audioTrack)||void 0===n||n.emit(xy.FIRST_FRAME_DECODED),iv.firstRemoteFrame(this.store.sessionId,JC.FIRST_AUDIO_DECODE,zC.FIRST_AUDIO_DECODE,{peer:i._uintid,subscribeElapse:sD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));i&&iv.firstRemoteFrame(this.store.sessionId,JC.FIRST_AUDIO_RECEIVED,zC.FIRST_AUDIO_RECEIVED,{peer:i._uintid,subscribeElapse:sD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,i)=>{this.reportVideoFirstFrameDecoded(e,t,i)},e.onFirstVideoReceived=e=>{var t;const i=Array.from(hu(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));i&&iv.firstRemoteFrame(this.store.sessionId,JC.FIRST_VIDEO_RECEIVED,zC.FIRST_VIDEO_RECEIVED,{peer:i._uintid,subscribeElapse:sD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const i=\"relay\"===e.candidateType,n=\"relay\"===t.candidateType;\"unknown\"!==t.candidateType&&i===n||this.emit(_I.ConnectionTypeChange,i),WC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedLocalCandidateChanged(\").concat(JSON.stringify(TD(t)),\" -> \").concat(JSON.stringify(TD(e)),\")\"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{WC.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedRemoteCandidateChanged(\").concat(JSON.stringify(TD(t)),\" -> \").concat(JSON.stringify(TD(e)),\")\"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)},e.onLocalCandidate=e=>{this.emit(_I.LocalCandidate,e)}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.onLocalCandidate=void 0}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const i=this.localTrackMap.get(uI.LocalAudioTrack);if(e instanceof zA&&(null==i?void 0:i.track)instanceof ZA)return i.track.isActive||t.push([uI.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n&&(t.push(n),n[0]===uI.LocalVideoTrack)){const e=this.localTrackMap.get(uI.LocalVideoLowTrack);e&&t.push([uI.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],i=this.localTrackMap.get(uI.LocalAudioTrack);if(e instanceof zA&&(null==i?void 0:i.track)instanceof ZA)return i.track.isActive&&t.push([uI.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n)if(n[0]===uI.LocalVideoTrack){t.push(n);const e=this.localTrackMap.get(uI.LocalVideoLowTrack);e&&t.push([uI.LocalVideoLowTrack,e])}else t.push(n);return t}createMuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:s,id:o}]=e;switch(n){case uI.LocalAudioTrack:i=Qv.Audio;break;case uI.LocalVideoTrack:i=Pr(t=r._hints).call(t,Dy.SCREEN_TRACK)?Qv.Screen:Qv.High;break;case uI.LocalVideoLowTrack:i=Qv.Low}return{stream_type:i,ssrcs:s,mid:o}}))}createUnmuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:s,id:o}]=e;switch(n){case uI.LocalAudioTrack:i=Qv.Audio;break;case uI.LocalVideoTrack:i=Pr(t=r._hints).call(t,Dy.SCREEN_TRACK)?Qv.Screen:Qv.High;break;case uI.LocalVideoLowTrack:i=Qv.Low}return{stream_type:i,ssrcs:s,mid:o}}))}filterTobeUnSubscribedTracks(e,t){const i=[],n=this.remoteUserMap.get(e);if(!n)return i;if(t){const r=n.get(t);if(!r)return i;i.push([e,{kind:t,id:r}])}else Array.from(n.entries()).forEach((t=>{let[n,r]=t;i.push([e,{kind:n,id:r}])}));return i}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[i,{kind:n,id:r}]=e;switch(n){case dI.VIDEO:return void(i._videoSSRC&&t.push({stream_type:dI.VIDEO,ssrcId:i._videoSSRC}));case dI.AUDIO:return void(i._audioSSRC&&t.push({stream_type:dI.AUDIO,ssrcId:i._audioSSRC}))}})),t}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:i}]=e;const n=this.remoteUserMap.get(t);n&&(n.delete(i),0===Array.from(n.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(uI.LocalVideoTrack),i=this.localTrackMap.get(uI.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),i&&e.low_stream_uplink&&await i.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){const e=this.sendConnection.peerConnectionState,t=this.recvConnection.peerConnectionState;return\"connected\"!==e&&\"connected\"!==t}return!0}async tryToUnmuteAudio(e){for(let t=0;t<e.length;t++)if(e[t]instanceof zA){const i=this.filterTobeUnmutedTracks(e[t]);if(0===i.length)continue;const n=this.createUnmuteMessage(i);return void await gS(this,_I.RequestUnmuteLocal,n)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=e=>this.getStats(e),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter((e=>{let[,{ssrcs:t}]=e;return!!t})),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.recvConnection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(_I.RequestUploadStats,e,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await US(zS(this.dtlsFailedCount,JS)),this.emit(_I.RequestReconnect)}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(uI.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof fb))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof fb)).length>1)throw new Vg(xg.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof zA)).length>1&&(e.some((e=>e instanceof zA&&e._bypassWebAudio))||!hA().webAudioMediaStreamDest))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\");for(const t of e){if(t instanceof fb&&this.pendingLocalTracks.some((e=>e instanceof fb)))throw new Vg(xg.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof zA&&this.pendingLocalTracks.some((e=>e instanceof zA))&&(!hA().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof zA&&e._bypassWebAudio))))throw new Vg(xg.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\")}}getLowVideoTrack(e,t){const i=!kC(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&hA().supportDualStreamEncoding,n=bM(bM({},{width:160,height:120,framerate:15,bitrate:50}),t);let r;r=i?e._mediaStreamTrack.clone():jL(e,n);const s=xS(8,\"track-low-\"),o=new fb(r,bM(bM({},i&&{scaleResolutionDownBy:SD(n,e)}),{},{frameRate:n.framerate,bitrateMax:n.bitrate,bitrateMin:n.bitrate}),void 0,void 0,s);return o.on(My.TRANSCEIVER_UPDATED,(t=>{e._updateRtpTransceiver(t,Py.LOW_STREAM)})),o._hints.push(Dy.LOW_STREAM),e.addListener(Ny.NEED_CLOSE,(()=>{o.close()})),o}async globalLock(){return this.recvMutex.lock(\"From P2PChannel2.globalLock\")}reportVideoFirstFrameDecoded(e,t,i,n){var r;const s=Array.from(hu(r=this.remoteUserMap).call(r)).find((t=>t._videoSSRC===e));if(s){n||this.store.subscribe(s.uid,\"video\",void 0,void 0,void 0,void 0,Date.now());const r=this.store.keyMetrics,o=r.subscribe.find((e=>e.userId===s.uid&&\"video\"===e.type));iv.firstRemoteVideoDecode(this.store.sessionId,JC.FIRST_VIDEO_DECODE,zC.FIRST_VIDEO_DECODE,{peer:s._uintid,videowidth:t,videoheight:i,subscribeElapse:sD.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==o?void 0:o.subscribeEnd)||0,subscriberStart:(null==o?void 0:o.subscribeStart)||0,videoAddNotify:(null==o?void 0:o.streamAdded)||0,state:n?1:0})}}async remoteMediaSsrcChanged(e,t,i){if(!this.recvConnection)return!1;const n=this.remoteUserMap.get(e);if(!n)return!1;const r=n.get(t);if(!r)return!1;const s=await this.recvConnection.getRemoteSSRC(r);return void 0!==s&&s!==i}resetConnection(e){WC.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel2] reset connection to \").concat(e)),this.state===pI.Connected?(WC.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel2] fallback to websocket but P2PChannel2 state still connected, disconnect first\")),this.disconnectForReconnect()):(this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0))}async publishDataChannel(e){throw new Vg(xg.NOT_SUPPORTED)}async unpublishDataChannel(e){throw new Vg(xg.NOT_SUPPORTED)}async subscribeDataChannel(e,t){throw new Vg(xg.NOT_SUPPORTED)}async unsubscribeDataChannel(e,t){throw new Vg(xg.NOT_SUPPORTED)}hasPendingRemoteDataChannel(e,t){throw new Vg(xg.NOT_SUPPORTED)}setPendingRemoteDataChannel(e,t){throw new Vg(xg.NOT_SUPPORTED)}async preConnect(e,t,i,n,r,s){throw new Vg(xg.NOT_SUPPORTED)}getEstablishParams(){throw new Vg(xg.NOT_SUPPORTED)}async reSubscribe(e){throw new Vg(xg.NOT_SUPPORTED)}async updateVideoStreamParameter(e,t){throw new Vg(xg.NOT_SUPPORTED)}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:i}]=e;t===uI.LocalVideoLowTrack?i._updateRtpTransceiver(void 0,Py.LOW_STREAM):i._updateRtpTransceiver(void 0)}))}}function OM(e){return function(t,i,n){const r=t[i];if(\"function\"!=typeof r)throw new Error(\"Cannot use mutex on object property.\");return n.value=async function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];switch(e){case yM.SEND_ONLY:{const e=await this.sendMutex.lock(\"From P2PChannel2.\".concat(i));try{return await r.apply(this,n)}finally{e()}}case yM.RECEIVE_ONLY:{const e=await this.recvMutex.lock(\"From P2PChannel2.\".concat(i));try{return await r.apply(this,n)}finally{e()}}default:{const e=await this.sendMutex.lock(\"From P2PChannel2.\".concat(i)),t=await this.recvMutex.lock(\"From P2PChannel2.\".concat(i));try{return await r.apply(this,n)}finally{e(),t()}}}},n}}function NM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function DM(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?NM(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):NM(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}Lv([OM(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,String]),kv(\"design:returntype\",tg)],wM.prototype,\"startP2P\",null),Lv([OM(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],wM.prototype,\"p2pConnect\",null),Lv([OM(yM.SEND_ONLY),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],wM.prototype,\"dopublish\",null),Lv([OM(yM.SEND_ONLY),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],wM.prototype,\"unpublish\",null),Lv([OM(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",tg)],wM.prototype,\"unpublishLowStream\",null),Lv([OM(yM.SEND_ONLY),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],wM.prototype,\"doUnpublish\",null),Lv([OM(yM.RECEIVE_ONLY),kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,String,String,Number]),kv(\"design:returntype\",tg)],wM.prototype,\"subscribe\",null),Lv([OM(yM.RECEIVE_ONLY),kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,String,String,Boolean]),kv(\"design:returntype\",tg)],wM.prototype,\"unsubscribe\",null),Lv([OM(yM.RECEIVE_ONLY),kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,String]),kv(\"design:returntype\",tg)],wM.prototype,\"muteRemote\",null),Lv([OM(yM.RECEIVE_ONLY),kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,String]),kv(\"design:returntype\",tg)],wM.prototype,\"unmuteRemote\",null),Lv([OM(yM.RECEIVE_ONLY),kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,String]),kv(\"design:returntype\",tg)],wM.prototype,\"hasRemoteMediaWithLock\",null),Lv([OM(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",tg)],wM.prototype,\"disconnectForReconnect\",null),Lv([OM(yM.RECEIVE_ONLY),kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,String,Number]),kv(\"design:returntype\",tg)],wM.prototype,\"remoteMediaSsrcChanged\",null);const PM=Date.now(),LM=20,kM=new Map,MM=new Map;async function UM(e){const t=kM.get(e),i=Array.isArray(t)&&t[t.length-1],n=MM.get(e);if(!i)return void(n.isSyncing=!1);const r={uid:i.uid,payload:DS(i.payload)};0===n.firstRecvTs&&(n.firstRecvTs=i.recvTs,n.firstSendTs=i.sendTs);const s=i.sendTs-n.firstSendTs,o=s-(Date.now()-n.firstRecvTs);o>0&&(n.firstRecvTs=Date.now()-s);let a=i.mediaDelay+o;a<=0?(t.pop(),xM(i.context,r),a=0):a=Math.min(a,LM),setTimeout((()=>t.length&&UM(e)),a)}function xM(e,t){e.safeEmit(dS.STREAM_MESSAGE,t.uid,t.payload),e.onStreamMessage&&e.onStreamMessage(t)}function VM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(!e.syncWithAudio)return xM(i,{uid:e.uid,payload:DS(e.payload)});const n=\"\".concat(i.id,\"-\").concat(e.uid),r=kM.get(n)||[],s=r.findIndex((t=>e.sendTs>=t.sendTs)),o=DM(DM({},e),{},{context:i,mediaDelay:t,recvTs:Date.now()});-1===s?r.push(o):r.splice(s,0,o),kM.set(n,r);let a=!1;var c;MM.has(n)?a=!(null===(c=MM.get(n))||void 0===c||!c.isSyncing):MM.set(n,{isSyncing:a,firstRecvTs:0,firstSendTs:0});a||UM(n)}function FM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function BM(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?FM(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):FM(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}YS.setLogger(WC);class jM extends iS{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var e;return(null===(e=this._config)||void 0===e?void 0:e.role)||\"audience\"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||\"opus\"}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return\"Client\"}constructor(e){let t;if(super(),nu(this,\"store\",void 0),nu(this,\"_uid\",void 0),nu(this,\"_channelName\",void 0),nu(this,\"_uintUid\",void 0),nu(this,\"_users\",[]),nu(this,\"_config\",void 0),nu(this,\"_clientId\",void 0),nu(this,\"_appId\",void 0),nu(this,\"_sessionId\",null),nu(this,\"_key\",void 0),nu(this,\"_joinInfo\",void 0),nu(this,\"_gateway\",void 0),nu(this,\"_statsCollector\",void 0),nu(this,\"_configDistribute\",void 0),nu(this,\"_leaveMutex\",new YS(\"client-leave\")),nu(this,\"_publishMutex\",new YS(\"client-publish\")),nu(this,\"_renewTokenMutex\",new YS(\"client-renewtoken\")),nu(this,\"_subscribeMutex\",new YS(\"client-subscribe\")),nu(this,\"_encryptionMode\",\"none\"),nu(this,\"_encryptionSecret\",null),nu(this,\"_encryptionSalt\",null),nu(this,\"_proxyServer\",void 0),nu(this,\"_turnServer\",{servers:[],mode:\"auto\"}),nu(this,\"_cloudProxyServerMode\",\"disabled\"),nu(this,\"_isDualStreamEnabled\",!1),nu(this,\"_defaultStreamFallbackType\",void 0),nu(this,\"_lowStreamParameter\",void 0),nu(this,\"_streamFallbackTypeCacheMap\",new Map),nu(this,\"_remoteStreamTypeCacheMap\",new Map),nu(this,\"_axiosCancelSource\",EC.CancelToken.source()),nu(this,\"_audioVolumeIndicationInterval\",void 0),nu(this,\"_networkQualityInterval\",void 0),nu(this,\"_userOfflineTimeout\",void 0),nu(this,\"_streamRemovedTimeout\",void 0),nu(this,\"_injectStreamingClient\",void 0),nu(this,\"_liveTranscodeStreamingClient\",void 0),nu(this,\"_liveRawStreamingClient\",void 0),nu(this,\"_channelMediaRelayClient\",void 0),nu(this,\"_networkQualitySensitivity\",\"normal\"),nu(this,\"_p2pChannel\",void 0),nu(this,\"_useLocalAccessPoint\",!1),nu(this,\"_setLocalAPVersion\",void 0),nu(this,\"_joinAndNotLeaveYet\",!1),nu(this,\"_numberOfJoinCount\",0),nu(this,\"_remoteDefaultVideoStreamType\",void 0),nu(this,\"_inspect\",void 0),nu(this,\"_moderation\",void 0),nu(this,\"_license\",void 0),nu(this,\"_pendingPublishedUsers\",[]),nu(this,\"ntpAlignErrorCount\",0),nu(this,\"remoteInboundOffset\",0),nu(this,\"_handleLocalTrackEnable\",((e,t,i)=>{this.publish(e,!1).then(t).catch(i)})),nu(this,\"_handleLocalTrackDisable\",((e,t,i)=>{this.unpublish(e).then(t).catch(i)})),nu(this,\"_handleUserOnline\",(e=>{if(kC(\"BLOCK_LOCAL_CLIENT\")&&av(e.uid,this.channelName))return void WC.debug(\"[\".concat(e.uid,\"] will be ignored in local\"));this.isStringUID&&\"string\"!=typeof e.uid&&WC.error(\"[\".concat(this._clientId,\"] StringUID is Mixed with UintUID\"));const t=this._users.find((t=>t.uid===e.uid));if(t)t._trust_in_room_=!0;else{const t=new bP(e.uid,e.uint_id||e.uid);this._users.push(t),WC.debug(\"[\".concat(this._clientId,\"] user online\"),e.uid),this.safeEmit(dS.USER_JOINED,t)}})),nu(this,\"_handleUserOffline\",(e=>{if(kC(\"BLOCK_LOCAL_CLIENT\")&&av(e.uid,this.channelName))return;const t=this._users.find((t=>t.uid===e.uid));t&&(this._handleRemoveStream(e),this._handleRemoveDataChannels(e),IS(this._users,t),this._remoteStreamTypeCacheMap.delete(t.uid),this._streamFallbackTypeCacheMap.delete(t.uid),WC.debug(\"[\".concat(this._clientId,\"] user offline\"),e.uid,\"reason:\",e.reason),this.safeEmit(dS.USER_LEAVED,t,e.reason))})),nu(this,\"_handleAddAudioOrVideoStream\",((e,t,i,n,r,s,o)=>{if(kC(\"BLOCK_LOCAL_CLIENT\")&&av(t,this.channelName))return;const a=this._users.find((e=>e.uid===t));if(!a)return void WC.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\"));WC.debug(\"[\".concat(this._clientId,\"] stream added with uid \").concat(t,\", type \").concat(e)),this.store.subscribe(a.uid,e,void 0,void 0,void 0,Date.now());const c=\"audio\"===e?a.hasAudio:a.hasVideo;a._uintid||(a._uintid=r||t),\"audio\"===e?a._trust_audio_stream_added_state_=!0:a._trust_video_stream_added_state_=!0,\"audio\"===e?(a._audio_added_=!0,void 0!==i&&(a._audioSSRC=i),void 0!==n&&(a._cname=n),s&&(a._audioOrtc=s)):(a._video_added_=!0,void 0!==i&&(a._videoSSRC=i),void 0!==n&&(a._cname=n),void 0!==o&&(a._rtxSsrcId=o),s&&(a._videoOrtc=s)),(\"audio\"===e?a.hasAudio:a.hasVideo)&&!c&&(WC.info(\"[\".concat(this._clientId,\"] remote user \").concat(a.uid,\" published \").concat(e)),this.safeEmit(dS.USER_PUBLISHED,a,e)),\"video\"===e?iv.onGatewayStream(this._sessionId,JC.ON_ADD_VIDEO_STREAM,zC.ON_ADD_VIDEO_STREAM,{peer:r||t,ssrc:a._videoSSRC}):iv.onGatewayStream(this._sessionId,JC.ON_ADD_AUDIO_STREAM,zC.ON_ADD_AUDIO_STREAM,{peer:r||t,ssrc:a._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(a,e,i).then((t=>{if(t&&(WC.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(e,\" for user \").concat(a.uid,\" after rejoin because SSRC id changed.\")),this._p2pChannel instanceof lk))return this._p2pChannel.unsubscribe(a,e,!0).then((()=>this._subscribe(a,e,!0).catch((e=>{WC.error(\"[\".concat(this._clientId,\"] resubscribe error\"),e.toString())}))))})),this._p2pChannel.hasPendingRemoteMedia(a,e)&&(WC.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(e,\" for user \").concat(a.uid,\" after reconnect.\")),this._subscribe(a,e,!0).catch((e=>{WC.error(\"[\".concat(this._clientId,\"] resubscribe error\"),e.toString())})))})),nu(this,\"_handleRemoveStream\",((e,t,i)=>{if(kC(\"BLOCK_LOCAL_CLIENT\")&&av(e.uid,this.channelName))return;const n=this._users.find((t=>t.uid===e.uid));if(!n)return void WC.warning(\"[\".concat(this._clientId,\"] can not find target user!(on_remove_stream)\"));WC.debug(\"[\".concat(this._clientId,\"] stream removed with uid \").concat(e.uid));let r=()=>{};if(n.hasAudio&&n.hasVideo?r=()=>{WC.info(\"[\".concat(this._clientId,\"] remote user \").concat(n.uid,\" unpublished audio track\")),this.safeEmit(dS.USER_UNPUBLISHED,n,\"audio\"),WC.info(\"[\".concat(this._clientId,\"] remote user \").concat(n.uid,\" unpublished video track\")),this.safeEmit(dS.USER_UNPUBLISHED,n,\"video\")}:n.hasVideo?r=()=>{WC.info(\"[\".concat(this._clientId,\"] remote user \").concat(n.uid,\" unpublished video track\")),this.safeEmit(dS.USER_UNPUBLISHED,n,\"video\")}:n.hasAudio&&(r=()=>{WC.info(\"[\".concat(this._clientId,\"] remote user \").concat(n.uid,\" unpublished audio track\")),this.safeEmit(dS.USER_UNPUBLISHED,n,\"audio\")}),n._trust_audio_stream_added_state_=!0,n._trust_video_stream_added_state_=!0,n._audio_added_=!1,n._video_added_=!1,this._p2pChannel instanceof lk)this._p2pChannel.unsubscribe(n).then((e=>{if(e)return this._gateway.unsubscribe(e,n.uid)}));else if(t&&i)if(e.sdp){const{sdp:r}=e;this._p2pChannel.unsubscribe(n,r).then((e=>{e&&t(e)})).catch(i)}else t&&t();n._audioSSRC=void 0,n._videoSSRC=void 0,n._audioOrtc=void 0,n._videoOrtc=void 0,n._rtxSsrcId=void 0,iv.onGatewayStream(this._sessionId,JC.ON_REMOVE_STREAM,zC.ON_REMOVE_STREAM,{peer:e.uint_id||e.uid}),r()})),nu(this,\"_handleSetStreamLocalEnable\",((e,t,i)=>{if(kC(\"BLOCK_LOCAL_CLIENT\")&&av(t,this.channelName))return;const n=this._users.find((e=>e.uid===t));if(!n)return void WC.error(\"[\".concat(this._clientId,\"] can not find target user!(disable_local)\"));WC.debug(\"[\".concat(this._clientId,\"] local \").concat(e,\" \").concat(i?\"enabled\":\"disabled\",\" with uid \").concat(t));const r=\"audio\"===e?n.hasAudio:n.hasVideo;if(\"audio\"===e){n._trust_audio_enabled_state_=!0;const e=n._audio_enabled_;if(n._audio_enabled_=i,n._audio_enabled_===e)return;{const e=n._audio_enabled_?\"enable-local-audio\":\"disable-local-audio\";WC.debug(\"[\".concat(this._clientId,\"] user-info-updated, uid: \").concat(t,\", msg: \").concat(e)),this.safeEmit(dS.USER_INFO_UPDATED,t,e)}}else{n._trust_video_enabled_state_=!0;const e=n._video_enabled_;if(n._video_enabled_=i,n._video_enabled_===e)return;{const e=n._video_enabled_?\"enable-local-video\":\"disable-local-video\";WC.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(t,\", msg: \").concat(e)),this.safeEmit(dS.USER_INFO_UPDATED,t,e)}}const s=\"audio\"===e?n.hasAudio:n.hasVideo;return r!==s?!r&&s?(WC.info(\"[\".concat(this._clientId,\"] remote user \").concat(t,\" published \").concat(e)),void this.safeEmit(dS.USER_PUBLISHED,n,e)):(\"video\"===e&&n._videoTrack&&n._videoTrack._destroy(),\"audio\"===e&&n._audioTrack,this._p2pChannel.muteRemote(n,e),WC.info(\"[\".concat(this._clientId,\"] remote user \").concat(t,\" unpublished \").concat(e)),void this.safeEmit(dS.USER_UNPUBLISHED,n,e)):void 0})),nu(this,\"_handleMuteStream\",((e,t,i,n,r,s)=>{if(kC(\"BLOCK_LOCAL_CLIENT\")&&av(e,this.channelName))return;WC.debug(\"[\".concat(this._clientId,\"] receive mute message\"),e,t,i);const o=this._users.find((t=>t.uid===e));if(!o)return void WC.warning(\"[\".concat(this._clientId,\"] can not find remote user, ignore mute event, uid: \").concat(e));const a=\"audio\"===t?o.hasAudio:o.hasVideo;if(\"audio\"===t){o._trust_audio_mute_state_=!0;const t=o._audio_muted_;if(o._audio_muted_=i,o._audio_muted_===t)return;{const t=o._audio_muted_?\"mute-audio\":\"unmute-audio\";WC.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(e,\", msg: \").concat(t)),this.safeEmit(dS.USER_INFO_UPDATED,e,t)}}else{o._trust_video_mute_state_=!0;const t=o._video_muted_;if(o._video_muted_=i,o._video_muted_===t)return;{const t=o._video_muted_?\"mute-video\":\"unmute-video\";WC.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(e,\", msg: \").concat(t)),this.safeEmit(dS.USER_INFO_UPDATED,e,t)}}const c=\"audio\"===t?o.hasAudio:o.hasVideo;if(a!==c){if(!a&&c){if(!this.store.useP2P){if(!(\"audio\"===t?o._audioSSRC:o._videoSSRC))return void WC.warning(\"[\".concat(this._clientId,\"] remote user \").concat(e,\" receive \").concat(t,\" unmute message  before add stream message, \").concat(t,\" SSRC doesn't exist yet.\"))}return WC.info(\"[\".concat(this._clientId,\"] remote user \").concat(e,\" published \").concat(t)),void this.safeEmit(dS.USER_PUBLISHED,o,t)}\"video\"===t&&o._videoTrack&&o._videoTrack._destroy(),\"audio\"===t&&o._audioTrack,r&&s&&this._p2pChannel instanceof wM&&(n?this._p2pChannel.unsubscribe(o,n,t).then((e=>{r(e)})).catch(s):r()),this._p2pChannel.muteRemote(o,t),WC.info(\"[\".concat(this._clientId,\"] remote user \").concat(e,\" unpublished \").concat(t)),this.safeEmit(dS.USER_UNPUBLISHED,o,t)}})),nu(this,\"_handleP2PLost\",(async e=>{WC.debug(\"[\".concat(this._clientId,\"] receive p2p lost\"),e),parseInt(e.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():WC.warning(\"[\".concat(this._clientId,\"] P2PLost stream not found\"),e)})),nu(this,\"_handleTokenWillExpire\",(()=>{WC.debug(\"[\".concat(this._clientId,\"] received message onTokenPrivilegeWillExpire\")),this.safeEmit(dS.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)})),nu(this,\"_handleBeforeUnload\",(e=>{\"beforeunload\"===e.type&&void 0!==e.returnValue&&\"\"!==e.returnValue||(this.leave(),WC.info(\"[\".concat(this._clientId,\"] auto leave onbeforeunload or pagehide\")))})),nu(this,\"_handleUpdateNetworkQuality\",(()=>{if(\"normal\"===this._networkQualitySensitivity)return;if(navigator&&void 0!==navigator.onLine&&!navigator.onLine)return void this.safeEmit(dS.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const e={downlinkNetworkQuality:0,uplinkNetworkQuality:0};e.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),e.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(dS.NETWORK_QUALITY,e)})),nu(this,\"_handleP2PAddAudioOrVideoStream\",((e,t)=>{const i=this._users.find((e=>e.uid===t));if(!i)return void WC.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\"));WC.debug(\"[\".concat(this._clientId,\"] stream added with uid \").concat(t,\", type \").concat(e)),this.store.subscribe(i.uid,e,void 0,void 0,void 0,Date.now());const n=\"audio\"===e?i.hasAudio:i.hasVideo;\"audio\"===e?i._trust_audio_stream_added_state_=!0:i._trust_video_stream_added_state_=!0,\"audio\"===e?i._audio_added_=!0:i._video_added_=!0,(\"audio\"===e?i.hasAudio:i.hasVideo)&&!n&&(WC.info(\"[\".concat(this._clientId,\"] remote user \").concat(i.uid,\" published \").concat(e)),this.safeEmit(dS.USER_PUBLISHED,i,e)),this._p2pChannel.hasPendingRemoteMedia(i,e)&&(WC.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(e,\" for user \").concat(i.uid,\" after reconnect.\")),this._subscribe(i,e,!0).catch((e=>{WC.error(\"[\".concat(this._clientId,\"] resubscribe error\"),e.toString())})))})),this._config=e,this._clientId=xS(5,\"client-\"),this.store=new wC(e.codec,e.audioCodec,e.mode,this._clientId),this.store.clientCreated(),e.proxyServer&&this.setProxyServer(e.proxyServer,!0),e.turnServer&&this.setTurnServer(e.turnServer,!0),WC.info(\"[\".concat(this._clientId,\"] Initializing AgoraRTC client v\").concat(OC,\" build: \").concat(DC,\", mode: \").concat(this.mode,\", codec: \").concat(this.codec)),e.clientRoleOptions)try{mS(e.clientRoleOptions),t=Object.assign({},e.clientRoleOptions)}catch(e){WC.warning(\"[\".concat(this._clientId,\"] \").concat(e.toString()))}this._statsCollector=new cD(this.store),this._statsCollector.onStatsException=(e,t,i)=>{WC.debug(\"[\".concat(this._clientId,\"] receive exception msg, code: \").concat(e,\", msg: \").concat(t,\", uid: \").concat(i)),this.safeEmit(dS.EXCEPTION,{code:e,msg:t,uid:i})},this._statsCollector.onUploadPublishDuration=(e,t,i,n)=>{const r=this._users.find((t=>t.uid===e));r&&iv.peerPublishStatus(this._sessionId,{subscribeElapse:n,audioPublishDuration:t,videoPublishDuration:i,peer:r._uintid})},this.store.useDataChannel=hA().supportDataChannel&&kC(\"SIGNAL_CHANNEL\"),this.store.useP2P=kC(\"P2P\"),this._gateway=new PD(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:e.websocketRetryConfig||JS,httpRetryConfig:e.httpRetryConfig||JS,forceWaitGatewayResponse:void 0===e.forceWaitGatewayResponse||e.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:e.role,clientRoleOptions:t}),this._configDistribute=new mP,this.store.useP2P?(this._p2pChannel=new wM(this.store,this._statsCollector),this._handleP2PEvents()):this._p2pChannel=new lk(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async joinMeta(e,t,i,n,r){let s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];LC(\"JOIN_GATEWAY_USE_443PORT_ONLY\",s),LC(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\",o);const a=this._gateway.signal.websocket;return a instanceof qI&&(a.use443PortOnly=s,a.tryDoubleDomain=o),async function(e,t,i){rg.get(e)||rg.set(e,[]),sg.get(e)||sg.set(e,t),og.get(e)||og.set(e,0);const n=rg.get(e),r=sg.get(e);if(!n||!r)throw new Error(\"concurrent: deferQueue or maxConcurrency is null\");if(og.get(e)===r){const e=ng();n.push(e),await e.promise}og.set(e,og.get(e)+1);for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];const c=await i(...o);return og.set(e,og.get(e)-1),og.get(e)===r-1&&n.length>0&&(n[0].resolve(),n.shift()),0===og.get(e)&&(rg.set(e,[]),sg.set(e,0),og.set(e,0)),c}(\"client.join\",kC(\"JOIN_MAX_CONCURRENCY\"),this.join.bind(this),e,t,i,n,r)}async join(e,t,i,n,r){const s=++this._numberOfJoinCount;this.store.joinStart(),n&&(this.store.uid=n);const o=vC(),a=IC()?window.isSecureContext:\"Browser Not Support\";if(!IC()&&!o||!window.isSecureContext){const e=\"The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser\";WC.warning(e)}const c=VS();\"DISCONNECTED\"===this.connectionState&&(this.store.avoidJoinStart=Math.round(Date.now()),WC.debug(\"[\".concat(this._clientId,\"] set avoidJoinStart to \").concat(this.store.avoidJoinStart)));const d=iv.reportApiInvoke(c,{name:sS.JOIN,options:[e,t,i,n],states:{isHttps:o,isSecureContext:a},tag:oS.TRACER});iv.setAppId(e);try{if(!i&&null!==i)throw new Mv(xg.INVALID_PARAMS,\"Invalid token: \".concat(i,\". If you don not use token, set it to null\"));i&&Wg(i,\"token\",1,2047),Wg(e,\"appid\",1,2047),Uv(t),n&&xv(n),r&&Wg(r,\"optionalInfo\",1,2047)}catch(e){throw d.onError(e),e}if(WC.info(\"[\".concat(this._clientId,\"] start join channel \").concat(t,\", join number: \").concat(s)),this._leaveMutex.isLocked){WC.debug(\"[\".concat(this._clientId,\"] join: waiting leave operation\"));(await this._leaveMutex.lock())(),WC.debug(\"[\".concat(this._clientId,\"] join: continue\"))}if(this._joinAndNotLeaveYet=!0,\"DISCONNECTED\"!==this.connectionState){const e=new Mv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already in connecting/connected state\"));throw d.onError(e),e}this._sessionId||(this._sessionId=c,this.store.sessionId=this._sessionId),this._gateway.state=\"CONNECTING\";const l=BM({clientId:this._clientId,appId:e,sid:this._sessionId,cname:t,uid:\"string\"!=typeof n?n:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:i||e,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:r,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint},void 0!==this._remoteDefaultVideoStreamType&&{defaultVideoStream:this._remoteDefaultVideoStreamType});if(this._useLocalAccessPoint&&(l.setLocalAPVersion=this._setLocalAPVersion),\"string\"==typeof n&&(l.stringUid=n,this._uintUid?(l.uid=this._uintUid,this._uintUid=void 0):l.uid=0),\"none\"!==this._encryptionMode&&this._encryptionSecret){if(l.aesmode=this._encryptionMode,l.aespassword=await eS(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new Mv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));this._encryptionSalt&&(l.aessalt=this._encryptionSalt)}this._startSession(this._sessionId,{channel:t,appId:e});const h=this._sessionId;setTimeout((()=>{\"CONNECTING\"===this.connectionState&&h===this._sessionId&&iv.joinChannelTimeout(this._sessionId,5)}),5e3);try{var u;let n;const r=l.cloudProxyServer;if(Pr(u=[\"proxy3\",\"proxy4\",\"proxy5\"]).call(u,r)){const e=kC(\"PROXY_SERVER_TYPE3\");Array.isArray(e)?l.proxyServer=e[0]:l.proxyServer=e}if(iv.setProxyServer(l.proxyServer),WC.setProxyServer(l.proxyServer),this.store.requestAPStart(),l.stringUid&&!l.uid){const e=await cP(l.stringUid,l,this._axiosCancelSource.token,this._config.httpRetryConfig||JS,this.store);WC.debug(\"[\".concat(this._clientId,\"] getUserAccount Success \").concat(l.stringUid,\" => \").concat(e)),l.uid=e,n=await aP(l,this._axiosCancelSource.token,this._config.httpRetryConfig||JS,!0,this.store)}else n=await aP(l,this._axiosCancelSource.token,this._config.httpRetryConfig||JS,!0,this.store);if(!this._joinAndNotLeaveYet)throw new Mv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));this.store.requestAPEnd(),setTimeout((()=>{this._configDistribute.startGetConfigDistribute(l,this._axiosCancelSource.token),this._configDistribute.on(aI.UPDATE_BITRATE_LIMIT,(e=>{this._p2pChannel.updateBitrateLimit(e)}))}),0),this._key=i||e;const s=n.gatewayInfo;this._joinInfo=BM(BM({},l),{},{cid:s.cid,uid:l.uid?l.uid:s.uid,vid:s.vid,apResponse:s.res,uni_lbs_ip:s.uni_lbs_ip,gatewayAddrs:s.gatewayAddrs});const o=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new Mv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));d.onSuccess(o),this._appId=e,this._channelName=l.cname,this._uid=o,this.store.uid=o,setTimeout((()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(Tg()?\"beforeunload\":\"pagehide\",this._handleBeforeUnload)}),0);const a=l.stringUid?\"string uid: \".concat(l.stringUid,\",uid: \").concat(l.uid):\"uid: \".concat(this._uid);return WC.info(\"[\".concat(this._clientId,\"] Joining channel success: channel: \").concat(t,\",\").concat(a)),setTimeout((()=>{WC.startUpload()}),5e3),this.store.joinEnd(),p=this,Pr(ov).call(ov,p)||ov.push(p),o}catch(e){const t=Array.isArray(e)?e[0]:e;throw t&&t.code===xg.OPERATION_ABORTED?WC.warning(\"[\".concat(this._clientId,\"] join number: \").concat(s,\", Joining channel failed, rollback\"),t):WC.error(\"[\".concat(this._clientId,\"] join number: \").concat(s,\", Joining channel failed, rollback\"),t),t.code!==xg.OPERATION_ABORTED&&this._numberOfJoinCount===s&&(this._gateway.state=\"DISCONNECTED\",this._reset()),d.onError(t),t}var p}_joinGateway(){if(!this._joinInfo||!this._key)throw new Mv(xg.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!(\"disabled\"!==this._joinInfo.cloudProxyServer||this._joinInfo.proxyServer||!kC(\"JOIN_WITH_FALLBACK_SIGNAL_PROXY\"))).then((e=>e)).catch((e=>{if(e.code===xg.INIT_WEBSOCKET_TIMEOUT)return this._gateway.leave(!0,cS.FALLBACK),e;if(e.code===xg.INIT_DATACHANNEL_TIMEOUT)return this._gateway.leave(!0,cS.FALLBACK),e;throw e})).then((e=>{if(e instanceof Mv){if(e.code===xg.INIT_WEBSOCKET_TIMEOUT){if(WC.info(\"[\".concat(this._clientId,\"] join timeout, fallback to proxy\")),!this._joinInfo||!this._key)throw new Mv(xg.INVALID_OPERATION);this._joinInfo.cloudProxyServer=\"fallback\",this._cloudProxyServerMode=\"fallback\",this.store.cloudProxyServerMode=\"fallback\";const e=kC(\"PROXY_SERVER_TYPE3\");if(Array.isArray(e))if(this._joinInfo.apUrl){const t=/^https?:\\/\\/(.+?)(\\/.*)?$/.exec(this._joinInfo.apUrl)[1].split(\".\"),i=t.slice(t.length-2).join(\".\");e.forEach((e=>{this._joinInfo&&Pr(e).call(e,i)&&(this._joinInfo.proxyServer=e)})),this._joinInfo.proxyServer||(this._joinInfo.proxyServer=e[0])}else this._joinInfo.proxyServer=e[0];else this._joinInfo.proxyServer=e;const t=kC(\"LOG_UPLOAD_SERVER\").match(/.+:(\\d{1,5})$/);t&&t[1]&&\"443\"!==t[1]&&WC.setProxyServer(this._joinInfo.proxyServer),\"443\"!==kC(\"STATS_COLLECTOR_PORT\").toString()&&iv.setProxyServer(this._joinInfo.proxyServer);return iv.reportApiInvoke(this._sessionId,{name:sS.JOIN_FALLBACK_TO_PROXY,options:[this._joinInfo.proxyServer],tag:oS.TRACER}).onSuccess(),this.safeEmit(dS.JOIN_FALLBACK_TO_PROXY,this._joinInfo.proxyServer),kC(\"JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE\")&&this._joinInfo.turnServer.servers.forEach((e=>{\"forceturn\"in e&&(e.forceturn=!0)})),this._gateway.join(this._joinInfo,this._key)}if(WC.info(\"[\".concat(this._clientId,\"] join by datachannel timeout, fallback to websocket\")),!this._joinInfo||!this._key)throw new Mv(xg.INVALID_OPERATION);return iv.reportApiInvoke(this._sessionId,{name:sS.DATACHANNEL_FAILBACK,options:[this.store.clientId],tag:oS.TRACER}).onSuccess(),this._joinGateway()}return e})).then((e=>e))}async leave(){WC.info(\"[\".concat(this._clientId,\"] Leaving channel\")),window.removeEventListener(Tg()?\"beforeunload\":\"pagehide\",this._handleBeforeUnload),this._reset(),function(e){const t=ov.indexOf(e);-1!==t&&ov.splice(t,1)}(this);const e=await this._leaveMutex.lock();if(\"DISCONNECTED\"===this.connectionState)return WC.info(\"[\".concat(this._clientId,\"] Leaving channel repeated, success\")),void e();await this._gateway.leave(\"CONNECTED\"!==this.connectionState),WC.info(\"[\".concat(this._clientId,\"] Leaving channel success\")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),e()}async publish(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Array.isArray(e)){if(!(e instanceof $y))return this._publishDataChannel(e);e=[e]}if(0===e.length)throw new Mv(xg.INVALID_PARAMS,\"param list is empty\");const i=e;if(\"audience\"===this._gateway.role)throw new Mv(xg.INVALID_OPERATION,\"audience can not publish stream\");for(const e of i){if(!(e instanceof $y))throw new Mv(xg.INVALID_PARAMS,\"parameter is not local track\");if(!e._enabled&&t)throw new Mv(xg.TRACK_IS_DISABLED,\"can not publish a disabled track: \".concat(e.getTrackId()))}WC.info(\"[\".concat(this._clientId,\"] Publishing tracks, id \").concat(i.map((e=>\"\".concat(e.getTrackId(),\" \")))));const n=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),t&&i.forEach((e=>{const t=this._configDistribute.getBitrateLimit();e instanceof fb&&t&&e.setBitrateLimit(t.uplink)}));try{await this._publishHighStream(i),WC.info(\"[\".concat(this._clientId,\"] Publish success, id \").concat(i.map((e=>\"\".concat(e.getTrackId(),\" \")))))}catch(e){throw WC.error(\"[\".concat(this._clientId,\"] publish error\"),e.toString()),e}finally{n()}}async _publishDataChannel(e){jg(e.id,\"id\",0,65535,!0),Fg(e.ordered,\"ordered\"),Wg(e.metadata,\"metadata\",0,512),WC.info(\"[\".concat(this._clientId,\"] Publishing datachannels, id \").concat(e.id));const t=await this._publishMutex.lock();try{if(-1!==this._p2pChannel.getAllDataChannels().findIndex((t=>t.id===e.id)))throw new Mv(xg.INVALID_PARAMS,\"Invalid id: \".concat(e.id,\". If you want to republish the datachannel, unpublish first\"));if(!this._joinInfo||void 0===this._uid)throw new Mv(xg.INVALID_OPERATION,\"Can't publish datachannel, haven't joined yet!\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Mv(xg.INVALID_OPERATION,\"can not publish datachannel in \".concat(this.connectionState,\" state\"));if(\"auto\"===this._turnServer.mode&&kC(\"FORCE_TURN\")&&!kC(\"TURN_ENABLE_TCP\")&&!kC(\"TURN_ENABLE_UDP\"))throw new Mv(xg.UNEXPECTED_ERROR,\"force TURN With No TURN Configuration\");const i=new iD(e);await this._p2pChannel.publishDataChannel([i]);try{const t={streamId:e.id,ordered:e.ordered,maxRetransmits:kC(\"DATASTREAM_MAX_RETRANSMITS\"),metadata:e.metadata,channelId:i._originDataChannelId};await this._gateway.publishDataChannel(this._uid,t,!0)}catch(e){if(e.code!==xg.DISCONNECT_P2P)throw e}return await i._waitTillOpen(),WC.info(\"[\".concat(this._clientId,\"] Publish dataChannels success, id \").concat(i.id)),i}catch(e){throw WC.error(\"[\".concat(this._clientId,\"] publish datachannels error\"),e.toString()),e}finally{t()}}async unpublish(e){if(!this._joinInfo||void 0===this._uid)throw new Mv(xg.INVALID_OPERATION,\"Can't unpublish stream, haven't joined yet!\");let t=[];if(e)if(Array.isArray(e))t=e;else{if(!(e instanceof $y))return this._unpublishDataChannel([e]);t=[e]}else this.store.useP2P||await this._unpublishDataChannel(),t=this._p2pChannel.getAllTracks(!0);WC.info(\"[\".concat(this._clientId,\"] Unpublish tracks, tracks \").concat(t.map((e=>\"\".concat(e.getTrackId(),\" \"))),\" \"));const i=await this._publishMutex.lock();try{if(this._p2pChannel instanceof wM){const e=await this._p2pChannel.unpublish(t);if(e){const t=await this._gateway.sendExtensionMessage(AI.UNPUBLISH,e);t&&await this._p2pChannel.setDescription(\"local\",t)}}else{const e=await this._p2pChannel.unpublish(t);e&&await this._gateway.unpublish(e,this._uid),WC.info(\"[\".concat(this._clientId,\"] Unpublish success,tracks \").concat(t.map((e=>\"\".concat(e.getTrackId())))))}}catch(e){throw WC.error(\"[\".concat(this._clientId,\"] unpublish error\"),e.toString()),e}finally{i&&i()}}async _unpublishDataChannel(e){void 0!==e&&0!==e.length||(e=this._p2pChannel.getAllDataChannels()),WC.info(\"[\".concat(this._clientId,\"] Unpublish datachannels, datachannels \").concat(e.map((e=>\"\".concat(e.id,\" \"))),\" \"));const t=await this._publishMutex.lock();try{const i=await this._p2pChannel.unpublishDataChannel(e);i&&await this._gateway.unpublishDataChannel(i),WC.info(\"[\".concat(this._clientId,\"] Unpublish dataChannel success,dataChannel \").concat(e.map((e=>\"\".concat(e.id)))))}catch(e){throw WC.error(\"[\".concat(this._clientId,\"] unpublish dataChannel error\"),e.toString()),e}finally{t&&t()}}async subscribe(e,t,i){return\"datachannel\"===t?this._subscribeDataChannel(e,i):this._subscribe(e,t)}async _subscribeDataChannel(e,t){var i;if(jg(t,\"channelId\",0,65535,!0),!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"Can't subscribe datachannel, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Mv(xg.INVALID_OPERATION,\"Can't subscribe datachannel in \".concat(this.connectionState,\" state\"));if(!this._users.find((t=>t===e)))throw WC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", this user is not in the channel\")),new Mv(xg.INVALID_REMOTE_USER,\"user is not in the channel\");if(!e.hasAudio&&!e.hasVideo&&0===e._dataChannels.length)throw WC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", user is not published\")),new Mv(xg.INVALID_REMOTE_USER,\"user is not published\");const n=null===(i=e._dataChannels)||void 0===i?void 0:i.find((e=>e.id===t));if(!n)throw WC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType datachannel, remote datachannel is not published\")),new Mv(xg.REMOTE_USER_IS_NOT_PUBLISHED);const r=await this._subscribeMutex.lock();WC.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\", mediaType: datachannel\"));try{const t=await this._p2pChannel.subscribeDataChannel(e,[n]);if(t&&Pr(t).call(t,n.id))try{var s;if(!n._originDataChannelId)throw WC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType datachannel, cannot get RTCDatachannel\")),new Mv(xg.REMOTE_USER_IS_NOT_PUBLISHED);const t={id:n.id,datachannelId:n._originDataChannelId,ordered:n.ordered,maxRetransmits:n.maxRetransmits,metadata:null!==(s=n.metadata)&&void 0!==s?s:\"\"};await this._gateway.subscribeDataChannel(e.uid,t,!0)}catch(t){if((null==t?void 0:t.code)!==xg.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(e,[n]),t;await this._p2pChannel.unsubscribeDataChannel(e,[n]),this._p2pChannel.setPendingRemoteDataChannel(e,n.id)}return await n._waitTillOpen(),WC.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(e.uid,\", mediaType: datachannel\")),n}finally{r()}}async _p2pSubscribe(e,t,i){if(Bg(t,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Mv(xg.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));if(!this._users.find((t=>t===e))){const t=new Mv(xg.INVALID_REMOTE_USER,\"user is not in the channel\");throw WC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", this user is not in the channel\")),t}if(!e.hasAudio&&!e.hasVideo){const t=new Mv(xg.INVALID_REMOTE_USER,\"user is not published\");throw WC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", user is not published\")),t}if(!i&&(\"audio\"===t&&!e.hasAudio||\"video\"===t&&!e.hasVideo)){const i=new Mv(xg.REMOTE_USER_IS_NOT_PUBLISHED);throw WC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType \").concat(t,\", remote track is not published\")),i}const n=await this._subscribeMutex.lock();WC.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\", mediaType: \").concat(t));const r=\"audio\"===t?uI.LocalAudioTrack:this._joinInfo.defaultVideoStream===Ly.LOW_STREAM?uI.LocalVideoLowTrack:uI.LocalVideoTrack;try{await this._p2pChannel.hasRemoteMediaWithLock(e,t)?await this._p2pChannel.unmuteRemote(e,t):(this.store.subscribe(e.uid,t,Date.now()),this._p2pChannel instanceof wM&&await this._gateway.sendExtensionMessage(AI.SUBSCRIBE,{trackType:r})),WC.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(e.uid,\", mediaType: \").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{WC.warning(\"[\".concat(this._clientId,\"] auto set fallback failed\"),e)}));const i=\"audio\"===t?e._audioTrack:e._videoTrack;if(!i)throw new Mv(xg.UNEXPECTED_ERROR,\"can not find remote track in user object\");return i}catch(t){throw WC.error(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\" error\"),t),t}finally{n()}}async _subscribe(e,t,i){if(this._p2pChannel instanceof wM)return this._p2pSubscribe(e,t);if(Bg(t,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Mv(xg.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));if(!this._users.find((t=>t===e))){const t=new Mv(xg.INVALID_REMOTE_USER,\"user is not in the channel\");throw WC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", this user is not in the channel\")),t}if(!e.hasAudio&&!e.hasVideo){const t=new Mv(xg.INVALID_REMOTE_USER,\"user is not published\");throw WC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", user is not published\")),t}if(!(i||(\"audio\"!==t||e.hasAudio&&void 0!==e._audioSSRC)&&(\"video\"!==t||e.hasVideo&&void 0!==e._videoSSRC))){const i=new Mv(xg.REMOTE_USER_IS_NOT_PUBLISHED);throw WC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType \").concat(t,\", remote track is not published\")),i}let n=\"audio\"===t?e._audioSSRC:e._videoSSRC,r=\"audio\"===t?e._audioOrtc:e._videoOrtc,s=\"video\"===t?e._rtxSsrcId:void 0,o={stream_type:\"audio\"===t?dI.AUDIO:dI.VIDEO,ssrcId:n};const a=await this._subscribeMutex.lock();WC.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\", mediaType: \").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const i=\"audio\"===t?e._audioSSRC:e._videoSSRC;void 0!==i&&i!==n&&(n=i,r=\"audio\"===t?e._audioOrtc:e._videoOrtc,s=\"video\"===t?e._rtxSsrcId:void 0,o={stream_type:\"audio\"===t?dI.AUDIO:dI.VIDEO,ssrcId:n}),sD.markSubscribeStart(this.store.clientId,n),this.store.subscribe(e.uid,t,Date.now()),await this._p2pChannel.subscribe(e,t,n,s,r);try{await this._gateway.subscribe(e.uid,o,!0)}catch(i){if((null==i?void 0:i.code)!==xg.WS_ABORT)throw await this._p2pChannel.unsubscribe(e,t),i;await this._p2pChannel.unsubscribe(e,t,!0),this._p2pChannel.setPendingRemoteMedia(e,t)}this.store.subscribe(e.uid,t,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,e,t)}catch(i){throw this._p2pChannel.reportSubscribeEvent(!1,null==i?void 0:i.code,e,t),i}WC.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(e.uid,\", mediaType: \").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{WC.warning(\"[\".concat(this._clientId,\"] auto set fallback failed\"),e)}));const i=\"audio\"===t?e._audioTrack:e._videoTrack;if(!i)throw new Mv(xg.UNEXPECTED_ERROR,\"can not find remote track in user object\");return i}catch(t){throw WC.error(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\" error\"),t),t}finally{a()}}async massSubscribe(e){if(Hg(e,\"subscribeList\"),!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Mv(xg.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));const t=Date.now(),i=new Map,n=await this._subscribeMutex.lock();WC.info(\"[\".concat(this._clientId,\"]start massSubscribe user \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i)})).join(\"; \")));const r=(e=[...e]).map((e=>{let{user:t,mediaType:i}=e;return{user:t,mediaType:i}})),s=await this._p2pChannel.globalLock();try{var o;for(let t=e.length-1;t>=0;t--){const n=e[t],{user:s,mediaType:o}=n;if(Bg(o,\"mediaType\",[\"audio\",\"video\"]),!s){const e=new Mv(xg.INVALID_PARAMS,\"user property does not exist in subscribeList item\");throw WC.error(\"[\".concat(this._clientId,\"] user property does not exist in subscribeList item\")),e}if(!this._users.find((e=>e===s))){const i=new Mv(xg.INVALID_REMOTE_USER,\"user is not in the channel\");WC.error(\"[\".concat(this._clientId,\"] can not massSubscribe \").concat(s.uid,\", this user is not in the channel\")),r[t].error=i,e.splice(t,1);continue}if(\"audio\"===o&&(!s.hasAudio||void 0===s._audioSSRC)||\"video\"===o&&(!s.hasVideo||void 0===s._videoSSRC)){const i=new Mv(xg.REMOTE_USER_IS_NOT_PUBLISHED);WC.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(s.uid,\" with mediaType \").concat(o,\", remote user is not published\")),r[t].error=i,e.splice(t,1);continue}const a=eI.Video|eI.LwoVideo,c=i.get(s);if(c){if(\"video\"===o?c&a:c&eI.Audio){e.splice(t,1),WC.warning(\"[\".concat(this._clientId,\"] repeat massSubscribe user:\").concat(s.uid,\", mediaType:\").concat(o,\" twice\"));continue}i.set(s,c|(\"video\"===o?a:eI.Audio))}else i.set(s,\"video\"===o?a:eI.Audio)}for(let t=e.length-1;t>=0;t--){const n=e[t],{user:r,mediaType:s}=n,o=eI.Video|eI.LwoVideo;if(this._p2pChannel.hasRemoteMedia(r,s)){await this._p2pChannel.unmuteRemoteNoLock(r,s);const n=i.get(r);i.set(r,\"video\"===s?n^o:n^eI.Audio),e.splice(t,1)}}this.store.massSubscribe(e.map((e=>({userId:e.user.uid,type:e.mediaType}))),t);const a=cT(o=Array.from(i.entries())).call(o,((e,t)=>{let[i,n]=t;if(0===n)return e;const r={stream_id:i.uid,stream_type:n};return n&eI.Audio&&(r.audio_ssrc=i._audioSSRC),n&eI.Video&&(r.video_ssrc=i._videoSSRC),e.push(r),e}),[]);try{e.length>0&&await this._p2pChannel.massSubscribeNoLock(e.map((e=>{let{user:t,mediaType:i}=e;return{user:t,mediaType:i,ssrcId:i===dI.VIDEO?t._videoSSRC:t._audioSSRC,rtxSsrcId:i===dI.VIDEO?t._rtxSsrcId:void 0}})));const i=new Map;if(a.length>0){const e=await this._gateway.subscribeAll(a,!0);((null==e?void 0:e.users)||[]).forEach((e=>{let{stream_id:t,video_error_code:n,audio_error_code:r,error_code:s}=e;(n||r||s)&&i.set(t,{video_error_code:n,audio_error_code:r,error_code:s})}))}if(Array.from(i.entries()).length>0){const e=Array.from(i.entries()).map((e=>{let t,[i,n]=e;n.error_code||n.video_error_code&&n.audio_error_code?t=void 0:n.video_error_code?t=dI.VIDEO:n.audio_error_code&&(t=dI.AUDIO);return{user:this.remoteUsers.find((e=>e.uid===i)),mediaType:t}}));await this._p2pChannel.massUnsubscribeNoLock(e)}for(const e of r){const t=i.get(e.user.uid);if(t){const i=t.error_code||\"audio\"===e.mediaType&&t.audio_error_code||\"video\"===e.mediaType&&t.video_error_code;if(i){const t=kI(i);WC.error(\"user:\".concat(e.user.uid,\" mediaType:\").concat(e.mediaType,\" has massSubscribe error \").concat(t.desc)),e.error=new Mv(xg.SUBSCRIBE_FAILED,\"code \".concat(i,\": \").concat(t.desc))}}e.error||(\"video\"===e.mediaType?e.track=e.user.videoTrack:e.track=e.user.audioTrack)}return this.store.massSubscribe(r.filter((e=>!e.error)).map((e=>({userId:e.user.uid,type:e.mediaType}))),void 0,Date.now()),r.forEach((e=>{var i;iv.subscribe(this.store.sessionId,{succ:!!e.error,ec:(null===(i=e.error)||void 0===i?void 0:i.code)||null,video:e.mediaType===dI.VIDEO,audio:e.mediaType===dI.AUDIO,peerid:e.user.uid,subscribeRequestid:e.mediaType===dI.VIDEO?e.user._videoSSRC:e.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-t)},!0)})),WC.info(\"[\".concat(this._clientId,\"] massSubscribe success \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i)})).join(\"; \"))),r}catch(t){throw await this._p2pChannel.massUnsubscribeNoLock(e),t}}finally{s(),n()}}async unsubscribe(e,t,i){if(t||this.store.useP2P){if(\"datachannel\"===t)return this._unsubscribeDataChannel(e,i)}else await this._unsubscribeDataChannel(e,i);if(t&&Bg(t,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"Can't unsubscribe stream, haven't joined yet!\");if(!this._users.find((t=>t===e))){const t=new Mv(xg.INVALID_REMOTE_USER,\"user is not in the channel\");throw WC.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(e.uid,\", user is not in the channel\")),t}WC.info(\"[\".concat(this._clientId,\"] unsubscribe uid: \").concat(e.uid,\", mediaType: \").concat(t));const n=await this._subscribeMutex.lock();try{if(this._p2pChannel instanceof wM)await this._gateway.sendExtensionMessage(AI.UNSUBSCRIBE,{mediaType:t});else{const i=await this._p2pChannel.unsubscribe(e,t);i&&await this._gateway.unsubscribe(i,e.uid),WC.info(\"[\".concat(this._clientId,\"] unsubscribe success uid: \").concat(e.uid,\", mediaType: \").concat(t))}}catch(t){if(t.code===xg.DISCONNECT_P2P)return void WC.warning(\"disconnecting p2p, abort unsubscribe request.\");throw WC.error(\"[\".concat(this._clientId,\"] unsubscribe user \").concat(e.uid,\" error\"),t.toString()),t}finally{n()}}async _unsubscribeDataChannel(e,t){if(t&&jg(t,\"id\",0,65535,!0),!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"Can't unsubscribe datachannel, haven't joined yet!\");if(!this._users.find((t=>t===e))){const t=new Mv(xg.INVALID_REMOTE_USER,\"user is not in the channel\");throw WC.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(e.uid,\", user is not in the channel\")),t}let i;if(\"number\"==typeof t){const n=e._dataChannels.find((e=>e.id===t));n&&(i=[n])}else i=e._dataChannels;if(void 0===i){const i=new Mv(xg.REMOTE_USER_IS_NOT_PUBLISHED);throw WC.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(e.uid,\" with channelId \").concat(t,\", remote datachannel is not published\")),i}WC.info(\"[\".concat(this._clientId,\"] unsubscribe uid: \").concat(e.uid,\", mediaType: datachannel, ids: \").concat(i.map((e=>e.id))));try{const t=await this._p2pChannel.unsubscribeDataChannel(e,i);t&&await this._gateway.unsubscribeDataChannel(t,e.uid),WC.info(\"[\".concat(this._clientId,\"] unsubscribe datachannel success uid: \").concat(e.uid,\", mediaType: datachannel, ids: \").concat(t))}catch(t){if(t.code===xg.DISCONNECT_P2P)return void WC.warning(\"disconnecting p2p, abort unsubscribe request.\");throw WC.error(\"[\".concat(this._clientId,\"] unsubscribe user \").concat(e.uid,\" error\"),t.toString()),t}}async massUnsubscribe(e){if(Hg(e,\"unsubscribeList\"),!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"Can't unsubscribeAll stream, haven't joined yet!\");WC.info(\"[\".concat(this._clientId,\"] start massUnsubscribe \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i,\";\")})).join())),e=[...e];const t=new Map;for(let i=e.length-1;i>=0;i--){const{user:n,mediaType:r}=e[i];if(!n){const e=new Mv(xg.INVALID_PARAMS,\"user property does not exist in unsubscribeList item\");throw WC.error(\"[\".concat(this._clientId,\"] user property does not exist in unsubscribeList item\")),e}Bg(r,\"mediaType\",[\"video\",\"audio\",void 0]);if(!this._users.find((e=>e===n))){WC.warning(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(n.uid,\", user is not in the channel\")),e.splice(i,1);continue}const s=eI.Video|eI.LwoVideo;if(t.has(n)){const o=t.get(n);let a;switch(r){case\"video\":a=o&s;break;case\"audio\":a=o&eI.Audio;break;default:a=o&(eI.Audio|s)}if(a){WC.warning(\"[\".concat(this._clientId,\"] repeat massUnsubscribe user:\").concat(n.uid,\",mediaType:\").concat(r,\" twice.\")),e.splice(i,1);continue}r?\"audio\"===r?t.set(n,o|eI.Audio):\"video\"===r&&t.set(n,o|s):t.set(n,o|eI.Audio|s)}else r?\"audio\"===r?t.set(n,eI.Audio):\"video\"===r&&t.set(n,s):t.set(n,eI.Audio|s)}try{const t=await this._p2pChannel.massUnsubscribe(e);t&&await this._gateway.massUnsubscribe(t),WC.info(\"[\".concat(this._clientId,\"] massUnsubscribe success \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i,\";\")})).join()))}catch(e){if(e.code===xg.DISCONNECT_P2P)return void WC.warning(\"[\".concat(this._clientId,\"] disconnecting p2p, abort unsubscribe request.\"));throw WC.error(\"[\".concat(this._clientId,\"] massUnsubscribe error\"),e.toString()),e}}async setLowStreamParameter(e){!function(e){if(!e)throw new Vg(xg.INVALID_PARAMS);Kg(e.width)||Gg(e.width,\"streamParameter.width\"),Kg(e.height)||Gg(e.height,\"streamParameter.height\"),Kg(e.framerate)||Gg(e.framerate,\"streamParameter.framerate\"),Kg(e.bitrate)||jg(e.bitrate,\"streamParameter.bitrate\")}(e),(!e.width&&e.height||e.width&&!e.height)&&WC.warning(\"[\".concat(this._clientId,\"] The width and height parameters take effect only when both are set\")),WC.info(\"[\".concat(this._clientId,\"] set low stream parameter to\"),JSON.stringify(e));const t=this._configDistribute.getLowStreamConfigDistribute();if(t&&t.bitrate&&e.bitrate&&t.bitrate<e.bitrate&&(e.bitrate=t.bitrate),this._lowStreamParameter=e,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(e,uI.LocalVideoLowTrack)}async enableDualStream(){if(!hA().supportDualStream)throw iv.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new Mv(xg.NOT_SUPPORTED,\"Your browser is not support dual stream\");if(this._isDualStreamEnabled)throw new Mv(xg.INVALID_OPERATION,\"Dual stream is already enabled\");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(e){throw iv.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),e}this._isDualStreamEnabled=!0,iv.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),WC.info(\"[\".concat(this._clientId,\"] enable dual stream\"))}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(this._p2pChannel.getLocalMedia(uI.LocalVideoLowTrack))try{const e=await this._p2pChannel.unpublishLowStream();e&&await this._gateway.unpublish(e,this._joinInfo.stringUid||this._joinInfo.uid)}catch(e){throw iv.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),e}this._isDualStreamEnabled=!1,iv.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),WC.info(\"[\".concat(this._clientId,\"] disable dual stream\"))}}async setClientRole(e,t){if(function(e){Bg(e,\"role\",[\"audience\",\"host\"])}(e),t&&mS(t),\"rtc\"===this.mode)throw WC.warning(\"[\".concat(this._clientId,\"]rtc mode can not use setClientRole\")),new Mv(xg.INVALID_OPERATION,\"rtc mode can not use setClientRole\");if(t&&t.level&&\"host\"===e)throw new Mv(xg.INVALID_OPERATION,\"host mode can not set audience latency level\");if(\"audience\"===e&&this._p2pChannel.hasLocalMedia())throw new Mv(xg.INVALID_OPERATION,\"can not set client role to audience when publishing stream\");await this._gateway.setClientRole(e,t),this._config.role=e,WC.info(\"[\".concat(this._clientId,\"] set client role to \").concat(e,\", level: \").concat(t&&t.level))}getRemoteInboundOffset(){var e;const t=null===(e=this._p2pChannel.getStats())||void 0===e?void 0:e.audioSend[0];if(!t||!t.timestamp)return 0;const i=t.timestamp-Date.now();return Math.abs(i)>1e3+t.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?i:0}getNtpWallTimeInMs(){return\"visible\"===document.visibilityState&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(e,t){if(Wg(e,\"proxyServer\"),!t){if(\"DISCONNECTED\"!==this.connectionState)throw new Mv(xg.INVALID_OPERATION,\"Set proxy server before join channel\");if(\"disabled\"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new Mv(xg.INVALID_OPERATION,\"You have already set the proxy\")}this._proxyServer=e,iv.setProxyServer(this._proxyServer),WC.setProxyServer(this._proxyServer),WC.info(\"[\".concat(this._clientId,\"] Set proxy server \").concat(t?\"by initialize call\":\"\",\" success.\"))}setTurnServer(e,t){if(Array.isArray(e)||(e=[e]),!t){if(\"DISCONNECTED\"!==this.connectionState)throw new Mv(xg.INVALID_OPERATION,\"Set turn server before join channel\");if(\"disabled\"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new Mv(xg.INVALID_OPERATION,\"You have already set the proxy\")}if(_S(e))return this._turnServer={servers:e,mode:\"original-manual\"},void WC.info(\"[\".concat(this._clientId,\"] Set original turnserver \").concat(t?\"by initialize call\":\"\",\" success: \").concat(e.map((e=>e.urls)).join(\",\"),\".\"));e.forEach((e=>ES(e))),this._turnServer={servers:e,mode:\"manual\"},WC.info(\"[\".concat(this._clientId,\"] Set turnserver \").concat(t?\"by initialize call\":\"\",\" success.\"))}setLicense(e){if(\"DISCONNECTED\"!==this.connectionState){throw new Mv(xg.INVALID_OPERATION,\"you should set license before join channel\")}if(Wg(e,\"license\",32,32),!/^[A-Za-z\\d]+$/.test(e))throw new Mv(xg.INVALID_PARAMS,\"license should only contains characters from A-Z a-z 0-9\");this._license=e,WC.info(\"[\".concat(this._clientId,\"] set license success\"),e)}startProxyServer(e){if(\"DISCONNECTED\"!==this.connectionState)throw new Mv(xg.INVALID_OPERATION,\"Start proxy server before join channel\");if(this._proxyServer||\"manual\"===this._turnServer.mode||this._useLocalAccessPoint)throw new Mv(xg.INVALID_OPERATION,\"You have already set the proxy\");const t=[3,4,5];let i;switch(void 0===e&&(e=3),e){case 1:case 2:throw new Mv(xg.NOT_SUPPORTED,\"proxy mode 1/2 has been deprecated and not supported.\");case 3:i=\"proxy3\";break;case 4:i=\"proxy4\";break;case 5:i=\"proxy5\";break;default:throw new Mv(xg.INVALID_PARAMS,\"proxy server mode must be \".concat(t.join(\"|\")))}this._cloudProxyServerMode=i,this.store.cloudProxyServerMode=i,WC.info(\"[\".concat(this._clientId,\"] set cloud proxy server mode to\"),this._cloudProxyServerMode)}stopProxyServer(){if(\"DISCONNECTED\"!==this.connectionState)throw new Mv(xg.INVALID_OPERATION,\"Stop proxy server after leave channel\");iv.setProxyServer(),WC.setProxyServer(),this._cloudProxyServerMode=\"disabled\",this.store.cloudProxyServerMode=\"disabled\",WC.info(\"[\".concat(this._clientId,\"] set cloud proxy server mode to\"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:\"auto\",servers:[]}}setLocalAccessPointsV2(e){if(!e.accessPoints)throw new Mv(xg.INVALID_PARAMS,\"accessPoints is required.\");Hg(e.accessPoints.serverList,\"accessPoints.serverList\"),Wg(e.accessPoints.domain,\"accessPoints.domain\");const t=(e,t)=>{jg(e,t,0,65535,!0)};let i=443;if(e.accessPoints.port&&(t(e.accessPoints.port,\"accessPoints.port\"),i=e.accessPoints.port),this._proxyServer||\"disabled\"!==this._cloudProxyServerMode)throw new Mv(xg.INVALID_OPERATION,\"set local access point failed, You have already set the cloud proxy\");kC(\"CLOSE_AFB_FOR_LOCAL_AP\")&&(LC(\"JOIN_WITH_FALLBACK_SIGNAL_PROXY\",!1),LC(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\",!1));const n=/^((\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/,r=e.accessPoints.domain,s=e.accessPoints.serverList.map((e=>n.test(e)?\"\".concat(e.replace(/\\./g,\"-\"),\".\").concat(r):e)),o=s.map((e=>\"\".concat(e,\":\").concat(i)));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,LC(\"WEBCS_DOMAIN\",o),LC(\"WEBCS_DOMAIN_BACKUP_LIST\",o),LC(\"GATEWAY_DOMAINS\",[r]),e.report&&e.report.hostname&&Array.isArray(e.report.hostname)&&e.report.hostname.length?(Hg(e.report.hostname,\"report.hostname\"),LC(\"EVENT_REPORT_DOMAIN\",e.report.hostname[0]),LC(\"EVENT_REPORT_BACKUP_DOMAIN\",e.report.hostname[1]||e.report.hostname[0])):(LC(\"EVENT_REPORT_DOMAIN\",s[0]),LC(\"EVENT_REPORT_BACKUP_DOMAIN\",s[1]||s[0]));let a=6443;e.report&&e.report.port&&(t(e.report.port,\"report.port\"),a=e.report.port),LC(\"STATS_COLLECTOR_PORT\",a),e.report?LC(\"ENABLE_EVENT_REPORT\",!0):LC(\"ENABLE_EVENT_REPORT\",!1);let c=\"\";e.log&&e.log.hostname&&Array.isArray(e.log.hostname)&&e.log.hostname.length?(Hg(e.log.hostname,\"log.hostname\"),c=e.log.hostname[0]):c=s[0];let d=6444;e.log&&e.log.port&&(t(e.log.port,\"log.port\"),d=e.log.port),LC(\"LOG_UPLOAD_SERVER\",\"\".concat(c,\":\").concat(d));let l=[];e.cds&&e.cds.hostname&&Array.isArray(e.cds.hostname)&&e.cds.hostname.length?(Hg(e.cds.hostname,\"cds.hostname\"),l=e.cds.hostname):l=s;let h=443;e.cds&&e.cds.port&&(t(e.cds.port,\"cds.port\"),h=e.cds.port),LC(\"CDS_AP\",l.map((e=>\"\".concat(e,\":\").concat(h)))),e.cds?LC(\"ENABLE_CONFIG_DISTRIBUTE\",!0):LC(\"ENABLE_CONFIG_DISTRIBUTE\",!1),WC.info(\"set local access point v2 success\")}setLocalAccessPoints(e,t){if(Hg(e,\"serverList\"),Wg(t,\"domain\"),this._proxyServer||\"disabled\"!==this._cloudProxyServerMode)throw new Mv(xg.INVALID_OPERATION,\"set local access point failed, You have already set the cloud proxy\");const i=/^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/;e=e.map((e=>i.test(e)?\"\".concat(e.replace(/\\./g,\"-\"),\".\").concat(t):e)),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,LC(\"WEBCS_DOMAIN\",e),LC(\"WEBCS_DOMAIN_BACKUP_LIST\",e),LC(\"GATEWAY_DOMAINS\",[t]),LC(\"EVENT_REPORT_DOMAIN\",e[0]),LC(\"EVENT_REPORT_BACKUP_DOMAIN\",e[1]||e[0]),LC(\"LOG_UPLOAD_SERVER\",\"\".concat(e[0],\":6444\")),WC.info(\"[\".concat(this._clientId,\"] set local access point success\"))}async setRemoteDefaultVideoStreamType(e){if(Bg(e,\"streamType\",[0,1]),this._remoteDefaultVideoStreamType=e,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(e),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(e){throw WC.error(\"[\".concat(this._clientId,\"] set default remote video stream type error\"),e.toString()),e}else WC.debug(\"[\".concat(this._clientId,\"] haven't joined yet, cache remoteDefaultVideoStreamType \").concat(e))}async setRemoteVideoStreamType(e,t){Bg(t,\"streamType\",[0,1]);try{await this._gateway.setRemoteVideoStreamType(e,t),setTimeout((()=>{const t=this._users.find((t=>t.uid===e));t&&t.videoTrack&&t.videoTrack.updateMediaStreamTrackResolution()}),2e3)}catch(e){throw WC.error(\"[\".concat(this._clientId,\"] set remote video stream type error\"),e.toString()),e}WC.info(\"[\".concat(this._clientId,\"] set remote \").concat(e,\" video stream type to \").concat(t)),this._remoteStreamTypeCacheMap.set(e,t)}async setStreamFallbackOption(e,t){Bg(t,\"fallbackType\",[0,1,2]);try{await this._gateway.setStreamFallbackOption(e,t)}catch(e){throw WC.error(\"[\".concat(this._clientId,\"] set stream fallback option\"),e.toString()),e}WC.info(\"[\".concat(this._clientId,\"] set remote \").concat(e,\" stream fallback type to \").concat(t)),this._streamFallbackTypeCacheMap.set(e,t)}setEncryptionConfig(e,t,i){!function(e){Bg(e,\"encryptionMode\",[\"aes-128-xts\",\"aes-256-xts\",\"aes-128-ecb\",\"sm4-128-ecb\",\"aes-128-gcm\",\"aes-256-gcm\",\"aes-128-gcm2\",\"aes-256-gcm2\",\"none\"])}(e),Wg(t,\"secret\");const n=[\"aes-128-gcm2\",\"aes-256-gcm2\"];if(Pr(n).call(n,e)){if(!i||!(i instanceof Uint8Array&&32===i.length))throw new Mv(xg.INVALID_PARAMS,\"salt must be an Uint8Array and exactly equal to 32 bytes\")}else if(i)throw new Mv(xg.INVALID_PARAMS,\"current encrypt mode does not need salt\");new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\\\"|{}\\\\[\\\\]])(?=.{8,})\").test(t)||WC.warning(\"The secret is not strong:\\n      The secret must contain at least 1 lowercase alphabetical character,\\n      The secret must contain at least 1 uppercase alphabetical character,\\n      The secret must contain at least 1 numeric character,\\n      The secret must contain at least one special character,\\n      The secret must be eight characters or longer.\\n      \"),this._encryptionMode=e,this._encryptionSecret=t,i&&(this._encryptionSalt=PS(i))}async renewToken(e){if(Wg(e,\"token\",1,2047),!this._key||!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"renewToken should not be called before user join\");const t=this._key;this._key=e,this._joinInfo&&(this._joinInfo.token=e);const i=await this._renewTokenMutex.lock();try{if(kC(\"USE_NEW_TOKEN\")){WC.debug(\"[\".concat(this._clientId,\"] start renew token with ticket from unilbs\"));const t=await pP(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||JS);WC.debug(\"[\".concat(this._clientId,\"] get ticket from unilbs success\")),await this._gateway.renewToken({token:e,ticket:t})}else WC.debug(\"[\".concat(this._clientId,\"] start renew token without ticket\")),await this._gateway.renewToken({token:e});WC.debug(\"[\".concat(this._clientId,\"] renewToken success\"))}catch(e){throw this._key=t,this._joinInfo.token=t,WC.error(\"[\".concat(this._clientId,\"] renewToken failed\"),e.toString()),e}finally{i()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?WC.warning(\"you have already enabled audio volume indicator!\"):this._audioVolumeIndicationInterval=window.setInterval((()=>{const e=this._p2pChannel.getAudioLevels();this.safeEmit(dS.VOLUME_INDICATOR,e)}),kC(\"AUDIO_VOLUME_INDICATION_INTERVAL\")||2e3)}getRTCStats(){const e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}async startLiveStreaming(e,t){if(!t){if(\"h264\"!==this.codec)throw new Mv(xg.LIVE_STREAMING_INVALID_RAW_STREAM,\"raw streaming is only support h264\");if(!this._p2pChannel.hasLocalMedia())throw new Mv(xg.LIVE_STREAMING_INVALID_RAW_STREAM,\"can not find stream to raw streaming\")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e))throw new Mv(xg.LIVE_STREAMING_TASK_CONFLICT);const i=t?vv.TRANSCODE:vv.RAW;return this._createLiveStreamingClient(i).startLiveStreamingTask(e,i)}setLiveTranscoding(e){return this._createLiveStreamingClient(vv.TRANSCODE).setTranscodingConfig(e)}async stopLiveStreaming(e){const t=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter((t=>t&&t.hasUrl(e)));if(!t.length)throw new Mv(xg.INVALID_PARAMS,\"can not find live streaming url to stop\");await tg.all(t.map((t=>t&&t.stopLiveStreamingTask(e))))}async addInjectStreamUrl(e,t){if(!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"can not addInjectStreamUrl, no joininfo\");const i=this._createLiveStreamingClient(vv.INJECT);i.setInjectStreamConfig(t,0),await i.startLiveStreamingTask(e,vv.INJECT)}async removeInjectStreamUrl(){var e;const t=this._createLiveStreamingClient(vv.INJECT),i=Array.from(Pv(e=t.streamingTasks).call(e)).find((e=>e.mode===vv.INJECT));if(!this._joinInfo||!i)throw new Mv(xg.INVALID_OPERATION,\"can remove addInjectStreamUrl, no joininfo or inject task\");await t.stopLiveStreamingTask(i.url)}async startChannelMediaRelay(e){IP(e);const t=this._createChannelMediaRelayClient();await t.startChannelMediaRelay(e)}async updateChannelMediaRelay(e){IP(e);const t=this._createChannelMediaRelayClient();await t.updateChannelMediaRelay(e)}async stopChannelMediaRelay(){const e=this._createChannelMediaRelayClient();await e.stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0)}sendStreamMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"can not send data stream, not joined\");if((\"string\"==typeof e||e instanceof Uint8Array)&&(e={payload:e}),\"string\"==typeof e.payload){const t=new TextEncoder;e.payload=t.encode(e.payload)}if(new Blob([e.payload]).size>1024)throw new Mv(xg.INVALID_PARAMS,\"stream message out of range.\");return this._gateway.signal.request(fv.DATA_STREAM,{payload:PS(e.payload),syncWithAudio:e.syncWithAudio,sendTs:Date.now()-PM},!t)}sendMetadata(e){if(!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"can not send metadata, not joined\");if(new Blob([e]).size>1024)throw new Mv(xg.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(fv.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:PS(e)})}async sendCustomReportMessage(e){if(Array.isArray(e)||(e=[e]),e.forEach(YC),!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"can not send custom report, not joined\");await iv.sendCustomReportMessage(this._joinInfo.sid,e)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(e,t){Bg(t.spatialLayer,\"spatialLayer\",[0,1,2,3]),Bg(t.temporalLayer,\"temporalLayer\",[0,1,2,3]);try{await this._gateway.pickSVCLayer(e,t)}catch(e){throw WC.error(\"[\".concat(this._clientId,\"] pick SVC layer failed\"),e.toString()),e}}setRTM2Flag(e){if(Bg(e,\"flag\",[0,1]),!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"Can't setRtm2Flag, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Mv(xg.INVALID_OPERATION,\"Can't setRtm2Flag in \".concat(this.connectionState,\" state\"));return this._gateway.setRTM2Flag(e)}_reset(){if(WC.debug(\"[\".concat(this._clientId,\"] reset client\")),this._axiosCancelSource.cancel(),this._axiosCancelSource=EC.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode=\"none\",this._encryptionSecret=null,this._encryptionSalt=null,this._pendingPublishedUsers=[],this._users.forEach((e=>{e._audioTrack&&e._audioTrack._destroy(),e._videoTrack&&e._videoTrack._destroy(),e._dataChannels&&(e._dataChannels.forEach((e=>e._close())),e._dataChannels.length=0)})),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),\"fallback\"===this._cloudProxyServerMode&&(this._cloudProxyServerMode=\"disabled\",this.store.cloudProxyServerMode=\"disabled\"),this._p2pChannel.reset(),this._publishMutex=new YS(\"client-publish\"),this._subscribeMutex=new YS(\"client-subscribe\"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._injectStreamingClient&&(this._injectStreamingClient.terminate(),this._injectStreamingClient.removeAllListeners(),this._injectStreamingClient=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch(e){}if(this._moderation)try{this.setImageModeration(!1)}catch(e){}}_startSession(e,t){const i=e||VS();e?WC.debug(\"[\".concat(this._clientId,\"] new Session \").concat(i)):WC.debug(\"[\".concat(this._clientId,\"] renewSession \").concat(this._sessionId,\" => \").concat(i)),this._sessionId=i,this.store.sessionId=i,t?iv.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:t.channel,appid:t.appId,mode:this.mode}):this._joinInfo?iv.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._joinInfo.cname,appid:this._joinInfo.appId,mode:this.mode}):this._gateway.joinInfo&&iv.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._gateway.joinInfo.cname,appid:this._gateway.joinInfo.appId,mode:this.mode}),this._joinInfo&&(this._joinInfo.sid=i),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=i)}async _publishHighStream(e){if(!this._joinInfo||void 0===this._uid)throw new Mv(xg.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Mv(xg.INVALID_OPERATION,\"can not publish stream in \".concat(this.connectionState,\" state\"));if(\"auto\"===this._turnServer.mode&&kC(\"FORCE_TURN\")&&!kC(\"TURN_ENABLE_TCP\")&&!kC(\"TURN_ENABLE_UDP\"))throw new Mv(xg.UNEXPECTED_ERROR,\"force TURN With No TURN Configuration\");WC.debug(\"[\".concat(this._clientId,\"] publish high stream\"));try{if(this._p2pChannel instanceof wM){const t=await this._p2pChannel.publish(e,this._isDualStreamEnabled,this._lowStreamParameter);if(t)try{await this._gateway.sendExtensionMessage(AI.PUBLISH,t)}catch(t){throw this._p2pChannel.unpublish(e),t}}else{const i=await this._p2pChannel.publish(e,this._isDualStreamEnabled,this._lowStreamParameter),n=(await i.next()).value;if(n){var t;let e;try{e=await this._gateway.publish(this._uid,n,!0)}catch(e){if(e.code!==xg.DISCONNECT_P2P)throw i.throw(e),e}await i.next((null===(t=e)||void 0===t?void 0:t.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const t of e)t instanceof fb&&t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig),!t.muted&&t.enabled||await this._p2pChannel.muteLocalTrack(t)}}catch(t){if(this._p2pChannel.reportPublishEvent(!1,null==t?void 0:t.code,e),(null==t?void 0:t.code)===xg.WS_ABORT)return;throw t}}async _publishLowStream(){if(!this._joinInfo||void 0===this._uid)throw new Mv(xg.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Mv(xg.INVALID_OPERATION,\"can not publish stream in \".concat(this.connectionState,\" state\"));WC.debug(\"[\".concat(this._clientId,\"] publish low stream\"));const e=this._configDistribute.getLowStreamConfigDistribute();e&&e.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&e.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=e.bitrate));try{const e=await this._p2pChannel.publishLowStream(this._lowStreamParameter),i=(await e.next()).value;if(i){var t;let n;try{n=await this._gateway.publish(this._uid,i,!0)}catch(t){if(t.code!==xg.DISCONNECT_P2P)throw e.throw(t),t}e.next((null===(t=n)||void 0===t?void 0:t.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(e){if(this._p2pChannel.reportPublishEvent(!1,null==e?void 0:e.code,void 0,!0),(null==e?void 0:e.code)===xg.WS_ABORT)return;throw e}}_createLiveStreamingClient(e){if(!this._joinInfo||!this._appId){return new Mv(xg.INVALID_OPERATION,\"can not create live streaming client, please join channel first\").throw()}const t=()=>new CP(this._joinInfo,this._config.websocketRetryConfig||JS,this._config.httpRetryConfig||JS),i=e=>{e.onLiveStreamError=(e,t)=>{iv.reportApiInvoke(this._sessionId,{name:sS.ON_LIVE_STREAM_ERROR,options:[e,t],tag:oS.TRACER}).onSuccess(),this.safeEmit(dS.LIVE_STREAMING_ERROR,e,t)},e.onLiveStreamWarning=(e,t)=>{iv.reportApiInvoke(this._sessionId,{name:sS.ON_LIVE_STREAM_WARNING,options:[e,t],tag:oS.TRACER}).onSuccess(),this.safeEmit(dS.LIVE_STREAMING_WARNING,e,t)},e.on(Hv.REQUEST_WORKER_MANAGER_LIST,((e,t,i)=>{if(!this._joinInfo)return i(new Mv(xg.INVALID_OPERATION,\"can not find join info to get worker manager\"));hP(e,this._joinInfo,this._axiosCancelSource.token,JS).then(t).catch(i)}))};switch(e){case vv.RAW:return this._liveRawStreamingClient||(this._liveRawStreamingClient=t(),i(this._liveRawStreamingClient)),this._liveRawStreamingClient;case vv.TRANSCODE:return this._liveTranscodeStreamingClient||(this._liveTranscodeStreamingClient=t(),i(this._liveTranscodeStreamingClient)),this._liveTranscodeStreamingClient;case vv.INJECT:return this._injectStreamingClient||(this._injectStreamingClient=t(),this._injectStreamingClient.on(Hv.REQUEST_WORKER_MANAGER_LIST,((e,t,i)=>{if(!this._joinInfo)return i(new Mv(xg.INVALID_OPERATION,\"can not find join info to get worker manager\"));hP(e,this._joinInfo,this._axiosCancelSource.token,JS).then(t).catch(i)})),this._injectStreamingClient.onInjectStatusChange=(e,t,i)=>{this.safeEmit(dS.INJECT_STREAM_STATUS,e,t,i)}),this._injectStreamingClient}}_createChannelMediaRelayClient(){if(!this._joinInfo){return new Mv(xg.INVALID_OPERATION,\"can not create channel media relay client, please join channel first\").throw()}if(!this._channelMediaRelayClient){const{sendResolutionWidth:e,sendResolutionHeight:t}=this.getLocalVideoStats(),i={width:e,height:t};this._channelMediaRelayClient=new AP(this._joinInfo,this._clientId,this._config.websocketRetryConfig||JS,this._config.httpRetryConfig||JS,i),this._channelMediaRelayClient.on(\"state\",(e=>{e===zv.RELAY_STATE_FAILURE&&this._channelMediaRelayClient&&this._channelMediaRelayClient.dispose(),this.safeEmit(dS.CHANNEL_MEDIA_RELAY_STATE,e)})),this._channelMediaRelayClient.on(\"event\",(e=>{this.safeEmit(dS.CHANNEL_MEDIA_RELAY_EVENT,e)})),this._statsCollector.onStatsChanged=(e,t)=>{var i;\"resolution\"===e&&(null===(i=this._channelMediaRelayClient)||void 0===i||i.setVideoProfile(t))}}return this._channelMediaRelayClient}_handleUpdateDataChannel(e,t){const{added:i,deleted:n}=e,r=[];Array.isArray(i)&&i.length>0&&i.forEach((e=>{const{uid:i,stream_id:n,ordered:s,max_retrans_times:o,metadata:a}=e,c=this._users.find((e=>e._uintid===i));if(!c)return void WC.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_data_channel)\"));WC.debug(\"[\".concat(this._clientId,\"] data_channel added with uid \").concat(i)),Pr(r).call(r,c)||r.push(c),c._uintid||(c._uintid=i);if(!(-1!==c._dataChannels.findIndex((t=>t.id===e.stream_id)))){const e={id:n,ordered:!!s,maxRetransmits:o,metadata:a},i=new tD(e);c._dataChannels.push(i),WC.info(\"[\".concat(this._clientId,\"] remote user \").concat(c.uid,\" published datachannel\")),t||this.safeEmit(dS.USER_PUBLISHED,c,\"datachannel\",e)}this._p2pChannel.hasPendingRemoteDataChannel(c,e.stream_id)&&(WC.debug(\"[\".concat(this._clientId,\"] resubscribe datachannel for user \").concat(c.uid,\" after reconnect.\")),this._subscribeDataChannel(c,e.stream_id).catch((e=>{WC.error(\"[\".concat(this._clientId,\"] resubscribe datachannel error\"),e.toString())})))})),t&&(this.safeEmit(dS.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(n)&&n.length>0&&n.forEach((e=>{const{uid:t,stream_id:i}=e,n=this._users.find((e=>e._uintid===t));if(!n)return void WC.error(\"[\".concat(this._clientId,\"] can not find target user!(on_delete_data_channel)\"));const r=n._dataChannels.find((t=>t.id===e.stream_id));r&&(WC.debug(\"[\".concat(this._clientId,\"] data_stream delete with uid \").concat(t)),this._p2pChannel.unsubscribeDataChannel(n,[r]).then((e=>{if(e)return n._dataChannels=n._dataChannels.filter((e=>e!==r)),this._gateway.unsubscribeDataChannel(e,n.uid)})),WC.info(\"[\".concat(this._clientId,\"] remote user \").concat(t,\" unpublished datachannel ,id:\").concat(r.id)),this.safeEmit(dS.USER_UNPUBLISHED,n,\"datachannel\",r._config))}))}_handleRemoveDataChannels(e){const t=this._users.find((t=>t.uid===e.uid));if(t){if(void 0!==t._dataChannels&&t._dataChannels.length>0){WC.debug(\"[\".concat(this._clientId,\"] datachannel removed with uid \").concat(e.uid));const i=()=>{WC.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished datachannel\")),t._dataChannels.forEach((e=>{this.safeEmit(dS.USER_UNPUBLISHED,t,\"datachannel\",e._config)}))};this._p2pChannel.unsubscribeDataChannel(t,t._dataChannels).then((e=>{if(e)return this._gateway.unsubscribeDataChannel(e,t.uid)})),i()}}else WC.warning(\"[\".concat(this._clientId,\"] can not find target user!(on_remove_datachannel)\"))}_handleGatewayEvents(){this._gateway.on(Zv.DISCONNECT_P2P,(async()=>{await this._p2pChannel.disconnectForReconnect()})),this._gateway.on(Zv.CONNECTION_STATE_CHANGE,((e,t,i)=>{var n;if(i===cS.FALLBACK)return;const r=()=>{this.safeEmit(dS.CONNECTION_STATE_CHANGE,e,t,i)};if(iv.reportApiInvoke(this._sessionId||(null===(n=this._gateway.joinInfo)||void 0===n?void 0:n.sid)||null,{name:sS.CONNECTION_STATE_CHANGE,options:[e,t,i],tag:oS.TRACER}).onSuccess(JSON.stringify({cur:e,prev:t,reason:i})),WC.info(\"[\".concat(this._clientId,\"] connection state change: \").concat(t,\" -> \").concat(e)),\"DISCONNECTED\"===e)return this._reset(),void r();if(\"RECONNECTING\"===e)this._users.forEach((e=>{e._trust_in_room_=!1,e._trust_audio_enabled_state_=!1,e._trust_video_enabled_state_=!1,e._trust_audio_mute_state_=!1,e._trust_video_mute_state_=!1,e._trust_audio_stream_added_state_=!1,e._trust_video_stream_added_state_=!1,e._audioSSRC=void 0,e._videoSSRC=void 0,e._videoOrtc=void 0,e._audioOrtc=void 0,e._cname=void 0,e._rtxSsrcId=void 0})),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if(\"CONNECTED\"===e){var s;this._streamFallbackTypeCacheMap.forEach(((e,t)=>{this._gateway.setStreamFallbackOption(t,e).catch((e=>{WC.warning(\"[\".concat(this._clientId,\"] auto set stream fallback option failed\"),e)}))})),this._remoteStreamTypeCacheMap.forEach(((e,t)=>{this._gateway.setRemoteVideoStreamType(t,e).catch((e=>{WC.warning(\"[\".concat(this._clientId,\"] auto set remote stream type failed\"),e)}))})),void 0!==this._remoteDefaultVideoStreamType&&void 0===(null===(s=this._joinInfo)||void 0===s?void 0:s.defaultVideoStream)&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then((()=>{WC.debug(\"[\".concat(this._clientId,\"] setRemoteDefaultVideoStreamType after gateway connected\"))})).catch((e=>{WC.error(\"[\".concat(this._clientId,\"] setRemoteDefaultVideoStreamType after gateway failed, \").concat(e))})),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout((()=>{if(\"CONNECTED\"!==this.connectionState)return;this._userOfflineTimeout=void 0;this._users.filter((e=>!e._trust_in_room_)).forEach((e=>{WC.debug(\"[\".concat(this._clientId,\"] user offline timeout, emit user offline \").concat(e.uid)),this._handleUserOffline({uid:e.uid})}))}),3e3),this._streamRemovedTimeout=window.setTimeout((()=>{\"CONNECTED\"===this.connectionState&&(this._streamRemovedTimeout=void 0,this._users.forEach((e=>{e._trust_audio_mute_state_||(WC.debug(\"[\".concat(this._clientId,\"] auto dispatch audio unmute event \").concat(e.uid)),this._handleMuteStream(e.uid,dI.AUDIO,!1)),e._trust_video_mute_state_||(WC.debug(\"[\".concat(this._clientId,\"] auto dispatch video unmute event \").concat(e.uid)),this._handleMuteStream(e.uid,dI.VIDEO,!1)),e._trust_audio_enabled_state_||(WC.debug(\"[\".concat(this._clientId,\"] auto dispatch enable local audio \").concat(e.uid)),this._handleSetStreamLocalEnable(\"audio\",e.uid,!0)),e._trust_video_enabled_state_||(WC.debug(\"[\".concat(this._clientId,\"] auto dispatch enable local video \").concat(e.uid)),this._handleSetStreamLocalEnable(\"video\",e.uid,!0)),e._trust_video_stream_added_state_||(WC.debug(\"[\".concat(this._clientId,\"] auto dispatch reset video stream added \").concat(e.uid)),this._handleResetAddStream(e,\"video\")),e._trust_audio_stream_added_state_||(WC.debug(\"[\".concat(this._clientId,\"] auto dispatch reset audio stream added \").concat(e.uid)),this._handleResetAddStream(e,\"audio\")),e._video_added_||e._audio_added_||(WC.debug(\"[\".concat(this._clientId,\"] auto dispatch stream remove \").concat(e.uid)),this._handleRemoveStream({uid:e.uid,uint_id:e._uintid}))})))}),1e3))}r()})),this._gateway.on(Zv.REQUEST_NEW_GATEWAY_LIST,((e,t)=>{if(!this._joinInfo)return t(new Mv(xg.UNEXPECTED_ERROR,\"can not recover, no join info\"));oP(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||JS,this.store).then((t=>{this._joinInfo&&(this._joinInfo.apResponse=t.gatewayInfo.res,this._joinInfo.gatewayAddrs=t.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=t.gatewayInfo.uni_lbs_ip);const i=[];t.gatewayInfo.gatewayAddrs.forEach((e=>{let{address:t}=e;const[n,r]=t.split(\":\");this._joinInfo&&this._joinInfo.proxyServer?i.push({proxy:this._joinInfo.proxyServer,host:n,port:r}):i.push({host:n,port:r})})),e(i)})).catch(t)})),this._gateway.on(Zv.NETWORK_QUALITY,(e=>{\"normal\"===this._networkQualitySensitivity&&this.safeEmit(dS.NETWORK_QUALITY,e)})),this._gateway.on(Zv.STREAM_TYPE_CHANGE,((e,t)=>{this.safeEmit(dS.STREAM_TYPE_CHANGED,e,t);iv.reportApiInvoke(this._sessionId,{name:sS.STREAM_TYPE_CHANGE,options:[e,t],tag:oS.TRACER}).onSuccess(JSON.stringify({uid:e,streamType:t}))})),this._gateway.on(Zv.IS_P2P_DISCONNECTED,(e=>{this._p2pChannel.isP2PDisconnected()?e(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?e(!1):e(!0)})),this._gateway.on(Zv.NEED_RENEW_SESSION,(()=>{this._startSession()})),this._gateway.on(Zv.REQUEST_P2P_CONNECTION_PARAMS,(async(e,t,i)=>{try{t(await this._p2pChannel.startP2PConnection(e))}catch(e){i(e)}})),this._gateway.on(Zv.JOIN_RESPONSE,((e,t)=>{if(this.store.useP2P)return;const{dtlsParameters:i,iceParameters:n,candidates:r,rtpCapabilities:s,setup:o,cname:a}=JP(e.ortc,t);this._p2pChannel.connect(n,i,r,s,o,a)})),this._gateway.on(Zv.REQUEST_DC_CONNECTION_PARAMS,(e=>{e(this._p2pChannel.getEstablishParams())})),this._gateway.on(Zv.RESET_SIGNAL,(e=>{this._p2pChannel.resetConnection(e),this._handleGatewaySignalEvents()})),this._gateway.on(Zv.DATACHANNEL_FAILBACK,(()=>{this._joinGateway()})),this._gateway.on(Zv.DATACHANNEL_PRECONNECT,(async(e,t,i,n)=>{var r,s,o,a,c,d;await this._p2pChannel.startP2PConnection({turnServer:null===(r=this._joinInfo)||void 0===r?void 0:r.turnServer},!0);const l=function(e,t){let i;return t&&t.ip&&\"number\"==typeof t.port?(i=[{foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip,port:t.port.toString(),type:\"host\",extension:{}}],WC.debug(\"Using remote candidate from AP \".concat(t.ip,\":\").concat(t.port)),t.ip6&&(i.push({foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:t.ip6,port:t.port.toString(),type:\"host\",extension:{}}),WC.debug(\"Using IPV6 remote candidate from AP \".concat(t.ip6,\":\").concat(t.port)))):i=[{foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:e.ip,port:e.port.toString(),type:\"host\",extension:{}}],i}(e,t);return this._p2pChannel.preConnect({iceUfrag:\"\".concat(null===(s=this._joinInfo)||void 0===s?void 0:s.apResponse.cid,\"_\").concat(null===(o=this._joinInfo)||void 0===o?void 0:o.apResponse.cert),icePwd:\"\".concat(null===(a=this._joinInfo)||void 0===a?void 0:a.apResponse.cid,\"_\").concat(null===(c=this._joinInfo)||void 0===c?void 0:c.apResponse.cert)},{fingerprints:[{hashFunction:\"sha-256\",fingerprint:null!==(d=kC(\"FINGERPRINT\"))&&void 0!==d?d:e.fingerprint}]},l,{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},\"active\",\"o/i14u9pJrxRKAsu\").then(i).catch(n)}))}_handleGatewaySignalEvents(){this._gateway.signal.on(Sv.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(Sv.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(Sv.ON_ADD_AUDIO_STREAM,(e=>this._handleAddAudioOrVideoStream(\"audio\",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc))),this._gateway.signal.on(Sv.ON_ADD_VIDEO_STREAM,(e=>this._handleAddAudioOrVideoStream(\"video\",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc,e.rtxSsrcId))),this._gateway.signal.on(Sv.ON_REMOTE_DATASTREAM_UPDATE,(e=>{this._handleUpdateDataChannel(e)})),this._gateway.signal.on(Sv.ON_REMOTE_FULL_DATASTREAM_INFO,(e=>{this._handleUpdateDataChannel({added:e.datastreams,deleted:[]},!0)})),this._gateway.signal.on(Sv.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(Sv.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(Sv.MUTE_AUDIO,(e=>this._handleMuteStream(e.uid,dI.AUDIO,!0))),this._gateway.signal.on(Sv.UNMUTE_AUDIO,(e=>this._handleMuteStream(e.uid,dI.AUDIO,!1))),this._gateway.signal.on(Sv.MUTE_VIDEO,(e=>this._handleMuteStream(e.uid,dI.VIDEO,!0))),this._gateway.signal.on(Sv.UNMUTE_VIDEO,(e=>this._handleMuteStream(e.uid,dI.VIDEO,!1))),this._gateway.signal.on(Sv.RECEIVE_METADATA,(e=>{const t=DS(e.metadata);this.safeEmit(dS.RECEIVE_METADATA,e.uid,t)})),this._gateway.signal.on(Sv.ON_DATA_STREAM,(async e=>{if(!e)return;let t=0;if(e.ordered||e.syncWithAudio){const i=this._p2pChannel.getStats(),n=this.remoteUsers.find((t=>t.uid===e.uid)),r=null==i?void 0:i.audioRecv.find((e=>e.ssrc===(null==n?void 0:n._audioSSRC)));t=null==r?void 0:r.jitterBufferMs}null==t&&(t=0),VM(e,t,{id:this._clientId,onStreamMessage:\"function\"==typeof this.onStreamMessage?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)})})),this._gateway.signal.on(Sv.ON_CRYPT_ERROR,(()=>{NS((()=>{WC.warning(\"[\".concat(this._clientId,\"] on crypt error\")),this.safeEmit(dS.CRYPT_ERROR)}),this._sessionId)})),this._gateway.signal.on(Sv.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(Sv.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{WC.warning(\"[\".concat(this._clientId,\"] received message onTokenPrivilegeDidExpire, please get new token and join again\")),this._gateway.leave(!0,cS.TOKEN_EXPIRE),this.safeEmit(dS.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()})),this._gateway.signal.on(Sv.ON_STREAM_FALLBACK_UPDATE,(e=>{WC.debug(\"[\".concat(this._clientId,\"] stream fallback peerId: \").concat(e.stream_id,\", attr: \").concat(e.stream_type)),this.safeEmit(dS.STREAM_FALLBACK,e.stream_id,1===e.stream_type?\"fallback\":\"recover\")})),this._gateway.signal.on(Sv.ON_PUBLISH_STREAM,(e=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:e.proxy})),WC.info(\"[\".concat(this._clientId,\"] on publish stream, \").concat(JSON.stringify(e))))})),this._gateway.signal.on(Sv.ENABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable(\"video\",e.uid,!0)})),this._gateway.signal.on(Sv.DISABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable(\"video\",e.uid,!1)})),this._gateway.signal.on(mv.REQUEST_TIMEOUT,((e,t)=>{if(this._joinInfo)switch(e){case fv.PUBLISH:{if(!t)return;const e=t.ortc;if(e){var i,n;const r=e.some((e=>{let{stream_type:t}=e;return t===Qv.Audio})),s=e.some((e=>{let{stream_type:t}=e;return t!==Qv.Audio})),o=e.some((e=>{let{stream_type:t}=e;return t===Qv.Screen||t===Qv.ScreenLow}));\"offer\"===t.state&&iv.publish(this._joinInfo.sid,{eventElapse:sD.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:xg.TIMEOUT,audio:r,video:s,p2pid:t.p2p_id,publishRequestid:this.store.pubId,screenshare:o,audioName:r?null===(i=e.find((e=>{let{stream_type:t}=e;return t===Qv.Audio})))||void 0===i||null===(i=i.ssrcs[0])||void 0===i?void 0:i.ssrcId.toString():void 0,videoName:s?null===(n=e.find((e=>{let{stream_type:t}=e;return t!==Qv.Audio})))||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId.toString():void 0})}break}case fv.SUBSCRIBE:t&&iv.subscribe(this._joinInfo.sid,{succ:!1,ec:xg.TIMEOUT,audio:t.stream_type===dI.AUDIO,video:t.stream_type===dI.VIDEO,peerid:t.stream_id,subscribeRequestid:t.ssrcId,p2pid:this.store.p2pId,eventElapse:sD.measureFromSubscribeStart(this.store.clientId,t.ssrcId)})}})),this._gateway.signal.on(Sv.ON_P2P_OK,(e=>{this.uid,this._uid})),this._gateway.signal.on(Sv.ON_PUBLISHED_USER_LIST,(e=>{if(null==e||!e.users)return;kC(\"BLOCK_LOCAL_CLIENT\")&&(e.users=e.users.filter((e=>!av(e.string_id||e.stream_id,this.channelName))));const t=[],i=[];for(const n of e.users){let e=this._users.find((e=>e._uintid===n.stream_id));e?e._trust_in_room_=!0:(e=new bP(n.string_id||n.stream_id,n.stream_id),this._users.push(e),0===this.getListeners(dS.PUBLISHED_USER_LIST).length&&(WC.debug(\"[\".concat(this._clientId,\"] user online\"),n.stream_id),this.safeEmit(dS.USER_JOINED,e)));const r=eI.Audio&n.stream_type,s=(eI.Video|eI.LwoVideo)&n.stream_type,o=0!=(65280&n.stream_type),a=r&&e.hasAudio,c=s&&e.hasVideo;s&&(e._trust_video_stream_added_state_=!0,e._video_added_=!0,e._videoSSRC=n.video_ssrc,e._rtxSsrcId=n.video_rtx),r&&(e._trust_audio_stream_added_state_=!0,e._audio_added_=!0,e._audioSSRC=n.audio_ssrc),r&&!a&&0===this.getListeners(dS.PUBLISHED_USER_LIST).length&&(WC.info(\"[\".concat(this._clientId,\"] remote user \").concat(e.uid,\" published audio\")),this.safeEmit(dS.USER_PUBLISHED,e,\"audio\")),s&&!c&&0===this.getListeners(dS.PUBLISHED_USER_LIST).length&&(WC.info(\"[\".concat(this._clientId,\"] remote user \").concat(e.uid,\" published video\")),this.safeEmit(dS.USER_PUBLISHED,e,\"video\")),(r&&!a||s&&!c||o)&&t.push(e),s&&this._p2pChannel.hasPendingRemoteMedia(e,\"video\")&&i.push({user:e,mediaType:\"video\"}),r&&this._p2pChannel.hasPendingRemoteMedia(e,\"audio\")&&i.push({user:e,mediaType:\"audio\"})}i.length>0&&(WC.debug(\"[\".concat(this._clientId,\"] RE massSubscribe after reconnect \").concat(i.map((e=>\"user: \".concat(e.user.uid,\", mediaType: \").concat(e.mediaType))).join(\"; \"),\" \")),this.massSubscribe(i).catch((e=>{WC.error(\"[\".concat(this._clientId,\"] mass resubscribe error\"),e.toString())}))),this.getListeners(dS.PUBLISHED_USER_LIST).length>0?kC(\"ENABLE_DATASTREAM_2\")?this._pendingPublishedUsers=t:(WC.info(\"[\".concat(this._clientId,\"] client emit user-list event, users: \").concat(t.map((e=>e.uid)).join(\", \"))),this.safeEmit(dS.PUBLISHED_USER_LIST,t)):WC.info(\"[\".concat(this._clientId,\"] client not emit user-list event case there is no user-list listener, users: \").concat(t.map((e=>e.uid)).join(\", \")))}))}_handleP2PEvents(){this._gateway.signal.on(Sv.ON_USER_OFFLINE,(()=>{this._p2pChannel.disconnectForReconnect()})),this._gateway.signal.on(AI.PUBLISH,(async(e,t)=>{e.forEach((e=>e.kind===dI.VIDEO?(this._handleP2PAddAudioOrVideoStream(\"video\",t),e.isMuted?this._handleMuteStream(t,dI.VIDEO,!0):this._handleMuteStream(t,dI.VIDEO,!1)):(this._handleP2PAddAudioOrVideoStream(\"audio\",t),e.isMuted?this._handleMuteStream(t,dI.AUDIO,!0):this._handleMuteStream(t,dI.AUDIO,!1))))})),this._gateway.signal.on(mv.P2P_START,(async(e,t)=>{if(this._p2pChannel instanceof wM){var i;t(await this._p2pChannel.startP2P({turnServer:null===(i=this._joinInfo)||void 0===i?void 0:i.turnServer},e))}})),this._gateway.signal.on(mv.P2P_CONNECTION,(async e=>{this._p2pChannel instanceof wM&&await this._p2pChannel.p2pConnect(e)})),this._gateway.signal.on(mv.P2P_REMOTE_CANDIDATE_UPDATE,(e=>{this._p2pChannel instanceof wM&&this._p2pChannel.addRemoteCandidate(JSON.parse(e))})),this._gateway.signal.on(AI.SUBSCRIBE,(async(e,t,i)=>{if(this._p2pChannel instanceof wM){const{trackType:n}=JSON.parse(e);try{await this._p2pChannel.dopublish(n),t()}catch(e){i(e)}}})),this._gateway.signal.on(AI.UNSUBSCRIBE,(async(e,t,i)=>{if(this._p2pChannel instanceof wM){const{mediaType:n}=JSON.parse(e);try{await this._p2pChannel.doUnpublish(n),t()}catch(e){i(e)}}})),this._gateway.signal.on(AI.EXCHANGE_SDP,(async(e,t,i)=>{if(this._p2pChannel instanceof wM){const{type:n,sdp:r}=JSON.parse(e);try{t(await this._p2pChannel.setDescription(n,r))}catch(e){i(e)}}})),this._gateway.signal.on(AI.UNPUBLISH,(async(e,t,i)=>{if(this._p2pChannel instanceof wM){const{unpubMsg:n,uid:r}=e;if(1===n.length){const s=n[0].stream_type===Qv.Audio?dI.AUDIO:dI.VIDEO;this._handleMuteStream(r,s,!0);const{sdp:o}=e;if(this._p2pChannel instanceof wM&&o){const e=this._users.find((e=>e.uid===r));if(!e)return WC.warning(\"[\".concat(this._clientId,\"] can not find remote user, ignore mute event, uid: \").concat(r)),void t();this._p2pChannel.unsubscribe(e,o,s).then((e=>{e&&t(e)})).catch(i)}else t()}else this._handleRemoveStream(e,t,i)}})),this._gateway.signal.on(AI.CONTROL,(async(e,t,i)=>{const{action:n,sdp:r,isMuteAll:s,uid:o}=e;switch(n){case bI.MUTE_LOCAL_VIDEO:this._handleMuteStream(o,dI.VIDEO,!0,r,t,i);break;case bI.MUTE_LOCAL_AUDIO:t(),this._handleMuteStream(o,dI.AUDIO,!0);break;case bI.UNMUTE_LOCAL_VIDEO:t(),this._handleP2PAddAudioOrVideoStream(\"video\",o),this._handleMuteStream(o,dI.VIDEO,!1);break;case bI.UNMUTE_LOCAL_AUDIO:t(),this._handleP2PAddAudioOrVideoStream(\"audio\",o),this._handleMuteStream(o,dI.AUDIO,!1)}s&&this._handleRemoveStream(e,t,i)})),this._gateway.signal.on(AI.DO_SUBSCRIBE,(async(e,t,i)=>{if(this._p2pChannel instanceof wM){const{kind:n,sdp:r,ssrcId:s,uid:o}=e,a=this._users.find((e=>e.uid===o));if(!a)return WC.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\")),void t();try{t(await this._p2pChannel.subscribe(a,n,r,s))}catch(e){i(e)}}})),this._gateway.signal.on(AI.DO_UNSUBSCRIBE,(async(e,t,i)=>{if(this._p2pChannel instanceof wM){const{uid:n,kind:r,sdp:s}=e,o=this._users.find((e=>e.uid===n));if(!o)return WC.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\")),void t();try{t(await this._p2pChannel.unsubscribe(o,s,r))}catch(e){i(e)}}})),this._gateway.signal.on(AI.RESTART_ICE,(async(e,t,i)=>{if(this._p2pChannel instanceof wM)try{t(await this._p2pChannel.setDescription(\"remote\",e))}catch(e){i(e)}})),this._p2pChannel.on(_I.RequestP2PRestartICE,(async(e,t,i)=>{try{t(await this._gateway.sendExtensionMessage(AI.RESTART_ICE,e))}catch(e){i(e)}})),this._p2pChannel.on(_I.LocalCandidate,(e=>{this._gateway.sendExtensionMessage(AI.CANDIDATE,JSON.stringify(e))})),this._p2pChannel.on(_I.RequestP2PMuteLocal,(async(e,t,i)=>{try{t(await this._gateway.sendExtensionMessage(AI.CONTROL,e))}catch(e){i(e)}})),this._p2pChannel.on(_I.RequestP2PPublish,(async(e,t,i)=>{try{t(await this._gateway.sendExtensionMessage(AI.DO_SUBSCRIBE,e))}catch(e){i(e)}})),this._p2pChannel.on(_I.RequestP2PUnPublish,(async(e,t,i)=>{try{t(await this._gateway.sendExtensionMessage(AI.DO_UNSUBSCRIBE,e))}catch(e){i(e)}})),this._p2pChannel.on(_I.RequestP2PUnmuteRemote,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===xg.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(_I.RequestP2PMuteRemote,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.muteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===xg.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(_I.StateChange,((e,t)=>{t===pI.Connected&&this._p2pChannel.republish()}))}_handleP2PChannelEvents(){this._p2pChannel.on(_I.RequestMuteLocal,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.muteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===xg.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(_I.RequestUnmuteLocal,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===xg.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(_I.RequestRePublish,((e,t,i)=>{this.publish(e,!1).then(t).catch(i)})),this._p2pChannel.on(_I.RequestRePublishDataChannel,((e,t,i)=>{tg.all(e.map((async e=>{await this._p2pChannel.publishDataChannel([e]);const t={streamId:e.id,ordered:e.ordered,maxRetransmits:e.maxRetransmits,metadata:e.metadata,channelId:e._originDataChannelId};try{await this._gateway.publishDataChannel(this._uid,t,!0)}catch(e){if(e.code!==xg.DISCONNECT_P2P)throw e}}))).then(t).catch(i)})),this._p2pChannel.on(_I.RequestReSubscribe,(async(e,t,i)=>{try{for(const{user:t,kind:i}of e)i===dI.VIDEO?await this.subscribe(t,\"video\"):await this.subscribe(t,\"audio\");t()}catch(e){i(e)}})),this._p2pChannel.on(_I.RequestUploadStats,((e,t)=>{this._gateway.uploadStats(e,t)})),this._p2pChannel.on(_I.MediaReconnectStart,(e=>{this.safeEmit(dS.MEDIA_RECONNECT_START,e)})),this._p2pChannel.on(_I.MediaReconnectEnd,(e=>{this.safeEmit(dS.MEDIA_RECONNECT_END,e)})),this._p2pChannel.on(_I.NeedSignalRTT,(e=>{e(this._gateway.getSignalRTT())})),this._p2pChannel.on(_I.RequestRestartICE,(async e=>{if(this._p2pChannel instanceof wM)return;const t=await this._p2pChannel.restartICE(e),i=await t.next();if(i.done)return;const n=i.value;let r;try{r=await this._gateway.restartICE({iceParameters:n})}catch(e){return void t.throw(e)}const{iceParameters:s}=function(e){const t=e.iceParameters;return{iceParameters:{iceUfrag:t.iceUfrag,icePwd:t.icePwd}}}(r);await t.next({remoteIceParameters:s})})),this._p2pChannel.on(_I.RequestReconnect,(async()=>{this._gateway.reconnect()})),this._p2pChannel.on(_I.RequestReconnectPC,(async()=>{var e;const{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}=await this._p2pChannel.startP2PConnection({turnServer:null===(e=this._joinInfo)||void 0===e?void 0:e.turnServer}),{gatewayEstablishParams:r,gatewayAddress:s}=await this._gateway.reconnectPC({iceParameters:t,dtlsParameters:i,rtpCapabilities:n}),{dtlsParameters:o,iceParameters:a,candidates:c,rtpCapabilities:d,setup:l,cname:h}=JP(r,s);await this._p2pChannel.connect(a,o,c,d,l,h),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()})),this._p2pChannel.on(_I.RequestUnpublishForReconnectPC,(async(e,t,i)=>{this._joinInfo&&void 0!==this._uid?(await this._gateway.unpublish(e,this._uid),t()):i()})),this._p2pChannel.on(_I.P2PLost,(()=>{this.safeEmit(dS.P2P_LOST,this.store.uid)})),this._p2pChannel.on(_I.UpdateVideoEncoder,(e=>{e._encoderConfig&&this._gateway.setVideoProfile(e._encoderConfig)})),this._p2pChannel.on(_I.ConnectionTypeChange,(e=>{this.safeEmit(dS.IS_USING_CLOUD_PROXY,e)})),this._p2pChannel.on(_I.RequestLowStreamParameter,(e=>{e(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})})),this._p2pChannel.on(_I.QueryClientConnectionState,(e=>{e(this.connectionState)}))}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(e){if(\"CONNECTED\"!==this.connectionState||!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client did not join channel\"));if(this._inspect)throw new Mv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Inspect content service already in connecting/connected state\"));if(!e)throw new Mv(xg.INVALID_PARAMS,\"[\".concat(this._clientId,\"] inspectConfig is necessary\"));if(!e.inspectType||!Array.isArray(e.inspectType))throw new Mv(xg.INVALID_PARAMS,\"[\".concat(this._clientId,\"] inspectConfig.inspectType is necessary and is an instance of Array.\"));{const t=[...new Set(e.inspectType)];t.forEach((e=>{var t;if(!Pr(t=[\"supervise\",\"moderation\"]).call(t,e))throw new Mv(xg.INVALID_PARAMS,\"[\".concat(this._clientId,\"] \").concat(e,\" is not a valid inspect type.\"))})),e.inspectType=t}if(e&&e.extraInfo&&e.extraInfo.length>1024)throw new Mv(xg.INVALID_PARAMS,\"[\".concat(this._clientId,\"] inspectConfig.extraInfo length cannot exceed 1024 bytes\"));try{const t=new jk(e);this._inspect=t,this.handleVideoInspectEvents(this._inspect),await t.init({appId:this._joinInfo.appId,areaCode:\"\",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},JS)}catch(e){throw Array.isArray(e)?e[0]:e}}async disableContentInspect(){if(!this._inspect)throw new Mv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] inspectVideoContent not started\"));try{this._inspect.close(),this._inspect=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}async setImageModeration(e,t){if(Fg(e,\"enabled\"),e){if(!t)throw new Mv(xg.INVALID_PARAMS,\"[\".concat(this._clientId,\"] config is necessary\"));if(jg(t.interval,\"interval\",1e3,1/0),\"CONNECTED\"!==this.connectionState||!this._joinInfo)throw new Mv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,'] can not enable image moderation, not joined\"'));try{if(this._moderation)return void this._moderation.updateConfig(t);const e=new TM(t);this._moderation=e,this.handleImageModerationEvents(this._moderation),await e.init({appId:this._joinInfo.appId,areaCode:\"\",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},JS)}catch(e){throw Array.isArray(e)?e[0]:e}}else{if(!this._moderation)throw new Mv(xg.INVALID_OPERATION,\"[\".concat(this._clientId,\"] image moderation not started\"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}}handleImageModerationEvents(e){e.on(II.CONNECTION_STATE_CHANGE,((t,i)=>{if(this.safeEmit(dS.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,t,i),t===vI.CONNECTED){if(\"CONNECTED\"!==this.connectionState)throw this.setImageModeration(!1),new Mv(xg.OPERATION_ABORTED,\"Image moderation was cancelled because it left the channel\");e.inspectImage()}})),e.on(II.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>\"video\"===e.trackMediaType))[0])}))}handleVideoInspectEvents(e){e.on(gI.CONNECTION_STATE_CHANGE,((t,i)=>{if(this.safeEmit(dS.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,t,i),i===mI.CONNECTED){if(\"CONNECTED\"!==this.connectionState)return void this.safeEmit(dS.CONTENT_INSPECT_ERROR,new Mv(xg.OPERATION_ABORTED,\"Content inspect was cancelled because it left the channel\"));e.inspectImage()}})),e.on(gI.INSPECT_RESULT,((e,t)=>{var i;if((null==t?void 0:t.code)===xg.INVALID_OPERATION&&\"DISCONNECTED\"===this.connectionState)return WC.debug(\"Stop inspect content because that has left channel\"),null==this||null===(i=this._inspect)||void 0===i||i.close(),void(this._inspect=void 0);this.safeEmit(dS.CONTENT_INSPECT_RESULT,e,t)})),e.on(gI.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>\"video\"===e.trackMediaType))[0])}))}getJoinChannelServiceRecords(){return WC.debug(\"getJoinChannelServiceRecords\"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(e){Fg(e,\"enabled\"),LC(\"ENABLE_PUBLISH_AUDIO_FILTER\",e),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(e)}_handleResetAddStream(e,t){switch(t){case\"audio\":e._audio_added_=!1,e._trust_audio_stream_added_state_=!0;break;case\"video\":e._video_added_=!1,e._trust_video_stream_added_state_=!0}}}Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",tg)],jM.prototype,\"leave\",null),Lv([tv({argsMap:(e,t)=>{if(!Array.isArray(t)){if(!(t instanceof $y))return[t];t=[t]}return t.map((e=>e?Object(e).toString():\"null\"))}}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Boolean]),kv(\"design:returntype\",tg)],jM.prototype,\"publish\",null),Lv([tv({argsMap:(e,t)=>(t||(t=[]),t instanceof iD?[t.getChannelId()]:(Array.isArray(t)||(t=[t]),t.map((e=>e.getTrackId()))))}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",tg)],jM.prototype,\"unpublish\",null),Lv([tv({argsMap:(e,t,i,n)=>[t.uid,i,n]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,String,Number]),kv(\"design:returntype\",tg)],jM.prototype,\"subscribe\",null),Lv([tv({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:i}=e;return[null==t?void 0:t.uid,i]}))}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],jM.prototype,\"massSubscribe\",null),Lv([tv({argsMap:(e,t,i,n)=>[t.uid,i,n]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[bP,String,Number]),kv(\"design:returntype\",tg)],jM.prototype,\"unsubscribe\",null),Lv([tv({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:i}=e;return{uid:null==t?void 0:t.uid,mediaType:i}}))}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array]),kv(\"design:returntype\",tg)],jM.prototype,\"massUnsubscribe\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",tg)],jM.prototype,\"setLowStreamParameter\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",tg)],jM.prototype,\"enableDualStream\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",tg)],jM.prototype,\"disableDualStream\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,Object]),kv(\"design:returntype\",tg)],jM.prototype,\"setClientRole\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,Boolean]),kv(\"design:returntype\",void 0)],jM.prototype,\"setProxyServer\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Boolean]),kv(\"design:returntype\",void 0)],jM.prototype,\"setTurnServer\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",void 0)],jM.prototype,\"setLicense\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Number]),kv(\"design:returntype\",void 0)],jM.prototype,\"startProxyServer\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],jM.prototype,\"stopProxyServer\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",void 0)],jM.prototype,\"setLocalAccessPointsV2\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Array,String]),kv(\"design:returntype\",void 0)],jM.prototype,\"setLocalAccessPoints\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Number]),kv(\"design:returntype\",tg)],jM.prototype,\"setRemoteDefaultVideoStreamType\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Number]),kv(\"design:returntype\",tg)],jM.prototype,\"setRemoteVideoStreamType\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Number]),kv(\"design:returntype\",tg)],jM.prototype,\"setStreamFallbackOption\",null),Lv([tv({argsMap:(e,t)=>[t]}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,String,Uint8Array]),kv(\"design:returntype\",void 0)],jM.prototype,\"setEncryptionConfig\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],jM.prototype,\"renewToken\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",void 0)],jM.prototype,\"enableAudioVolumeIndicator\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,Boolean]),kv(\"design:returntype\",tg)],jM.prototype,\"startLiveStreaming\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",tg)],jM.prototype,\"setLiveTranscoding\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String]),kv(\"design:returntype\",tg)],jM.prototype,\"stopLiveStreaming\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[String,Object]),kv(\"design:returntype\",tg)],jM.prototype,\"addInjectStreamUrl\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",tg)],jM.prototype,\"removeInjectStreamUrl\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[vP]),kv(\"design:returntype\",tg)],jM.prototype,\"startChannelMediaRelay\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[vP]),kv(\"design:returntype\",tg)],jM.prototype,\"updateChannelMediaRelay\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",tg)],jM.prototype,\"stopChannelMediaRelay\",null),Lv([tv({argsMap:(e,t)=>(Array.isArray(t)||(t=[t]),[JSON.stringify(t)])}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",tg)],jM.prototype,\"sendCustomReportMessage\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object,Object]),kv(\"design:returntype\",tg)],jM.prototype,\"pickSVCLayer\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Number]),kv(\"design:returntype\",tg)],jM.prototype,\"setRTM2Flag\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Object]),kv(\"design:returntype\",tg)],jM.prototype,\"enableContentInspect\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",tg)],jM.prototype,\"disableContentInspect\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Boolean,Object]),kv(\"design:returntype\",tg)],jM.prototype,\"setImageModeration\",null),Lv([tv({reportResult:!0}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[]),kv(\"design:returntype\",Array)],jM.prototype,\"getJoinChannelServiceRecords\",null),Lv([tv(),kv(\"design:type\",Function),kv(\"design:paramtypes\",[Boolean]),kv(\"design:returntype\",tg)],jM.prototype,\"setPublishAudioFilterEnabled\",null);const GM=pg().name;class WM{constructor(e,t){nu(this,\"id\",0),nu(this,\"element\",void 0),nu(this,\"peerPair\",void 0),nu(this,\"context\",void 0),nu(this,\"audioPlayerElement\",void 0),nu(this,\"audioTrack\",void 0),WM.count+=1,this.id=WM.count,this.element=e,this.context=t}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=e=>{const t=document.createElement(\"audio\");t.srcObject=new MediaStream([e.track]),t.play(),this.audioPlayerElement=t}}async switchSdp(){if(!this.peerPair)return;const e=async(e,t)=>{const i=\"offer\"===t?await e.createOffer():await e.createAnswer();return await e.setLocalDescription(i),\"complete\"===e.iceGatheringState?e.localDescription:new tg((t=>{e.onicegatheringstatechange=()=>{\"complete\"===e.iceGatheringState&&t(e.localDescription)}}))},t=async(e,t)=>await e.setRemoteDescription(t);try{const i=await e(this.peerPair[0],\"offer\");await t(this.peerPair[1],i);const n=await e(this.peerPair[1],\"answer\");await t(this.peerPair[0],n)}catch(e){throw new Mv(xg.LOCAL_AEC_ERROR,e.toString()).print()}}async getTracksFromMediaElement(e){if(this.audioTrack)return this.audioTrack;let t;try{e instanceof HTMLVideoElement&&(e.captureStream?e.captureStream():e.mozCaptureStream()),t=this.context.createMediaStreamDestination();this.context.createMediaElementSource(e).connect(t)}catch(e){throw new Mv(xg.LOCAL_AEC_ERROR,e.toString()).print()}if(!t){throw new Mv(xg.LOCAL_AEC_ERROR,\"no dest node when local aec\").print()}const i=t.stream.getAudioTracks()[0];return this.audioTrack=i,i}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const e=this.element,t=await this.getTracksFromMediaElement(e);this.peerPair&&this.peerPair[0].addTrack(t),await this.switchSdp()}close(){WC.debug(\"close echo cancellation unit, id is\",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach((e=>{e.close()})),this.peerPair=void 0,this.audioPlayerElement=void 0}}nu(WM,\"count\",0);const HM=window.AudioContext||window.webkitAudioContext;class KM{constructor(){nu(this,\"units\",[]),nu(this,\"context\",void 0)}processExternalMediaAEC(e){if(!this._doesEnvironmentNeedAEC())return WC.debug(\"the system does not need to process local aec\"),-1;this.context||(this.context=new HM);let t=this.units.find((t=>t&&t.getElement()===e));return t||(t=new WM(e,this.context),this.units.push(t)),t.startEchoCancellation(),WC.debug(\"start processing local audio echo cancellation, id is\",t.id),t.id}_doesEnvironmentNeedAEC(){return pg().name!==cg.SAFARI}}Lv([tv({report:iv}),kv(\"design:type\",Function),kv(\"design:paramtypes\",[HTMLAudioElement]),kv(\"design:returntype\",Number)],KM.prototype,\"processExternalMediaAEC\",null);const YM=new KM;function qM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function JM(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?qM(Object(i),!0).forEach((function(t){nu(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):qM(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const zM=window||document;function XM(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!zM)return;const i=QM._cspEventHandlerPointer;if(i&&t)return void console.error(i,t);const n=e=>{if(!(e&&e.blockedURI&&(QM.onSecurityPolicyViolation||QM.getListeners(RI.SECURITY_POLICY_VIOLATION).length>0)))return;const t=e.blockedURI;kC(\"CSP_DETECTED_HOSTNAME_LIST\").some((e=>Pr(t).call(t,e)))&&(QM.onSecurityPolicyViolation&&\"function\"==typeof QM.onSecurityPolicyViolation&&QM.onSecurityPolicyViolation(e),QM.getListeners(RI.SECURITY_POLICY_VIOLATION).length>0&&QM.safeEmit(RI.SECURITY_POLICY_VIOLATION,e))};i&&zM.removeEventListener(\"securitypolicyviolation\",i),(t||e&&\"function\"==typeof e||QM.getListeners(RI.SECURITY_POLICY_VIOLATION).length>0)&&zM.addEventListener(\"securitypolicyviolation\",n),QM._cspEventHandlerPointer=n}LC(\"PROCESS_ID\",\"process-\".concat(xS(8,\"\"),\"-\").concat(xS(4,\"\"),\"-\").concat(xS(4,\"\"),\"-\").concat(xS(4,\"\"),\"-\").concat(xS(12,\"\"))),function(){const e=pg();lA.getDisplayMedia=function(e){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return!0;return!1}(),lA.getStreamFromExtension=e.name===cg.CHROME&&Number(e.version)>34,lA.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver)return!1;if(!(\"currentDirection\"in RTCRtpTransceiver.prototype))return!1;const e=new RTCPeerConnection;let t=!1;try{e.addTransceiver(\"audio\"),t=!0}catch(e){}return e.close(),t}(),lA.supportMinBitrate=e.name===cg.CHROME||e.name===cg.EDGE,lA.supportSetRtpSenderParameters=function(){const e=pg();if(!window.RTCRtpSender||!window.RTCRtpSender.prototype.setParameters||!window.RTCRtpSender.prototype.getParameters)return!1;return!!kg()||(!(!Tg()&&!mg())||e.name===cg.FIREFOX&&Number(e.version)>=64)}(),e.name===cg.SAFARI&&(Number(e.version)>=14?lA.supportDualStream=!0:lA.supportDualStream=!1),lA.webAudioMediaStreamDest=function(){const e=pg();if(e.name===cg.SAFARI&&Number(e.version)<12)return!1;return!0}(),lA.supportReplaceTrack=function(){if(!window.RTCRtpSender)return!1;if(\"function\"==typeof RTCRtpSender.prototype.replaceTrack)return!0;return!1}(),lA.supportWebGL=\"undefined\"!=typeof WebGLRenderingContext,lA.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,kg()||(lA.webAudioWithAEC=!0),lA.supportShareAudio=function(){const e=pg();if((e.os===ag.WIN_10||e.os===ag.WIN_81||e.os===ag.WIN_7||e.os===ag.LINUX||e.os===ag.MAC_OS)&&e.name===cg.CHROME&&Number(e.version)>=74)return!0;return!1}(),lA.supportDataChannel=function(){if(vg(76)||function(e){const t=pg();return!(t.name!==cg.FIREFOX||!t.osVersion)&&Number(t.version)>=e}(68)||function(e){const t=pg();return!(t.name!==cg.SAFARI||!t.osVersion)&&Number(t.version)>=e}(14))return!0;return!1}(),lA.supportPCSetConfiguration=function(){const e=window.RTCPeerConnection;return!Rg()&&!!e&&e.prototype.setConfiguration instanceof Function}(),lA.supportWebRTCEncodedTransform=function(){const e=pg();return\"Chrome\"===e.name&&Number(e.version)>=86}(),lA.supportWebRTCInsertableStream=function(){const e=pg();return(e.name===cg.CHROME||e.name===cg.EDGE)&&Number(e.version)>=94&&\"MediaStreamTrackGenerator\"in window&&\"MediaStreamTrackProcessor\"in window}(),AS((()=>{lA.supportDualStreamEncoding=function(){const e=pg();if(kC(\"DISABLE_WEBAUDIO\"))return!0;return\"Safari\"===e.name&&Number(e.version)>=14||!!(\"Chrome\"===e.name&&/Windows/i.test(e.os||\"\")&&Number(e.version)>=100&&kC(\"CHROME_DUAL_STREAM_USE_ENCODING\"))}(),WC.info(\"browser compatibility\",JSON.stringify(lA),JSON.stringify(e))}))}(),function(){let e;try{e=window.localStorage.getItem(\"websdk_ng_global_parameter\")}catch(e){return void WC.error(\"Error loading sdk config\",e.message)}if(e)try{const t=JSON.parse(window.atob(e)),i=Date.now();WC.debug(\"Loading global parameters from cache\",t),Object.keys(t).forEach((e=>{if(Object.prototype.hasOwnProperty.call(PC,e)){const{value:n,expires:r}=t[e];if(r&&r<=i)return;MC[e]=n,PC[e]=n}}))}catch(t){WC.error(\"Error loading mutableParamsCache: \".concat(e),t.message)}}(),Array.isArray(MC.AREAS)&&MC.AREAS.length>0&&HD(MC.AREAS,!0);const QM=function(e){const t=new iS,i=e,n={getListeners:t.getListeners.bind(t),on:(e,i)=>(function(e,t){e===RI.SECURITY_POLICY_VIOLATION&&XM(t,!0)}(e,i),t.on.bind(t)(e,i)),addListener:t.addListener.bind(t),once:t.once.bind(t),off:t.off.bind(t),removeAllListeners:t.removeAllListeners.bind(t),emit:t.emit.bind(t),safeEmit:t.safeEmit.bind(t)};return JM(JM({},i),n)}({__TRACK_LIST__:wy,VERSION:OC,BUILD:DC,ESM_BUNDLER:!1,ESM:!1,UMD:!0,DEV:!1,setParameter:(e,t,i)=>{WC.debug(\"setParameter key:\".concat(e,\", value:\").concat(JSON.stringify(t))),LC(e,t,i)},getParameter:kC,getSupportedCodec:async function(){let e={audio:[],video:[]};try{let t=new RTCPeerConnection;t.addTransceiver(\"video\",{direction:\"recvonly\"}),t.addTransceiver(\"audio\",{direction:\"recvonly\"});const i=(await t.createOffer()).sdp;if(!i)return e;t.close(),t=null,e=function(e){const t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push(\"VP8\"),e.match(/ VP9/i)&&t.video.push(\"VP9\"),e.match(/ AV1/i)&&t.video.push(\"AV1\"),e.match(/ H264/i)&&t.video.push(\"H264\"),e.match(/ H265/i)&&t.video.push(\"H265\"),e.match(/ opus/i)&&t.audio.push(\"OPUS\"),e.match(/ PCMU/i)&&t.audio.push(\"PCMU\"),e.match(/ PCMA/i)&&t.audio.push(\"PCMA\"),e.match(/ G722/i)&&t.audio.push(\"G722\"),t}(i)}catch(e){throw new Mv(xg.CREATE_OFFER_FAILED,e.toString&&e.toString()).print()}return e},checkSystemRequirements:function(){const e=iv.reportApiInvoke(null,{name:sS.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:oS.TRACER});let t=!1;try{const e=window.RTCPeerConnection,i=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,n=window.WebSocket;t=!!(e&&i&&n)}catch(e){return WC.error(\"check system requirement failed: \",e),!1}let i=!1;const n=pg();n.name===cg.CHROME&&Number(n.version)>=58&&(!gg()||fg())&&(i=!0),n.name===cg.FIREFOX&&Number(n.version)>=56&&(i=!0),n.name===cg.OPERA&&Number(n.version)>=45&&(i=!0),n.name===cg.SAFARI&&Number(n.version)>=11&&(i=!0),(Pg()||pg().name===cg.QQ)&&(i=!0),WC.debug(\"checkSystemRequirements, api:\",t,\"browser\",i);const r=t&&i;return e.onSuccess(r),r},getDevices:function(e){return AA.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return AA.getRecordingDevices(e)},getCameras:function(e){return AA.getCamerasDevices(e)},getElectronScreenSources:fA,getPlaybackDevices:function(e){return AA.getSpeakers(e)},createClient:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codec:\"vp8\",audioCodec:\"opus\",mode:\"rtc\"};const t=iv.reportApiInvoke(null,{name:sS.CREATE_CLIENT,options:[e],tag:oS.TRACER});try{!function(e){Bg(e.codec,\"config.codec\",[\"vp8\",\"vp9\",\"av1\",\"h264\",\"h265\"]),Bg(e.mode,\"config.mode\",[\"rtc\",\"live\"]),void 0!==e.audioCodec&&Bg(e.audioCodec,\"config.audioCodec\",[\"opus\",\"pcmu\",\"pcma\",\"g722\"]),void 0!==e.proxyServer&&Wg(e.proxyServer,\"config.proxyServer\",1,1e4),void 0!==e.turnServer&&ES(e.turnServer),void 0!==e.httpRetryConfig&&pS(e.httpRetryConfig),void 0!==e.websocketRetryConfig&&pS(e.websocketRetryConfig)}(e)}catch(e){throw t.onError(e),e}return void 0===e.audioCodec&&(e.audioCodec=\"opus\"),t.onSuccess(),new jM(BM(BM({forceWaitGatewayResponse:!0},e),{},{role:\"rtc\"===e.mode?\"host\":e.role||\"audience\"}))},createCameraVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=iv.reportApiInvoke(null,{tag:oS.TRACER,name:sS.CREATE_CAM_VIDEO_TRACK,options:[Tb({},e)]}),i=$A(e),n=xS(8,\"track-cam-\");let r=null;WC.info(\"start create camera video track with config\",JSON.stringify(e),\"trackId\",n);try{r=(await CA({video:i},n)).getVideoTracks()[0]||null}catch(e){throw t.onError(e),e}if(!r){const e=new Vg(xg.UNEXPECTED_ERROR,\"can not find track in media stream\");return t.onError(e),e.throw(WC)}e.optimizationMode&&Rb(n,r,e,vy(e.encoderConfig));const s=new gb(r,e,i,e.scalabiltyMode?yy(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,n);return t.onSuccess(s.getTrackId()),WC.info(\"create camera video success, trackId:\",n),s},createCustomVideoTrack:function(e){const t=iv.reportApiInvoke(null,{tag:oS.TRACER,name:sS.CREATE_CUSTOM_VIDEO_TRACK,options:[e]}),i=new fb(e.mediaStreamTrack,{width:e.width,height:e.height,frameRate:e.frameRate,bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?yy(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,xS(8,\"track-cus-\"),[Dy.CUSTOM_TRACK]);return t.onSuccess(i.getTrackId()),WC.info(\"create custom video track success with config\",e,\"trackId\",i.getTrackId()),i},createScreenVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"disable\";const i=iv.reportApiInvoke(null,{tag:oS.TRACER,name:sS.CREATE_SCREEN_VIDEO_TRACK,options:[Tb({},e),t]});e.encoderConfig?\"string\"==typeof e.encoderConfig||e.encoderConfig.width&&e.encoderConfig.height||(e.encoderConfig.width={max:1920},e.encoderConfig.height={max:1080}):e.encoderConfig=\"1080p_2\";const n=function(e){const t={};e.screenSourceType&&(t.mediaSource=e.screenSourceType),e.extensionId&&Sg()&&(t.extensionId=e.extensionId);const{displaySurface:i,selfBrowserSurface:n,surfaceSwitching:r,systemAudio:s}=e;(vg(107)||Ig(107)||yg(93))&&(i&&(Bg(i,\"displaySurface\",[\"browser\",\"window\",\"monitor\"]),t.displaySurface=i),n?(Bg(n,\"selfBrowserSurface\",[\"exclude\",\"include\"]),t.selfBrowserSurface=n):t.selfBrowserSurface=\"include\",r&&(Bg(r,\"surfaceSwitching\",[\"exclude\",\"include\"]),t.surfaceSwitching=r)),(vg(105)||Ig(105)||yg(91))&&s&&(Bg(s,\"systemAudio\",[\"exclude\",\"include\"]),t.systemAudio=s),e.electronScreenSourceId&&(t.sourceId=e.electronScreenSourceId);const o=e.encoderConfig?Iy(e.encoderConfig):null;return t.mandatory={chromeMediaSource:\"desktop\",maxWidth:o?o.width:void 0,maxHeight:o?o.height:void 0},o&&(o.frameRate&&(\"number\"==typeof o.frameRate?(t.mandatory.maxFrameRate=o.frameRate,t.mandatory.minFrameRate=o.frameRate):(t.mandatory.maxFrameRate=o.frameRate.max||o.frameRate.ideal||o.frameRate.exact||void 0,t.mandatory.minFrameRate=o.frameRate.min||o.frameRate.ideal||o.frameRate.exact||void 0),t.frameRate=o.frameRate),o.width&&(t.width=o.width),o.height&&(t.height=o.height)),t}(e),r=xS(8,\"track-scr-v-\");let s=null,o=null;const a=hA();if(!a.supportShareAudio&&\"enable\"===t){const e=new Vg(xg.NOT_SUPPORTED,\"your browser or platform is not support share-screen with audio\");return i.onError(e),e.throw(WC)}WC.info(\"start create screen video track with config\",e,\"withAudio\",t,\"trackId\",r);try{const e=await CA({screen:n,screenAudio:\"auto\"===t?a.supportShareAudio:\"enable\"===t},r);s=e.getVideoTracks()[0]||null,o=e.getAudioTracks()[0]||null}catch(e){throw i.onError(e),e}if(!s){const e=new Vg(xg.UNEXPECTED_ERROR,\"can not find track in media stream\");return i.onError(e),e.throw(WC)}if(!o&&\"enable\"===t){s&&s.stop();const e=new Vg(xg.SHARE_AUDIO_NOT_ALLOWED);return i.onError(e),e.throw(WC)}if(e.optimizationMode||(e.optimizationMode=\"detail\"),e.optimizationMode){Rb(r,s,e,e.encoderConfig&&Iy(e.encoderConfig)||void 0),e.encoderConfig&&\"string\"!=typeof e.encoderConfig&&(e.encoderConfig.bitrateMin=e.encoderConfig.bitrateMax)}const c=new fb(s,e.encoderConfig?Iy(e.encoderConfig):{},e.scalabiltyMode?yy(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,r,[Dy.SCREEN_TRACK]);if(!o)return i.onSuccess(c.getTrackId()),WC.info(\"create screen video track success\",\"video:\",c.getTrackId()),c;const d=new zA(o,void 0,xS(8,\"track-scr-a-\"),!1,!0);return i.onSuccess([c.getTrackId(),d.getTrackId()]),WC.info(\"create screen video track success\",\"video:\",c.getTrackId(),\"audio:\",d.getTrackId()),[c,d]},createMicrophoneAndCameraTracks:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=iv.reportApiInvoke(null,{tag:oS.TRACER,name:sS.CREATE_MIC_AND_CAM_TRACKS,options:[e,t]}),n=$A(t),r=eb(e),s=xS(8,\"track-mic-\"),o=xS(8,\"track-cam-\");let a=null,c=null;WC.info(\"start create camera video track(\".concat(o,\") and microphone audio track(\").concat(s,\") with config, audio: \").concat(JSON.stringify(e),\", video: \").concat(JSON.stringify(t)));try{const e=await CA({audio:r,video:n},\"\".concat(s,\"-\").concat(o));a=e.getAudioTracks()[0],c=e.getVideoTracks()[0]}catch(e){throw i.onError(e),e}if(!a||!c){const e=new Vg(xg.UNEXPECTED_ERROR,\"can not find tracks in media stream\");return i.onError(e),e.throw(WC)}t.optimizationMode&&Rb(o,c,t,vy(t.encoderConfig));const d=new XA(a,e,r,s),l=new gb(c,t,n,t.scalabiltyMode?yy(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,o);return i.onSuccess([d.getTrackId(),l.getTrackId()]),WC.info(\"create camera video track(\".concat(o,\") and microphone audio track(\").concat(s,\") success\")),[d,l]},createMicrophoneAudioTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=iv.reportApiInvoke(null,{tag:oS.TRACER,name:sS.CREATE_MIC_AUDIO_TRACK,options:[e]}),i=eb(e),n=xS(8,\"track-mic-\");let r=null;WC.info(\"start create microphone audio track with config\",JSON.stringify(e),\"trackId\",n);try{r=(await CA({audio:i},n)).getAudioTracks()[0]||null}catch(e){throw t.onError(e),e}if(!r){const e=new Vg(xg.UNEXPECTED_ERROR,\"can not find track in media stream\");return t.onError(e),e.throw(WC)}const s=new XA(r,e,i,n);return t.onSuccess(s.getTrackId()),WC.info(\"create microphone audio track success, trackId:\",n),s},createCustomAudioTrack:function(e){const t=iv.reportApiInvoke(null,{tag:oS.TRACER,name:sS.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),i=new zA(e.mediaStreamTrack,e.encoderConfig?by(e.encoderConfig):{},xS(8,\"track-cus-\"),!1,!0);return WC.info(\"create custom audio track success with config\",e,\"trackId\",i.getTrackId()),t.onSuccess(i.getTrackId()),i},createBufferSourceAudioTrack:async function(e){var t;const{cacheOnlineFile:i,encoderConfig:n}=e;let{source:r}=e;const s={source:r instanceof AudioBuffer?\"AudioBuffer\":r instanceof File?null!==(t=File.name)&&void 0!==t?t:\"File\":r,cacheOnlineFile:i,encoderConfig:n},o=iv.reportApiInvoke(null,{tag:oS.TRACER,name:sS.CREATE_BUFFER_AUDIO_TRACK,options:[s]});if(kC(\"DISABLE_WEBAUDIO\"))throw new Vg(xg.NOT_SUPPORTED,\"can not create BufferSourceAudioTrack when WebAudio disabled\");const a=xS(8,\"track-buf-\");WC.info(\"start create buffer source audio track with config\",JSON.stringify(s),\"trackId\",a);const c=r;if(!(r instanceof AudioBuffer))try{r=await nb(r,i)}catch(e){return o.onError(e),e.throw(WC)}const d=new tb(r),l=new QA(c,d,n?by(n):{},a);return WC.info(\"create buffer source audio track success, trackId:\",a),o.onSuccess(l.getTrackId()),l},setAppType:function(e){if(WC.debug(\"setAppType: \".concat(e)),!(Number.isInteger(e)&&e>=0))throw WC.debug(\"Invalid appType\"),new Mv(xg.INVALID_PARAMS,\"invalid app type\",e);LC(\"APP_TYPE\",Math.floor(e))},setLogLevel:function(e){WC.setLogLevel(e)},enableLogUpload:function(){kC(\"USE_NEW_LOG\")?LC(\"UPLOAD_LOG\",!0):WC.enableLogUpload()},disableLogUpload:function(){kC(\"USE_NEW_LOG\")?LC(\"UPLOAD_LOG\",!1):WC.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new vP},checkAudioTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const i=iv.reportApiInvoke(null,{tag:oS.TRACER,name:sS.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof zA||e instanceof Ab)){const e=new Mv(xg.INVALID_TRACK,\"the parameter is not a audio track\");return i.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const n=e instanceof zA?e.getTrackLabel():\"remote_track\",r=e.getVolumeLevel();let s=r,o=r;const a=Date.now();return new tg((r=>{const c=setInterval((()=>{const d=e.getVolumeLevel();s=d>s?d:s,o=d<o?d:o;const l=s-o>1e-4,h=Date.now()-a;if(l||h>t){clearInterval(c);const t=l,o={duration:h,deviceLabel:n,maxVolumeLevel:s,result:t};WC.info(\"[track-\".concat(e.getTrackId(),\"] check audio track active completed. \").concat(JSON.stringify(o))),i.onSuccess(o),r(t)}}),200)}))},checkVideoTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const i=iv.reportApiInvoke(null,{tag:oS.TRACER,name:sS.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof fb||e instanceof yb)){const e=new Mv(xg.INVALID_TRACK,\"the parameter is not a video track\");return i.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const n=e instanceof fb?e.getTrackLabel():\"remote_track\",r=e.getMediaStreamTrack(!0),s=document.createElement(\"video\");s.style.width=\"1px\",s.style.height=\"1px\",s.setAttribute(\"muted\",\"\"),s.muted=!0,s.setAttribute(\"playsinline\",\"\"),s.controls=!1,(Tg()||mg())&&(s.style.opacity=\"0.01\",s.style.position=\"fixed\",s.style.left=\"0\",s.style.top=\"0\",document.body.appendChild(s)),s.srcObject=new MediaStream([r]),s.play();const o=document.createElement(\"canvas\");o.width=160,o.height=120;let a=0,c=0;try{const e=Date.now();a=await function(e,t,i,n){let r,s=0,o=null;return new tg(((a,c)=>{function d(){s>n&&r&&(r(),a(s));const t=i.getContext(\"2d\");if(!t){const e=new Mv(xg.UNEXPECTED_ERROR,\"can not get canvas 2d context.\");return WC.error(e.toString()),void c(e)}t.drawImage(e,0,0,160,120);const d=t.getImageData(0,0,i.width,i.height),l=Math.floor(d.data.length/3);if(o){for(let e=0;e<l;e+=3)if(d.data[e]!==o[e])return s+=1,void(o=d.data);o=d.data}else o=d.data}setTimeout((()=>{r&&(r(),a(s))}),t),r=dA((()=>{d()}),30)}))}(s,t,o,4),c=Date.now()-e}catch(e){throw i.onError(e),e}GM===cg.SAFARI&&(s.pause(),s.remove()),s.srcObject=null;const d=a>4,l={duration:c,changedPicNum:a,deviceLabel:n,result:d};return WC.info(\"[track-\".concat(e.getTrackId(),\"] check video track active completed. \").concat(JSON.stringify(l))),i.onSuccess(l),d},setArea:HD,audioElementPlayCenter:kA,processExternalMediaAEC:function(e){YM.processExternalMediaAEC(e)},registerExtensions:function(e){e.forEach((e=>{const t=e;t.__registered__=!0,t.logger.hookLog=WC.extLog,t.reporter.hookApiInvoke=iv.extApiInvoke,t.parameters&&Object.keys(t.parameters).forEach((e=>{t.parameters[e]=kC(e)}))}))},ChannelMediaRelayError:Xv,ChannelMediaRelayEvent:Jv,ChannelMediaRelayState:zv,RemoteStreamFallbackType:ky,RemoteStreamType:Ly,ConnectionDisconnectedReason:cS,AudienceLatencyLevelType:aS,AREAS:iI});return Object.defineProperties(QM,{onAudioAutoplayFailed:{get:()=>wA.onAudioAutoplayFailed,set:e=>{wA.onAudioAutoplayFailed=e}},onAutoplayFailed:{get:()=>wA.onAutoplayFailed,set:e=>{wA.onAutoplayFailed=e}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>QM._onSecurityPolicyViolation,set(e){QM._onSecurityPolicyViolation=e,XM(e)}},__CLIENT_LIST__:{get:()=>kC(\"SHOW_GLOBAL_CLIENT_LIST\")?ov:[]}}),AA.on(Jy.CAMERA_DEVICE_CHANGED,(e=>{WC.info(\"camera device changed\",JSON.stringify(e)),QM.onCameraChanged&&QM.onCameraChanged(e),QM.safeEmit(RI.CAMERA_CHANGED,e)})),AA.on(Jy.RECORDING_DEVICE_CHANGED,(e=>{WC.info(\"microphone device changed\",JSON.stringify(e)),QM.onMicrophoneChanged&&QM.onMicrophoneChanged(e),QM.safeEmit(RI.MICROPHONE_CHANGED,e)})),AA.on(Jy.PLAYOUT_DEVICE_CHANGED,(e=>{WC.debug(\"playout device changed\",JSON.stringify(e)),QM.onPlaybackDeviceChanged&&QM.onPlaybackDeviceChanged(e),QM.safeEmit(RI.PLAYBACK_DEVICE_CHANGED,e)})),kA.onAutoplayFailed=()=>{WC.info(\"detect audio element autoplay failed\"),wA.onAudioAutoplayFailed&&wA.onAudioAutoplayFailed()},nA.on(\"autoplay-failed\",(()=>{WC.info(\"detect webaudio autoplay failed\"),wA.onAudioAutoplayFailed&&wA.onAudioAutoplayFailed(),QM.safeEmit(RI.AUTOPLAY_FAILED)})),RS.on(uS.NETWORK_STATE_CHANGE,((e,t)=>{WC.info(\"[network-indicator] network state changed, \".concat(t,\" => \").concat(e))})),window&&(window.__ARTC__=QM),QM}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYWdvcmEtcnRjLXNkay1uZy9BZ29yYVJUQ19OLXByb2R1Y3Rpb24uanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBLGVBQWUsS0FBb0Qsb0JBQW9CLENBQWtILENBQUMsa0JBQWtCLGFBQWEsZ0JBQWdCLDhCQUE4Qiw4RUFBOEUsNkJBQTZCLDJDQUEyQyxtQ0FBbUMsNkJBQTZCLGFBQWEsR0FBRyxHQUFHLG9CQUFvQixjQUFjLGtCQUFrQixtQkFBbUIseUNBQXlDLGtCQUFrQiwrQkFBK0IsMkRBQTJELGlDQUFpQyx3Q0FBd0MsWUFBWSxhQUFhLDBDQUEwQyx3Q0FBd0MsZ0dBQWdHLDhCQUE4QixvQ0FBb0MsNkVBQTZFLDREQUE0RCxpQ0FBaUMsMEtBQTBLLGlDQUFpQyxNQUFNLHFCQUFxQixRQUFRLDRIQUE0SCwrQkFBK0IsRUFBRSxjQUFjLDZKQUE2SixjQUFjLDZKQUE2SixhQUFhLDRCQUE0QixZQUFZLG1HQUFtRyxnQkFBZ0IsK0RBQStELGNBQWMsNERBQTRELGNBQWMsaURBQWlELDZEQUE2RCx3Q0FBd0MsTUFBTSxFQUFFLElBQUksSUFBSSxrQkFBa0IsNERBQTRELHlFQUF5RSxnQkFBZ0IsR0FBRyxJQUFJLGtCQUFrQixpREFBaUQscUJBQXFCLFdBQVcsc0JBQXNCLHNEQUFzRCxrQkFBa0IsZUFBZSx1Q0FBdUMsR0FBRyxLQUFLLFVBQVUsZ0JBQWdCLHVCQUF1QiwwQkFBMEIsb0JBQW9CLHdEQUF3RCxXQUFXLG1DQUFtQywyREFBMkQsb0NBQW9DLFlBQVksa0VBQWtFLHNCQUFzQiw2RUFBNkUscUJBQXFCLDBCQUEwQixTQUFTLHVFQUF1RSxtRkFBbUYsdUVBQXVFLDBEQUEwRCwyQ0FBMkMsMkJBQTJCLEdBQUcsa0VBQWtFLGlCQUFpQiw2QkFBNkIsZ0VBQWdFLHdCQUF3Qiw0Q0FBNEMsMkpBQTJKLGdDQUFnQyx5QkFBeUIsNEJBQTRCLFFBQVEsRUFBRSxxQkFBcUIsa01BQWtNLE1BQU0sdU1BQXVNLHlH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QWtCLHVIQUF1SCxzU0FBc1MseUNBQXlDLHlCQUF5QixZQUFZLElBQUksbUJBQW1CLDBCQUEwQixpQkFBaUIsdUJBQXVCLGFBQWEsbUJBQW1CLDJCQUEyQixPQUFPLHFFQUFxRSx3Q0FBd0MsMkJBQTJCLDJFQUEyRSxNQUFNLFlBQVksSUFBSSxvREFBb0QsU0FBUyxjQUFjLGlCQUFpQixjQUFjLGdCQUFnQixJQUFJLE1BQU0sR0FBRyx5QkFBeUIsU0FBUyxxQkFBcUIsd0RBQXdELGVBQWUsbURBQW1ELHFJQUFxSSwwRUFBMEUsOEJBQThCLGdDQUFnQyxlQUFlLFVBQVUsNklBQTZJLHNCQUFzQixHQUFHLEdBQUcsb01BQW9NLEVBQUUsbUNBQW1DLHVCQUF1Qix5Q0FBeUMsNEJBQTRCLG1CQUFtQixvQ0FBb0MsdUJBQXVCLDZCQUE2Qix5QkFBeUIsMEJBQTBCLHlCQUF5Qiw0QkFBNEIsNkNBQTZDLHVDQUF1QyxrQkFBa0IsNkNBQTZDLHNDQUFzQyw4SEFBOEgsMENBQTBDLDhJQUE4SSx3Q0FBd0MseUpBQXlKLDRCQUE0QixxR0FBcUcsK0JBQStCLGdJQUFnSSwwQ0FBMEMsa0ZBQWtGLG1DQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpZGVvY2FsbC1yZXRvLy4vbm9kZV9tb2R1bGVzL2Fnb3JhLXJ0Yy1zZGstbmcvQWdvcmFSVENfTi1wcm9kdWN0aW9uLmpzPzgzZGIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBZ29yYVdlYlNES19OLXY0LjE5LjEtMC1nNjA1Mjg2Y2MgQ29weXJpZ2h0IEFnb3JhSW5jLlxuICovXG5cbiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKHQpOihlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6ZXx8c2VsZikuQWdvcmFSVEM9dCgpfSh0aGlzLChmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSx0KXtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXt0JiZcInN0cmluZ1wiIT10eXBlb2YgdCYmIUFycmF5LmlzQXJyYXkodCkmJk9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGkpe2lmKFwiZGVmYXVsdFwiIT09aSYmIShpIGluIGUpKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsaSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaSxuLmdldD9uOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0W2ldfX0pfX0pKX0pKSxPYmplY3QuZnJlZXplKGUpfWxldCB0PSEwLGk9ITA7ZnVuY3Rpb24gbihlLHQsaSl7Y29uc3Qgbj1lLm1hdGNoKHQpO3JldHVybiBuJiZuLmxlbmd0aD49aSYmcGFyc2VJbnQobltpXSwxMCl9ZnVuY3Rpb24gcihlLHQsaSl7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IG49ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUscj1uLmFkZEV2ZW50TGlzdGVuZXI7bi5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsbil7aWYoZSE9PXQpcmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2NvbnN0IHM9ZT0+e2NvbnN0IHQ9aShlKTt0JiYobi5oYW5kbGVFdmVudD9uLmhhbmRsZUV2ZW50KHQpOm4odCkpfTtyZXR1cm4gdGhpcy5fZXZlbnRNYXA9dGhpcy5fZXZlbnRNYXB8fHt9LHRoaXMuX2V2ZW50TWFwW3RdfHwodGhpcy5fZXZlbnRNYXBbdF09bmV3IE1hcCksdGhpcy5fZXZlbnRNYXBbdF0uc2V0KG4scyksci5hcHBseSh0aGlzLFtlLHNdKX07Y29uc3Qgcz1uLnJlbW92ZUV2ZW50TGlzdGVuZXI7bi5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsaSl7aWYoZSE9PXR8fCF0aGlzLl9ldmVudE1hcHx8IXRoaXMuX2V2ZW50TWFwW3RdKXJldHVybiBzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZighdGhpcy5fZXZlbnRNYXBbdF0uaGFzKGkpKXJldHVybiBzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtjb25zdCBuPXRoaXMuX2V2ZW50TWFwW3RdLmdldChpKTtyZXR1cm4gdGhpcy5fZXZlbnRNYXBbdF0uZGVsZXRlKGkpLDA9PT10aGlzLl9ldmVudE1hcFt0XS5zaXplJiZkZWxldGUgdGhpcy5fZXZlbnRNYXBbdF0sMD09PU9iamVjdC5rZXlzKHRoaXMuX2V2ZW50TWFwKS5sZW5ndGgmJmRlbGV0ZSB0aGlzLl9ldmVudE1hcCxzLmFwcGx5KHRoaXMsW2Usbl0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIm9uXCIrdCx7Z2V0KCl7cmV0dXJuIHRoaXNbXCJfb25cIit0XX0sc2V0KGUpe3RoaXNbXCJfb25cIit0XSYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LHRoaXNbXCJfb25cIit0XSksZGVsZXRlIHRoaXNbXCJfb25cIit0XSksZSYmdGhpcy5hZGRFdmVudExpc3RlbmVyKHQsdGhpc1tcIl9vblwiK3RdPWUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfWZ1bmN0aW9uIHMoZSl7cmV0dXJuXCJib29sZWFuXCIhPXR5cGVvZiBlP25ldyBFcnJvcihcIkFyZ3VtZW50IHR5cGU6IFwiK3R5cGVvZiBlK1wiLiBQbGVhc2UgdXNlIGEgYm9vbGVhbi5cIik6KHQ9ZSxlP1wiYWRhcHRlci5qcyBsb2dnaW5nIGRpc2FibGVkXCI6XCJhZGFwdGVyLmpzIGxvZ2dpbmcgZW5hYmxlZFwiKX1mdW5jdGlvbiBvKGUpe3JldHVyblwiYm9vbGVhblwiIT10eXBlb2YgZT9uZXcgRXJyb3IoXCJBcmd1bWVudCB0eXBlOiBcIit0eXBlb2YgZStcIi4gUGxlYXNlIHVzZSBhIGJvb2xlYW4uXCIpOihpPSFlLFwiYWRhcHRlci5qcyBkZXByZWNhdGlvbiB3YXJuaW5ncyBcIisoZT9cImRpc2FibGVkXCI6XCJlbmFibGVkXCIpKX1mdW5jdGlvbiBhKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyl7aWYodClyZXR1cm47XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUubG9nJiZjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGMoZSx0KXtpJiZjb25zb2xlLndhcm4oZStcIiBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFwiK3QrXCIgaW5zdGVhZC5cIil9ZnVuY3Rpb24gZChlKXtyZXR1cm5cIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIGQoZSk/T2JqZWN0LmtleXMoZSkucmVkdWNlKChmdW5jdGlvbih0LGkpe2NvbnN0IG49ZChlW2ldKSxyPW4/bChlW2ldKTplW2ldLHM9biYmIU9iamVjdC5rZXlzKHIpLmxlbmd0aDtyZXR1cm4gdm9pZCAwPT09cnx8cz90Ok9iamVjdC5hc3NpZ24odCx7W2ldOnJ9KX0pLHt9KTplfWZ1bmN0aW9uIGgoZSx0LGkpe3QmJiFpLmhhcyh0LmlkKSYmKGkuc2V0KHQuaWQsdCksT2JqZWN0LmtleXModCkuZm9yRWFjaCgobj0+e24uZW5kc1dpdGgoXCJJZFwiKT9oKGUsZS5nZXQodFtuXSksaSk6bi5lbmRzV2l0aChcIklkc1wiKSYmdFtuXS5mb3JFYWNoKCh0PT57aChlLGUuZ2V0KHQpLGkpfSkpfSkpKX1mdW5jdGlvbiB1KGUsdCxpKXtjb25zdCBuPWk/XCJvdXRib3VuZC1ydHBcIjpcImluYm91bmQtcnRwXCIscj1uZXcgTWFwO2lmKG51bGw9PT10KXJldHVybiByO2NvbnN0IHM9W107cmV0dXJuIGUuZm9yRWFjaCgoZT0+e1widHJhY2tcIj09PWUudHlwZSYmZS50cmFja0lkZW50aWZpZXI9PT10LmlkJiZzLnB1c2goZSl9KSkscy5mb3JFYWNoKCh0PT57ZS5mb3JFYWNoKChpPT57aS50eXBlPT09biYmaS50cmFja0lkPT09dC5pZCYmaChlLGkscil9KSl9KSkscn1jb25zdCBwPWE7ZnVuY3Rpb24gXyhlLHQpe2NvbnN0IGk9ZSYmZS5uYXZpZ2F0b3I7aWYoIWkubWVkaWFEZXZpY2VzKXJldHVybjtjb25zdCBuPWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxlLm1hbmRhdG9yeXx8ZS5vcHRpb25hbClyZXR1cm4gZTtjb25zdCB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChpPT57aWYoXCJyZXF1aXJlXCI9PT1pfHxcImFkdmFuY2VkXCI9PT1pfHxcIm1lZGlhU291cmNlXCI9PT1pKXJldHVybjtjb25zdCBuPVwib2JqZWN0XCI9PXR5cGVvZiBlW2ldP2VbaV06e2lkZWFsOmVbaV19O3ZvaWQgMCE9PW4uZXhhY3QmJlwibnVtYmVyXCI9PXR5cGVvZiBuLmV4YWN0JiYobi5taW49bi5tYXg9bi5leGFjdCk7Y29uc3Qgcj1mdW5jdGlvbihlLHQpe3JldHVybiBlP2UrdC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpOlwiZGV2aWNlSWRcIj09PXQ/XCJzb3VyY2VJZFwiOnR9O2lmKHZvaWQgMCE9PW4uaWRlYWwpe3Qub3B0aW9uYWw9dC5vcHRpb25hbHx8W107bGV0IGU9e307XCJudW1iZXJcIj09dHlwZW9mIG4uaWRlYWw/KGVbcihcIm1pblwiLGkpXT1uLmlkZWFsLHQub3B0aW9uYWwucHVzaChlKSxlPXt9LGVbcihcIm1heFwiLGkpXT1uLmlkZWFsLHQub3B0aW9uYWwucHVzaChlKSk6KGVbcihcIlwiLGkpXT1uLmlkZWFsLHQub3B0aW9uYWwucHVzaChlKSl9dm9pZCAwIT09bi5leGFjdCYmXCJudW1iZXJcIiE9dHlwZW9mIG4uZXhhY3Q/KHQubWFuZGF0b3J5PXQubWFuZGF0b3J5fHx7fSx0Lm1hbmRhdG9yeVtyKFwiXCIsaSldPW4uZXhhY3QpOltcIm1pblwiLFwibWF4XCJdLmZvckVhY2goKGU9Pnt2b2lkIDAhPT1uW2VdJiYodC5tYW5kYXRvcnk9dC5tYW5kYXRvcnl8fHt9LHQubWFuZGF0b3J5W3IoZSxpKV09bltlXSl9KSl9KSksZS5hZHZhbmNlZCYmKHQub3B0aW9uYWw9KHQub3B0aW9uYWx8fFtdKS5jb25jYXQoZS5hZHZhbmNlZCkpLHR9LHI9ZnVuY3Rpb24oZSxyKXtpZih0LnZlcnNpb24+PTYxKXJldHVybiByKGUpO2lmKChlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpKSYmXCJvYmplY3RcIj09dHlwZW9mIGUuYXVkaW8pe2NvbnN0IHQ9ZnVuY3Rpb24oZSx0LGkpe3QgaW4gZSYmIShpIGluIGUpJiYoZVtpXT1lW3RdLGRlbGV0ZSBlW3RdKX07dCgoZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSkuYXVkaW8sXCJhdXRvR2FpbkNvbnRyb2xcIixcImdvb2dBdXRvR2FpbkNvbnRyb2xcIiksdChlLmF1ZGlvLFwibm9pc2VTdXBwcmVzc2lvblwiLFwiZ29vZ05vaXNlU3VwcHJlc3Npb25cIiksZS5hdWRpbz1uKGUuYXVkaW8pfWlmKGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLnZpZGVvKXtsZXQgcz1lLnZpZGVvLmZhY2luZ01vZGU7cz1zJiYoXCJvYmplY3RcIj09dHlwZW9mIHM/czp7aWRlYWw6c30pO2NvbnN0IG89dC52ZXJzaW9uPDY2O2lmKHMmJihcInVzZXJcIj09PXMuZXhhY3R8fFwiZW52aXJvbm1lbnRcIj09PXMuZXhhY3R8fFwidXNlclwiPT09cy5pZGVhbHx8XCJlbnZpcm9ubWVudFwiPT09cy5pZGVhbCkmJighaS5tZWRpYURldmljZXMuZ2V0U3VwcG9ydGVkQ29uc3RyYWludHN8fCFpLm1lZGlhRGV2aWNlcy5nZXRTdXBwb3J0ZWRDb25zdHJhaW50cygpLmZhY2luZ01vZGV8fG8pKXtsZXQgdDtpZihkZWxldGUgZS52aWRlby5mYWNpbmdNb2RlLFwiZW52aXJvbm1lbnRcIj09PXMuZXhhY3R8fFwiZW52aXJvbm1lbnRcIj09PXMuaWRlYWw/dD1bXCJiYWNrXCIsXCJyZWFyXCJdOlwidXNlclwiIT09cy5leGFjdCYmXCJ1c2VyXCIhPT1zLmlkZWFsfHwodD1bXCJmcm9udFwiXSksdClyZXR1cm4gaS5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oKGk9PntsZXQgbz0oaT1pLmZpbHRlcigoZT0+XCJ2aWRlb2lucHV0XCI9PT1lLmtpbmQpKSkuZmluZCgoZT0+dC5zb21lKCh0PT5lLmxhYmVsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModCkpKSkpO3JldHVybiFvJiZpLmxlbmd0aCYmdC5pbmNsdWRlcyhcImJhY2tcIikmJihvPWlbaS5sZW5ndGgtMV0pLG8mJihlLnZpZGVvLmRldmljZUlkPXMuZXhhY3Q/e2V4YWN0Om8uZGV2aWNlSWR9OntpZGVhbDpvLmRldmljZUlkfSksZS52aWRlbz1uKGUudmlkZW8pLHAoXCJjaHJvbWU6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSxyKGUpfSkpfWUudmlkZW89bihlLnZpZGVvKX1yZXR1cm4gcChcImNocm9tZTogXCIrSlNPTi5zdHJpbmdpZnkoZSkpLHIoZSl9LHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQudmVyc2lvbj49NjQ/ZTp7bmFtZTp7UGVybWlzc2lvbkRlbmllZEVycm9yOlwiTm90QWxsb3dlZEVycm9yXCIsUGVybWlzc2lvbkRpc21pc3NlZEVycm9yOlwiTm90QWxsb3dlZEVycm9yXCIsSW52YWxpZFN0YXRlRXJyb3I6XCJOb3RBbGxvd2VkRXJyb3JcIixEZXZpY2VzTm90Rm91bmRFcnJvcjpcIk5vdEZvdW5kRXJyb3JcIixDb25zdHJhaW50Tm90U2F0aXNmaWVkRXJyb3I6XCJPdmVyY29uc3RyYWluZWRFcnJvclwiLFRyYWNrU3RhcnRFcnJvcjpcIk5vdFJlYWRhYmxlRXJyb3JcIixNZWRpYURldmljZUZhaWxlZER1ZVRvU2h1dGRvd246XCJOb3RBbGxvd2VkRXJyb3JcIixNZWRpYURldmljZUtpbGxTd2l0Y2hPbjpcIk5vdEFsbG93ZWRFcnJvclwiLFRhYkNhcHR1cmVFcnJvcjpcIkFib3J0RXJyb3JcIixTY3JlZW5DYXB0dXJlRXJyb3I6XCJBYm9ydEVycm9yXCIsRGV2aWNlQ2FwdHVyZUVycm9yOlwiQWJvcnRFcnJvclwifVtlLm5hbWVdfHxlLm5hbWUsbWVzc2FnZTplLm1lc3NhZ2UsY29uc3RyYWludDplLmNvbnN0cmFpbnR8fGUuY29uc3RyYWludE5hbWUsdG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5uYW1lKyh0aGlzLm1lc3NhZ2UmJlwiOiBcIikrdGhpcy5tZXNzYWdlfX19O2lmKGkuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUsdCxuKXtyKGUsKGU9PntpLndlYmtpdEdldFVzZXJNZWRpYShlLHQsKGU9PntuJiZuKHMoZSkpfSkpfSkpfS5iaW5kKGkpLGkubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSl7Y29uc3QgZT1pLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuYmluZChpLm1lZGlhRGV2aWNlcyk7aS5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKHQpe3JldHVybiByKHQsKHQ9PmUodCkudGhlbigoZT0+e2lmKHQuYXVkaW8mJiFlLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RofHx0LnZpZGVvJiYhZS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCl0aHJvdyBlLmdldFRyYWNrcygpLmZvckVhY2goKGU9PntlLnN0b3AoKX0pKSxuZXcgRE9NRXhjZXB0aW9uKFwiXCIsXCJOb3RGb3VuZEVycm9yXCIpO3JldHVybiBlfSksKGU9PlByb21pc2UucmVqZWN0KHMoZSkpKSkpKX19fWZ1bmN0aW9uIEUoZSl7ZS5NZWRpYVN0cmVhbT1lLk1lZGlhU3RyZWFtfHxlLndlYmtpdE1lZGlhU3RyZWFtfWZ1bmN0aW9uIG0oZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuUlRDUGVlckNvbm5lY3Rpb24mJiEoXCJvbnRyYWNrXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcIm9udHJhY2tcIix7Z2V0KCl7cmV0dXJuIHRoaXMuX29udHJhY2t9LHNldChlKXt0aGlzLl9vbnRyYWNrJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29udHJhY2spLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5fb250cmFjaz1lKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KTtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29udHJhY2twb2x5fHwodGhpcy5fb250cmFja3BvbHk9dD0+e3Quc3RyZWFtLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGR0cmFja1wiLChpPT57bGV0IG47bj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM/dGhpcy5nZXRSZWNlaXZlcnMoKS5maW5kKChlPT5lLnRyYWNrJiZlLnRyYWNrLmlkPT09aS50cmFjay5pZCkpOnt0cmFjazppLnRyYWNrfTtjb25zdCByPW5ldyBFdmVudChcInRyYWNrXCIpO3IudHJhY2s9aS50cmFjayxyLnJlY2VpdmVyPW4sci50cmFuc2NlaXZlcj17cmVjZWl2ZXI6bn0sci5zdHJlYW1zPVt0LnN0cmVhbV0sdGhpcy5kaXNwYXRjaEV2ZW50KHIpfSkpLHQuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKGk9PntsZXQgbjtuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycz90aGlzLmdldFJlY2VpdmVycygpLmZpbmQoKGU9PmUudHJhY2smJmUudHJhY2suaWQ9PT1pLmlkKSk6e3RyYWNrOml9O2NvbnN0IHI9bmV3IEV2ZW50KFwidHJhY2tcIik7ci50cmFjaz1pLHIucmVjZWl2ZXI9bixyLnRyYW5zY2VpdmVyPXtyZWNlaXZlcjpufSxyLnN0cmVhbXM9W3Quc3RyZWFtXSx0aGlzLmRpc3BhdGNoRXZlbnQocil9KSl9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImFkZHN0cmVhbVwiLHRoaXMuX29udHJhY2twb2x5KSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWVsc2UgcihlLFwidHJhY2tcIiwoZT0+KGUudHJhbnNjZWl2ZXJ8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwidHJhbnNjZWl2ZXJcIix7dmFsdWU6e3JlY2VpdmVyOmUucmVjZWl2ZXJ9fSksZSkpKX1mdW5jdGlvbiBmKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZlLlJUQ1BlZXJDb25uZWN0aW9uJiYhKFwiZ2V0U2VuZGVyc1wiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpJiZcImNyZWF0ZURUTUZTZW5kZXJcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKXtjb25zdCB0PWZ1bmN0aW9uKGUsdCl7cmV0dXJue3RyYWNrOnQsZ2V0IGR0bWYoKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fZHRtZiYmKFwiYXVkaW9cIj09PXQua2luZD90aGlzLl9kdG1mPWUuY3JlYXRlRFRNRlNlbmRlcih0KTp0aGlzLl9kdG1mPW51bGwpLHRoaXMuX2R0bWZ9LF9wYzplfX07aWYoIWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnMpe2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VuZGVycz10aGlzLl9zZW5kZXJzfHxbXSx0aGlzLl9zZW5kZXJzLnNsaWNlKCl9O2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oZSxuKXtsZXQgcj1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gcnx8KHI9dCh0aGlzLGUpLHRoaXMuX3NlbmRlcnMucHVzaChyKSkscn07Y29uc3Qgbj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVUcmFjaztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVUcmFjaz1mdW5jdGlvbihlKXtuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtjb25zdCB0PXRoaXMuX3NlbmRlcnMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMuX3NlbmRlcnMuc3BsaWNlKHQsMSl9fWNvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLl9zZW5kZXJzPXRoaXMuX3NlbmRlcnN8fFtdLGkuYXBwbHkodGhpcyxbZV0pLGUuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+e3RoaXMuX3NlbmRlcnMucHVzaCh0KHRoaXMsZSkpfSkpfTtjb25zdCBuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oZSl7dGhpcy5fc2VuZGVycz10aGlzLl9zZW5kZXJzfHxbXSxuLmFwcGx5KHRoaXMsW2VdKSxlLmdldFRyYWNrcygpLmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMuX3NlbmRlcnMuZmluZCgodD0+dC50cmFjaz09PWUpKTt0JiZ0aGlzLl9zZW5kZXJzLnNwbGljZSh0aGlzLl9zZW5kZXJzLmluZGV4T2YodCksMSl9KSl9fWVsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuUlRDUGVlckNvbm5lY3Rpb24mJlwiZ2V0U2VuZGVyc1wiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUmJlwiY3JlYXRlRFRNRlNlbmRlclwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUmJmUuUlRDUnRwU2VuZGVyJiYhKFwiZHRtZlwiaW4gZS5SVENSdHBTZW5kZXIucHJvdG90eXBlKSl7Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtjb25zdCBlPXQuYXBwbHkodGhpcyxbXSk7cmV0dXJuIGUuZm9yRWFjaCgoZT0+ZS5fcGM9dGhpcykpLGV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUsXCJkdG1mXCIse2dldCgpe3JldHVybiB2b2lkIDA9PT10aGlzLl9kdG1mJiYoXCJhdWRpb1wiPT09dGhpcy50cmFjay5raW5kP3RoaXMuX2R0bWY9dGhpcy5fcGMuY3JlYXRlRFRNRlNlbmRlcih0aGlzLnRyYWNrKTp0aGlzLl9kdG1mPW51bGwpLHRoaXMuX2R0bWZ9fSl9fWZ1bmN0aW9uIGcoZSl7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtjb25zdFtlLGksbl09YXJndW1lbnRzO2lmKGFyZ3VtZW50cy5sZW5ndGg+MCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZSlyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoMD09PXQubGVuZ3RoJiYoMD09PWFyZ3VtZW50cy5sZW5ndGh8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpKXJldHVybiB0LmFwcGx5KHRoaXMsW10pO2NvbnN0IHI9ZnVuY3Rpb24oZSl7Y29uc3QgdD17fTtyZXR1cm4gZS5yZXN1bHQoKS5mb3JFYWNoKChlPT57Y29uc3QgaT17aWQ6ZS5pZCx0aW1lc3RhbXA6ZS50aW1lc3RhbXAsdHlwZTp7bG9jYWxjYW5kaWRhdGU6XCJsb2NhbC1jYW5kaWRhdGVcIixyZW1vdGVjYW5kaWRhdGU6XCJyZW1vdGUtY2FuZGlkYXRlXCJ9W2UudHlwZV18fGUudHlwZX07ZS5uYW1lcygpLmZvckVhY2goKHQ9PntpW3RdPWUuc3RhdCh0KX0pKSx0W2kuaWRdPWl9KSksdH0scz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE1hcChPYmplY3Qua2V5cyhlKS5tYXAoKHQ9Plt0LGVbdF1dKSkpfTtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXtjb25zdCBuPWZ1bmN0aW9uKGUpe2kocyhyKGUpKSl9O3JldHVybiB0LmFwcGx5KHRoaXMsW24sZV0pfXJldHVybiBuZXcgUHJvbWlzZSgoKGUsaSk9Pnt0LmFwcGx5KHRoaXMsW2Z1bmN0aW9uKHQpe2UocyhyKHQpKSl9LGldKX0pKS50aGVuKGksbil9fWZ1bmN0aW9uIFMoZSl7aWYoIShcIm9iamVjdFwiPT10eXBlb2YgZSYmZS5SVENQZWVyQ29ubmVjdGlvbiYmZS5SVENSdHBTZW5kZXImJmUuUlRDUnRwUmVjZWl2ZXIpKXJldHVybjtpZighKFwiZ2V0U3RhdHNcImluIGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSkpe2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVyczt0JiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycz1mdW5jdGlvbigpe2NvbnN0IGU9dC5hcHBseSh0aGlzLFtdKTtyZXR1cm4gZS5mb3JFYWNoKChlPT5lLl9wYz10aGlzKSksZX0pO2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s7aSYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKCl7Y29uc3QgZT1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZS5fcGM9dGhpcyxlfSksZS5SVENSdHBTZW5kZXIucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzO3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cygpLnRoZW4oKHQ9PnUodCxlLnRyYWNrLCEwKSkpfX1pZighKFwiZ2V0U3RhdHNcImluIGUuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKSl7Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM7dCYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycz1mdW5jdGlvbigpe2NvbnN0IGU9dC5hcHBseSh0aGlzLFtdKTtyZXR1cm4gZS5mb3JFYWNoKChlPT5lLl9wYz10aGlzKSksZX0pLHIoZSxcInRyYWNrXCIsKGU9PihlLnJlY2VpdmVyLl9wYz1lLnNyY0VsZW1lbnQsZSkpKSxlLlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcztyZXR1cm4gdGhpcy5fcGMuZ2V0U3RhdHMoKS50aGVuKCh0PT51KHQsZS50cmFjaywhMSkpKX19aWYoIShcImdldFN0YXRzXCJpbiBlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpfHwhKFwiZ2V0U3RhdHNcImluIGUuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKSlyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBlLk1lZGlhU3RyZWFtVHJhY2spe2NvbnN0IGU9YXJndW1lbnRzWzBdO2xldCB0LGksbjtyZXR1cm4gdGhpcy5nZXRTZW5kZXJzKCkuZm9yRWFjaCgoaT0+e2kudHJhY2s9PT1lJiYodD9uPSEwOnQ9aSl9KSksdGhpcy5nZXRSZWNlaXZlcnMoKS5mb3JFYWNoKCh0PT4odC50cmFjaz09PWUmJihpP249ITA6aT10KSx0LnRyYWNrPT09ZSkpKSxufHx0JiZpP1Byb21pc2UucmVqZWN0KG5ldyBET01FeGNlcHRpb24oXCJUaGVyZSBhcmUgbW9yZSB0aGFuIG9uZSBzZW5kZXIgb3IgcmVjZWl2ZXIgZm9yIHRoZSB0cmFjay5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKSk6dD90LmdldFN0YXRzKCk6aT9pLmdldFN0YXRzKCk6UHJvbWlzZS5yZWplY3QobmV3IERPTUV4Y2VwdGlvbihcIlRoZXJlIGlzIG5vIHNlbmRlciBvciByZWNlaXZlciBmb3IgdGhlIHRyYWNrLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpKX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIFQoZSl7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXM9dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc3x8e30sT2JqZWN0LmtleXModGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcykubWFwKChlPT50aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW2VdWzBdKSl9O2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oZSxpKXtpZighaSlyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcz10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zfHx7fTtjb25zdCBuPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW2kuaWRdPy0xPT09dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tpLmlkXS5pbmRleE9mKG4pJiZ0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW2kuaWRdLnB1c2gobik6dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1tpLmlkXT1baSxuXSxufTtjb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7dGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcz10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zfHx7fSxlLmdldFRyYWNrcygpLmZvckVhY2goKGU9PntpZih0aGlzLmdldFNlbmRlcnMoKS5maW5kKCh0PT50LnRyYWNrPT09ZSkpKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUcmFjayBhbHJlYWR5IGV4aXN0cy5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKX0pKTtjb25zdCB0PXRoaXMuZ2V0U2VuZGVycygpO2kuYXBwbHkodGhpcyxhcmd1bWVudHMpO2NvbnN0IG49dGhpcy5nZXRTZW5kZXJzKCkuZmlsdGVyKChlPT4tMT09PXQuaW5kZXhPZihlKSkpO3RoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbZS5pZF09W2VdLmNvbmNhdChuKX07Y29uc3Qgbj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9LGRlbGV0ZSB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW2UuaWRdLG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfTtjb25zdCByPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9LGUmJk9iamVjdC5rZXlzKHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMpLmZvckVhY2goKHQ9Pntjb25zdCBpPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbdF0uaW5kZXhPZihlKTstMSE9PWkmJnRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbdF0uc3BsaWNlKGksMSksMT09PXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbdF0ubGVuZ3RoJiZkZWxldGUgdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1t0XX0pKSxyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gUihlLHQpe2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtpZihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjayYmdC52ZXJzaW9uPj02NSlyZXR1cm4gVChlKTtjb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldExvY2FsU3RyZWFtcztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRMb2NhbFN0cmVhbXM9ZnVuY3Rpb24oKXtjb25zdCBlPWkuYXBwbHkodGhpcyk7cmV0dXJuIHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fSxlLm1hcCgoZT0+dGhpcy5fcmV2ZXJzZVN0cmVhbXNbZS5pZF0pKX07Y29uc3Qgbj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3N0cmVhbXM9dGhpcy5fc3RyZWFtc3x8e30sdGhpcy5fcmV2ZXJzZVN0cmVhbXM9dGhpcy5fcmV2ZXJzZVN0cmVhbXN8fHt9LHQuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+e2lmKHRoaXMuZ2V0U2VuZGVycygpLmZpbmQoKHQ9PnQudHJhY2s9PT1lKSkpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRyYWNrIGFscmVhZHkgZXhpc3RzLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpfSkpLCF0aGlzLl9yZXZlcnNlU3RyZWFtc1t0LmlkXSl7Y29uc3QgaT1uZXcgZS5NZWRpYVN0cmVhbSh0LmdldFRyYWNrcygpKTt0aGlzLl9zdHJlYW1zW3QuaWRdPWksdGhpcy5fcmV2ZXJzZVN0cmVhbXNbaS5pZF09dCx0PWl9bi5hcHBseSh0aGlzLFt0XSl9O2NvbnN0IHI9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtO2Z1bmN0aW9uIHMoZSx0KXtsZXQgaT10LnNkcDtyZXR1cm4gT2JqZWN0LmtleXMoZS5fcmV2ZXJzZVN0cmVhbXN8fFtdKS5mb3JFYWNoKCh0PT57Y29uc3Qgbj1lLl9yZXZlcnNlU3RyZWFtc1t0XSxyPWUuX3N0cmVhbXNbbi5pZF07aT1pLnJlcGxhY2UobmV3IFJlZ0V4cChyLmlkLFwiZ1wiKSxuLmlkKX0pKSxuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOnQudHlwZSxzZHA6aX0pfWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fSxyLmFwcGx5KHRoaXMsW3RoaXMuX3N0cmVhbXNbZS5pZF18fGVdKSxkZWxldGUgdGhpcy5fcmV2ZXJzZVN0cmVhbXNbdGhpcy5fc3RyZWFtc1tlLmlkXT90aGlzLl9zdHJlYW1zW2UuaWRdLmlkOmUuaWRdLGRlbGV0ZSB0aGlzLl9zdHJlYW1zW2UuaWRdfSxlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbih0LGkpe2lmKFwiY2xvc2VkXCI9PT10aGlzLnNpZ25hbGluZ1N0YXRlKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgUlRDUGVlckNvbm5lY3Rpb24ncyBzaWduYWxpbmdTdGF0ZSBpcyAnY2xvc2VkJy5cIixcIkludmFsaWRTdGF0ZUVycm9yXCIpO2NvbnN0IG49W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7aWYoMSE9PW4ubGVuZ3RofHwhblswXS5nZXRUcmFja3MoKS5maW5kKChlPT5lPT09dCkpKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgYWRhcHRlci5qcyBhZGRUcmFjayBwb2x5ZmlsbCBvbmx5IHN1cHBvcnRzIGEgc2luZ2xlICBzdHJlYW0gd2hpY2ggaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdHJhY2suXCIsXCJOb3RTdXBwb3J0ZWRFcnJvclwiKTtpZih0aGlzLmdldFNlbmRlcnMoKS5maW5kKChlPT5lLnRyYWNrPT09dCkpKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUcmFjayBhbHJlYWR5IGV4aXN0cy5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKTt0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fTtjb25zdCByPXRoaXMuX3N0cmVhbXNbaS5pZF07aWYocilyLmFkZFRyYWNrKHQpLFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCgpPT57dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcIm5lZ290aWF0aW9ubmVlZGVkXCIpKX0pKTtlbHNle2NvbnN0IG49bmV3IGUuTWVkaWFTdHJlYW0oW3RdKTt0aGlzLl9zdHJlYW1zW2kuaWRdPW4sdGhpcy5fcmV2ZXJzZVN0cmVhbXNbbi5pZF09aSx0aGlzLmFkZFN0cmVhbShuKX1yZXR1cm4gdGhpcy5nZXRTZW5kZXJzKCkuZmluZCgoZT0+ZS50cmFjaz09PXQpKX0sW1wiY3JlYXRlT2ZmZXJcIixcImNyZWF0ZUFuc3dlclwiXS5mb3JFYWNoKChmdW5jdGlvbih0KXtjb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3RdLG49e1t0XSgpe2NvbnN0IGU9YXJndW1lbnRzO3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0/aS5hcHBseSh0aGlzLFt0PT57Y29uc3QgaT1zKHRoaXMsdCk7ZVswXS5hcHBseShudWxsLFtpXSl9LHQ9PntlWzFdJiZlWzFdLmFwcGx5KG51bGwsdCl9LGFyZ3VtZW50c1syXV0pOmkuYXBwbHkodGhpcyxhcmd1bWVudHMpLnRoZW4oKGU9PnModGhpcyxlKSkpfX07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF09blt0XX0pKTtjb25zdCBvPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb247ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiZhcmd1bWVudHNbMF0udHlwZT8oYXJndW1lbnRzWzBdPWZ1bmN0aW9uKGUsdCl7bGV0IGk9dC5zZHA7cmV0dXJuIE9iamVjdC5rZXlzKGUuX3JldmVyc2VTdHJlYW1zfHxbXSkuZm9yRWFjaCgodD0+e2NvbnN0IG49ZS5fcmV2ZXJzZVN0cmVhbXNbdF0scj1lLl9zdHJlYW1zW24uaWRdO2k9aS5yZXBsYWNlKG5ldyBSZWdFeHAobi5pZCxcImdcIiksci5pZCl9KSksbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTp0LnR5cGUsc2RwOml9KX0odGhpcyxhcmd1bWVudHNbMF0pLG8uYXBwbHkodGhpcyxhcmd1bWVudHMpKTpvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Y29uc3QgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwibG9jYWxEZXNjcmlwdGlvblwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXCJsb2NhbERlc2NyaXB0aW9uXCIse2dldCgpe2NvbnN0IGU9YS5nZXQuYXBwbHkodGhpcyk7cmV0dXJuXCJcIj09PWUudHlwZT9lOnModGhpcyxlKX19KSxlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVUcmFjaz1mdW5jdGlvbihlKXtpZihcImNsb3NlZFwiPT09dGhpcy5zaWduYWxpbmdTdGF0ZSl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVGhlIFJUQ1BlZXJDb25uZWN0aW9uJ3Mgc2lnbmFsaW5nU3RhdGUgaXMgJ2Nsb3NlZCcuXCIsXCJJbnZhbGlkU3RhdGVFcnJvclwiKTtpZighZS5fcGMpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIkFyZ3VtZW50IDEgb2YgUlRDUGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2sgZG9lcyBub3QgaW1wbGVtZW50IGludGVyZmFjZSBSVENSdHBTZW5kZXIuXCIsXCJUeXBlRXJyb3JcIik7aWYoIShlLl9wYz09PXRoaXMpKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJTZW5kZXIgd2FzIG5vdCBjcmVhdGVkIGJ5IHRoaXMgY29ubmVjdGlvbi5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKTtsZXQgdDt0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LE9iamVjdC5rZXlzKHRoaXMuX3N0cmVhbXMpLmZvckVhY2goKGk9Pnt0aGlzLl9zdHJlYW1zW2ldLmdldFRyYWNrcygpLmZpbmQoKHQ9PmUudHJhY2s9PT10KSkmJih0PXRoaXMuX3N0cmVhbXNbaV0pfSkpLHQmJigxPT09dC5nZXRUcmFja3MoKS5sZW5ndGg/dGhpcy5yZW1vdmVTdHJlYW0odGhpcy5fcmV2ZXJzZVN0cmVhbXNbdC5pZF0pOnQucmVtb3ZlVHJhY2soZS50cmFjayksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcIm5lZ290aWF0aW9ubmVlZGVkXCIpKSl9fWZ1bmN0aW9uIEMoZSx0KXshZS5SVENQZWVyQ29ubmVjdGlvbiYmZS53ZWJraXRSVENQZWVyQ29ubmVjdGlvbiYmKGUuUlRDUGVlckNvbm5lY3Rpb249ZS53ZWJraXRSVENQZWVyQ29ubmVjdGlvbiksZS5SVENQZWVyQ29ubmVjdGlvbiYmdC52ZXJzaW9uPDUzJiZbXCJzZXRMb2NhbERlc2NyaXB0aW9uXCIsXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLFwiYWRkSWNlQ2FuZGlkYXRlXCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF0sbj17W3RdKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1uZXcoXCJhZGRJY2VDYW5kaWRhdGVcIj09PXQ/ZS5SVENJY2VDYW5kaWRhdGU6ZS5SVENTZXNzaW9uRGVzY3JpcHRpb24pKGFyZ3VtZW50c1swXSksaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XT1uW3RdfSkpfWZ1bmN0aW9uIHYoZSx0KXtyKGUsXCJuZWdvdGlhdGlvbm5lZWRlZFwiLChlPT57Y29uc3QgaT1lLnRhcmdldDtpZighKHQudmVyc2lvbjw3Mnx8aS5nZXRDb25maWd1cmF0aW9uJiZcInBsYW4tYlwiPT09aS5nZXRDb25maWd1cmF0aW9uKCkuc2RwU2VtYW50aWNzKXx8XCJzdGFibGVcIj09PWkuc2lnbmFsaW5nU3RhdGUpcmV0dXJuIGV9KSl9dmFyIEk9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZml4TmVnb3RpYXRpb25OZWVkZWQ6dixzaGltQWRkVHJhY2tSZW1vdmVUcmFjazpSLHNoaW1BZGRUcmFja1JlbW92ZVRyYWNrV2l0aE5hdGl2ZTpULHNoaW1HZXREaXNwbGF5TWVkaWE6ZnVuY3Rpb24oZSx0KXtlLm5hdmlnYXRvci5tZWRpYURldmljZXMmJlwiZ2V0RGlzcGxheU1lZGlhXCJpbiBlLm5hdmlnYXRvci5tZWRpYURldmljZXN8fGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYT1mdW5jdGlvbihpKXtyZXR1cm4gdChpKS50aGVuKCh0PT57Y29uc3Qgbj1pLnZpZGVvJiZpLnZpZGVvLndpZHRoLHI9aS52aWRlbyYmaS52aWRlby5oZWlnaHQscz1pLnZpZGVvJiZpLnZpZGVvLmZyYW1lUmF0ZTtyZXR1cm4gaS52aWRlbz17bWFuZGF0b3J5OntjaHJvbWVNZWRpYVNvdXJjZTpcImRlc2t0b3BcIixjaHJvbWVNZWRpYVNvdXJjZUlkOnQsbWF4RnJhbWVSYXRlOnN8fDN9fSxuJiYoaS52aWRlby5tYW5kYXRvcnkubWF4V2lkdGg9biksciYmKGkudmlkZW8ubWFuZGF0b3J5Lm1heEhlaWdodD1yKSxlLm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGkpfSkpfTpjb25zb2xlLmVycm9yKFwic2hpbUdldERpc3BsYXlNZWRpYTogZ2V0U291cmNlSWQgYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb25cIikpfSxzaGltR2V0U2VuZGVyc1dpdGhEdG1mOmYsc2hpbUdldFN0YXRzOmcsc2hpbUdldFVzZXJNZWRpYTpfLHNoaW1NZWRpYVN0cmVhbTpFLHNoaW1PblRyYWNrOm0sc2hpbVBlZXJDb25uZWN0aW9uOkMsc2hpbVNlbmRlclJlY2VpdmVyR2V0U3RhdHM6U30pO2Z1bmN0aW9uIHkoZSx0KXtjb25zdCBpPWUmJmUubmF2aWdhdG9yLG49ZSYmZS5NZWRpYVN0cmVhbVRyYWNrO2lmKGkuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUsdCxuKXtjKFwibmF2aWdhdG9yLmdldFVzZXJNZWRpYVwiLFwibmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWFcIiksaS5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGUpLnRoZW4odCxuKX0sISh0LnZlcnNpb24+NTUmJlwiYXV0b0dhaW5Db250cm9sXCJpbiBpLm1lZGlhRGV2aWNlcy5nZXRTdXBwb3J0ZWRDb25zdHJhaW50cygpKSl7Y29uc3QgZT1mdW5jdGlvbihlLHQsaSl7dCBpbiBlJiYhKGkgaW4gZSkmJihlW2ldPWVbdF0sZGVsZXRlIGVbdF0pfSx0PWkubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5iaW5kKGkubWVkaWFEZXZpY2VzKTtpZihpLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oaSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGkmJlwib2JqZWN0XCI9PXR5cGVvZiBpLmF1ZGlvJiYoaT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGkpKSxlKGkuYXVkaW8sXCJhdXRvR2FpbkNvbnRyb2xcIixcIm1vekF1dG9HYWluQ29udHJvbFwiKSxlKGkuYXVkaW8sXCJub2lzZVN1cHByZXNzaW9uXCIsXCJtb3pOb2lzZVN1cHByZXNzaW9uXCIpKSx0KGkpfSxuJiZuLnByb3RvdHlwZS5nZXRTZXR0aW5ncyl7Y29uc3QgdD1uLnByb3RvdHlwZS5nZXRTZXR0aW5ncztuLnByb3RvdHlwZS5nZXRTZXR0aW5ncz1mdW5jdGlvbigpe2NvbnN0IGk9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGUoaSxcIm1vekF1dG9HYWluQ29udHJvbFwiLFwiYXV0b0dhaW5Db250cm9sXCIpLGUoaSxcIm1vek5vaXNlU3VwcHJlc3Npb25cIixcIm5vaXNlU3VwcHJlc3Npb25cIiksaX19aWYobiYmbi5wcm90b3R5cGUuYXBwbHlDb25zdHJhaW50cyl7Y29uc3QgdD1uLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnRzO24ucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludHM9ZnVuY3Rpb24oaSl7cmV0dXJuXCJhdWRpb1wiPT09dGhpcy5raW5kJiZcIm9iamVjdFwiPT10eXBlb2YgaSYmKGk9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpKSksZShpLFwiYXV0b0dhaW5Db250cm9sXCIsXCJtb3pBdXRvR2FpbkNvbnRyb2xcIiksZShpLFwibm9pc2VTdXBwcmVzc2lvblwiLFwibW96Tm9pc2VTdXBwcmVzc2lvblwiKSksdC5hcHBseSh0aGlzLFtpXSl9fX19ZnVuY3Rpb24gQShlKXtcIm9iamVjdFwiPT10eXBlb2YgZSYmZS5SVENUcmFja0V2ZW50JiZcInJlY2VpdmVyXCJpbiBlLlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlJiYhKFwidHJhbnNjZWl2ZXJcImluIGUuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENUcmFja0V2ZW50LnByb3RvdHlwZSxcInRyYW5zY2VpdmVyXCIse2dldCgpe3JldHVybntyZWNlaXZlcjp0aGlzLnJlY2VpdmVyfX19KX1mdW5jdGlvbiBiKGUsdCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlLlJUQ1BlZXJDb25uZWN0aW9uJiYhZS5tb3pSVENQZWVyQ29ubmVjdGlvbilyZXR1cm47IWUuUlRDUGVlckNvbm5lY3Rpb24mJmUubW96UlRDUGVlckNvbm5lY3Rpb24mJihlLlJUQ1BlZXJDb25uZWN0aW9uPWUubW96UlRDUGVlckNvbm5lY3Rpb24pLHQudmVyc2lvbjw1MyYmW1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixcImFkZEljZUNhbmRpZGF0ZVwiXS5mb3JFYWNoKChmdW5jdGlvbih0KXtjb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3RdLG49e1t0XSgpe3JldHVybiBhcmd1bWVudHNbMF09bmV3KFwiYWRkSWNlQ2FuZGlkYXRlXCI9PT10P2UuUlRDSWNlQ2FuZGlkYXRlOmUuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKShhcmd1bWVudHNbMF0pLGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfX07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF09blt0XX0pKTtjb25zdCBpPXtpbmJvdW5kcnRwOlwiaW5ib3VuZC1ydHBcIixvdXRib3VuZHJ0cDpcIm91dGJvdW5kLXJ0cFwiLGNhbmRpZGF0ZXBhaXI6XCJjYW5kaWRhdGUtcGFpclwiLGxvY2FsY2FuZGlkYXRlOlwibG9jYWwtY2FuZGlkYXRlXCIscmVtb3RlY2FuZGlkYXRlOlwicmVtb3RlLWNhbmRpZGF0ZVwifSxuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7Y29uc3RbZSxyLHNdPWFyZ3VtZW50cztyZXR1cm4gbi5hcHBseSh0aGlzLFtlfHxudWxsXSkudGhlbigoZT0+e2lmKHQudmVyc2lvbjw1MyYmIXIpdHJ5e2UuZm9yRWFjaCgoZT0+e2UudHlwZT1pW2UudHlwZV18fGUudHlwZX0pKX1jYXRjaCh0KXtpZihcIlR5cGVFcnJvclwiIT09dC5uYW1lKXRocm93IHQ7ZS5mb3JFYWNoKCgodCxuKT0+e2Uuc2V0KG4sT2JqZWN0LmFzc2lnbih7fSx0LHt0eXBlOmlbdC50eXBlXXx8dC50eXBlfSkpfSkpfXJldHVybiBlfSkpLnRoZW4ocixzKX19ZnVuY3Rpb24gdyhlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8IWUuUlRDUGVlckNvbm5lY3Rpb258fCFlLlJUQ1J0cFNlbmRlcilyZXR1cm47aWYoZS5SVENSdHBTZW5kZXImJlwiZ2V0U3RhdHNcImluIGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSlyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzO3QmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7Y29uc3QgZT10LmFwcGx5KHRoaXMsW10pO3JldHVybiBlLmZvckVhY2goKGU9PmUuX3BjPXRoaXMpKSxlfSk7Y29uc3QgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztpJiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oKXtjb25zdCBlPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBlLl9wYz10aGlzLGV9KSxlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFjaz90aGlzLl9wYy5nZXRTdGF0cyh0aGlzLnRyYWNrKTpQcm9taXNlLnJlc29sdmUobmV3IE1hcCl9fWZ1bmN0aW9uIE8oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlLlJUQ1BlZXJDb25uZWN0aW9ufHwhZS5SVENSdHBTZW5kZXIpcmV0dXJuO2lmKGUuUlRDUnRwU2VuZGVyJiZcImdldFN0YXRzXCJpbiBlLlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZSlyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM7dCYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycz1mdW5jdGlvbigpe2NvbnN0IGU9dC5hcHBseSh0aGlzLFtdKTtyZXR1cm4gZS5mb3JFYWNoKChlPT5lLl9wYz10aGlzKSksZX0pLHIoZSxcInRyYWNrXCIsKGU9PihlLnJlY2VpdmVyLl9wYz1lLnNyY0VsZW1lbnQsZSkpKSxlLlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cyh0aGlzLnRyYWNrKX19ZnVuY3Rpb24gTihlKXtlLlJUQ1BlZXJDb25uZWN0aW9uJiYhKFwicmVtb3ZlU3RyZWFtXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24oZSl7YyhcInJlbW92ZVN0cmVhbVwiLFwicmVtb3ZlVHJhY2tcIiksdGhpcy5nZXRTZW5kZXJzKCkuZm9yRWFjaCgodD0+e3QudHJhY2smJmUuZ2V0VHJhY2tzKCkuaW5jbHVkZXModC50cmFjaykmJnRoaXMucmVtb3ZlVHJhY2sodCl9KSl9KX1mdW5jdGlvbiBEKGUpe2UuRGF0YUNoYW5uZWwmJiFlLlJUQ0RhdGFDaGFubmVsJiYoZS5SVENEYXRhQ2hhbm5lbD1lLkRhdGFDaGFubmVsKX1mdW5jdGlvbiBQKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHwhZS5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFuc2NlaXZlcjt0JiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhbnNjZWl2ZXI9ZnVuY3Rpb24oKXt0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcz1bXTtsZXQgZT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXS5zZW5kRW5jb2RpbmdzO3ZvaWQgMD09PWUmJihlPVtdKSxlPVsuLi5lXTtjb25zdCBpPWUubGVuZ3RoPjA7aSYmZS5mb3JFYWNoKChlPT57aWYoXCJyaWRcImluIGUpe2lmKCEvXlthLXowLTldezAsMTZ9JC9pLnRlc3QoZS5yaWQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIFJJRCB2YWx1ZSBwcm92aWRlZC5cIil9aWYoXCJzY2FsZVJlc29sdXRpb25Eb3duQnlcImluIGUmJiEocGFyc2VGbG9hdChlLnNjYWxlUmVzb2x1dGlvbkRvd25CeSk+PTEpKXRocm93IG5ldyBSYW5nZUVycm9yKFwic2NhbGVfcmVzb2x1dGlvbl9kb3duX2J5IG11c3QgYmUgPj0gMS4wXCIpO2lmKFwibWF4RnJhbWVyYXRlXCJpbiBlJiYhKHBhcnNlRmxvYXQoZS5tYXhGcmFtZXJhdGUpPj0wKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm1heF9mcmFtZXJhdGUgbXVzdCBiZSA+PSAwLjBcIil9KSk7Y29uc3Qgbj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihpKXtjb25zdHtzZW5kZXI6dH09bixpPXQuZ2V0UGFyYW1ldGVycygpOyghKFwiZW5jb2RpbmdzXCJpbiBpKXx8MT09PWkuZW5jb2RpbmdzLmxlbmd0aCYmMD09PU9iamVjdC5rZXlzKGkuZW5jb2RpbmdzWzBdKS5sZW5ndGgpJiYoaS5lbmNvZGluZ3M9ZSx0LnNlbmRFbmNvZGluZ3M9ZSx0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcy5wdXNoKHQuc2V0UGFyYW1ldGVycyhpKS50aGVuKCgoKT0+e2RlbGV0ZSB0LnNlbmRFbmNvZGluZ3N9KSkuY2F0Y2goKCgpPT57ZGVsZXRlIHQuc2VuZEVuY29kaW5nc30pKSkpfXJldHVybiBufSl9ZnVuY3Rpb24gTChlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8IWUuUlRDUnRwU2VuZGVyKXJldHVybjtjb25zdCB0PWUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzO3QmJihlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuZ2V0UGFyYW1ldGVycz1mdW5jdGlvbigpe2NvbnN0IGU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuXCJlbmNvZGluZ3NcImluIGV8fChlLmVuY29kaW5ncz1bXS5jb25jYXQodGhpcy5zZW5kRW5jb2RpbmdzfHxbe31dKSksZX0pfWZ1bmN0aW9uIGsoZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlLlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzJiZ0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcy5sZW5ndGg/UHJvbWlzZS5hbGwodGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMpLnRoZW4oKCgpPT50LmFwcGx5KHRoaXMsYXJndW1lbnRzKSkpLmZpbmFsbHkoKCgpPT57dGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXM9W119KSk6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIE0oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlLlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZUFuc3dlcjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVBbnN3ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMmJnRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzLmxlbmd0aD9Qcm9taXNlLmFsbCh0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcykudGhlbigoKCk9PnQuYXBwbHkodGhpcyxhcmd1bWVudHMpKSkuZmluYWxseSgoKCk9Pnt0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcz1bXX0pKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19dmFyIFU9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsc2hpbUFkZFRyYW5zY2VpdmVyOlAsc2hpbUNyZWF0ZUFuc3dlcjpNLHNoaW1DcmVhdGVPZmZlcjprLHNoaW1HZXREaXNwbGF5TWVkaWE6ZnVuY3Rpb24oZSx0KXtlLm5hdmlnYXRvci5tZWRpYURldmljZXMmJlwiZ2V0RGlzcGxheU1lZGlhXCJpbiBlLm5hdmlnYXRvci5tZWRpYURldmljZXN8fGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmKGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWE9ZnVuY3Rpb24oaSl7aWYoIWl8fCFpLnZpZGVvKXtjb25zdCBlPW5ldyBET01FeGNlcHRpb24oXCJnZXREaXNwbGF5TWVkaWEgd2l0aG91dCB2aWRlbyBjb25zdHJhaW50cyBpcyB1bmRlZmluZWRcIik7cmV0dXJuIGUubmFtZT1cIk5vdEZvdW5kRXJyb3JcIixlLmNvZGU9OCxQcm9taXNlLnJlamVjdChlKX1yZXR1cm4hMD09PWkudmlkZW8/aS52aWRlbz17bWVkaWFTb3VyY2U6dH06aS52aWRlby5tZWRpYVNvdXJjZT10LGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoaSl9KX0sc2hpbUdldFBhcmFtZXRlcnM6TCxzaGltR2V0VXNlck1lZGlhOnksc2hpbU9uVHJhY2s6QSxzaGltUGVlckNvbm5lY3Rpb246YixzaGltUlRDRGF0YUNoYW5uZWw6RCxzaGltUmVjZWl2ZXJHZXRTdGF0czpPLHNoaW1SZW1vdmVTdHJlYW06TixzaGltU2VuZGVyR2V0U3RhdHM6d30pO2Z1bmN0aW9uIHgoZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuUlRDUGVlckNvbm5lY3Rpb24pe2lmKFwiZ2V0TG9jYWxTdHJlYW1zXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZXx8KGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldExvY2FsU3RyZWFtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbFN0cmVhbXN8fCh0aGlzLl9sb2NhbFN0cmVhbXM9W10pLHRoaXMuX2xvY2FsU3RyZWFtc30pLCEoXCJhZGRTdHJlYW1cImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSl7Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7dGhpcy5fbG9jYWxTdHJlYW1zfHwodGhpcy5fbG9jYWxTdHJlYW1zPVtdKSx0aGlzLl9sb2NhbFN0cmVhbXMuaW5jbHVkZXMoZSl8fHRoaXMuX2xvY2FsU3RyZWFtcy5wdXNoKGUpLGUuZ2V0QXVkaW9UcmFja3MoKS5mb3JFYWNoKChpPT50LmNhbGwodGhpcyxpLGUpKSksZS5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2goKGk9PnQuY2FsbCh0aGlzLGksZSkpKX0sZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oZSwuLi5pKXtyZXR1cm4gaSYmaS5mb3JFYWNoKChlPT57dGhpcy5fbG9jYWxTdHJlYW1zP3RoaXMuX2xvY2FsU3RyZWFtcy5pbmNsdWRlcyhlKXx8dGhpcy5fbG9jYWxTdHJlYW1zLnB1c2goZSk6dGhpcy5fbG9jYWxTdHJlYW1zPVtlXX0pKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19XCJyZW1vdmVTdHJlYW1cImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHwoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMuX2xvY2FsU3RyZWFtc3x8KHRoaXMuX2xvY2FsU3RyZWFtcz1bXSk7Y29uc3QgdD10aGlzLl9sb2NhbFN0cmVhbXMuaW5kZXhPZihlKTtpZigtMT09PXQpcmV0dXJuO3RoaXMuX2xvY2FsU3RyZWFtcy5zcGxpY2UodCwxKTtjb25zdCBpPWUuZ2V0VHJhY2tzKCk7dGhpcy5nZXRTZW5kZXJzKCkuZm9yRWFjaCgoZT0+e2kuaW5jbHVkZXMoZS50cmFjaykmJnRoaXMucmVtb3ZlVHJhY2soZSl9KSl9KX19ZnVuY3Rpb24gVihlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmZS5SVENQZWVyQ29ubmVjdGlvbiYmKFwiZ2V0UmVtb3RlU3RyZWFtc1wiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fChlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZW1vdGVTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbW90ZVN0cmVhbXM/dGhpcy5fcmVtb3RlU3RyZWFtczpbXX0pLCEoXCJvbmFkZHN0cmVhbVwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpKSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwib25hZGRzdHJlYW1cIix7Z2V0KCl7cmV0dXJuIHRoaXMuX29uYWRkc3RyZWFtfSxzZXQoZSl7dGhpcy5fb25hZGRzdHJlYW0mJih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLl9vbmFkZHN0cmVhbSksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbmFkZHN0cmVhbXBvbHkpKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLl9vbmFkZHN0cmVhbT1lKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29uYWRkc3RyZWFtcG9seT1lPT57ZS5zdHJlYW1zLmZvckVhY2goKGU9PntpZih0aGlzLl9yZW1vdGVTdHJlYW1zfHwodGhpcy5fcmVtb3RlU3RyZWFtcz1bXSksdGhpcy5fcmVtb3RlU3RyZWFtcy5pbmNsdWRlcyhlKSlyZXR1cm47dGhpcy5fcmVtb3RlU3RyZWFtcy5wdXNoKGUpO2NvbnN0IHQ9bmV3IEV2ZW50KFwiYWRkc3RyZWFtXCIpO3Quc3RyZWFtPWUsdGhpcy5kaXNwYXRjaEV2ZW50KHQpfSkpfSl9fSk7Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1mdW5jdGlvbigpe2NvbnN0IGU9dGhpcztyZXR1cm4gdGhpcy5fb25hZGRzdHJlYW1wb2x5fHx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29uYWRkc3RyZWFtcG9seT1mdW5jdGlvbih0KXt0LnN0cmVhbXMuZm9yRWFjaCgodD0+e2lmKGUuX3JlbW90ZVN0cmVhbXN8fChlLl9yZW1vdGVTdHJlYW1zPVtdKSxlLl9yZW1vdGVTdHJlYW1zLmluZGV4T2YodCk+PTApcmV0dXJuO2UuX3JlbW90ZVN0cmVhbXMucHVzaCh0KTtjb25zdCBpPW5ldyBFdmVudChcImFkZHN0cmVhbVwiKTtpLnN0cmVhbT10LGUuZGlzcGF0Y2hFdmVudChpKX0pKX0pLHQuYXBwbHkoZSxhcmd1bWVudHMpfX19ZnVuY3Rpb24gRihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8IWUuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsaT10LmNyZWF0ZU9mZmVyLG49dC5jcmVhdGVBbnN3ZXIscj10LnNldExvY2FsRGVzY3JpcHRpb24scz10LnNldFJlbW90ZURlc2NyaXB0aW9uLG89dC5hZGRJY2VDYW5kaWRhdGU7dC5jcmVhdGVPZmZlcj1mdW5jdGlvbihlLHQpe2NvbnN0IG49YXJndW1lbnRzLmxlbmd0aD49Mj9hcmd1bWVudHNbMl06YXJndW1lbnRzWzBdLHI9aS5hcHBseSh0aGlzLFtuXSk7cmV0dXJuIHQ/KHIudGhlbihlLHQpLFByb21pc2UucmVzb2x2ZSgpKTpyfSx0LmNyZWF0ZUFuc3dlcj1mdW5jdGlvbihlLHQpe2NvbnN0IGk9YXJndW1lbnRzLmxlbmd0aD49Mj9hcmd1bWVudHNbMl06YXJndW1lbnRzWzBdLHI9bi5hcHBseSh0aGlzLFtpXSk7cmV0dXJuIHQ/KHIudGhlbihlLHQpLFByb21pc2UucmVzb2x2ZSgpKTpyfTtsZXQgYT1mdW5jdGlvbihlLHQsaSl7Y29uc3Qgbj1yLmFwcGx5KHRoaXMsW2VdKTtyZXR1cm4gaT8obi50aGVuKHQsaSksUHJvbWlzZS5yZXNvbHZlKCkpOm59O3Quc2V0TG9jYWxEZXNjcmlwdGlvbj1hLGE9ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49cy5hcHBseSh0aGlzLFtlXSk7cmV0dXJuIGk/KG4udGhlbih0LGkpLFByb21pc2UucmVzb2x2ZSgpKTpufSx0LnNldFJlbW90ZURlc2NyaXB0aW9uPWEsYT1mdW5jdGlvbihlLHQsaSl7Y29uc3Qgbj1vLmFwcGx5KHRoaXMsW2VdKTtyZXR1cm4gaT8obi50aGVuKHQsaSksUHJvbWlzZS5yZXNvbHZlKCkpOm59LHQuYWRkSWNlQ2FuZGlkYXRlPWF9ZnVuY3Rpb24gQihlKXtjb25zdCB0PWUmJmUubmF2aWdhdG9yO2lmKHQubWVkaWFEZXZpY2VzJiZ0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpe2NvbnN0IGU9dC5tZWRpYURldmljZXMsaT1lLmdldFVzZXJNZWRpYS5iaW5kKGUpO3QubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1lPT5pKGooZSkpfSF0LmdldFVzZXJNZWRpYSYmdC5tZWRpYURldmljZXMmJnQubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSYmKHQuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUsaSxuKXt0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoZSkudGhlbihpLG4pfS5iaW5kKHQpKX1mdW5jdGlvbiBqKGUpe3JldHVybiBlJiZ2b2lkIDAhPT1lLnZpZGVvP09iamVjdC5hc3NpZ24oe30sZSx7dmlkZW86bChlLnZpZGVvKX0pOmV9ZnVuY3Rpb24gRyhlKXtpZighZS5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uO2UuUlRDUGVlckNvbm5lY3Rpb249ZnVuY3Rpb24oZSxpKXtpZihlJiZlLmljZVNlcnZlcnMpe2NvbnN0IHQ9W107Zm9yKGxldCBpPTA7aTxlLmljZVNlcnZlcnMubGVuZ3RoO2krKyl7bGV0IG49ZS5pY2VTZXJ2ZXJzW2ldOyFuLmhhc093blByb3BlcnR5KFwidXJsc1wiKSYmbi5oYXNPd25Qcm9wZXJ0eShcInVybFwiKT8oYyhcIlJUQ0ljZVNlcnZlci51cmxcIixcIlJUQ0ljZVNlcnZlci51cmxzXCIpLG49SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuKSksbi51cmxzPW4udXJsLGRlbGV0ZSBuLnVybCx0LnB1c2gobikpOnQucHVzaChlLmljZVNlcnZlcnNbaV0pfWUuaWNlU2VydmVycz10fXJldHVybiBuZXcgdChlLGkpfSxlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZT10LnByb3RvdHlwZSxcImdlbmVyYXRlQ2VydGlmaWNhdGVcImluIHQmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1BlZXJDb25uZWN0aW9uLFwiZ2VuZXJhdGVDZXJ0aWZpY2F0ZVwiLHtnZXQ6KCk9PnQuZ2VuZXJhdGVDZXJ0aWZpY2F0ZX0pfWZ1bmN0aW9uIFcoZSl7XCJvYmplY3RcIj09dHlwZW9mIGUmJmUuUlRDVHJhY2tFdmVudCYmXCJyZWNlaXZlclwiaW4gZS5SVENUcmFja0V2ZW50LnByb3RvdHlwZSYmIShcInRyYW5zY2VpdmVyXCJpbiBlLlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUsXCJ0cmFuc2NlaXZlclwiLHtnZXQoKXtyZXR1cm57cmVjZWl2ZXI6dGhpcy5yZWNlaXZlcn19fSl9ZnVuY3Rpb24gSChlKXtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyPWZ1bmN0aW9uKGUpe2lmKGUpe3ZvaWQgMCE9PWUub2ZmZXJUb1JlY2VpdmVBdWRpbyYmKGUub2ZmZXJUb1JlY2VpdmVBdWRpbz0hIWUub2ZmZXJUb1JlY2VpdmVBdWRpbyk7Y29uc3QgdD10aGlzLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGU9PlwiYXVkaW9cIj09PWUucmVjZWl2ZXIudHJhY2sua2luZCkpOyExPT09ZS5vZmZlclRvUmVjZWl2ZUF1ZGlvJiZ0P1wic2VuZHJlY3ZcIj09PXQuZGlyZWN0aW9uP3Quc2V0RGlyZWN0aW9uP3Quc2V0RGlyZWN0aW9uKFwic2VuZG9ubHlcIik6dC5kaXJlY3Rpb249XCJzZW5kb25seVwiOlwicmVjdm9ubHlcIj09PXQuZGlyZWN0aW9uJiYodC5zZXREaXJlY3Rpb24/dC5zZXREaXJlY3Rpb24oXCJpbmFjdGl2ZVwiKTp0LmRpcmVjdGlvbj1cImluYWN0aXZlXCIpOiEwIT09ZS5vZmZlclRvUmVjZWl2ZUF1ZGlvfHx0fHx0aGlzLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pLHZvaWQgMCE9PWUub2ZmZXJUb1JlY2VpdmVWaWRlbyYmKGUub2ZmZXJUb1JlY2VpdmVWaWRlbz0hIWUub2ZmZXJUb1JlY2VpdmVWaWRlbyk7Y29uc3QgaT10aGlzLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGU9PlwidmlkZW9cIj09PWUucmVjZWl2ZXIudHJhY2sua2luZCkpOyExPT09ZS5vZmZlclRvUmVjZWl2ZVZpZGVvJiZpP1wic2VuZHJlY3ZcIj09PWkuZGlyZWN0aW9uP2kuc2V0RGlyZWN0aW9uP2kuc2V0RGlyZWN0aW9uKFwic2VuZG9ubHlcIik6aS5kaXJlY3Rpb249XCJzZW5kb25seVwiOlwicmVjdm9ubHlcIj09PWkuZGlyZWN0aW9uJiYoaS5zZXREaXJlY3Rpb24/aS5zZXREaXJlY3Rpb24oXCJpbmFjdGl2ZVwiKTppLmRpcmVjdGlvbj1cImluYWN0aXZlXCIpOiEwIT09ZS5vZmZlclRvUmVjZWl2ZVZpZGVvfHxpfHx0aGlzLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pfXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gSyhlKXtcIm9iamVjdFwiIT10eXBlb2YgZXx8ZS5BdWRpb0NvbnRleHR8fChlLkF1ZGlvQ29udGV4dD1lLndlYmtpdEF1ZGlvQ29udGV4dCl9dmFyIFk9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsc2hpbUF1ZGlvQ29udGV4dDpLLHNoaW1DYWxsYmFja3NBUEk6RixzaGltQ29uc3RyYWludHM6aixzaGltQ3JlYXRlT2ZmZXJMZWdhY3k6SCxzaGltR2V0VXNlck1lZGlhOkIsc2hpbUxvY2FsU3RyZWFtc0FQSTp4LHNoaW1SVENJY2VTZXJ2ZXJVcmxzOkcsc2hpbVJlbW90ZVN0cmVhbXNBUEk6VixzaGltVHJhY2tFdmVudFRyYW5zY2VpdmVyOld9KSxxPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiBKKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwiZGVmYXVsdFwiKT9lLmRlZmF1bHQ6ZX12YXIgej17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e2dlbmVyYXRlSWRlbnRpZmllcjpmdW5jdGlvbigpe3JldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwxMil9fTt0LmxvY2FsQ05hbWU9dC5nZW5lcmF0ZUlkZW50aWZpZXIoKSx0LnNwbGl0TGluZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpLnNwbGl0KFwiXFxuXCIpLm1hcCgoZT0+ZS50cmltKCkpKX0sdC5zcGxpdFNlY3Rpb25zPWZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KFwiXFxubT1cIikubWFwKCgoZSx0KT0+KHQ+MD9cIm09XCIrZTplKS50cmltKCkrXCJcXHJcXG5cIikpfSx0LmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKGUpe2NvbnN0IGk9dC5zcGxpdFNlY3Rpb25zKGUpO3JldHVybiBpJiZpWzBdfSx0LmdldE1lZGlhU2VjdGlvbnM9ZnVuY3Rpb24oZSl7Y29uc3QgaT10LnNwbGl0U2VjdGlvbnMoZSk7cmV0dXJuIGkuc2hpZnQoKSxpfSx0Lm1hdGNoUHJlZml4PWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQuc3BsaXRMaW5lcyhlKS5maWx0ZXIoKGU9PjA9PT1lLmluZGV4T2YoaSkpKX0sdC5wYXJzZUNhbmRpZGF0ZT1mdW5jdGlvbihlKXtsZXQgdDt0PTA9PT1lLmluZGV4T2YoXCJhPWNhbmRpZGF0ZTpcIik/ZS5zdWJzdHJpbmcoMTIpLnNwbGl0KFwiIFwiKTplLnN1YnN0cmluZygxMCkuc3BsaXQoXCIgXCIpO2NvbnN0IGk9e2ZvdW5kYXRpb246dFswXSxjb21wb25lbnQ6ezE6XCJydHBcIiwyOlwicnRjcFwifVt0WzFdXXx8dFsxXSxwcm90b2NvbDp0WzJdLnRvTG93ZXJDYXNlKCkscHJpb3JpdHk6cGFyc2VJbnQodFszXSwxMCksaXA6dFs0XSxhZGRyZXNzOnRbNF0scG9ydDpwYXJzZUludCh0WzVdLDEwKSx0eXBlOnRbN119O2ZvcihsZXQgZT04O2U8dC5sZW5ndGg7ZSs9Milzd2l0Y2godFtlXSl7Y2FzZVwicmFkZHJcIjppLnJlbGF0ZWRBZGRyZXNzPXRbZSsxXTticmVhaztjYXNlXCJycG9ydFwiOmkucmVsYXRlZFBvcnQ9cGFyc2VJbnQodFtlKzFdLDEwKTticmVhaztjYXNlXCJ0Y3B0eXBlXCI6aS50Y3BUeXBlPXRbZSsxXTticmVhaztjYXNlXCJ1ZnJhZ1wiOmkudWZyYWc9dFtlKzFdLGkudXNlcm5hbWVGcmFnbWVudD10W2UrMV07YnJlYWs7ZGVmYXVsdDp2b2lkIDA9PT1pW3RbZV1dJiYoaVt0W2VdXT10W2UrMV0pfXJldHVybiBpfSx0LndyaXRlQ2FuZGlkYXRlPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9W107dC5wdXNoKGUuZm91bmRhdGlvbik7Y29uc3QgaT1lLmNvbXBvbmVudDtcInJ0cFwiPT09aT90LnB1c2goMSk6XCJydGNwXCI9PT1pP3QucHVzaCgyKTp0LnB1c2goaSksdC5wdXNoKGUucHJvdG9jb2wudG9VcHBlckNhc2UoKSksdC5wdXNoKGUucHJpb3JpdHkpLHQucHVzaChlLmFkZHJlc3N8fGUuaXApLHQucHVzaChlLnBvcnQpO2NvbnN0IG49ZS50eXBlO3JldHVybiB0LnB1c2goXCJ0eXBcIiksdC5wdXNoKG4pLFwiaG9zdFwiIT09biYmZS5yZWxhdGVkQWRkcmVzcyYmZS5yZWxhdGVkUG9ydCYmKHQucHVzaChcInJhZGRyXCIpLHQucHVzaChlLnJlbGF0ZWRBZGRyZXNzKSx0LnB1c2goXCJycG9ydFwiKSx0LnB1c2goZS5yZWxhdGVkUG9ydCkpLGUudGNwVHlwZSYmXCJ0Y3BcIj09PWUucHJvdG9jb2wudG9Mb3dlckNhc2UoKSYmKHQucHVzaChcInRjcHR5cGVcIiksdC5wdXNoKGUudGNwVHlwZSkpLChlLnVzZXJuYW1lRnJhZ21lbnR8fGUudWZyYWcpJiYodC5wdXNoKFwidWZyYWdcIiksdC5wdXNoKGUudXNlcm5hbWVGcmFnbWVudHx8ZS51ZnJhZykpLFwiY2FuZGlkYXRlOlwiK3Quam9pbihcIiBcIil9LHQucGFyc2VJY2VPcHRpb25zPWZ1bmN0aW9uKGUpe3JldHVybiBlLnN1YnN0cmluZygxNCkuc3BsaXQoXCIgXCIpfSx0LnBhcnNlUnRwTWFwPWZ1bmN0aW9uKGUpe2xldCB0PWUuc3Vic3RyaW5nKDkpLnNwbGl0KFwiIFwiKTtjb25zdCBpPXtwYXlsb2FkVHlwZTpwYXJzZUludCh0LnNoaWZ0KCksMTApfTtyZXR1cm4gdD10WzBdLnNwbGl0KFwiL1wiKSxpLm5hbWU9dFswXSxpLmNsb2NrUmF0ZT1wYXJzZUludCh0WzFdLDEwKSxpLmNoYW5uZWxzPTM9PT10Lmxlbmd0aD9wYXJzZUludCh0WzJdLDEwKToxLGkubnVtQ2hhbm5lbHM9aS5jaGFubmVscyxpfSx0LndyaXRlUnRwTWFwPWZ1bmN0aW9uKGUpe2xldCB0PWUucGF5bG9hZFR5cGU7dm9pZCAwIT09ZS5wcmVmZXJyZWRQYXlsb2FkVHlwZSYmKHQ9ZS5wcmVmZXJyZWRQYXlsb2FkVHlwZSk7Y29uc3QgaT1lLmNoYW5uZWxzfHxlLm51bUNoYW5uZWxzfHwxO3JldHVyblwiYT1ydHBtYXA6XCIrdCtcIiBcIitlLm5hbWUrXCIvXCIrZS5jbG9ja1JhdGUrKDEhPT1pP1wiL1wiK2k6XCJcIikrXCJcXHJcXG5cIn0sdC5wYXJzZUV4dG1hcD1mdW5jdGlvbihlKXtjb25zdCB0PWUuc3Vic3RyaW5nKDkpLnNwbGl0KFwiIFwiKTtyZXR1cm57aWQ6cGFyc2VJbnQodFswXSwxMCksZGlyZWN0aW9uOnRbMF0uaW5kZXhPZihcIi9cIik+MD90WzBdLnNwbGl0KFwiL1wiKVsxXTpcInNlbmRyZWN2XCIsdXJpOnRbMV0sYXR0cmlidXRlczp0LnNsaWNlKDIpLmpvaW4oXCIgXCIpfX0sdC53cml0ZUV4dG1hcD1mdW5jdGlvbihlKXtyZXR1cm5cImE9ZXh0bWFwOlwiKyhlLmlkfHxlLnByZWZlcnJlZElkKSsoZS5kaXJlY3Rpb24mJlwic2VuZHJlY3ZcIiE9PWUuZGlyZWN0aW9uP1wiL1wiK2UuZGlyZWN0aW9uOlwiXCIpK1wiIFwiK2UudXJpKyhlLmF0dHJpYnV0ZXM/XCIgXCIrZS5hdHRyaWJ1dGVzOlwiXCIpK1wiXFxyXFxuXCJ9LHQucGFyc2VGbXRwPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e307bGV0IGk7Y29uc3Qgbj1lLnN1YnN0cmluZyhlLmluZGV4T2YoXCIgXCIpKzEpLnNwbGl0KFwiO1wiKTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKylpPW5bZV0udHJpbSgpLnNwbGl0KFwiPVwiKSx0W2lbMF0udHJpbSgpXT1pWzFdO3JldHVybiB0fSx0LndyaXRlRm10cD1mdW5jdGlvbihlKXtsZXQgdD1cIlwiLGk9ZS5wYXlsb2FkVHlwZTtpZih2b2lkIDAhPT1lLnByZWZlcnJlZFBheWxvYWRUeXBlJiYoaT1lLnByZWZlcnJlZFBheWxvYWRUeXBlKSxlLnBhcmFtZXRlcnMmJk9iamVjdC5rZXlzKGUucGFyYW1ldGVycykubGVuZ3RoKXtjb25zdCBuPVtdO09iamVjdC5rZXlzKGUucGFyYW1ldGVycykuZm9yRWFjaCgodD0+e3ZvaWQgMCE9PWUucGFyYW1ldGVyc1t0XT9uLnB1c2godCtcIj1cIitlLnBhcmFtZXRlcnNbdF0pOm4ucHVzaCh0KX0pKSx0Kz1cImE9Zm10cDpcIitpK1wiIFwiK24uam9pbihcIjtcIikrXCJcXHJcXG5cIn1yZXR1cm4gdH0sdC5wYXJzZVJ0Y3BGYj1mdW5jdGlvbihlKXtjb25zdCB0PWUuc3Vic3RyaW5nKGUuaW5kZXhPZihcIiBcIikrMSkuc3BsaXQoXCIgXCIpO3JldHVybnt0eXBlOnQuc2hpZnQoKSxwYXJhbWV0ZXI6dC5qb2luKFwiIFwiKX19LHQud3JpdGVSdGNwRmI9ZnVuY3Rpb24oZSl7bGV0IHQ9XCJcIixpPWUucGF5bG9hZFR5cGU7cmV0dXJuIHZvaWQgMCE9PWUucHJlZmVycmVkUGF5bG9hZFR5cGUmJihpPWUucHJlZmVycmVkUGF5bG9hZFR5cGUpLGUucnRjcEZlZWRiYWNrJiZlLnJ0Y3BGZWVkYmFjay5sZW5ndGgmJmUucnRjcEZlZWRiYWNrLmZvckVhY2goKGU9Pnt0Kz1cImE9cnRjcC1mYjpcIitpK1wiIFwiK2UudHlwZSsoZS5wYXJhbWV0ZXImJmUucGFyYW1ldGVyLmxlbmd0aD9cIiBcIitlLnBhcmFtZXRlcjpcIlwiKStcIlxcclxcblwifSkpLHR9LHQucGFyc2VTc3JjTWVkaWE9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmluZGV4T2YoXCIgXCIpLGk9e3NzcmM6cGFyc2VJbnQoZS5zdWJzdHJpbmcoNyx0KSwxMCl9LG49ZS5pbmRleE9mKFwiOlwiLHQpO3JldHVybiBuPi0xPyhpLmF0dHJpYnV0ZT1lLnN1YnN0cmluZyh0KzEsbiksaS52YWx1ZT1lLnN1YnN0cmluZyhuKzEpKTppLmF0dHJpYnV0ZT1lLnN1YnN0cmluZyh0KzEpLGl9LHQucGFyc2VTc3JjR3JvdXA9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnN1YnN0cmluZygxMykuc3BsaXQoXCIgXCIpO3JldHVybntzZW1hbnRpY3M6dC5zaGlmdCgpLHNzcmNzOnQubWFwKChlPT5wYXJzZUludChlLDEwKSkpfX0sdC5nZXRNaWQ9ZnVuY3Rpb24oZSl7Y29uc3QgaT10Lm1hdGNoUHJlZml4KGUsXCJhPW1pZDpcIilbMF07aWYoaSlyZXR1cm4gaS5zdWJzdHJpbmcoNil9LHQucGFyc2VGaW5nZXJwcmludD1mdW5jdGlvbihlKXtjb25zdCB0PWUuc3Vic3RyaW5nKDE0KS5zcGxpdChcIiBcIik7cmV0dXJue2FsZ29yaXRobTp0WzBdLnRvTG93ZXJDYXNlKCksdmFsdWU6dFsxXS50b1VwcGVyQ2FzZSgpfX0sdC5nZXREdGxzUGFyYW1ldGVycz1mdW5jdGlvbihlLGkpe3JldHVybntyb2xlOlwiYXV0b1wiLGZpbmdlcnByaW50czp0Lm1hdGNoUHJlZml4KGUraSxcImE9ZmluZ2VycHJpbnQ6XCIpLm1hcCh0LnBhcnNlRmluZ2VycHJpbnQpfX0sdC53cml0ZUR0bHNQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsdCl7bGV0IGk9XCJhPXNldHVwOlwiK3QrXCJcXHJcXG5cIjtyZXR1cm4gZS5maW5nZXJwcmludHMuZm9yRWFjaCgoZT0+e2krPVwiYT1maW5nZXJwcmludDpcIitlLmFsZ29yaXRobStcIiBcIitlLnZhbHVlK1wiXFxyXFxuXCJ9KSksaX0sdC5wYXJzZUNyeXB0b0xpbmU9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnN1YnN0cmluZyg5KS5zcGxpdChcIiBcIik7cmV0dXJue3RhZzpwYXJzZUludCh0WzBdLDEwKSxjcnlwdG9TdWl0ZTp0WzFdLGtleVBhcmFtczp0WzJdLHNlc3Npb25QYXJhbXM6dC5zbGljZSgzKX19LHQud3JpdGVDcnlwdG9MaW5lPWZ1bmN0aW9uKGUpe3JldHVyblwiYT1jcnlwdG86XCIrZS50YWcrXCIgXCIrZS5jcnlwdG9TdWl0ZStcIiBcIisoXCJvYmplY3RcIj09dHlwZW9mIGUua2V5UGFyYW1zP3Qud3JpdGVDcnlwdG9LZXlQYXJhbXMoZS5rZXlQYXJhbXMpOmUua2V5UGFyYW1zKSsoZS5zZXNzaW9uUGFyYW1zP1wiIFwiK2Uuc2Vzc2lvblBhcmFtcy5qb2luKFwiIFwiKTpcIlwiKStcIlxcclxcblwifSx0LnBhcnNlQ3J5cHRvS2V5UGFyYW1zPWZ1bmN0aW9uKGUpe2lmKDAhPT1lLmluZGV4T2YoXCJpbmxpbmU6XCIpKXJldHVybiBudWxsO2NvbnN0IHQ9ZS5zdWJzdHJpbmcoNykuc3BsaXQoXCJ8XCIpO3JldHVybntrZXlNZXRob2Q6XCJpbmxpbmVcIixrZXlTYWx0OnRbMF0sbGlmZVRpbWU6dFsxXSxta2lWYWx1ZTp0WzJdP3RbMl0uc3BsaXQoXCI6XCIpWzBdOnZvaWQgMCxta2lMZW5ndGg6dFsyXT90WzJdLnNwbGl0KFwiOlwiKVsxXTp2b2lkIDB9fSx0LndyaXRlQ3J5cHRvS2V5UGFyYW1zPWZ1bmN0aW9uKGUpe3JldHVybiBlLmtleU1ldGhvZCtcIjpcIitlLmtleVNhbHQrKGUubGlmZVRpbWU/XCJ8XCIrZS5saWZlVGltZTpcIlwiKSsoZS5ta2lWYWx1ZSYmZS5ta2lMZW5ndGg/XCJ8XCIrZS5ta2lWYWx1ZStcIjpcIitlLm1raUxlbmd0aDpcIlwiKX0sdC5nZXRDcnlwdG9QYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQubWF0Y2hQcmVmaXgoZStpLFwiYT1jcnlwdG86XCIpLm1hcCh0LnBhcnNlQ3J5cHRvTGluZSl9LHQuZ2V0SWNlUGFyYW1ldGVycz1mdW5jdGlvbihlLGkpe2NvbnN0IG49dC5tYXRjaFByZWZpeChlK2ksXCJhPWljZS11ZnJhZzpcIilbMF0scj10Lm1hdGNoUHJlZml4KGUraSxcImE9aWNlLXB3ZDpcIilbMF07cmV0dXJuIG4mJnI/e3VzZXJuYW1lRnJhZ21lbnQ6bi5zdWJzdHJpbmcoMTIpLHBhc3N3b3JkOnIuc3Vic3RyaW5nKDEwKX06bnVsbH0sdC53cml0ZUljZVBhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7bGV0IHQ9XCJhPWljZS11ZnJhZzpcIitlLnVzZXJuYW1lRnJhZ21lbnQrXCJcXHJcXG5hPWljZS1wd2Q6XCIrZS5wYXNzd29yZCtcIlxcclxcblwiO3JldHVybiBlLmljZUxpdGUmJih0Kz1cImE9aWNlLWxpdGVcXHJcXG5cIiksdH0sdC5wYXJzZVJ0cFBhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7Y29uc3QgaT17Y29kZWNzOltdLGhlYWRlckV4dGVuc2lvbnM6W10sZmVjTWVjaGFuaXNtczpbXSxydGNwOltdfSxuPXQuc3BsaXRMaW5lcyhlKVswXS5zcGxpdChcIiBcIik7aS5wcm9maWxlPW5bMl07Zm9yKGxldCByPTM7cjxuLmxlbmd0aDtyKyspe2NvbnN0IHM9bltyXSxvPXQubWF0Y2hQcmVmaXgoZSxcImE9cnRwbWFwOlwiK3MrXCIgXCIpWzBdO2lmKG8pe2NvbnN0IG49dC5wYXJzZVJ0cE1hcChvKSxyPXQubWF0Y2hQcmVmaXgoZSxcImE9Zm10cDpcIitzK1wiIFwiKTtzd2l0Y2gobi5wYXJhbWV0ZXJzPXIubGVuZ3RoP3QucGFyc2VGbXRwKHJbMF0pOnt9LG4ucnRjcEZlZWRiYWNrPXQubWF0Y2hQcmVmaXgoZSxcImE9cnRjcC1mYjpcIitzK1wiIFwiKS5tYXAodC5wYXJzZVJ0Y3BGYiksaS5jb2RlY3MucHVzaChuKSxuLm5hbWUudG9VcHBlckNhc2UoKSl7Y2FzZVwiUkVEXCI6Y2FzZVwiVUxQRkVDXCI6aS5mZWNNZWNoYW5pc21zLnB1c2gobi5uYW1lLnRvVXBwZXJDYXNlKCkpfX19dC5tYXRjaFByZWZpeChlLFwiYT1leHRtYXA6XCIpLmZvckVhY2goKGU9PntpLmhlYWRlckV4dGVuc2lvbnMucHVzaCh0LnBhcnNlRXh0bWFwKGUpKX0pKTtjb25zdCByPXQubWF0Y2hQcmVmaXgoZSxcImE9cnRjcC1mYjoqIFwiKS5tYXAodC5wYXJzZVJ0Y3BGYik7cmV0dXJuIGkuY29kZWNzLmZvckVhY2goKGU9PntyLmZvckVhY2goKHQ9PntlLnJ0Y3BGZWVkYmFjay5maW5kKChlPT5lLnR5cGU9PT10LnR5cGUmJmUucGFyYW1ldGVyPT09dC5wYXJhbWV0ZXIpKXx8ZS5ydGNwRmVlZGJhY2sucHVzaCh0KX0pKX0pKSxpfSx0LndyaXRlUnRwRGVzY3JpcHRpb249ZnVuY3Rpb24oZSxpKXtsZXQgbj1cIlwiO24rPVwibT1cIitlK1wiIFwiLG4rPWkuY29kZWNzLmxlbmd0aD4wP1wiOVwiOlwiMFwiLG4rPVwiIFwiKyhpLnByb2ZpbGV8fFwiVURQL1RMUy9SVFAvU0FWUEZcIikrXCIgXCIsbis9aS5jb2RlY3MubWFwKChlPT52b2lkIDAhPT1lLnByZWZlcnJlZFBheWxvYWRUeXBlP2UucHJlZmVycmVkUGF5bG9hZFR5cGU6ZS5wYXlsb2FkVHlwZSkpLmpvaW4oXCIgXCIpK1wiXFxyXFxuXCIsbis9XCJjPUlOIElQNCAwLjAuMC4wXFxyXFxuXCIsbis9XCJhPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxcclxcblwiLGkuY29kZWNzLmZvckVhY2goKGU9PntuKz10LndyaXRlUnRwTWFwKGUpLG4rPXQud3JpdGVGbXRwKGUpLG4rPXQud3JpdGVSdGNwRmIoZSl9KSk7bGV0IHI9MDtyZXR1cm4gaS5jb2RlY3MuZm9yRWFjaCgoZT0+e2UubWF4cHRpbWU+ciYmKHI9ZS5tYXhwdGltZSl9KSkscj4wJiYobis9XCJhPW1heHB0aW1lOlwiK3IrXCJcXHJcXG5cIiksaS5oZWFkZXJFeHRlbnNpb25zJiZpLmhlYWRlckV4dGVuc2lvbnMuZm9yRWFjaCgoZT0+e24rPXQud3JpdGVFeHRtYXAoZSl9KSksbn0sdC5wYXJzZVJ0cEVuY29kaW5nUGFyYW1ldGVycz1mdW5jdGlvbihlKXtjb25zdCBpPVtdLG49dC5wYXJzZVJ0cFBhcmFtZXRlcnMoZSkscj0tMSE9PW4uZmVjTWVjaGFuaXNtcy5pbmRleE9mKFwiUkVEXCIpLHM9LTEhPT1uLmZlY01lY2hhbmlzbXMuaW5kZXhPZihcIlVMUEZFQ1wiKSxvPXQubWF0Y2hQcmVmaXgoZSxcImE9c3NyYzpcIikubWFwKChlPT50LnBhcnNlU3NyY01lZGlhKGUpKSkuZmlsdGVyKChlPT5cImNuYW1lXCI9PT1lLmF0dHJpYnV0ZSkpLGE9by5sZW5ndGg+MCYmb1swXS5zc3JjO2xldCBjO2NvbnN0IGQ9dC5tYXRjaFByZWZpeChlLFwiYT1zc3JjLWdyb3VwOkZJRFwiKS5tYXAoKGU9PmUuc3Vic3RyaW5nKDE3KS5zcGxpdChcIiBcIikubWFwKChlPT5wYXJzZUludChlLDEwKSkpKSk7ZC5sZW5ndGg+MCYmZFswXS5sZW5ndGg+MSYmZFswXVswXT09PWEmJihjPWRbMF1bMV0pLG4uY29kZWNzLmZvckVhY2goKGU9PntpZihcIlJUWFwiPT09ZS5uYW1lLnRvVXBwZXJDYXNlKCkmJmUucGFyYW1ldGVycy5hcHQpe2xldCB0PXtzc3JjOmEsY29kZWNQYXlsb2FkVHlwZTpwYXJzZUludChlLnBhcmFtZXRlcnMuYXB0LDEwKX07YSYmYyYmKHQucnR4PXtzc3JjOmN9KSxpLnB1c2godCksciYmKHQ9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSksdC5mZWM9e3NzcmM6YSxtZWNoYW5pc206cz9cInJlZCt1bHBmZWNcIjpcInJlZFwifSxpLnB1c2godCkpfX0pKSwwPT09aS5sZW5ndGgmJmEmJmkucHVzaCh7c3NyYzphfSk7bGV0IGw9dC5tYXRjaFByZWZpeChlLFwiYj1cIik7cmV0dXJuIGwubGVuZ3RoJiYobD0wPT09bFswXS5pbmRleE9mKFwiYj1USUFTOlwiKT9wYXJzZUludChsWzBdLnN1YnN0cmluZyg3KSwxMCk6MD09PWxbMF0uaW5kZXhPZihcImI9QVM6XCIpPzFlMypwYXJzZUludChsWzBdLnN1YnN0cmluZyg1KSwxMCkqLjk1LTE2ZTM6dm9pZCAwLGkuZm9yRWFjaCgoZT0+e2UubWF4Qml0cmF0ZT1sfSkpKSxpfSx0LnBhcnNlUnRjcFBhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7Y29uc3QgaT17fSxuPXQubWF0Y2hQcmVmaXgoZSxcImE9c3NyYzpcIikubWFwKChlPT50LnBhcnNlU3NyY01lZGlhKGUpKSkuZmlsdGVyKChlPT5cImNuYW1lXCI9PT1lLmF0dHJpYnV0ZSkpWzBdO24mJihpLmNuYW1lPW4udmFsdWUsaS5zc3JjPW4uc3NyYyk7Y29uc3Qgcj10Lm1hdGNoUHJlZml4KGUsXCJhPXJ0Y3AtcnNpemVcIik7aS5yZWR1Y2VkU2l6ZT1yLmxlbmd0aD4wLGkuY29tcG91bmQ9MD09PXIubGVuZ3RoO2NvbnN0IHM9dC5tYXRjaFByZWZpeChlLFwiYT1ydGNwLW11eFwiKTtyZXR1cm4gaS5tdXg9cy5sZW5ndGg+MCxpfSx0LndyaXRlUnRjcFBhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7bGV0IHQ9XCJcIjtyZXR1cm4gZS5yZWR1Y2VkU2l6ZSYmKHQrPVwiYT1ydGNwLXJzaXplXFxyXFxuXCIpLGUubXV4JiYodCs9XCJhPXJ0Y3AtbXV4XFxyXFxuXCIpLHZvaWQgMCE9PWUuc3NyYyYmZS5jbmFtZSYmKHQrPVwiYT1zc3JjOlwiK2Uuc3NyYytcIiBjbmFtZTpcIitlLmNuYW1lK1wiXFxyXFxuXCIpLHR9LHQucGFyc2VNc2lkPWZ1bmN0aW9uKGUpe2xldCBpO2NvbnN0IG49dC5tYXRjaFByZWZpeChlLFwiYT1tc2lkOlwiKTtpZigxPT09bi5sZW5ndGgpcmV0dXJuIGk9blswXS5zdWJzdHJpbmcoNykuc3BsaXQoXCIgXCIpLHtzdHJlYW06aVswXSx0cmFjazppWzFdfTtjb25zdCByPXQubWF0Y2hQcmVmaXgoZSxcImE9c3NyYzpcIikubWFwKChlPT50LnBhcnNlU3NyY01lZGlhKGUpKSkuZmlsdGVyKChlPT5cIm1zaWRcIj09PWUuYXR0cmlidXRlKSk7cmV0dXJuIHIubGVuZ3RoPjA/KGk9clswXS52YWx1ZS5zcGxpdChcIiBcIikse3N0cmVhbTppWzBdLHRyYWNrOmlbMV19KTp2b2lkIDB9LHQucGFyc2VTY3RwRGVzY3JpcHRpb249ZnVuY3Rpb24oZSl7Y29uc3QgaT10LnBhcnNlTUxpbmUoZSksbj10Lm1hdGNoUHJlZml4KGUsXCJhPW1heC1tZXNzYWdlLXNpemU6XCIpO2xldCByO24ubGVuZ3RoPjAmJihyPXBhcnNlSW50KG5bMF0uc3Vic3RyaW5nKDE5KSwxMCkpLGlzTmFOKHIpJiYocj02NTUzNik7Y29uc3Qgcz10Lm1hdGNoUHJlZml4KGUsXCJhPXNjdHAtcG9ydDpcIik7aWYocy5sZW5ndGg+MClyZXR1cm57cG9ydDpwYXJzZUludChzWzBdLnN1YnN0cmluZygxMiksMTApLHByb3RvY29sOmkuZm10LG1heE1lc3NhZ2VTaXplOnJ9O2NvbnN0IG89dC5tYXRjaFByZWZpeChlLFwiYT1zY3RwbWFwOlwiKTtpZihvLmxlbmd0aD4wKXtjb25zdCBlPW9bMF0uc3Vic3RyaW5nKDEwKS5zcGxpdChcIiBcIik7cmV0dXJue3BvcnQ6cGFyc2VJbnQoZVswXSwxMCkscHJvdG9jb2w6ZVsxXSxtYXhNZXNzYWdlU2l6ZTpyfX19LHQud3JpdGVTY3RwRGVzY3JpcHRpb249ZnVuY3Rpb24oZSx0KXtsZXQgaT1bXTtyZXR1cm4gaT1cIkRUTFMvU0NUUFwiIT09ZS5wcm90b2NvbD9bXCJtPVwiK2Uua2luZCtcIiA5IFwiK2UucHJvdG9jb2wrXCIgXCIrdC5wcm90b2NvbCtcIlxcclxcblwiLFwiYz1JTiBJUDQgMC4wLjAuMFxcclxcblwiLFwiYT1zY3RwLXBvcnQ6XCIrdC5wb3J0K1wiXFxyXFxuXCJdOltcIm09XCIrZS5raW5kK1wiIDkgXCIrZS5wcm90b2NvbCtcIiBcIit0LnBvcnQrXCJcXHJcXG5cIixcImM9SU4gSVA0IDAuMC4wLjBcXHJcXG5cIixcImE9c2N0cG1hcDpcIit0LnBvcnQrXCIgXCIrdC5wcm90b2NvbCtcIiA2NTUzNVxcclxcblwiXSx2b2lkIDAhPT10Lm1heE1lc3NhZ2VTaXplJiZpLnB1c2goXCJhPW1heC1tZXNzYWdlLXNpemU6XCIrdC5tYXhNZXNzYWdlU2l6ZStcIlxcclxcblwiKSxpLmpvaW4oXCJcIil9LHQuZ2VuZXJhdGVTZXNzaW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygpLnN1YnN0cigyLDIyKX0sdC53cml0ZVNlc3Npb25Cb2lsZXJwbGF0ZT1mdW5jdGlvbihlLGksbil7bGV0IHI7Y29uc3Qgcz12b2lkIDAhPT1pP2k6MjtyPWV8fHQuZ2VuZXJhdGVTZXNzaW9uSWQoKTtyZXR1cm5cInY9MFxcclxcbm89XCIrKG58fFwidGhpc2lzYWRhcHRlcm9ydGNcIikrXCIgXCIrcitcIiBcIitzK1wiIElOIElQNCAxMjcuMC4wLjFcXHJcXG5zPS1cXHJcXG50PTAgMFxcclxcblwifSx0LmdldERpcmVjdGlvbj1mdW5jdGlvbihlLGkpe2NvbnN0IG49dC5zcGxpdExpbmVzKGUpO2ZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKXN3aXRjaChuW2VdKXtjYXNlXCJhPXNlbmRyZWN2XCI6Y2FzZVwiYT1zZW5kb25seVwiOmNhc2VcImE9cmVjdm9ubHlcIjpjYXNlXCJhPWluYWN0aXZlXCI6cmV0dXJuIG5bZV0uc3Vic3RyaW5nKDIpfXJldHVybiBpP3QuZ2V0RGlyZWN0aW9uKGkpOlwic2VuZHJlY3ZcIn0sdC5nZXRLaW5kPWZ1bmN0aW9uKGUpe3JldHVybiB0LnNwbGl0TGluZXMoZSlbMF0uc3BsaXQoXCIgXCIpWzBdLnN1YnN0cmluZygyKX0sdC5pc1JlamVjdGVkPWZ1bmN0aW9uKGUpe3JldHVyblwiMFwiPT09ZS5zcGxpdChcIiBcIiwyKVsxXX0sdC5wYXJzZU1MaW5lPWZ1bmN0aW9uKGUpe2NvbnN0IGk9dC5zcGxpdExpbmVzKGUpWzBdLnN1YnN0cmluZygyKS5zcGxpdChcIiBcIik7cmV0dXJue2tpbmQ6aVswXSxwb3J0OnBhcnNlSW50KGlbMV0sMTApLHByb3RvY29sOmlbMl0sZm10Omkuc2xpY2UoMykuam9pbihcIiBcIil9fSx0LnBhcnNlT0xpbmU9ZnVuY3Rpb24oZSl7Y29uc3QgaT10Lm1hdGNoUHJlZml4KGUsXCJvPVwiKVswXS5zdWJzdHJpbmcoMikuc3BsaXQoXCIgXCIpO3JldHVybnt1c2VybmFtZTppWzBdLHNlc3Npb25JZDppWzFdLHNlc3Npb25WZXJzaW9uOnBhcnNlSW50KGlbMl0sMTApLG5ldFR5cGU6aVszXSxhZGRyZXNzVHlwZTppWzRdLGFkZHJlc3M6aVs1XX19LHQuaXNWYWxpZFNEUD1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZXx8MD09PWUubGVuZ3RoKXJldHVybiExO2NvbnN0IGk9dC5zcGxpdExpbmVzKGUpO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSsrKWlmKGlbZV0ubGVuZ3RoPDJ8fFwiPVwiIT09aVtlXS5jaGFyQXQoMSkpcmV0dXJuITE7cmV0dXJuITB9LGUuZXhwb3J0cz10fSh6KTt2YXIgWD16LmV4cG9ydHMsUT1KKFgpLFo9ZSh7X19wcm90b19fOm51bGwsZGVmYXVsdDpRfSxbWF0pO2Z1bmN0aW9uICQoZSl7aWYoIWUuUlRDSWNlQ2FuZGlkYXRlfHxlLlJUQ0ljZUNhbmRpZGF0ZSYmXCJmb3VuZGF0aW9uXCJpbiBlLlJUQ0ljZUNhbmRpZGF0ZS5wcm90b3R5cGUpcmV0dXJuO2NvbnN0IHQ9ZS5SVENJY2VDYW5kaWRhdGU7ZS5SVENJY2VDYW5kaWRhdGU9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuY2FuZGlkYXRlJiYwPT09ZS5jYW5kaWRhdGUuaW5kZXhPZihcImE9XCIpJiYoKGU9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSkpLmNhbmRpZGF0ZT1lLmNhbmRpZGF0ZS5zdWJzdHIoMikpLGUuY2FuZGlkYXRlJiZlLmNhbmRpZGF0ZS5sZW5ndGgpe2NvbnN0IGk9bmV3IHQoZSksbj1RLnBhcnNlQ2FuZGlkYXRlKGUuY2FuZGlkYXRlKSxyPU9iamVjdC5hc3NpZ24oaSxuKTtyZXR1cm4gci50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57Y2FuZGlkYXRlOnIuY2FuZGlkYXRlLHNkcE1pZDpyLnNkcE1pZCxzZHBNTGluZUluZGV4OnIuc2RwTUxpbmVJbmRleCx1c2VybmFtZUZyYWdtZW50OnIudXNlcm5hbWVGcmFnbWVudH19LHJ9cmV0dXJuIG5ldyB0KGUpfSxlLlJUQ0ljZUNhbmRpZGF0ZS5wcm90b3R5cGU9dC5wcm90b3R5cGUscihlLFwiaWNlY2FuZGlkYXRlXCIsKHQ9Pih0LmNhbmRpZGF0ZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJjYW5kaWRhdGVcIix7dmFsdWU6bmV3IGUuUlRDSWNlQ2FuZGlkYXRlKHQuY2FuZGlkYXRlKSx3cml0YWJsZTpcImZhbHNlXCJ9KSx0KSkpfWZ1bmN0aW9uIGVlKGUpeyFlLlJUQ0ljZUNhbmRpZGF0ZXx8ZS5SVENJY2VDYW5kaWRhdGUmJlwicmVsYXlQcm90b2NvbFwiaW4gZS5SVENJY2VDYW5kaWRhdGUucHJvdG90eXBlfHxyKGUsXCJpY2VjYW5kaWRhdGVcIiwoZT0+e2lmKGUuY2FuZGlkYXRlKXtjb25zdCB0PVEucGFyc2VDYW5kaWRhdGUoZS5jYW5kaWRhdGUuY2FuZGlkYXRlKTtcInJlbGF5XCI9PT10LnR5cGUmJihlLmNhbmRpZGF0ZS5yZWxheVByb3RvY29sPXswOlwidGxzXCIsMTpcInRjcFwiLDI6XCJ1ZHBcIn1bdC5wcmlvcml0eT4+MjRdKX1yZXR1cm4gZX0pKX1mdW5jdGlvbiB0ZShlLHQpe2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtcInNjdHBcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXCJzY3RwXCIse2dldCgpe3JldHVybiB2b2lkIDA9PT10aGlzLl9zY3RwP251bGw6dGhpcy5fc2N0cH19KTtjb25zdCBpPWZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5zZHApcmV0dXJuITE7Y29uc3QgdD1RLnNwbGl0U2VjdGlvbnMoZS5zZHApO3JldHVybiB0LnNoaWZ0KCksdC5zb21lKChlPT57Y29uc3QgdD1RLnBhcnNlTUxpbmUoZSk7cmV0dXJuIHQmJlwiYXBwbGljYXRpb25cIj09PXQua2luZCYmLTEhPT10LnByb3RvY29sLmluZGV4T2YoXCJTQ1RQXCIpfSkpfSxuPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5zZHAubWF0Y2goL21vemlsbGEuLi5USElTX0lTX1NEUEFSVEEtKFxcZCspLyk7aWYobnVsbD09PXR8fHQubGVuZ3RoPDIpcmV0dXJuLTE7Y29uc3QgaT1wYXJzZUludCh0WzFdLDEwKTtyZXR1cm4gaSE9aT8tMTppfSxyPWZ1bmN0aW9uKGUpe2xldCBpPTY1NTM2O3JldHVyblwiZmlyZWZveFwiPT09dC5icm93c2VyJiYoaT10LnZlcnNpb248NTc/LTE9PT1lPzE2Mzg0OjIxNDc0ODM2Mzc6dC52ZXJzaW9uPDYwPzU3PT09dC52ZXJzaW9uPzY1NTM1OjY1NTM2OjIxNDc0ODM2MzcpLGl9LHM9ZnVuY3Rpb24oZSxpKXtsZXQgbj02NTUzNjtcImZpcmVmb3hcIj09PXQuYnJvd3NlciYmNTc9PT10LnZlcnNpb24mJihuPTY1NTM1KTtjb25zdCByPVEubWF0Y2hQcmVmaXgoZS5zZHAsXCJhPW1heC1tZXNzYWdlLXNpemU6XCIpO3JldHVybiByLmxlbmd0aD4wP249cGFyc2VJbnQoclswXS5zdWJzdHIoMTkpLDEwKTpcImZpcmVmb3hcIj09PXQuYnJvd3NlciYmLTEhPT1pJiYobj0yMTQ3NDgzNjM3KSxufSxvPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5fc2N0cD1udWxsLFwiY2hyb21lXCI9PT10LmJyb3dzZXImJnQudmVyc2lvbj49NzYpe2NvbnN0e3NkcFNlbWFudGljczplfT10aGlzLmdldENvbmZpZ3VyYXRpb24oKTtcInBsYW4tYlwiPT09ZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzY3RwXCIse2dldCgpe3JldHVybiB2b2lkIDA9PT10aGlzLl9zY3RwP251bGw6dGhpcy5fc2N0cH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX1pZihpKGFyZ3VtZW50c1swXSkpe2NvbnN0IGU9bihhcmd1bWVudHNbMF0pLHQ9cihlKSxpPXMoYXJndW1lbnRzWzBdLGUpO2xldCBvO289MD09PXQmJjA9PT1pP051bWJlci5QT1NJVElWRV9JTkZJTklUWTowPT09dHx8MD09PWk/TWF0aC5tYXgodCxpKTpNYXRoLm1pbih0LGkpO2NvbnN0IGE9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCJtYXhNZXNzYWdlU2l6ZVwiLHtnZXQ6KCk9Pm99KSx0aGlzLl9zY3RwPWF9cmV0dXJuIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBpZShlKXtpZighZS5SVENQZWVyQ29ubmVjdGlvbnx8IShcImNyZWF0ZURhdGFDaGFubmVsXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpcmV0dXJuO2Z1bmN0aW9uIHQoZSx0KXtjb25zdCBpPWUuc2VuZDtlLnNlbmQ9ZnVuY3Rpb24oKXtjb25zdCBuPWFyZ3VtZW50c1swXSxyPW4ubGVuZ3RofHxuLnNpemV8fG4uYnl0ZUxlbmd0aDtpZihcIm9wZW5cIj09PWUucmVhZHlTdGF0ZSYmdC5zY3RwJiZyPnQuc2N0cC5tYXhNZXNzYWdlU2l6ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiTWVzc2FnZSB0b28gbGFyZ2UgKGNhbiBzZW5kIGEgbWF4aW11bSBvZiBcIit0LnNjdHAubWF4TWVzc2FnZVNpemUrXCIgYnl0ZXMpXCIpO3JldHVybiBpLmFwcGx5KGUsYXJndW1lbnRzKX19Y29uc3QgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbDtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbD1mdW5jdGlvbigpe2NvbnN0IGU9aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHQoZSx0aGlzKSxlfSxyKGUsXCJkYXRhY2hhbm5lbFwiLChlPT4odChlLmNoYW5uZWwsZS50YXJnZXQpLGUpKSl9ZnVuY3Rpb24gbmUoZSl7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb258fFwiY29ubmVjdGlvblN0YXRlXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSlyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNvbm5lY3Rpb25TdGF0ZVwiLHtnZXQoKXtyZXR1cm57Y29tcGxldGVkOlwiY29ubmVjdGVkXCIsY2hlY2tpbmc6XCJjb25uZWN0aW5nXCJ9W3RoaXMuaWNlQ29ubmVjdGlvblN0YXRlXXx8dGhpcy5pY2VDb25uZWN0aW9uU3RhdGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHtnZXQoKXtyZXR1cm4gdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2V8fG51bGx9LHNldChlKXt0aGlzLl9vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlKSxkZWxldGUgdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2UpLGUmJnRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlPWUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLFtcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCJdLmZvckVhY2goKGU9Pntjb25zdCBpPXRbZV07dFtlXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uc3RhdGVjaGFuZ2Vwb2x5fHwodGhpcy5fY29ubmVjdGlvbnN0YXRlY2hhbmdlcG9seT1lPT57Y29uc3QgdD1lLnRhcmdldDtpZih0Ll9sYXN0Q29ubmVjdGlvblN0YXRlIT09dC5jb25uZWN0aW9uU3RhdGUpe3QuX2xhc3RDb25uZWN0aW9uU3RhdGU9dC5jb25uZWN0aW9uU3RhdGU7Y29uc3QgaT1uZXcgRXZlbnQoXCJjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixlKTt0LmRpc3BhdGNoRXZlbnQoaSl9cmV0dXJuIGV9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX2Nvbm5lY3Rpb25zdGF0ZWNoYW5nZXBvbHkpKSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSl9ZnVuY3Rpb24gcmUoZSx0KXtpZighZS5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47aWYoXCJjaHJvbWVcIj09PXQuYnJvd3NlciYmdC52ZXJzaW9uPj03MSlyZXR1cm47aWYoXCJzYWZhcmlcIj09PXQuYnJvd3NlciYmdC52ZXJzaW9uPj02MDUpcmV0dXJuO2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24odCl7aWYodCYmdC5zZHAmJi0xIT09dC5zZHAuaW5kZXhPZihcIlxcbmE9ZXh0bWFwLWFsbG93LW1peGVkXCIpKXtjb25zdCBpPXQuc2RwLnNwbGl0KFwiXFxuXCIpLmZpbHRlcigoZT0+XCJhPWV4dG1hcC1hbGxvdy1taXhlZFwiIT09ZS50cmltKCkpKS5qb2luKFwiXFxuXCIpO2UuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uJiZ0IGluc3RhbmNlb2YgZS5SVENTZXNzaW9uRGVzY3JpcHRpb24/YXJndW1lbnRzWzBdPW5ldyBlLlJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTp0LnR5cGUsc2RwOml9KTp0LnNkcD1pfXJldHVybiBpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gc2UoZSx0KXtpZighZS5SVENQZWVyQ29ubmVjdGlvbnx8IWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKXJldHVybjtjb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZTtpJiYwIT09aS5sZW5ndGgmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzBdPyhcImNocm9tZVwiPT09dC5icm93c2VyJiZ0LnZlcnNpb248Nzh8fFwiZmlyZWZveFwiPT09dC5icm93c2VyJiZ0LnZlcnNpb248Njh8fFwic2FmYXJpXCI9PT10LmJyb3dzZXIpJiZhcmd1bWVudHNbMF0mJlwiXCI9PT1hcmd1bWVudHNbMF0uY2FuZGlkYXRlP1Byb21pc2UucmVzb2x2ZSgpOmkuYXBwbHkodGhpcyxhcmd1bWVudHMpOihhcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXS5hcHBseShudWxsKSxQcm9taXNlLnJlc29sdmUoKSl9KX1mdW5jdGlvbiBvZShlLHQpe2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9ufHwhZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpcmV0dXJuO2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbjtpJiYwIT09aS5sZW5ndGgmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7bGV0IGU9YXJndW1lbnRzWzBdfHx7fTtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8ZS50eXBlJiZlLnNkcClyZXR1cm4gaS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoZT17dHlwZTplLnR5cGUsc2RwOmUuc2RwfSwhZS50eXBlKXN3aXRjaCh0aGlzLnNpZ25hbGluZ1N0YXRlKXtjYXNlXCJzdGFibGVcIjpjYXNlXCJoYXZlLWxvY2FsLW9mZmVyXCI6Y2FzZVwiaGF2ZS1yZW1vdGUtcHJhbnN3ZXJcIjplLnR5cGU9XCJvZmZlclwiO2JyZWFrO2RlZmF1bHQ6ZS50eXBlPVwiYW5zd2VyXCJ9aWYoZS5zZHB8fFwib2ZmZXJcIiE9PWUudHlwZSYmXCJhbnN3ZXJcIiE9PWUudHlwZSlyZXR1cm4gaS5hcHBseSh0aGlzLFtlXSk7cmV0dXJuKFwib2ZmZXJcIj09PWUudHlwZT90aGlzLmNyZWF0ZU9mZmVyOnRoaXMuY3JlYXRlQW5zd2VyKS5hcHBseSh0aGlzKS50aGVuKChlPT5pLmFwcGx5KHRoaXMsW2VdKSkpfSl9dmFyIGFlPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHJlbW92ZUV4dG1hcEFsbG93TWl4ZWQ6cmUsc2hpbUFkZEljZUNhbmRpZGF0ZU51bGxPckVtcHR5OnNlLHNoaW1Db25uZWN0aW9uU3RhdGU6bmUsc2hpbU1heE1lc3NhZ2VTaXplOnRlLHNoaW1QYXJhbWV0ZXJsZXNzU2V0TG9jYWxEZXNjcmlwdGlvbjpvZSxzaGltUlRDSWNlQ2FuZGlkYXRlOiQsc2hpbVJUQ0ljZUNhbmRpZGF0ZVJlbGF5UHJvdG9jb2w6ZWUsc2hpbVNlbmRUaHJvd1R5cGVFcnJvcjppZX0pOyFmdW5jdGlvbih7d2luZG93OmV9PXt9LHQ9e3NoaW1DaHJvbWU6ITAsc2hpbUZpcmVmb3g6ITAsc2hpbVNhZmFyaTohMH0pe2NvbnN0IGk9YSxyPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e2Jyb3dzZXI6bnVsbCx2ZXJzaW9uOm51bGx9O2lmKHZvaWQgMD09PWV8fCFlLm5hdmlnYXRvcilyZXR1cm4gdC5icm93c2VyPVwiTm90IGEgYnJvd3Nlci5cIix0O2NvbnN0e25hdmlnYXRvcjppfT1lO2lmKGkubW96R2V0VXNlck1lZGlhKXQuYnJvd3Nlcj1cImZpcmVmb3hcIix0LnZlcnNpb249bihpLnVzZXJBZ2VudCwvRmlyZWZveFxcLyhcXGQrKVxcLi8sMSk7ZWxzZSBpZihpLndlYmtpdEdldFVzZXJNZWRpYXx8ITE9PT1lLmlzU2VjdXJlQ29udGV4dCYmZS53ZWJraXRSVENQZWVyQ29ubmVjdGlvbil0LmJyb3dzZXI9XCJjaHJvbWVcIix0LnZlcnNpb249bihpLnVzZXJBZ2VudCwvQ2hyb20oZXxpdW0pXFwvKFxcZCspXFwuLywyKTtlbHNle2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9ufHwhaS51c2VyQWdlbnQubWF0Y2goL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLykpcmV0dXJuIHQuYnJvd3Nlcj1cIk5vdCBhIHN1cHBvcnRlZCBicm93c2VyLlwiLHQ7dC5icm93c2VyPVwic2FmYXJpXCIsdC52ZXJzaW9uPW4oaS51c2VyQWdlbnQsL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLywxKSx0LnN1cHBvcnRzVW5pZmllZFBsYW49ZS5SVENSdHBUcmFuc2NlaXZlciYmXCJjdXJyZW50RGlyZWN0aW9uXCJpbiBlLlJUQ1J0cFRyYW5zY2VpdmVyLnByb3RvdHlwZX1yZXR1cm4gdH0oZSksYz17YnJvd3NlckRldGFpbHM6cixjb21tb25TaGltOmFlLGV4dHJhY3RWZXJzaW9uOm4sZGlzYWJsZUxvZzpzLGRpc2FibGVXYXJuaW5nczpvLHNkcDpafTtzd2l0Y2goci5icm93c2VyKXtjYXNlXCJjaHJvbWVcIjppZighSXx8IUN8fCF0LnNoaW1DaHJvbWUpcmV0dXJuIGkoXCJDaHJvbWUgc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuXCIpLGM7aWYobnVsbD09PXIudmVyc2lvbilyZXR1cm4gaShcIkNocm9tZSBzaGltIGNhbiBub3QgZGV0ZXJtaW5lIHZlcnNpb24sIG5vdCBzaGltbWluZy5cIiksYztpKFwiYWRhcHRlci5qcyBzaGltbWluZyBjaHJvbWUuXCIpLGMuYnJvd3NlclNoaW09SSxzZShlLHIpLG9lKGUpLF8oZSxyKSxFKGUpLEMoZSxyKSxtKGUpLFIoZSxyKSxmKGUpLGcoZSksUyhlKSx2KGUsciksJChlKSxlZShlKSxuZShlKSx0ZShlLHIpLGllKGUpLHJlKGUscik7YnJlYWs7Y2FzZVwiZmlyZWZveFwiOmlmKCFVfHwhYnx8IXQuc2hpbUZpcmVmb3gpcmV0dXJuIGkoXCJGaXJlZm94IHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKSxjO2koXCJhZGFwdGVyLmpzIHNoaW1taW5nIGZpcmVmb3guXCIpLGMuYnJvd3NlclNoaW09VSxzZShlLHIpLG9lKGUpLHkoZSxyKSxiKGUsciksQShlKSxOKGUpLHcoZSksTyhlKSxEKGUpLFAoZSksTChlKSxrKGUpLE0oZSksJChlKSxuZShlKSx0ZShlLHIpLGllKGUpO2JyZWFrO2Nhc2VcInNhZmFyaVwiOmlmKCFZfHwhdC5zaGltU2FmYXJpKXJldHVybiBpKFwiU2FmYXJpIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKSxjO2koXCJhZGFwdGVyLmpzIHNoaW1taW5nIHNhZmFyaS5cIiksYy5icm93c2VyU2hpbT1ZLHNlKGUsciksb2UoZSksRyhlKSxIKGUpLEYoZSkseChlKSxWKGUpLFcoZSksQihlKSxLKGUpLCQoZSksZWUoZSksdGUoZSxyKSxpZShlKSxyZShlLHIpO2JyZWFrO2RlZmF1bHQ6aShcIlVuc3VwcG9ydGVkIGJyb3dzZXIhXCIpfX0oe3dpbmRvdzpcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P3ZvaWQgMDp3aW5kb3d9KTt2YXIgY2U9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKGUpe3JldHVybiEwfX0sZGU9IWNlKChmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKCl7fS5iaW5kKCk7cmV0dXJuXCJmdW5jdGlvblwiIT10eXBlb2YgZXx8ZS5oYXNPd25Qcm9wZXJ0eShcInByb3RvdHlwZVwiKX0pKSxsZT1kZSxoZT1GdW5jdGlvbi5wcm90b3R5cGUsdWU9aGUuY2FsbCxwZT1sZSYmaGUuYmluZC5iaW5kKHVlLHVlKSxfZT1sZT9wZTpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdWUuYXBwbHkoZSxhcmd1bWVudHMpfX0sRWU9X2Uoe30uaXNQcm90b3R5cGVPZiksbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuTWF0aD09TWF0aCYmZX0sZmU9bWUoXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMpfHxtZShcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cpfHxtZShcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZil8fG1lKFwib2JqZWN0XCI9PXR5cGVvZiBxJiZxKXx8ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKXx8cXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGdlPWRlLFNlPUZ1bmN0aW9uLnByb3RvdHlwZSxUZT1TZS5hcHBseSxSZT1TZS5jYWxsLENlPVwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmFwcGx5fHwoZ2U/UmUuYmluZChUZSk6ZnVuY3Rpb24oKXtyZXR1cm4gUmUuYXBwbHkoVGUsYXJndW1lbnRzKX0pLHZlPV9lLEllPXZlKHt9LnRvU3RyaW5nKSx5ZT12ZShcIlwiLnNsaWNlKSxBZT1mdW5jdGlvbihlKXtyZXR1cm4geWUoSWUoZSksOCwtMSl9LGJlPUFlLHdlPV9lLE9lPWZ1bmN0aW9uKGUpe2lmKFwiRnVuY3Rpb25cIj09PWJlKGUpKXJldHVybiB3ZShlKX0sTmU9XCJvYmplY3RcIj09dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudC5hbGwsRGU9e2FsbDpOZSxJU19IVE1MRERBOnZvaWQgMD09PU5lJiZ2b2lkIDAhPT1OZX0sUGU9RGUuYWxsLExlPURlLklTX0hUTUxEREE/ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZXx8ZT09PVBlfTpmdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfSxrZT17fSxNZT0hY2UoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKSxVZT1kZSx4ZT1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxWZT1VZT94ZS5iaW5kKHhlKTpmdW5jdGlvbigpe3JldHVybiB4ZS5hcHBseSh4ZSxhcmd1bWVudHMpfSxGZT17fSxCZT17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxqZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLEdlPWplJiYhQmUuY2FsbCh7MToyfSwxKTtGZS5mPUdlP2Z1bmN0aW9uKGUpe3ZhciB0PWplKHRoaXMsZSk7cmV0dXJuISF0JiZ0LmVudW1lcmFibGV9OkJlO3ZhciBXZSxIZSxLZT1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX0sWWU9Y2UscWU9QWUsSmU9T2JqZWN0LHplPV9lKFwiXCIuc3BsaXQpLFhlPVllKChmdW5jdGlvbigpe3JldHVybiFKZShcInpcIikucHJvcGVydHlJc0VudW1lcmFibGUoMCl9KSk/ZnVuY3Rpb24oZSl7cmV0dXJuXCJTdHJpbmdcIj09cWUoZSk/emUoZSxcIlwiKTpKZShlKX06SmUsUWU9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWV9LFplPVFlLCRlPVR5cGVFcnJvcixldD1mdW5jdGlvbihlKXtpZihaZShlKSl0aHJvdyAkZShcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiK2UpO3JldHVybiBlfSx0dD1YZSxpdD1ldCxudD1mdW5jdGlvbihlKXtyZXR1cm4gdHQoaXQoZSkpfSxydD1MZSxzdD1EZS5hbGwsb3Q9RGUuSVNfSFRNTEREQT9mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZT9udWxsIT09ZTpydChlKXx8ZT09PXN0fTpmdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZT9udWxsIT09ZTpydChlKX0sYXQ9e30sY3Q9YXQsZHQ9ZmUsbHQ9TGUsaHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGx0KGUpP2U6dm9pZCAwfSx1dD1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/aHQoY3RbZV0pfHxodChkdFtlXSk6Y3RbZV0mJmN0W2VdW3RdfHxkdFtlXSYmZHRbZV1bdF19LHB0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJlN0cmluZyhuYXZpZ2F0b3IudXNlckFnZW50KXx8XCJcIixfdD1mZSxFdD1wdCxtdD1fdC5wcm9jZXNzLGZ0PV90LkRlbm8sZ3Q9bXQmJm10LnZlcnNpb25zfHxmdCYmZnQudmVyc2lvbixTdD1ndCYmZ3Qudjg7U3QmJihIZT0oV2U9U3Quc3BsaXQoXCIuXCIpKVswXT4wJiZXZVswXTw0PzE6KyhXZVswXStXZVsxXSkpLCFIZSYmRXQmJighKFdlPUV0Lm1hdGNoKC9FZGdlXFwvKFxcZCspLykpfHxXZVsxXT49NzQpJiYoV2U9RXQubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pKSYmKEhlPStXZVsxXSk7dmFyIFR0PUhlLFJ0PVR0LEN0PWNlLHZ0PWZlLlN0cmluZyxJdD0hIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJiFDdCgoZnVuY3Rpb24oKXt2YXIgZT1TeW1ib2woKTtyZXR1cm4hdnQoZSl8fCEoT2JqZWN0KGUpaW5zdGFuY2VvZiBTeW1ib2wpfHwhU3ltYm9sLnNoYW0mJlJ0JiZSdDw0MX0pKSx5dD1JdCYmIVN5bWJvbC5zaGFtJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yLEF0PXV0LGJ0PUxlLHd0PUVlLE90PU9iamVjdCxOdD15dD9mdW5jdGlvbihlKXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgZX06ZnVuY3Rpb24oZSl7dmFyIHQ9QXQoXCJTeW1ib2xcIik7cmV0dXJuIGJ0KHQpJiZ3dCh0LnByb3RvdHlwZSxPdChlKSl9LER0PVN0cmluZyxQdD1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIER0KGUpfWNhdGNoKGUpe3JldHVyblwiT2JqZWN0XCJ9fSxMdD1MZSxrdD1QdCxNdD1UeXBlRXJyb3IsVXQ9ZnVuY3Rpb24oZSl7aWYoTHQoZSkpcmV0dXJuIGU7dGhyb3cgTXQoa3QoZSkrXCIgaXMgbm90IGEgZnVuY3Rpb25cIil9LHh0PVV0LFZ0PVFlLEZ0PWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZVt0XTtyZXR1cm4gVnQoaSk/dm9pZCAwOnh0KGkpfSxCdD1WZSxqdD1MZSxHdD1vdCxXdD1UeXBlRXJyb3IsSHQ9e2V4cG9ydHM6e319LEt0PWZlLFl0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxxdD1mdW5jdGlvbihlLHQpe3RyeXtZdChLdCxlLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pfWNhdGNoKGkpe0t0W2VdPXR9cmV0dXJuIHR9LEp0PVwiX19jb3JlLWpzX3NoYXJlZF9fXCIsenQ9ZmVbSnRdfHxxdChKdCx7fSksWHQ9enQ7KEh0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWHRbZV18fChYdFtlXT12b2lkIDAhPT10P3Q6e30pfSkoXCJ2ZXJzaW9uc1wiLFtdKS5wdXNoKHt2ZXJzaW9uOlwiMy4zMS4xXCIsbW9kZTpcInB1cmVcIixjb3B5cmlnaHQ6XCLCqSAyMDE0LTIwMjMgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSlcIixsaWNlbnNlOlwiaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvYmxvYi92My4zMS4xL0xJQ0VOU0VcIixzb3VyY2U6XCJodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qc1wifSk7dmFyIFF0PUh0LmV4cG9ydHMsWnQ9ZXQsJHQ9T2JqZWN0LGVpPWZ1bmN0aW9uKGUpe3JldHVybiAkdChadChlKSl9LHRpPWVpLGlpPV9lKHt9Lmhhc093blByb3BlcnR5KSxuaT1PYmplY3QuaGFzT3dufHxmdW5jdGlvbihlLHQpe3JldHVybiBpaSh0aShlKSx0KX0scmk9X2Usc2k9MCxvaT1NYXRoLnJhbmRvbSgpLGFpPXJpKDEuLnRvU3RyaW5nKSxjaT1mdW5jdGlvbihlKXtyZXR1cm5cIlN5bWJvbChcIisodm9pZCAwPT09ZT9cIlwiOmUpK1wiKV9cIithaSgrK3NpK29pLDM2KX0sZGk9UXQsbGk9bmksaGk9Y2ksdWk9SXQscGk9eXQsX2k9ZmUuU3ltYm9sLEVpPWRpKFwid2tzXCIpLG1pPXBpP19pLmZvcnx8X2k6X2kmJl9pLndpdGhvdXRTZXR0ZXJ8fGhpLGZpPWZ1bmN0aW9uKGUpe3JldHVybiBsaShFaSxlKXx8KEVpW2VdPXVpJiZsaShfaSxlKT9faVtlXTptaShcIlN5bWJvbC5cIitlKSksRWlbZV19LGdpPVZlLFNpPW90LFRpPU50LFJpPUZ0LENpPWZ1bmN0aW9uKGUsdCl7dmFyIGksbjtpZihcInN0cmluZ1wiPT09dCYmanQoaT1lLnRvU3RyaW5nKSYmIUd0KG49QnQoaSxlKSkpcmV0dXJuIG47aWYoanQoaT1lLnZhbHVlT2YpJiYhR3Qobj1CdChpLGUpKSlyZXR1cm4gbjtpZihcInN0cmluZ1wiIT09dCYmanQoaT1lLnRvU3RyaW5nKSYmIUd0KG49QnQoaSxlKSkpcmV0dXJuIG47dGhyb3cgV3QoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9LHZpPVR5cGVFcnJvcixJaT1maShcInRvUHJpbWl0aXZlXCIpLHlpPWZ1bmN0aW9uKGUsdCl7aWYoIVNpKGUpfHxUaShlKSlyZXR1cm4gZTt2YXIgaSxuPVJpKGUsSWkpO2lmKG4pe2lmKHZvaWQgMD09PXQmJih0PVwiZGVmYXVsdFwiKSxpPWdpKG4sZSx0KSwhU2koaSl8fFRpKGkpKXJldHVybiBpO3Rocm93IHZpKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfXJldHVybiB2b2lkIDA9PT10JiYodD1cIm51bWJlclwiKSxDaShlLHQpfSxBaT1OdCxiaT1mdW5jdGlvbihlKXt2YXIgdD15aShlLFwic3RyaW5nXCIpO3JldHVybiBBaSh0KT90OnQrXCJcIn0sd2k9b3QsT2k9ZmUuZG9jdW1lbnQsTmk9d2koT2kpJiZ3aShPaS5jcmVhdGVFbGVtZW50KSxEaT1mdW5jdGlvbihlKXtyZXR1cm4gTmk/T2kuY3JlYXRlRWxlbWVudChlKTp7fX0sUGk9RGksTGk9IU1lJiYhY2UoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShQaShcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pKSxraT1NZSxNaT1WZSxVaT1GZSx4aT1LZSxWaT1udCxGaT1iaSxCaT1uaSxqaT1MaSxHaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2tlLmY9a2k/R2k6ZnVuY3Rpb24oZSx0KXtpZihlPVZpKGUpLHQ9RmkodCksamkpdHJ5e3JldHVybiBHaShlLHQpfWNhdGNoKGUpe31pZihCaShlLHQpKXJldHVybiB4aSghTWkoVWkuZixlLHQpLGVbdF0pfTt2YXIgV2k9Y2UsSGk9TGUsS2k9LyN8XFwucHJvdG90eXBlXFwuLyxZaT1mdW5jdGlvbihlLHQpe3ZhciBpPUppW3FpKGUpXTtyZXR1cm4gaT09WGl8fGkhPXppJiYoSGkodCk/V2kodCk6ISF0KX0scWk9WWkubm9ybWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZSkucmVwbGFjZShLaSxcIi5cIikudG9Mb3dlckNhc2UoKX0sSmk9WWkuZGF0YT17fSx6aT1ZaS5OQVRJVkU9XCJOXCIsWGk9WWkuUE9MWUZJTEw9XCJQXCIsUWk9WWksWmk9VXQsJGk9ZGUsZW49T2UoT2UuYmluZCksdG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWmkoZSksdm9pZCAwPT09dD9lOiRpP2VuKGUsdCk6ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fSxubj17fSxybj1NZSYmY2UoKGZ1bmN0aW9uKCl7cmV0dXJuIDQyIT1PYmplY3QuZGVmaW5lUHJvcGVydHkoKGZ1bmN0aW9uKCl7fSksXCJwcm90b3R5cGVcIix7dmFsdWU6NDIsd3JpdGFibGU6ITF9KS5wcm90b3R5cGV9KSksc249b3Qsb249U3RyaW5nLGFuPVR5cGVFcnJvcixjbj1mdW5jdGlvbihlKXtpZihzbihlKSlyZXR1cm4gZTt0aHJvdyBhbihvbihlKStcIiBpcyBub3QgYW4gb2JqZWN0XCIpfSxkbj1NZSxsbj1MaSxobj1ybix1bj1jbixwbj1iaSxfbj1UeXBlRXJyb3IsRW49T2JqZWN0LmRlZmluZVByb3BlcnR5LG1uPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsZm49XCJlbnVtZXJhYmxlXCIsZ249XCJjb25maWd1cmFibGVcIixTbj1cIndyaXRhYmxlXCI7bm4uZj1kbj9obj9mdW5jdGlvbihlLHQsaSl7aWYodW4oZSksdD1wbih0KSx1bihpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZcInByb3RvdHlwZVwiPT09dCYmXCJ2YWx1ZVwiaW4gaSYmU24gaW4gaSYmIWlbU25dKXt2YXIgbj1tbihlLHQpO24mJm5bU25dJiYoZVt0XT1pLnZhbHVlLGk9e2NvbmZpZ3VyYWJsZTpnbiBpbiBpP2lbZ25dOm5bZ25dLGVudW1lcmFibGU6Zm4gaW4gaT9pW2ZuXTpuW2ZuXSx3cml0YWJsZTohMX0pfXJldHVybiBFbihlLHQsaSl9OkVuOmZ1bmN0aW9uKGUsdCxpKXtpZih1bihlKSx0PXBuKHQpLHVuKGkpLGxuKXRyeXtyZXR1cm4gRW4oZSx0LGkpfWNhdGNoKGUpe31pZihcImdldFwiaW4gaXx8XCJzZXRcImluIGkpdGhyb3cgX24oXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm5cInZhbHVlXCJpbiBpJiYoZVt0XT1pLnZhbHVlKSxlfTt2YXIgVG49bm4sUm49S2UsQ249TWU/ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBUbi5mKGUsdCxSbigxLGkpKX06ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlW3RdPWksZX0sdm49ZmUsSW49Q2UseW49T2UsQW49TGUsYm49a2UuZix3bj1RaSxPbj1hdCxObj10bixEbj1DbixQbj1uaSxMbj1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihpLG4scil7aWYodGhpcyBpbnN0YW5jZW9mIHQpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUoaSk7Y2FzZSAyOnJldHVybiBuZXcgZShpLG4pfXJldHVybiBuZXcgZShpLG4scil9cmV0dXJuIEluKGUsdGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdC5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdH0sa249ZnVuY3Rpb24oZSx0KXt2YXIgaSxuLHIscyxvLGEsYyxkLGwsaD1lLnRhcmdldCx1PWUuZ2xvYmFsLHA9ZS5zdGF0LF89ZS5wcm90byxFPXU/dm46cD92bltoXToodm5baF18fHt9KS5wcm90b3R5cGUsbT11P09uOk9uW2hdfHxEbihPbixoLHt9KVtoXSxmPW0ucHJvdG90eXBlO2ZvcihzIGluIHQpbj0hKGk9d24odT9zOmgrKHA/XCIuXCI6XCIjXCIpK3MsZS5mb3JjZWQpKSYmRSYmUG4oRSxzKSxhPW1bc10sbiYmKGM9ZS5kb250Q2FsbEdldFNldD8obD1ibihFLHMpKSYmbC52YWx1ZTpFW3NdKSxvPW4mJmM/Yzp0W3NdLG4mJnR5cGVvZiBhPT10eXBlb2Ygb3x8KGQ9ZS5iaW5kJiZuP05uKG8sdm4pOmUud3JhcCYmbj9MbihvKTpfJiZBbihvKT95bihvKTpvLChlLnNoYW18fG8mJm8uc2hhbXx8YSYmYS5zaGFtKSYmRG4oZCxcInNoYW1cIiwhMCksRG4obSxzLGQpLF8mJihQbihPbixyPWgrXCJQcm90b3R5cGVcIil8fERuKE9uLHIse30pLERuKE9uW3JdLHMsbyksZS5yZWFsJiZmJiYoaXx8IWZbc10pJiZEbihmLHMsbykpKX0sTW49TWF0aC5jZWlsLFVuPU1hdGguZmxvb3IseG49TWF0aC50cnVuY3x8ZnVuY3Rpb24oZSl7dmFyIHQ9K2U7cmV0dXJuKHQ+MD9VbjpNbikodCl9LFZuPWZ1bmN0aW9uKGUpe3ZhciB0PStlO3JldHVybiB0IT10fHwwPT09dD8wOnhuKHQpfSxGbj1WbixCbj1NYXRoLm1heCxqbj1NYXRoLm1pbixHbj1mdW5jdGlvbihlLHQpe3ZhciBpPUZuKGUpO3JldHVybiBpPDA/Qm4oaSt0LDApOmpuKGksdCl9LFduPVZuLEhuPU1hdGgubWluLEtuPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/SG4oV24oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH0sWW49ZnVuY3Rpb24oZSl7cmV0dXJuIEtuKGUubGVuZ3RoKX0scW49bnQsSm49R24sem49WW4sWG49ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsaSxuKXt2YXIgcixzPXFuKHQpLG89em4ocyksYT1KbihuLG8pO2lmKGUmJmkhPWkpe2Zvcig7bz5hOylpZigocj1zW2ErK10pIT1yKXJldHVybiEwfWVsc2UgZm9yKDtvPmE7YSsrKWlmKChlfHxhIGluIHMpJiZzW2FdPT09aSlyZXR1cm4gZXx8YXx8MDtyZXR1cm4hZSYmLTF9fSxRbj17aW5jbHVkZXM6WG4oITApLGluZGV4T2Y6WG4oITEpfSxabj1Rbi5pbmNsdWRlcztrbih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6Y2UoKGZ1bmN0aW9uKCl7cmV0dXJuIUFycmF5KDEpLmluY2x1ZGVzKCl9KSl9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4gWm4odGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgJG49YXQsZXI9ZnVuY3Rpb24oZSl7cmV0dXJuICRuW2UrXCJQcm90b3R5cGVcIl19LHRyPWVyKFwiQXJyYXlcIikuaW5jbHVkZXMsaXI9b3QsbnI9QWUscnI9ZmkoXCJtYXRjaFwiKSxzcj1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gaXIoZSkmJih2b2lkIDAhPT0odD1lW3JyXSk/ISF0OlwiUmVnRXhwXCI9PW5yKGUpKX0sb3I9VHlwZUVycm9yLGFyPXt9O2FyW2ZpKFwidG9TdHJpbmdUYWdcIildPVwielwiO3ZhciBjcj1cIltvYmplY3Qgel1cIj09PVN0cmluZyhhciksZHI9Y3IsbHI9TGUsaHI9QWUsdXI9ZmkoXCJ0b1N0cmluZ1RhZ1wiKSxwcj1PYmplY3QsX3I9XCJBcmd1bWVudHNcIj09aHIoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxFcj1kcj9ocjpmdW5jdGlvbihlKXt2YXIgdCxpLG47cmV0dXJuIHZvaWQgMD09PWU/XCJVbmRlZmluZWRcIjpudWxsPT09ZT9cIk51bGxcIjpcInN0cmluZ1wiPT10eXBlb2YoaT1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fSh0PXByKGUpLHVyKSk/aTpfcj9ocih0KTpcIk9iamVjdFwiPT0obj1ocih0KSkmJmxyKHQuY2FsbGVlKT9cIkFyZ3VtZW50c1wiOm59LG1yPUVyLGZyPVN0cmluZyxncj1mdW5jdGlvbihlKXtpZihcIlN5bWJvbFwiPT09bXIoZSkpdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgYSBTeW1ib2wgdmFsdWUgdG8gYSBzdHJpbmdcIik7cmV0dXJuIGZyKGUpfSxTcj1maShcIm1hdGNoXCIpLFRyPWtuLFJyPWZ1bmN0aW9uKGUpe2lmKHNyKGUpKXRocm93IG9yKFwiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zXCIpO3JldHVybiBlfSxDcj1ldCx2cj1ncixJcj1mdW5jdGlvbihlKXt2YXIgdD0vLi87dHJ5e1wiLy4vXCJbZV0odCl9Y2F0Y2goaSl7dHJ5e3JldHVybiB0W1NyXT0hMSxcIi8uL1wiW2VdKHQpfWNhdGNoKGUpe319cmV0dXJuITF9LHlyPV9lKFwiXCIuaW5kZXhPZik7VHIoe3RhcmdldDpcIlN0cmluZ1wiLHByb3RvOiEwLGZvcmNlZDohSXIoXCJpbmNsdWRlc1wiKX0se2luY2x1ZGVzOmZ1bmN0aW9uKGUpe3JldHVybiEhfnlyKHZyKENyKHRoaXMpKSx2cihScihlKSksYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pO3ZhciBBcj1lcihcIlN0cmluZ1wiKS5pbmNsdWRlcyxicj1FZSx3cj10cixPcj1BcixOcj1BcnJheS5wcm90b3R5cGUsRHI9U3RyaW5nLnByb3RvdHlwZSxQcj1KKChmdW5jdGlvbihlKXt2YXIgdD1lLmluY2x1ZGVzO3JldHVybiBlPT09TnJ8fGJyKE5yLGUpJiZ0PT09TnIuaW5jbHVkZXM/d3I6XCJzdHJpbmdcIj09dHlwZW9mIGV8fGU9PT1Ecnx8YnIoRHIsZSkmJnQ9PT1Eci5pbmNsdWRlcz9Pcjp0fSkpLExyPXtleHBvcnRzOnt9fSxrcj1rbixNcj1NZSxVcj1ubi5mO2tyKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpPYmplY3QuZGVmaW5lUHJvcGVydHkhPT1VcixzaGFtOiFNcn0se2RlZmluZVByb3BlcnR5OlVyfSk7dmFyIHhyPWF0Lk9iamVjdCxWcj1Mci5leHBvcnRzPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4geHIuZGVmaW5lUHJvcGVydHkoZSx0LGkpfTt4ci5kZWZpbmVQcm9wZXJ0eS5zaGFtJiYoVnIuc2hhbT0hMCk7dmFyIEZyPUooTHIuZXhwb3J0cyksQnI9QWUsanI9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuXCJBcnJheVwiPT1CcihlKX0sR3I9VHlwZUVycm9yLFdyPWJpLEhyPW5uLEtyPUtlLFlyPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbj1Xcih0KTtuIGluIGU/SHIuZihlLG4sS3IoMCxpKSk6ZVtuXT1pfSxxcj1MZSxKcj16dCx6cj1fZShGdW5jdGlvbi50b1N0cmluZyk7cXIoSnIuaW5zcGVjdFNvdXJjZSl8fChKci5pbnNwZWN0U291cmNlPWZ1bmN0aW9uKGUpe3JldHVybiB6cihlKX0pO3ZhciBYcj1Kci5pbnNwZWN0U291cmNlLFFyPV9lLFpyPWNlLCRyPUxlLGVzPUVyLHRzPVhyLGlzPWZ1bmN0aW9uKCl7fSxucz1bXSxycz11dChcIlJlZmxlY3RcIixcImNvbnN0cnVjdFwiKSxzcz0vXlxccyooPzpjbGFzc3xmdW5jdGlvbilcXGIvLG9zPVFyKHNzLmV4ZWMpLGFzPSFzcy5leGVjKGlzKSxjcz1mdW5jdGlvbihlKXtpZighJHIoZSkpcmV0dXJuITE7dHJ5e3JldHVybiBycyhpcyxucyxlKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19LGRzPWZ1bmN0aW9uKGUpe2lmKCEkcihlKSlyZXR1cm4hMTtzd2l0Y2goZXMoZSkpe2Nhc2VcIkFzeW5jRnVuY3Rpb25cIjpjYXNlXCJHZW5lcmF0b3JGdW5jdGlvblwiOmNhc2VcIkFzeW5jR2VuZXJhdG9yRnVuY3Rpb25cIjpyZXR1cm4hMX10cnl7cmV0dXJuIGFzfHwhIW9zKHNzLHRzKGUpKX1jYXRjaChlKXtyZXR1cm4hMH19O2RzLnNoYW09ITA7dmFyIGxzPSFyc3x8WnIoKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGNzKGNzLmNhbGwpfHwhY3MoT2JqZWN0KXx8IWNzKChmdW5jdGlvbigpe2U9ITB9KSl8fGV9KSk/ZHM6Y3MsaHM9anIsdXM9bHMscHM9b3QsX3M9ZmkoXCJzcGVjaWVzXCIpLEVzPUFycmF5LG1zPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBocyhlKSYmKHQ9ZS5jb25zdHJ1Y3RvciwodXModCkmJih0PT09RXN8fGhzKHQucHJvdG90eXBlKSl8fHBzKHQpJiZudWxsPT09KHQ9dFtfc10pKSYmKHQ9dm9pZCAwKSksdm9pZCAwPT09dD9Fczp0fSxmcz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcobXMoZSkpKDA9PT10PzA6dCl9LGdzPWNlLFNzPVR0LFRzPWZpKFwic3BlY2llc1wiKSxScz1rbixDcz1jZSx2cz1qcixJcz1vdCx5cz1laSxBcz1Zbixicz1mdW5jdGlvbihlKXtpZihlPjkwMDcxOTkyNTQ3NDA5OTEpdGhyb3cgR3IoXCJNYXhpbXVtIGFsbG93ZWQgaW5kZXggZXhjZWVkZWRcIik7cmV0dXJuIGV9LHdzPVlyLE9zPWZzLE5zPWZ1bmN0aW9uKGUpe3JldHVybiBTcz49NTF8fCFncygoZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4odC5jb25zdHJ1Y3Rvcj17fSlbVHNdPWZ1bmN0aW9uKCl7cmV0dXJue2ZvbzoxfX0sMSE9PXRbZV0oQm9vbGVhbikuZm9vfSkpfSxEcz1UdCxQcz1maShcImlzQ29uY2F0U3ByZWFkYWJsZVwiKSxMcz1Ecz49NTF8fCFDcygoZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gZVtQc109ITEsZS5jb25jYXQoKVswXSE9PWV9KSksa3M9ZnVuY3Rpb24oZSl7aWYoIUlzKGUpKXJldHVybiExO3ZhciB0PWVbUHNdO3JldHVybiB2b2lkIDAhPT10PyEhdDp2cyhlKX07UnMoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsYXJpdHk6MSxmb3JjZWQ6IUxzfHwhTnMoXCJjb25jYXRcIil9LHtjb25jYXQ6ZnVuY3Rpb24oZSl7dmFyIHQsaSxuLHIscyxvPXlzKHRoaXMpLGE9T3MobywwKSxjPTA7Zm9yKHQ9LTEsbj1hcmd1bWVudHMubGVuZ3RoO3Q8bjt0KyspaWYoa3Mocz0tMT09PXQ/bzphcmd1bWVudHNbdF0pKWZvcihyPUFzKHMpLGJzKGMrciksaT0wO2k8cjtpKyssYysrKWkgaW4gcyYmd3MoYSxjLHNbaV0pO2Vsc2UgYnMoYysxKSx3cyhhLGMrKyxzKTtyZXR1cm4gYS5sZW5ndGg9YyxhfX0pO3ZhciBNcz17fSxVcz17fSx4cz1uaSxWcz1udCxGcz1Rbi5pbmRleE9mLEJzPVVzLGpzPV9lKFtdLnB1c2gpLEdzPWZ1bmN0aW9uKGUsdCl7dmFyIGksbj1WcyhlKSxyPTAscz1bXTtmb3IoaSBpbiBuKSF4cyhCcyxpKSYmeHMobixpKSYmanMocyxpKTtmb3IoO3QubGVuZ3RoPnI7KXhzKG4saT10W3IrK10pJiYofkZzKHMsaSl8fGpzKHMsaSkpO3JldHVybiBzfSxXcz1bXCJjb25zdHJ1Y3RvclwiLFwiaGFzT3duUHJvcGVydHlcIixcImlzUHJvdG90eXBlT2ZcIixcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsXCJ0b0xvY2FsZVN0cmluZ1wiLFwidG9TdHJpbmdcIixcInZhbHVlT2ZcIl0sSHM9R3MsS3M9V3MsWXM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBIcyhlLEtzKX0scXM9TWUsSnM9cm4senM9bm4sWHM9Y24sUXM9bnQsWnM9WXM7TXMuZj1xcyYmIUpzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7WHMoZSk7Zm9yKHZhciBpLG49UXModCkscj1acyh0KSxzPXIubGVuZ3RoLG89MDtzPm87KXpzLmYoZSxpPXJbbysrXSxuW2ldKTtyZXR1cm4gZX07dmFyICRzLGVvPXV0KFwiZG9jdW1lbnRcIixcImRvY3VtZW50RWxlbWVudFwiKSx0bz1jaSxpbz1RdChcImtleXNcIiksbm89ZnVuY3Rpb24oZSl7cmV0dXJuIGlvW2VdfHwoaW9bZV09dG8oZSkpfSxybz1jbixzbz1Ncyxvbz1Xcyxhbz1Vcyxjbz1lbyxsbz1EaSxobz1cInByb3RvdHlwZVwiLHVvPVwic2NyaXB0XCIscG89bm8oXCJJRV9QUk9UT1wiKSxfbz1mdW5jdGlvbigpe30sRW89ZnVuY3Rpb24oZSl7cmV0dXJuXCI8XCIrdW8rXCI+XCIrZStcIjwvXCIrdW8rXCI+XCJ9LG1vPWZ1bmN0aW9uKGUpe2Uud3JpdGUoRW8oXCJcIikpLGUuY2xvc2UoKTt2YXIgdD1lLnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIGU9bnVsbCx0fSxmbz1mdW5jdGlvbigpe3RyeXskcz1uZXcgQWN0aXZlWE9iamVjdChcImh0bWxmaWxlXCIpfWNhdGNoKGUpe312YXIgZSx0LGk7Zm89XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50LmRvbWFpbiYmJHM/bW8oJHMpOih0PWxvKFwiaWZyYW1lXCIpLGk9XCJqYXZhXCIrdW8rXCI6XCIsdC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGNvLmFwcGVuZENoaWxkKHQpLHQuc3JjPVN0cmluZyhpKSwoZT10LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpLm9wZW4oKSxlLndyaXRlKEVvKFwiZG9jdW1lbnQuRj1PYmplY3RcIikpLGUuY2xvc2UoKSxlLkYpOm1vKCRzKTtmb3IodmFyIG49b28ubGVuZ3RoO24tLTspZGVsZXRlIGZvW2hvXVtvb1tuXV07cmV0dXJuIGZvKCl9O2FvW3BvXT0hMDt2YXIgZ289T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgaTtyZXR1cm4gbnVsbCE9PWU/KF9vW2hvXT1ybyhlKSxpPW5ldyBfbyxfb1tob109bnVsbCxpW3BvXT1lKTppPWZvKCksdm9pZCAwPT09dD9pOnNvLmYoaSx0KX0sU289e30sVG89R3MsUm89V3MuY29uY2F0KFwibGVuZ3RoXCIsXCJwcm90b3R5cGVcIik7U28uZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIFRvKGUsUm8pfTt2YXIgQ289e30sdm89R24sSW89WW4seW89WXIsQW89QXJyYXksYm89TWF0aC5tYXgsd289ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgbj1JbyhlKSxyPXZvKHQsbikscz12byh2b2lkIDA9PT1pP246aSxuKSxvPUFvKGJvKHMtciwwKSksYT0wO3I8cztyKyssYSsrKXlvKG8sYSxlW3JdKTtyZXR1cm4gby5sZW5ndGg9YSxvfSxPbz1BZSxObz1udCxEbz1Tby5mLFBvPXdvLExvPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXTtDby5mPWZ1bmN0aW9uKGUpe3JldHVybiBMbyYmXCJXaW5kb3dcIj09T28oZSk/ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBEbyhlKX1jYXRjaChlKXtyZXR1cm4gUG8oTG8pfX0oZSk6RG8oTm8oZSkpfTt2YXIga289e307a28uZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO3ZhciBNbz1DbixVbz1mdW5jdGlvbihlLHQsaSxuKXtyZXR1cm4gbiYmbi5lbnVtZXJhYmxlP2VbdF09aTpNbyhlLHQsaSksZX0seG89bm4sVm89ZnVuY3Rpb24oZSx0LGkpe3JldHVybiB4by5mKGUsdCxpKX0sRm89e30sQm89Zmk7Rm8uZj1Cbzt2YXIgam8sR28sV28sSG89YXQsS289bmksWW89Rm8scW89bm4uZixKbz1mdW5jdGlvbihlKXt2YXIgdD1Iby5TeW1ib2x8fChIby5TeW1ib2w9e30pO0tvKHQsZSl8fHFvKHQsZSx7dmFsdWU6WW8uZihlKX0pfSx6bz1WZSxYbz11dCxRbz1maSxabz1Vbywkbz1mdW5jdGlvbigpe3ZhciBlPVhvKFwiU3ltYm9sXCIpLHQ9ZSYmZS5wcm90b3R5cGUsaT10JiZ0LnZhbHVlT2Ysbj1RbyhcInRvUHJpbWl0aXZlXCIpO3QmJiF0W25dJiZabyh0LG4sKGZ1bmN0aW9uKGUpe3JldHVybiB6byhpLHRoaXMpfSkse2FyaXR5OjF9KX0sZWE9RXIsdGE9Y3I/e30udG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgXCIrZWEodGhpcykrXCJdXCJ9LGlhPWNyLG5hPW5uLmYscmE9Q24sc2E9bmksb2E9dGEsYWE9ZmkoXCJ0b1N0cmluZ1RhZ1wiKSxjYT1mdW5jdGlvbihlLHQsaSxuKXtpZihlKXt2YXIgcj1pP2U6ZS5wcm90b3R5cGU7c2EocixhYSl8fG5hKHIsYWEse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSksbiYmIWlhJiZyYShyLFwidG9TdHJpbmdcIixvYSl9fSxkYT1MZSxsYT1mZS5XZWFrTWFwLGhhPWRhKGxhKSYmL25hdGl2ZSBjb2RlLy50ZXN0KFN0cmluZyhsYSkpLHVhPWZlLHBhPW90LF9hPUNuLEVhPW5pLG1hPXp0LGZhPW5vLGdhPVVzLFNhPVwiT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWRcIixUYT11YS5UeXBlRXJyb3IsUmE9dWEuV2Vha01hcDtpZihoYXx8bWEuc3RhdGUpe3ZhciBDYT1tYS5zdGF0ZXx8KG1hLnN0YXRlPW5ldyBSYSk7Q2EuZ2V0PUNhLmdldCxDYS5oYXM9Q2EuaGFzLENhLnNldD1DYS5zZXQsam89ZnVuY3Rpb24oZSx0KXtpZihDYS5oYXMoZSkpdGhyb3cgVGEoU2EpO3JldHVybiB0LmZhY2FkZT1lLENhLnNldChlLHQpLHR9LEdvPWZ1bmN0aW9uKGUpe3JldHVybiBDYS5nZXQoZSl8fHt9fSxXbz1mdW5jdGlvbihlKXtyZXR1cm4gQ2EuaGFzKGUpfX1lbHNle3ZhciB2YT1mYShcInN0YXRlXCIpO2dhW3ZhXT0hMCxqbz1mdW5jdGlvbihlLHQpe2lmKEVhKGUsdmEpKXRocm93IFRhKFNhKTtyZXR1cm4gdC5mYWNhZGU9ZSxfYShlLHZhLHQpLHR9LEdvPWZ1bmN0aW9uKGUpe3JldHVybiBFYShlLHZhKT9lW3ZhXTp7fX0sV289ZnVuY3Rpb24oZSl7cmV0dXJuIEVhKGUsdmEpfX12YXIgSWE9e3NldDpqbyxnZXQ6R28saGFzOldvLGVuZm9yY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIFdvKGUpP0dvKGUpOmpvKGUse30pfSxnZXR0ZXJGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBpO2lmKCFwYSh0KXx8KGk9R28odCkpLnR5cGUhPT1lKXRocm93IFRhKFwiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCBcIitlK1wiIHJlcXVpcmVkXCIpO3JldHVybiBpfX19LHlhPXRuLEFhPVhlLGJhPWVpLHdhPVluLE9hPWZzLE5hPV9lKFtdLnB1c2gpLERhPWZ1bmN0aW9uKGUpe3ZhciB0PTE9PWUsaT0yPT1lLG49Mz09ZSxyPTQ9PWUscz02PT1lLG89Nz09ZSxhPTU9PWV8fHM7cmV0dXJuIGZ1bmN0aW9uKGMsZCxsLGgpe2Zvcih2YXIgdSxwLF89YmEoYyksRT1BYShfKSxtPXlhKGQsbCksZj13YShFKSxnPTAsUz1ofHxPYSxUPXQ/UyhjLGYpOml8fG8/UyhjLDApOnZvaWQgMDtmPmc7ZysrKWlmKChhfHxnIGluIEUpJiYocD1tKHU9RVtnXSxnLF8pLGUpKWlmKHQpVFtnXT1wO2Vsc2UgaWYocClzd2l0Y2goZSl7Y2FzZSAzOnJldHVybiEwO2Nhc2UgNTpyZXR1cm4gdTtjYXNlIDY6cmV0dXJuIGc7Y2FzZSAyOk5hKFQsdSl9ZWxzZSBzd2l0Y2goZSl7Y2FzZSA0OnJldHVybiExO2Nhc2UgNzpOYShULHUpfXJldHVybiBzPy0xOm58fHI/cjpUfX0sUGE9e2ZvckVhY2g6RGEoMCksbWFwOkRhKDEpLGZpbHRlcjpEYSgyKSxzb21lOkRhKDMpLGV2ZXJ5OkRhKDQpLGZpbmQ6RGEoNSksZmluZEluZGV4OkRhKDYpLGZpbHRlclJlamVjdDpEYSg3KX0sTGE9a24sa2E9ZmUsTWE9VmUsVWE9X2UseGE9TWUsVmE9SXQsRmE9Y2UsQmE9bmksamE9RWUsR2E9Y24sV2E9bnQsSGE9YmksS2E9Z3IsWWE9S2UscWE9Z28sSmE9WXMsemE9U28sWGE9Q28sUWE9a28sWmE9a2UsJGE9bm4sZWM9TXMsdGM9RmUsaWM9VW8sbmM9Vm8scmM9UXQsc2M9VXMsb2M9Y2ksYWM9ZmksY2M9Rm8sZGM9Sm8sbGM9JG8saGM9Y2EsdWM9SWEscGM9UGEuZm9yRWFjaCxfYz1ubyhcImhpZGRlblwiKSxFYz1cIlN5bWJvbFwiLG1jPVwicHJvdG90eXBlXCIsZmM9dWMuc2V0LGdjPXVjLmdldHRlckZvcihFYyksU2M9T2JqZWN0W21jXSxUYz1rYS5TeW1ib2wsUmM9VGMmJlRjW21jXSxDYz1rYS5UeXBlRXJyb3IsdmM9a2EuUU9iamVjdCxJYz1aYS5mLHljPSRhLmYsQWM9WGEuZixiYz10Yy5mLHdjPVVhKFtdLnB1c2gpLE9jPXJjKFwic3ltYm9sc1wiKSxOYz1yYyhcIm9wLXN5bWJvbHNcIiksRGM9cmMoXCJ3a3NcIiksUGM9IXZjfHwhdmNbbWNdfHwhdmNbbWNdLmZpbmRDaGlsZCxMYz14YSYmRmEoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPXFhKHljKHt9LFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geWModGhpcyxcImFcIix7dmFsdWU6N30pLmF9fSkpLmF9KSk/ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPUljKFNjLHQpO24mJmRlbGV0ZSBTY1t0XSx5YyhlLHQsaSksbiYmZSE9PVNjJiZ5YyhTYyx0LG4pfTp5YyxrYz1mdW5jdGlvbihlLHQpe3ZhciBpPU9jW2VdPXFhKFJjKTtyZXR1cm4gZmMoaSx7dHlwZTpFYyx0YWc6ZSxkZXNjcmlwdGlvbjp0fSkseGF8fChpLmRlc2NyaXB0aW9uPXQpLGl9LE1jPWZ1bmN0aW9uKGUsdCxpKXtlPT09U2MmJk1jKE5jLHQsaSksR2EoZSk7dmFyIG49SGEodCk7cmV0dXJuIEdhKGkpLEJhKE9jLG4pPyhpLmVudW1lcmFibGU/KEJhKGUsX2MpJiZlW19jXVtuXSYmKGVbX2NdW25dPSExKSxpPXFhKGkse2VudW1lcmFibGU6WWEoMCwhMSl9KSk6KEJhKGUsX2MpfHx5YyhlLF9jLFlhKDEse30pKSxlW19jXVtuXT0hMCksTGMoZSxuLGkpKTp5YyhlLG4saSl9LFVjPWZ1bmN0aW9uKGUsdCl7R2EoZSk7dmFyIGk9V2EodCksbj1KYShpKS5jb25jYXQoQmMoaSkpO3JldHVybiBwYyhuLChmdW5jdGlvbih0KXt4YSYmIU1hKHhjLGksdCl8fE1jKGUsdCxpW3RdKX0pKSxlfSx4Yz1mdW5jdGlvbihlKXt2YXIgdD1IYShlKSxpPU1hKGJjLHRoaXMsdCk7cmV0dXJuISh0aGlzPT09U2MmJkJhKE9jLHQpJiYhQmEoTmMsdCkpJiYoIShpfHwhQmEodGhpcyx0KXx8IUJhKE9jLHQpfHxCYSh0aGlzLF9jKSYmdGhpc1tfY11bdF0pfHxpKX0sVmM9ZnVuY3Rpb24oZSx0KXt2YXIgaT1XYShlKSxuPUhhKHQpO2lmKGkhPT1TY3x8IUJhKE9jLG4pfHxCYShOYyxuKSl7dmFyIHI9SWMoaSxuKTtyZXR1cm4hcnx8IUJhKE9jLG4pfHxCYShpLF9jKSYmaVtfY11bbl18fChyLmVudW1lcmFibGU9ITApLHJ9fSxGYz1mdW5jdGlvbihlKXt2YXIgdD1BYyhXYShlKSksaT1bXTtyZXR1cm4gcGModCwoZnVuY3Rpb24oZSl7QmEoT2MsZSl8fEJhKHNjLGUpfHx3YyhpLGUpfSkpLGl9LEJjPWZ1bmN0aW9uKGUpe3ZhciB0PWU9PT1TYyxpPUFjKHQ/TmM6V2EoZSkpLG49W107cmV0dXJuIHBjKGksKGZ1bmN0aW9uKGUpeyFCYShPYyxlKXx8dCYmIUJhKFNjLGUpfHx3YyhuLE9jW2VdKX0pKSxufTtWYXx8KFRjPWZ1bmN0aW9uKCl7aWYoamEoUmMsdGhpcykpdGhyb3cgQ2MoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7dmFyIGU9YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP0thKGFyZ3VtZW50c1swXSk6dm9pZCAwLHQ9b2MoZSksaT1mdW5jdGlvbihlKXt0aGlzPT09U2MmJk1hKGksTmMsZSksQmEodGhpcyxfYykmJkJhKHRoaXNbX2NdLHQpJiYodGhpc1tfY11bdF09ITEpLExjKHRoaXMsdCxZYSgxLGUpKX07cmV0dXJuIHhhJiZQYyYmTGMoU2MsdCx7Y29uZmlndXJhYmxlOiEwLHNldDppfSksa2ModCxlKX0saWMoUmM9VGNbbWNdLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ2ModGhpcykudGFnfSkpLGljKFRjLFwid2l0aG91dFNldHRlclwiLChmdW5jdGlvbihlKXtyZXR1cm4ga2Mob2MoZSksZSl9KSksdGMuZj14YywkYS5mPU1jLGVjLmY9VWMsWmEuZj1WYyx6YS5mPVhhLmY9RmMsUWEuZj1CYyxjYy5mPWZ1bmN0aW9uKGUpe3JldHVybiBrYyhhYyhlKSxlKX0seGEmJm5jKFJjLFwiZGVzY3JpcHRpb25cIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBnYyh0aGlzKS5kZXNjcmlwdGlvbn19KSksTGEoe2dsb2JhbDohMCxjb25zdHJ1Y3RvcjohMCx3cmFwOiEwLGZvcmNlZDohVmEsc2hhbTohVmF9LHtTeW1ib2w6VGN9KSxwYyhKYShEYyksKGZ1bmN0aW9uKGUpe2RjKGUpfSkpLExhKHt0YXJnZXQ6RWMsc3RhdDohMCxmb3JjZWQ6IVZhfSx7dXNlU2V0dGVyOmZ1bmN0aW9uKCl7UGM9ITB9LHVzZVNpbXBsZTpmdW5jdGlvbigpe1BjPSExfX0pLExhKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDohVmEsc2hhbToheGF9LHtjcmVhdGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9xYShlKTpVYyhxYShlKSx0KX0sZGVmaW5lUHJvcGVydHk6TWMsZGVmaW5lUHJvcGVydGllczpVYyxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6VmN9KSxMYSh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6IVZhfSx7Z2V0T3duUHJvcGVydHlOYW1lczpGY30pLGxjKCksaGMoVGMsRWMpLHNjW19jXT0hMDt2YXIgamM9SXQmJiEhU3ltYm9sLmZvciYmISFTeW1ib2wua2V5Rm9yLEdjPWtuLFdjPXV0LEhjPW5pLEtjPWdyLFljPVF0LHFjPWpjLEpjPVljKFwic3RyaW5nLXRvLXN5bWJvbC1yZWdpc3RyeVwiKSx6Yz1ZYyhcInN5bWJvbC10by1zdHJpbmctcmVnaXN0cnlcIik7R2Moe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsZm9yY2VkOiFxY30se2ZvcjpmdW5jdGlvbihlKXt2YXIgdD1LYyhlKTtpZihIYyhKYyx0KSlyZXR1cm4gSmNbdF07dmFyIGk9V2MoXCJTeW1ib2xcIikodCk7cmV0dXJuIEpjW3RdPWksemNbaV09dCxpfX0pO3ZhciBYYz1rbixRYz1uaSxaYz1OdCwkYz1QdCxlZD1qYyx0ZD1RdChcInN5bWJvbC10by1zdHJpbmctcmVnaXN0cnlcIik7WGMoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsZm9yY2VkOiFlZH0se2tleUZvcjpmdW5jdGlvbihlKXtpZighWmMoZSkpdGhyb3cgVHlwZUVycm9yKCRjKGUpK1wiIGlzIG5vdCBhIHN5bWJvbFwiKTtpZihRYyh0ZCxlKSlyZXR1cm4gdGRbZV19fSk7dmFyIGlkPV9lKFtdLnNsaWNlKSxuZD1qcixyZD1MZSxzZD1BZSxvZD1ncixhZD1fZShbXS5wdXNoKSxjZD1rbixkZD11dCxsZD1DZSxoZD1WZSx1ZD1fZSxwZD1jZSxfZD1MZSxFZD1OdCxtZD1pZCxmZD1mdW5jdGlvbihlKXtpZihyZChlKSlyZXR1cm4gZTtpZihuZChlKSl7Zm9yKHZhciB0PWUubGVuZ3RoLGk9W10sbj0wO248dDtuKyspe3ZhciByPWVbbl07XCJzdHJpbmdcIj09dHlwZW9mIHI/YWQoaSxyKTpcIm51bWJlclwiIT10eXBlb2YgciYmXCJOdW1iZXJcIiE9c2QocikmJlwiU3RyaW5nXCIhPXNkKHIpfHxhZChpLG9kKHIpKX12YXIgcz1pLmxlbmd0aCxvPSEwO3JldHVybiBmdW5jdGlvbihlLHQpe2lmKG8pcmV0dXJuIG89ITEsdDtpZihuZCh0aGlzKSlyZXR1cm4gdDtmb3IodmFyIG49MDtuPHM7bisrKWlmKGlbbl09PT1lKXJldHVybiB0fX19LGdkPUl0LFNkPVN0cmluZyxUZD1kZChcIkpTT05cIixcInN0cmluZ2lmeVwiKSxSZD11ZCgvLi8uZXhlYyksQ2Q9dWQoXCJcIi5jaGFyQXQpLHZkPXVkKFwiXCIuY2hhckNvZGVBdCksSWQ9dWQoXCJcIi5yZXBsYWNlKSx5ZD11ZCgxLi50b1N0cmluZyksQWQ9L1tcXHVEODAwLVxcdURGRkZdL2csYmQ9L15bXFx1RDgwMC1cXHVEQkZGXSQvLHdkPS9eW1xcdURDMDAtXFx1REZGRl0kLyxPZD0hZ2R8fHBkKChmdW5jdGlvbigpe3ZhciBlPWRkKFwiU3ltYm9sXCIpKCk7cmV0dXJuXCJbbnVsbF1cIiE9VGQoW2VdKXx8XCJ7fVwiIT1UZCh7YTplfSl8fFwie31cIiE9VGQoT2JqZWN0KGUpKX0pKSxOZD1wZCgoZnVuY3Rpb24oKXtyZXR1cm4nXCJcXFxcdWRmMDZcXFxcdWQ4MzRcIichPT1UZChcIlxcdWRmMDZcXHVkODM0XCIpfHwnXCJcXFxcdWRlYWRcIichPT1UZChcIlxcdWRlYWRcIil9KSksRGQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT1tZChhcmd1bWVudHMpLG49ZmQodCk7aWYoX2Qobil8fHZvaWQgMCE9PWUmJiFFZChlKSlyZXR1cm4gaVsxXT1mdW5jdGlvbihlLHQpe2lmKF9kKG4pJiYodD1oZChuLHRoaXMsU2QoZSksdCkpLCFFZCh0KSlyZXR1cm4gdH0sbGQoVGQsbnVsbCxpKX0sUGQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPUNkKGksdC0xKSxyPUNkKGksdCsxKTtyZXR1cm4gUmQoYmQsZSkmJiFSZCh3ZCxyKXx8UmQod2QsZSkmJiFSZChiZCxuKT9cIlxcXFx1XCIreWQodmQoZSwwKSwxNik6ZX07VGQmJmNkKHt0YXJnZXQ6XCJKU09OXCIsc3RhdDohMCxhcml0eTozLGZvcmNlZDpPZHx8TmR9LHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPW1kKGFyZ3VtZW50cykscj1sZChPZD9EZDpUZCxudWxsLG4pO3JldHVybiBOZCYmXCJzdHJpbmdcIj09dHlwZW9mIHI/SWQocixBZCxQZCk6cn19KTt2YXIgTGQ9a28sa2Q9ZWk7a24oe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOiFJdHx8Y2UoKGZ1bmN0aW9uKCl7TGQuZigxKX0pKX0se2dldE93blByb3BlcnR5U3ltYm9sczpmdW5jdGlvbihlKXt2YXIgdD1MZC5mO3JldHVybiB0P3Qoa2QoZSkpOltdfX0pLEpvKFwiYXN5bmNJdGVyYXRvclwiKSxKbyhcImhhc0luc3RhbmNlXCIpLEpvKFwiaXNDb25jYXRTcHJlYWRhYmxlXCIpLEpvKFwiaXRlcmF0b3JcIiksSm8oXCJtYXRjaFwiKSxKbyhcIm1hdGNoQWxsXCIpLEpvKFwicmVwbGFjZVwiKSxKbyhcInNlYXJjaFwiKSxKbyhcInNwZWNpZXNcIiksSm8oXCJzcGxpdFwiKTt2YXIgTWQ9JG87Sm8oXCJ0b1ByaW1pdGl2ZVwiKSxNZCgpO3ZhciBVZD11dCx4ZD1jYTtKbyhcInRvU3RyaW5nVGFnXCIpLHhkKFVkKFwiU3ltYm9sXCIpLFwiU3ltYm9sXCIpLEpvKFwidW5zY29wYWJsZXNcIiksY2EoZmUuSlNPTixcIkpTT05cIiwhMCk7dmFyIFZkLEZkLEJkLGpkPWF0LlN5bWJvbCxHZD17fSxXZD1NZSxIZD1uaSxLZD1GdW5jdGlvbi5wcm90b3R5cGUsWWQ9V2QmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IscWQ9SGQoS2QsXCJuYW1lXCIpLEpkPXtFWElTVFM6cWQsUFJPUEVSOnFkJiZcInNvbWV0aGluZ1wiPT09ZnVuY3Rpb24oKXt9Lm5hbWUsQ09ORklHVVJBQkxFOnFkJiYoIVdkfHxXZCYmWWQoS2QsXCJuYW1lXCIpLmNvbmZpZ3VyYWJsZSl9LHpkPSFjZSgoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1udWxsLE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgZSkhPT1lLnByb3RvdHlwZX0pKSxYZD1uaSxRZD1MZSxaZD1laSwkZD16ZCxlbD1ubyhcIklFX1BST1RPXCIpLHRsPU9iamVjdCxpbD10bC5wcm90b3R5cGUsbmw9JGQ/dGwuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7dmFyIHQ9WmQoZSk7aWYoWGQodCxlbCkpcmV0dXJuIHRbZWxdO3ZhciBpPXQuY29uc3RydWN0b3I7cmV0dXJuIFFkKGkpJiZ0IGluc3RhbmNlb2YgaT9pLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgdGw/aWw6bnVsbH0scmw9Y2Usc2w9TGUsb2w9b3QsYWw9Z28sY2w9bmwsZGw9VW8sbGw9ZmkoXCJpdGVyYXRvclwiKSxobD0hMTtbXS5rZXlzJiYoXCJuZXh0XCJpbihCZD1bXS5rZXlzKCkpPyhGZD1jbChjbChCZCkpKSE9PU9iamVjdC5wcm90b3R5cGUmJihWZD1GZCk6aGw9ITApO3ZhciB1bD0hb2woVmQpfHxybCgoZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gVmRbbGxdLmNhbGwoZSkhPT1lfSkpO3NsKChWZD11bD97fTphbChWZCkpW2xsXSl8fGRsKFZkLGxsLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBwbD17SXRlcmF0b3JQcm90b3R5cGU6VmQsQlVHR1lfU0FGQVJJX0lURVJBVE9SUzpobH0sX2w9cGwuSXRlcmF0b3JQcm90b3R5cGUsRWw9Z28sbWw9S2UsZmw9Y2EsZ2w9R2QsU2w9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sVGw9X2UsUmw9VXQsQ2w9TGUsdmw9U3RyaW5nLElsPVR5cGVFcnJvcix5bD1mdW5jdGlvbihlLHQsaSl7dHJ5e3JldHVybiBUbChSbChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdClbaV0pKX1jYXRjaChlKXt9fSxBbD1jbixibD1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXx8Q2woZSkpcmV0dXJuIGU7dGhyb3cgSWwoXCJDYW4ndCBzZXQgXCIrdmwoZSkrXCIgYXMgYSBwcm90b3R5cGVcIil9LHdsPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8KFwiX19wcm90b19fXCJpbnt9P2Z1bmN0aW9uKCl7dmFyIGUsdD0hMSxpPXt9O3RyeXsoZT15bChPYmplY3QucHJvdG90eXBlLFwiX19wcm90b19fXCIsXCJzZXRcIikpKGksW10pLHQ9aSBpbnN0YW5jZW9mIEFycmF5fWNhdGNoKGUpe31yZXR1cm4gZnVuY3Rpb24oaSxuKXtyZXR1cm4gQWwoaSksYmwobiksdD9lKGksbik6aS5fX3Byb3RvX189bixpfX0oKTp2b2lkIDApLE9sPWtuLE5sPVZlLERsPUpkLFBsPWZ1bmN0aW9uKGUsdCxpLG4pe3ZhciByPXQrXCIgSXRlcmF0b3JcIjtyZXR1cm4gZS5wcm90b3R5cGU9RWwoX2wse25leHQ6bWwoKyFuLGkpfSksZmwoZSxyLCExLCEwKSxnbFtyXT1TbCxlfSxMbD1ubCxrbD1jYSxNbD1VbyxVbD1HZCx4bD1wbCxWbD1EbC5QUk9QRVIsRmw9eGwuQlVHR1lfU0FGQVJJX0lURVJBVE9SUyxCbD1maShcIml0ZXJhdG9yXCIpLGpsPVwia2V5c1wiLEdsPVwidmFsdWVzXCIsV2w9XCJlbnRyaWVzXCIsSGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sS2w9ZnVuY3Rpb24oZSx0LGksbixyLHMsbyl7UGwoaSx0LG4pO3ZhciBhLGMsZCxsPWZ1bmN0aW9uKGUpe2lmKGU9PT1yJiZFKXJldHVybiBFO2lmKCFGbCYmZSBpbiBwKXJldHVybiBwW2VdO3N3aXRjaChlKXtjYXNlIGpsOmNhc2UgR2w6Y2FzZSBXbDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMpfX0saD10K1wiIEl0ZXJhdG9yXCIsdT0hMSxwPWUucHJvdG90eXBlLF89cFtCbF18fHBbXCJAQGl0ZXJhdG9yXCJdfHxyJiZwW3JdLEU9IUZsJiZffHxsKHIpLG09XCJBcnJheVwiPT10JiZwLmVudHJpZXN8fF87aWYobSYmKGE9TGwobS5jYWxsKG5ldyBlKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmYS5uZXh0JiYoa2woYSxoLCEwLCEwKSxVbFtoXT1IbCksVmwmJnI9PUdsJiZfJiZfLm5hbWUhPT1HbCYmKHU9ITAsRT1mdW5jdGlvbigpe3JldHVybiBObChfLHRoaXMpfSkscilpZihjPXt2YWx1ZXM6bChHbCksa2V5czpzP0U6bChqbCksZW50cmllczpsKFdsKX0sbylmb3IoZCBpbiBjKShGbHx8dXx8IShkIGluIHApKSYmTWwocCxkLGNbZF0pO2Vsc2UgT2woe3RhcmdldDp0LHByb3RvOiEwLGZvcmNlZDpGbHx8dX0sYyk7cmV0dXJuIG8mJnBbQmxdIT09RSYmTWwocCxCbCxFLHtuYW1lOnJ9KSxVbFt0XT1FLGN9LFlsPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOmUsZG9uZTp0fX0scWw9bnQsSmw9R2Qsemw9SWE7bm4uZjt2YXIgWGw9S2wsUWw9WWwsWmw9XCJBcnJheSBJdGVyYXRvclwiLCRsPXpsLnNldCxlaD16bC5nZXR0ZXJGb3IoWmwpO1hsKEFycmF5LFwiQXJyYXlcIiwoZnVuY3Rpb24oZSx0KXskbCh0aGlzLHt0eXBlOlpsLHRhcmdldDpxbChlKSxpbmRleDowLGtpbmQ6dH0pfSksKGZ1bmN0aW9uKCl7dmFyIGU9ZWgodGhpcyksdD1lLnRhcmdldCxpPWUua2luZCxuPWUuaW5kZXgrKztyZXR1cm4hdHx8bj49dC5sZW5ndGg/KGUudGFyZ2V0PXZvaWQgMCxRbCh2b2lkIDAsITApKTpRbChcImtleXNcIj09aT9uOlwidmFsdWVzXCI9PWk/dFtuXTpbbix0W25dXSwhMSl9KSxcInZhbHVlc1wiKSxKbC5Bcmd1bWVudHM9SmwuQXJyYXk7dmFyIHRoPXtDU1NSdWxlTGlzdDowLENTU1N0eWxlRGVjbGFyYXRpb246MCxDU1NWYWx1ZUxpc3Q6MCxDbGllbnRSZWN0TGlzdDowLERPTVJlY3RMaXN0OjAsRE9NU3RyaW5nTGlzdDowLERPTVRva2VuTGlzdDoxLERhdGFUcmFuc2Zlckl0ZW1MaXN0OjAsRmlsZUxpc3Q6MCxIVE1MQWxsQ29sbGVjdGlvbjowLEhUTUxDb2xsZWN0aW9uOjAsSFRNTEZvcm1FbGVtZW50OjAsSFRNTFNlbGVjdEVsZW1lbnQ6MCxNZWRpYUxpc3Q6MCxNaW1lVHlwZUFycmF5OjAsTmFtZWROb2RlTWFwOjAsTm9kZUxpc3Q6MSxQYWludFJlcXVlc3RMaXN0OjAsUGx1Z2luOjAsUGx1Z2luQXJyYXk6MCxTVkdMZW5ndGhMaXN0OjAsU1ZHTnVtYmVyTGlzdDowLFNWR1BhdGhTZWdMaXN0OjAsU1ZHUG9pbnRMaXN0OjAsU1ZHU3RyaW5nTGlzdDowLFNWR1RyYW5zZm9ybUxpc3Q6MCxTb3VyY2VCdWZmZXJMaXN0OjAsU3R5bGVTaGVldExpc3Q6MCxUZXh0VHJhY2tDdWVMaXN0OjAsVGV4dFRyYWNrTGlzdDowLFRvdWNoTGlzdDowfSxpaD1mZSxuaD1FcixyaD1DbixzaD1HZCxvaD1maShcInRvU3RyaW5nVGFnXCIpO2Zvcih2YXIgYWggaW4gdGgpe3ZhciBjaD1paFthaF0sZGg9Y2gmJmNoLnByb3RvdHlwZTtkaCYmbmgoZGgpIT09b2gmJnJoKGRoLG9oLGFoKSxzaFthaF09c2guQXJyYXl9dmFyIGxoPWpkLGhoPWZpLHVoPW5uLmYscGg9aGgoXCJtZXRhZGF0YVwiKSxfaD1GdW5jdGlvbi5wcm90b3R5cGU7dm9pZCAwPT09X2hbcGhdJiZ1aChfaCxwaCx7dmFsdWU6bnVsbH0pLEpvKFwiZGlzcG9zZVwiKSxKbyhcIm1ldGFkYXRhXCIpO3ZhciBFaD1saDtKbyhcImFzeW5jRGlzcG9zZVwiKTt2YXIgbWg9X2UsZmg9dXQoXCJTeW1ib2xcIiksZ2g9Zmgua2V5Rm9yLFNoPW1oKGZoLnByb3RvdHlwZS52YWx1ZU9mKSxUaD1maC5pc1JlZ2lzdGVyZWRTeW1ib2x8fGZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gdm9pZCAwIT09Z2goU2goZSkpfWNhdGNoKGUpe3JldHVybiExfX07a24oe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITB9LHtpc1JlZ2lzdGVyZWRTeW1ib2w6VGh9KTtmb3IodmFyIFJoPVF0LENoPXV0LHZoPV9lLEloPU50LHloPWZpLEFoPUNoKFwiU3ltYm9sXCIpLGJoPUFoLmlzV2VsbEtub3duU3ltYm9sLHdoPUNoKFwiT2JqZWN0XCIsXCJnZXRPd25Qcm9wZXJ0eU5hbWVzXCIpLE9oPXZoKEFoLnByb3RvdHlwZS52YWx1ZU9mKSxOaD1SaChcIndrc1wiKSxEaD0wLFBoPXdoKEFoKSxMaD1QaC5sZW5ndGg7RGg8TGg7RGgrKyl0cnl7dmFyIGtoPVBoW0RoXTtJaChBaFtraF0pJiZ5aChraCl9Y2F0Y2goZSl7fXZhciBNaD1mdW5jdGlvbihlKXtpZihiaCYmYmgoZSkpcmV0dXJuITA7dHJ5e2Zvcih2YXIgdD1PaChlKSxpPTAsbj13aChOaCkscj1uLmxlbmd0aDtpPHI7aSsrKWlmKE5oW25baV1dPT10KXJldHVybiEwfWNhdGNoKGUpe31yZXR1cm4hMX07a24oe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsZm9yY2VkOiEwfSx7aXNXZWxsS25vd25TeW1ib2w6TWh9KSxKbyhcIm1hdGNoZXJcIiksSm8oXCJvYnNlcnZhYmxlXCIpLGtuKHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwLG5hbWU6XCJpc1JlZ2lzdGVyZWRTeW1ib2xcIn0se2lzUmVnaXN0ZXJlZDpUaH0pLGtuKHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwLG5hbWU6XCJpc1dlbGxLbm93blN5bWJvbFwiLGZvcmNlZDohMH0se2lzV2VsbEtub3duOk1ofSksSm8oXCJtZXRhZGF0YUtleVwiKSxKbyhcInBhdHRlcm5NYXRjaFwiKSxKbyhcInJlcGxhY2VBbGxcIik7dmFyIFVoPUooRWgpLHhoPV9lLFZoPVZuLEZoPWdyLEJoPWV0LGpoPXhoKFwiXCIuY2hhckF0KSxHaD14aChcIlwiLmNoYXJDb2RlQXQpLFdoPXhoKFwiXCIuc2xpY2UpLEhoPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LGkpe3ZhciBuLHIscz1GaChCaCh0KSksbz1WaChpKSxhPXMubGVuZ3RoO3JldHVybiBvPDB8fG8+PWE/ZT9cIlwiOnZvaWQgMDoobj1HaChzLG8pKTw1NTI5Nnx8bj41NjMxOXx8bysxPT09YXx8KHI9R2gocyxvKzEpKTw1NjMyMHx8cj41NzM0Mz9lP2poKHMsbyk6bjplP1doKHMsbyxvKzIpOnItNTYzMjArKG4tNTUyOTY8PDEwKSs2NTUzNn19LEtoPXtjb2RlQXQ6SGgoITEpLGNoYXJBdDpIaCghMCl9LmNoYXJBdCxZaD1ncixxaD1JYSxKaD1LbCx6aD1ZbCxYaD1cIlN0cmluZyBJdGVyYXRvclwiLFFoPXFoLnNldCxaaD1xaC5nZXR0ZXJGb3IoWGgpO0poKFN0cmluZyxcIlN0cmluZ1wiLChmdW5jdGlvbihlKXtRaCh0aGlzLHt0eXBlOlhoLHN0cmluZzpZaChlKSxpbmRleDowfSl9KSwoZnVuY3Rpb24oKXt2YXIgZSx0PVpoKHRoaXMpLGk9dC5zdHJpbmcsbj10LmluZGV4O3JldHVybiBuPj1pLmxlbmd0aD96aCh2b2lkIDAsITApOihlPUtoKGksbiksdC5pbmRleCs9ZS5sZW5ndGgsemgoZSwhMSkpfSkpO3ZhciAkaD1KKEZvLmYoXCJpdGVyYXRvclwiKSk7ZnVuY3Rpb24gZXUoZSl7cmV0dXJuIGV1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFVoJiZcInN5bWJvbFwiPT10eXBlb2YgJGg/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgVWgmJmUuY29uc3RydWN0b3I9PT1VaCYmZSE9PVVoLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxldShlKX12YXIgdHU9SihGby5mKFwidG9QcmltaXRpdmVcIikpO2Z1bmN0aW9uIGl1KGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIiE9PWV1KGUpfHxudWxsPT09ZSlyZXR1cm4gZTt2YXIgaT1lW3R1XTtpZih2b2lkIDAhPT1pKXt2YXIgbj1pLmNhbGwoZSx0fHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9PWV1KG4pKXJldHVybiBuO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9KGUsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09PWV1KHQpP3Q6U3RyaW5nKHQpfWZ1bmN0aW9uIG51KGUsdCxpKXtyZXR1cm4odD1pdSh0KSlpbiBlP0ZyKGUsdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09aSxlfXZhciBydT1lcihcIkFycmF5XCIpLmtleXMsc3U9RXIsb3U9bmksYXU9RWUsY3U9cnUsZHU9QXJyYXkucHJvdG90eXBlLGx1PXtET01Ub2tlbkxpc3Q6ITAsTm9kZUxpc3Q6ITB9LGh1PUooKGZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5cztyZXR1cm4gZT09PWR1fHxhdShkdSxlKSYmdD09PWR1LmtleXN8fG91KGx1LHN1KGUpKT9jdTp0fSkpLHV1PVB0LHB1PVR5cGVFcnJvcixfdT13byxFdT1NYXRoLmZsb29yLG11PWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS5sZW5ndGgsbj1FdShpLzIpO3JldHVybiBpPDg/ZnUoZSx0KTpndShlLG11KF91KGUsMCxuKSx0KSxtdShfdShlLG4pLHQpLHQpfSxmdT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaSxuLHI9ZS5sZW5ndGgscz0xO3M8cjspe2ZvcihuPXMsaT1lW3NdO24mJnQoZVtuLTFdLGkpPjA7KWVbbl09ZVstLW5dO24hPT1zKysmJihlW25dPWkpfXJldHVybiBlfSxndT1mdW5jdGlvbihlLHQsaSxuKXtmb3IodmFyIHI9dC5sZW5ndGgscz1pLmxlbmd0aCxvPTAsYT0wO288cnx8YTxzOyllW28rYV09bzxyJiZhPHM/bih0W29dLGlbYV0pPD0wP3RbbysrXTppW2ErK106bzxyP3RbbysrXTppW2ErK107cmV0dXJuIGV9LFN1PW11LFR1PWNlLFJ1PWZ1bmN0aW9uKGUsdCl7dmFyIGk9W11bZV07cmV0dXJuISFpJiZUdSgoZnVuY3Rpb24oKXtpLmNhbGwobnVsbCx0fHxmdW5jdGlvbigpe3JldHVybiAxfSwxKX0pKX0sQ3U9cHQubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvaSksdnU9ISFDdSYmK0N1WzFdLEl1PS9NU0lFfFRyaWRlbnQvLnRlc3QocHQpLHl1PXB0Lm1hdGNoKC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8pLEF1PSEheXUmJit5dVsxXSxidT1rbix3dT1fZSxPdT1VdCxOdT1laSxEdT1ZbixQdT1mdW5jdGlvbihlLHQpe2lmKCFkZWxldGUgZVt0XSl0aHJvdyBwdShcIkNhbm5vdCBkZWxldGUgcHJvcGVydHkgXCIrdXUodCkrXCIgb2YgXCIrdXUoZSkpfSxMdT1ncixrdT1jZSxNdT1TdSxVdT1SdSx4dT12dSxWdT1JdSxGdT1UdCxCdT1BdSxqdT1bXSxHdT13dShqdS5zb3J0KSxXdT13dShqdS5wdXNoKSxIdT1rdSgoZnVuY3Rpb24oKXtqdS5zb3J0KHZvaWQgMCl9KSksS3U9a3UoKGZ1bmN0aW9uKCl7anUuc29ydChudWxsKX0pKSxZdT1VdShcInNvcnRcIikscXU9IWt1KChmdW5jdGlvbigpe2lmKEZ1KXJldHVybiBGdTw3MDtpZighKHh1JiZ4dT4zKSl7aWYoVnUpcmV0dXJuITA7aWYoQnUpcmV0dXJuIEJ1PDYwMzt2YXIgZSx0LGksbixyPVwiXCI7Zm9yKGU9NjU7ZTw3NjtlKyspe3N3aXRjaCh0PVN0cmluZy5mcm9tQ2hhckNvZGUoZSksZSl7Y2FzZSA2NjpjYXNlIDY5OmNhc2UgNzA6Y2FzZSA3MjppPTM7YnJlYWs7Y2FzZSA2ODpjYXNlIDcxOmk9NDticmVhaztkZWZhdWx0Omk9Mn1mb3Iobj0wO248NDc7bisrKWp1LnB1c2goe2s6dCtuLHY6aX0pfWZvcihqdS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiB0LnYtZS52fSkpLG49MDtuPGp1Lmxlbmd0aDtuKyspdD1qdVtuXS5rLmNoYXJBdCgwKSxyLmNoYXJBdChyLmxlbmd0aC0xKSE9PXQmJihyKz10KTtyZXR1cm5cIkRHQkVGSEFDSUpLXCIhPT1yfX0pKTtidSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6SHV8fCFLdXx8IVl1fHwhcXV9LHtzb3J0OmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUmJk91KGUpO3ZhciB0PU51KHRoaXMpO2lmKHF1KXJldHVybiB2b2lkIDA9PT1lP0d1KHQpOkd1KHQsZSk7dmFyIGksbixyPVtdLHM9RHUodCk7Zm9yKG49MDtuPHM7bisrKW4gaW4gdCYmV3Uocix0W25dKTtmb3IoTXUocixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxpKXtyZXR1cm4gdm9pZCAwPT09aT8tMTp2b2lkIDA9PT10PzE6dm9pZCAwIT09ZT8rZSh0LGkpfHwwOkx1KHQpPkx1KGkpPzE6LTF9fShlKSksaT1EdShyKSxuPTA7bjxpOyl0W25dPXJbbisrXTtmb3IoO248czspUHUodCxuKyspO3JldHVybiB0fX0pO3ZhciBKdT1lcihcIkFycmF5XCIpLnNvcnQsenU9RWUsWHU9SnUsUXU9QXJyYXkucHJvdG90eXBlLFp1PUooKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc29ydDtyZXR1cm4gZT09PVF1fHx6dShRdSxlKSYmdD09PVF1LnNvcnQ/WHU6dH0pKSwkdT11dCxlcD1Tbyx0cD1rbyxpcD1jbixucD1fZShbXS5jb25jYXQpLHJwPSR1KFwiUmVmbGVjdFwiLFwib3duS2V5c1wiKXx8ZnVuY3Rpb24oZSl7dmFyIHQ9ZXAuZihpcChlKSksaT10cC5mO3JldHVybiBpP25wKHQsaShlKSk6dH0sc3A9bmksb3A9cnAsYXA9a2UsY3A9bm4sZHA9b3QsbHA9Q24saHA9RXJyb3IsdXA9X2UoXCJcIi5yZXBsYWNlKSxwcD1TdHJpbmcoaHAoXCJ6eGNhc2RcIikuc3RhY2spLF9wPS9cXG5cXHMqYXQgW146XSo6W15cXG5dKi8sRXA9X3AudGVzdChwcCksbXA9S2UsZnA9IWNlKChmdW5jdGlvbigpe3ZhciBlPUVycm9yKFwiYVwiKTtyZXR1cm4hKFwic3RhY2tcImluIGUpfHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJzdGFja1wiLG1wKDEsNykpLDchPT1lLnN0YWNrKX0pKSxncD1DbixTcD1mdW5jdGlvbihlLHQpe2lmKEVwJiZcInN0cmluZ1wiPT10eXBlb2YgZSYmIWhwLnByZXBhcmVTdGFja1RyYWNlKWZvcig7dC0tOyllPXVwKGUsX3AsXCJcIik7cmV0dXJuIGV9LFRwPWZwLFJwPUVycm9yLmNhcHR1cmVTdGFja1RyYWNlLENwPUdkLHZwPWZpKFwiaXRlcmF0b3JcIiksSXA9QXJyYXkucHJvdG90eXBlLHlwPUVyLEFwPUZ0LGJwPVFlLHdwPUdkLE9wPWZpKFwiaXRlcmF0b3JcIiksTnA9ZnVuY3Rpb24oZSl7aWYoIWJwKGUpKXJldHVybiBBcChlLE9wKXx8QXAoZSxcIkBAaXRlcmF0b3JcIil8fHdwW3lwKGUpXX0sRHA9VmUsUHA9VXQsTHA9Y24sa3A9UHQsTXA9TnAsVXA9VHlwZUVycm9yLHhwPVZlLFZwPWNuLEZwPUZ0LEJwPXRuLGpwPVZlLEdwPWNuLFdwPVB0LEhwPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYoQ3AuQXJyYXk9PT1lfHxJcFt2cF09PT1lKX0sS3A9WW4sWXA9RWUscXA9ZnVuY3Rpb24oZSx0KXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPDI/TXAoZSk6dDtpZihQcChpKSlyZXR1cm4gTHAoRHAoaSxlKSk7dGhyb3cgVXAoa3AoZSkrXCIgaXMgbm90IGl0ZXJhYmxlXCIpfSxKcD1OcCx6cD1mdW5jdGlvbihlLHQsaSl7dmFyIG4scjtWcChlKTt0cnl7aWYoIShuPUZwKGUsXCJyZXR1cm5cIikpKXtpZihcInRocm93XCI9PT10KXRocm93IGk7cmV0dXJuIGl9bj14cChuLGUpfWNhdGNoKGUpe3I9ITAsbj1lfWlmKFwidGhyb3dcIj09PXQpdGhyb3cgaTtpZihyKXRocm93IG47cmV0dXJuIFZwKG4pLGl9LFhwPVR5cGVFcnJvcixRcD1mdW5jdGlvbihlLHQpe3RoaXMuc3RvcHBlZD1lLHRoaXMucmVzdWx0PXR9LFpwPVFwLnByb3RvdHlwZSwkcD1mdW5jdGlvbihlLHQsaSl7dmFyIG4scixzLG8sYSxjLGQsbD1pJiZpLnRoYXQsaD0hKCFpfHwhaS5BU19FTlRSSUVTKSx1PSEoIWl8fCFpLklTX1JFQ09SRCkscD0hKCFpfHwhaS5JU19JVEVSQVRPUiksXz0hKCFpfHwhaS5JTlRFUlJVUFRFRCksRT1CcCh0LGwpLG09ZnVuY3Rpb24oZSl7cmV0dXJuIG4mJnpwKG4sXCJub3JtYWxcIixlKSxuZXcgUXAoITAsZSl9LGY9ZnVuY3Rpb24oZSl7cmV0dXJuIGg/KEdwKGUpLF8/RShlWzBdLGVbMV0sbSk6RShlWzBdLGVbMV0pKTpfP0UoZSxtKTpFKGUpfTtpZih1KW49ZS5pdGVyYXRvcjtlbHNlIGlmKHApbj1lO2Vsc2V7aWYoIShyPUpwKGUpKSl0aHJvdyBYcChXcChlKStcIiBpcyBub3QgaXRlcmFibGVcIik7aWYoSHAocikpe2ZvcihzPTAsbz1LcChlKTtvPnM7cysrKWlmKChhPWYoZVtzXSkpJiZZcChacCxhKSlyZXR1cm4gYTtyZXR1cm4gbmV3IFFwKCExKX1uPXFwKGUscil9Zm9yKGM9dT9lLm5leHQ6bi5uZXh0OyEoZD1qcChjLG4pKS5kb25lOyl7dHJ5e2E9ZihkLnZhbHVlKX1jYXRjaChlKXt6cChuLFwidGhyb3dcIixlKX1pZihcIm9iamVjdFwiPT10eXBlb2YgYSYmYSYmWXAoWnAsYSkpcmV0dXJuIGF9cmV0dXJuIG5ldyBRcCghMSl9LGVfPWdyLHRfPWtuLGlfPUVlLG5fPW5sLHJfPXdsLHNfPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG49b3AodCkscj1jcC5mLHM9YXAuZixvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBhPW5bb107c3AoZSxhKXx8aSYmc3AoaSxhKXx8cihlLGEscyh0LGEpKX19LG9fPWdvLGFfPUNuLGNfPUtlLGRfPWZ1bmN0aW9uKGUsdCl7ZHAodCkmJlwiY2F1c2VcImluIHQmJmxwKGUsXCJjYXVzZVwiLHQuY2F1c2UpfSxsXz1mdW5jdGlvbihlLHQsaSxuKXtUcCYmKFJwP1JwKGUsdCk6Z3AoZSxcInN0YWNrXCIsU3AoaSxuKSkpfSxoXz0kcCx1Xz1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT1lP2FyZ3VtZW50cy5sZW5ndGg8Mj9cIlwiOnQ6ZV8oZSl9LHBfPWZpKFwidG9TdHJpbmdUYWdcIiksX189RXJyb3IsRV89W10ucHVzaCxtXz1mdW5jdGlvbihlLHQpe3ZhciBpLG49aV8oZl8sdGhpcyk7cl8/aT1yXyhfXygpLG4/bl8odGhpcyk6Zl8pOihpPW4/dGhpczpvXyhmXyksYV8oaSxwXyxcIkVycm9yXCIpKSx2b2lkIDAhPT10JiZhXyhpLFwibWVzc2FnZVwiLHVfKHQpKSxsXyhpLG1fLGkuc3RhY2ssMSksYXJndW1lbnRzLmxlbmd0aD4yJiZkXyhpLGFyZ3VtZW50c1syXSk7dmFyIHI9W107cmV0dXJuIGhfKGUsRV8se3RoYXQ6cn0pLGFfKGksXCJlcnJvcnNcIixyKSxpfTtyXz9yXyhtXyxfXyk6c18obV8sX18se25hbWU6ITB9KTt2YXIgZl89bV8ucHJvdG90eXBlPW9fKF9fLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6Y18oMSxtXyksbWVzc2FnZTpjXygxLFwiXCIpLG5hbWU6Y18oMSxcIkFnZ3JlZ2F0ZUVycm9yXCIpfSk7dF8oe2dsb2JhbDohMCxjb25zdHJ1Y3RvcjohMCxhcml0eToyfSx7QWdncmVnYXRlRXJyb3I6bV99KTt2YXIgZ18sU18sVF8sUl8sQ189XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHByb2Nlc3MmJlwicHJvY2Vzc1wiPT1BZShwcm9jZXNzKSx2Xz11dCxJXz1Wbyx5Xz1NZSxBXz1maShcInNwZWNpZXNcIiksYl89RWUsd189VHlwZUVycm9yLE9fPWxzLE5fPVB0LERfPVR5cGVFcnJvcixQXz1jbixMXz1mdW5jdGlvbihlKXtpZihPXyhlKSlyZXR1cm4gZTt0aHJvdyBEXyhOXyhlKStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKX0sa189UWUsTV89ZmkoXCJzcGVjaWVzXCIpLFVfPWZ1bmN0aW9uKGUsdCl7dmFyIGksbj1QXyhlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09bnx8a18oaT1QXyhuKVtNX10pP3Q6TF8oaSl9LHhfPVR5cGVFcnJvcixWXz0vKD86aXBhZHxpcGhvbmV8aXBvZCkuKmFwcGxld2Via2l0L2kudGVzdChwdCksRl89ZmUsQl89Q2Usal89dG4sR189TGUsV189bmksSF89Y2UsS189ZW8sWV89aWQscV89RGksSl89ZnVuY3Rpb24oZSx0KXtpZihlPHQpdGhyb3cgeF8oXCJOb3QgZW5vdWdoIGFyZ3VtZW50c1wiKTtyZXR1cm4gZX0sel89Vl8sWF89Q18sUV89Rl8uc2V0SW1tZWRpYXRlLFpfPUZfLmNsZWFySW1tZWRpYXRlLCRfPUZfLnByb2Nlc3MsZUU9Rl8uRGlzcGF0Y2gsdEU9Rl8uRnVuY3Rpb24saUU9Rl8uTWVzc2FnZUNoYW5uZWwsbkU9Rl8uU3RyaW5nLHJFPTAsc0U9e30sb0U9XCJvbnJlYWR5c3RhdGVjaGFuZ2VcIjtIXygoZnVuY3Rpb24oKXtnXz1GXy5sb2NhdGlvbn0pKTt2YXIgYUU9ZnVuY3Rpb24oZSl7aWYoV18oc0UsZSkpe3ZhciB0PXNFW2VdO2RlbGV0ZSBzRVtlXSx0KCl9fSxjRT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXthRShlKX19LGRFPWZ1bmN0aW9uKGUpe2FFKGUuZGF0YSl9LGxFPWZ1bmN0aW9uKGUpe0ZfLnBvc3RNZXNzYWdlKG5FKGUpLGdfLnByb3RvY29sK1wiLy9cIitnXy5ob3N0KX07UV8mJlpffHwoUV89ZnVuY3Rpb24oZSl7Sl8oYXJndW1lbnRzLmxlbmd0aCwxKTt2YXIgdD1HXyhlKT9lOnRFKGUpLGk9WV8oYXJndW1lbnRzLDEpO3JldHVybiBzRVsrK3JFXT1mdW5jdGlvbigpe0JfKHQsdm9pZCAwLGkpfSxTXyhyRSksckV9LFpfPWZ1bmN0aW9uKGUpe2RlbGV0ZSBzRVtlXX0sWF8/U189ZnVuY3Rpb24oZSl7JF8ubmV4dFRpY2soY0UoZSkpfTplRSYmZUUubm93P1NfPWZ1bmN0aW9uKGUpe2VFLm5vdyhjRShlKSl9OmlFJiYhel8/KFJfPShUXz1uZXcgaUUpLnBvcnQyLFRfLnBvcnQxLm9ubWVzc2FnZT1kRSxTXz1qXyhSXy5wb3N0TWVzc2FnZSxSXykpOkZfLmFkZEV2ZW50TGlzdGVuZXImJkdfKEZfLnBvc3RNZXNzYWdlKSYmIUZfLmltcG9ydFNjcmlwdHMmJmdfJiZcImZpbGU6XCIhPT1nXy5wcm90b2NvbCYmIUhfKGxFKT8oU189bEUsRl8uYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixkRSwhMSkpOlNfPW9FIGluIHFfKFwic2NyaXB0XCIpP2Z1bmN0aW9uKGUpe0tfLmFwcGVuZENoaWxkKHFfKFwic2NyaXB0XCIpKVtvRV09ZnVuY3Rpb24oKXtLXy5yZW1vdmVDaGlsZCh0aGlzKSxhRShlKX19OmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoY0UoZSksMCl9KTt2YXIgaEU9e3NldDpRXyxjbGVhcjpaX30sdUU9ZnVuY3Rpb24oKXt0aGlzLmhlYWQ9bnVsbCx0aGlzLnRhaWw9bnVsbH07dUUucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24oZSl7dmFyIHQ9e2l0ZW06ZSxuZXh0Om51bGx9LGk9dGhpcy50YWlsO2k/aS5uZXh0PXQ6dGhpcy5oZWFkPXQsdGhpcy50YWlsPXR9LGdldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaGVhZDtpZihlKXJldHVybiBudWxsPT09KHRoaXMuaGVhZD1lLm5leHQpJiYodGhpcy50YWlsPW51bGwpLGUuaXRlbX19O3ZhciBwRSxfRSxFRSxtRSxmRSxnRT11RSxTRT0vaXBhZHxpcGhvbmV8aXBvZC9pLnRlc3QocHQpJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgUGViYmxlLFRFPS93ZWIwcyg/IS4qY2hyb21lKS9pLnRlc3QocHQpLFJFPWZlLENFPXRuLHZFPWtlLmYsSUU9aEUuc2V0LHlFPWdFLEFFPVZfLGJFPVNFLHdFPVRFLE9FPUNfLE5FPVJFLk11dGF0aW9uT2JzZXJ2ZXJ8fFJFLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsREU9UkUuZG9jdW1lbnQsUEU9UkUucHJvY2VzcyxMRT1SRS5Qcm9taXNlLGtFPXZFKFJFLFwicXVldWVNaWNyb3Rhc2tcIiksTUU9a0UmJmtFLnZhbHVlO2lmKCFNRSl7dmFyIFVFPW5ldyB5RSx4RT1mdW5jdGlvbigpe3ZhciBlLHQ7Zm9yKE9FJiYoZT1QRS5kb21haW4pJiZlLmV4aXQoKTt0PVVFLmdldCgpOyl0cnl7dCgpfWNhdGNoKGUpe3Rocm93IFVFLmhlYWQmJnBFKCksZX1lJiZlLmVudGVyKCl9O0FFfHxPRXx8d0V8fCFORXx8IURFPyFiRSYmTEUmJkxFLnJlc29sdmU/KChtRT1MRS5yZXNvbHZlKHZvaWQgMCkpLmNvbnN0cnVjdG9yPUxFLGZFPUNFKG1FLnRoZW4sbUUpLHBFPWZ1bmN0aW9uKCl7ZkUoeEUpfSk6T0U/cEU9ZnVuY3Rpb24oKXtQRS5uZXh0VGljayh4RSl9OihJRT1DRShJRSxSRSkscEU9ZnVuY3Rpb24oKXtJRSh4RSl9KTooX0U9ITAsRUU9REUuY3JlYXRlVGV4dE5vZGUoXCJcIiksbmV3IE5FKHhFKS5vYnNlcnZlKEVFLHtjaGFyYWN0ZXJEYXRhOiEwfSkscEU9ZnVuY3Rpb24oKXtFRS5kYXRhPV9FPSFfRX0pLE1FPWZ1bmN0aW9uKGUpe1VFLmhlYWR8fHBFKCksVUUuYWRkKGUpfX12YXIgVkU9TUUsRkU9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybntlcnJvcjohMSx2YWx1ZTplKCl9fWNhdGNoKGUpe3JldHVybntlcnJvcjohMCx2YWx1ZTplfX19LEJFPWZlLlByb21pc2UsakU9XCJvYmplY3RcIj09dHlwZW9mIERlbm8mJkRlbm8mJlwib2JqZWN0XCI9PXR5cGVvZiBEZW5vLnZlcnNpb24sR0U9IWpFJiYhQ18mJlwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJlwib2JqZWN0XCI9PXR5cGVvZiBkb2N1bWVudCxXRT1mZSxIRT1CRSxLRT1MZSxZRT1RaSxxRT1YcixKRT1maSx6RT1HRSxYRT1qRSxRRT1UdCxaRT1IRSYmSEUucHJvdG90eXBlLCRFPUpFKFwic3BlY2llc1wiKSxlbT0hMSx0bT1LRShXRS5Qcm9taXNlUmVqZWN0aW9uRXZlbnQpLGltPVlFKFwiUHJvbWlzZVwiLChmdW5jdGlvbigpe3ZhciBlPXFFKEhFKSx0PWUhPT1TdHJpbmcoSEUpO2lmKCF0JiY2Nj09PVFFKXJldHVybiEwO2lmKCFaRS5jYXRjaHx8IVpFLmZpbmFsbHkpcmV0dXJuITA7aWYoIVFFfHxRRTw1MXx8IS9uYXRpdmUgY29kZS8udGVzdChlKSl7dmFyIGk9bmV3IEhFKChmdW5jdGlvbihlKXtlKDEpfSkpLG49ZnVuY3Rpb24oZSl7ZSgoZnVuY3Rpb24oKXt9KSwoZnVuY3Rpb24oKXt9KSl9O2lmKChpLmNvbnN0cnVjdG9yPXt9KVskRV09biwhKGVtPWkudGhlbigoZnVuY3Rpb24oKXt9KSlpbnN0YW5jZW9mIG4pKXJldHVybiEwfXJldHVybiF0JiYoekV8fFhFKSYmIXRtfSkpLG5tPXtDT05TVFJVQ1RPUjppbSxSRUpFQ1RJT05fRVZFTlQ6dG0sU1VCQ0xBU1NJTkc6ZW19LHJtPXt9LHNtPVV0LG9tPVR5cGVFcnJvcixhbT1mdW5jdGlvbihlKXt2YXIgdCxpO3RoaXMucHJvbWlzZT1uZXcgZSgoZnVuY3Rpb24oZSxuKXtpZih2b2lkIDAhPT10fHx2b2lkIDAhPT1pKXRocm93IG9tKFwiQmFkIFByb21pc2UgY29uc3RydWN0b3JcIik7dD1lLGk9bn0pKSx0aGlzLnJlc29sdmU9c20odCksdGhpcy5yZWplY3Q9c20oaSl9O3JtLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBhbShlKX07dmFyIGNtLGRtLGxtPWtuLGhtPUNfLHVtPWZlLHBtPVZlLF9tPVVvLEVtPWNhLG1tPWZ1bmN0aW9uKGUpe3ZhciB0PXZfKGUpO3lfJiZ0JiYhdFtBX10mJklfKHQsQV8se2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX0sZm09VXQsZ209TGUsU209b3QsVG09ZnVuY3Rpb24oZSx0KXtpZihiXyh0LGUpKXJldHVybiBlO3Rocm93IHdfKFwiSW5jb3JyZWN0IGludm9jYXRpb25cIil9LFJtPVVfLENtPWhFLnNldCx2bT1WRSxJbT1mdW5jdGlvbihlLHQpe3RyeXsxPT1hcmd1bWVudHMubGVuZ3RoP2NvbnNvbGUuZXJyb3IoZSk6Y29uc29sZS5lcnJvcihlLHQpfWNhdGNoKGUpe319LHltPUZFLEFtPWdFLGJtPUlhLHdtPUJFLE9tPW5tLE5tPXJtLERtPVwiUHJvbWlzZVwiLFBtPU9tLkNPTlNUUlVDVE9SLExtPU9tLlJFSkVDVElPTl9FVkVOVCxrbT1ibS5nZXR0ZXJGb3IoRG0pLE1tPWJtLnNldCxVbT13bSYmd20ucHJvdG90eXBlLHhtPXdtLFZtPVVtLEZtPXVtLlR5cGVFcnJvcixCbT11bS5kb2N1bWVudCxqbT11bS5wcm9jZXNzLEdtPU5tLmYsV209R20sSG09ISEoQm0mJkJtLmNyZWF0ZUV2ZW50JiZ1bS5kaXNwYXRjaEV2ZW50KSxLbT1cInVuaGFuZGxlZHJlamVjdGlvblwiLFltPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiEoIVNtKGUpfHwhZ20odD1lLnRoZW4pKSYmdH0scW09ZnVuY3Rpb24oZSx0KXt2YXIgaSxuLHIscz10LnZhbHVlLG89MT09dC5zdGF0ZSxhPW8/ZS5vazplLmZhaWwsYz1lLnJlc29sdmUsZD1lLnJlamVjdCxsPWUuZG9tYWluO3RyeXthPyhvfHwoMj09PXQucmVqZWN0aW9uJiZabSh0KSx0LnJlamVjdGlvbj0xKSwhMD09PWE/aT1zOihsJiZsLmVudGVyKCksaT1hKHMpLGwmJihsLmV4aXQoKSxyPSEwKSksaT09PWUucHJvbWlzZT9kKEZtKFwiUHJvbWlzZS1jaGFpbiBjeWNsZVwiKSk6KG49WW0oaSkpP3BtKG4saSxjLGQpOmMoaSkpOmQocyl9Y2F0Y2goZSl7bCYmIXImJmwuZXhpdCgpLGQoZSl9fSxKbT1mdW5jdGlvbihlLHQpe2Uubm90aWZpZWR8fChlLm5vdGlmaWVkPSEwLHZtKChmdW5jdGlvbigpe2Zvcih2YXIgaSxuPWUucmVhY3Rpb25zO2k9bi5nZXQoKTspcW0oaSxlKTtlLm5vdGlmaWVkPSExLHQmJiFlLnJlamVjdGlvbiYmWG0oZSl9KSkpfSx6bT1mdW5jdGlvbihlLHQsaSl7dmFyIG4scjtIbT8oKG49Qm0uY3JlYXRlRXZlbnQoXCJFdmVudFwiKSkucHJvbWlzZT10LG4ucmVhc29uPWksbi5pbml0RXZlbnQoZSwhMSwhMCksdW0uZGlzcGF0Y2hFdmVudChuKSk6bj17cHJvbWlzZTp0LHJlYXNvbjppfSwhTG0mJihyPXVtW1wib25cIitlXSk/cihuKTplPT09S20mJkltKFwiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uXCIsaSl9LFhtPWZ1bmN0aW9uKGUpe3BtKENtLHVtLChmdW5jdGlvbigpe3ZhciB0LGk9ZS5mYWNhZGUsbj1lLnZhbHVlO2lmKFFtKGUpJiYodD15bSgoZnVuY3Rpb24oKXtobT9qbS5lbWl0KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsbixpKTp6bShLbSxpLG4pfSkpLGUucmVqZWN0aW9uPWhtfHxRbShlKT8yOjEsdC5lcnJvcikpdGhyb3cgdC52YWx1ZX0pKX0sUW09ZnVuY3Rpb24oZSl7cmV0dXJuIDEhPT1lLnJlamVjdGlvbiYmIWUucGFyZW50fSxabT1mdW5jdGlvbihlKXtwbShDbSx1bSwoZnVuY3Rpb24oKXt2YXIgdD1lLmZhY2FkZTtobT9qbS5lbWl0KFwicmVqZWN0aW9uSGFuZGxlZFwiLHQpOnptKFwicmVqZWN0aW9uaGFuZGxlZFwiLHQsZS52YWx1ZSl9KSl9LCRtPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZnVuY3Rpb24obil7ZSh0LG4saSl9fSxlZj1mdW5jdGlvbihlLHQsaSl7ZS5kb25lfHwoZS5kb25lPSEwLGkmJihlPWkpLGUudmFsdWU9dCxlLnN0YXRlPTIsSm0oZSwhMCkpfSx0Zj1mdW5jdGlvbihlLHQsaSl7aWYoIWUuZG9uZSl7ZS5kb25lPSEwLGkmJihlPWkpO3RyeXtpZihlLmZhY2FkZT09PXQpdGhyb3cgRm0oXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTt2YXIgbj1ZbSh0KTtuP3ZtKChmdW5jdGlvbigpe3ZhciBpPXtkb25lOiExfTt0cnl7cG0obix0LCRtKHRmLGksZSksJG0oZWYsaSxlKSl9Y2F0Y2godCl7ZWYoaSx0LGUpfX0pKTooZS52YWx1ZT10LGUuc3RhdGU9MSxKbShlLCExKSl9Y2F0Y2godCl7ZWYoe2RvbmU6ITF9LHQsZSl9fX07UG0mJihWbT0oeG09ZnVuY3Rpb24oZSl7VG0odGhpcyxWbSksZm0oZSkscG0oY20sdGhpcyk7dmFyIHQ9a20odGhpcyk7dHJ5e2UoJG0odGYsdCksJG0oZWYsdCkpfWNhdGNoKGUpe2VmKHQsZSl9fSkucHJvdG90eXBlLChjbT1mdW5jdGlvbihlKXtNbSh0aGlzLHt0eXBlOkRtLGRvbmU6ITEsbm90aWZpZWQ6ITEscGFyZW50OiExLHJlYWN0aW9uczpuZXcgQW0scmVqZWN0aW9uOiExLHN0YXRlOjAsdmFsdWU6dm9pZCAwfSl9KS5wcm90b3R5cGU9X20oVm0sXCJ0aGVuXCIsKGZ1bmN0aW9uKGUsdCl7dmFyIGk9a20odGhpcyksbj1HbShSbSh0aGlzLHhtKSk7cmV0dXJuIGkucGFyZW50PSEwLG4ub2s9IWdtKGUpfHxlLG4uZmFpbD1nbSh0KSYmdCxuLmRvbWFpbj1obT9qbS5kb21haW46dm9pZCAwLDA9PWkuc3RhdGU/aS5yZWFjdGlvbnMuYWRkKG4pOnZtKChmdW5jdGlvbigpe3FtKG4saSl9KSksbi5wcm9taXNlfSkpLGRtPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGNtLHQ9a20oZSk7dGhpcy5wcm9taXNlPWUsdGhpcy5yZXNvbHZlPSRtKHRmLHQpLHRoaXMucmVqZWN0PSRtKGVmLHQpfSxObS5mPUdtPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09eG18fHVuZGVmaW5lZD09PWU/bmV3IGRtKGUpOldtKGUpfSksbG0oe2dsb2JhbDohMCxjb25zdHJ1Y3RvcjohMCx3cmFwOiEwLGZvcmNlZDpQbX0se1Byb21pc2U6eG19KSxFbSh4bSxEbSwhMSwhMCksbW0oRG0pO3ZhciBuZj1maShcIml0ZXJhdG9yXCIpLHJmPSExO3RyeXt2YXIgc2Y9MCxvZj17bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOiEhc2YrK319LHJldHVybjpmdW5jdGlvbigpe3JmPSEwfX07b2ZbbmZdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEFycmF5LmZyb20ob2YsKGZ1bmN0aW9uKCl7dGhyb3cgMn0pKX1jYXRjaChlKXt9dmFyIGFmPUJFLGNmPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFyZilyZXR1cm4hMTt2YXIgaT0hMTt0cnl7dmFyIG49e307bltuZl09ZnVuY3Rpb24oKXtyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOmk9ITB9fX19LGUobil9Y2F0Y2goZSl7fXJldHVybiBpfSxkZj1ubS5DT05TVFJVQ1RPUnx8IWNmKChmdW5jdGlvbihlKXthZi5hbGwoZSkudGhlbih2b2lkIDAsKGZ1bmN0aW9uKCl7fSkpfSkpLGxmPVZlLGhmPVV0LHVmPXJtLHBmPUZFLF9mPSRwO2tuKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6ZGZ9LHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxpPXVmLmYodCksbj1pLnJlc29sdmUscj1pLnJlamVjdCxzPXBmKChmdW5jdGlvbigpe3ZhciBpPWhmKHQucmVzb2x2ZSkscz1bXSxvPTAsYT0xO19mKGUsKGZ1bmN0aW9uKGUpe3ZhciBjPW8rKyxkPSExO2ErKyxsZihpLHQsZSkudGhlbigoZnVuY3Rpb24oZSl7ZHx8KGQ9ITAsc1tjXT1lLC0tYXx8bihzKSl9KSxyKX0pKSwtLWF8fG4ocyl9KSk7cmV0dXJuIHMuZXJyb3ImJnIocy52YWx1ZSksaS5wcm9taXNlfX0pO3ZhciBFZj1rbixtZj1ubS5DT05TVFJVQ1RPUjtCRSYmQkUucHJvdG90eXBlLEVmKHt0YXJnZXQ6XCJQcm9taXNlXCIscHJvdG86ITAsZm9yY2VkOm1mLHJlYWw6ITB9LHtjYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KTt2YXIgZmY9VmUsZ2Y9VXQsU2Y9cm0sVGY9RkUsUmY9JHA7a24oe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDpkZn0se3JhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxpPVNmLmYodCksbj1pLnJlamVjdCxyPVRmKChmdW5jdGlvbigpe3ZhciByPWdmKHQucmVzb2x2ZSk7UmYoZSwoZnVuY3Rpb24oZSl7ZmYocix0LGUpLnRoZW4oaS5yZXNvbHZlLG4pfSkpfSkpO3JldHVybiByLmVycm9yJiZuKHIudmFsdWUpLGkucHJvbWlzZX19KTt2YXIgQ2Y9VmUsdmY9cm07a24oe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDpubS5DT05TVFJVQ1RPUn0se3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD12Zi5mKHRoaXMpO3JldHVybiBDZih0LnJlamVjdCx2b2lkIDAsZSksdC5wcm9taXNlfX0pO3ZhciBJZj1jbix5Zj1vdCxBZj1ybSxiZj1mdW5jdGlvbihlLHQpe2lmKElmKGUpLHlmKHQpJiZ0LmNvbnN0cnVjdG9yPT09ZSlyZXR1cm4gdDt2YXIgaT1BZi5mKGUpO3JldHVybigwLGkucmVzb2x2ZSkodCksaS5wcm9taXNlfSx3Zj1rbixPZj1CRSxOZj1ubS5DT05TVFJVQ1RPUixEZj1iZixQZj11dChcIlByb21pc2VcIiksTGY9IU5mO3dmKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6dHJ1ZX0se3Jlc29sdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIERmKExmJiZ0aGlzPT09UGY/T2Y6dGhpcyxlKX19KTt2YXIga2Y9VmUsTWY9VXQsVWY9cm0seGY9RkUsVmY9JHA7a24oe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDpkZn0se2FsbFNldHRsZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxpPVVmLmYodCksbj1pLnJlc29sdmUscj1pLnJlamVjdCxzPXhmKChmdW5jdGlvbigpe3ZhciBpPU1mKHQucmVzb2x2ZSkscj1bXSxzPTAsbz0xO1ZmKGUsKGZ1bmN0aW9uKGUpe3ZhciBhPXMrKyxjPSExO28rKyxrZihpLHQsZSkudGhlbigoZnVuY3Rpb24oZSl7Y3x8KGM9ITAsclthXT17c3RhdHVzOlwiZnVsZmlsbGVkXCIsdmFsdWU6ZX0sLS1vfHxuKHIpKX0pLChmdW5jdGlvbihlKXtjfHwoYz0hMCxyW2FdPXtzdGF0dXM6XCJyZWplY3RlZFwiLHJlYXNvbjplfSwtLW98fG4ocikpfSkpfSkpLC0tb3x8bihyKX0pKTtyZXR1cm4gcy5lcnJvciYmcihzLnZhbHVlKSxpLnByb21pc2V9fSk7dmFyIEZmPVZlLEJmPVV0LGpmPXV0LEdmPXJtLFdmPUZFLEhmPSRwLEtmPVwiTm8gb25lIHByb21pc2UgcmVzb2x2ZWRcIjtrbih7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOmRmfSx7YW55OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsaT1qZihcIkFnZ3JlZ2F0ZUVycm9yXCIpLG49R2YuZih0KSxyPW4ucmVzb2x2ZSxzPW4ucmVqZWN0LG89V2YoKGZ1bmN0aW9uKCl7dmFyIG49QmYodC5yZXNvbHZlKSxvPVtdLGE9MCxjPTEsZD0hMTtIZihlLChmdW5jdGlvbihlKXt2YXIgbD1hKyssaD0hMTtjKyssRmYobix0LGUpLnRoZW4oKGZ1bmN0aW9uKGUpe2h8fGR8fChkPSEwLHIoZSkpfSksKGZ1bmN0aW9uKGUpe2h8fGR8fChoPSEwLG9bbF09ZSwtLWN8fHMobmV3IGkobyxLZikpKX0pKX0pKSwtLWN8fHMobmV3IGkobyxLZikpfSkpO3JldHVybiBvLmVycm9yJiZzKG8udmFsdWUpLG4ucHJvbWlzZX19KTt2YXIgWWY9a24scWY9QkUsSmY9Y2UsemY9dXQsWGY9TGUsUWY9VV8sWmY9YmYsJGY9cWYmJnFmLnByb3RvdHlwZTtZZih7dGFyZ2V0OlwiUHJvbWlzZVwiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOiEhcWYmJkpmKChmdW5jdGlvbigpeyRmLmZpbmFsbHkuY2FsbCh7dGhlbjpmdW5jdGlvbigpe319LChmdW5jdGlvbigpe30pKX0pKX0se2ZpbmFsbHk6ZnVuY3Rpb24oZSl7dmFyIHQ9UWYodGhpcyx6ZihcIlByb21pc2VcIikpLGk9WGYoZSk7cmV0dXJuIHRoaXMudGhlbihpP2Z1bmN0aW9uKGkpe3JldHVybiBaZih0LGUoKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKX06ZSxpP2Z1bmN0aW9uKGkpe3JldHVybiBaZih0LGUoKSkudGhlbigoZnVuY3Rpb24oKXt0aHJvdyBpfSkpfTplKX19KTt2YXIgZWc9YXQuUHJvbWlzZSx0Zz1KKGVnKTtjb25zdCBpZz0oKT0+e307ZnVuY3Rpb24gbmcoKXtjb25zdCBlPXtwcm9taXNlOnZvaWQgMCxpc1Jlc29sdmVkOiExLGlzUmVqZWN0ZWQ6ITEsaXNGaW5pc2hlZDohMSxyZXNvbHZlOnZvaWQgMCxyZWplY3Q6dm9pZCAwLGNhbmNlbDppZ307cmV0dXJuIGUucHJvbWlzZT1uZXcgdGcoKCh0LGkpPT57ZS5yZXNvbHZlPWk9PntlLmlzRmluaXNoZWR8fChlLmlzUmVzb2x2ZWQ9ITAsZS5pc0ZpbmlzaGVkPSEwLHQoaSksZS52YWx1ZT1pKX0sZS5yZWplY3Q9dD0+e2UuaXNGaW5pc2hlZHx8KGUuaXNSZWplY3RlZD0hMCxlLmlzRmluaXNoZWQ9ITAsaSh0KSl9fSkpLGV9Y29uc3Qgcmc9bmV3IE1hcCxzZz1uZXcgTWFwLG9nPW5ldyBNYXA7dmFyIGFnLGNnOyFmdW5jdGlvbihlKXtlLldJTl8xMD1cIldpbmRvd3MgMTBcIixlLldJTl84MT1cIldpbmRvd3MgOC4xXCIsZS5XSU5fOD1cIldpbmRvd3MgOFwiLGUuV0lOXzc9XCJXaW5kb3dzIDdcIixlLldJTl9WSVNUQT1cIldpbmRvd3MgVmlzdGFcIixlLldJTl9TRVJWRVJfMjAwMz1cIldpbmRvd3MgU2VydmVyIDIwMDNcIixlLldJTl9YUD1cIldpbmRvd3MgWFBcIixlLldJTl8yMDAwPVwiV2luZG93cyAyMDAwXCIsZS5BTkRST0lEPVwiQW5kcm9pZFwiLGUuSEFSTU9OWV9PUz1cIkhhcm1vbnlPU1wiLGUuT1BFTl9CU0Q9XCJPcGVuIEJTRFwiLGUuU1VOX09TPVwiU3VuIE9TXCIsZS5MSU5VWD1cIkxpbnV4XCIsZS5JT1M9XCJpT1NcIixlLk1BQ19PUz1cIk1hYyBPU1wiLGUuUU5YPVwiUU5YXCIsZS5VTklYPVwiVU5JWFwiLGUuQkVPUz1cIkJlT1NcIixlLk9TXzI9XCJPUy8yXCIsZS5TRUFSQ0hfQk9UPVwiU2VhcmNoIEJvdFwifShhZ3x8KGFnPXt9KSksZnVuY3Rpb24oZSl7ZS5DSFJPTUU9XCJDaHJvbWVcIixlLlNBRkFSST1cIlNhZmFyaVwiLGUuRURHRT1cIkVkZ2VcIixlLkZJUkVGT1g9XCJGaXJlZm94XCIsZS5PUEVSQT1cIk9QUlwiLGUuUVE9XCJRUUJyb3dzZXJcIixlLldFQ0hBVD1cIk1pY3JvTWVzc2VuZ2VyXCJ9KGNnfHwoY2c9e30pKTt2YXIgZGc9e2V4cG9ydHM6e319OyFmdW5jdGlvbihlLHQpeyFmdW5jdGlvbihpLG4pe3ZhciByPVwiZnVuY3Rpb25cIixzPVwidW5kZWZpbmVkXCIsbz1cIm9iamVjdFwiLGE9XCJzdHJpbmdcIixjPVwibWFqb3JcIixkPVwibW9kZWxcIixsPVwibmFtZVwiLGg9XCJ0eXBlXCIsdT1cInZlbmRvclwiLHA9XCJ2ZXJzaW9uXCIsXz1cImFyY2hpdGVjdHVyZVwiLEU9XCJjb25zb2xlXCIsbT1cIm1vYmlsZVwiLGY9XCJ0YWJsZXRcIixnPVwic21hcnR0dlwiLFM9XCJ3ZWFyYWJsZVwiLFQ9XCJlbWJlZGRlZFwiLFI9XCJBbWF6b25cIixDPVwiQXBwbGVcIix2PVwiQVNVU1wiLEk9XCJCbGFja0JlcnJ5XCIseT1cIkJyb3dzZXJcIixBPVwiQ2hyb21lXCIsYj1cIkZpcmVmb3hcIix3PVwiR29vZ2xlXCIsTz1cIkh1YXdlaVwiLE49XCJMR1wiLEQ9XCJNaWNyb3NvZnRcIixQPVwiTW90b3JvbGFcIixMPVwiT3BlcmFcIixrPVwiU2Ftc3VuZ1wiLE09XCJTaGFycFwiLFU9XCJTb255XCIseD1cIlhpYW9taVwiLFY9XCJaZWJyYVwiLEY9XCJGYWNlYm9va1wiLEI9XCJDaHJvbWl1bSBPU1wiLGo9XCJNYWMgT1NcIixHPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17fSxpPTA7aTxlLmxlbmd0aDtpKyspdFtlW2ldLnRvVXBwZXJDYXNlKCldPWVbaV07cmV0dXJuIHR9LFc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHlwZW9mIGU9PT1hJiYtMSE9PUgodCkuaW5kZXhPZihIKGUpKX0sSD1mdW5jdGlvbihlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpfSxLPWZ1bmN0aW9uKGUsdCl7aWYodHlwZW9mIGU9PT1hKXJldHVybiBlPWUucmVwbGFjZSgvXlxcc1xccyovLFwiXCIpLHR5cGVvZiB0PT09cz9lOmUuc3Vic3RyaW5nKDAsMzUwKX0sWT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaSxzLGEsYyxkLGwsaD0wO2g8dC5sZW5ndGgmJiFkOyl7dmFyIHU9dFtoXSxwPXRbaCsxXTtmb3IoaT1zPTA7aTx1Lmxlbmd0aCYmIWQmJnVbaV07KWlmKGQ9dVtpKytdLmV4ZWMoZSkpZm9yKGE9MDthPHAubGVuZ3RoO2ErKylsPWRbKytzXSx0eXBlb2YoYz1wW2FdKT09PW8mJmMubGVuZ3RoPjA/Mj09PWMubGVuZ3RoP3R5cGVvZiBjWzFdPT1yP3RoaXNbY1swXV09Y1sxXS5jYWxsKHRoaXMsbCk6dGhpc1tjWzBdXT1jWzFdOjM9PT1jLmxlbmd0aD90eXBlb2YgY1sxXSE9PXJ8fGNbMV0uZXhlYyYmY1sxXS50ZXN0P3RoaXNbY1swXV09bD9sLnJlcGxhY2UoY1sxXSxjWzJdKTpuOnRoaXNbY1swXV09bD9jWzFdLmNhbGwodGhpcyxsLGNbMl0pOm46ND09PWMubGVuZ3RoJiYodGhpc1tjWzBdXT1sP2NbM10uY2FsbCh0aGlzLGwucmVwbGFjZShjWzFdLGNbMl0pKTpuKTp0aGlzW2NdPWx8fG47aCs9Mn19LHE9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGkgaW4gdClpZih0eXBlb2YgdFtpXT09PW8mJnRbaV0ubGVuZ3RoPjApe2Zvcih2YXIgcj0wO3I8dFtpXS5sZW5ndGg7cisrKWlmKFcodFtpXVtyXSxlKSlyZXR1cm5cIj9cIj09PWk/bjppfWVsc2UgaWYoVyh0W2ldLGUpKXJldHVyblwiP1wiPT09aT9uOmk7cmV0dXJuIGV9LEo9e01FOlwiNC45MFwiLFwiTlQgMy4xMVwiOlwiTlQzLjUxXCIsXCJOVCA0LjBcIjpcIk5UNC4wXCIsMmUzOlwiTlQgNS4wXCIsWFA6W1wiTlQgNS4xXCIsXCJOVCA1LjJcIl0sVmlzdGE6XCJOVCA2LjBcIiw3OlwiTlQgNi4xXCIsODpcIk5UIDYuMlwiLDguMTpcIk5UIDYuM1wiLDEwOltcIk5UIDYuNFwiLFwiTlQgMTAuMFwiXSxSVDpcIkFSTVwifSx6PXticm93c2VyOltbL1xcYig/OmNybW98Y3Jpb3MpXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJDaHJvbWVcIl1dLFsvZWRnKD86ZXxpb3N8YSk/XFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJFZGdlXCJdXSxbLyhvcGVyYSBtaW5pKVxcLyhbLVxcd1xcLl0rKS9pLC8ob3BlcmEgW21vYmlsZXRhYl17Myw2fSlcXGIuK3ZlcnNpb25cXC8oWy1cXHdcXC5dKykvaSwvKG9wZXJhKSg/Oi4rdmVyc2lvblxcL3xbXFwvIF0rKShbXFx3XFwuXSspL2ldLFtsLHBdLFsvb3Bpb3NbXFwvIF0rKFtcXHdcXC5dKykvaV0sW3AsW2wsTCtcIiBNaW5pXCJdXSxbL1xcYm9wclxcLyhbXFx3XFwuXSspL2ldLFtwLFtsLExdXSxbLyhraW5kbGUpXFwvKFtcXHdcXC5dKykvaSwvKGx1bmFzY2FwZXxtYXh0aG9ufG5ldGZyb250fGphc21pbmV8YmxhemVyKVtcXC8gXT8oW1xcd1xcLl0qKS9pLC8oYXZhbnQgfGllbW9iaWxlfHNsaW0pKD86YnJvd3Nlcik/W1xcLyBdPyhbXFx3XFwuXSopL2ksLyhiYT9pZHVicm93c2VyKVtcXC8gXT8oW1xcd1xcLl0rKS9pLC8oPzptc3xcXCgpKGllKSAoW1xcd1xcLl0rKS9pLC8oZmxvY2t8cm9ja21lbHR8bWlkb3JpfGVwaXBoYW55fHNpbGt8c2t5ZmlyZXxvdmlicm93c2VyfGJvbHR8aXJvbnx2aXZhbGRpfGlyaWRpdW18cGhhbnRvbWpzfGJvd3NlcnxxdWFya3xxdXB6aWxsYXxmYWxrb258cmVrb25xfHB1ZmZpbnxicmF2ZXx3aGFsZSg/IS4rbmF2ZXIpfHFxYnJvd3NlcmxpdGV8cXF8ZHVja2R1Y2tnbylcXC8oWy1cXHdcXC5dKykvaSwvKHdlaWJvKV9fKFtcXGRcXC5dKykvaV0sW2wscF0sWy8oPzpcXGJ1Yz8gP2Jyb3dzZXJ8KD86anVjLispdWN3ZWIpW1xcLyBdPyhbXFx3XFwuXSspL2ldLFtwLFtsLFwiVUNcIit5XV0sWy9taWNyb20uK1xcYnFiY29yZVxcLyhbXFx3XFwuXSspL2ksL1xcYnFiY29yZVxcLyhbXFx3XFwuXSspLittaWNyb20vaV0sW3AsW2wsXCJXZUNoYXQoV2luKSBEZXNrdG9wXCJdXSxbL21pY3JvbWVzc2VuZ2VyXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJXZUNoYXRcIl1dLFsva29ucXVlcm9yXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJLb25xdWVyb3JcIl1dLFsvdHJpZGVudC4rcnZbOiBdKFtcXHdcXC5dezEsOX0pXFxiLitsaWtlIGdlY2tvL2ldLFtwLFtsLFwiSUVcIl1dLFsveWFicm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJZYW5kZXhcIl1dLFsvKGF2YXN0fGF2ZylcXC8oW1xcd1xcLl0rKS9pXSxbW2wsLyguKykvLFwiJDEgU2VjdXJlIFwiK3ldLHBdLFsvXFxiZm9jdXNcXC8oW1xcd1xcLl0rKS9pXSxbcCxbbCxiK1wiIEZvY3VzXCJdXSxbL1xcYm9wdFxcLyhbXFx3XFwuXSspL2ldLFtwLFtsLEwrXCIgVG91Y2hcIl1dLFsvY29jX2NvY1xcdytcXC8oW1xcd1xcLl0rKS9pXSxbcCxbbCxcIkNvYyBDb2NcIl1dLFsvZG9sZmluXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJEb2xwaGluXCJdXSxbL2NvYXN0XFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsTCtcIiBDb2FzdFwiXV0sWy9taXVpYnJvd3NlclxcLyhbXFx3XFwuXSspL2ldLFtwLFtsLFwiTUlVSSBcIit5XV0sWy9meGlvc1xcLyhbLVxcd1xcLl0rKS9pXSxbcCxbbCxiXV0sWy9cXGJxaWh1fChxaT9obz9vP3wzNjApYnJvd3Nlci9pXSxbW2wsXCIzNjAgXCIreV1dLFsvKG9jdWx1c3xzYW1zdW5nfHNhaWxmaXNofGh1YXdlaSlicm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW1tsLC8oLispLyxcIiQxIFwiK3ldLHBdLFsvKGNvbW9kb19kcmFnb24pXFwvKFtcXHdcXC5dKykvaV0sW1tsLC9fL2csXCIgXCJdLHBdLFsvKGVsZWN0cm9uKVxcLyhbXFx3XFwuXSspIHNhZmFyaS9pLC8odGVzbGEpKD86IHF0Y2FyYnJvd3NlcnxcXC8oMjBcXGRcXGRcXC5bLVxcd1xcLl0rKSkvaSwvbT8ocXFicm93c2VyfGJhaWR1Ym94YXBwfDIzNDVFeHBsb3JlcilbXFwvIF0/KFtcXHdcXC5dKykvaV0sW2wscF0sWy8obWV0YXNyKVtcXC8gXT8oW1xcd1xcLl0rKS9pLC8obGJicm93c2VyKS9pLC9cXFsobGlua2VkaW4pYXBwXFxdL2ldLFtsXSxbLygoPzpmYmFuXFwvZmJpb3N8ZmJfaWFiXFwvZmI0YSkoPyEuK2ZiYXYpfDtmYmF2XFwvKFtcXHdcXC5dKyk7KS9pXSxbW2wsRl0scF0sWy8oa2FrYW8oPzp0YWxrfHN0b3J5KSlbXFwvIF0oW1xcd1xcLl0rKS9pLC8obmF2ZXIpXFwoLio/KFxcZCtcXC5bXFx3XFwuXSspLipcXCkvaSwvc2FmYXJpIChsaW5lKVxcLyhbXFx3XFwuXSspL2ksL1xcYihsaW5lKVxcLyhbXFx3XFwuXSspXFwvaWFiL2ksLyhjaHJvbWl1bXxpbnN0YWdyYW0pW1xcLyBdKFstXFx3XFwuXSspL2ldLFtsLHBdLFsvXFxiZ3NhXFwvKFtcXHdcXC5dKykgLipzYWZhcmlcXC8vaV0sW3AsW2wsXCJHU0FcIl1dLFsvaGVhZGxlc3NjaHJvbWUoPzpcXC8oW1xcd1xcLl0rKXwgKS9pXSxbcCxbbCxBK1wiIEhlYWRsZXNzXCJdXSxbLyB3dlxcKS4rKGNocm9tZSlcXC8oW1xcd1xcLl0rKS9pXSxbW2wsQStcIiBXZWJWaWV3XCJdLHBdLFsvZHJvaWQuKyB2ZXJzaW9uXFwvKFtcXHdcXC5dKylcXGIuKyg/Om1vYmlsZSBzYWZhcml8c2FmYXJpKS9pXSxbcCxbbCxcIkFuZHJvaWQgXCIreV1dLFsvKGNocm9tZXxvbW5pd2VifGFyb3JhfFt0aXplbm9rYV17NX0gP2Jyb3dzZXIpXFwvdj8oW1xcd1xcLl0rKS9pXSxbbCxwXSxbL3ZlcnNpb25cXC8oW1xcd1xcLlxcLF0rKSAuKm1vYmlsZVxcL1xcdysgKHNhZmFyaSkvaV0sW3AsW2wsXCJNb2JpbGUgU2FmYXJpXCJdXSxbL3ZlcnNpb25cXC8oW1xcdyhcXC58XFwsKV0rKSAuKihtb2JpbGUgP3NhZmFyaXxzYWZhcmkpL2ldLFtwLGxdLFsvd2Via2l0Lis/KG1vYmlsZSA/c2FmYXJpfHNhZmFyaSkoXFwvW1xcd1xcLl0rKS9pXSxbbCxbcCxxLHtcIjEuMFwiOlwiLzhcIiwxLjI6XCIvMVwiLDEuMzpcIi8zXCIsXCIyLjBcIjpcIi80MTJcIixcIjIuMC4yXCI6XCIvNDE2XCIsXCIyLjAuM1wiOlwiLzQxN1wiLFwiMi4wLjRcIjpcIi80MTlcIixcIj9cIjpcIi9cIn1dXSxbLyh3ZWJraXR8a2h0bWwpXFwvKFtcXHdcXC5dKykvaV0sW2wscF0sWy8obmF2aWdhdG9yfG5ldHNjYXBlXFxkPylcXC8oWy1cXHdcXC5dKykvaV0sW1tsLFwiTmV0c2NhcGVcIl0scF0sWy9tb2JpbGUgdnI7IHJ2OihbXFx3XFwuXSspXFwpLitmaXJlZm94L2ldLFtwLFtsLGIrXCIgUmVhbGl0eVwiXV0sWy9la2lvaGYuKyhmbG93KVxcLyhbXFx3XFwuXSspL2ksLyhzd2lmdGZveCkvaSwvKGljZWRyYWdvbnxpY2V3ZWFzZWx8Y2FtaW5vfGNoaW1lcmF8ZmVubmVjfG1hZW1vIGJyb3dzZXJ8bWluaW1vfGNvbmtlcm9yfGtsYXIpW1xcLyBdPyhbXFx3XFwuXFwrXSspL2ksLyhzZWFtb25rZXl8ay1tZWxlb258aWNlY2F0fGljZWFwZXxmaXJlYmlyZHxwaG9lbml4fHBhbGVtb29ufGJhc2lsaXNrfHdhdGVyZm94KVxcLyhbLVxcd1xcLl0rKSQvaSwvKGZpcmVmb3gpXFwvKFtcXHdcXC5dKykvaSwvKG1vemlsbGEpXFwvKFtcXHdcXC5dKykgLitydlxcOi4rZ2Vja29cXC9cXGQrL2ksLyhwb2xhcmlzfGx5bnh8ZGlsbG98aWNhYnxkb3Jpc3xhbWF5YXx3M218bmV0c3VyZnxzbGVpcG5pcnxvYmlnb3xtb3NhaWN8KD86Z298aWNlfHVwKVtcXC4gXT9icm93c2VyKVstXFwvIF0/dj8oW1xcd1xcLl0rKS9pLC8obGlua3MpIFxcKChbXFx3XFwuXSspL2ksL3BhbmFzb25pYzsodmllcmEpL2ldLFtsLHBdLFsvKGNvYmFsdClcXC8oW1xcd1xcLl0rKS9pXSxbbCxbcCwvbWFzdGVyLnxsdHMuLyxcIlwiXV1dLGNwdTpbWy8oPzooYW1kfHgoPzooPzo4Nnw2NClbLV9dKT98d293fHdpbik2NClbO1xcKV0vaV0sW1tfLFwiYW1kNjRcIl1dLFsvKGlhMzIoPz07KSkvaV0sW1tfLEhdXSxbLygoPzppWzM0Nl18eCk4NilbO1xcKV0vaV0sW1tfLFwiaWEzMlwiXV0sWy9cXGIoYWFyY2g2NHxhcm0odj84ZT9sP3xfPzY0KSlcXGIvaV0sW1tfLFwiYXJtNjRcIl1dLFsvXFxiKGFybSg/OnZbNjddKT9odD9uP1tmbF1wPylcXGIvaV0sW1tfLFwiYXJtaGZcIl1dLFsvd2luZG93cyAoY2V8bW9iaWxlKTsgcHBjOy9pXSxbW18sXCJhcm1cIl1dLFsvKCg/OnBwY3xwb3dlcnBjKSg/OjY0KT8pKD86IG1hY3w7fFxcKSkvaV0sW1tfLC9vd2VyLyxcIlwiLEhdXSxbLyhzdW40XFx3KVs7XFwpXS9pXSxbW18sXCJzcGFyY1wiXV0sWy8oKD86YXZyMzJ8aWE2NCg/PTspKXw2OGsoPz1cXCkpfFxcYmFybSg/PXYoPzpbMS03XXxbNS03XTEpbD98O3xlYWJpKXwoPz1hdG1lbCApYXZyfCg/OmlyaXh8bWlwc3xzcGFyYykoPzo2NCk/XFxifHBhLXJpc2MpL2ldLFtbXyxIXV1dLGRldmljZTpbWy9cXGIoc2NoLWlbODldMFxcZHxzaHctbTM4MHN8c20tW3B0eF1cXHd7Miw0fXxndC1bcG5dXFxkezIsNH18c2doLXQ4WzU2XTl8bmV4dXMgMTApL2ldLFtkLFt1LGtdLFtoLGZdXSxbL1xcYigoPzpzW2NncF1ofGd0fHNtKS1cXHcrfHNjW2ctXT9bXFxkXSthP3xnYWxheHkgbmV4dXMpL2ksL3NhbXN1bmdbLSBdKFstXFx3XSspL2ksL3NlYy0oc2doXFx3KykvaV0sW2QsW3Usa10sW2gsbV1dLFsvXFwoKGlwKD86aG9uZXxvZClbXFx3IF0qKTsvaV0sW2QsW3UsQ10sW2gsbV1dLFsvXFwoKGlwYWQpO1stXFx3XFwpLDsgXSthcHBsZS9pLC9hcHBsZWNvcmVtZWRpYVxcL1tcXHdcXC5dKyBcXCgoaXBhZCkvaSwvXFxiKGlwYWQpXFxkXFxkPyxcXGRcXGQ/WztcXF1dLitpb3MvaV0sW2QsW3UsQ10sW2gsZl1dLFsvKG1hY2ludG9zaCk7L2ldLFtkLFt1LENdXSxbL1xcYihzaC0/W2FsdHZ6XT9cXGRcXGRbYS1la21dPykvaV0sW2QsW3UsTV0sW2gsbV1dLFsvXFxiKCg/OmFnW3JzXVsyM10/fGJhaDI/fHNodD98YnR2KS1hP1tsd11cXGR7Mn0pXFxiKD8hLitkXFwvcykvaV0sW2QsW3UsT10sW2gsZl1dLFsvKD86aHVhd2VpfGhvbm9yKShbLVxcdyBdKylbO1xcKV0vaSwvXFxiKG5leHVzIDZwfFxcd3syLDR9ZT8tW2F0dV0/W2xuXVtcXGR4XVswMTIzNTljXVthZG5dPylcXGIoPyEuK2RcXC9zKS9pXSxbZCxbdSxPXSxbaCxtXV0sWy9cXGIocG9jb1tcXHcgXSspKD86IGJ1aXxcXCkpL2ksL1xcYjsgKFxcdyspIGJ1aWxkXFwvaG1cXDEvaSwvXFxiKGhtWy1fIF0/bm90ZT9bXyBdPyg/OlxcZFxcdyk/KSBidWkvaSwvXFxiKHJlZG1pW1xcLV8gXT8oPzpub3RlfGspP1tcXHdfIF0rKSg/OiBidWl8XFwpKS9pLC9cXGIobWlbLV8gXT8oPzphXFxkfG9uZXxvbmVbXyBdcGx1c3xub3RlIGx0ZXxtYXh8Y2MpP1tfIF0/KD86XFxkP1xcdz8pW18gXT8oPzpwbHVzfHNlfGxpdGUpPykoPzogYnVpfFxcKSkvaV0sW1tkLC9fL2csXCIgXCJdLFt1LHhdLFtoLG1dXSxbL1xcYihtaVstXyBdPyg/OnBhZCkoPzpbXFx3XyBdKykpKD86IGJ1aXxcXCkpL2ldLFtbZCwvXy9nLFwiIFwiXSxbdSx4XSxbaCxmXV0sWy87IChcXHcrKSBidWkuKyBvcHBvL2ksL1xcYihjcGhbMTJdXFxkezN9fHAoPzphZnxjW2FsXXxkXFx3fGVbYXJdKVttdF1cXGQwfHg5MDA3fGExMDFvcClcXGIvaV0sW2QsW3UsXCJPUFBPXCJdLFtoLG1dXSxbL3Zpdm8gKFxcdyspKD86IGJ1aXxcXCkpL2ksL1xcYih2WzEyXVxcZHszfVxcdz9bYXRdKSg/OiBidWl8OykvaV0sW2QsW3UsXCJWaXZvXCJdLFtoLG1dXSxbL1xcYihybXhbMTJdXFxkezN9KSg/OiBidWl8O3xcXCkpL2ldLFtkLFt1LFwiUmVhbG1lXCJdLFtoLG1dXSxbL1xcYihtaWxlc3RvbmV8ZHJvaWQoPzpbMi00eF18ICg/OmJpb25pY3x4Mnxwcm98cmF6cikpPzo/KCA0Zyk/KVxcYltcXHcgXStidWlsZFxcLy9pLC9cXGJtb3QoPzpvcm9sYSk/Wy0gXShcXHcqKS9pLC8oKD86bW90b1tcXHdcXChcXCkgXSt8eHRcXGR7Myw0fXxuZXh1cyA2KSg/PSBidWl8XFwpKSkvaV0sW2QsW3UsUF0sW2gsbV1dLFsvXFxiKG16NjBcXGR8eG9vbVsyIF17MCwyfSkgYnVpbGRcXC8vaV0sW2QsW3UsUF0sW2gsZl1dLFsvKCg/PWxnKT9bdmxda1xcLT9cXGR7M30pIGJ1aXwgM1xcLlstXFx3OyBdezEwfWxnPy0oWzA2Y3Y5XXszLDR9KS9pXSxbZCxbdSxOXSxbaCxmXV0sWy8obG0oPzotP2YxMDBbbnZdP3wtW1xcd1xcLl0rKSg/PSBidWl8XFwpKXxuZXh1cyBbNDVdKS9pLC9cXGJsZ1stZTtcXC8gXSsoKD8hYnJvd3NlcnxuZXRjYXN0fGFuZHJvaWQgdHYpXFx3KykvaSwvXFxibGctPyhbXFxkXFx3XSspIGJ1aS9pXSxbZCxbdSxOXSxbaCxtXV0sWy8oaWRlYXRhYlstXFx3IF0rKS9pLC9sZW5vdm8gPyhzWzU2XTAwMFstXFx3XSt8dGFiKD86W1xcdyBdKyl8eXRbLVxcZFxcd117Nn18dGJbLVxcZFxcd117Nn0pL2ldLFtkLFt1LFwiTGVub3ZvXCJdLFtoLGZdXSxbLyg/Om1hZW1vfG5va2lhKS4qKG45MDB8bHVtaWEgXFxkKykvaSwvbm9raWFbLV8gXT8oWy1cXHdcXC5dKikvaV0sW1tkLC9fL2csXCIgXCJdLFt1LFwiTm9raWFcIl0sW2gsbV1dLFsvKHBpeGVsIGMpXFxiL2ldLFtkLFt1LHddLFtoLGZdXSxbL2Ryb2lkLis7IChwaXhlbFtcXGRheGwgXXswLDZ9KSg/OiBidWl8XFwpKS9pXSxbZCxbdSx3XSxbaCxtXV0sWy9kcm9pZC4rIChhP1xcZFswLTJdezJ9c298W2MtZ11cXGR7NH18c29bLWdsXVxcdyt8eHEtYVxcd1s0LTddWzEyXSkoPz0gYnVpfFxcKS4rY2hyb21lXFwvKD8hWzEtNl17MCwxfVxcZFxcLikpL2ldLFtkLFt1LFVdLFtoLG1dXSxbL3NvbnkgdGFibGV0IFtwc10vaSwvXFxiKD86c29ueSk/c2dwXFx3Kyg/OiBidWl8XFwpKS9pXSxbW2QsXCJYcGVyaWEgVGFibGV0XCJdLFt1LFVdLFtoLGZdXSxbLyAoa2IyMDA1fGluMjBbMTJdNXxiZTIwWzEyXVs1OV0pXFxiL2ksLyg/Om9uZSk/KD86cGx1cyk/IChhXFxkMFxcZFxcZCkoPzogYnxcXCkpL2ldLFtkLFt1LFwiT25lUGx1c1wiXSxbaCxtXV0sWy8oYWxleGEpd2VibS9pLC8oa2ZbYS16XXsyfXdpKSggYnVpfFxcKSkvaSwvKGtmW2Etel0rKSggYnVpfFxcKSkuK3NpbGtcXC8vaV0sW2QsW3UsUl0sW2gsZl1dLFsvKCg/OnNkfGtmKVswMzQ5aGlqb3JzdHV3XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pXSxbW2QsLyguKykvZyxcIkZpcmUgUGhvbmUgJDFcIl0sW3UsUl0sW2gsbV1dLFsvKHBsYXlib29rKTtbLVxcd1xcKSw7IF0rKHJpbSkvaV0sW2QsdSxbaCxmXV0sWy9cXGIoKD86YmJbYS1mXXxzdFtodl0pMTAwLVxcZCkvaSwvXFwoYmIxMDsgKFxcdyspL2ldLFtkLFt1LEldLFtoLG1dXSxbLyg/OlxcYnxhc3VzXykodHJhbnNmb1twcmltZSBdezQsMTB9IFxcdyt8ZWVlcGN8c2xpZGVyIFxcdyt8bmV4dXMgN3xwYWRmb25lfHAwMFtjal0pL2ldLFtkLFt1LHZdLFtoLGZdXSxbLyAoeltiZXNdNlswMjddWzAxMl1ba21dW2xzXXx6ZW5mb25lIFxcZFxcdz8pXFxiL2ldLFtkLFt1LHZdLFtoLG1dXSxbLyhuZXh1cyA5KS9pXSxbZCxbdSxcIkhUQ1wiXSxbaCxmXV0sWy8oaHRjKVstO18gXXsxLDJ9KFtcXHcgXSsoPz1cXCl8IGJ1aSl8XFx3KykvaSwvKHp0ZSlbLSBdKFtcXHcgXSs/KSg/OiBidWl8XFwvfFxcKSkvaSwvKGFsY2F0ZWx8Z2Vla3NwaG9uZXxuZXhpYW58cGFuYXNvbmljKD8hKD86O3xcXC4pKXxzb255KD8hLWJyYSkpWy1fIF0/KFstXFx3XSopL2ldLFt1LFtkLC9fL2csXCIgXCJdLFtoLG1dXSxbL2Ryb2lkLis7IChbYWJdWzEtN10tP1swMTc4YV1cXGRcXGQ/KS9pXSxbZCxbdSxcIkFjZXJcIl0sW2gsZl1dLFsvZHJvaWQuKzsgKG1bMS01XSBub3RlKSBidWkvaSwvXFxibXotKFstXFx3XXsyLH0pL2ldLFtkLFt1LFwiTWVpenVcIl0sW2gsbV1dLFsvKGJsYWNrYmVycnl8YmVucXxwYWxtKD89XFwtKXxzb255ZXJpY3Nzb258YWNlcnxhc3VzfGRlbGx8bWVpenV8bW90b3JvbGF8cG9seXRyb24pWy1fIF0/KFstXFx3XSopL2ksLyhocCkgKFtcXHcgXStcXHcpL2ksLyhhc3VzKS0/KFxcdyspL2ksLyhtaWNyb3NvZnQpOyAobHVtaWFbXFx3IF0rKS9pLC8obGVub3ZvKVstXyBdPyhbLVxcd10rKS9pLC8oam9sbGEpL2ksLyhvcHBvKSA/KFtcXHcgXSspIGJ1aS9pXSxbdSxkLFtoLG1dXSxbLyhrb2JvKVxccyhlcmVhZGVyfHRvdWNoKS9pLC8oYXJjaG9zKSAoZ2FtZXBhZDI/KS9pLC8oaHApLisodG91Y2hwYWQoPyEuK3RhYmxldCl8dGFibGV0KS9pLC8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2ksLyhub29rKVtcXHcgXStidWlsZFxcLyhcXHcrKS9pLC8oZGVsbCkgKHN0cmVhW2twclxcZCBdKltcXGRrb10pL2ksLyhsZVstIF0rcGFuKVstIF0rKFxcd3sxLDl9KSBidWkvaSwvKHRyaW5pdHkpWy0gXSoodFxcZHszfSkgYnVpL2ksLyhnaWdhc2V0KVstIF0rKHFcXHd7MSw5fSkgYnVpL2ksLyh2b2RhZm9uZSkgKFtcXHcgXSspKD86XFwpfCBidWkpL2ldLFt1LGQsW2gsZl1dLFsvKHN1cmZhY2UgZHVvKS9pXSxbZCxbdSxEXSxbaCxmXV0sWy9kcm9pZCBbXFxkXFwuXSs7IChmcFxcZHU/KSg/OiBifFxcKSkvaV0sW2QsW3UsXCJGYWlycGhvbmVcIl0sW2gsbV1dLFsvKHUzMDRhYSkvaV0sW2QsW3UsXCJBVCZUXCJdLFtoLG1dXSxbL1xcYnNpZS0oXFx3KikvaV0sW2QsW3UsXCJTaWVtZW5zXCJdLFtoLG1dXSxbL1xcYihyY3RcXHcrKSBiL2ldLFtkLFt1LFwiUkNBXCJdLFtoLGZdXSxbL1xcYih2ZW51ZVtcXGQgXXsyLDd9KSBiL2ldLFtkLFt1LFwiRGVsbFwiXSxbaCxmXV0sWy9cXGIocSg/Om12fHRhKVxcdyspIGIvaV0sW2QsW3UsXCJWZXJpem9uXCJdLFtoLGZdXSxbL1xcYig/OmJhcm5lc1smIF0rbm9ibGUgfGJuW3J0XSkoW1xcd1xcKyBdKikgYi9pXSxbZCxbdSxcIkJhcm5lcyAmIE5vYmxlXCJdLFtoLGZdXSxbL1xcYih0bVxcZHszfVxcdyspIGIvaV0sW2QsW3UsXCJOdVZpc2lvblwiXSxbaCxmXV0sWy9cXGIoazg4KSBiL2ldLFtkLFt1LFwiWlRFXCJdLFtoLGZdXSxbL1xcYihueFxcZHszfWopIGIvaV0sW2QsW3UsXCJaVEVcIl0sW2gsbV1dLFsvXFxiKGdlblxcZHszfSkgYi4rNDloL2ldLFtkLFt1LFwiU3dpc3NcIl0sW2gsbV1dLFsvXFxiKHp1clxcZHszfSkgYi9pXSxbZCxbdSxcIlN3aXNzXCJdLFtoLGZdXSxbL1xcYigoemVraSk/dGIuKlxcYikgYi9pXSxbZCxbdSxcIlpla2lcIl0sW2gsZl1dLFsvXFxiKFt5cl1cXGR7Mn0pIGIvaSwvXFxiKGRyYWdvblstIF0rdG91Y2ggfGR0KShcXHd7NX0pIGIvaV0sW1t1LFwiRHJhZ29uIFRvdWNoXCJdLGQsW2gsZl1dLFsvXFxiKG5zLT9cXHd7MCw5fSkgYi9pXSxbZCxbdSxcIkluc2lnbmlhXCJdLFtoLGZdXSxbL1xcYigobnhhfG5leHQpLT9cXHd7MCw5fSkgYi9pXSxbZCxbdSxcIk5leHRCb29rXCJdLFtoLGZdXSxbL1xcYih4dHJlbWVcXF8pPyh2KDFbMDQ1XXwyWzAxNV18WzM0NjldMHw3WzA1XSkpIGIvaV0sW1t1LFwiVm9pY2VcIl0sZCxbaCxtXV0sWy9cXGIobHZ0ZWxcXC0pPyh2MVsxMl0pIGIvaV0sW1t1LFwiTHZUZWxcIl0sZCxbaCxtXV0sWy9cXGIocGgtMSkgL2ldLFtkLFt1LFwiRXNzZW50aWFsXCJdLFtoLG1dXSxbL1xcYih2KDEwMG1kfDcwMG5hfDcwMTF8OTE3ZykuKlxcYikgYi9pXSxbZCxbdSxcIkVudml6ZW5cIl0sW2gsZl1dLFsvXFxiKHRyaW9bLVxcd1xcLiBdKykgYi9pXSxbZCxbdSxcIk1hY2hTcGVlZFwiXSxbaCxmXV0sWy9cXGJ0dV8oMTQ5MSkgYi9pXSxbZCxbdSxcIlJvdG9yXCJdLFtoLGZdXSxbLyhzaGllbGRbXFx3IF0rKSBiL2ldLFtkLFt1LFwiTnZpZGlhXCJdLFtoLGZdXSxbLyhzcHJpbnQpIChcXHcrKS9pXSxbdSxkLFtoLG1dXSxbLyhraW5cXC5bb25ldHddezN9KS9pXSxbW2QsL1xcLi9nLFwiIFwiXSxbdSxEXSxbaCxtXV0sWy9kcm9pZC4rOyAoY2M2NjY2P3xldDVbMTZdfG1jWzIzOV1bMjNdeD98dmM4WzAzXXg/KVxcKS9pXSxbZCxbdSxWXSxbaCxmXV0sWy9kcm9pZC4rOyAoZWMzMHxwczIwfHRjWzItOF1cXGRba3hdKVxcKS9pXSxbZCxbdSxWXSxbaCxtXV0sWy9zbWFydC10di4rKHNhbXN1bmcpL2ldLFt1LFtoLGddXSxbL2hiYnR2LittYXBsZTsoXFxkKykvaV0sW1tkLC9eLyxcIlNtYXJ0VFZcIl0sW3Usa10sW2gsZ11dLFsvKG51eDsgbmV0Y2FzdC4rc21hcnR0dnxsZyAobmV0Y2FzdFxcLnR2LTIwMVxcZHxhbmRyb2lkIHR2KSkvaV0sW1t1LE5dLFtoLGddXSxbLyhhcHBsZSkgP3R2L2ldLFt1LFtkLEMrXCIgVFZcIl0sW2gsZ11dLFsvY3JrZXkvaV0sW1tkLEErXCJjYXN0XCJdLFt1LHddLFtoLGddXSxbL2Ryb2lkLithZnQoXFx3KSggYnVpfFxcKSkvaV0sW2QsW3UsUl0sW2gsZ11dLFsvXFwoZHR2W1xcKTtdLisoYXF1b3MpL2ksLyhhcXVvcy10dltcXHcgXSspXFwpL2ldLFtkLFt1LE1dLFtoLGddXSxbLyhicmF2aWFbXFx3IF0rKSggYnVpfFxcKSkvaV0sW2QsW3UsVV0sW2gsZ11dLFsvKG1pdHYtXFx3ezV9KSBidWkvaV0sW2QsW3UseF0sW2gsZ11dLFsvSGJidHYuKih0ZWNobmlzYXQpICguKik7L2ldLFt1LGQsW2gsZ11dLFsvXFxiKHJva3UpW1xcZHhdKltcXClcXC9dKCg/OmR2cC0pP1tcXGRcXC5dKikvaSwvaGJidHZcXC9cXGQrXFwuXFxkK1xcLlxcZCsgK1xcKFtcXHdcXCsgXSo7ICooW1xcd1xcZF1bXjtdKik7KFteO10qKS9pXSxbW3UsS10sW2QsS10sW2gsZ11dLFsvXFxiKGFuZHJvaWQgdHZ8c21hcnRbLSBdP3R2fG9wZXJhIHR2fHR2OyBydjopXFxiL2ldLFtbaCxnXV0sWy8ob3V5YSkvaSwvKG5pbnRlbmRvKSAoW3dpZHMzdXRjaF0rKS9pXSxbdSxkLFtoLEVdXSxbL2Ryb2lkLis7IChzaGllbGQpIGJ1aS9pXSxbZCxbdSxcIk52aWRpYVwiXSxbaCxFXV0sWy8ocGxheXN0YXRpb24gWzM0NXBvcnRhYmxldmldKykvaV0sW2QsW3UsVV0sW2gsRV1dLFsvXFxiKHhib3goPzogb25lKT8oPyE7IHhib3gpKVtcXCk7IF0vaV0sW2QsW3UsRF0sW2gsRV1dLFsvKChwZWJibGUpKWFwcC9pXSxbdSxkLFtoLFNdXSxbLyh3YXRjaCkoPzogP29zWyxcXC9dfFxcZCxcXGRcXC8pW1xcZFxcLl0rL2ldLFtkLFt1LENdLFtoLFNdXSxbL2Ryb2lkLis7IChnbGFzcykgXFxkL2ldLFtkLFt1LHddLFtoLFNdXSxbL2Ryb2lkLis7ICh3dDYzPzB7MiwzfSlcXCkvaV0sW2QsW3UsVl0sW2gsU11dLFsvKHF1ZXN0KCAyfCBwcm8pPykvaV0sW2QsW3UsRl0sW2gsU11dLFsvKHRlc2xhKSg/OiBxdGNhcmJyb3dzZXJ8XFwvWy1cXHdcXC5dKykvaV0sW3UsW2gsVF1dLFsvZHJvaWQgLis/OyAoW147XSs/KSg/OiBidWl8XFwpIGFwcGxldykuKz8gbW9iaWxlIHNhZmFyaS9pXSxbZCxbaCxtXV0sWy9kcm9pZCAuKz87IChbXjtdKz8pKD86IGJ1aXxcXCkgYXBwbGV3KS4rPyg/ISBtb2JpbGUpIHNhZmFyaS9pXSxbZCxbaCxmXV0sWy9cXGIoKHRhYmxldHx0YWIpWztcXC9dfGZvY3VzXFwvXFxkKD8hLittb2JpbGUpKS9pXSxbW2gsZl1dLFsvKHBob25lfG1vYmlsZSg/Ols7XFwvXXwgWyBcXHdcXC9cXC5dKnNhZmFyaSl8cGRhKD89Lit3aW5kb3dzIGNlKSkvaV0sW1toLG1dXSxbLyhhbmRyb2lkWy1cXHdcXC4gXXswLDl9KTsuK2J1aWwvaV0sW2QsW3UsXCJHZW5lcmljXCJdXV0sZW5naW5lOltbL3dpbmRvd3MuKyBlZGdlXFwvKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJFZGdlSFRNTFwiXV0sWy93ZWJraXRcXC81MzdcXC4zNi4rY2hyb21lXFwvKD8hMjcpKFtcXHdcXC5dKykvaV0sW3AsW2wsXCJCbGlua1wiXV0sWy8ocHJlc3RvKVxcLyhbXFx3XFwuXSspL2ksLyh3ZWJraXR8dHJpZGVudHxuZXRmcm9udHxuZXRzdXJmfGFtYXlhfGx5bnh8dzNtfGdvYW5uYSlcXC8oW1xcd1xcLl0rKS9pLC9la2lvaChmbG93KVxcLyhbXFx3XFwuXSspL2ksLyhraHRtbHx0YXNtYW58bGlua3MpW1xcLyBdXFwoPyhbXFx3XFwuXSspL2ksLyhpY2FiKVtcXC8gXShbMjNdXFwuW1xcZFxcLl0rKS9pXSxbbCxwXSxbL3J2XFw6KFtcXHdcXC5dezEsOX0pXFxiLisoZ2Vja28pL2ldLFtwLGxdXSxvczpbWy9taWNyb3NvZnQgKHdpbmRvd3MpICh2aXN0YXx4cCkvaV0sW2wscF0sWy8od2luZG93cykgbnQgNlxcLjI7IChhcm0pL2ksLyh3aW5kb3dzICg/OnBob25lKD86IG9zKT98bW9iaWxlKSlbXFwvIF0/KFtcXGRcXC5cXHcgXSopL2ksLyh3aW5kb3dzKVtcXC8gXT8oW250Y2VcXGRcXC4gXStcXHcpKD8hLit4Ym94KS9pXSxbbCxbcCxxLEpdXSxbLyh3aW4oPz0zfDl8bil8d2luIDl4ICkoW250XFxkXFwuXSspL2ldLFtbbCxcIldpbmRvd3NcIl0sW3AscSxKXV0sWy9pcFtob25lYWRdezIsNH1cXGIoPzouKm9zIChbXFx3XSspIGxpa2UgbWFjfDsgb3BlcmEpL2ksL2NmbmV0d29ya1xcLy4rZGFyd2luL2ldLFtbcCwvXy9nLFwiLlwiXSxbbCxcImlPU1wiXV0sWy8obWFjIG9zIHgpID8oW1xcd1xcLiBdKikvaSwvKG1hY2ludG9zaHxtYWNfcG93ZXJwY1xcYikoPyEuK2hhaWt1KS9pXSxbW2wsal0sW3AsL18vZyxcIi5cIl1dLFsvZHJvaWQgKFtcXHdcXC5dKylcXGIuKyhhbmRyb2lkWy0gXXg4NnxoYXJtb255b3MpL2ldLFtwLGxdLFsvKGFuZHJvaWR8d2Vib3N8cW54fGJhZGF8cmltIHRhYmxldCBvc3xtYWVtb3xtZWVnb3xzYWlsZmlzaClbLVxcLyBdPyhbXFx3XFwuXSopL2ksLyhibGFja2JlcnJ5KVxcdypcXC8oW1xcd1xcLl0qKS9pLC8odGl6ZW58a2Fpb3MpW1xcLyBdKFtcXHdcXC5dKykvaSwvXFwoKHNlcmllczQwKTsvaV0sW2wscF0sWy9cXChiYigxMCk7L2ldLFtwLFtsLEldXSxbLyg/OnN5bWJpYW4gP29zfHN5bWJvc3xzNjAoPz07KXxzZXJpZXM2MClbLVxcLyBdPyhbXFx3XFwuXSopL2ldLFtwLFtsLFwiU3ltYmlhblwiXV0sWy9tb3ppbGxhXFwvW1xcZFxcLl0rIFxcKCg/Om1vYmlsZXx0YWJsZXR8dHZ8bW9iaWxlOyBbXFx3IF0rKTsgcnY6LisgZ2Vja29cXC8oW1xcd1xcLl0rKS9pXSxbcCxbbCxiK1wiIE9TXCJdXSxbL3dlYjBzOy4rcnQodHYpL2ksL1xcYig/OmhwKT93b3MoPzpicm93c2VyKT9cXC8oW1xcd1xcLl0rKS9pXSxbcCxbbCxcIndlYk9TXCJdXSxbL3dhdGNoKD86ID9vc1ssXFwvXXxcXGQsXFxkXFwvKShbXFxkXFwuXSspL2ldLFtwLFtsLFwid2F0Y2hPU1wiXV0sWy9jcmtleVxcLyhbXFxkXFwuXSspL2ldLFtwLFtsLEErXCJjYXN0XCJdXSxbLyhjcm9zKSBbXFx3XSsoPzpcXCl8IChbXFx3XFwuXSspXFxiKS9pXSxbW2wsQl0scF0sWy9wYW5hc29uaWM7KHZpZXJhKS9pLC8obmV0cmFuZ2UpbW1oL2ksLyhuZXR0dilcXC8oXFxkK1xcLltcXHdcXC5dKykvaSwvKG5pbnRlbmRvfHBsYXlzdGF0aW9uKSAoW3dpZHMzNDVwb3J0YWJsZXZ1Y2hdKykvaSwvKHhib3gpOyAreGJveCAoW15cXCk7XSspL2ksL1xcYihqb2xpfHBhbG0pXFxiID8oPzpvcyk/XFwvPyhbXFx3XFwuXSopL2ksLyhtaW50KVtcXC9cXChcXCkgXT8oXFx3KikvaSwvKG1hZ2VpYXx2ZWN0b3JsaW51eClbOyBdL2ksLyhba3hsbl0/dWJ1bnR1fGRlYmlhbnxzdXNlfG9wZW5zdXNlfGdlbnRvb3xhcmNoKD89IGxpbnV4KXxzbGFja3dhcmV8ZmVkb3JhfG1hbmRyaXZhfGNlbnRvc3xwY2xpbnV4b3N8cmVkID9oYXR8emVud2Fsa3xsaW5wdXN8cmFzcGJpYW58cGxhbiA5fG1pbml4fHJpc2Mgb3N8Y29udGlraXxkZWVwaW58bWFuamFyb3xlbGVtZW50YXJ5IG9zfHNhYmF5b258bGluc3BpcmUpKD86IGdudVxcL2xpbnV4KT8oPzogZW50ZXJwcmlzZSk/KD86Wy0gXWxpbnV4KT8oPzotZ251KT9bLVxcLyBdPyg/IWNocm9tfHBhY2thZ2UpKFstXFx3XFwuXSopL2ksLyhodXJkfGxpbnV4KSA/KFtcXHdcXC5dKikvaSwvKGdudSkgPyhbXFx3XFwuXSopL2ksL1xcYihbLWZyZW50b3BjZ2hzXXswLDV9YnNkfGRyYWdvbmZseSlbXFwvIF0/KD8hYW1kfFtpeDM0Nl17MSwyfTg2KShbXFx3XFwuXSopL2ksLyhoYWlrdSkgKFxcdyspL2ldLFtsLHBdLFsvKHN1bm9zKSA/KFtcXHdcXC5cXGRdKikvaV0sW1tsLFwiU29sYXJpc1wiXSxwXSxbLygoPzpvcGVuKT9zb2xhcmlzKVstXFwvIF0/KFtcXHdcXC5dKikvaSwvKGFpeCkgKChcXGQpKD89XFwufFxcKXwgKVtcXHdcXC5dKSovaSwvXFxiKGJlb3N8b3NcXC8yfGFtaWdhb3N8bW9ycGhvc3xvcGVudm1zfGZ1Y2hzaWF8aHAtdXgpL2ksLyh1bml4KSA/KFtcXHdcXC5dKikvaV0sW2wscF1dfSxYPWZ1bmN0aW9uKGUsdCl7aWYodHlwZW9mIGU9PT1vJiYodD1lLGU9biksISh0aGlzIGluc3RhbmNlb2YgWCkpcmV0dXJuIG5ldyBYKGUsdCkuZ2V0UmVzdWx0KCk7dmFyIEU9dHlwZW9mIGkhPT1zJiZpLm5hdmlnYXRvcj9pLm5hdmlnYXRvcjpuLGc9ZXx8KEUmJkUudXNlckFnZW50P0UudXNlckFnZW50OlwiXCIpLFM9RSYmRS51c2VyQWdlbnREYXRhP0UudXNlckFnZW50RGF0YTpuLFQ9dD9mdW5jdGlvbihlLHQpe3ZhciBpPXt9O2Zvcih2YXIgbiBpbiBlKXRbbl0mJnRbbl0ubGVuZ3RoJTI9PTA/aVtuXT10W25dLmNvbmNhdChlW25dKTppW25dPWVbbl07cmV0dXJuIGl9KHosdCk6ejtyZXR1cm4gdGhpcy5nZXRCcm93c2VyPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGVbbF09bixlW3BdPW4sWS5jYWxsKGUsZyxULmJyb3dzZXIpLGVbY109ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlPT09YT9lLnJlcGxhY2UoL1teXFxkXFwuXS9nLFwiXCIpLnNwbGl0KFwiLlwiKVswXTpufShlW3BdKSxFJiZFLmJyYXZlJiZ0eXBlb2YgRS5icmF2ZS5pc0JyYXZlPT1yJiYoZVtsXT1cIkJyYXZlXCIpLGV9LHRoaXMuZ2V0Q1BVPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGVbX109bixZLmNhbGwoZSxnLFQuY3B1KSxlfSx0aGlzLmdldERldmljZT1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlW3VdPW4sZVtkXT1uLGVbaF09bixZLmNhbGwoZSxnLFQuZGV2aWNlKSwhZVtoXSYmUyYmUy5tb2JpbGUmJihlW2hdPW0pLFwiTWFjaW50b3NoXCI9PWVbZF0mJkUmJnR5cGVvZiBFLnN0YW5kYWxvbmUhPT1zJiZFLm1heFRvdWNoUG9pbnRzJiZFLm1heFRvdWNoUG9pbnRzPjImJihlW2RdPVwiaVBhZFwiLGVbaF09ZiksZX0sdGhpcy5nZXRFbmdpbmU9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZVtsXT1uLGVbcF09bixZLmNhbGwoZSxnLFQuZW5naW5lKSxlfSx0aGlzLmdldE9TPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGVbbF09bixlW3BdPW4sWS5jYWxsKGUsZyxULm9zKSwhZVtsXSYmUyYmXCJVbmtub3duXCIhPVMucGxhdGZvcm0mJihlW2xdPVMucGxhdGZvcm0ucmVwbGFjZSgvY2hyb21lIG9zL2ksQikucmVwbGFjZSgvbWFjb3MvaSxqKSksZX0sdGhpcy5nZXRSZXN1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57dWE6dGhpcy5nZXRVQSgpLGJyb3dzZXI6dGhpcy5nZXRCcm93c2VyKCksZW5naW5lOnRoaXMuZ2V0RW5naW5lKCksb3M6dGhpcy5nZXRPUygpLGRldmljZTp0aGlzLmdldERldmljZSgpLGNwdTp0aGlzLmdldENQVSgpfX0sdGhpcy5nZXRVQT1mdW5jdGlvbigpe3JldHVybiBnfSx0aGlzLnNldFVBPWZ1bmN0aW9uKGUpe3JldHVybiBnPXR5cGVvZiBlPT09YSYmZS5sZW5ndGg+MzUwP0soZSwzNTApOmUsdGhpc30sdGhpcy5zZXRVQShnKSx0aGlzfTtYLlZFUlNJT049XCIwLjcuMzRcIixYLkJST1dTRVI9RyhbbCxwLGNdKSxYLkNQVT1HKFtfXSksWC5ERVZJQ0U9RyhbZCx1LGgsRSxtLGcsZixTLFRdKSxYLkVOR0lORT1YLk9TPUcoW2wscF0pLGUuZXhwb3J0cyYmKHQ9ZS5leHBvcnRzPVgpLHQuVUFQYXJzZXI9WDt2YXIgUT10eXBlb2YgaSE9PXMmJihpLmpRdWVyeXx8aS5aZXB0byk7aWYoUSYmIVEudWEpe3ZhciBaPW5ldyBYO1EudWE9Wi5nZXRSZXN1bHQoKSxRLnVhLmdldD1mdW5jdGlvbigpe3JldHVybiBaLmdldFVBKCl9LFEudWEuc2V0PWZ1bmN0aW9uKGUpe1ouc2V0VUEoZSk7dmFyIHQ9Wi5nZXRSZXN1bHQoKTtmb3IodmFyIGkgaW4gdClRLnVhW2ldPXRbaV19fX0oXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdz93aW5kb3c6cSl9KGRnLGRnLmV4cG9ydHMpO2NvbnN0IGxnPW5ldyhKKGRnLmV4cG9ydHMpKTtsZXQgaGc9bGcuZ2V0UmVzdWx0KCksdWc9bnVsbDtmdW5jdGlvbiBwZyhlKXtpZighdWcpe2UmJmxnLnNldFVBKGUpLGhnPWxnLmdldFJlc3VsdCgpO2NvbnN0IHQ9ZnVuY3Rpb24oZSl7aWYoXCJCbGlua1wiPT09ZS5lbmdpbmUubmFtZSYmXCJXZUNoYXRcIiE9PWUuYnJvd3Nlci5uYW1lKXJldHVybiBjZy5DSFJPTUU7c3dpdGNoKGUuYnJvd3Nlci5uYW1lKXtjYXNlXCJDaHJvbWUgSGVhZGxlc3NcIjpjYXNlXCJDaHJvbWVcIjpjYXNlXCJDaHJvbWl1bVwiOnJldHVybiBjZy5DSFJPTUU7Y2FzZVwiU2FmYXJpXCI6Y2FzZVwiTW9iaWxlIFNhZmFyaVwiOnJldHVybiBjZy5TQUZBUkk7Y2FzZVwiRWRnZVwiOnJldHVybiBjZy5FREdFO2Nhc2VcIkZpcmVmb3hcIjpyZXR1cm4gY2cuRklSRUZPWDtjYXNlXCJRUUJyb3dzZXJcIjpyZXR1cm4gY2cuUVE7Y2FzZVwiT3BlcmFcIjpyZXR1cm4gY2cuT1BFUkE7Y2FzZVwiV2VDaGF0XCI6cmV0dXJuIGNnLldFQ0hBVDtkZWZhdWx0OnJldHVybiBlLmJyb3dzZXIubmFtZXx8XCJcIn19KGhnKSxpPWZ1bmN0aW9uKGUpe2xldCB0O3Q9XCJCbGlua1wiPT09ZS5lbmdpbmUubmFtZT9lLmVuZ2luZS52ZXJzaW9ufHxcIlwiOmUuYnJvd3Nlci52ZXJzaW9ufHxcIlwiO3JldHVybiB0LnNwbGl0KFwiLlwiKVswXX0oaGcpLG49ZnVuY3Rpb24oZSl7aWYoXCJXaW5kb3dzXCI9PT1lLm9zLm5hbWUpcmV0dXJuIGUub3MudmVyc2lvbj9lLm9zLm5hbWUrXCIgXCIrZS5vcy52ZXJzaW9uOmUub3MubmFtZTtyZXR1cm4gZS5vcy5uYW1lfHxcIlwifShoZykscj1oZy5vcy52ZXJzaW9uO2lmKCEodCYmaSYmbiYmcikpcmV0dXJue25hbWU6dCx2ZXJzaW9uOmksb3M6bixvc1ZlcnNpb246cn07dWc9e25hbWU6dCx2ZXJzaW9uOmksb3M6bixvc1ZlcnNpb246cn19cmV0dXJuIHVnfWZ1bmN0aW9uIF9nKCl7cmV0dXJuIHBnKCkub3N9ZnVuY3Rpb24gRWcoKXtjb25zdCBlPXBnKCk7cmV0dXJuXCJcIi5jb25jYXQoZS5vcyxcIiBcIikuY29uY2F0KGUub3NWZXJzaW9uKX1mdW5jdGlvbiBtZygpe2NvbnN0IGU9cGcoKTtyZXR1cm4hIShcIldlYktpdFwiPT09aGcuZW5naW5lLm5hbWUmJmUub3M9PT1hZy5NQUNfT1MmJm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyYmbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzPjAmJmUubmFtZSE9PWNnLlNBRkFSSXx8Q2coKSYmZS5uYW1lIT09Y2cuU0FGQVJJKX1mdW5jdGlvbiBmZygpe2NvbnN0IGU9cGcoKTtpZihtZygpKXtpZihlLm9zPT09YWcuTUFDX09TKXJldHVybiEwO2lmKGUub3M9PT1hZy5JT1Mpe2NvbnN0IGU9aGcub3MudmVyc2lvbiYmaGcub3MudmVyc2lvbi5zcGxpdChcIi5cIik7aWYoZSYmMTQ9PT1OdW1iZXIoZVswXSkmJmVbMV0mJk51bWJlcihlWzFdKT49MylyZXR1cm4hMDtpZihlJiZOdW1iZXIoZVswXSk+MTQpcmV0dXJuITB9fXJldHVybiExfWZ1bmN0aW9uIGdnKCl7cmV0dXJuXCJXZWJLaXRcIj09PWhnLmVuZ2luZS5uYW1lfWZ1bmN0aW9uIFNnKCl7cmV0dXJuIHBnKCkubmFtZT09PWNnLkNIUk9NRX1mdW5jdGlvbiBUZygpe3JldHVybiBwZygpLm5hbWU9PT1jZy5TQUZBUkl9ZnVuY3Rpb24gUmcoKXtyZXR1cm4gcGcoKS5uYW1lPT09Y2cuRklSRUZPWH1mdW5jdGlvbiBDZygpe3JldHVybiBwZygpLm9zPT09YWcuSU9TfWZ1bmN0aW9uIHZnKGUpe2NvbnN0IHQ9cGcoKTtyZXR1cm4hKHQubmFtZSE9PWNnLkNIUk9NRXx8IXQub3NWZXJzaW9uKSYmTnVtYmVyKHQudmVyc2lvbik+PWV9ZnVuY3Rpb24gSWcoZSl7Y29uc3QgdD1wZygpO3JldHVybiEodC5uYW1lIT09Y2cuRURHRXx8IXQub3NWZXJzaW9uKSYmTnVtYmVyKHQudmVyc2lvbik+PWV9ZnVuY3Rpb24geWcoZSl7Y29uc3QgdD1wZygpO3JldHVybiEodC5uYW1lIT09Y2cuT1BFUkF8fCF0Lm9zVmVyc2lvbikmJk51bWJlcih0LnZlcnNpb24pPj1lfWZ1bmN0aW9uIEFnKCl7Y29uc3QgZT1wZygpO3JldHVybiEoZS5uYW1lIT09Y2cuQ0hST01FfHwhZS5vc1ZlcnNpb24pJiZOdW1iZXIoZS52ZXJzaW9uKTw9OTB9ZnVuY3Rpb24gYmcoKXtjb25zdCBlPXBnKCk7aWYoZS5vcyE9PWFnLklPU3x8IWUub3NWZXJzaW9uKXJldHVybiExO2NvbnN0IHQ9ZS5vc1ZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiBOdW1iZXIodFswXSk8MTR8fDE0PT09TnVtYmVyKHRbMF0pJiZOdW1iZXIodFsxXSk8PTZ9ZnVuY3Rpb24gd2coKXtjb25zdCBlPXBnKCk7aWYoZS5vcyE9PWFnLklPU3x8IWUub3NWZXJzaW9uKXJldHVybiExO2NvbnN0IHQ9ZS5vc1ZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiAxNT09PU51bWJlcih0WzBdKX1mdW5jdGlvbiBPZygpe2NvbnN0IGU9cGcoKTtpZihlLm9zIT09YWcuSU9TfHwhZS5vc1ZlcnNpb24pcmV0dXJuITE7Y29uc3QgdD1lLm9zVmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIDE2PT09TnVtYmVyKHRbMF0pfWZ1bmN0aW9uIE5nKCl7Y29uc3QgZT1wZygpO2lmKGUub3MhPT1hZy5JT1N8fCFlLm9zVmVyc2lvbilyZXR1cm4hMTtjb25zdCB0PWUub3NWZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gMTU9PT1OdW1iZXIodFswXSkmJk51bWJlcih0WzFdKT49MX1mdW5jdGlvbiBEZygpe3JldHVybiBUZygpJiZuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM+MH1mdW5jdGlvbiBQZygpe3JldHVybiBwZygpLm5hbWU9PT1jZy5XRUNIQVR9ZnVuY3Rpb24gTGcoKXtyZXR1cm4gd2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uJiZudWxsIT09d2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9DaHJvbWVcXC8oW1xcd1xcV10qPylcXC4vKSYmd2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9DaHJvbWVcXC8oW1xcd1xcV10qPylcXC4vKVsxXTw9MzV9ZnVuY3Rpb24ga2coKXtjb25zdCBlPXBnKCk7aWYoZS5uYW1lPT09Y2cuRURHRXx8ZS5uYW1lPT09Y2cuU0FGQVJJKXJldHVybiExO3JldHVybiEhbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvY2FsZUxvd2VyQ2FzZSgpLm1hdGNoKC9jaHJvbWVcXC9bXFxkXS4vaSl9ZnVuY3Rpb24gTWcoKXtyZXR1cm4gX2coKT09PWFnLkFORFJPSUR9ZnVuY3Rpb24gVWcoKXtjb25zdCBlPXBnKCk7cmV0dXJuIE1nKCkmJihlLm5hbWU9PT1jZy5DSFJPTUV8fGUubmFtZT09PWNnLldFQ0hBVHx8L2Nocm9tZXxjaHJvbWl1bS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpfXZhciB4ZzshZnVuY3Rpb24oZSl7ZS5VTkVYUEVDVEVEX0VSUk9SPVwiVU5FWFBFQ1RFRF9FUlJPUlwiLGUuVU5FWFBFQ1RFRF9SRVNQT05TRT1cIlVORVhQRUNURURfUkVTUE9OU0VcIixlLlRJTUVPVVQ9XCJUSU1FT1VUXCIsZS5JTlZBTElEX1BBUkFNUz1cIklOVkFMSURfUEFSQU1TXCIsZS5OT1RfUkVBREFCTEU9XCJOT1RfUkVBREFCTEVcIixlLk5PVF9TVVBQT1JURUQ9XCJOT1RfU1VQUE9SVEVEXCIsZS5JTlZBTElEX09QRVJBVElPTj1cIklOVkFMSURfT1BFUkFUSU9OXCIsZS5PUEVSQVRJT05fQUJPUlRFRD1cIk9QRVJBVElPTl9BQk9SVEVEXCIsZS5XRUJfU0VDVVJJVFlfUkVTVFJJQ1Q9XCJXRUJfU0VDVVJJVFlfUkVTVFJJQ1RcIixlLkVYQ0hBTkdFX1NEUF9GQUlMRUQ9XCJFWENIQU5HRV9TRFBfRkFJTEVEXCIsZS5BRERfQ0FORElEQVRFX0ZBSUxFRD1cIkFERF9DQU5ESURBVEVfRkFJTEVEXCIsZS5EQVRBQ0hBTk5FTF9GQUlMRUQ9XCJEQVRBQ0hBTk5FTF9GQUlMRURcIixlLk5FVFdPUktfRVJST1I9XCJORVRXT1JLX0VSUk9SXCIsZS5ORVRXT1JLX1RJTUVPVVQ9XCJORVRXT1JLX1RJTUVPVVRcIixlLk5FVFdPUktfUkVTUE9OU0VfRVJST1I9XCJORVRXT1JLX1JFU1BPTlNFX0VSUk9SXCIsZS5BUElfSU5WT0tFX1RJTUVPVVQ9XCJBUElfSU5WT0tFX1RJTUVPVVRcIixlLkVOVU1FUkFURV9ERVZJQ0VTX0ZBSUxFRD1cIkVOVU1FUkFURV9ERVZJQ0VTX0ZBSUxFRFwiLGUuREVWSUNFX05PVF9GT1VORD1cIkRFVklDRV9OT1RfRk9VTkRcIixlLkVMRUNUUk9OX0lTX05VTEw9XCJFTEVDVFJPTl9JU19OVUxMXCIsZS5FTEVDVFJPTl9ERVNLVE9QX0NBUFRVUkVSX0dFVF9TT1VSQ0VTX0VSUk9SPVwiRUxFQ1RST05fREVTS1RPUF9DQVBUVVJFUl9HRVRfU09VUkNFU19FUlJPUlwiLGUuQ0hST01FX1BMVUdJTl9OT19SRVNQT05TRT1cIkNIUk9NRV9QTFVHSU5fTk9fUkVTUE9OU0VcIixlLkNIUk9NRV9QTFVHSU5fTk9UX0lOU1RBTEw9XCJDSFJPTUVfUExVR0lOX05PVF9JTlNUQUxMXCIsZS5NRURJQV9PUFRJT05fSU5WQUxJRD1cIk1FRElBX09QVElPTl9JTlZBTElEXCIsZS5QRVJNSVNTSU9OX0RFTklFRD1cIlBFUk1JU1NJT05fREVOSUVEXCIsZS5DT05TVFJBSU5UX05PVF9TQVRJU0ZJRUQ9XCJDT05TVFJBSU5UX05PVF9TQVRJU0ZJRURcIixlLlRSQUNLX0lTX0RJU0FCTEVEPVwiVFJBQ0tfSVNfRElTQUJMRURcIixlLkdFVF9WSURFT19FTEVNRU5UX1ZJU0lCTEVfRVJST1I9XCJHRVRfVklERU9fRUxFTUVOVF9WSVNJQkxFX0VSUk9SXCIsZS5TSEFSRV9BVURJT19OT1RfQUxMT1dFRD1cIlNIQVJFX0FVRElPX05PVF9BTExPV0VEXCIsZS5MT1dfU1RSRUFNX0VOQ09ESU5HX0VSUk9SPVwiTE9XX1NUUkVBTV9FTkNPRElOR19FUlJPUlwiLGUuU0VUX0VOQ09ESU5HX1BBUkFNRVRFUl9FUlJPUj1cIlNFVF9FTkNPRElOR19QQVJBTUVURVJfRVJST1JcIixlLlRSQUNLX1NUQVRFX1VOUkVBQ0hBQkxFPVwiVFJBQ0tfU1RBVEVfVU5SRUFDSEFCTEVcIixlLklOVkFMSURfVUlOVF9VSURfRlJPTV9TVFJJTkdfVUlEPVwiSU5WQUxJRF9VSU5UX1VJRF9GUk9NX1NUUklOR19VSURcIixlLkNBTl9OT1RfR0VUX1BST1hZX1NFUlZFUj1cIkNBTl9OT1RfR0VUX1BST1hZX1NFUlZFUlwiLGUuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVI9XCJDQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUlwiLGUuVk9JRF9HQVRFV0FZX0FERFJFU1M9XCJWT0lEX0dBVEVXQVlfQUREUkVTU1wiLGUuVUlEX0NPTkZMSUNUPVwiVUlEX0NPTkZMSUNUXCIsZS5NVUxUSV9VTklMQlNfUkVTUE9OU0VfRVJST1I9XCJNVUxUSV9VTklMQlNfUkVTUE9OU0VfRVJST1JcIixlLlVQREFURV9USUNLRVRfRkFJTEVEPVwiVVBEQVRFX1RJQ0tFVF9GQUlMRURcIixlLklOVkFMSURfTE9DQUxfVFJBQ0s9XCJJTlZBTElEX0xPQ0FMX1RSQUNLXCIsZS5JTlZBTElEX1RSQUNLPVwiSU5WQUxJRF9UUkFDS1wiLGUuU0VOREVSX05PVF9GT1VORD1cIlNFTkRFUl9OT1RfRk9VTkRcIixlLkNSRUFURV9PRkZFUl9GQUlMRUQ9XCJDUkVBVEVfT0ZGRVJfRkFJTEVEXCIsZS5TRVRfQU5TV0VSX0ZBSUxFRD1cIlNFVF9BTlNXRVJfRkFJTEVEXCIsZS5JQ0VfRkFJTEVEPVwiSUNFX0ZBSUxFRFwiLGUuUENfQ0xPU0VEPVwiUENfQ0xPU0VEXCIsZS5TRU5ERVJfUkVQTEFDRV9GQUlMRUQ9XCJTRU5ERVJfUkVQTEFDRV9GQUlMRURcIixlLkdFVF9MT0NBTF9DQVBBQklMSVRJRVNfRkFJTEVEPVwiR0VUX0xPQ0FMX0NBUEFCSUxJVElFU19GQUlMRURcIixlLkdFVF9MT0NBTF9DT05ORUNUSU9OX1BBUkFNU19GQUlMRUQ9XCJHRVRfTE9DQUxfQ09OTkVDVElPTl9QQVJBTVNfRkFJTEVEXCIsZS5TVUJTQ1JJQkVfRkFJTEVEPVwiU1VCU0NSSUJFX0ZBSUxFRFwiLGUuVU5TVUJTQ1JJQkVfRkFJTEVEPVwiVU5TVUJTQ1JJQkVfRkFJTEVEXCIsZS5HQVRFV0FZX1AyUF9MT1NUPVwiR0FURVdBWV9QMlBfTE9TVFwiLGUuTk9fSUNFX0NBTkRJREFURT1cIk5PX0lDRV9DQU5ESURBVEVcIixlLkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1M9XCJDQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTXCIsZS5FWElTVF9ESVNBQkxFRF9WSURFT19UUkFDSz1cIkVYSVNUX0RJU0FCTEVEX1ZJREVPX1RSQUNLXCIsZS5JTlZBTElEX1JFTU9URV9VU0VSPVwiSU5WQUxJRF9SRU1PVEVfVVNFUlwiLGUuUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRD1cIlJFTU9URV9VU0VSX0lTX05PVF9QVUJMSVNIRURcIixlLkNVU1RPTV9SRVBPUlRfU0VORF9GQUlMRUQ9XCJDVVNUT01fUkVQT1JUX1NFTkRfRkFJTEVEXCIsZS5DVVNUT01fUkVQT1JUX0ZSRVFVRU5DWV9UT09fSElHSD1cIkNVU1RPTV9SRVBPUlRfRlJFUVVFTkNZX1RPT19ISUdIXCIsZS5GRVRDSF9BVURJT19GSUxFX0ZBSUxFRD1cIkZFVENIX0FVRElPX0ZJTEVfRkFJTEVEXCIsZS5SRUFEX0xPQ0FMX0FVRElPX0ZJTEVfRVJST1I9XCJSRUFEX0xPQ0FMX0FVRElPX0ZJTEVfRVJST1JcIixlLkRFQ09ERV9BVURJT19GSUxFX0ZBSUxFRD1cIkRFQ09ERV9BVURJT19GSUxFX0ZBSUxFRFwiLGUuV1NfQUJPUlQ9XCJXU19BQk9SVFwiLGUuV1NfRElTQ09OTkVDVD1cIldTX0RJU0NPTk5FQ1RcIixlLldTX0VSUj1cIldTX0VSUlwiLGUuTElWRV9TVFJFQU1JTkdfVEFTS19DT05GTElDVD1cIkxJVkVfU1RSRUFNSU5HX1RBU0tfQ09ORkxJQ1RcIixlLkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfQVJHVU1FTlQ9XCJMSVZFX1NUUkVBTUlOR19JTlZBTElEX0FSR1VNRU5UXCIsZS5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1I9XCJMSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1JcIixlLkxJVkVfU1RSRUFNSU5HX1BVQkxJU0hfU1RSRUFNX05PVF9BVVRIT1JJWkVEPVwiTElWRV9TVFJFQU1JTkdfUFVCTElTSF9TVFJFQU1fTk9UX0FVVEhPUklaRURcIixlLkxJVkVfU1RSRUFNSU5HX1RSQU5TQ09ESU5HX05PVF9TVVBQT1JURUQ9XCJMSVZFX1NUUkVBTUlOR19UUkFOU0NPRElOR19OT1RfU1VQUE9SVEVEXCIsZS5MSVZFX1NUUkVBTUlOR19DRE5fRVJST1I9XCJMSVZFX1NUUkVBTUlOR19DRE5fRVJST1JcIixlLkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfUkFXX1NUUkVBTT1cIkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfUkFXX1NUUkVBTVwiLGUuTElWRV9TVFJFQU1JTkdfV0FSTl9TVFJFQU1fTlVNX1JFQUNIX0xJTUlUPVwiTElWRV9TVFJFQU1JTkdfV0FSTl9TVFJFQU1fTlVNX1JFQUNIX0xJTUlUXCIsZS5MSVZFX1NUUkVBTUlOR19XQVJOX0ZBSUxFRF9MT0FEX0lNQUdFPVwiTElWRV9TVFJFQU1JTkdfV0FSTl9GQUlMRURfTE9BRF9JTUFHRVwiLGUuTElWRV9TVFJFQU1JTkdfV0FSTl9GUkVRVUVOVF9SRVFVRVNUPVwiTElWRV9TVFJFQU1JTkdfV0FSTl9GUkVRVUVOVF9SRVFVRVNUXCIsZS5XRUJHTF9JTlRFUk5BTF9FUlJPUj1cIldFQkdMX0lOVEVSTkFMX0VSUk9SXCIsZS5CRUFVVFlfUFJPQ0VTU09SX0lOVEVSTkFMX0VSUk9SPVwiQkVBVVRZX1BST0NFU1NPUl9JTlRFUk5BTF9FUlJPUlwiLGUuQ1JPU1NfQ0hBTk5FTF9XQUlUX1NUQVRVU19FUlJPUj1cIkNST1NTX0NIQU5ORUxfV0FJVF9TVEFUVVNfRVJST1JcIixlLkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fU1JDPVwiQ1JPU1NfQ0hBTk5FTF9GQUlMRURfSk9JTl9TRUNcIixlLkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fREVTVD1cIkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fREVTVFwiLGUuQ1JPU1NfQ0hBTk5FTF9GQUlMRURfUEFDS0VUX1NFTlRfVE9fREVTVD1cIkNST1NTX0NIQU5ORUxfRkFJTEVEX1BBQ0tFVF9TRU5UX1RPX0RFU1RcIixlLkNST1NTX0NIQU5ORUxfU0VSVkVSX0VSUk9SX1JFU1BPTlNFPVwiQ1JPU1NfQ0hBTk5FTF9TRVJWRVJfRVJST1JfUkVTUE9OU0VcIixlLk1FVEFEQVRBX09VVF9PRl9SQU5HRT1cIk1FVEFEQVRBX09VVF9PRl9SQU5HRVwiLGUuTE9DQUxfQUVDX0VSUk9SPVwiTE9DQUxfQUVDX0VSUk9SXCIsZS5JTlZBTElEX1BMVUdJTj1cIklOVkFMSURfUExVR0lOXCIsZS5ESVNDT05ORUNUX1AyUD1cIkRJU0NPTk5FQ1RfUDJQXCIsZS5JTklUX1dFQlNPQ0tFVF9USU1FT1VUPVwiSU5JVF9XRUJTT0NLRVRfVElNRU9VVFwiLGUuQ09OVkVSVElOR19JTUFHRURBVEFfVE9fQkxPQl9GQUlMRUQ9XCJDT05WRVJUSU5HX0lNQUdFREFUQV9UT19CTE9CX0ZBSUxFRFwiLGUuQ09OVkVSVElOR19WSURFT19GUkFNRV9UT19CTE9CX0ZBSUxFRD1cIkNPTlZFUlRJTkdfVklERU9fRlJBTUVfVE9fQkxPQl9GQUlMRURcIixlLklOSVRfREFUQUNIQU5ORUxfVElNRU9VVD1cIklOSVRfREFUQUNIQU5ORUxfVElNRU9VVFwiLGUuREFUQUNIQU5ORUxfQ09OTkVDVElPTl9USU1FT1VUPVwiREFUQUNIQU5ORUxfQ09OTkVDVElPTl9USU1FT1VUXCIsZS5QUk9ISUJJVEVEX09QRVJBVElPTj1cIlBST0hJQklURURfT1BFUkFUSU9OXCIsZS5JTUFHRV9NT0RFUkFUSU9OX1VQTE9BRF9GQUlMRUQ9XCJJTUFHRV9NT0RFUkFUSU9OX1VQTE9BRF9GQUlMRURcIn0oeGd8fCh4Zz17fSkpO2xldCBWZz1jbGFzcyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIlwiLGk9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7c3VwZXIodCksbnUodGhpcyxcImNvZGVcIix2b2lkIDApLG51KHRoaXMsXCJtZXNzYWdlXCIsdm9pZCAwKSxudSh0aGlzLFwiZGF0YVwiLHZvaWQgMCksbnUodGhpcyxcIm5hbWVcIixcIkFnb3JhUlRDRXhjZXB0aW9uXCIpLHRoaXMuY29kZT1lLHRoaXMubWVzc2FnZT1cIkFnb3JhUlRDRXJyb3IgXCIuY29uY2F0KHRoaXMuY29kZSxcIjogXCIpLmNvbmNhdCh0KSx0aGlzLmRhdGE9aX10b1N0cmluZygpe3JldHVybiB0aGlzLmRhdGE/XCJkYXRhOiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhKSxcIlxcblwiKS5jb25jYXQodGhpcy5zdGFjayk6XCJcIi5jb25jYXQodGhpcy5zdGFjayl9cHJpbnQoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJlcnJvclwiLHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7cmV0dXJuXCJlcnJvclwiPT09ZSYmKHR8fGNvbnNvbGUpLmVycm9yKHRoaXMudG9TdHJpbmcoKSksXCJ3YXJuaW5nXCI9PT1lJiYodHx8Y29uc29sZSkud2Fybih0aGlzLnRvU3RyaW5nKCkpLHRoaXN9dGhyb3coZSl7dGhyb3cgdGhpcy5wcmludChcImVycm9yXCIsZSksdGhpc319O2Z1bmN0aW9uIEZnKGUsdCl7aWYoXCJib29sZWFuXCIhPXR5cGVvZiBlKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX1BBUkFNUyxcIkludmFsaWQgXCIuY29uY2F0KHQsXCI6IFRoZSB2YWx1ZSBpcyBvZiB0aGUgYm9vbGVhbiB0eXBlLlwiKSl9ZnVuY3Rpb24gQmcoZSx0LGkpe2lmKFByKGkpLmNhbGwoaSxlKSlyZXR1cm47dGhyb3cgbmV3IFZnKHhnLklOVkFMSURfUEFSQU1TLFwiXCIuY29uY2F0KHQsXCIgY2FuIG9ubHkgYmUgc2V0IGFzIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoaSkpKX1mdW5jdGlvbiBqZyhlLHQpe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjFlNDtpZihlPGl8fGU+bnx8KCEoYXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0pfHxhcmd1bWVudHNbNF0pJiYhZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmUlMT09MH0oZSkpe3Rocm93IG5ldyBWZyh4Zy5JTlZBTElEX1BBUkFNUyxcImludmFsaWQgXCIuY29uY2F0KHQsXCI6IHRoZSB2YWx1ZSByYW5nZSBpcyBbXCIpLmNvbmNhdChpLFwiLCBcIikuY29uY2F0KG4sXCJdLiBpbnRlZ2VyIG9ubHlcIikpfX1mdW5jdGlvbiBHZyhlLHQpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXtpZighKGUubWlufHxlLm1heHx8ZS5pZGVhbHx8ZS5leGFjdCkpe3Rocm93IG5ldyBWZyh4Zy5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdCh0LFwiIGlzIG5vdCBhIHZhbGlkIENvbnN0cmFpbkxvbmdcIikpfXZvaWQgMCE9PWUubWluJiZqZyhlLm1pbixcIlwiLmNvbmNhdCh0LFwiLm1pblwiKSwwLDEvMCksdm9pZCAwIT09ZS5tYXgmJmpnKGUubWF4LFwiXCIuY29uY2F0KHQsXCIubWF4XCIpLDEsMS8wKSx2b2lkIDAhPT1lLmV4YWN0JiZqZyhlLmV4YWN0LFwiXCIuY29uY2F0KHQsXCIuZXhhY3RcIiksMSwxLzApLHZvaWQgMCE9PWUuaWRlYWwmJmpnKGUuaWRlYWwsXCJcIi5jb25jYXQodCxcIi5pZGVhbFwiKSwxLDEvMCl9ZWxzZSBqZyhlLHQsMSwxLzApfWZ1bmN0aW9uIFdnKGUsdCl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MjU1LHI9IShhcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSl8fGFyZ3VtZW50c1s0XTtpZihudWxsPT1lKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdCh0fHxcInBhcmFtXCIsXCIgY2Fubm90IGJlIGVtcHR5XCIpKTtpZighWWcoZSxpLG4scikpdGhyb3cgbmV3IFZnKHhnLklOVkFMSURfUEFSQU1TLFwiSW52YWxpZCBcIi5jb25jYXQodHx8XCJzdHJpbmcgcGFyYW1cIixcIjogTGVuZ3RoIG9mIHRoZSBzdHJpbmc6IFtcIikuY29uY2F0KGksXCIsXCIpLmNvbmNhdChuLFwiXS5cIikuY29uY2F0KHI/XCIgQVNDSUkgY2hhcmFjdGVycyBvbmx5LlwiOlwiXCIpKX1mdW5jdGlvbiBIZyhlLHQpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdCh0LFwiIHNob3VsZCBiZSBhbiBhcnJheVwiKSl9ZnVuY3Rpb24gS2coZSl7cmV0dXJuIG51bGw9PWV9ZnVuY3Rpb24gWWcoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MjU1LG49IShhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSl8fGFyZ3VtZW50c1szXTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmZS5sZW5ndGg8PWkmJmUubGVuZ3RoPj10JiYoIW58fGZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiExO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9MSl7Y29uc3QgaT1lLmNoYXJDb2RlQXQodCk7aWYoaTwwfHxpPjI1NSlyZXR1cm4hMX1yZXR1cm4hMH0oZSkpfWZ1bmN0aW9uIHFnKGUsdCxpKXtpZihcImdldEJpZ1VpbnQ2NFwiaW4gRGF0YVZpZXcucHJvdG90eXBlKXJldHVybiBlLmdldEJpZ1VpbnQ2NCh0LGkpO2NvbnN0IG49ZS5nZXRVaW50MzIodCxpKSxyPWUuZ2V0VWludDMyKHQrNCxpKSxzPU51bWJlcighIWkpLG89TnVtYmVyKCFpKTtyZXR1cm4gQmlnSW50KG4qbytyKnMpPDxCaWdJbnQoMzIpfEJpZ0ludChuKnMrcipvKX1mdW5jdGlvbiBKZyhlLHQsaSxuKXtpZihcInNldEJpZ1VpbnQ2NFwiaW4gRGF0YVZpZXcucHJvdG90eXBlKXJldHVybiBlLnNldEJpZ1VpbnQ2NCh0LGksbik7Y29uc3Qgcj1OdW1iZXIoaT4+QmlnSW50KDMyKSkscz1OdW1iZXIoaSZCaWdJbnQoNDI5NDk2NzI5NSkpO24/KGUuc2V0VWludDMyKHQrNCxyLG4pLGUuc2V0VWludDMyKHQscyxuKSk6KGUuc2V0VWludDMyKHQscixuKSxlLnNldFVpbnQzMih0KzQscyxuKSl9dmFyIHpnLFhnOyFmdW5jdGlvbihlKXtlLkNPVkVSRUQ9XCJDT1ZFUkVEXCIsZS5QT1NJVElPTj1cIlBPU0lUSU9OXCIsZS5TSVpFPVwiU0laRVwiLGUuU1RZTEU9XCJTVFlMRVwifSh6Z3x8KHpnPXt9KSksZnVuY3Rpb24oZSl7ZS5VTk1PVU5URUQ9XCJVTk1PVU5URURcIixlLklOVkFMSURfSFRNTF9FTEVNRU5UPVwiSU5WQUxJRF9IVE1MX0VMRU1FTlRcIn0oWGd8fChYZz17fSkpO2NvbnN0IFFnPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe251KHRoaXMsXCJfY2xpZW50U2l6ZVwiLG51bGwpLG51KHRoaXMsXCJnZXRDbGllbnRXaWR0aFwiLCgoKT0+ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50P2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDpkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKSksbnUodGhpcyxcImdldENsaWVudEhlaWdodFwiLCgoKT0+ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50P2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ6ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQpKSxudSh0aGlzLFwiZ2V0U3R5bGVcIiwoZT0+d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSxudWxsKSkpLG51KHRoaXMsXCJjaGVja0Nzc1Zpc2libGVQcm9wZXJ0eVwiLChlPT57dmFyIHQ7bGV0IGk9ITA7Y29uc3Qgbj10aGlzLmdldFN0eWxlKGUpLHtkaXNwbGF5OnIsdmlzaWJpbGl0eTpzLG9wYWNpdHk6byxmaWx0ZXI6YX09bjtpZigoXCJub25lXCI9PT1yfHxQcih0PVtcImhpZGRlblwiLFwiY29sbGFwc2VcIl0pLmNhbGwodCxzKXx8TnVtYmVyKG8pPC4xKSYmKGk9ITEpLCFpKXJldHVybiExO2lmKGEpe2Euc3BsaXQoXCIgXCIpLmZpbHRlcigoZT0+e3ZhciB0O2NvbnN0IGk9ZS5zcGxpdChcIihcIilbMF07cmV0dXJuIFByKHQ9W1wiYnJpZ2h0bmVzc1wiLFwiYmx1clwiLFwib3BhY2l0eVwiXSkuY2FsbCh0LGkpfSkpLm1hcCgoZT0+e2NvbnN0W3QsaV09ZS5zcGxpdCgvXFwofFxcKS8pO3JldHVyblt0LE51bWJlcihpLm1hdGNoKC9eWzAtOVxcLl0rLykpXX0pKS5mb3JFYWNoKChlPT57Y29uc3RbdCxuXT1lO3N3aXRjaCh0KXtjYXNlXCJicmlnaHRuZXNzXCI6KG48LjF8fG4+MykmJihpPSExKTticmVhaztjYXNlXCJibHVyXCI6bj4zJiYoaT0hMSk7YnJlYWs7Y2FzZVwib3BhY2l0eVwiOm48LjEmJihpPSExKX19KSl9cmV0dXJuIGl9KSksbnUodGhpcyxcImNoZWNrUHJvcGVydHlVcFRvQWxsUGFyZW50Tm9kZXNcIiwoKGUsdCk9PntsZXQgaT0hMCxuPSEwO2NvbnN0IHI9ZT0+dChlKTtsZXQgcz1lO2Zvcig7cyYmbjspe3Iocyl8fChpPSExLG49ITEpLHM9cy5wYXJlbnRFbGVtZW50LHN8fChuPSExKX1yZXR1cm4gaX0pKSxudSh0aGlzLFwiY2hlY2tBY3R1YWxDc3NWaXNpYmxlSW5jbHVkZUluaGVyaXRcIiwoZT0+dGhpcy5jaGVja1Byb3BlcnR5VXBUb0FsbFBhcmVudE5vZGVzKGUsdGhpcy5jaGVja0Nzc1Zpc2libGVQcm9wZXJ0eSkpKSxudSh0aGlzLFwiZ2V0U2l6ZUFib3V0Q2xpZW50XCIsKGU9Pntjb25zdHt3aWR0aDp0LGhlaWdodDppLGxlZnQ6bixyaWdodDpyLHRvcDpzLGJvdHRvbTpvfT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9dGhpcy5nZXRDbGllbnRXaWR0aCgpLGM9dGhpcy5nZXRDbGllbnRIZWlnaHQoKTtyZXR1cm57d2lkdGg6dCxoZWlnaHQ6aSxsZWZ0Om4scmlnaHQ6cix0b3A6cyxib3R0b206byxjbGllbnRXaWR0aDphLGNsaWVudEhlaWdodDpjLGNsaWVudE1pbjpNYXRoLm1pbihhLGMpfX0pKSxudSh0aGlzLFwiY2hlY2tBY3R1YWxTaXplXCIsKCgpPT57Y29uc3R7d2lkdGg6ZSxoZWlnaHQ6dCxjbGllbnRNaW46aX09dGhpcy5fY2xpZW50U2l6ZTtyZXR1cm4gdGhpcy5jaGVja1NpemVJc1Zpc2libGUoZSx0LGkpfSkpLG51KHRoaXMsXCJlbGVtZW50RnJvbVBvaW50XCIsKChlLHQpPT5kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50P2RvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZSx0KTpudWxsKSksbnUodGhpcyxcImNoZWNrQ292ZXJGb3JBUG9pbnRcIiwoKGUsdCxpKT0+e2NvbnN0IG49dGhpcy5lbGVtZW50RnJvbVBvaW50KGUsdCk7cmV0dXJuIG51bGwhPT1uJiZuIT09aX0pKSxudSh0aGlzLFwiZ2V0UG9pbnRQb3NpdGlvbkxpc3RcIiwoKCk9Pntjb25zdHt3aWR0aDplLGhlaWdodDp0LGxlZnQ6aSx0b3A6bn09dGhpcy5fY2xpZW50U2l6ZSxyPWUvNixzPXQvNixvPVtdLGE9MTAqKjY7Zm9yKGxldCBlPTA7ZTw1O2UrKylmb3IobGV0IHQ9MDt0PDU7dCsrKXtjb25zdCBjPShpKmErKDA9PT1lPy4xOjQ9PT1lPyhyKmUqYS0xZTUpL2E6ciplKSphKS9hLGQ9KG4qYSsoMD09PXQ/LjE6ND09PXQ/KHMqdCphLTFlNSkvYTpzKnQpKmEpL2E7by5wdXNoKHt4OmMseTpkfSl9cmV0dXJuWy4uLm9dfSkpLG51KHRoaXMsXCJjaGVja0VsZW1lbnRDb3ZlclwiLChlPT50aGlzLmdldFBvaW50UG9zaXRpb25MaXN0KCkubWFwKCh0PT50aGlzLmNoZWNrQ292ZXJGb3JBUG9pbnQodC54LHQueSxlKSkpLmZpbHRlcigoZT0+ISFlKSkubGVuZ3RoPjYpKSxudSh0aGlzLFwiY2hlY2tTaXplSXNWaXNpYmxlXCIsKChlLHQsaSk9PihlPjUwfHxpL2U8PTEwKSYmKHQ+NTB8fGkvdDw9MTApKSksbnUodGhpcyxcImNoZWNrU2l6ZU9mUGFydEluQ2xpZW50XCIsKCgpPT57Y29uc3R7bGVmdDplLHJpZ2h0OnQsdG9wOmksYm90dG9tOm4sY2xpZW50SGVpZ2h0OnIsY2xpZW50V2lkdGg6cyxjbGllbnRNaW46b309dGhpcy5fY2xpZW50U2l6ZTtsZXQgYSxjLGQsbDtpZihlPDApYT0wO2Vsc2V7aWYoIShlPHMpKXJldHVybiExO2E9ZX1pZih0PDApcmV0dXJuITE7aWYoYz10PHM/dDpzLGk8MClkPTA7ZWxzZXtpZighKGk8cikpcmV0dXJuITE7ZD1pfWlmKG48MClyZXR1cm4hMTtsPW48cj9uOnI7Y29uc3QgaD1jLWEsdT1sLWQ7cmV0dXJuIHRoaXMuY2hlY2tTaXplSXNWaXNpYmxlKGgsdSxvKX0pKSxudSh0aGlzLFwicmV0dXJuSGlkZGVuUmVzdWx0XCIsKGU9Pih0aGlzLl9jbGllbnRTaXplPW51bGwse3Zpc2libGU6ITEscmVhc29uOmV9KSkpLG51KHRoaXMsXCJjaGVja09uZUVsZW1lbnRWaXNpYmxlXCIsKGU9PntpZihlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpe2lmKHRoaXMuY2hlY2tFbGVtZW50SXNNb3VudGVkT25Eb20oZSkpe2lmKHRoaXMuY2hlY2tBY3R1YWxDc3NWaXNpYmxlSW5jbHVkZUluaGVyaXQoZSkpe2lmKHRoaXMuX2NsaWVudFNpemU9dGhpcy5nZXRTaXplQWJvdXRDbGllbnQoZSksdGhpcy5jaGVja0VsZW1lbnRDb3ZlcihlKSlyZXR1cm4gdGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoemcuQ09WRVJFRCk7e2NvbnN0IGU9dGhpcy5jaGVja0FjdHVhbFNpemUoKSx0PXRoaXMuY2hlY2tTaXplT2ZQYXJ0SW5DbGllbnQoKTtyZXR1cm4gZSYmIXQ/dGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoemcuUE9TSVRJT04pOmU/KHRoaXMuX2NsaWVudFNpemU9bnVsbCx7dmlzaWJsZTohMH0pOnRoaXMucmV0dXJuSGlkZGVuUmVzdWx0KHpnLlNJWkUpfX1yZXR1cm4gdGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoemcuU1RZTEUpfXJldHVybiB0aGlzLnJldHVybkhpZGRlblJlc3VsdChYZy5VTk1PVU5URUQpfXJldHVybiB0aGlzLnJldHVybkhpZGRlblJlc3VsdChYZy5JTlZBTElEX0hUTUxfRUxFTUVOVCl9KSksbnUodGhpcyxcImNoZWNrRWxlbWVudElzTW91bnRlZE9uRG9tXCIsKGU9PnRoaXMuY2hlY2tQcm9wZXJ0eVVwVG9BbGxQYXJlbnROb2RlcyhlLChlPT5cIkhUTUxcIiE9PWUubm9kZU5hbWUudG9VcHBlckNhc2UoKT9udWxsIT09ZS5wYXJlbnRFbGVtZW50OiEhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSkpKX19O2Z1bmN0aW9uIFpnKGUpe3JldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKX1jb25zdCAkZz1mdW5jdGlvbihlLHQpe2NvbnN0IGk9bmV3IFVpbnQ4QXJyYXkoZS5ieXRlTGVuZ3RoK3QuYnl0ZUxlbmd0aCk7cmV0dXJuIGkuc2V0KG5ldyBVaW50OEFycmF5KGUpLDApLGkuc2V0KG5ldyBVaW50OEFycmF5KHQpLGUuYnl0ZUxlbmd0aCksaX07Y29uc3QgZVM9YXN5bmMgZT0+e2NvbnN0IHQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD13aW5kb3cuYXRvYihlKSxpPW5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcih0Lmxlbmd0aCkpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSs9MSlpW2VdPXQuY2hhckNvZGVBdChlKTtyZXR1cm4gaX0oXCJNSUdmTUEwR0NTcUdTSWIzRFFFQkFRVUFBNEdOQURDQmlRS0JnUURDTW5YQUhrS0lHQU0reDROMjJnQ0krV3l1XFxuU1RNOXp0a1QzdVlzbFRUMlB1S21aZlB6aEg2a1ZkTzdQVGpHQ09abkFzeWIzb1R0V2F0MEtjeFE0anh2cVFWK1xcbkh2WWwzaUkxWWQ0dmwyYzNxUk1KUEx0UkRmTnhhMk1jeGdxN2U5YUVVaWJ6ZGQwc3QrT0pBeTN0T2ovWTBhVnlcXG54UWlZRHozdnFhNmJQMjlhZHdJREFRQUJcIiksaT1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXCJzcGtpXCIsdCx7bmFtZTpcIlJTQS1PQUVQXCIsaGFzaDpcIlNIQS0yNTZcIn0sITAsW1wiZW5jcnlwdFwiXSksbj1aZyhlKSxyPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmVuY3J5cHQoe25hbWU6XCJSU0EtT0FFUFwifSxpLG4pO3JldHVybiBmdW5jdGlvbihlKXtsZXQgdD1cIlwiO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSs9MSl0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbaV0pO3JldHVybiB3aW5kb3cuYnRvYSh0KX0obmV3IFVpbnQ4QXJyYXkocikpfSx0Uz1hc3luYyBlPT5mdW5jdGlvbihlLHQpe2xldCBpPVwiXCI7cmV0dXJuIG5ldyBVaW50OEFycmF5KGUpLmZvckVhY2goKGU9PntpKz1lLnRvU3RyaW5nKHQpLnBhZFN0YXJ0KDIsXCIwXCIpfSkpLGl9KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTI1NlwiLFpnKGUpKSwxNik7Y2xhc3MgaVN7Y29uc3RydWN0b3IoKXtudSh0aGlzLFwiX2V2ZW50c1wiLHt9KSxudSh0aGlzLFwiYWRkTGlzdGVuZXJcIix0aGlzLm9uKX1nZXRMaXN0ZW5lcnMoZSl7cmV0dXJuIHRoaXMuX2V2ZW50c1tlXT90aGlzLl9ldmVudHNbZV0ubWFwKChlPT5lLmxpc3RlbmVyKSk6W119b24oZSx0KXt0aGlzLl9ldmVudHNbZV18fCh0aGlzLl9ldmVudHNbZV09W10pO2NvbnN0IGk9dGhpcy5fZXZlbnRzW2VdOy0xPT09dGhpcy5faW5kZXhPZkxpc3RlbmVyKGksdCkmJmkucHVzaCh7bGlzdGVuZXI6dCxvbmNlOiExfSl9b25jZShlLHQpe3RoaXMuX2V2ZW50c1tlXXx8KHRoaXMuX2V2ZW50c1tlXT1bXSk7Y29uc3QgaT10aGlzLl9ldmVudHNbZV07LTE9PT10aGlzLl9pbmRleE9mTGlzdGVuZXIoaSx0KSYmaS5wdXNoKHtsaXN0ZW5lcjp0LG9uY2U6ITB9KX1vZmYoZSx0KXtpZighdGhpcy5fZXZlbnRzW2VdKXJldHVybjtjb25zdCBpPXRoaXMuX2V2ZW50c1tlXSxuPXRoaXMuX2luZGV4T2ZMaXN0ZW5lcihpLHQpOy0xIT09biYmaS5zcGxpY2UobiwxKSwwPT09dGhpcy5fZXZlbnRzW2VdLmxlbmd0aCYmZGVsZXRlIHRoaXMuX2V2ZW50c1tlXX1yZW1vdmVBbGxMaXN0ZW5lcnMoZSl7ZT9kZWxldGUgdGhpcy5fZXZlbnRzW2VdOnRoaXMuX2V2ZW50cz17fX1lbWl0KGUpe3RoaXMuX2V2ZW50c1tlXXx8KHRoaXMuX2V2ZW50c1tlXT1bXSk7Y29uc3QgdD10aGlzLl9ldmVudHNbZV0ubWFwKChlPT5lKSk7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoaT4xP2ktMTowKSxyPTE7cjxpO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSs9MSl7Y29uc3Qgcj10W2ldO3Iub25jZSYmdGhpcy5vZmYoZSxyLmxpc3RlbmVyKSxyLmxpc3RlbmVyLmFwcGx5KHRoaXMsbnx8W10pfX1zYWZlRW1pdChlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0PjE/dC0xOjApLG49MTtuPHQ7bisrKWlbbi0xXT1hcmd1bWVudHNbbl07Wy4uLnRoaXMuX2V2ZW50c1tlXXx8W11dLmZvckVhY2goKHQ9Pnt0Lm9uY2UmJnRoaXMub2ZmKGUsdC5saXN0ZW5lcik7dHJ5e3QubGlzdGVuZXIuYXBwbHkodGhpcyxpKX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKFwic2FmZUVtaXQgZXZlbnQ6XCIuY29uY2F0KGUsXCIgZXJyb3IgXCIpLmNvbmNhdChudWxsPT10P3ZvaWQgMDp0LnRvU3RyaW5nKCkpKX19KSl9X2luZGV4T2ZMaXN0ZW5lcihlLHQpe2xldCBpPWUubGVuZ3RoO2Zvcig7aS0tOylpZihlW2ldLmxpc3RlbmVyPT09dClyZXR1cm4gaTtyZXR1cm4tMX19bGV0IG5TPW51bGw7ZnVuY3Rpb24gclMoKXtpZihuUylyZXR1cm4gblM7aWYod2luZG93LmVsZWN0cm9uKXJldHVybiBuUz13aW5kb3cuZWxlY3Ryb247aWYoIXdpbmRvdy5yZXF1aXJlKXJldHVybiBudWxsO3RyeXtyZXR1cm4gblM9d2luZG93LnJlcXVpcmUoXCJlbGVjdHJvblwiKSxuU31jYXRjaChlKXtyZXR1cm4gbnVsbH19dmFyIHNTLG9TLGFTLGNTLGRTLGxTLGhTLHVTO2Z1bmN0aW9uIHBTKGUpe3JldHVybiBqZyhlLnRpbWVvdXQsXCJjb25maWcudGltZW91dFwiLDAsMWU1KSxqZyhlLnRpbWVvdXRGYWN0b3IsXCJjb25maWcudGltZW91dEZhY3RvclwiLDAsMTAwLCExKSxqZyhlLm1heFJldHJ5Q291bnQsXCJjb25maWcubWF4UmV0cnlDb25maWdcIiwwLDEvMCksamcoZS5tYXhSZXRyeVRpbWVvdXQsXCJjb25maWcubWF4UmV0cnlUaW1lb3V0XCIsMCwxLzApLCEwfWZ1bmN0aW9uIF9TKGUpe2lmKCFBcnJheS5pc0FycmF5KGUpfHxlLmxlbmd0aDwxKXJldHVybiExO3RyeXtlLmZvckVhY2goKGU9PntpZighZS51cmxzKXRocm93IEVycm9yKCl9KSl9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gRVMoZSl7cmV0dXJuIFdnKGUudHVyblNlcnZlclVSTCxcInR1cm5TZXJ2ZXJVUkxcIiksV2coZS51c2VybmFtZSxcInVzZXJuYW1lXCIpLFdnKGUucGFzc3dvcmQsXCJwYXNzd29yZFwiKSxlLnVkcHBvcnQmJmpnKGUudWRwcG9ydCxcInVkcHBvcnRcIiwxLDk5OTk5LCEwKSxlLmZvcmNldHVybiYmRmcoZS5mb3JjZXR1cm4sXCJmb3JjZXR1cm5cIiksZS5zZWN1cml0eSYmRmcoZS5zZWN1cml0eSxcInNlY3VyaXR5XCIpLGUudGNwcG9ydCYmamcoZS50Y3Bwb3J0LFwidGNwcG9ydFwiLDEsOTk5OTksITApLCEwfWZ1bmN0aW9uIG1TKGUpe3JldHVybiB2b2lkIDAhPT1lLmxldmVsJiZCZyhlLmxldmVsLFwibGV2ZWxcIixbMSwyLDNdKSx2b2lkIDAhPT1lLmRlbGF5JiZqZyhlLmRlbGF5LFwiZGVsYXlcIiwwLDNlMywhMCksITB9ZnVuY3Rpb24gZlMoZSx0KXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShpPjI/aS0yOjApLHI9MjtyPGk7cisrKW5bci0yXT1hcmd1bWVudHNbcl07cmV0dXJuIDA9PT1lLmdldExpc3RlbmVycyh0KS5sZW5ndGg/dGcucmVqZWN0KG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBlbWl0IHByb21pc2VcIikpOm5ldyB0ZygoKGkscik9PntlLmVtaXQodCwuLi5uLGkscil9KSl9ZnVuY3Rpb24gZ1MoZSx0KXtpZigwPT09ZS5nZXRMaXN0ZW5lcnModCkubGVuZ3RoKXJldHVybiB0Zy5yZXNvbHZlKCk7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoaT4yP2ktMjowKSxyPTI7cjxpO3IrKyluW3ItMl09YXJndW1lbnRzW3JdO3JldHVybiBmUyhlLHQsLi4ubil9ZnVuY3Rpb24gU1MoZSx0KXtpZigwPT09ZS5nZXRMaXN0ZW5lcnModCkubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGk+Mj9pLTI6MCkscj0yO3I8aTtyKyspbltyLTJdPWFyZ3VtZW50c1tyXTtyZXR1cm4gVFMoZSx0LC4uLm4pfWZ1bmN0aW9uIFRTKGUsdCl7bGV0IGk9bnVsbCxuPW51bGw7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkocj4yP3ItMjowKSxvPTI7bzxyO28rKylzW28tMl09YXJndW1lbnRzW29dO2lmKGUuZW1pdCh0LC4uLnMsKGU9PntpPWV9KSwoZT0+e249ZX0pKSxudWxsIT09bil0aHJvdyBuO2lmKG51bGw9PT1pKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiaGFuZGxlciBpcyBub3Qgc3luY1wiKTtyZXR1cm4gaX0hZnVuY3Rpb24oZSl7ZS5DUkVBVEVfQ0xJRU5UPVwiY3JlYXRlQ2xpZW50XCIsZS5DSEVDS19TWVNURU1fUkVRVUlSRU1FTlRTPVwiY2hlY2tTeXN0ZW1SZXF1aXJlbWVudHNcIixlLlNFVF9BUkVBPVwic2V0QXJlYVwiLGUuQ0hFQ0tfVklERU9fVFJBQ0tfSVNfQUNUSVZFPVwiY2hlY2tWaWRlb1RyYWNrSXNBY3RpdmVcIixlLkNIRUNLX0FVRElPX1RSQUNLX0lTX0FDVElWRT1cImNoZWNrQXVkaW9UcmFja0lzQWN0aXZlXCIsZS5DUkVBVEVfTUlDX0FVRElPX1RSQUNLPVwiY3JlYXRlTWljcm9waG9uZUF1ZGlvVHJhY2tcIixlLkNSRUFURV9DVVNUT01fQVVESU9fVFJBQ0s9XCJjcmVhdGVDdXN0b21BdWRpb1RyYWNrXCIsZS5DUkVBVEVfQlVGRkVSX0FVRElPX1RSQUNLPVwiY3JlYXRlQnVmZmVyU291cmNlQXVkaW9UcmFja1wiLGUuQ1JFQVRFX0NBTV9WSURFT19UUkFDSz1cImNyZWF0ZUNhbWVyYVZpZGVvVHJhY2tcIixlLkNSRUFURV9DVVNUT01fVklERU9fVFJBQ0s9XCJjcmVhdGVDdXN0b21WaWRlb1RyYWNrXCIsZS5DUkVBVEVfTUlDX0FORF9DQU1fVFJBQ0tTPVwiY3JlYXRlTWljcm9waG9uZUFuZENhbWVyYVRyYWNrc1wiLGUuQ1JFQVRFX1NDUkVFTl9WSURFT19UUkFDSz1cImNyZWF0ZVNjcmVlblZpZGVvVHJhY2tcIixlLlNFVF9FTkNSWVBUSU9OX0NPTkZJRz1cIkNsaWVudC5zZXRFbmNyeXB0aW9uQ29uZmlnXCIsZS5TVEFSVF9QUk9YWV9TRVJWRVI9XCJDbGllbnQuc3RhcnRQcm94eVNlcnZlclwiLGUuU1RPUF9QUk9YWV9TRVJWRVI9XCJDbGllbnQuc3RvcFByb3h5U2VydmVyXCIsZS5TRVRfUFJPWFlfU0VSVkVSPVwiQ2xpZW50LnNldFByb3h5U2VydmVyXCIsZS5TRVRfVFVSTl9TRVJWRVI9XCJDbGllbnQuc2V0VHVyblNlcnZlclwiLGUuU0VUX0NMSUVOVF9ST0xFPVwiQ2xpZW50LnNldENsaWVudFJvbGVcIixlLlNFVF9MT1dfU1RSRUFNX1BBUkFNRVRFUj1cIkNsaWVudC5zZXRMb3dTdHJlYW1QYXJhbWV0ZXJcIixlLkVOQUJMRV9EVUFMX1NUUkVBTT1cIkNsaWVudC5lbmFibGVEdWFsU3RyZWFtXCIsZS5ESVNBQkxFX0RVQUxfU1RSRUFNPVwiQ2xpZW50LmRpc2FibGVEdWFsU3RyZWFtXCIsZS5KT0lOPVwiQ2xpZW50LmpvaW5cIixlLkxFQVZFPVwiQ2xpZW50LmxlYXZlXCIsZS5QVUJMSVNIPVwiQ2xpZW50LnB1Ymxpc2hcIixlLlVOUFVCTElTSD1cIkNsaWVudC51bnB1Ymxpc2hcIixlLlNVQlNDUklCRT1cIkNsaWVudC5zdWJzY3JpYmVcIixlLk1BU1NfU1VCU0NSSUJFPVwiQ2xpZW50Lm1hc3NTdWJzY3JpYmVcIixlLk1BU1NfVU5TVUJTQ1JJQkU9XCJDbGllbnQubWFzc1Vuc3Vic2NyaWJlXCIsZS5VTlNVQlNDUklCRT1cIkNsaWVudC51bnN1YnNjcmliZVwiLGUuUkVORVdfVE9LRU49XCJDbGllbnQucmVuZXdUb2tlblwiLGUuU0VUX1JFTU9URV9WSURFT19TVFJFQU1fVFlQRT1cIkNsaWVudC5zZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGVcIixlLlNFVF9TVFJFQU1fRkFMTEJBQ0tfT1BUSU9OPVwiQ2xpZW50LnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uXCIsZS5FTkFCTEVfQVVESU9fVk9MVU1FX0lORElDQVRPUj1cIkNsaWVudC5lbmFibGVBdWRpb1ZvbHVtZUluZGljYXRvclwiLGUuU0VORF9DVVNUT01fUkVQT1JUX01FU1NBR0U9XCJDbGllbnQuc2VuZEN1c3RvbVJlcG9ydE1lc3NhZ2VcIixlLklOU1BFQ1RfVklERU9fQ09OVEVOVD1cIkNsaWVudC5pbnNwZWN0VmlkZW9Db250ZW50XCIsZS5TVE9QX0lOU1BFQ1RfVklERU9fQ09OVEVOVD1cIkNsaWVudC5zdG9wSW5zcGVjdFZpZGVvQ29udGVudFwiLGUuSk9JTl9GQUxMQkFDS19UT19QUk9YWT1cIkNsaWVudC5fam9pbkZhbGxiYWNrVG9Qcm94eVwiLGUuREFUQUNIQU5ORUxfRkFJTEJBQ0s9XCJDbGllbnQuX2RhdGFjaGFubmVsRmFpbGJhY2tcIixlLk9OX0xJVkVfU1RSRUFNX1dBUk5JTkc9XCJDbGllbnQub25MaXZlU3RyZWFtV2FybmluZ1wiLGUuT05fTElWRV9TVFJFQU1fRVJST1I9XCJDbGllbnQub25MaXZlU3RyZWFtaW5nRXJyb3JcIixlLlNUQVJUX0xJVkVfU1RSRUFNSU5HPVwiQ2xpZW50LnN0YXJ0TGl2ZVN0cmVhbWluZ1wiLGUuU0VUX0xJVkVfVFJBTlNDT0RJTkc9XCJDbGllbnQuc2V0TGl2ZVRyYW5zY29kaW5nXCIsZS5TVE9QX0xJVkVfU1RSRUFNSU5HPVwiQ2xpZW50LnN0b3BMaXZlU3RyZWFtaW5nXCIsZS5BRERfSU5KRUNUX1NUUkVBTV9VUkw9XCJDbGllbnQuYWRkSW5qZWN0U3RyZWFtVXJsXCIsZS5SRU1PVkVfSU5KRUNUX1NUUkVBTV9VUkw9XCJDbGllbnQucmVtb3ZlSW5qZWN0U3RyZWFtVXJsXCIsZS5TVEFSVF9DSEFOTkVMX01FRElBX1JFTEFZPVwiQ2xpZW50LnN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXlcIixlLlVQREFURV9DSEFOTkVMX01FRElBX1JFTEFZPVwiQ2xpZW50LnVwZGF0ZUNoYW5uZWxNZWRpYVJlbGF5XCIsZS5TVE9QX0NIQU5ORUxfTUVESUFfUkVMQVk9XCJDbGllbnQuc3RvcENoYW5uZWxNZWRpYVJlbGF5XCIsZS5SRVFVRVNUX0NPTkZJR19ESVNUUklCVVRFPVwiX2NvbmZpZy1kaXN0cmlidXRlLXJlcXVlc3RcIixlLlNFVF9DT05GSUdfRElTVFJJQlVURT1cIl9jb25maWdEaXN0cmlidXRlXCIsZS5MT0NBTF9UUkFDS19TRVRfTVVURUQ9XCJMb2NhbFRyYWNrLnNldE11dGVcIixlLkxPQ0FMX0FVRElPX1RSQUNLX1BMQVk9XCJMb2NhbEF1ZGlvVHJhY2sucGxheVwiLGUuTE9DQUxfQVVESU9fVFJBQ0tfUExBWV9JTl9FTEVNRU5UPVwiTG9jYWxBdWRpb1RyYWNrLnBsYXlJbkVsZW1lbnRcIixlLkxPQ0FMX0FVRElPX1RSQUNLX1NUT1A9XCJMb2NhbEF1ZGlvVHJhY2suc3RvcFwiLGUuTE9DQUxfQVVESU9fVFJBQ0tfU0VUX1ZPTFVNRT1cIkxvY2FsQXVkaW9UcmFjay5zZXRWb2x1bWVcIixlLk1JQ19BVURJT19UUkFDS19TRVRfREVWSUNFPVwiTWljcm9waG9uZUF1ZGlvVHJhY2suc2V0RGV2aWNlXCIsZS5CVUZGRVJfQVVESU9fVFJBQ0tfU1RBUlQ9XCJCdWZmZXJTb3VyY2VBdWRpb1RyYWNrLnN0YXJ0UHJvY2Vzc0F1ZGlvQnVmZmVyXCIsZS5CVUZGRVJfQVVESU9fVFJBQ0tfU1RPUD1cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2suc3RvcFByb2Nlc3NBdWRpb0J1ZmZlclwiLGUuQlVGRkVSX0FVRElPX1RSQUNLX1BBVVNFPVwiQnVmZmVyU291cmNlQXVkaW9UcmFjay5wYXVzZVByb2Nlc3NBdWRpb0J1ZmZlclwiLGUuQlVGRkVSX0FVRElPX1RSQUNLX1JFU1VNRT1cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2sucmVzdW1lUHJvY2Vzc0F1ZGlvQnVmZmVyXCIsZS5CVUZGRVJfQVVESU9fVFJBQ0tfU0VFSz1cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2suc2Vla0F1ZGlvQnVmZmVyXCIsZS5MT0NBTF9WSURFT19UUkFDS19QTEFZPVwiTG9jYWxWaWRlb1RyYWNrLnBsYXlcIixlLkxPQ0FMX1ZJREVPX1RSQUNLX1NUT1A9XCJMb2NhbFZpZGVvVHJhY2suc3RvcFwiLGUuTE9DQUxfVklERU9fVFJBQ0tfR0VUX1ZJREVPX1ZJU0lCTEU9XCJMb2NhbFZpZGVvVHJhY2suZ2V0VmlkZW9FbGVtZW50VmlzaWJsZVN0YXR1c1wiLGUuTE9DQUxfVklERU9fVFJBQ0tfQkVBVVRZPVwiTG9jYWxWaWRlb1RyYWNrLnNldEJlYXV0eUVmZmVjdFwiLGUuQ0FNX1ZJREVPX1RSQUNLX1NFVF9ERVZJQ0U9XCJDYW1lcmFWaWRlb1RyYWNrLnNldERldmljZVwiLGUuQ0FNX1ZJREVPX1RSQUNLX1NFVF9FTkNPREVSX0NPTkZJRz1cIkNhbWVyYVZpZGVvVHJhY2suc2V0RW5jb2RlckNvbmZpZ3VyYXRpb25cIixlLlJFTU9URV9WSURFT19UUkFDS19QTEFZPVwiUmVtb3RlVmlkZW9UcmFjay5wbGF5XCIsZS5SRU1PVEVfVklERU9fVFJBQ0tfU1RPUD1cIlJlbW90ZVZpZGVvVHJhY2suc3RvcFwiLGUuUkVNT1RFX1ZJREVPX1RSQUNLX0dFVF9WSURFT19WSVNJQkxFPVwiUmVtb3RlVmlkZW9UcmFjay5nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzXCIsZS5SRU1PVEVfQVVESU9fVFJBQ0tfUExBWT1cIlJlbW90ZUF1ZGlvVHJhY2sucGxheVwiLGUuUkVNT1RFX0FVRElPX1RSQUNLX1NUT1A9XCJSZW1vdGVBdWRpb1RyYWNrLnN0b3BcIixlLlJFTU9URV9BVURJT19TRVRfVk9MVU1FPVwiUmVtb3RlQXVkaW9UcmFjay5zZXRWb2x1bWVcIixlLlJFTU9URV9BVURJT19TRVRfT1VUUFVUX0RFVklDRT1cIlJlbW90ZUF1ZGlvVHJhY2suc2V0T3V0cHV0RGV2aWNlXCIsZS5HRVRfTUVESUFfU1RSRUFNX1RSQUNLPVwiVHJhY2suZ2V0TWVkaWFTdHJlYW1UcmFja1wiLGUuU1RSRUFNX1RZUEVfQ0hBTkdFPVwic3RyZWFtVHlwZUNoYW5nZVwiLGUuQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJjb25uZWN0aW9uU3RhdGVDaGFuZ2VcIixlLkxPQURfQ09ORklHX0ZST01fTE9DQUxTVE9SQUdFPVwibG9hZENvbmZpZ0Zyb21Mb2NhbFN0b3JhZ2VcIixlLklNQUdFX01PREVSQVRJT05fVVBMT0FEPVwiaW1hZ2VNb2RlcmF0aW9uVXBsb2FkXCJ9KHNTfHwoc1M9e30pKSxmdW5jdGlvbihlKXtlLlRSQUNFUj1cInRyYWNlclwifShvU3x8KG9TPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkFVRElFTkNFX0xFVkVMX0xPV19MQVRFTkNZPTFdPVwiQVVESUVOQ0VfTEVWRUxfTE9XX0xBVEVOQ1lcIixlW2UuQVVESUVOQ0VfTEVWRUxfVUxUUkFfTE9XX0xBVEVOQ1k9Ml09XCJBVURJRU5DRV9MRVZFTF9VTFRSQV9MT1dfTEFURU5DWVwiLGVbZS5BVURJRU5DRV9MRVZFTF9TWU5DX0xBVEVOQ1k9M109XCJBVURJRU5DRV9MRVZFTF9TWU5DX0xBVEVOQ1lcIn0oYVN8fChhUz17fSkpLGZ1bmN0aW9uKGUpe2UuTEVBVkU9XCJMRUFWRVwiLGUuTkVUV09SS19FUlJPUj1cIk5FVFdPUktfRVJST1JcIixlLlNFUlZFUl9FUlJPUj1cIlNFUlZFUl9FUlJPUlwiLGUuVUlEX0JBTk5FRD1cIlVJRF9CQU5ORURcIixlLklQX0JBTk5FRD1cIklQX0JBTk5FRFwiLGUuQ0hBTk5FTF9CQU5ORUQ9XCJDSEFOTkVMX0JBTk5FRFwiLGUuRkFMTEJBQ0s9XCJGQUxMQkFDS1wiLGUuTElDRU5TRV9NSVNTSU5HPVwiTElDRU5TRV9NSVNTSU5HXCIsZS5MSUNFTlNFX0VYUElSRUQ9XCJMSUNFTlNFX0VYUElSRURcIixlLkxJQ0VOU0VfTUlOVVRFU19FWENFRURFRD1cIkxJQ0VOU0VfTUlOVVRFU19FWENFRURFRFwiLGUuTElDRU5TRV9QRVJJT0RfSU5WQUxJRD1cIkxJQ0VOU0VfUEVSSU9EX0lOVkFMSURcIixlLkxJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0U9XCJMSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFXCIsZS5MSUNFTlNFX0lMTEVHQUw9XCJMSUNFTlNFX0lMTEVHQUxcIixlLlRPS0VOX0VYUElSRT1cIlRPS0VOX0VYUElSRVwifShjU3x8KGNTPXt9KSksZnVuY3Rpb24oZSl7ZS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsZS5NRURJQV9SRUNPTk5FQ1RfU1RBUlQ9XCJtZWRpYS1yZWNvbm5lY3Qtc3RhcnRcIixlLk1FRElBX1JFQ09OTkVDVF9FTkQ9XCJtZWRpYS1yZWNvbm5lY3QtZW5kXCIsZS5JU19VU0lOR19DTE9VRF9QUk9YWT1cImlzLXVzaW5nLWNsb3VkLXByb3h5XCIsZS5VU0VSX0pPSU5FRD1cInVzZXItam9pbmVkXCIsZS5VU0VSX0xFQVZFRD1cInVzZXItbGVmdFwiLGUuVVNFUl9QVUJMSVNIRUQ9XCJ1c2VyLXB1Ymxpc2hlZFwiLGUuVVNFUl9VTlBVQkxJU0hFRD1cInVzZXItdW5wdWJsaXNoZWRcIixlLlVTRVJfSU5GT19VUERBVEVEPVwidXNlci1pbmZvLXVwZGF0ZWRcIixlLkNMSUVOVF9CQU5ORUQ9XCJjbGllbnQtYmFubmVkXCIsZS5DSEFOTkVMX01FRElBX1JFTEFZX1NUQVRFPVwiY2hhbm5lbC1tZWRpYS1yZWxheS1zdGF0ZVwiLGUuQ0hBTk5FTF9NRURJQV9SRUxBWV9FVkVOVD1cImNoYW5uZWwtbWVkaWEtcmVsYXktZXZlbnRcIixlLlZPTFVNRV9JTkRJQ0FUT1I9XCJ2b2x1bWUtaW5kaWNhdG9yXCIsZS5DUllQVF9FUlJPUj1cImNyeXB0LWVycm9yXCIsZS5PTl9UT0tFTl9QUklWSUxFR0VfV0lMTF9FWFBJUkU9XCJ0b2tlbi1wcml2aWxlZ2Utd2lsbC1leHBpcmVcIixlLk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFPVwidG9rZW4tcHJpdmlsZWdlLWRpZC1leHBpcmVcIixlLk5FVFdPUktfUVVBTElUWT1cIm5ldHdvcmstcXVhbGl0eVwiLGUuU1RSRUFNX1RZUEVfQ0hBTkdFRD1cInN0cmVhbS10eXBlLWNoYW5nZWRcIixlLlNUUkVBTV9GQUxMQkFDSz1cInN0cmVhbS1mYWxsYmFja1wiLGUuUkVDRUlWRV9NRVRBREFUQT1cInJlY2VpdmUtbWV0YWRhdGFcIixlLlNUUkVBTV9NRVNTQUdFPVwic3RyZWFtLW1lc3NhZ2VcIixlLkxJVkVfU1RSRUFNSU5HX0VSUk9SPVwibGl2ZS1zdHJlYW1pbmctZXJyb3JcIixlLkxJVkVfU1RSRUFNSU5HX1dBUk5JTkc9XCJsaXZlLXN0cmVhbWluZy13YXJuaW5nXCIsZS5JTkpFQ1RfU1RSRUFNX1NUQVRVUz1cInN0cmVhbS1pbmplY3Qtc3RhdHVzXCIsZS5FWENFUFRJT049XCJleGNlcHRpb25cIixlLkVSUk9SPVwiZXJyb3JcIixlLlAyUF9MT1NUPVwicDJwX2xvc3RcIixlLkpPSU5fRkFMTEJBQ0tfVE9fUFJPWFk9XCJqb2luLWZhbGxiYWNrLXRvLXByb3h5XCIsZS5DSEFOTkVMX0ZBTExCQUNLX1RPX1dFQlNPQ0tFVD1cImNoYW5uZWwtZmFsbGJhY2stdG8td2Vic29ja2V0XCIsZS5NRURJQV9DT05ORUNUSU9OX1RZUEVfQ0hBTkdFPVwibWVkaWEtY29ubmVjdGlvbi10eXBlLWNoYW5nZVwiLGUuUFVCTElTSEVEX1VTRVJfTElTVD1cInB1Ymxpc2hlZC11c2VyLWxpc3RcIixlLkNPTlRFTlRfSU5TUEVDVF9DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImNvbnRlbnQtaW5zcGVjdC1jb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLGUuQ09OVEVOVF9JTlNQRUNUX0VSUk9SPVwiY29udGVudC1pbnNwZWN0LWVycm9yXCIsZS5DT05URU5UX0lOU1BFQ1RfUkVTVUxUPVwiY29udGVudC1pbnNwZWN0LXJlc3VsdFwiLGUuSU1BR0VfTU9ERVJBVElPTl9DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImltYWdlLW1vZGVyYXRpb24tY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIn0oZFN8fChkUz17fSkpLGZ1bmN0aW9uKGUpe2UuTkVUV09SS19FUlJPUj1cIk5FVFdPUktfRVJST1JcIixlLlNFUlZFUl9FUlJPUj1cIlNFUlZFUl9FUlJPUlwiLGUuTVVMVElfSVA9XCJNVUxUSV9JUFwiLGUuVElNRU9VVD1cIlRJTUVPVVRcIixlLk9GRkxJTkU9XCJPRkZMSU5FXCIsZS5MRUFWRT1cIkxFQVZFXCIsZS5QMlBfRkFJTEVEPVwiUDJQX0ZBSUxFRFwiLGUuRkFMTEJBQ0s9XCJGQUxMQkFDS1wifShsU3x8KGxTPXt9KSksZnVuY3Rpb24oZSl7ZS5PTkxJTkU9XCJPTkxJTkVcIixlLk9GRkxJTkU9XCJPRkZMSU5FXCJ9KGhTfHwoaFM9e30pKSxmdW5jdGlvbihlKXtlLk5FVFdPUktfU1RBVEVfQ0hBTkdFPVwiTkVUV09SS19TVEFURV9DSEFOR0VcIixlLk9OTElORT1cIk9OTElORVwiLGUuT0ZGTElORT1cIk9GRkxJTkVcIn0odVN8fCh1Uz17fSkpO2NvbnN0IFJTPW5ldyBjbGFzcyBleHRlbmRzIGlTe3NldCBuZXR3b3JrU3RhdGUoZSl7dGhpcy5lbWl0KHVTLk5FVFdPUktfU1RBVEVfQ0hBTkdFLGUsdGhpcy5fbmV0d29ya1N0YXRlKSxlPT09aFMuT05MSU5FP3RoaXMuZW1pdCh1Uy5PTkxJTkUpOmU9PT1oUy5PRkZMSU5FJiYodGhpcy5vbmxpbmVXYWl0ZXI9bmV3IHRnKChlPT57dGhpcy5vbmNlKHVTLk9OTElORSwoKCk9Pnt0aGlzLm9ubGluZVdhaXRlcj12b2lkIDAsZShoUy5PTkxJTkUpfSkpfSkpLHRoaXMuZW1pdCh1Uy5PRkZMSU5FKSksdGhpcy5fbmV0d29ya1N0YXRlPWV9Z2V0IG5ldHdvcmtTdGF0ZSgpe3JldHVybiB0aGlzLl9uZXR3b3JrU3RhdGV9Z2V0IGlzT25saW5lKCl7cmV0dXJuIHRoaXMuX25ldHdvcmtTdGF0ZT09PWhTLk9OTElORX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksbnUodGhpcyxcIl9tb2R1bGVOYW1lXCIsXCJuZXR3b3JrLWluZGljYXRvclwiKSxudSh0aGlzLFwiX25ldHdvcmtTdGF0ZVwiLGhTLk9OTElORSksbnUodGhpcyxcIm9ubGluZVdhaXRlclwiLHZvaWQgMCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIiwoKCk9Pnt0aGlzLm5ldHdvcmtTdGF0ZT1oUy5PTkxJTkV9KSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsKCgpPT57dGhpcy5uZXR3b3JrU3RhdGU9aFMuT0ZGTElORX0pKX19O2Z1bmN0aW9uIENTKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiB2UyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9DUyhPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpDUyhPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBJUyhlLHQpe2NvbnN0IGk9ZS5pbmRleE9mKHQpOy0xIT09aSYmZS5zcGxpY2UoaSwxKX1mdW5jdGlvbiB5UyhlKXtjb25zdCB0PVtdO3JldHVybiBlLmZvckVhY2goKGU9PnstMT09PXQuaW5kZXhPZihlKSYmdC5wdXNoKGUpfSkpLHR9ZnVuY3Rpb24gQVMoZSl7dm9pZCAwIT09dGc/dGcucmVzb2x2ZSgpLnRoZW4oZSk6c2V0VGltZW91dChlLDApfWZ1bmN0aW9uIGJTKGUpe3JldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKX1mdW5jdGlvbiB3UyhlKXt0cnl7cmV0dXJuIGJTKGUpfWNhdGNoKHQpe3JldHVybiBlfX1jb25zdCBPUz17fTtmdW5jdGlvbiBOUyhlLHQpe09TW3RdfHwoT1NbdF09ITAsZSgpKX1mdW5jdGlvbiBEUyhlKXtjb25zdCB0PXdpbmRvdy5hdG9iKGUpLGk9bmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKHQubGVuZ3RoKSk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKz0xKWlbZV09dC5jaGFyQ29kZUF0KGUpO3JldHVybiBpfWZ1bmN0aW9uIFBTKGUpe2xldCB0PVwiXCI7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKz0xKXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtpXSk7cmV0dXJuIHdpbmRvdy5idG9hKHQpfWZ1bmN0aW9uIExTKGUpe3JldHVybiB3aW5kb3cuVGV4dEVuY29kZXI/KG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpLmxlbmd0aDplLmxlbmd0aH1mdW5jdGlvbiBrUyhlKXtsZXQgdD0wO3JldHVybi9EaW5nVGFsay9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJmUucmVhbEZvcm1EYXRhJiYoZT1lLnJlYWxGb3JtRGF0YSksZS5mb3JFYWNoKChlPT57dCs9XCJzdHJpbmdcIj09dHlwZW9mIGU/TFMoZSk6ZS5zaXplfSkpLHQrMTM4fWZ1bmN0aW9uIE1TKGUpe2NvbnN0IHQ9bmV3IFZnKHhnLlRJTUVPVVQsXCJ0aW1lb3V0XCIpO3JldHVybiBuZXcgdGcoKChpLG4pPT57d2luZG93LnNldFRpbWVvdXQoKCgpPT5uKHQpKSxlKX0pKX1mdW5jdGlvbiBVUyhlKXtyZXR1cm4gbmV3IHRnKCh0PT57d2luZG93LnNldFRpbWVvdXQodCxlKX0pKX1mdW5jdGlvbiB4Uygpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTo3LHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7Y29uc3QgaT1NYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMixlKS50b0xvd2VyQ2FzZSgpO3JldHVybiBpLmxlbmd0aD09PWU/XCJcIi5jb25jYXQodCkuY29uY2F0KGkpOlwiXCIuY29uY2F0KHQpLmNvbmNhdChpKSt4UyhlLWkubGVuZ3RoLFwiXCIpfWZ1bmN0aW9uIFZTKCl7cmV0dXJuIHhTKDMyLFwiXCIpLnRvVXBwZXJDYXNlKCl9Y29uc3QgRlM9KCk9Pnt9O2NvbnN0IEJTPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe251KHRoaXMsXCJmbk1hcFwiLG5ldyBNYXApfXRocm90dGxlQnlLZXkoZSx0LGksbil7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkocj40P3ItNDowKSxvPTQ7bzxyO28rKylzW28tNF09YXJndW1lbnRzW29dO2lmKHRoaXMuZm5NYXAuaGFzKHQpKXtjb25zdCByPXRoaXMuZm5NYXAuZ2V0KHQpO2lmKHIudGhyZXNob2xkIT09aSl7ci5mbiguLi5yLmFyZ3MpLGNsZWFyVGltZW91dChyLnRpbWVyKTtjb25zdCBvPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2NvbnN0IGU9dGhpcy5mbk1hcC5nZXQodCk7ZSYmZS5mbiguLi5lLmFyZ3MpLHRoaXMuZm5NYXAuZGVsZXRlKHQpfSksaSk7dGhpcy5mbk1hcC5zZXQodCx7Zm46ZSx0aHJlc2hvbGQ6aSx0aW1lcjpvLGFyZ3M6cyxza2lwRm46bn0pfWVsc2Ugci5za2lwRm4mJnIuc2tpcEZuKC4uLnIuYXJncyksdGhpcy5mbk1hcC5zZXQodCx2Uyh2Uyh7fSxyKSx7fSx7Zm46ZSxhcmdzOnMsc2tpcEZuOm59KSl9ZWxzZXtjb25zdCByPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2NvbnN0IGU9dGhpcy5mbk1hcC5nZXQodCk7ZSYmZS5mbiguLi5lLmFyZ3MpLHRoaXMuZm5NYXAuZGVsZXRlKHQpfSksaSk7dGhpcy5mbk1hcC5zZXQodCx7Zm46ZSx0aHJlc2hvbGQ6aSx0aW1lcjpyLGFyZ3M6cyxza2lwRm46bn0pfX19LGpTPUJTLnRocm90dGxlQnlLZXkuYmluZChCUyk7ZnVuY3Rpb24gR1MoZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiYhKGUgaW5zdGFuY2VvZiBSZWdFeHApfWZ1bmN0aW9uIFdTKGUsdCl7aWYoIUdTKGUpfHwhR1ModCkpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheShlKSYmIUFycmF5LmlzQXJyYXkodCl8fCFBcnJheS5pc0FycmF5KGUpJiZBcnJheS5pc0FycmF5KHQpKXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkmJkFycmF5LmlzQXJyYXkoZSkpe2NvbnN0IGk9Wy4uLmVdO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWlbbl09V1MoZVtuXSx0W25dKTtyZXR1cm4gaX17Y29uc3QgaT12Uyh7fSxlKTtmb3IoY29uc3QgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbik/aVtuXT1XUyhlW25dLHRbbl0pOmlbbl09dFtuXSk7cmV0dXJuIGl9fWxldCBIUz0xLEtTPWNvbnNvbGU7Y2xhc3MgWVN7c3RhdGljIHNldExvZ2dlcihlKXtLUz1lfWNvbnN0cnVjdG9yKGUpe251KHRoaXMsXCJsb2NraW5nUHJvbWlzZVwiLHRnLnJlc29sdmUoKSksbnUodGhpcyxcImxvY2tzXCIsMCksbnUodGhpcyxcIm5hbWVcIixcIlwiKSxudSh0aGlzLFwibG9ja0lkXCIsdm9pZCAwKSx0aGlzLmxvY2tJZD1IUysrLGUmJih0aGlzLm5hbWU9ZSksS1MuZGVidWcoXCJbbG9jay1cIi5jb25jYXQodGhpcy5uYW1lLFwiLVwiKS5jb25jYXQodGhpcy5sb2NrSWQsXCJdIGlzIGNyZWF0ZWQuXCIpKX1nZXQgaXNMb2NrZWQoKXtyZXR1cm4gdGhpcy5sb2Nrcz4wfWxvY2soZSl7bGV0IHQ7dGhpcy5sb2Nrcys9MSxLUy5kZWJ1ZyhcIltsb2NrLVwiLmNvbmNhdCh0aGlzLm5hbWUsXCItXCIpLmNvbmNhdCh0aGlzLmxvY2tJZCxcIl0gaXMgbG9ja2VkLCBjdXJyZW50IHF1ZXVlIFwiKS5jb25jYXQodGhpcy5sb2NrcyxcIi4gXCIpLmNvbmNhdChcInN0cmluZ1wiPT10eXBlb2YgZT9lOlwiXCIpKTtjb25zdCBpPW5ldyB0ZygoaT0+e3Q9KCk9Pnt0aGlzLmxvY2tzLT0xLEtTLmRlYnVnKFwiW2xvY2stXCIuY29uY2F0KHRoaXMubmFtZSxcIi1cIikuY29uY2F0KHRoaXMubG9ja0lkLFwiXSBpcyBub3QgbG9ja2VkLCBjdXJyZW50IHF1ZXVlIFwiKS5jb25jYXQodGhpcy5sb2NrcyxcIi4gXCIpLmNvbmNhdChcInN0cmluZ1wiPT10eXBlb2YgZT9lOlwiXCIpKSxpKCl9fSkpLG49dGhpcy5sb2NraW5nUHJvbWlzZS50aGVuKCgoKT0+dCkpO3JldHVybiB0aGlzLmxvY2tpbmdQcm9taXNlPXRoaXMubG9ja2luZ1Byb21pc2UudGhlbigoKCk9PmkpKSxufX1mdW5jdGlvbiBxUyhlLHQpe3JldHVybiBmdW5jdGlvbihpLG4scil7Y29uc3Qgcz1yLnZhbHVlO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHMpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBtdXRleCBvbiBvYmplY3QgcHJvcGVydHkuXCIpO3JldHVybiByLnZhbHVlPWFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgaT10aGlzW3RdO2lmKCFpKXRocm93IG5ldyBFcnJvcihcIm11dGV4IHByb3BlcnR5IGtleSBcIi5jb25jYXQodCxcIiBkb2Vzbid0IGV4aXN0IG9uIFwiKS5jb25jYXQoZSkpO2NvbnN0IHI9YXdhaXQgaS5sb2NrKFwiRnJvbSBcIi5jb25jYXQoZSxcIi5cIikuY29uY2F0KG4pKTt0cnl7Zm9yKHZhciBvPWFyZ3VtZW50cy5sZW5ndGgsYT1uZXcgQXJyYXkobyksYz0wO2M8bztjKyspYVtjXT1hcmd1bWVudHNbY107cmV0dXJuIGF3YWl0IHMuYXBwbHkodGhpcyxhKX1maW5hbGx5e3IoKX19LHJ9fWNvbnN0IEpTPXt0aW1lb3V0OjUwMCx0aW1lb3V0RmFjdG9yOjEuNSxtYXhSZXRyeUNvdW50OjEvMCxtYXhSZXRyeVRpbWVvdXQ6MWU0fTtmdW5jdGlvbiB6UyhlLHQpe2NvbnN0IGk9TWF0aC5mbG9vcih0LnRpbWVvdXQqTWF0aC5wb3codC50aW1lb3V0RmFjdG9yLGUpKTtyZXR1cm4gTWF0aC5taW4odC5tYXhSZXRyeVRpbWVvdXQsaSl9ZnVuY3Rpb24gWFMoZSx0LGksbil7Y29uc3Qgcj1PYmplY3QuYXNzaWduKHt9LEpTLG4pO2xldCBzPXIudGltZW91dDtjb25zdCBvPWFzeW5jKCk9Pnthd2FpdCBmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRnKCh0PT57d2luZG93LnNldFRpbWVvdXQodCxlKX0pKX0ocykscyo9ci50aW1lb3V0RmFjdG9yLHM9TWF0aC5taW4oci5tYXhSZXRyeVRpbWVvdXQscyl9O2xldCBhPSExO2NvbnN0IGM9bmV3IHRnKChhc3luYyhuLHMpPT57dD10fHwoKCk9PiExKSxpPWl8fCgoKT0+ITApO2ZvcihsZXQgYz0wO2M8ci5tYXhSZXRyeUNvdW50O2MrPTEpe2lmKGEpcmV0dXJuIHMobmV3IFZnKHhnLk9QRVJBVElPTl9BQk9SVEVEKSk7dHJ5e2NvbnN0IGk9YXdhaXQgZSgpO2lmKCF0KGksYykpcmV0dXJuIG4oaSk7aWYoYysxPT09ci5tYXhSZXRyeUNvdW50KXJldHVybiBuKGkpO2F3YWl0IG8oKX1jYXRjaChlKXtpZighaShlLGMpKXJldHVybiBzKGUpO2lmKGMrMT09PXIubWF4UmV0cnlDb3VudClyZXR1cm4gcyhlKTthd2FpdCBvKCl9fX0pKTtyZXR1cm4gYy5jYW5jZWw9KCk9PmE9ITAsY312YXIgUVM9VXQsWlM9ZWksJFM9WGUsZVQ9WW4sdFQ9VHlwZUVycm9yLGlUPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LGksbixyKXtRUyhpKTt2YXIgcz1aUyh0KSxvPSRTKHMpLGE9ZVQocyksYz1lP2EtMTowLGQ9ZT8tMToxO2lmKG48Milmb3IoOzspe2lmKGMgaW4gbyl7cj1vW2NdLGMrPWQ7YnJlYWt9aWYoYys9ZCxlP2M8MDphPD1jKXRocm93IHRUKFwiUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKX1mb3IoO2U/Yz49MDphPmM7Yys9ZCljIGluIG8mJihyPWkocixvW2NdLGMscykpO3JldHVybiByfX0sblQ9e2xlZnQ6aVQoITEpLHJpZ2h0OmlUKCEwKX0ubGVmdDtrbih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IUNfJiZUdD43OSYmVHQ8ODN8fCFSdShcInJlZHVjZVwiKX0se3JlZHVjZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoO3JldHVybiBuVCh0aGlzLGUsdCx0PjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIHJUPWVyKFwiQXJyYXlcIikucmVkdWNlLHNUPUVlLG9UPXJULGFUPUFycmF5LnByb3RvdHlwZSxjVD1KKChmdW5jdGlvbihlKXt2YXIgdD1lLnJlZHVjZTtyZXR1cm4gZT09PWFUfHxzVChhVCxlKSYmdD09PWFULnJlZHVjZT9vVDp0fSkpO2xldCBkVD1jbGFzc3tjb25zdHJ1Y3RvcihlKXtudSh0aGlzLFwiaW5wdXRcIixbXSksbnUodGhpcyxcInNpemVcIix2b2lkIDApLHRoaXMuc2l6ZT1lfWFkZChlKXt0aGlzLmlucHV0LnB1c2goZSksdGhpcy5pbnB1dC5sZW5ndGg+dGhpcy5zaXplJiZ0aGlzLmlucHV0LnNwbGljZSgwLDEpfW1lYW4oKXt2YXIgZTtyZXR1cm4gMD09PXRoaXMuaW5wdXQubGVuZ3RoPzA6Y1QoZT10aGlzLmlucHV0KS5jYWxsKGUsKChlLHQpPT5lK3QpKS90aGlzLmlucHV0Lmxlbmd0aH19O3ZhciBsVCxoVD17ZXhwb3J0czp7fX0sdVQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGk9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLG49MDtuPGkubGVuZ3RoO24rKylpW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gZS5hcHBseSh0LGkpfX0scFQ9dVQsX1Q9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxFVD0obFQ9T2JqZWN0LmNyZWF0ZShudWxsKSxmdW5jdGlvbihlKXt2YXIgdD1fVC5jYWxsKGUpO3JldHVybiBsVFt0XXx8KGxUW3RdPXQuc2xpY2UoOCwtMSkudG9Mb3dlckNhc2UoKSl9KTtmdW5jdGlvbiBtVChlKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24odCl7cmV0dXJuIEVUKHQpPT09ZX19ZnVuY3Rpb24gZlQoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl9ZnVuY3Rpb24gZ1QoZSl7cmV0dXJuIHZvaWQgMD09PWV9dmFyIFNUPW1UKFwiQXJyYXlCdWZmZXJcIik7ZnVuY3Rpb24gVFQoZSl7cmV0dXJuIG51bGwhPT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZX1mdW5jdGlvbiBSVChlKXtpZihcIm9iamVjdFwiIT09RVQoZSkpcmV0dXJuITE7dmFyIHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO3JldHVybiBudWxsPT09dHx8dD09PU9iamVjdC5wcm90b3R5cGV9dmFyIENUPW1UKFwiRGF0ZVwiKSx2VD1tVChcIkZpbGVcIiksSVQ9bVQoXCJCbG9iXCIpLHlUPW1UKFwiRmlsZUxpc3RcIik7ZnVuY3Rpb24gQVQoZSl7cmV0dXJuXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT09X1QuY2FsbChlKX12YXIgYlQ9bVQoXCJVUkxTZWFyY2hQYXJhbXNcIik7ZnVuY3Rpb24gd1QoZSx0KXtpZihudWxsIT1lKWlmKFwib2JqZWN0XCIhPXR5cGVvZiBlJiYoZT1bZV0pLGZUKGUpKWZvcih2YXIgaT0wLG49ZS5sZW5ndGg7aTxuO2krKyl0LmNhbGwobnVsbCxlW2ldLGksZSk7ZWxzZSBmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmdC5jYWxsKG51bGwsZVtyXSxyLGUpfXZhciBPVCxOVD0oT1Q9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJk9iamVjdC5nZXRQcm90b3R5cGVPZihVaW50OEFycmF5KSxmdW5jdGlvbihlKXtyZXR1cm4gT1QmJmUgaW5zdGFuY2VvZiBPVH0pLERUPXtpc0FycmF5OmZULGlzQXJyYXlCdWZmZXI6U1QsaXNCdWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lJiYhZ1QoZSkmJm51bGwhPT1lLmNvbnN0cnVjdG9yJiYhZ1QoZS5jb25zdHJ1Y3RvcikmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY29uc3RydWN0b3IuaXNCdWZmZXImJmUuY29uc3RydWN0b3IuaXNCdWZmZXIoZSl9LGlzRm9ybURhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9XCJbb2JqZWN0IEZvcm1EYXRhXVwiO3JldHVybiBlJiYoXCJmdW5jdGlvblwiPT10eXBlb2YgRm9ybURhdGEmJmUgaW5zdGFuY2VvZiBGb3JtRGF0YXx8X1QuY2FsbChlKT09PXR8fEFUKGUudG9TdHJpbmcpJiZlLnRvU3RyaW5nKCk9PT10KX0saXNBcnJheUJ1ZmZlclZpZXc6ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZBcnJheUJ1ZmZlci5pc1ZpZXc/QXJyYXlCdWZmZXIuaXNWaWV3KGUpOmUmJmUuYnVmZmVyJiZTVChlLmJ1ZmZlcil9LGlzU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfSxpc051bWJlcjpmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZX0saXNPYmplY3Q6VFQsaXNQbGFpbk9iamVjdDpSVCxpc1VuZGVmaW5lZDpnVCxpc0RhdGU6Q1QsaXNGaWxlOnZULGlzQmxvYjpJVCxpc0Z1bmN0aW9uOkFULGlzU3RyZWFtOmZ1bmN0aW9uKGUpe3JldHVybiBUVChlKSYmQVQoZS5waXBlKX0saXNVUkxTZWFyY2hQYXJhbXM6YlQsaXNTdGFuZGFyZEJyb3dzZXJFbnY6ZnVuY3Rpb24oKXtyZXR1cm4oXCJ1bmRlZmluZWRcIj09dHlwZW9mIG5hdmlnYXRvcnx8XCJSZWFjdE5hdGl2ZVwiIT09bmF2aWdhdG9yLnByb2R1Y3QmJlwiTmF0aXZlU2NyaXB0XCIhPT1uYXZpZ2F0b3IucHJvZHVjdCYmXCJOU1wiIT09bmF2aWdhdG9yLnByb2R1Y3QpJiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50KX0sZm9yRWFjaDp3VCxtZXJnZTpmdW5jdGlvbiBlKCl7dmFyIHQ9e307ZnVuY3Rpb24gaShpLG4pe1JUKHRbbl0pJiZSVChpKT90W25dPWUodFtuXSxpKTpSVChpKT90W25dPWUoe30saSk6ZlQoaSk/dFtuXT1pLnNsaWNlKCk6dFtuXT1pfWZvcih2YXIgbj0wLHI9YXJndW1lbnRzLmxlbmd0aDtuPHI7bisrKXdUKGFyZ3VtZW50c1tuXSxpKTtyZXR1cm4gdH0sZXh0ZW5kOmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gd1QodCwoZnVuY3Rpb24odCxuKXtlW25dPWkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/cFQodCxpKTp0fSkpLGV9LHRyaW06ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbT9lLnRyaW0oKTplLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9LHN0cmlwQk9NOmZ1bmN0aW9uKGUpe3JldHVybiA2NTI3OT09PWUuY2hhckNvZGVBdCgwKSYmKGU9ZS5zbGljZSgxKSksZX0saW5oZXJpdHM6ZnVuY3Rpb24oZSx0LGksbil7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSxuKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGkmJk9iamVjdC5hc3NpZ24oZS5wcm90b3R5cGUsaSl9LHRvRmxhdE9iamVjdDpmdW5jdGlvbihlLHQsaSl7dmFyIG4scixzLG89e307dD10fHx7fTtkb3tmb3Iocj0obj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSkubGVuZ3RoO3ItLSA+MDspb1tzPW5bcl1dfHwodFtzXT1lW3NdLG9bc109ITApO2U9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfXdoaWxlKGUmJighaXx8aShlLHQpKSYmZSE9PU9iamVjdC5wcm90b3R5cGUpO3JldHVybiB0fSxraW5kT2Y6RVQsa2luZE9mVGVzdDptVCxlbmRzV2l0aDpmdW5jdGlvbihlLHQsaSl7ZT1TdHJpbmcoZSksKHZvaWQgMD09PWl8fGk+ZS5sZW5ndGgpJiYoaT1lLmxlbmd0aCksaS09dC5sZW5ndGg7dmFyIG49ZS5pbmRleE9mKHQsaSk7cmV0dXJuLTEhPT1uJiZuPT09aX0sdG9BcnJheTpmdW5jdGlvbihlKXtpZighZSlyZXR1cm4gbnVsbDt2YXIgdD1lLmxlbmd0aDtpZihnVCh0KSlyZXR1cm4gbnVsbDtmb3IodmFyIGk9bmV3IEFycmF5KHQpO3QtLSA+MDspaVt0XT1lW3RdO3JldHVybiBpfSxpc1R5cGVkQXJyYXk6TlQsaXNGaWxlTGlzdDp5VH0sUFQ9RFQ7ZnVuY3Rpb24gTFQoZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lM0EvZ2ksXCI6XCIpLnJlcGxhY2UoLyUyNC9nLFwiJFwiKS5yZXBsYWNlKC8lMkMvZ2ksXCIsXCIpLnJlcGxhY2UoLyUyMC9nLFwiK1wiKS5yZXBsYWNlKC8lNUIvZ2ksXCJbXCIpLnJlcGxhY2UoLyU1RC9naSxcIl1cIil9dmFyIGtUPWZ1bmN0aW9uKGUsdCxpKXtpZighdClyZXR1cm4gZTt2YXIgbjtpZihpKW49aSh0KTtlbHNlIGlmKFBULmlzVVJMU2VhcmNoUGFyYW1zKHQpKW49dC50b1N0cmluZygpO2Vsc2V7dmFyIHI9W107UFQuZm9yRWFjaCh0LChmdW5jdGlvbihlLHQpe251bGwhPWUmJihQVC5pc0FycmF5KGUpP3QrPVwiW11cIjplPVtlXSxQVC5mb3JFYWNoKGUsKGZ1bmN0aW9uKGUpe1BULmlzRGF0ZShlKT9lPWUudG9JU09TdHJpbmcoKTpQVC5pc09iamVjdChlKSYmKGU9SlNPTi5zdHJpbmdpZnkoZSkpLHIucHVzaChMVCh0KStcIj1cIitMVChlKSl9KSkpfSkpLG49ci5qb2luKFwiJlwiKX1pZihuKXt2YXIgcz1lLmluZGV4T2YoXCIjXCIpOy0xIT09cyYmKGU9ZS5zbGljZSgwLHMpKSxlKz0oLTE9PT1lLmluZGV4T2YoXCI/XCIpP1wiP1wiOlwiJlwiKStufXJldHVybiBlfSxNVD1EVDtmdW5jdGlvbiBVVCgpe3RoaXMuaGFuZGxlcnM9W119VVQucHJvdG90eXBlLnVzZT1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIHRoaXMuaGFuZGxlcnMucHVzaCh7ZnVsZmlsbGVkOmUscmVqZWN0ZWQ6dCxzeW5jaHJvbm91czohIWkmJmkuc3luY2hyb25vdXMscnVuV2hlbjppP2kucnVuV2hlbjpudWxsfSksdGhpcy5oYW5kbGVycy5sZW5ndGgtMX0sVVQucHJvdG90eXBlLmVqZWN0PWZ1bmN0aW9uKGUpe3RoaXMuaGFuZGxlcnNbZV0mJih0aGlzLmhhbmRsZXJzW2VdPW51bGwpfSxVVC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXtNVC5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsKGZ1bmN0aW9uKHQpe251bGwhPT10JiZlKHQpfSkpfTt2YXIgeFQsVlQsRlQ9VVQsQlQ9RFQ7ZnVuY3Rpb24galQoKXtpZihWVClyZXR1cm4geFQ7VlQ9MTt2YXIgZT1EVDtmdW5jdGlvbiB0KGUsdCxpLG4scil7RXJyb3IuY2FsbCh0aGlzKSx0aGlzLm1lc3NhZ2U9ZSx0aGlzLm5hbWU9XCJBeGlvc0Vycm9yXCIsdCYmKHRoaXMuY29kZT10KSxpJiYodGhpcy5jb25maWc9aSksbiYmKHRoaXMucmVxdWVzdD1uKSxyJiYodGhpcy5yZXNwb25zZT1yKX1lLmluaGVyaXRzKHQsRXJyb3Ise3RvSlNPTjpmdW5jdGlvbigpe3JldHVybnttZXNzYWdlOnRoaXMubWVzc2FnZSxuYW1lOnRoaXMubmFtZSxkZXNjcmlwdGlvbjp0aGlzLmRlc2NyaXB0aW9uLG51bWJlcjp0aGlzLm51bWJlcixmaWxlTmFtZTp0aGlzLmZpbGVOYW1lLGxpbmVOdW1iZXI6dGhpcy5saW5lTnVtYmVyLGNvbHVtbk51bWJlcjp0aGlzLmNvbHVtbk51bWJlcixzdGFjazp0aGlzLnN0YWNrLGNvbmZpZzp0aGlzLmNvbmZpZyxjb2RlOnRoaXMuY29kZSxzdGF0dXM6dGhpcy5yZXNwb25zZSYmdGhpcy5yZXNwb25zZS5zdGF0dXM/dGhpcy5yZXNwb25zZS5zdGF0dXM6bnVsbH19fSk7dmFyIGk9dC5wcm90b3R5cGUsbj17fTtyZXR1cm5bXCJFUlJfQkFEX09QVElPTl9WQUxVRVwiLFwiRVJSX0JBRF9PUFRJT05cIixcIkVDT05OQUJPUlRFRFwiLFwiRVRJTUVET1VUXCIsXCJFUlJfTkVUV09SS1wiLFwiRVJSX0ZSX1RPT19NQU5ZX1JFRElSRUNUU1wiLFwiRVJSX0RFUFJFQ0FURURcIixcIkVSUl9CQURfUkVTUE9OU0VcIixcIkVSUl9CQURfUkVRVUVTVFwiLFwiRVJSX0NBTkNFTEVEXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe25bZV09e3ZhbHVlOmV9fSkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJpc0F4aW9zRXJyb3JcIix7dmFsdWU6ITB9KSx0LmZyb209ZnVuY3Rpb24obixyLHMsbyxhLGMpe3ZhciBkPU9iamVjdC5jcmVhdGUoaSk7cmV0dXJuIGUudG9GbGF0T2JqZWN0KG4sZCwoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1FcnJvci5wcm90b3R5cGV9KSksdC5jYWxsKGQsbi5tZXNzYWdlLHIscyxvLGEpLGQubmFtZT1uLm5hbWUsYyYmT2JqZWN0LmFzc2lnbihkLGMpLGR9LHhUPXR9dmFyIEdULFdULEhULEtULFlULHFULEpUPXtzaWxlbnRKU09OUGFyc2luZzohMCxmb3JjZWRKU09OUGFyc2luZzohMCxjbGFyaWZ5VGltZW91dEVycm9yOiExfTtmdW5jdGlvbiB6VCgpe2lmKFdUKXJldHVybiBHVDtXVD0xO3ZhciBlPURUO3JldHVybiBHVD1mdW5jdGlvbih0LGkpe2k9aXx8bmV3IEZvcm1EYXRhO3ZhciBuPVtdO2Z1bmN0aW9uIHIodCl7cmV0dXJuIG51bGw9PT10P1wiXCI6ZS5pc0RhdGUodCk/dC50b0lTT1N0cmluZygpOmUuaXNBcnJheUJ1ZmZlcih0KXx8ZS5pc1R5cGVkQXJyYXkodCk/XCJmdW5jdGlvblwiPT10eXBlb2YgQmxvYj9uZXcgQmxvYihbdF0pOkJ1ZmZlci5mcm9tKHQpOnR9cmV0dXJuIGZ1bmN0aW9uIHQocyxvKXtpZihlLmlzUGxhaW5PYmplY3Qocyl8fGUuaXNBcnJheShzKSl7aWYoLTEhPT1uLmluZGV4T2YocykpdGhyb3cgRXJyb3IoXCJDaXJjdWxhciByZWZlcmVuY2UgZGV0ZWN0ZWQgaW4gXCIrbyk7bi5wdXNoKHMpLGUuZm9yRWFjaChzLChmdW5jdGlvbihuLHMpe2lmKCFlLmlzVW5kZWZpbmVkKG4pKXt2YXIgYSxjPW8/bytcIi5cIitzOnM7aWYobiYmIW8mJlwib2JqZWN0XCI9PXR5cGVvZiBuKWlmKGUuZW5kc1dpdGgocyxcInt9XCIpKW49SlNPTi5zdHJpbmdpZnkobik7ZWxzZSBpZihlLmVuZHNXaXRoKHMsXCJbXVwiKSYmKGE9ZS50b0FycmF5KG4pKSlyZXR1cm4gdm9pZCBhLmZvckVhY2goKGZ1bmN0aW9uKHQpeyFlLmlzVW5kZWZpbmVkKHQpJiZpLmFwcGVuZChjLHIodCkpfSkpO3QobixjKX19KSksbi5wb3AoKX1lbHNlIGkuYXBwZW5kKG8scihzKSl9KHQpLGl9LEdUfWZ1bmN0aW9uIFhUKCl7aWYoS1QpcmV0dXJuIEhUO0tUPTE7dmFyIGU9alQoKTtyZXR1cm4gSFQ9ZnVuY3Rpb24odCxpLG4pe3ZhciByPW4uY29uZmlnLnZhbGlkYXRlU3RhdHVzO24uc3RhdHVzJiZyJiYhcihuLnN0YXR1cyk/aShuZXcgZShcIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgXCIrbi5zdGF0dXMsW2UuRVJSX0JBRF9SRVFVRVNULGUuRVJSX0JBRF9SRVNQT05TRV1bTWF0aC5mbG9vcihuLnN0YXR1cy8xMDApLTRdLG4uY29uZmlnLG4ucmVxdWVzdCxuKSk6dChuKX19ZnVuY3Rpb24gUVQoKXtpZihxVClyZXR1cm4gWVQ7cVQ9MTt2YXIgZT1EVDtyZXR1cm4gWVQ9ZS5pc1N0YW5kYXJkQnJvd3NlckVudigpP3t3cml0ZTpmdW5jdGlvbih0LGksbixyLHMsbyl7dmFyIGE9W107YS5wdXNoKHQrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGkpKSxlLmlzTnVtYmVyKG4pJiZhLnB1c2goXCJleHBpcmVzPVwiK25ldyBEYXRlKG4pLnRvR01UU3RyaW5nKCkpLGUuaXNTdHJpbmcocikmJmEucHVzaChcInBhdGg9XCIrciksZS5pc1N0cmluZyhzKSYmYS5wdXNoKFwiZG9tYWluPVwiK3MpLCEwPT09byYmYS5wdXNoKFwic2VjdXJlXCIpLGRvY3VtZW50LmNvb2tpZT1hLmpvaW4oXCI7IFwiKX0scmVhZDpmdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cChcIihefDtcXFxccyopKFwiK2UrXCIpPShbXjtdKilcIikpO3JldHVybiB0P2RlY29kZVVSSUNvbXBvbmVudCh0WzNdKTpudWxsfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dGhpcy53cml0ZShlLFwiXCIsRGF0ZS5ub3coKS04NjRlNSl9fTp7d3JpdGU6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0scmVtb3ZlOmZ1bmN0aW9uKCl7fX0sWVR9dmFyIFpULCRULGVSLHRSLGlSLG5SLHJSLHNSLG9SLGFSLGNSLGRSLGxSPWZ1bmN0aW9uKGUpe3JldHVybi9eKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC8vaS50ZXN0KGUpfSxoUj1mdW5jdGlvbihlLHQpe3JldHVybiB0P2UucmVwbGFjZSgvXFwvKyQvLFwiXCIpK1wiL1wiK3QucmVwbGFjZSgvXlxcLysvLFwiXCIpOmV9LHVSPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJiFsUih0KT9oUihlLHQpOnR9O2Z1bmN0aW9uIHBSKCl7aWYoJFQpcmV0dXJuIFpUOyRUPTE7dmFyIGU9RFQsdD1bXCJhZ2VcIixcImF1dGhvcml6YXRpb25cIixcImNvbnRlbnQtbGVuZ3RoXCIsXCJjb250ZW50LXR5cGVcIixcImV0YWdcIixcImV4cGlyZXNcIixcImZyb21cIixcImhvc3RcIixcImlmLW1vZGlmaWVkLXNpbmNlXCIsXCJpZi11bm1vZGlmaWVkLXNpbmNlXCIsXCJsYXN0LW1vZGlmaWVkXCIsXCJsb2NhdGlvblwiLFwibWF4LWZvcndhcmRzXCIsXCJwcm94eS1hdXRob3JpemF0aW9uXCIsXCJyZWZlcmVyXCIsXCJyZXRyeS1hZnRlclwiLFwidXNlci1hZ2VudFwiXTtyZXR1cm4gWlQ9ZnVuY3Rpb24oaSl7dmFyIG4scixzLG89e307cmV0dXJuIGk/KGUuZm9yRWFjaChpLnNwbGl0KFwiXFxuXCIpLChmdW5jdGlvbihpKXtpZihzPWkuaW5kZXhPZihcIjpcIiksbj1lLnRyaW0oaS5zdWJzdHIoMCxzKSkudG9Mb3dlckNhc2UoKSxyPWUudHJpbShpLnN1YnN0cihzKzEpKSxuKXtpZihvW25dJiZ0LmluZGV4T2Yobik+PTApcmV0dXJuO29bbl09XCJzZXQtY29va2llXCI9PT1uPyhvW25dP29bbl06W10pLmNvbmNhdChbcl0pOm9bbl0/b1tuXStcIiwgXCIrcjpyfX0pKSxvKTpvfSxaVH1mdW5jdGlvbiBfUigpe2lmKHRSKXJldHVybiBlUjt0Uj0xO3ZhciBlPURUO3JldHVybiBlUj1lLmlzU3RhbmRhcmRCcm93c2VyRW52KCk/ZnVuY3Rpb24oKXt2YXIgdCxpPS8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtmdW5jdGlvbiByKGUpe3ZhciB0PWU7cmV0dXJuIGkmJihuLnNldEF0dHJpYnV0ZShcImhyZWZcIix0KSx0PW4uaHJlZiksbi5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsdCkse2hyZWY6bi5ocmVmLHByb3RvY29sOm4ucHJvdG9jb2w/bi5wcm90b2NvbC5yZXBsYWNlKC86JC8sXCJcIik6XCJcIixob3N0Om4uaG9zdCxzZWFyY2g6bi5zZWFyY2g/bi5zZWFyY2gucmVwbGFjZSgvXlxcPy8sXCJcIik6XCJcIixoYXNoOm4uaGFzaD9uLmhhc2gucmVwbGFjZSgvXiMvLFwiXCIpOlwiXCIsaG9zdG5hbWU6bi5ob3N0bmFtZSxwb3J0Om4ucG9ydCxwYXRobmFtZTpcIi9cIj09PW4ucGF0aG5hbWUuY2hhckF0KDApP24ucGF0aG5hbWU6XCIvXCIrbi5wYXRobmFtZX19cmV0dXJuIHQ9cih3aW5kb3cubG9jYXRpb24uaHJlZiksZnVuY3Rpb24oaSl7dmFyIG49ZS5pc1N0cmluZyhpKT9yKGkpOmk7cmV0dXJuIG4ucHJvdG9jb2w9PT10LnByb3RvY29sJiZuLmhvc3Q9PT10Lmhvc3R9fSgpOmZ1bmN0aW9uKCl7cmV0dXJuITB9fWZ1bmN0aW9uIEVSKCl7aWYoblIpcmV0dXJuIGlSO25SPTE7dmFyIGU9alQoKTtmdW5jdGlvbiB0KHQpe2UuY2FsbCh0aGlzLG51bGw9PXQ/XCJjYW5jZWxlZFwiOnQsZS5FUlJfQ0FOQ0VMRUQpLHRoaXMubmFtZT1cIkNhbmNlbGVkRXJyb3JcIn1yZXR1cm4gRFQuaW5oZXJpdHModCxlLHtfX0NBTkNFTF9fOiEwfSksaVI9dH1mdW5jdGlvbiBtUigpe3JldHVybiBzUnx8KHNSPTEsclI9ZnVuY3Rpb24oZSl7dmFyIHQ9L14oWy0rXFx3XXsxLDI1fSkoOj9cXC9cXC98OikvLmV4ZWMoZSk7cmV0dXJuIHQmJnRbMV18fFwiXCJ9KSxyUn1mdW5jdGlvbiBmUigpe2lmKGFSKXJldHVybiBvUjthUj0xO3ZhciBlPURULHQ9WFQoKSxpPVFUKCksbj1rVCxyPXVSLHM9cFIoKSxvPV9SKCksYT1KVCxjPWpUKCksZD1FUigpLGw9bVIoKTtyZXR1cm4gb1I9ZnVuY3Rpb24oaCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih1LHApe3ZhciBfLEU9aC5kYXRhLG09aC5oZWFkZXJzLGY9aC5yZXNwb25zZVR5cGU7ZnVuY3Rpb24gZygpe2guY2FuY2VsVG9rZW4mJmguY2FuY2VsVG9rZW4udW5zdWJzY3JpYmUoXyksaC5zaWduYWwmJmguc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLF8pfWUuaXNGb3JtRGF0YShFKSYmZS5pc1N0YW5kYXJkQnJvd3NlckVudigpJiZkZWxldGUgbVtcIkNvbnRlbnQtVHlwZVwiXTt2YXIgUz1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoaC5hdXRoKXt2YXIgVD1oLmF1dGgudXNlcm5hbWV8fFwiXCIsUj1oLmF1dGgucGFzc3dvcmQ/dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGguYXV0aC5wYXNzd29yZCkpOlwiXCI7bS5BdXRob3JpemF0aW9uPVwiQmFzaWMgXCIrYnRvYShUK1wiOlwiK1IpfXZhciBDPXIoaC5iYXNlVVJMLGgudXJsKTtmdW5jdGlvbiB2KCl7aWYoUyl7dmFyIGU9XCJnZXRBbGxSZXNwb25zZUhlYWRlcnNcImluIFM/cyhTLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKTpudWxsLGk9e2RhdGE6ZiYmXCJ0ZXh0XCIhPT1mJiZcImpzb25cIiE9PWY/Uy5yZXNwb25zZTpTLnJlc3BvbnNlVGV4dCxzdGF0dXM6Uy5zdGF0dXMsc3RhdHVzVGV4dDpTLnN0YXR1c1RleHQsaGVhZGVyczplLGNvbmZpZzpoLHJlcXVlc3Q6U307dCgoZnVuY3Rpb24oZSl7dShlKSxnKCl9KSwoZnVuY3Rpb24oZSl7cChlKSxnKCl9KSxpKSxTPW51bGx9fWlmKFMub3BlbihoLm1ldGhvZC50b1VwcGVyQ2FzZSgpLG4oQyxoLnBhcmFtcyxoLnBhcmFtc1NlcmlhbGl6ZXIpLCEwKSxTLnRpbWVvdXQ9aC50aW1lb3V0LFwib25sb2FkZW5kXCJpbiBTP1Mub25sb2FkZW5kPXY6Uy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtTJiY0PT09Uy5yZWFkeVN0YXRlJiYoMCE9PVMuc3RhdHVzfHxTLnJlc3BvbnNlVVJMJiYwPT09Uy5yZXNwb25zZVVSTC5pbmRleE9mKFwiZmlsZTpcIikpJiZzZXRUaW1lb3V0KHYpfSxTLm9uYWJvcnQ9ZnVuY3Rpb24oKXtTJiYocChuZXcgYyhcIlJlcXVlc3QgYWJvcnRlZFwiLGMuRUNPTk5BQk9SVEVELGgsUykpLFM9bnVsbCl9LFMub25lcnJvcj1mdW5jdGlvbigpe3AobmV3IGMoXCJOZXR3b3JrIEVycm9yXCIsYy5FUlJfTkVUV09SSyxoLFMsUykpLFM9bnVsbH0sUy5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXt2YXIgZT1oLnRpbWVvdXQ/XCJ0aW1lb3V0IG9mIFwiK2gudGltZW91dCtcIm1zIGV4Y2VlZGVkXCI6XCJ0aW1lb3V0IGV4Y2VlZGVkXCIsdD1oLnRyYW5zaXRpb25hbHx8YTtoLnRpbWVvdXRFcnJvck1lc3NhZ2UmJihlPWgudGltZW91dEVycm9yTWVzc2FnZSkscChuZXcgYyhlLHQuY2xhcmlmeVRpbWVvdXRFcnJvcj9jLkVUSU1FRE9VVDpjLkVDT05OQUJPUlRFRCxoLFMpKSxTPW51bGx9LGUuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSl7dmFyIEk9KGgud2l0aENyZWRlbnRpYWxzfHxvKEMpKSYmaC54c3JmQ29va2llTmFtZT9pLnJlYWQoaC54c3JmQ29va2llTmFtZSk6dm9pZCAwO0kmJihtW2gueHNyZkhlYWRlck5hbWVdPUkpfVwic2V0UmVxdWVzdEhlYWRlclwiaW4gUyYmZS5mb3JFYWNoKG0sKGZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09RSYmXCJjb250ZW50LXR5cGVcIj09PXQudG9Mb3dlckNhc2UoKT9kZWxldGUgbVt0XTpTLnNldFJlcXVlc3RIZWFkZXIodCxlKX0pKSxlLmlzVW5kZWZpbmVkKGgud2l0aENyZWRlbnRpYWxzKXx8KFMud2l0aENyZWRlbnRpYWxzPSEhaC53aXRoQ3JlZGVudGlhbHMpLGYmJlwianNvblwiIT09ZiYmKFMucmVzcG9uc2VUeXBlPWgucmVzcG9uc2VUeXBlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBoLm9uRG93bmxvYWRQcm9ncmVzcyYmUy5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixoLm9uRG93bmxvYWRQcm9ncmVzcyksXCJmdW5jdGlvblwiPT10eXBlb2YgaC5vblVwbG9hZFByb2dyZXNzJiZTLnVwbG9hZCYmUy51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsaC5vblVwbG9hZFByb2dyZXNzKSwoaC5jYW5jZWxUb2tlbnx8aC5zaWduYWwpJiYoXz1mdW5jdGlvbihlKXtTJiYocCghZXx8ZSYmZS50eXBlP25ldyBkOmUpLFMuYWJvcnQoKSxTPW51bGwpfSxoLmNhbmNlbFRva2VuJiZoLmNhbmNlbFRva2VuLnN1YnNjcmliZShfKSxoLnNpZ25hbCYmKGguc2lnbmFsLmFib3J0ZWQ/XygpOmguc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLF8pKSksRXx8KEU9bnVsbCk7dmFyIHk9bChDKTt5JiYtMT09PVtcImh0dHBcIixcImh0dHBzXCIsXCJmaWxlXCJdLmluZGV4T2YoeSk/cChuZXcgYyhcIlVuc3VwcG9ydGVkIHByb3RvY29sIFwiK3krXCI6XCIsYy5FUlJfQkFEX1JFUVVFU1QsaCkpOlMuc2VuZChFKX0pKX0sb1J9dmFyIGdSPURULFNSPWZ1bmN0aW9uKGUsdCl7QlQuZm9yRWFjaChlLChmdW5jdGlvbihpLG4pe24hPT10JiZuLnRvVXBwZXJDYXNlKCk9PT10LnRvVXBwZXJDYXNlKCkmJihlW3RdPWksZGVsZXRlIGVbbl0pfSkpfSxUUj1qVCgpLFJSPUpULENSPXpUKCksdlI9e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIn07ZnVuY3Rpb24gSVIoZSx0KXshZ1IuaXNVbmRlZmluZWQoZSkmJmdSLmlzVW5kZWZpbmVkKGVbXCJDb250ZW50LVR5cGVcIl0pJiYoZVtcIkNvbnRlbnQtVHlwZVwiXT10KX12YXIgeVIsQVI9e3RyYW5zaXRpb25hbDpSUixhZGFwdGVyOigoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhNTEh0dHBSZXF1ZXN0fHxcInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocHJvY2VzcykpJiYoeVI9ZlIoKSkseVIpLHRyYW5zZm9ybVJlcXVlc3Q6W2Z1bmN0aW9uKGUsdCl7aWYoU1IodCxcIkFjY2VwdFwiKSxTUih0LFwiQ29udGVudC1UeXBlXCIpLGdSLmlzRm9ybURhdGEoZSl8fGdSLmlzQXJyYXlCdWZmZXIoZSl8fGdSLmlzQnVmZmVyKGUpfHxnUi5pc1N0cmVhbShlKXx8Z1IuaXNGaWxlKGUpfHxnUi5pc0Jsb2IoZSkpcmV0dXJuIGU7aWYoZ1IuaXNBcnJheUJ1ZmZlclZpZXcoZSkpcmV0dXJuIGUuYnVmZmVyO2lmKGdSLmlzVVJMU2VhcmNoUGFyYW1zKGUpKXJldHVybiBJUih0LFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLThcIiksZS50b1N0cmluZygpO3ZhciBpLG49Z1IuaXNPYmplY3QoZSkscj10JiZ0W1wiQ29udGVudC1UeXBlXCJdO2lmKChpPWdSLmlzRmlsZUxpc3QoZSkpfHxuJiZcIm11bHRpcGFydC9mb3JtLWRhdGFcIj09PXIpe3ZhciBzPXRoaXMuZW52JiZ0aGlzLmVudi5Gb3JtRGF0YTtyZXR1cm4gQ1IoaT97XCJmaWxlc1tdXCI6ZX06ZSxzJiZuZXcgcyl9cmV0dXJuIG58fFwiYXBwbGljYXRpb24vanNvblwiPT09cj8oSVIodCxcImFwcGxpY2F0aW9uL2pzb25cIiksZnVuY3Rpb24oZSx0LGkpe2lmKGdSLmlzU3RyaW5nKGUpKXRyeXtyZXR1cm4odHx8SlNPTi5wYXJzZSkoZSksZ1IudHJpbShlKX1jYXRjaChlKXtpZihcIlN5bnRheEVycm9yXCIhPT1lLm5hbWUpdGhyb3cgZX1yZXR1cm4oaXx8SlNPTi5zdHJpbmdpZnkpKGUpfShlKSk6ZX1dLHRyYW5zZm9ybVJlc3BvbnNlOltmdW5jdGlvbihlKXt2YXIgdD10aGlzLnRyYW5zaXRpb25hbHx8QVIudHJhbnNpdGlvbmFsLGk9dCYmdC5zaWxlbnRKU09OUGFyc2luZyxuPXQmJnQuZm9yY2VkSlNPTlBhcnNpbmcscj0haSYmXCJqc29uXCI9PT10aGlzLnJlc3BvbnNlVHlwZTtpZihyfHxuJiZnUi5pc1N0cmluZyhlKSYmZS5sZW5ndGgpdHJ5e3JldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKGUpe2lmKHIpe2lmKFwiU3ludGF4RXJyb3JcIj09PWUubmFtZSl0aHJvdyBUUi5mcm9tKGUsVFIuRVJSX0JBRF9SRVNQT05TRSx0aGlzLG51bGwsdGhpcy5yZXNwb25zZSk7dGhyb3cgZX19cmV0dXJuIGV9XSx0aW1lb3V0OjAseHNyZkNvb2tpZU5hbWU6XCJYU1JGLVRPS0VOXCIseHNyZkhlYWRlck5hbWU6XCJYLVhTUkYtVE9LRU5cIixtYXhDb250ZW50TGVuZ3RoOi0xLG1heEJvZHlMZW5ndGg6LTEsZW52OntGb3JtRGF0YTpkUj9jUjooZFI9MSxjUj1udWxsKX0sdmFsaWRhdGVTdGF0dXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PTIwMCYmZTwzMDB9LGhlYWRlcnM6e2NvbW1vbjp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qXCJ9fX07Z1IuZm9yRWFjaChbXCJkZWxldGVcIixcImdldFwiLFwiaGVhZFwiXSwoZnVuY3Rpb24oZSl7QVIuaGVhZGVyc1tlXT17fX0pKSxnUi5mb3JFYWNoKFtcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIl0sKGZ1bmN0aW9uKGUpe0FSLmhlYWRlcnNbZV09Z1IubWVyZ2UodlIpfSkpO3ZhciBiUix3UixPUj1BUixOUj1EVCxEUj1PUjtmdW5jdGlvbiBQUigpe3JldHVybiB3Uj9iUjood1I9MSxiUj1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS5fX0NBTkNFTF9fKX0pfXZhciBMUj1EVCxrUj1mdW5jdGlvbihlLHQsaSl7dmFyIG49dGhpc3x8RFI7cmV0dXJuIE5SLmZvckVhY2goaSwoZnVuY3Rpb24oaSl7ZT1pLmNhbGwobixlLHQpfSkpLGV9LE1SPVBSKCksVVI9T1IseFI9RVIoKTtmdW5jdGlvbiBWUihlKXtpZihlLmNhbmNlbFRva2VuJiZlLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKSxlLnNpZ25hbCYmZS5zaWduYWwuYWJvcnRlZCl0aHJvdyBuZXcgeFJ9dmFyIEZSLEJSLGpSPURULEdSPWZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgaT17fTtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIGpSLmlzUGxhaW5PYmplY3QoZSkmJmpSLmlzUGxhaW5PYmplY3QodCk/alIubWVyZ2UoZSx0KTpqUi5pc1BsYWluT2JqZWN0KHQpP2pSLm1lcmdlKHt9LHQpOmpSLmlzQXJyYXkodCk/dC5zbGljZSgpOnR9ZnVuY3Rpb24gcihpKXtyZXR1cm4galIuaXNVbmRlZmluZWQodFtpXSk/alIuaXNVbmRlZmluZWQoZVtpXSk/dm9pZCAwOm4odm9pZCAwLGVbaV0pOm4oZVtpXSx0W2ldKX1mdW5jdGlvbiBzKGUpe2lmKCFqUi5pc1VuZGVmaW5lZCh0W2VdKSlyZXR1cm4gbih2b2lkIDAsdFtlXSl9ZnVuY3Rpb24gbyhpKXtyZXR1cm4galIuaXNVbmRlZmluZWQodFtpXSk/alIuaXNVbmRlZmluZWQoZVtpXSk/dm9pZCAwOm4odm9pZCAwLGVbaV0pOm4odm9pZCAwLHRbaV0pfWZ1bmN0aW9uIGEoaSl7cmV0dXJuIGkgaW4gdD9uKGVbaV0sdFtpXSk6aSBpbiBlP24odm9pZCAwLGVbaV0pOnZvaWQgMH12YXIgYz17dXJsOnMsbWV0aG9kOnMsZGF0YTpzLGJhc2VVUkw6byx0cmFuc2Zvcm1SZXF1ZXN0Om8sdHJhbnNmb3JtUmVzcG9uc2U6byxwYXJhbXNTZXJpYWxpemVyOm8sdGltZW91dDpvLHRpbWVvdXRNZXNzYWdlOm8sd2l0aENyZWRlbnRpYWxzOm8sYWRhcHRlcjpvLHJlc3BvbnNlVHlwZTpvLHhzcmZDb29raWVOYW1lOm8seHNyZkhlYWRlck5hbWU6byxvblVwbG9hZFByb2dyZXNzOm8sb25Eb3dubG9hZFByb2dyZXNzOm8sZGVjb21wcmVzczpvLG1heENvbnRlbnRMZW5ndGg6byxtYXhCb2R5TGVuZ3RoOm8sYmVmb3JlUmVkaXJlY3Q6byx0cmFuc3BvcnQ6byxodHRwQWdlbnQ6byxodHRwc0FnZW50Om8sY2FuY2VsVG9rZW46byxzb2NrZXRQYXRoOm8scmVzcG9uc2VFbmNvZGluZzpvLHZhbGlkYXRlU3RhdHVzOmF9O3JldHVybiBqUi5mb3JFYWNoKE9iamVjdC5rZXlzKGUpLmNvbmNhdChPYmplY3Qua2V5cyh0KSksKGZ1bmN0aW9uKGUpe3ZhciB0PWNbZV18fHIsbj10KGUpO2pSLmlzVW5kZWZpbmVkKG4pJiZ0IT09YXx8KGlbZV09bil9KSksaX07ZnVuY3Rpb24gV1IoKXtyZXR1cm4gQlI/RlI6KEJSPTEsRlI9e3ZlcnNpb246XCIwLjI3LjJcIn0pfXZhciBIUj1XUigpLnZlcnNpb24sS1I9alQoKSxZUj17fTtbXCJvYmplY3RcIixcImJvb2xlYW5cIixcIm51bWJlclwiLFwiZnVuY3Rpb25cIixcInN0cmluZ1wiLFwic3ltYm9sXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7WVJbZV09ZnVuY3Rpb24oaSl7cmV0dXJuIHR5cGVvZiBpPT09ZXx8XCJhXCIrKHQ8MT9cIm4gXCI6XCIgXCIpK2V9fSkpO3ZhciBxUj17fTtZUi50cmFuc2l0aW9uYWw9ZnVuY3Rpb24oZSx0LGkpe2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm5cIltBeGlvcyB2XCIrSFIrXCJdIFRyYW5zaXRpb25hbCBvcHRpb24gJ1wiK2UrXCInXCIrdCsoaT9cIi4gXCIraTpcIlwiKX1yZXR1cm4gZnVuY3Rpb24oaSxyLHMpe2lmKCExPT09ZSl0aHJvdyBuZXcgS1IobihyLFwiIGhhcyBiZWVuIHJlbW92ZWRcIisodD9cIiBpbiBcIit0OlwiXCIpKSxLUi5FUlJfREVQUkVDQVRFRCk7cmV0dXJuIHQmJiFxUltyXSYmKHFSW3JdPSEwLGNvbnNvbGUud2FybihuKHIsXCIgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2XCIrdCtcIiBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZVwiKSkpLCFlfHxlKGkscixzKX19O3ZhciBKUix6UixYUixRUixaUiwkUixlQz17YXNzZXJ0T3B0aW9uczpmdW5jdGlvbihlLHQsaSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEtSKFwib3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdFwiLEtSLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtmb3IodmFyIG49T2JqZWN0LmtleXMoZSkscj1uLmxlbmd0aDtyLS0gPjA7KXt2YXIgcz1uW3JdLG89dFtzXTtpZihvKXt2YXIgYT1lW3NdLGM9dm9pZCAwPT09YXx8byhhLHMsZSk7aWYoITAhPT1jKXRocm93IG5ldyBLUihcIm9wdGlvbiBcIitzK1wiIG11c3QgYmUgXCIrYyxLUi5FUlJfQkFEX09QVElPTl9WQUxVRSl9ZWxzZSBpZighMCE9PWkpdGhyb3cgbmV3IEtSKFwiVW5rbm93biBvcHRpb24gXCIrcyxLUi5FUlJfQkFEX09QVElPTil9fSx2YWxpZGF0b3JzOllSfSx0Qz1EVCxpQz1rVCxuQz1GVCxyQz1mdW5jdGlvbihlKXtyZXR1cm4gVlIoZSksZS5oZWFkZXJzPWUuaGVhZGVyc3x8e30sZS5kYXRhPWtSLmNhbGwoZSxlLmRhdGEsZS5oZWFkZXJzLGUudHJhbnNmb3JtUmVxdWVzdCksZS5oZWFkZXJzPUxSLm1lcmdlKGUuaGVhZGVycy5jb21tb258fHt9LGUuaGVhZGVyc1tlLm1ldGhvZF18fHt9LGUuaGVhZGVycyksTFIuZm9yRWFjaChbXCJkZWxldGVcIixcImdldFwiLFwiaGVhZFwiLFwicG9zdFwiLFwicHV0XCIsXCJwYXRjaFwiLFwiY29tbW9uXCJdLChmdW5jdGlvbih0KXtkZWxldGUgZS5oZWFkZXJzW3RdfSkpLChlLmFkYXB0ZXJ8fFVSLmFkYXB0ZXIpKGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBWUihlKSx0LmRhdGE9a1IuY2FsbChlLHQuZGF0YSx0LmhlYWRlcnMsZS50cmFuc2Zvcm1SZXNwb25zZSksdH0pLChmdW5jdGlvbih0KXtyZXR1cm4gTVIodCl8fChWUihlKSx0JiZ0LnJlc3BvbnNlJiYodC5yZXNwb25zZS5kYXRhPWtSLmNhbGwoZSx0LnJlc3BvbnNlLmRhdGEsdC5yZXNwb25zZS5oZWFkZXJzLGUudHJhbnNmb3JtUmVzcG9uc2UpKSksUHJvbWlzZS5yZWplY3QodCl9KSl9LHNDPUdSLG9DPXVSLGFDPWVDLGNDPWFDLnZhbGlkYXRvcnM7ZnVuY3Rpb24gZEMoZSl7dGhpcy5kZWZhdWx0cz1lLHRoaXMuaW50ZXJjZXB0b3JzPXtyZXF1ZXN0Om5ldyBuQyxyZXNwb25zZTpuZXcgbkN9fWRDLnByb3RvdHlwZS5yZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7XCJzdHJpbmdcIj09dHlwZW9mIGU/KHQ9dHx8e30pLnVybD1lOnQ9ZXx8e30sKHQ9c0ModGhpcy5kZWZhdWx0cyx0KSkubWV0aG9kP3QubWV0aG9kPXQubWV0aG9kLnRvTG93ZXJDYXNlKCk6dGhpcy5kZWZhdWx0cy5tZXRob2Q/dC5tZXRob2Q9dGhpcy5kZWZhdWx0cy5tZXRob2QudG9Mb3dlckNhc2UoKTp0Lm1ldGhvZD1cImdldFwiO3ZhciBpPXQudHJhbnNpdGlvbmFsO3ZvaWQgMCE9PWkmJmFDLmFzc2VydE9wdGlvbnMoaSx7c2lsZW50SlNPTlBhcnNpbmc6Y0MudHJhbnNpdGlvbmFsKGNDLmJvb2xlYW4pLGZvcmNlZEpTT05QYXJzaW5nOmNDLnRyYW5zaXRpb25hbChjQy5ib29sZWFuKSxjbGFyaWZ5VGltZW91dEVycm9yOmNDLnRyYW5zaXRpb25hbChjQy5ib29sZWFuKX0sITEpO3ZhciBuPVtdLHI9ITA7dGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKChmdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJ1bldoZW4mJiExPT09ZS5ydW5XaGVuKHQpfHwocj1yJiZlLnN5bmNocm9ub3VzLG4udW5zaGlmdChlLmZ1bGZpbGxlZCxlLnJlamVjdGVkKSl9KSk7dmFyIHMsbz1bXTtpZih0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKChmdW5jdGlvbihlKXtvLnB1c2goZS5mdWxmaWxsZWQsZS5yZWplY3RlZCl9KSksIXIpe3ZhciBhPVtyQyx2b2lkIDBdO2ZvcihBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShhLG4pLGE9YS5jb25jYXQobykscz1Qcm9taXNlLnJlc29sdmUodCk7YS5sZW5ndGg7KXM9cy50aGVuKGEuc2hpZnQoKSxhLnNoaWZ0KCkpO3JldHVybiBzfWZvcih2YXIgYz10O24ubGVuZ3RoOyl7dmFyIGQ9bi5zaGlmdCgpLGw9bi5zaGlmdCgpO3RyeXtjPWQoYyl9Y2F0Y2goZSl7bChlKTticmVha319dHJ5e3M9ckMoYyl9Y2F0Y2goZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUpfWZvcig7by5sZW5ndGg7KXM9cy50aGVuKG8uc2hpZnQoKSxvLnNoaWZ0KCkpO3JldHVybiBzfSxkQy5wcm90b3R5cGUuZ2V0VXJpPWZ1bmN0aW9uKGUpe2U9c0ModGhpcy5kZWZhdWx0cyxlKTt2YXIgdD1vQyhlLmJhc2VVUkwsZS51cmwpO3JldHVybiBpQyh0LGUucGFyYW1zLGUucGFyYW1zU2VyaWFsaXplcil9LHRDLmZvckVhY2goW1wiZGVsZXRlXCIsXCJnZXRcIixcImhlYWRcIixcIm9wdGlvbnNcIl0sKGZ1bmN0aW9uKGUpe2RDLnByb3RvdHlwZVtlXT1mdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLnJlcXVlc3Qoc0MoaXx8e30se21ldGhvZDplLHVybDp0LGRhdGE6KGl8fHt9KS5kYXRhfSkpfX0pKSx0Qy5mb3JFYWNoKFtcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIl0sKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGZ1bmN0aW9uKGksbixyKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KHNDKHJ8fHt9LHttZXRob2Q6ZSxoZWFkZXJzOnQ/e1wiQ29udGVudC1UeXBlXCI6XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCJ9Ont9LHVybDppLGRhdGE6bn0pKX19ZEMucHJvdG90eXBlW2VdPXQoKSxkQy5wcm90b3R5cGVbZStcIkZvcm1cIl09dCghMCl9KSk7dmFyIGxDPURULGhDPXVULHVDPWRDLHBDPUdSO3ZhciBfQz1mdW5jdGlvbiBlKHQpe3ZhciBpPW5ldyB1Qyh0KSxuPWhDKHVDLnByb3RvdHlwZS5yZXF1ZXN0LGkpO3JldHVybiBsQy5leHRlbmQobix1Qy5wcm90b3R5cGUsaSksbEMuZXh0ZW5kKG4saSksbi5jcmVhdGU9ZnVuY3Rpb24oaSl7cmV0dXJuIGUocEModCxpKSl9LG59KE9SKTtfQy5BeGlvcz11QyxfQy5DYW5jZWxlZEVycm9yPUVSKCksX0MuQ2FuY2VsVG9rZW49ZnVuY3Rpb24oKXtpZih6UilyZXR1cm4gSlI7elI9MTt2YXIgZT1FUigpO2Z1bmN0aW9uIHQodCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTt2YXIgaTt0aGlzLnByb21pc2U9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe2k9ZX0pKTt2YXIgbj10aGlzO3RoaXMucHJvbWlzZS50aGVuKChmdW5jdGlvbihlKXtpZihuLl9saXN0ZW5lcnMpe3ZhciB0LGk9bi5fbGlzdGVuZXJzLmxlbmd0aDtmb3IodD0wO3Q8aTt0Kyspbi5fbGlzdGVuZXJzW3RdKGUpO24uX2xpc3RlbmVycz1udWxsfX0pKSx0aGlzLnByb21pc2UudGhlbj1mdW5jdGlvbihlKXt2YXIgdCxpPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtuLnN1YnNjcmliZShlKSx0PWV9KSkudGhlbihlKTtyZXR1cm4gaS5jYW5jZWw9ZnVuY3Rpb24oKXtuLnVuc3Vic2NyaWJlKHQpfSxpfSx0KChmdW5jdGlvbih0KXtuLnJlYXNvbnx8KG4ucmVhc29uPW5ldyBlKHQpLGkobi5yZWFzb24pKX0pKX1yZXR1cm4gdC5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZD1mdW5jdGlvbigpe2lmKHRoaXMucmVhc29uKXRocm93IHRoaXMucmVhc29ufSx0LnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oZSl7dGhpcy5yZWFzb24/ZSh0aGlzLnJlYXNvbik6dGhpcy5fbGlzdGVuZXJzP3RoaXMuX2xpc3RlbmVycy5wdXNoKGUpOnRoaXMuX2xpc3RlbmVycz1bZV19LHQucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2xpc3RlbmVycyl7dmFyIHQ9dGhpcy5fbGlzdGVuZXJzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKHQsMSl9fSx0LnNvdXJjZT1mdW5jdGlvbigpe3ZhciBlO3JldHVybnt0b2tlbjpuZXcgdCgoZnVuY3Rpb24odCl7ZT10fSkpLGNhbmNlbDplfX0sSlI9dH0oKSxfQy5pc0NhbmNlbD1QUigpLF9DLlZFUlNJT049V1IoKS52ZXJzaW9uLF9DLnRvRm9ybURhdGE9elQoKSxfQy5BeGlvc0Vycm9yPWpUKCksX0MuQ2FuY2VsPV9DLkNhbmNlbGVkRXJyb3IsX0MuYWxsPWZ1bmN0aW9uKGUpe3JldHVybiBQcm9taXNlLmFsbChlKX0sX0Muc3ByZWFkPVFSP1hSOihRUj0xLFhSPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseShudWxsLHQpfX0pLF9DLmlzQXhpb3NFcnJvcj1mdW5jdGlvbigpe2lmKCRSKXJldHVybiBaUjskUj0xO3ZhciBlPURUO3JldHVybiBaUj1mdW5jdGlvbih0KXtyZXR1cm4gZS5pc09iamVjdCh0KSYmITA9PT10LmlzQXhpb3NFcnJvcn19KCksaFQuZXhwb3J0cz1fQyxoVC5leHBvcnRzLmRlZmF1bHQ9X0M7dmFyIEVDPUooaFQuZXhwb3J0cyk7ZnVuY3Rpb24gbUMoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIGZDKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP21DKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOm1DKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWxldCBnQyxTQz0wLFRDPTA7ZnVuY3Rpb24gUkMoZSx0LGksbil7cmV0dXJuIG5ldyB0ZygoKHIscyk9Pnt0LnJlc3BvbnNlVHlwZT10LnJlc3BvbnNlVHlwZXx8XCJqc29uXCIsdC5kYXRhJiYhaT8odC5kYXRhPUpTT04uc3RyaW5naWZ5KHQuZGF0YSksU0MrPUxTKHQuZGF0YSkpOmkmJih0LmRhdGEuc2l6ZT9TQys9dC5kYXRhLnNpemU6dC5kYXRhIGluc3RhbmNlb2YgRm9ybURhdGE/U0MrPWtTKHQuZGF0YSk6U0MrPUxTKEpTT04uc3RyaW5naWZ5KHQuZGF0YSkpKSx0LmhlYWRlcnM9dC5oZWFkZXJzfHx7fSx0LmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl09dC5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdfHxcImFwcGxpY2F0aW9uL2pzb25cIix0Lm1ldGhvZD1cIlBPU1RcIix0LnVybD1lLEVDLnJlcXVlc3QodCkudGhlbigoZT0+e1wic3RyaW5nXCI9PXR5cGVvZiBlLmRhdGE/VEMrPUxTKGUuZGF0YSk6ZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fGUuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/VEMrPWUuZGF0YS5ieXRlTGVuZ3RoOlRDKz1MUyhKU09OLnN0cmluZ2lmeShlLmRhdGEpKSxuJiZyKHtkYXRhOmUuZGF0YSxoZWFkZXJzOmUuaGVhZGVyc30pLHIoZS5kYXRhKX0pKS5jYXRjaCgoZT0+e0VDLmlzQ2FuY2VsKGUpP3MobmV3IFZnKHhnLk9QRVJBVElPTl9BQk9SVEVELFwiY2FuY2VsIHRva2VuIGNhbmNlbGVkXCIpKTpcIkVDT05OQUJPUlRFRFwiPT09ZS5jb2RlP3MobmV3IFZnKHhnLk5FVFdPUktfVElNRU9VVCxlLm1lc3NhZ2UpKTplLnJlc3BvbnNlP3MobmV3IFZnKHhnLk5FVFdPUktfUkVTUE9OU0VfRVJST1IsZS5yZXNwb25zZS5zdGF0dXMpKTpzKG5ldyBWZyh4Zy5ORVRXT1JLX0VSUk9SLGUubWVzc2FnZSkpfSkpfSkpfWFzeW5jIGZ1bmN0aW9uIENDKGUsdCl7Y29uc3QgaT1uZXcgQmxvYihbdC5kYXRhXSx7dHlwZTpcImJ1ZmZlclwifSk7cmV0dXJuIGF3YWl0IFJDKGUsZkMoZkMoe30sdCkse30se2RhdGE6aSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJ9fSksITApfWNvbnN0IHZDPSgpPT5cIkhUVFBTXCI9PT0oZ0N8fGdDfHwoZ0M9KHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5zcGxpdChcIjpcIilbMF18fFwiXCIpLnRvVXBwZXJDYXNlKCksZ0MpKSxJQz0oKT0+dm9pZCAwIT09d2luZG93LmlzU2VjdXJlQ29udGV4dDtmdW5jdGlvbiB5QyhlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gQUMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/eUMoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6eUMoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9dmFyIGJDOyFmdW5jdGlvbihlKXtlLlNFVF9TRVNTSU9OX0lEPVwiU0VUX1NFU1NJT05fSURcIixlLlNFVF9QMlBfSUQ9XCJTRVRfUDJQX2lkXCIsZS5TRVRfRENfSUQ9XCJTRVRfRENfaWRcIixlLlNFVF9VSUQ9XCJTRVRfVUlEXCIsZS5TRVRfUFVCX0lEPVwiU0VUX1BVQl9JRFwiLGUuU0VUX0NMT1VEX1BST1hZX1NFUlZFUl9NT0RFPVwiU0VUX0NMT1VEX1BST1hZX1NFUlZFUl9NT0RFXCIsZS5LRVlfTUVUUklDX0NMSUVOVF9DUkVBVEVEPVwiS0VZX01FVFJJQ19DTElFTlRfQ1JFQVRFRFwiLGUuS0VZX01FVFJJQ19KT0lOX1NUQVJUPVwiS0VZX01FVFJJQ19KT0lOX1NUQVJUXCIsZS5BVk9JRF9KT0lOX1NUQVJUPVwiQVZPSURfSk9JTl9TVEFSVFwiLGUuS0VZX01FVFJJQ19KT0lOX0VORD1cIktFWV9NRVRSSUNfSk9JTl9FTkRcIixlLktFWV9NRVRSSUNfUkVRVUVTVF9BUF9TVEFSVD1cIktFWV9NRVRSSUNfUkVRVUVTVF9BUF9TVEFSVFwiLGUuS0VZX01FVFJJQ19SRVFVRVNUX0FQX0VORD1cIktFWV9NRVRSSUNfUkVRVUVTVF9BUF9FTkRcIixlLktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX1NUQVJUPVwiS0VZX01FVFJJQ19KT0lOX0dBVEVXQVlfU1RBUlRcIixlLktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX0VORD1cIktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX0VORFwiLGUuS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fU1RBUlQ9XCJLRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9TVEFSVFwiLGUuS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fRU5EPVwiS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fRU5EXCIsZS5LRVlfTUVUUklDX0RFU0NSSVBUSU9OX1NUQVJUPVwiS0VZX01FVFJJQ19ERVNDUklQVElPTl9TVEFSVFwiLGUuS0VZX01FVFJJQ19JQ0VfQ09OTkVDVElPTl9FTkQ9XCJLRVlfTUVUUklDX0lDRV9DT05ORUNUSU9OX0VORFwiLGUuS0VZX01FVFJJQ19TSUdOQUxfQ0hBTk5FTF9PUEVOPVwiS0VZX01FVFJJQ19TSUdOQUxfQ0hBTk5FTF9PUEVOXCIsZS5LRVlfTUVUUklDX1BVQkxJU0g9XCJLRVlfTUVUUklDX1BVQkxJU0hcIixlLktFWV9NRVRSSUNfU1VCU0NSSUJFPVwiS0VZX01FVFJJQ19TVUJTQ1JJQkVcIixlLlJFQ09SRF9KT0lOX0NIQU5ORUxfU0VSVklDRT1cIlJFQ09SRF9KT0lOX0NIQU5ORUxfU0VSVklDRVwiLGUuUkVTRVRfSk9JTl9DSEFOTkVMX1NFUlZJQ0VfUkVDT1JEUz1cIlJFU0VUX0pPSU5fQ0hBTk5FTF9TRVJWSUNFX1JFQ09SRFNcIixlLlJFU0VUX0tFWV9NRVRSSUNTPVwiUkVTRVRfS0VZX01FVFJJQ1NcIixlLlNFVF9VU0VfREFUQUNIQU5ORUw9XCJTRVRfVVNFX0RBVEFDSEFOTkVMXCIsZS5TRVRfVVNFX1AyUD1cIlNFVF9VU0VfUDJQXCJ9KGJDfHwoYkM9e30pKTtjbGFzcyB3Q3tjb25zdHJ1Y3RvcihlLHQsaSxuKXtudSh0aGlzLFwic3RhdGVcIix2b2lkIDApLHRoaXMuc3RhdGU9e2NvZGVjOmUsYXVkaW9Db2RlYzp0LG1vZGU6aSxjbGllbnRJZDpuLHNlc3Npb25JZDpudWxsLHAycElkOjAsZGNJZDowLHB1YklkOjAsc3ViSWQ6MCxhdm9pZEpvaW5TdGFydDowLGtleU1ldHJpY3M6e3B1Ymxpc2g6W10sc3Vic2NyaWJlOltdfSxqb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzOltdLGNsb3VkUHJveHlTZXJ2ZXJNb2RlOlwiZGlzYWJsZWRcIix1c2VEYXRhQ2hhbm5lbDohMSx1c2VQMlA6ITF9fWRpc3BhdGNoKGUpe3RoaXMuc3RhdGU9ZnVuY3Rpb24oZSx0KXtzd2l0Y2godC50eXBlKXtjYXNlIGJDLlNFVF9TRVNTSU9OX0lEOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7c2Vzc2lvbklkOnQuc2Vzc2lvbklkfSk7Y2FzZSBiQy5TRVRfUDJQX0lEOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7cDJwSWQ6dC5wMnBJZH0pO2Nhc2UgYkMuU0VUX1VJRDpyZXR1cm4gQUMoQUMoe30sZSkse30se3VpZDp0LnVpZH0pO2Nhc2UgYkMuU0VUX1BVQl9JRDpyZXR1cm4gQUMoQUMoe30sZSkse30se3B1YklkOnQucHViSWR9KTtjYXNlIGJDLktFWV9NRVRSSUNfQ0xJRU5UX0NSRUFURUQ6cmV0dXJuIEFDKEFDKHt9LGUpLHt9LHtrZXlNZXRyaWNzOkFDKEFDKHt9LGUua2V5TWV0cmljcykse30se2NsaWVudENyZWF0ZWQ6dC5tZXRyaWN9KX0pO2Nhc2UgYkMuS0VZX01FVFJJQ19KT0lOX1NUQVJUOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7a2V5TWV0cmljczpBQyhBQyh7fSxlLmtleU1ldHJpY3MpLHt9LHtqb2luU3RhcnQ6dC5tZXRyaWN9KX0pO2Nhc2UgYkMuQVZPSURfSk9JTl9TVEFSVDpyZXR1cm4gQUMoQUMoe30sZSkse30se2F2b2lkSm9pblN0YXJ0OnQuYXZvaWRKb2luU3RhcnR9KTtjYXNlIGJDLktFWV9NRVRSSUNfSk9JTl9FTkQ6cmV0dXJuIEFDKEFDKHt9LGUpLHt9LHtrZXlNZXRyaWNzOkFDKEFDKHt9LGUua2V5TWV0cmljcykse30se2pvaW5FbmQ6dC5tZXRyaWN9KX0pO2Nhc2UgYkMuS0VZX01FVFJJQ19SRVFVRVNUX0FQX1NUQVJUOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7a2V5TWV0cmljczpBQyhBQyh7fSxlLmtleU1ldHJpY3MpLHt9LHtyZXF1ZXN0QVBTdGFydDp0Lm1ldHJpY30pfSk7Y2FzZSBiQy5LRVlfTUVUUklDX1JFUVVFU1RfQVBfRU5EOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7a2V5TWV0cmljczpBQyhBQyh7fSxlLmtleU1ldHJpY3MpLHt9LHtyZXF1ZXN0QVBFbmQ6dC5tZXRyaWN9KX0pO2Nhc2UgYkMuS0VZX01FVFJJQ19KT0lOX0dBVEVXQVlfU1RBUlQ6cmV0dXJuIEFDKEFDKHt9LGUpLHt9LHtrZXlNZXRyaWNzOkFDKEFDKHt9LGUua2V5TWV0cmljcykse30se2pvaW5HYXRld2F5U3RhcnQ6dC5tZXRyaWN9KX0pO2Nhc2UgYkMuS0VZX01FVFJJQ19KT0lOX0dBVEVXQVlfRU5EOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7a2V5TWV0cmljczpBQyhBQyh7fSxlLmtleU1ldHJpY3MpLHt9LHtqb2luR2F0ZXdheUVuZDp0Lm1ldHJpY30pfSk7Y2FzZSBiQy5LRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9TVEFSVDpyZXR1cm4gQUMoQUMoe30sZSkse30se2tleU1ldHJpY3M6QUMoQUMoe30sZS5rZXlNZXRyaWNzKSx7fSx7cGVlckNvbm5lY3Rpb25TdGFydDp0Lm1ldHJpY30pfSk7Y2FzZSBiQy5LRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9FTkQ6cmV0dXJuIEFDKEFDKHt9LGUpLHt9LHtrZXlNZXRyaWNzOkFDKEFDKHt9LGUua2V5TWV0cmljcykse30se3BlZXJDb25uZWN0aW9uRW5kOnQubWV0cmljfSl9KTtjYXNlIGJDLktFWV9NRVRSSUNfREVTQ1JJUFRJT05fU1RBUlQ6cmV0dXJuIEFDKEFDKHt9LGUpLHt9LHtrZXlNZXRyaWNzOkFDKEFDKHt9LGUua2V5TWV0cmljcykse30se2Rlc2NyaXB0aW9uU3RhcnQ6dC5tZXRyaWN9KX0pO2Nhc2UgYkMuS0VZX01FVFJJQ19TSUdOQUxfQ0hBTk5FTF9PUEVOOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7a2V5TWV0cmljczpBQyhBQyh7fSxlLmtleU1ldHJpY3MpLHt9LHtzaWduYWxDaGFubmVsT3Blbjp0Lm1ldHJpY30pfSk7Y2FzZSBiQy5LRVlfTUVUUklDX0lDRV9DT05ORUNUSU9OX0VORDpyZXR1cm4gQUMoQUMoe30sZSkse30se2tleU1ldHJpY3M6QUMoQUMoe30sZS5rZXlNZXRyaWNzKSx7fSx7aWNlQ29ubmVjdGlvbkVuZDp0Lm1ldHJpY30pfSk7Y2FzZSBiQy5LRVlfTUVUUklDX1BVQkxJU0g6e2NvbnN0IGk9ZS5rZXlNZXRyaWNzLnB1Ymxpc2gsbj1pLmZpbmRJbmRleCgoZT0+ZS50cmFja0lkPT09dC5tZXRyaWMudHJhY2tJZCkpO3JldHVybi0xIT09bj8oaVtuXT1BQyhBQyh7fSxpW25dKSx0Lm1ldHJpYyksQUMoQUMoe30sZSkse30se2tleU1ldHJpY3M6QUMoQUMoe30sZS5rZXlNZXRyaWNzKSx7fSx7cHVibGlzaDpbLi4uaV19KX0pKTpBQyhBQyh7fSxlKSx7fSx7a2V5TWV0cmljczpBQyhBQyh7fSxlLmtleU1ldHJpY3MpLHt9LHtwdWJsaXNoOlsuLi5lLmtleU1ldHJpY3MucHVibGlzaCx0Lm1ldHJpY119KX0pfWNhc2UgYkMuS0VZX01FVFJJQ19TVUJTQ1JJQkU6e2NvbnN0IGk9ZS5rZXlNZXRyaWNzLnN1YnNjcmliZSxuPWkuZmluZEluZGV4KChlPT5lLnVzZXJJZD09PXQubWV0cmljLnVzZXJJZCYmZS50eXBlPT09dC5tZXRyaWMudHlwZSkpO3JldHVybi0xIT09bj8oaVtuXT1BQyhBQyh7fSxpW25dKSx0Lm1ldHJpYyksQUMoQUMoe30sZSkse30se2tleU1ldHJpY3M6QUMoQUMoe30sZS5rZXlNZXRyaWNzKSx7fSx7c3Vic2NyaWJlOlsuLi5pXX0pfSkpOkFDKEFDKHt9LGUpLHt9LHtrZXlNZXRyaWNzOkFDKEFDKHt9LGUua2V5TWV0cmljcykse30se3N1YnNjcmliZTpbLi4uZS5rZXlNZXRyaWNzLnN1YnNjcmliZSx0Lm1ldHJpY119KX0pfWNhc2UgYkMuU0VUX0NMT1VEX1BST1hZX1NFUlZFUl9NT0RFOnJldHVybiBlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlPXQubW9kZSxlO2Nhc2UgYkMuUkVDT1JEX0pPSU5fQ0hBTk5FTF9TRVJWSUNFOnJldHVyblwibnVtYmVyXCIhPXR5cGVvZiB0LmluZGV4P2Uuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcz1bLi4uZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzLHQucmVjb3JkXTooZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzW3QuaW5kZXhdPUFDKEFDKHt9LGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkc1t0LmluZGV4XSksdC5yZWNvcmQpLGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcz1bLi4uZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzXSksZTtjYXNlIGJDLlJFU0VUX0pPSU5fQ0hBTk5FTF9TRVJWSUNFX1JFQ09SRFM6cmV0dXJuIGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcz1bXSxlO2Nhc2UgYkMuUkVTRVRfS0VZX01FVFJJQ1M6cmV0dXJuIGUua2V5TWV0cmljcz17cHVibGlzaDpbXSxzdWJzY3JpYmU6W119LGU7Y2FzZSBiQy5TRVRfVVNFX0RBVEFDSEFOTkVMOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7dXNlRGF0YUNoYW5uZWw6dC52YWx9KTtjYXNlIGJDLlNFVF9VU0VfUDJQOnJldHVybiBBQyhBQyh7fSxlKSx7fSx7dXNlUDJQOnQudmFsfSk7ZGVmYXVsdDpyZXR1cm4gZX19KHRoaXMuc3RhdGUsZSl9c2V0IHNlc3Npb25JZChlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLlNFVF9TRVNTSU9OX0lELHNlc3Npb25JZDplfSl9Z2V0IHNlc3Npb25JZCgpe3JldHVybiB0aGlzLnN0YXRlLnNlc3Npb25JZH1nZXQgY29kZWMoKXtyZXR1cm4gdGhpcy5zdGF0ZS5jb2RlY31nZXQgYXVkaW9Db2RlYygpe3JldHVybiB0aGlzLnN0YXRlLmF1ZGlvQ29kZWN9Z2V0IGNsaWVudElkKCl7cmV0dXJuIHRoaXMuc3RhdGUuY2xpZW50SWR9c2V0IHAycElkKGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6YkMuU0VUX1AyUF9JRCxwMnBJZDplfSl9Z2V0IHAycElkKCl7cmV0dXJuIHRoaXMuc3RhdGUucDJwSWR9c2V0IGRjSWQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5TRVRfRENfSUQsZGNJZDplfSl9Z2V0IGRjSWQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5kY0lkfXNldCB1aWQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5TRVRfVUlELHVpZDplfSl9Z2V0IHVpZCgpe3JldHVybiB0aGlzLnN0YXRlLnVpZH1zZXQgcHViSWQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5TRVRfUFVCX0lELHB1YklkOmV9KX1nZXQgcHViSWQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5wdWJJZH1zZXQgY2xvdWRQcm94eVNlcnZlck1vZGUoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5TRVRfQ0xPVURfUFJPWFlfU0VSVkVSX01PREUsbW9kZTplfSl9Z2V0IGNsb3VkUHJveHlTZXJ2ZXJNb2RlKCl7cmV0dXJuIHRoaXMuc3RhdGUuY2xvdWRQcm94eVNlcnZlck1vZGV9c2V0IHVzZURhdGFDaGFubmVsKGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6YkMuU0VUX1VTRV9EQVRBQ0hBTk5FTCx2YWw6ZX0pfWdldCB1c2VEYXRhQ2hhbm5lbCgpe3JldHVybiB0aGlzLnN0YXRlLnVzZURhdGFDaGFubmVsfXNldCB1c2VQMlAoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5TRVRfVVNFX1AyUCx2YWw6ZX0pfWdldCB1c2VQMlAoKXtyZXR1cm4gdGhpcy5zdGF0ZS51c2VQMlB9Y2xpZW50Q3JlYXRlZCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6YkMuS0VZX01FVFJJQ19DTElFTlRfQ1JFQVRFRCxtZXRyaWM6RGF0ZS5ub3coKX0pfWpvaW5TdGFydCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6YkMuS0VZX01FVFJJQ19KT0lOX1NUQVJULG1ldHJpYzpEYXRlLm5vdygpfSl9am9pbkVuZCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6YkMuS0VZX01FVFJJQ19KT0lOX0VORCxtZXRyaWM6RGF0ZS5ub3coKX0pfXJlcXVlc3RBUFN0YXJ0KCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5LRVlfTUVUUklDX1JFUVVFU1RfQVBfU1RBUlQsbWV0cmljOkRhdGUubm93KCl9KX1yZXF1ZXN0QVBFbmQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLktFWV9NRVRSSUNfUkVRVUVTVF9BUF9FTkQsbWV0cmljOkRhdGUubm93KCl9KX1qb2luR2F0ZXdheVN0YXJ0KCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5LRVlfTUVUUklDX0pPSU5fR0FURVdBWV9TVEFSVCxtZXRyaWM6RGF0ZS5ub3coKX0pfWpvaW5HYXRld2F5RW5kKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5LRVlfTUVUUklDX0pPSU5fR0FURVdBWV9FTkQsbWV0cmljOkRhdGUubm93KCl9KX1wZWVyQ29ubmVjdGlvblN0YXJ0KCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5LRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9TVEFSVCxtZXRyaWM6RGF0ZS5ub3coKX0pfXBlZXJDb25uZWN0aW9uRW5kKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5LRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9FTkQsbWV0cmljOkRhdGUubm93KCl9KX1kZXNjcmlwdGlvblN0YXJ0KCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5LRVlfTUVUUklDX0RFU0NSSVBUSU9OX1NUQVJULG1ldHJpYzpEYXRlLm5vdygpfSl9c2lnbmFsQ2hhbm5lbE9wZW4oKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLktFWV9NRVRSSUNfU0lHTkFMX0NIQU5ORUxfT1BFTixtZXRyaWM6RGF0ZS5ub3coKX0pfWljZUNvbm5lY3Rpb25FbmQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLktFWV9NRVRSSUNfSUNFX0NPTk5FQ1RJT05fRU5ELG1ldHJpYzpEYXRlLm5vdygpfSl9cHVibGlzaChlLHQsaSxuKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLktFWV9NRVRSSUNfUFVCTElTSCxtZXRyaWM6QUMoQUMoe3RyYWNrSWQ6ZSx0eXBlOnR9LGkmJntwdWJsaXNoU3RhcnQ6aX0pLG4mJntwdWJsaXNoRW5kOm59KX0pfXN1YnNjcmliZShlLHQsaSxuLHIscyxvKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLktFWV9NRVRSSUNfU1VCU0NSSUJFLG1ldHJpYzpBQyhBQyhBQyhBQyhBQyh7dXNlcklkOmUsdHlwZTp0fSxpJiZ7c3Vic2NyaWJlU3RhcnQ6aX0pLG4mJntzdWJzY3JpYmVFbmQ6bn0pLHImJntmaXJzdEZyYW1lOnJ9KSxzJiZ7c3RyZWFtQWRkZWQ6c30pLG8mJntmaXJzdERlY29kZWQ6b30pfSl9bWFzc1N1YnNjcmliZShlLHQsaSxuKXtlLmZvckVhY2goKGU9Pnt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLktFWV9NRVRSSUNfU1VCU0NSSUJFLG1ldHJpYzpBQyhBQyhBQyh7dXNlcklkOmUudXNlcklkLHR5cGU6ZS50eXBlfSx0JiZ7c3Vic2NyaWJlU3RhcnQ6dH0pLGkmJntzdWJzY3JpYmVFbmQ6aX0pLG4mJntmaXJzdEZyYW1lOm59KX0pfSkpfWdldCBrZXlNZXRyaWNzKCl7cmV0dXJuIHRoaXMuc3RhdGUua2V5TWV0cmljc31yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2UoZSx0KXtcImdhdGV3YXlcIj09PWUuc2VydmljZSYmQXJyYXkuaXNBcnJheShlLnVybHMpJiYoZS51cmxzPWUudXJscy5tYXAoKGU9PmUucmVwbGFjZSgvKFxcZCspLVxcZCstXFxkKy0oXFxkKykvLFwiJDEtKi0qLSQyXCIpKSkpO3RyeXtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgdD8odGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5SRUNPUkRfSk9JTl9DSEFOTkVMX1NFUlZJQ0UscmVjb3JkOkFDKEFDKHt9LGUpLHt9LHtzZXNzaW9uSWQ6dGhpcy5zZXNzaW9uSWQsY2xvdWRQcm94eU1vZGU6dGhpcy5jbG91ZFByb3h5U2VydmVyTW9kZSx1aWQ6dGhpcy51aWR9KX0pLHRoaXMuc3RhdGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcy5sZW5ndGgtMSk6KHQ8MHx8dD49dGhpcy5zdGF0ZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzLmxlbmd0aHx8dGhpcy5kaXNwYXRjaCh7dHlwZTpiQy5SRUNPUkRfSk9JTl9DSEFOTkVMX1NFUlZJQ0UscmVjb3JkOmUsaW5kZXg6dH0pLHQpfWNhdGNoKGUpe3JldHVybiAwfX1yZXNldEpvaW5DaGFubmVsU2VydmljZVJlY29yZHMoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLlJFU0VUX0pPSU5fQ0hBTk5FTF9TRVJWSUNFX1JFQ09SRFN9KX1yZXNldEtleU1ldHJpY3MoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOmJDLlJFU0VUX0tFWV9NRVRSSUNTfSl9Z2V0IGpvaW5DaGFubmVsU2VydmljZVJlY29yZHMoKXt0cnl7cmV0dXJuIHRoaXMuc3RhdGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkc31jYXRjaChlKXtyZXR1cm5bXX19Z2V0IGF2b2lkSm9pblN0YXJ0KCl7cmV0dXJuIHRoaXMuc3RhdGUuYXZvaWRKb2luU3RhcnR9c2V0IGF2b2lkSm9pblN0YXJ0KGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6YkMuQVZPSURfSk9JTl9TVEFSVCxhdm9pZEpvaW5TdGFydDplfSl9fWNvbnN0IE9DPWZ1bmN0aW9uKGUpe2lmKGUubWF0Y2goL1swLTldK1xcLlswLTldK1xcLlswLTldKyQvKSlyZXR1cm4gZTtjb25zdCB0PWUubWF0Y2goLyhbMC05XStcXC5bMC05XStcXC5bMC05XSspXFwtYWxwaGFcXC4oWzAtOV0rKS8pO2lmKHQmJnRbMV0mJnRbMl0pe2NvbnN0IGU9dFsxXSxpPXRbMl07cmV0dXJuXCJcIi5jb25jYXQoZSxcIi5cIikuY29uY2F0KGkpfWNvbnN0IGk9ZS5tYXRjaCgvKFswLTldK1xcLlswLTldK1xcLlswLTldKylcXC1zcGVjaWFsXFwuKFswLTldKykvKTtpZihpJiZpWzFdJiZpWzJdKXtjb25zdCBlPWlbMV0sdD1pWzJdO3JldHVyblwiXCIuY29uY2F0KGUsXCIuXCIpLmNvbmNhdCgxMDAqKE51bWJlcih0KSsxKSl9cmV0dXJuXCI0LjAuMC45OTlcIn0oXCI0LjE5LjFcIiksTkM9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuITA9PT1KU09OLnBhcnNlKFwidHJ1ZVwiKX1jYXRjaChlKXtyZXR1cm4hMH19KCksREM9XCJ2NC4xOS4xLTAtZzYwNTI4NmNjKDEwLzExLzIwMjMsIDI6Mzc6MDMgUE0pXCIsUEM9e1BST0NFU1NfSUQ6XCJcIixFTkNSWVBUX0FFUzohMCxBUkVBUzpbXCJDSElOQVwiLFwiR0xPQkFMXCJdLFdFQkNTX0RPTUFJTjpbXCJ3ZWJydGMyLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJ3ZWJydGMyLTIuYXAuc2QtcnRuLmNvbVwiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wid2VicnRjMi1hcC13ZWItMy5hZ29yYS5pb1wiLFwid2VicnRjMi00LmFwLnNkLXJ0bi5jb21cIl0sUFJPWFlfQ1M6W1wiYXAtcHJveHktMS5hZ29yYS5pb1wiLFwiYXAtcHJveHktMi5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJjZHMtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwiY2RzLWFwLXdlYi0zLmFnb3JhLmlvXCIsXCJjZHMtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItMS5hZ29yYS5pb1wiLFwic3VhLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcInN1YS1hcC13ZWItMy5hZ29yYS5pb1wiLFwic3VhLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItMS5hZ29yYS5pb1wiLFwidWFwLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcInVhcC1hcC13ZWItMy5hZ29yYS5pb1wiLFwidWFwLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sTE9HX1VQTE9BRF9TRVJWRVI6XCJsb2dzZXJ2aWNlLmFnb3JhLmlvXCIsRVZFTlRfUkVQT1JUX0RPTUFJTjpcInN0YXRzY29sbGVjdG9yLTEuYWdvcmEuaW9cIixFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpcIndlYi0yLnN0YXRzY29sbGVjdG9yLnNkLXJ0bi5jb21cIixFTkFCTEVfRVZFTlRfUkVQT1JUOiEwLEdBVEVXQVlfQUREUkVTUzpbXSxHQVRFV0FZX1dTU19BRERSRVNTOlwiXCIsTElWRV9TVFJFQU1JTkdfQUREUkVTUzpcIlwiLEhUVFBfQ09OTkVDVF9USU1FT1VUOjVlMyxTSUdOQUxfUkVRVUVTVF9USU1FT1VUOjFlNCxSRVBPUlRfU1RBVFM6ITAsVVBMT0FEX0xPRzohMSxOT1RfUkVQT1JUX0VWRU5UOltdLFNVQlNDUklCRV9UV0NDOiExLFBVQkxJU0hfVFdDQzohMSxQSU5HX1BPTkdfVElNRV9PVVQ6MTAsV0VCU09DS0VUX1RJTUVPVVRfTUlOOjFlNCxFVkVOVF9SRVBPUlRfU0VORF9JTlRFUlZBTDozZTMsQ09ORklHX0RJU1RSSUJVVEVfSU5URVJWQUw6M2U1LEVOQUJMRV9DT05GSUdfRElTVFJJQlVURTohMCxDQU5ESURBVEVfVElNRU9VVDo1ZTMsU0hPV19SRVBPUlRfSU5WT0tFUl9MT0c6ITEsSk9JTl9FWFRFTkQ6XCJcIixQVUJfRVhURU5EOlwiXCIsU1VCX0VYVEVORDpcIlwiLEZPUkNFX1RVUk46ITEsVFVSTl9FTkFCTEVfVENQOiEwLFRVUk5fRU5BQkxFX1VEUDohMCxNQVhfVVBMT0FEX0NBQ0hFOjUwLFVQTE9BRF9DQUNIRV9JTlRFUlZBTDoyZTMsQUpBWF9SRVFVRVNUX0NPTkNVUlJFTlQ6MyxSRVBPUlRfQVBQX1NDRU5BUklPOnZvaWQgMCxHQVRFV0FZX0RPTUFJTlM6W1wiZWRnZS5hZ29yYS5pb1wiLFwiZWRnZS5zZC1ydG4uY29tXCJdLFdPUktFUl9ET01BSU46XCJlZGdlLmFnb3JhLmlvXCIsVFVSTl9ET01BSU46XCJlZGdlLmFnb3JhLmlvXCIsRVZFTlRfUkVQT1JUX1JFVFJZOiEwLENIUk9NRV9GT1JDRV9QTEFOX0I6ITEsQVVESU9fU09VUkNFX1ZPTFVNRV9VUERBVEVfSU5URVJWQUw6NDAwLEFVRElPX1NPVVJDRV9BVkdfVk9MVU1FX0RVUkFUSU9OOjNlMyxBVURJT19WT0xVTUVfSU5ESUNBVElPTl9JTlRFUlZBTDoyZTMsVk9MVU1FX1ZPSUNFX1dFSUdIVDoxMCxHRVRfVk9MVU1FX09GX01VVEVEX0FVRElPX1RSQUNLOiExLFNUQVRTX1VQREFURV9JTlRFUlZBTDoyNTAsTk9STUFMX0VWRU5UX1FVRVVFX0NBUEFDSVRZOjEwMCxDVVNUT01fUkVQT1JUOiEwLENVU1RPTV9SRVBPUlRfTElNSVQ6MjAsUFJPWFlfU0VSVkVSX1RZUEUyOlwid2VibmdpbngtcHJveHkuYWdvcmEuaW9cIixQUk9YWV9TRVJWRVJfVFlQRTM6W1wid2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIixcIndlYnJ0Yy1jbG91ZC1wcm94eS5hZ29yYS5pb1wiXSxDVVNUT01fUFVCX0FOU1dFUl9NT0RJRklFUjpudWxsLENVU1RPTV9TVUJfQU5TV0VSX01PRElGSUVSOm51bGwsQ1VTVE9NX1BVQl9PRkZFUl9NT0RJRklFUjpudWxsLENVU1RPTV9TVUJfT0ZGRVJfTU9ESUZJRVI6bnVsbCxEU0NQX1RZUEU6XCJoaWdoXCIsUkVNT1ZFX05FV19DT0RFQ1M6ITAsRlJBR0VNRU5UX0xFTkdUSDozLFdFQlNPQ0tFVF9DT01QUkVTUzohMSxTSU1VTENBU1Q6ITEsUFJFTE9BRF9NRURJQV9DT1VOVDowLFVTRV9QVUJfUlRYOiExLFVTRV9TVUJfUlRYOiExLENIRUNLX1ZJREVPX1ZJU0lCTEVfSU5URVJWQUw6M2U0LEVOVU1FUkFURV9ERVZJQ0VTX0lOVEVSVkFMOiExLEVOVU1FUkFURV9ERVZJQ0VTX0lOVEVSVkFMX1RJTUU6MWU0LFVTRV9ORVdfVE9LRU46ITEsQ0xPU0VfQUZCX0ZPUl9MT0NBTF9BUDohMCxKT0lOX01BWF9DT05DVVJSRU5DWTo2LEpPSU5fV0lUSF9GQUxMQkFDS19TSUdOQUxfUFJPWFk6ITAsSk9JTl9XSVRIX0ZBTExCQUNLX01FRElBX1BST1hZOiEwLEpPSU5fV0lUSF9GQUxMQkFDS19NRURJQV9QUk9YWV9GT1JDRTohMSxKT0lOX0dBVEVXQVlfVFJZXzQ0M1BPUlRfRFVSQVRJT046MmUzLEpPSU5fR0FURVdBWV9VU0VfNDQzUE9SVF9PTkxZOiExLEpPSU5fR0FURVdBWV9VU0VfRFVBTF9ET01BSU46ITAsSk9JTl9HQVRFV0FZX0ZBTExCQUNLX1BPUlQ6NDQzLFVTRV9UVVJOX1NFUlZFUl9PRl9HQVRFV0FZOiExLEgyNjRfUFJPRklMRV9MRVZFTF9JRDpcIlwiLFVTRV9ORVdfTE9HOiExLExPR19WRVJTSU9OOjMsTUVESUFfREVWSUNFX0NPTlNUUkFJTlRTOm51bGwsRU5DUllQVF9QUk9YWV9VU0VSTkFNRV9BTkRfUFNXOiEwLFNEUF9MT0dHSU5HOiExLENTUF9ERVRFQ1RFRF9IT1NUTkFNRV9MSVNUOltcImFnb3JhLmlvXCIsXCJzZC1ydG4uY29tXCJdLFJFTU9URV9BVURJT19UUkFDS19VU0VTX1dFQl9BVURJTzohMSxMT0NBTF9BVURJT19UUkFDS19VU0VTX1dFQl9BVURJTzohMCxCSVRSQVRFX0FEQVBURVJfVFlQRTpcIlNUQU5EQVJEX0JJVFJBVEVcIixBSV9ERU5PSVNFUl9QQVJBTUVURVJTOnt9LEFESlVTVF8zQV9GUk9NX1BMVUdJTlM6ITAsUkFJU0VfSDI2NF9CQVNFTElORV9QUklPUklUWTohMCxGSUxURVJfU0VORF9IMjY0X0JBU0VMSU5FOiExLEVOQUJMRV9QVUJMSVNIRURfVVNFUl9MSVNUOiEwLE1BWF9TVUJTQ1JJUFRJT046NTAsWF9HT09HTEVfU1RBUlRfQklUUkFURTp2b2lkIDAsTkVXX1JFUE9SVF9TRVJWRVI6ITEsTkVXX1JFUE9SVF9TRVJWRVJfRE9NQUlOUzpbXCJkYXRhLXJlcG9ydGluZy5hZ29yYS5pb1wiLFwiZGF0YS1yZXBvcnRpbmcuYWdvcmEuaW9cIl0sVklERU9fSU5TUEVDVF9XT1JLRVJfTUVTU0FHRV9MRU5HVEhfTElNSVQ6M2U1LFZJREVPX0lOU1BFQ1RfSU5URVJWQUxfTUlOSU1VTToxZTMsVklERU9fSU5TUEVDVF9RVUFMSVRZX1JBVElPOi45LFZJREVPX0lOU1BFQ1RfV09SS0VSX01BTkFHRVJfSE9TVDpcImVkZ2UuYWdvcmEuaW9cIixWSURFT19JTlNQRUNUX1dPUktFUl9NQU5BR0VSX1BPUlQ6XCJcIixWSURFT19JTlNQRUNUX1dPUktFUl9QT1JUOlwiXCIsU0hPV19WSURFT19JTlNQRUNUX1dPUktFUl9NRVNTQUdFOiExLFNUQVRTX0NPTExFQ1RPUl9QT1JUOjQ0MyxGT1JDRV9UVVJOX1RDUDohMSxTVUJTQ1JJQkVfQVVESU9fRklMVEVSX1RPUE46dm9pZCAwLEVOQUJMRV9QVUJMSVNIX0FVRElPX0ZJTFRFUjp2b2lkIDAsRElTQUJMRV9GRUM6dm9pZCAwLFdFQkFVRElPX0lOSVRfT1BUSU9OUzp2b2lkIDAsRklMVEVSX1ZJREVPX0ZFQzohMCxGSUxURVJfQVVESU9fRkVDOiExLENIUk9NRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkc6ITAsRElTQUJMRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkc6ITEsRVhURU5TSU9OX1VTQUdFX1VQTE9BRF9JTlRFUlZBTDoxZTQsSUNFX1JFU1RBUlQ6ITAsSUNFX1JFU1RBUlRfSU5URVJWQUw6MWU0LE5FV19JQ0VfUkVTVEFSVDohMSxFTkFCTEVfVVNFUl9MSUNFTlNFX0NIRUNLOiEwLFNJR05BTF9DSEFOTkVMOjAsVFJBTlNNSVRURVJfSU5JVElBTF9SVFQ6MzAsVFJBTlNNSVRURVJfSU5JVElBTF9SVE86MzAsVFJBTlNNSVRURVJfTUFYX0JBVENIX0FDS19DT1VOVDoyLFRSQU5TTUlUVEVSX01BWF9SVE86NTAwLERBVEFDSEFOTkVMX0NPTVBSRVNTOiExLEZJTkdFUlBSSU5UOm51bGwsRENfSk9JTl9XSVRIX0ZBSUxCQUNLOjVlMyxFTkFCTEVfVklERU9fRlJBTUVfQ0FMTEJBQ0s6ITAsVklERU9fRlJFRVpFX0RVUkFUSU9OOjUwMCxTUEFUSUFMSVpFUl9QQVJBTUVURVJTOnt9LFVQTE9BRF9MT0dfSU5URVJWQUw6M2UzLFVQTE9BRF9MT0dfUkVRVUVTVF9SRVRSWV9JTlRFUlZBTDoyZTMsVVBMT0FEX0xPR19SRVFVRVNUX01BWF9SRVRSWV9JTlRFUlZBTDoyZTQsVVBMT0FEX0xPR19UUllfSU5URVJWQUxfV0hJTEVfT0ZGOjVlMyxVUExPQURfTE9HX1JFVFJZX0lOVEVSVkFMX1YxOjFlNCxVUExPQURfTE9HX1RXSUNFX1JFVFJZX0lOVEVSVkFMX1YxOjIwMCxVUExPQURfTE9HX0xFTkdUSF9FQUNIX1RJTUU6MTAsQVBQX1RZUEU6MCxESVNBQkxFX1dFQkFVRElPOiExLENIQU5ORUxfTUVESUFfUkVMQVlfU0VSVkVSUzp2b2lkIDAsS0VFUF9MQVNUX0ZSQU1FOiEwLEZPUldBUkRfUDJQX0NSRUFUSU9OOiEwLFNZTkNfR1JPVVA6ITAsQkxPQ0tfTE9DQUxfQ0xJRU5UOiExLEFQX0FSRUE6ITAsU1ZDOltdLEVOQUJMRV9FTkNPREVEX1RSQU5TRk9STTohMSxJTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9IT1NUOlwiZWRnZS5hZ29yYS5pb1wiLElNQUdFX01PREVSQVRJT05fV09SS0VSX01FU1NBR0VfTEVOR1RIX0xJTUlUOjNlNSxJTUFHRV9NT0RFUkFUSU9OX0lOVEVSVkFMX01JTklNVU06MWUzLFNIT1dfSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRTohMSxJTUFHRV9NT0RFUkFUSU9OX1FVQUxJVFlfUkFUSU86LjksSU1BR0VfTU9ERVJBVElPTl9VUExPQURfUkVQT1JUX0lOVEVSVkFMOjVlMyxTSE9XX0dMT0JBTF9DTElFTlRfTElTVDohMSxSVE0yX0ZMQUc6dm9pZCAwLEFQX1JUTTohMSxFTkFCTEVfREFUQVNUUkVBTV8yOiExLERBVEFTVFJFQU1fTUFYX1JFVFJBTlNNSVRTOjEwLEVOQUJMRV9VU0VSX0FVVE9fUkVCQUxBTkNFX0NIRUNLOiEwLEVOQUJMRV9JTlNUQU5UX1ZJREVPOiExLEVOQUJMRV9OVFBfUkVQT1JUOiExLFVTRV9YUjohMSxUQ1BfQ0FORElEQVRFX09OTFk6ITEsRVhURVJOQUxfU0lHTkFMX1JFUVVFU1RfVElNRU9VVDoxZTQsUDJQOiExLFNIT1dfUDJQX0xPRzohMSxBQ0NPVU5UX1JFR0lTVEVSX1JFVFJZX1RJTUVPVVQ6MSxBQ0NPVU5UX1JFR0lTVEVSX1JFVFJZX1JBVElPOjIsQUNDT1VOVF9SRUdJU1RFUl9SRVRSWV9USU1FT1VUX01BWDo2ZTQsQUNDT1VOVF9SRUdJU1RFUl9SRVRSWV9DT1VOVF9NQVg6MWU1LEFVRElPX0NPTlRFWFQ6bnVsbCxXRUJDU19CQUNLVVBfQ09OTkVDVF9USU1FT1VUOjZlMyxQTEFZRVJfU1RBVEVfREVGRVI6MmUzLFNJR05BTF9SRVFVRVNUX1dBVENIX0lOVEVSVkFMOjFlMyxGSUxFUEFUSF9MRU5NQVg6MjU1LERVQUxTVFJFQU1fT1BFUkFUSU9OX0NIRUNLOiEwLE1FRElBX0VMRU1FTlRfRVhJU1RTX0RFUFRIOjMsU0hJTV9DQU5ESURBVEU6ITEsTEVBVkVfTVNHX1RJTUVPVVQ6MmUzLFNUQVRTX0ZJTFRFUjp7dHJhbnNwb3J0SWQ6ITAsZ29vZ1RyYWNrSWQ6ITB9fTtmdW5jdGlvbiBMQyhlLHQsaSl7dmFyIG4scjtQcihuPU9iamVjdC5rZXlzKFBDKSkuY2FsbChuLGUpJiYoIWkmJlByKHI9T2JqZWN0LmtleXMoTUMpKS5jYWxsKHIsZSl8fChQQ1tlXT10KSl9ZnVuY3Rpb24ga0MoZSl7cmV0dXJuIFBDW2VdfWNvbnN0IE1DPXt9O2NvbnN0IFVDPW5ldyBjbGFzcyBleHRlbmRzIGlTe3JlcG9ydExvZ1VwbG9hZEVycm9yKGUpe3RoaXMuZW1pdChcIlJFUE9SVF9MT0dfVVBMT0FEXCIsZSl9fTtjbGFzcyB4Q3tjb25zdHJ1Y3RvcihlKXtudSh0aGlzLFwibG9nZ2VyXCIsdm9pZCAwKSxudSh0aGlzLFwicHJlZml4TGlzdHNcIixbXSksdGhpcy5sb2dnZXI9ZX1kZWJ1Zygpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO3RoaXMubG9nZ2VyLmRlYnVnKC4uLnRoaXMucHJlZml4TGlzdHMsLi4udCl9aW5mbygpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO3RoaXMubG9nZ2VyLmluZm8oLi4udGhpcy5wcmVmaXhMaXN0cywuLi50KX13YXJuaW5nKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07dGhpcy5sb2dnZXIud2FybmluZyguLi50aGlzLnByZWZpeExpc3RzLC4uLnQpfWVycm9yKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07dGhpcy5sb2dnZXIuZXJyb3IoLi4udGhpcy5wcmVmaXhMaXN0cywuLi50KX1wcmVmaXgoZSl7cmV0dXJuIHRoaXMucHJlZml4TGlzdHMucHVzaChlKSx0aGlzfXBvcFByZWZpeCgpe3JldHVybiB0aGlzLnByZWZpeExpc3RzLnBvcCgpLHRoaXN9fWZ1bmN0aW9uIFZDKCl7Y29uc3QgZT1uZXcgRGF0ZTtyZXR1cm4gZS50b1RpbWVTdHJpbmcoKS5zcGxpdChcIiBcIilbMF0rXCI6XCIrZS5nZXRNaWxsaXNlY29uZHMoKX1mdW5jdGlvbiBGQygpe2NvbnN0IGU9bmV3IERhdGUsdD0vKChcXGQrOil7Mn1cXGQrKS8uZXhlYygobmV3IERhdGUpLnRvVVRDU3RyaW5nKCkpO3JldHVybiB0PyhudWxsPT10P3ZvaWQgMDp0WzBdKStcIjpcIitlLmdldFVUQ01pbGxpc2Vjb25kcygpOmUudG9UaW1lU3RyaW5nKCkuc3BsaXQoXCIgXCIpWzBdK1wiOlwiK2UuZ2V0TWlsbGlzZWNvbmRzKCl9Y29uc3QgQkM9e0RFQlVHOjAsSU5GTzoxLFdBUk5JTkc6MixFUlJPUjozLE5PTkU6NH0sakM9RGF0ZS5ub3coKSxHQz1lPT57Zm9yKGNvbnN0IHQgaW4gQkMpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKEJDLHQpJiZCQ1t0XT09PWUpcmV0dXJuIHQ7cmV0dXJuXCJERUZBVUxUXCJ9O2NvbnN0IFdDPW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe251KHRoaXMsXCJwcm94eVNlcnZlclVSTFwiLHZvaWQgMCksbnUodGhpcyxcImxvZ0xldmVsXCIsQkMuREVCVUcpLG51KHRoaXMsXCJ1cGxvYWRTdGF0ZVwiLFwiY29sbGVjdGluZ1wiKSxudSh0aGlzLFwidXBsb2FkTG9nV2FpdGluZ0xpc3RcIixbXSksbnUodGhpcyxcInVwbG9hZExvZ1VwbG9hZGluZ0xpc3RcIixbXSksbnUodGhpcyxcInVwbG9hZEVycm9yQ291bnRcIiwwKSxudSh0aGlzLFwiY3VycmVudExvZ0lEXCIsMCksbnUodGhpcyxcInVybFwiLHZvaWQgMCksbnUodGhpcyxcImV4dExvZ1wiLCgoZSx0KT0+e3RoaXMuYXBwZW5kTG9nVG9XYWl0aW5nTGlzdChlLC4uLnQpfSkpfWRlYnVnKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07Y29uc3Qgbj1bQkMuREVCVUddLmNvbmNhdCh0KTt0aGlzLmxvZy5hcHBseSh0aGlzLG4pfWluZm8oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtjb25zdCBuPVtCQy5JTkZPXS5jb25jYXQodCk7dGhpcy5sb2cuYXBwbHkodGhpcyxuKX13YXJuaW5nKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07Y29uc3Qgbj1bQkMuV0FSTklOR10uY29uY2F0KHQpO3RoaXMubG9nLmFwcGx5KHRoaXMsbil9d2Fybigpe3RoaXMud2FybmluZyguLi5hcmd1bWVudHMpfWVycm9yKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07Y29uc3Qgbj1bQkMuRVJST1JdLmNvbmNhdCh0KTt0aGlzLmxvZy5hcHBseSh0aGlzLG4pfXVwbG9hZCgpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO2NvbnN0IG49W0JDLkRFQlVHXS5jb25jYXQodCk7dGhpcy51cGxvYWRMb2cuYXBwbHkodGhpcyxuKX1zZXRMb2dMZXZlbChlKXtlPU1hdGgubWluKE1hdGgubWF4KDAsZSksNCksdGhpcy5sb2dMZXZlbD1lfWVuYWJsZUxvZ1VwbG9hZCgpe0xDKFwiVVBMT0FEX0xPR1wiLCEwKX1kaXNhYmxlTG9nVXBsb2FkKCl7TEMoXCJVUExPQURfTE9HXCIsITEpLHRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdD1bXSx0aGlzLnVwbG9hZExvZ1dhaXRpbmdMaXN0PVtdfXNldFByb3h5U2VydmVyKGUpe3RoaXMucHJveHlTZXJ2ZXJVUkw9ZX1wcmVmaXgoZSl7cmV0dXJuIG5ldyB4Qyh0aGlzKS5wcmVmaXgoZSl9bG9nKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07aWYoRGF0ZS5ub3coKS1qQzwxMDApcmV0dXJuIHZvaWQgc2V0VGltZW91dCgoKCk9Pnt0aGlzLmxvZyguLi50KX0pLERhdGUubm93KCktakMpO2NvbnN0IG49TWF0aC5tYXgoMCxNYXRoLm1pbig0LHRbMF0pKTtpZih0WzBdPVZDKCkrXCIgQWdvcmEtU0RLIFtcIi5jb25jYXQoR0MobiksXCJdOlwiKSx0aGlzLmFwcGVuZExvZ1RvV2FpdGluZ0xpc3QobiwuLi50KSxuPHRoaXMubG9nTGV2ZWwpcmV0dXJuO2NvbnN0IHI9VkMoKStcIiAlY0Fnb3JhLVNESyBbXCIuY29uY2F0KEdDKG4pLFwiXTpcIik7bGV0IHM9W107aWYoIWtDKFwiVVNFX05FV19MT0dcIikpc3dpdGNoKG4pe2Nhc2UgQkMuREVCVUc6cz1bcixcImNvbG9yOiAjNjRCNUY2O1wiXS5jb25jYXQodC5zbGljZSgxKSksY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxzKTticmVhaztjYXNlIEJDLklORk86cz1bcixcImNvbG9yOiAjMUU4OEU1OyBmb250LXdlaWdodDogYm9sZDtcIl0uY29uY2F0KHQuc2xpY2UoMSkpLGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUscyk7YnJlYWs7Y2FzZSBCQy5XQVJOSU5HOnM9W3IsXCJjb2xvcjogI0ZCOEMwMDsgZm9udC13ZWlnaHQ6IGJvbGQ7XCJdLmNvbmNhdCh0LnNsaWNlKDEpKSxjb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSxzKTticmVhaztjYXNlIEJDLkVSUk9SOnM9W3IsXCJjb2xvcjogI0IwMDAyMDsgZm9udC13ZWlnaHQ6IGJvbGQ7XCJdLmNvbmNhdCh0LnNsaWNlKDEpKSxjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUscyl9fXVwbG9hZExvZygpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO2lmKERhdGUubm93KCktakM8MTAwKXJldHVybiB2b2lkIHNldFRpbWVvdXQoKCgpPT57dGhpcy51cGxvYWRMb2coLi4udCl9KSxEYXRlLm5vdygpLWpDKTtjb25zdCBuPU1hdGgubWF4KDAsTWF0aC5taW4oNCx0WzBdKSk7dFswXT1WQygpK1wiIEFnb3JhLVNESyBbXCIuY29uY2F0KEdDKG4pLFwiXTpcIiksdGhpcy5hcHBlbmRMb2dUb1dhaXRpbmdMaXN0KG4sLi4udCl9YXBwZW5kTG9nVG9XYWl0aW5nTGlzdChlKXtpZigha0MoXCJVUExPQURfTE9HXCIpKXJldHVybjtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0PjE/dC0xOjApLG49MTtuPHQ7bisrKWlbbi0xXT1hcmd1bWVudHNbbl07QXJyYXkuaXNBcnJheShpWzBdKT9pWzBdWzBdPUZDKCkrXCIgQWdvcmEtU0RLIFtcIi5jb25jYXQoR0MoZSksXCJdOlwiKTppWzBdPUZDKCkrXCIgQWdvcmEtU0RLIFtcIi5jb25jYXQoR0MoZSksXCJdOlwiKTtsZXQgcj1cIlwiO2kuZm9yRWFjaCgoZT0+e1wib2JqZWN0XCI9PXR5cGVvZiBlJiYoZT1KU09OLnN0cmluZ2lmeShlKSkscis9XCJcIi5jb25jYXQoZSxcIiBcIil9KSksdGhpcy51cGxvYWRMb2dXYWl0aW5nTGlzdC5wdXNoKHtwYXlsb2FkX3N0cjpyLGxvZ19sZXZlbDplLGxvZ19pdGVtX2lkOnRoaXMuY3VycmVudExvZ0lEKyt9KSxcInVwbG9hZGluZ1wiPT09dGhpcy51cGxvYWRTdGF0ZSYmMD09PXRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdC5sZW5ndGgmJnRoaXMudXBsb2FkTG9nSW50ZXJ2YWwoKX1zdGFydFVwbG9hZCgpe3RoaXMudXBsb2FkU3RhdGU9XCJ1cGxvYWRpbmdcIiwwPT09dGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0Lmxlbmd0aCYmdGhpcy51cGxvYWRMb2dJbnRlcnZhbCgpfWFzeW5jIHVwbG9hZExvZ3MoKXtjb25zdCBlPXRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdCx0PXtzZGtfdmVyc2lvbjpPQyxwcm9jZXNzX2lkOmtDKFwiUFJPQ0VTU19JRFwiKSxwYXlsb2FkOkpTT04uc3RyaW5naWZ5KGUpfTtyZXR1cm4gWFMoKGFzeW5jKCk9Pntjb25zdCBlPWF3YWl0IEVDLnBvc3QodGhpcy51cmx8fCh0aGlzLnByb3h5U2VydmVyVVJMP1wiaHR0cHM6Ly9cIi5jb25jYXQodGhpcy5wcm94eVNlcnZlclVSTCxcIi9scy8/aD1cIikuY29uY2F0KGtDKFwiTE9HX1VQTE9BRF9TRVJWRVJcIiksXCImcD00NDMmZD11cGxvYWQvdjFcIik6XCJodHRwczovL1wiLmNvbmNhdChrQyhcIkxPR19VUExPQURfU0VSVkVSXCIpLFwiL3VwbG9hZC92MVwiKSksdCx7cmVzcG9uc2VUeXBlOlwidGV4dFwifSk7aWYoXCJPS1wiIT09ZS5kYXRhKXtjb25zdCB0PW5ldyBFcnJvcihcInVuZXhwZWN0ZWQgdXBsb2FkIGxvZyByZXNwb25zZVwiKTt0aHJvdyB0LnJlc3BvbnNlPWUsdH19KSwoKCk9Pih0aGlzLnVwbG9hZExvZ1VwbG9hZGluZ0xpc3Q9W10sITEpKSwoZT0+KGUucmVzcG9uc2U/VUMucmVwb3J0TG9nVXBsb2FkRXJyb3Ioe3N0YXR1czplLnJlc3BvbnNlLnN0YXR1cyxkYXRhOmUucmVzcG9uc2UuZGF0YSxoZWFkZXJzOmUucmVzcG9uc2UuaGVhZGVycyxtZXNzYWdlOmUubWVzc2FnZX0pOmUucmVxdWVzdD9VQy5yZXBvcnRMb2dVcGxvYWRFcnJvcih7c3RhdHVzOmUucmVxdWVzdC5zdGF0dXMsbWVzc2FnZTplLm1lc3NhZ2V9KTpVQy5yZXBvcnRMb2dVcGxvYWRFcnJvcih7c3RhdHVzOi0xLG1lc3NhZ2U6ZS5tZXNzYWdlfSksITApKSx7dGltZW91dDprQyhcIlVQTE9BRF9MT0dfUkVRVUVTVF9SRVRSWV9JTlRFUlZBTFwiKSxtYXhSZXRyeVRpbWVvdXQ6a0MoXCJVUExPQURfTE9HX1JFUVVFU1RfTUFYX1JFVFJZX0lOVEVSVkFMXCIpfSl9dXBsb2FkTG9nSW50ZXJ2YWwoKXswPT09dGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0Lmxlbmd0aCYmMD09PXRoaXMudXBsb2FkTG9nV2FpdGluZ0xpc3QubGVuZ3RofHwoMD09PXRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdC5sZW5ndGgmJih0aGlzLnVwbG9hZExvZ1VwbG9hZGluZ0xpc3Q9dGhpcy51cGxvYWRMb2dXYWl0aW5nTGlzdC5zcGxpY2UoMCxrQyhcIlVQTE9BRF9MT0dfTEVOR1RIX0VBQ0hfVElNRVwiKSkpLHRoaXMudXBsb2FkTG9ncygpLnRoZW4oKCgpPT57dGhpcy51cGxvYWRFcnJvckNvdW50PTAsdGhpcy51cGxvYWRMb2dXYWl0aW5nTGlzdC5sZW5ndGg+MCYmd2luZG93LnNldFRpbWVvdXQoKCgpPT50aGlzLnVwbG9hZExvZ0ludGVydmFsKCkpLGtDKFwiVVBMT0FEX0xPR19JTlRFUlZBTFwiKSl9KSkuY2F0Y2goKGU9Pnt0aGlzLnVwbG9hZEVycm9yQ291bnQrPTEsdGhpcy51cGxvYWRFcnJvckNvdW50PDI/d2luZG93LnNldFRpbWVvdXQoKCgpPT50aGlzLnVwbG9hZExvZ0ludGVydmFsKCkpLGtDKFwiVVBMT0FEX0xPR19UV0lDRV9SRVRSWV9JTlRFUlZBTF9WMVwiKSk6d2luZG93LnNldFRpbWVvdXQoKCgpPT50aGlzLnVwbG9hZExvZ0ludGVydmFsKCkpLGtDKFwiVVBMT0FEX0xPR19SRVRSWV9JTlRFUlZBTF9WMVwiKSl9KSkpfX07dmFyIEhDLEtDO2Z1bmN0aW9uIFlDKGUpe3JldHVybiBXZyhlLnJlcG9ydElkLFwicGFyYW1zLnJlcG9ydElkXCIsMCwxMDAsITEpLFdnKGUuY2F0ZWdvcnksXCJwYXJhbXMuY2F0ZWdvcnlcIiwwLDEwMCwhMSksV2coZS5ldmVudCxcInBhcmFtcy5ldmVudFwiLDAsMTAwLCExKSxXZyhlLmxhYmVsLFwicGFyYW1zLmxhYmVsXCIsMCwxMDAsITEpLGpnKGUudmFsdWUsXCJwYXJhbXMudmFsdWVcIixOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiwhMSksITB9IWZ1bmN0aW9uKGUpe2UuRlJFRT1cImZyZWVcIixlLlVQTE9BRElORz1cInVwbG9hZGluZ1wifShIQ3x8KEhDPXt9KSksZnVuY3Rpb24oZSl7ZVtlLk1JU0M9MF09XCJNSVNDXCIsZVtlLklOVEVSTkFMX0VWRU5UPTFdPVwiSU5URVJOQUxfRVZFTlRcIixlW2UuUFVCTElDX0VWRU5UPTJdPVwiUFVCTElDX0VWRU5UXCIsZVtlLldFQl9FVkVOVD0zXT1cIldFQl9FVkVOVFwiLGVbZS5JTlRFUk5BTF9BUEk9NF09XCJJTlRFUk5BTF9BUElcIixlW2UuV0VCX0FQST01XT1cIldFQl9BUElcIixlW2UuUFVCTElDX0FQST02XT1cIlBVQkxJQ19BUElcIn0oS0N8fChLQz17fSkpO2NvbnN0IHFDPXtzaWQ6XCJcIixsdHM6MCxzdWNjZXNzOm51bGwsY25hbWU6bnVsbCx1aWQ6bnVsbCxwZWVyOm51bGwsY2lkOm51bGwsZWxhcHNlOm51bGwsZXh0ZW5kOm51bGwsdmlkOjB9O3ZhciBKQyx6QyxYQyxRQztmdW5jdGlvbiBaQyhlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gJEMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/WkMoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6WkMoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9IWZ1bmN0aW9uKGUpe2UuUFVCTElTSD1cInB1Ymxpc2hcIixlLlNVQlNDUklCRT1cInN1YnNjcmliZVwiLGUuV1NfQ09NUFJFU1NPUl9JTklUPVwid3NfY29tcHJlc3Nvcl9pbml0XCIsZS5TRVNTSU9OX0lOSVQ9XCJzZXNzaW9uX2luaXRcIixlLkpPSU5fQ0hPT1NFX1NFUlZFUj1cImpvaW5fY2hvb3NlX3NlcnZlclwiLGUuUkVRX1VTRVJfQUNDT1VOVD1cInJlcV91c2VyX2FjY291bnRcIixlLkpPSU5fR0FURVdBWT1cImpvaW5fZ2F0ZXdheVwiLGUuUkVKT0lOX0dBVEVXQVk9XCJyZWpvaW5fZ2F0ZXdheVwiLGUuU1RSRUFNX1NXSVRDSD1cInN0cmVhbV9zd2l0Y2hcIixlLlJFUVVFU1RfUFJPWFlfV09SS0VSX01BTkFHRVI9XCJyZXF1ZXN0X3Byb3h5X3dvcmtlcl9tYW5hZ2VyXCIsZS5SRVFVRVNUX1BST1hZX0FQUENFTlRFUj1cInJlcXVlc3RfcHJveHlfYXBwY2VudGVyXCIsZS5GSVJTVF9WSURFT19SRUNFSVZFRD1cImZpcnN0X3ZpZGVvX3JlY2VpdmVkXCIsZS5GSVJTVF9BVURJT19SRUNFSVZFRD1cImZpcnN0X2F1ZGlvX3JlY2VpdmVkXCIsZS5GSVJTVF9WSURFT19ERUNPREU9XCJmaXJzdF92aWRlb19kZWNvZGVcIixlLkZJUlNUX0FVRElPX0RFQ09ERT1cImZpcnN0X2F1ZGlvX2RlY29kZVwiLGUuT05fQUREX0FVRElPX1NUUkVBTT1cIm9uX2FkZF9hdWRpb19zdHJlYW1cIixlLk9OX0FERF9WSURFT19TVFJFQU09XCJvbl9hZGRfdmlkZW9fc3RyZWFtXCIsZS5PTl9VUERBVEVfU1RSRUFNPVwib25fdXBkYXRlX3N0cmVhbVwiLGUuT05fUkVNT1ZFX1NUUkVBTT1cIm9uX3JlbW92ZV9zdHJlYW1cIixlLlVTRVJfQU5BTFlUSUNTPVwicmVxX3VzZXJfYW5hbHl0aWNzXCIsZS5QQ19TVEFUUz1cInBjX3N0YXRzXCJ9KEpDfHwoSkM9e30pKSxmdW5jdGlvbihlKXtlLlNFU1NJT049XCJpby5hZ29yYS5wYi5XcnRjLlNlc3Npb25cIixlLkpPSU5fQ0hPT1NFX1NFUlZFUj1cImlvLmFnb3JhLnBiLldydGMuSm9pbkNob29zZVNlcnZlclwiLGUuUkVRX1VTRVJfQUNDT1VOVD1cImlvLmFnb3JhLnBiLldydGMuUmVxVXNlckFjY291bnRcIixlLkpPSU5fR0FURVdBWT1cImlvLmFnb3JhLnBiLldydGMuSm9pbkdhdGV3YXlcIixlLlJFX0pPSU5fR0FURVdBWT1cImlvLmFnb3JhLnBiLldydGMuUmVKb2luR2F0ZXdheVwiLGUuUFVCTElTSD1cImlvLmFnb3JhLnBiLldydGMuUHVibGlzaFwiLGUuU1VCU0NSSUJFPVwiaW8uYWdvcmEucGIuV3J0Yy5TdWJzY3JpYmVcIixlLldTX0NPTVBSRVNTT1JfSU5JVD1cImlvLmFnb3JhLnBiLldydGMuV3NDb21wcmVzc29ySW5pdFwiLGUuU1RSRUFNX1NXSVRDSD1cImlvLmFnb3JhLnBiLldydGMuU3RyZWFtU3dpdGNoXCIsZS5BVURJT19TRU5ESU5HX1NUT1BQRUQ9XCJpby5hZ29yYS5wYi5XcnRjLkF1ZGlvU2VuZGluZ1N0b3BwZWRcIixlLlZJREVPX1NFTkRJTkdfU1RPUFBFRD1cImlvLmFnb3JhLnBiLldydGMuVmlkZW9TZW5kaW5nU3RvcHBlZFwiLGUuUkVRVUVTVF9QUk9YWV9BUFBDRU5URVI9XCJpby5hZ29yYS5wYi5XcnRjLlJlcXVlc3RQcm94eUFwcENlbnRlclwiLGUuUkVRVUVTVF9QUk9YWV9XT1JLRVJfTUFOQUdFUj1cImlvLmFnb3JhLnBiLldydGMuUmVxdWVzdFByb3h5V29ya2VyTWFuYWdlclwiLGUuQVBJX0lOVk9LRT1cImlvLmFnb3JhLnBiLldydGMuQXBpSW52b2tlXCIsZS5GSVJTVF9WSURFT19SRUNFSVZFRD1cImlvLmFnb3JhLnBiLldydGMuRmlyc3RWaWRlb1JlY2VpdmVkXCIsZS5GSVJTVF9BVURJT19SRUNFSVZFRD1cImlvLmFnb3JhLnBiLldydGMuRmlyc3RBdWRpb1JlY2VpdmVkXCIsZS5GSVJTVF9WSURFT19ERUNPREU9XCJpby5hZ29yYS5wYi5XcnRjLkZpcnN0VmlkZW9EZWNvZGVcIixlLkZJUlNUX0FVRElPX0RFQ09ERT1cImlvLmFnb3JhLnBiLldydGMuRmlyc3RBdWRpb0RlY29kZVwiLGUuT05fQUREX0FVRElPX1NUUkVBTT1cImlvLmFnb3JhLnBiLldydGMuT25BZGRBdWRpb1N0cmVhbVwiLGUuT05fQUREX1ZJREVPX1NUUkVBTT1cImlvLmFnb3JhLnBiLldydGMuT25BZGRWaWRlb1N0cmVhbVwiLGUuT05fVVBEQVRFX1NUUkVBTT1cImlvLmFnb3JhLnBiLldydGMuT25VcGRhdGVTdHJlYW1cIixlLk9OX1JFTU9WRV9TVFJFQU09XCJpby5hZ29yYS5wYi5XcnRjLk9uUmVtb3ZlU3RyZWFtXCIsZS5KT0lOX0NIQU5ORUxfVElNRU9VVD1cImlvLmFnb3JhLnBiLldydGMuSm9pbkNoYW5uZWxUaW1lb3V0XCIsZS5QRUVSX1BVQkxJU0hfU1RBVFVTPVwiaW8uYWdvcmEucGIuV3J0Yy5QZWVyUHVibGlzaFN0YXR1c1wiLGUuV09SS0VSX0VWRU5UPVwiaW8uYWdvcmEucGIuV3J0Yy5Xb3JrZXJFdmVudFwiLGUuQVBfV09SS0VSX0VWRU5UPVwiaW8uYWdvcmEucGIuV3J0Yy5BUFdvcmtlckV2ZW50XCIsZS5KT0lOX1dFQl9QUk9YWV9BUD1cImlvLmFnb3JhLnBiLldydGMuSm9pbldlYlByb3h5QVBcIixlLldFQlNPQ0tFVF9RVUlUPVwiaW8uYWdvcmEucGIuV3J0Yy5XZWJTb2NrZXRRdWl0XCIsZS5VU0VSX0FOQUxZVElDUz1cImlvLmFnb3JhLnBiLldydGMuVXNlckFuYWx5dGljc1wiLGUuQVVUT1BMQVlfRkFJTEVEPVwiaW8uYWdvcmEucGIuV3J0Yy5BdXRvcGxheUZhaWxlZFwiLGUuUENfU1RBVFM9XCJpby5hZ29yYS5wYi5XcnRjLlBDU3RhdHNcIn0oekN8fCh6Qz17fSkpLGZ1bmN0aW9uKGUpe2VbZS5XT1JLRVJfRVZFTlQ9MTU2XT1cIldPUktFUl9FVkVOVFwiLGVbZS5BUF9XT1JLRVJfRVZFTlQ9MTYwXT1cIkFQX1dPUktFUl9FVkVOVFwifShYQ3x8KFhDPXt9KSksZnVuY3Rpb24oZSl7ZVtlLlNFU1NJT049MjZdPVwiU0VTU0lPTlwiLGVbZS5KT0lOX0NIT09TRV9TRVJWRVI9MjddPVwiSk9JTl9DSE9PU0VfU0VSVkVSXCIsZVtlLlJFUV9VU0VSX0FDQ09VTlQ9MTk2XT1cIlJFUV9VU0VSX0FDQ09VTlRcIixlW2UuSk9JTl9HQVRFV0FZPTI4XT1cIkpPSU5fR0FURVdBWVwiLGVbZS5QVUJMSVNIPTMwXT1cIlBVQkxJU0hcIixlW2UuU1VCU0NSSUJFPTI5XT1cIlNVQlNDUklCRVwiLGVbZS5XU19DT01QUkVTU09SX0lOSVQ9OTQzMF09XCJXU19DT01QUkVTU09SX0lOSVRcIixlW2UuU1RSRUFNX1NXSVRDSD0zMl09XCJTVFJFQU1fU1dJVENIXCIsZVtlLkFVRElPX1NFTkRJTkdfU1RPUFBFRD0zM109XCJBVURJT19TRU5ESU5HX1NUT1BQRURcIixlW2UuVklERU9fU0VORElOR19TVE9QUEVEPTM0XT1cIlZJREVPX1NFTkRJTkdfU1RPUFBFRFwiLGVbZS5SRVFVRVNUX1BST1hZX0FQUENFTlRFUj0zNV09XCJSRVFVRVNUX1BST1hZX0FQUENFTlRFUlwiLGVbZS5SRVFVRVNUX1BST1hZX1dPUktFUl9NQU5BR0VSPTM2XT1cIlJFUVVFU1RfUFJPWFlfV09SS0VSX01BTkFHRVJcIixlW2UuQVBJX0lOVk9LRT00MV09XCJBUElfSU5WT0tFXCIsZVtlLkZJUlNUX1ZJREVPX1JFQ0VJVkVEPTM0OF09XCJGSVJTVF9WSURFT19SRUNFSVZFRFwiLGVbZS5GSVJTVF9BVURJT19SRUNFSVZFRD0zNDldPVwiRklSU1RfQVVESU9fUkVDRUlWRURcIixlW2UuRklSU1RfVklERU9fREVDT0RFPTM1MF09XCJGSVJTVF9WSURFT19ERUNPREVcIixlW2UuRklSU1RfQVVESU9fREVDT0RFPTM1MV09XCJGSVJTVF9BVURJT19ERUNPREVcIixlW2UuT05fQUREX0FVRElPX1NUUkVBTT0zNTJdPVwiT05fQUREX0FVRElPX1NUUkVBTVwiLGVbZS5PTl9BRERfVklERU9fU1RSRUFNPTM1M109XCJPTl9BRERfVklERU9fU1RSRUFNXCIsZVtlLk9OX1VQREFURV9TVFJFQU09MzU2XT1cIk9OX1VQREFURV9TVFJFQU1cIixlW2UuT05fUkVNT1ZFX1NUUkVBTT0zNTVdPVwiT05fUkVNT1ZFX1NUUkVBTVwiLGVbZS5KT0lOX0NIQU5ORUxfVElNRU9VVD00MDddPVwiSk9JTl9DSEFOTkVMX1RJTUVPVVRcIixlW2UuUEVFUl9QVUJMSVNIX1NUQVRVUz00MDhdPVwiUEVFUl9QVUJMSVNIX1NUQVRVU1wiLGVbZS5XT1JLRVJfRVZFTlQ9MTU2XT1cIldPUktFUl9FVkVOVFwiLGVbZS5BUF9XT1JLRVJfRVZFTlQ9MTYwXT1cIkFQX1dPUktFUl9FVkVOVFwiLGVbZS5KT0lOX1dFQl9QUk9YWV9BUD03MDBdPVwiSk9JTl9XRUJfUFJPWFlfQVBcIixlW2UuV0VCU09DS0VUX1FVSVQ9NjcxXT1cIldFQlNPQ0tFVF9RVUlUXCIsZVtlLlVTRVJfQU5BTFlUSUNTPTFlNF09XCJVU0VSX0FOQUxZVElDU1wiLGVbZS5BVVRPUExBWV9GQUlMRUQ9OTE3OF09XCJBVVRPUExBWV9GQUlMRURcIn0oUUN8fChRQz17fSkpO2NsYXNzIGV2e2NvbnN0cnVjdG9yKCl7bnUodGhpcyxcImJhc2VJbmZvTWFwXCIsbmV3IE1hcCksbnUodGhpcyxcInByb3h5U2VydmVyXCIsdm9pZCAwKSxudSh0aGlzLFwiZXZlbnRVcGxvYWRUaW1lclwiLHZvaWQgMCksbnUodGhpcyxcInNldFNlc3Npb25JZFRpbWVyXCIsdm9pZCAwKSxudSh0aGlzLFwidXJsXCIsdm9pZCAwKSxudSh0aGlzLFwiYmFja3VwVXJsXCIsdm9pZCAwKSxudSh0aGlzLFwiX2FwcElkXCIsdm9pZCAwKSxudSh0aGlzLFwia2V5RXZlbnRVcGxvYWRQZW5kaW5nSXRlbXNcIixbXSksbnUodGhpcyxcIm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zXCIsW10pLG51KHRoaXMsXCJhcGlJbnZva2VVcGxvYWRQZW5kaW5nSXRlbXNcIixbXSksbnUodGhpcyxcImFwaUludm9rZUNvdW50XCIsMCksbnUodGhpcyxcImx0c0xpc3RcIixbXSksbnUodGhpcyxcImxhc3RTZW5kTm9ybWFsRXZlbnRUaW1lXCIsRGF0ZS5ub3coKSksbnUodGhpcyxcImN1c3RvbVJlcG9ydENvdW50ZXJUaW1lclwiLHZvaWQgMCksbnUodGhpcyxcImN1c3RvbVJlcG9ydENvdW50XCIsMCksbnUodGhpcyxcImV4dEFwaUludm9rZVwiLChhc3luYyBlPT57Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT0kQygkQyh7fSx0KSx7fSx7c2lkOm51bGwsaW52b2tlSWQ6Kyt0aGlzLmFwaUludm9rZUNvdW50LHRhZzpvUy5UUkFDRVJ9KTt0aGlzLnNlbmRBcGlJbnZva2UoZSl9fSkpLHRoaXMuZXZlbnRVcGxvYWRUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5kb1NlbmQuYmluZCh0aGlzKSxrQyhcIkVWRU5UX1JFUE9SVF9TRU5EX0lOVEVSVkFMXCIpKSx0aGlzLnNldFNlc3Npb25JZFRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmFwcGVuZFNlc3Npb25JZC5iaW5kKHRoaXMpLGtDKFwiRVZFTlRfUkVQT1JUX1NFTkRfSU5URVJWQUxcIikpfWdldEJhc2VJbmZvQnlTZXNzaW9uSWQoZSl7cmV0dXJuIHRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpfWFkanVzdFNlc3Npb25TdGFydFRpbWUoZSl7aWYoIXRoaXMuYmFzZUluZm9NYXAuaGFzKGUpJiYhdGhpcy5iYXNlSW5mb01hcC5nZXQoZSkpcmV0dXJuIHZvaWQgV0MuZXJyb3IoXCJhZGp1c3Qgc2Vzc2lvbiBcIi5jb25jYXQoZSxcIiBzdGFydCB0aW1lLCBzaWQgaXMgbm90IGV4aXN0IG9yIGluZm8gaXMgdW5kZWZpbmVkXCIpKTtjb25zdCB0PXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpLGk9RGF0ZS5ub3coKSxuPXQuc3RhcnRUaW1lO3Quc3RhcnRUaW1lPWksV0MuZGVidWcoXCJyZXdyaXRlIHNlc3Npb24gXCIuY29uY2F0KGUsXCIgc3RhcnRUaW1lOiBcIikuY29uY2F0KGksXCIgLCBcIikuY29uY2F0KGktbixcIm1zXCIpKSx0aGlzLmJhc2VJbmZvTWFwLnNldChlLHQpfXNldEFwcElkKGUpe3RoaXMuX2FwcElkPWV9cmVwb3J0QXBpSW52b2tlKGUsdCxpKXt0LnRpbWVvdXQ9dC50aW1lb3V0fHw2ZTQsdC5yZXBvcnRSZXN1bHQ9dm9pZCAwPT09dC5yZXBvcnRSZXN1bHR8fHQucmVwb3J0UmVzdWx0O2NvbnN0IG49RGF0ZS5ub3coKTt0aGlzLmFwaUludm9rZUNvdW50Kz0xO2NvbnN0IHI9dGhpcy5hcGlJbnZva2VDb3VudCxzPSgpPT4oe3RhZzp0LnRhZyxpbnZva2VJZDpyLHNpZDplLG5hbWU6dC5uYW1lLGFwaUludm9rZVRpbWU6bixvcHRpb25zOnQub3B0aW9ucyxzdGF0ZXM6dC5zdGF0ZXN8fG51bGx9KSxvPSEha0MoXCJTSE9XX1JFUE9SVF9JTlZPS0VSX0xPR1wiKTtvJiZXQy5pbmZvKFwiXCIuY29uY2F0KHQubmFtZSxcIiBzdGFydFwiKSx0Lm9wdGlvbnMpO2xldCBhPSExO1VTKHQudGltZW91dCkudGhlbigoKCk9PnthfHwodGhpcy5zZW5kQXBpSW52b2tlKCRDKCRDKHt9LHMoKSkse30se2Vycm9yOnhnLkFQSV9JTlZPS0VfVElNRU9VVCxzdWNjZXNzOiExfSkpLFdDLmRlYnVnKFwiXCIuY29uY2F0KHQubmFtZSxcIiB0aW1lb3V0XCIpKSl9KSk7Y29uc3QgYz1uZXcgVmcoeGcuVU5FWFBFQ1RFRF9FUlJPUixcIlwiLmNvbmNhdCh0Lm5hbWUsXCI6IHRoaXMgYXBpIGludm9rZSBpcyBlbmRcIikpO3JldHVybntvblN1Y2Nlc3M6ZT0+e2NvbnN0IG49KCk9PntpZihhKXRocm93IGM7cmV0dXJuIGE9ITAsdGhpcy5zZW5kQXBpSW52b2tlKCRDKCRDKHt9LHMoKSkse30se3N1Y2Nlc3M6ITB9LHQucmVwb3J0UmVzdWx0JiZ7cmVzdWx0OmV9KSksbyYmV0MuaW5mbyhcIlwiLmNvbmNhdCh0Lm5hbWUsXCIgb25TdWNjZXNzXCIpKSxlfTtyZXR1cm4gaT9qUyhuLHQubmFtZStcIlN1Y2Nlc3NcIixpLCgoKT0+YT0hMCkpOm4oKX0sb25FcnJvcjplPT57Y29uc3Qgbj0oKT0+e2lmKGEpdGhyb3cgZTthPSEwLHRoaXMuc2VuZEFwaUludm9rZSgkQygkQyh7fSxzKCkpLHt9LHtzdWNjZXNzOiExLGVycm9yOmV9KSksbyYmV0MuaW5mbyhcIlwiLmNvbmNhdCh0Lm5hbWUsXCIgb25GYWlsdXJlXCIpLGUudG9TdHJpbmcoKSl9O3JldHVybiBpP2pTKG4sdC5uYW1lK1wiRXJyb3JcIixpLCgoKT0+YT0hMCkpOm4oKX19fXNlc3Npb25Jbml0KGUsdCl7aWYodGhpcy5iYXNlSW5mb01hcC5oYXMoZSkpcmV0dXJuO2NvbnN0IGk9RGF0ZS5ub3coKSxuPXRoaXMuY3JlYXRlQmFzZUluZm8oZSxpKTtuLmNuYW1lPXQuY25hbWU7Y29uc3Qgcj1PYmplY3QuYXNzaWduKHt9LHt3aWxsVXBsb2FkQ29uc29sZUxvZzprQyhcIlVQTE9BRF9MT0dcIiksbWF4VG91Y2hQb2ludHM6bmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzLGFyZWFWZXJzaW9uOk5DP1wiZ2xvYmFsXCI6XCJvdmVyc2VhXCIsYXJlYXM6a0MoXCJBUkVBU1wiKSYma0MoXCJBUkVBU1wiKS5qb2luKFwiLFwiKX0sdC5leHRlbmQpLHM9RGF0ZS5ub3coKSxvPSRDKCRDKHt9LG4pLHt9LHtldmVudFR5cGU6SkMuU0VTU0lPTl9JTklULGFwcGlkOnQuYXBwaWQsYnJvd3NlcjpuYXZpZ2F0b3IudXNlckFnZW50LGJ1aWxkOkRDLGx0czpzLGVsYXBzZTpzLWksZXh0ZW5kOkpTT04uc3RyaW5naWZ5KHIpLG1vZGU6dC5tb2RlLHByb2Nlc3M6a0MoXCJQUk9DRVNTX0lEXCIpLGFwcFR5cGU6a0MoXCJBUFBfVFlQRVwiKSxzdWNjZXNzOiEwLHZlcnNpb246T0N9KTt0aGlzLnNlbmQoe3R5cGU6ekMuU0VTU0lPTixkYXRhOm99LCEwKX1qb2luQ2hvb3NlU2VydmVyKGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLHM9JEMoJEMoe30sbikse30se2V2ZW50VHlwZTpKQy5KT0lOX0NIT09TRV9TRVJWRVIsbHRzOnIsZXZlbnRFbGFwc2U6ci10Lmx0cyxjaG9vc2VTZXJ2ZXJBZGRyOnQuY3NBZGRyLGVycm9yQ29kZTp0LmVjLGVsYXBzZTpyLWkuc3RhcnRUaW1lLHN1Y2Nlc3M6dC5zdWNjLGNob29zZVNlcnZlckFkZHJMaXN0OkpTT04uc3RyaW5naWZ5KHQuc2VydmVyTGlzdCksdWlkOnQudWlkP3BhcnNlSW50KHQudWlkKTpudWxsLGNpZDp0LmNpZD9wYXJzZUludCh0LmNpZCk6bnVsbCxjaG9vc2VTZXJ2ZXJJcDp0LmNzSXB8fFwiXCIsb3BpZDp0Lm9waWQsdW5pbGJzU2VydmVySWRzOnQudW5pbGJzU2VydmVySWRzLGV4dGVuZDp0LmV4dGVuZHx8dm9pZCAwLGlzSHR0cDM6dC5pc0h0dHAzfSk7dGhpcy5zZW5kKHt0eXBlOnpDLkpPSU5fQ0hPT1NFX1NFUlZFUixkYXRhOnN9LCEwKX1yZXFVc2VyQWNjb3VudChlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvLHI9RGF0ZS5ub3coKSxzPSRDKCRDKHt9LG4pLHt9LHtldmVudFR5cGU6SkMuUkVRX1VTRVJfQUNDT1VOVCxsdHM6cixzdWNjZXNzOnQuc3VjY2VzcyxzZXJ2ZXJBZGRyZXNzOnQuc2VydmVyQWRkcixzdHJpbmdVaWQ6dC5zdHJpbmdVaWQsdWlkOnQudWlkLGVycm9yQ29kZTp0LmVycm9yQ29kZSxlbGFwc2U6ci1pLnN0YXJ0VGltZSxldmVudEVsYXBzZTpyLXQubHRzLGV4dGVuZDpKU09OLnN0cmluZ2lmeSh0LmV4dGVuZCl9KTt0aGlzLnNlbmQoe3R5cGU6ekMuUkVRX1VTRVJfQUNDT1VOVCxkYXRhOnN9LCEwKX1qb2luR2F0ZXdheShlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvO3QudmlkJiYobi52aWQ9dC52aWQpLG4udWlkPXQudWlkLG4uY2lkPXQuY2lkO2NvbnN0IHI9RGF0ZS5ub3coKSx7Zmlyc3RTdWNjZXNzOnMsYXZvaWRKb2luU3RhcnRUaW1lOm8saXNQcm94eTphLGFkZHI6Y309dCxkPXItKHMmJm8/bzppLnN0YXJ0VGltZSksbD0kQygkQyh7fSxuKSx7fSx7ZXZlbnRUeXBlOkpDLkpPSU5fR0FURVdBWSxsdHM6cixnYXRld2F5QWRkcjp0LmFkZHIsc3VjY2Vzczp0LnN1Y2MsZXJyb3JDb2RlOnQuZWMsZWxhcHNlOmQsZXZlbnRFbGFwc2U6ci10Lmx0cyxmaXJzdFN1Y2Nlc3M6cyxzaWduYWxDaGFubmVsOnQuc2lnbmFsQ2hhbm5lbH0pLGg9bC5zdWNjZXNzPzE6MDtpZih0LnN1Y2MmJihpLmxhc3RKb2luU3VjY2Vzc1RpbWU9cikscyl0aGlzLnNlbmQoe3R5cGU6ekMuSk9JTl9HQVRFV0FZLGRhdGE6bH0sITApO2Vsc2V7bGV0IGU7aWYoYylpZihhKXtjb25zdCB0PWMubWF0Y2goL2g9KFxcZHsxLDN9LSl7M31cXGR7MSwzfS9nKSxpPWMubWF0Y2goL3A9WzAtOV17MSw2fS9nKTtlPXtpc1N1Y2Nlc3M6aCxnYXRld2F5SXA6dCYmdC5sZW5ndGg/dFswXS5zcGxpdChcIj1cIilbMV0ucmVwbGFjZSgvLS9nLFwiLlwiKTpcIlwiLHBvcnQ6aSYmaS5sZW5ndGg/aVswXS5zcGxpdChcIj1cIilbMV06XCJcIixpc1Byb3h5OmE/MTowfX1lbHNle2NvbnN0IHQ9Yy5tYXRjaCgvd3NzOlxcL1xcLyhcXGR7MSwzfS0pezN9XFxkezEsM30vZyksaT1jLm1hdGNoKC8oOnxwPSlbMC05XXsxLDZ9L2cpO2U9e2lzU3VjY2VzczpoLGdhdGV3YXlJcDp0JiZ0Lmxlbmd0aD90WzBdLnNwbGl0KFwiLy9cIilbMV0ucmVwbGFjZSgvLS9nLFwiLlwiKTpcIlwiLHBvcnQ6aSYmaS5sZW5ndGg/aVswXS5zcGxpdCgvOnxwPS9nKVsxXTpcIlwiLGlzUHJveHk6YT8xOjB9fWVsc2UgZT17aXNTdWNjZXNzOmgsZ2F0ZXdheUlwOlwiXCIscG9ydDpcIlwiLGlzUHJveHk6YT8xOjB9O2RlbGV0ZSBsLnN1Y2Nlc3MsZGVsZXRlIGwuZXZlbnRUeXBlLGRlbGV0ZSBsLmZpcnN0U3VjY2VzcyxsLnZpZD1OdW1iZXIobC52aWQpO2NvbnN0IHQ9T2JqZWN0LmFzc2lnbih7fSxsLGUse2V2ZW50VHlwZTpKQy5SRUpPSU5fR0FURVdBWX0pO3RoaXMuc2VuZCh7dHlwZTp6Qy5SRV9KT0lOX0dBVEVXQVksZGF0YTp0fSwhMCl9fWpvaW5DaGFubmVsVGltZW91dChlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49RGF0ZS5ub3coKSxyPSRDKCRDKHt9LGkuaW5mbykse30se2x0czpuLHRpbWVvdXQ6dCxlbGFwc2U6bi1pLnN0YXJ0VGltZX0pO3RoaXMuc2VuZCh7dHlwZTp6Qy5KT0lOX0NIQU5ORUxfVElNRU9VVCxkYXRhOnJ9LCEwKX1wdWJsaXNoKGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLHM9JEMoJEMoe30sbikse30se2V2ZW50VHlwZTpKQy5QVUJMSVNILGx0czpyLGV2ZW50RWxhcHNlOnQuZXZlbnRFbGFwc2UsZWxhcHNlOnItaS5zdGFydFRpbWUsc3VjY2Vzczp0LnN1Y2MsZXJyb3JDb2RlOnQuZWMsdmlkZW9OYW1lOnQudmlkZW9OYW1lLGF1ZGlvTmFtZTp0LmF1ZGlvTmFtZSxzY3JlZW5OYW1lOnQuc2NyZWVuTmFtZSxzY3JlZW5zaGFyZTp0LnNjcmVlbnNoYXJlLGF1ZGlvOnQuYXVkaW8sdmlkZW86dC52aWRlbyxwMnBpZDp0LnAycGlkLHB1Ymxpc2hSZXF1ZXN0aWQ6dC5wdWJsaXNoUmVxdWVzdGlkfSk7dGhpcy5zZW5kKHt0eXBlOnpDLlBVQkxJU0gsZGF0YTpzfSwhMCl9c3Vic2NyaWJlKGUsdCxpKXtjb25zdCBuPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFuKXJldHVybjtjb25zdCByPW4uaW5mbyxzPURhdGUubm93KCksbz0kQygkQyh7fSxyKSx7fSx7ZXZlbnRUeXBlOkpDLlNVQlNDUklCRSxsdHM6cyxldmVudEVsYXBzZTp0LmV2ZW50RWxhcHNlLGVsYXBzZTpzLW4uc3RhcnRUaW1lLHN1Y2Nlc3M6dC5zdWNjLGVycm9yQ29kZTp0LmVjLHZpZGVvOnQudmlkZW8sYXVkaW86dC5hdWRpbyxzdWJzY3JpYmVSZXF1ZXN0aWQ6dC5zdWJzY3JpYmVSZXF1ZXN0aWQscDJwaWQ6dC5wMnBpZH0saSYme2V4dGVuZDpKU09OLnN0cmluZ2lmeSh7aXNNYXNzU3Vic2NyaWJlOiEwfSl9KTtcInN0cmluZ1wiPT10eXBlb2YgdC5wZWVyaWQ/by5wZWVyU3VpZD10LnBlZXJpZDpvLnBlZXI9dC5wZWVyaWQsdGhpcy5zZW5kKHt0eXBlOnpDLlNVQlNDUklCRSxkYXRhOm99LCEwKX13c0NvbXByZXNzb3JJbml0KGUpe3ZhciB0O2NvbnN0IGk9Wy4uLmh1KHQ9dGhpcy5iYXNlSW5mb01hcCkuY2FsbCh0KV0sbj1pLmxlbmd0aD9pWzBdOlwiVW5hYmxlVG9HZXRTaWRcIixyPXRoaXMuYmFzZUluZm9NYXAuZ2V0KG4pO2lmKCFyKXJldHVybjtjb25zdCBzPXIuaW5mbyxvPURhdGUubm93KCksYT0kQygkQyh7fSxzKSx7fSx7ZXZlbnRUeXBlOkpDLldTX0NPTVBSRVNTT1JfSU5JVCxsdHM6byxldmVudEVsYXBzZTplLmV2ZW50RWxhcHNlLGVsYXBzZTpvLXIuc3RhcnRUaW1lLHN0YXR1czplLnN0YXR1cz8xOjJ9KTt0aGlzLnNlbmQoe3R5cGU6ekMuV1NfQ09NUFJFU1NPUl9JTklULGRhdGE6YX0sITApfWZpcnN0UmVtb3RlVmlkZW9EZWNvZGUoZSx0LGksbil7Y29uc3Qgcj10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighcilyZXR1cm47Y29uc3Qgcz1yLmluZm8sbz1EYXRlLm5vdygpLGE9JEMoJEMoJEMoe30scyksbikse30se2VsYXBzZTpvLXIuc3RhcnRUaW1lLGV2ZW50VHlwZTp0LGx0czpvLGZpcnN0RGVjb2RlRnJhbWU6TWF0aC5tYXgoby1yLnN0YXJ0VGltZSwwKSxhcEVuZDpNYXRoLm1heChuLmFwRW5kLXIuc3RhcnRUaW1lLDApLGFwU3RhcnQ6TWF0aC5tYXgobi5hcFN0YXJ0LXIuc3RhcnRUaW1lLDApLGpvaW5Hd0VuZDpNYXRoLm1heChuLmpvaW5Hd0VuZC1yLnN0YXJ0VGltZSwwKSxqb2luR3dTdGFydDpNYXRoLm1heChuLmpvaW5Hd1N0YXJ0LXIuc3RhcnRUaW1lLDApLHBjRW5kOk1hdGgubWF4KG4ucGNFbmQtci5zdGFydFRpbWUsMCkscGNTdGFydDpNYXRoLm1heChuLnBjU3RhcnQtci5zdGFydFRpbWUsMCksc3Vic2NyaWJlckVuZDpNYXRoLm1heChuLnN1YnNjcmliZXJFbmQtci5zdGFydFRpbWUsMCksc3Vic2NyaWJlclN0YXJ0Ok1hdGgubWF4KG4uc3Vic2NyaWJlclN0YXJ0LXIuc3RhcnRUaW1lLDApLHZpZGVvQWRkTm90aWZ5Ok1hdGgubWF4KG4udmlkZW9BZGROb3RpZnktci5zdGFydFRpbWUsMCl9KTt0aGlzLnNlbmQoe3R5cGU6aSxkYXRhOmF9LCEwKX1maXJzdFJlbW90ZUZyYW1lKGUsdCxpLG4pe2NvbnN0IHI9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIXIpcmV0dXJuO2NvbnN0IHM9ci5pbmZvLG89RGF0ZS5ub3coKSxhPSRDKCRDKCRDKHt9LHMpLG4pLHt9LHtlbGFwc2U6by1yLnN0YXJ0VGltZSxldmVudFR5cGU6dCxsdHM6b30pO3RoaXMuc2VuZCh7dHlwZTppLGRhdGE6YX0sITApfXBjU3RhdHMoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCkscz0kQygkQygkQyh7fSxuKSx0KSx7fSx7dmlkOnZvaWQgMD09PW4udmlkPzA6TnVtYmVyKG4udmlkKSxlbGFwc2U6ci1pLnN0YXJ0VGltZSxldmVudFR5cGU6SkMuUENfU1RBVFMsbHRzOnJ9KTt0aGlzLnNlbmQoe3R5cGU6ekMuUENfU1RBVFMsZGF0YTpzfSwhMCl9b25HYXRld2F5U3RyZWFtKGUsdCxpLG4pe2NvbnN0IHI9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIXIpcmV0dXJuO2NvbnN0IHM9ci5pbmZvLG89RGF0ZS5ub3coKSxhPSRDKCRDKCRDKHt9LHMpLG4pLHt9LHtldmVudFR5cGU6dCxsdHM6b30pO3RoaXMuc2VuZCh7dHlwZTppLGRhdGE6YX0sITApfXN0cmVhbVN3aXRjaChlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvLHI9RGF0ZS5ub3coKSxzPSRDKCRDKHt9LG4pLHt9LHtldmVudFR5cGU6SkMuU1RSRUFNX1NXSVRDSCxsdHM6cixpc0R1YWw6dC5pc2R1YWwsZWxhcHNlOnItaS5zdGFydFRpbWUsc3VjY2Vzczp0LnN1Y2N9KTt0aGlzLnNlbmQoe3R5cGU6ekMuU1RSRUFNX1NXSVRDSCxkYXRhOnN9LCEwKX1yZXF1ZXN0UHJveHlBcHBDZW50ZXIoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCkscz0kQygkQyh7fSxuKSx7fSx7ZXZlbnRUeXBlOkpDLlJFUVVFU1RfUFJPWFlfQVBQQ0VOVEVSLGx0czpyLGV2ZW50RWxhcHNlOnItdC5sdHMsZWxhcHNlOnItaS5zdGFydFRpbWUsQVBBZGRyOnQuQVBBZGRyLHdvcmtlck1hbmFnZXJMaXN0OnQud29ya2VyTWFuYWdlckxpc3QscmVzcG9uc2U6dC5yZXNwb25zZSxlcnJvckNvZGU6dC5lYyxzdWNjZXNzOnQuc3VjY30pO3RoaXMuc2VuZCh7dHlwZTp6Qy5SRVFVRVNUX1BST1hZX0FQUENFTlRFUixkYXRhOnN9LCEwKX1yZXF1ZXN0UHJveHlXb3JrZXJNYW5hZ2VyKGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLHM9JEMoJEMoe30sbikse30se2V2ZW50VHlwZTpKQy5SRVFVRVNUX1BST1hZX1dPUktFUl9NQU5BR0VSLGx0czpyLGV2ZW50RWxhcHNlOnItdC5sdHMsZWxhcHNlOnItaS5zdGFydFRpbWUsd29ya2VyTWFuYWdlckFkZHI6dC53b3JrZXJNYW5hZ2VyQWRkcixyZXNwb25zZTp0LnJlc3BvbnNlLGVycm9yQ29kZTp0LmVjLHN1Y2Nlc3M6dC5zdWNjfSk7dGhpcy5zZW5kKHt0eXBlOnpDLlJFUVVFU1RfUFJPWFlfV09SS0VSX01BTkFHRVIsZGF0YTpzfSwhMCl9c2V0UHJveHlTZXJ2ZXIoZSl7dGhpcy5wcm94eVNlcnZlcj1lLGU/V0MuZGVidWcoXCJyZXBvcnRQcm94eVNlcnZlcnVybDogXCIuY29uY2F0KGUpKTpXQy5kZWJ1ZyhcImRpc2FibGUgcmVwb3J0UHJveHlTZXJ2ZXJ1cmw6IFwiLmNvbmNhdChlKSl9cGVlclB1Ymxpc2hTdGF0dXMoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCkscz0kQygkQyh7fSxuKSx7fSx7c3Vic2NyaWJlRWxhcHNlOnQuc3Vic2NyaWJlRWxhcHNlLHBlZXI6dC5wZWVyLHBlZXJQdWJsaXNoRHVyYXRpb246TWF0aC5tYXgodC5hdWRpb1B1Ymxpc2hEdXJhdGlvbix0LnZpZGVvUHVibGlzaER1cmF0aW9uKSxhdWRpb3RhZzp0LmF1ZGlvUHVibGlzaER1cmF0aW9uPjA/MTotMSx2aWRlb3RhZzp0LnZpZGVvUHVibGlzaER1cmF0aW9uPjA/MTotMSxsdHM6cixlbGFwc2U6ci1pLnN0YXJ0VGltZSxqb2luQ2hhbm5lbFN1Y2Nlc3NFbGFwc2U6ci0oaS5sYXN0Sm9pblN1Y2Nlc3NUaW1lfHxyKSxwZWVyUHVibGlzaER1cmF0aW9uVmlkZW86dC52aWRlb1B1Ymxpc2hEdXJhdGlvbixwZWVyUHVibGlzaER1cmF0aW9uQXVkaW86dC5hdWRpb1B1Ymxpc2hEdXJhdGlvbn0pO3RoaXMuc2VuZCh7dHlwZTp6Qy5QRUVSX1BVQkxJU0hfU1RBVFVTLGRhdGE6c30sITApfXdvcmtlckV2ZW50KGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLHM9ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49ZVt0XTtpZighbnx8XCJzdHJpbmdcIiE9dHlwZW9mIG4pcmV0dXJuW2VdO2VbdF09XCJcIjtjb25zdCByPUxTKEpTT04uc3RyaW5naWZ5KGUpKTtsZXQgcz0wO2NvbnN0IG89W107bGV0IGE9MDtmb3IobGV0IGM9MDtjPG4ubGVuZ3RoO2MrKylhKz1uLmNoYXJDb2RlQXQoYyk8PTEyNz8xOjMsYTw9aS1yfHwob1tvLmxlbmd0aF09dlModlMoe30sZSkse30se1t0XTpuLnN1YnN0cmluZyhzLGMpfSkscz1jLGE9bi5jaGFyQ29kZUF0KGMpPD0xMjc/MTozKTtyZXR1cm4gcyE9PW4ubGVuZ3RoLTEmJihvW28ubGVuZ3RoXT12Uyh2Uyh7fSxlKSx7fSx7W3RdOm4uc3Vic3RyaW5nKHMpfSkpLG99KCRDKCRDKCRDKHt9LG4pLHQpLHt9LHtlbGFwc2U6ci1pLnN0YXJ0VGltZSxsdHM6cixwcm9kdWN0VHlwZTpcIldlYlJUQ1wifSksXCJwYXlsb2FkXCIsMTMwMCk7cy5mb3JFYWNoKChlPT50aGlzLnNlbmQoe3R5cGU6ekMuV09SS0VSX0VWRU5ULGRhdGE6ZX0sITApKSl9YXB3b3JrZXJFdmVudChlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvLHI9RGF0ZS5ub3coKSxzPSRDKCRDKCRDKHt9LG4pLHQpLHt9LHtlbGFwc2U6ci1pLnN0YXJ0VGltZSxsdHM6cn0pO3RoaXMuc2VuZCh7dHlwZTp6Qy5BUF9XT1JLRVJfRVZFTlQsZGF0YTpzfSwhMCl9am9pbldlYlByb3h5QVAoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCkscz0kQygkQygkQyh7fSxuKSx0KSx7fSx7ZWxhcHNlOnItaS5zdGFydFRpbWUsbHRzOnIsZXh0ZW5kOnQuZXh0ZW5kfHx2b2lkIDB9KTt0aGlzLnNlbmQoe3R5cGU6ekMuSk9JTl9XRUJfUFJPWFlfQVAsZGF0YTpzfSwhMCl9V2ViU29ja2V0UXVpdChlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvLHI9RGF0ZS5ub3coKSxzPSRDKCRDKCRDKHt9LG4pLHQpLHt9LHtlbGFwc2U6ci1pLnN0YXJ0VGltZSxsdHM6cn0pO3RoaXMuc2VuZCh7dHlwZTp6Qy5XRUJTT0NLRVRfUVVJVCxkYXRhOnN9LCEwKX1hc3luYyBzZW5kQ3VzdG9tUmVwb3J0TWVzc2FnZShlLHQpe2lmKHRoaXMuY3VzdG9tUmVwb3J0Q291bnQrPXQubGVuZ3RoLHRoaXMuY3VzdG9tUmVwb3J0Q291bnQ+a0MoXCJDVVNUT01fUkVQT1JUX0xJTUlUXCIpKXRocm93IG5ldyBWZyh4Zy5DVVNUT01fUkVQT1JUX0ZSRVFVRU5DWV9UT09fSElHSCk7dGhpcy5jdXN0b21SZXBvcnRDb3VudGVyVGltZXJ8fCh0aGlzLmN1c3RvbVJlcG9ydENvdW50ZXJUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5jdXN0b21SZXBvcnRDb3VudD0wfSksNWUzKSk7Y29uc3QgaT1EYXRlLm5vdygpLG49dC5tYXAoKHQ9Pih7dHlwZTp6Qy5VU0VSX0FOQUxZVElDUyxkYXRhOiRDKCRDKHtzaWQ6ZX0sdCkse30se2x0czppfSl9KSkpO3RyeXtrQyhcIk5FV19SRVBPUlRfU0VSVkVSXCIpP2F3YWl0IHRoaXMucG9zdERhdGFUb1N0YXRzQ29sbGVjdG9yMihuKTphd2FpdCB0aGlzLnBvc3REYXRhVG9TdGF0c0NvbGxlY3RvcihuKX1jYXRjaChlKXt0aHJvdyBXQy5lcnJvcihcInNlbmQgY3VzdG9tIHJlcG9ydCBtZXNzYWdlIGZhaWxlZFwiLGUudG9TdHJpbmcoKSksbmV3IFZnKHhnLkNVU1RPTV9SRVBPUlRfU0VORF9GQUlMRUQsZS5tZXNzYWdlKX19c2VuZEFwaUludm9rZShlKXtjb25zdCB0PWtDKFwiTk9UX1JFUE9SVF9FVkVOVFwiKTtpZihlLnRhZyYmUHIodCkmJlByKHQpLmNhbGwodCxlLnRhZykpcmV0dXJuITE7aWYobnVsbD09PWUuc2lkKXJldHVybiB0aGlzLmFwaUludm9rZVVwbG9hZFBlbmRpbmdJdGVtcy5wdXNoKGUpLCExO2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZS5zaWQpO2lmKCFpKXJldHVybiB0aGlzLmFwaUludm9rZVVwbG9hZFBlbmRpbmdJdGVtcy5wdXNoKGUpLCExO2NvbnN0e2NuYW1lOm4sdWlkOnIsY2lkOnN9PWkuaW5mbztsZXQgbztpZihlLmx0cz1lLmx0c3x8RGF0ZS5ub3coKSxlLmVycm9yKWlmKGUuZXJyb3IgaW5zdGFuY2VvZiBWZyl7Y29uc3R7Y29kZTp0LG1lc3NhZ2U6aX09ZS5lcnJvcjtvPXR8fChpfHxlLmVycm9yLnRvU3RyaW5nKCkpfWVsc2Ugbz1lLmVycm9yLnRvU3RyaW5nKCk7Y29uc3QgYT17aW52b2tlSWQ6ZS5pbnZva2VJZCxzaWQ6ZS5zaWQsY25hbWU6bixjaWQ6cyx1aWQ6cixsdHM6ZS5sdHMsc3VjY2VzczplLnN1Y2Nlc3MsZWxhcHNlOmUubHRzLWkuc3RhcnRUaW1lLGV4ZWNFbGFwc2U6ZS5sdHMtZS5hcGlJbnZva2VUaW1lLGFwaU5hbWU6ZS5uYW1lLG9wdGlvbnM6ZS5vcHRpb25zP0pTT04uc3RyaW5naWZ5KGUub3B0aW9ucyk6dm9pZCAwLGV4ZWNTdGF0ZXM6ZS5zdGF0ZXM/SlNPTi5zdHJpbmdpZnkoZS5zdGF0ZXMpOnZvaWQgMCxleGVjUmVzdWx0OmUucmVzdWx0P0pTT04uc3RyaW5naWZ5KGUucmVzdWx0KTp2b2lkIDAsZXJyb3JDb2RlOmUuZXJyb3I/bzp2b2lkIDAsZXJyb3JNc2c6ZS5lcnJvcj9KU09OLnN0cmluZ2lmeShlLmVycm9yKTp2b2lkIDB9O3JldHVybiB0aGlzLnNlbmQoe3R5cGU6ekMuQVBJX0lOVk9LRSxkYXRhOmF9LCExKSwhMH1hcHBlbmRTZXNzaW9uSWQoKXtldi5fX0NMSUVOVF9MSVNUX18uZm9yRWFjaCgoZT0+e2lmKGUuX3Nlc3Npb25JZCl7Y29uc3QgdD10aGlzLmFwaUludm9rZVVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGg7Zm9yKGxldCBpPTA7aTx0O2krKyl7Y29uc3QgdD10aGlzLmFwaUludm9rZVVwbG9hZFBlbmRpbmdJdGVtcy5zaGlmdCgpO3QmJih0LnNpZD1lLl9zZXNzaW9uSWQsdGhpcy5zZW5kQXBpSW52b2tlKE9iamVjdC5hc3NpZ24oe30sdCkpKX19fSkpfXNlbmQoZSx0KXtpZih0KXJldHVybiB0aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLnB1c2goZSksdm9pZCB0aGlzLnNlbmRJdGVtcyh0aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLCEwKTt0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLnB1c2goZSksdGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGg+a0MoXCJOT1JNQUxfRVZFTlRfUVVFVUVfQ0FQQUNJVFlcIikmJnRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMuc3BsaWNlKDAsMSksdGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGg+PTEwJiZ0aGlzLnNlbmRJdGVtcyh0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLCExKX1kb1NlbmQoKXt0aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmxlbmd0aD4wJiZ0aGlzLnNlbmRJdGVtcyh0aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLCEwKSx0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmxlbmd0aD4wJiZEYXRlLm5vdygpLXRoaXMubGFzdFNlbmROb3JtYWxFdmVudFRpbWU+PTVlMyYmdGhpcy5zZW5kSXRlbXModGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcywhMSl9c2VuZEl0ZW1zKGUsdCl7Y29uc3QgaT1bXSxuPVtdO2Zvcig7ZS5sZW5ndGg7KXtjb25zdCB0PWUuc2hpZnQoKTtpLmxlbmd0aDwyMD9pLnB1c2godCk6bi5wdXNoKHQpfWUucHVzaCguLi5uKTtmb3IoY29uc3QgZSBvZlsuLi5pXSl7dmFyIHI7aWYoLTEhPT10aGlzLmx0c0xpc3QuaW5kZXhPZihlLmRhdGEubHRzKSllLmRhdGEubHRzPXRoaXMubHRzTGlzdFt0aGlzLmx0c0xpc3QubGVuZ3RoLTFdKzEsdGhpcy5sdHNMaXN0LnB1c2goZS5kYXRhLmx0cyk7ZWxzZSB0aGlzLmx0c0xpc3QucHVzaChlLmRhdGEubHRzKSxadShyPXRoaXMubHRzTGlzdCkuY2FsbChyLCgoZSx0KT0+ZS10KSl9dHx8KHRoaXMubGFzdFNlbmROb3JtYWxFdmVudFRpbWU9RGF0ZS5ub3coKSk7cmV0dXJuIGtDKFwiRU5BQkxFX0VWRU5UX1JFUE9SVFwiKT8oaS5sZW5ndGgmJihrQyhcIk5FV19SRVBPUlRfU0VSVkVSXCIpP3RoaXMucG9zdERhdGFUb1N0YXRzQ29sbGVjdG9yMihpKTp0aGlzLnBvc3REYXRhVG9TdGF0c0NvbGxlY3RvcihpKSkuY2F0Y2goKGU9Pmk9PntrQyhcIkVWRU5UX1JFUE9SVF9SRVRSWVwiKSYmKHQ/dGhpcy5rZXlFdmVudFVwbG9hZFBlbmRpbmdJdGVtcz10aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmNvbmNhdChlKToodGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcz10aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmNvbmNhdChlKSx0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmxlbmd0aD5rQyhcIk5PUk1BTF9FVkVOVF9RVUVVRV9DQVBBQ0lUWVwiKSYmKHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMuc3BsaWNlKDAsdGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGgta0MoXCJOT1JNQUxfRVZFTlRfUVVFVUVfQ0FQQUNJVFlcIikpLFdDLndhcm5pbmcoXCJyZXBvcnQ6IGRyb3Agbm9ybWFsIGV2ZW50c1wiKSkpKX0pKGkpKSxlKTplfWFzeW5jIHBvc3REYXRhVG9TdGF0c0NvbGxlY3RvcjIoZSl7UlMubmV0d29ya1N0YXRlPT09aFMuT0ZGTElORSYmYXdhaXQgdGcucmFjZShbUlMub25saW5lV2FpdGVyLFVTKDIqSlMubWF4UmV0cnlUaW1lb3V0KV0pO2NvbnN0IHQ9ZT0+e2xldCB0PW5ldyBVaW50OEFycmF5O3JldHVybiBlLmZvckVhY2goKGU9Pntjb25zdCBpPVpnKEpTT04uc3RyaW5naWZ5KGUuZGF0YSkpLG49bmV3IEFycmF5QnVmZmVyKDUpLHI9KGU9PntsZXQgdD0wO3JldHVybiBPYmplY3QuZW50cmllcyh6QykuZm9yRWFjaCgoaT0+e2xldFtuLHJdPWk7cj09PWUudHlwZSYmKHQ9RXZlbnROYW1lVG9JRFtuXSl9KSksdH0pKGUpLHM9bmV3IERhdGFWaWV3KG4pO3Muc2V0VWludDE2KDAsaS5ieXRlTGVuZ3RoLCEwKSxzLnNldFVpbnQ4KDIsMjU1JnIpLHMuc2V0VWludDgoMyxyPj4+OCYyNTUpLHMuc2V0VWludDgoNCxyPj4+MTYmMjU1KSx0PSRnKHQsbmV3IFVpbnQ4QXJyYXkobikpLHQ9JGcodCxpKX0pKSx0fSxpPVwiZXZlbnRcIjtsZXQgbj10aGlzLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodGhpcy5wcm94eVNlcnZlcixcIi9ycy8/aD1cIikuY29uY2F0KGtDKFwiTkVXX1JFUE9SVF9TRVJWRVJfRE9NQUlOU1wiKVswXSxcIiZwPTQ0MyZkPVwiKS5jb25jYXQoaSk6XCJodHRwczovL1wiLmNvbmNhdChrQyhcIk5FV19SRVBPUlRfU0VSVkVSX0RPTUFJTlNcIilbMF0sXCIvXCIpLmNvbmNhdChpKTtmb3IobGV0IHI9MDtyPDI7cis9MSl7MT09PXImJihuPXRoaXMucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdCh0aGlzLnByb3h5U2VydmVyLFwiL3JzLz9oPVwiKS5jb25jYXQoa0MoXCJORVdfUkVQT1JUX1NFUlZFUl9ET01BSU5TXCIpWzFdLFwiJnA9NDQzJmQ9XCIpLmNvbmNhdChpKTpcImh0dHBzOi8vXCIuY29uY2F0KGtDKFwiTkVXX1JFUE9SVF9TRVJWRVJfRE9NQUlOU1wiKVsxXSxcIi9cIikuY29uY2F0KGkpKTt0cnl7YXdhaXQgUkMobix7dGltZW91dDoxZTQsZGF0YTp0KGUpLGhlYWRlcnM6JEMoJEMoe2JpejpcIndlYnJ0Y1wiLHNlbmR0czpNYXRoLnJvdW5kKERhdGUubm93KCkvMWUzKSxkZWJ1ZzpcImZhbHNlXCJ9LHRoaXMuX2FwcElkJiZ7YXBwaWQ6dGhpcy5fYXBwSWR9KSx7fSx7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifSl9LCEwKX1jYXRjaChlKXtpZigxPT09cil0aHJvdyBlO2NvbnRpbnVlfXJldHVybn19YXN5bmMgcG9zdERhdGFUb1N0YXRzQ29sbGVjdG9yKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07Y29uc3QgaT17bXNnVHlwZTpcIkV2ZW50TWVzc2FnZXNcIixzZW50VHM6TWF0aC5yb3VuZChEYXRlLm5vdygpLzFlMykscGF5bG9hZHM6ZS5tYXAoKGU9PkpTT04uc3RyaW5naWZ5KGUpKSksdmlkOihlPT57Y29uc3QgdD1lJiZlLmRhdGEuc2lkJiZ0aGlzLmJhc2VJbmZvTWFwLmdldChlLmRhdGEuc2lkKTtyZXR1cm4gdCYmdC5pbmZvLnZpZCYmK3QuaW5mby52aWR8fDB9KShlWzBdKX07UlMubmV0d29ya1N0YXRlPT09aFMuT0ZGTElORSYmYXdhaXQgdGcucmFjZShbUlMub25saW5lV2FpdGVyLFVTKDIqSlMubWF4UmV0cnlUaW1lb3V0KV0pO2NvbnN0IG49dD9cIi9ldmVudHMvcHJvdG8tcmF3c1wiOlwiL2V2ZW50cy9tZXNzYWdlc1wiO2xldCByPXRoaXMudXJsfHwodGhpcy5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KHRoaXMucHJveHlTZXJ2ZXIsXCIvcnMvP2g9XCIpLmNvbmNhdChrQyhcIkVWRU5UX1JFUE9SVF9ET01BSU5cIiksXCImcD1cIikuY29uY2F0KGtDKFwiU1RBVFNfQ09MTEVDVE9SX1BPUlRcIiksXCImZD1cIikuY29uY2F0KG4pOlwiaHR0cHM6Ly9cIi5jb25jYXQoa0MoXCJFVkVOVF9SRVBPUlRfRE9NQUlOXCIpLFwiOlwiKS5jb25jYXQoa0MoXCJTVEFUU19DT0xMRUNUT1JfUE9SVFwiKSkuY29uY2F0KG4pKTtmb3IobGV0IGU9MDtlPDI7ZSs9MSl7MT09PWUmJihyPXRoaXMuYmFja3VwVXJsfHwodGhpcy5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KHRoaXMucHJveHlTZXJ2ZXIsXCIvcnMvP2g9XCIpLmNvbmNhdChrQyhcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCIpLFwiJnA9XCIpLmNvbmNhdChrQyhcIlNUQVRTX0NPTExFQ1RPUl9QT1JUXCIpLFwiJmQ9XCIpLmNvbmNhdChuKTpcImh0dHBzOi8vXCIuY29uY2F0KGtDKFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIiksXCI6XCIpLmNvbmNhdChrQyhcIlNUQVRTX0NPTExFQ1RPUl9QT1JUXCIpKS5jb25jYXQobikpKTt0cnl7dD9hd2FpdCBDQyhyLHt0aW1lb3V0OjFlNCxkYXRhOml9KTphd2FpdCBSQyhyLHt0aW1lb3V0OjFlNCxkYXRhOml9KX1jYXRjaCh0KXtpZigxPT09ZSl0aHJvdyB0O2NvbnRpbnVlfXJldHVybn19Y3JlYXRlQmFzZUluZm8oZSx0KXtjb25zdCBpPU9iamVjdC5hc3NpZ24oe30scUMpO3JldHVybiBpLnNpZD1lLHRoaXMuYmFzZUluZm9NYXAuc2V0KGUse2luZm86aSxzdGFydFRpbWU6dH0pLGl9cmVwb3J0UmVzb3VyY2VUaW1pbmcoZSx0KXtjb25zdCBpPXBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoZSksbj1pW2kubGVuZ3RoLTFdO24mJnRoaXMucmVwb3J0QXBpSW52b2tlKHQse25hbWU6XCJDbGllbnQucmVzb3VyY2VUaW1pbmdcIixvcHRpb25zOm4sdGFnOm9TLlRSQUNFUn0pLm9uU3VjY2VzcygpfX1mdW5jdGlvbiB0digpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gZnVuY3Rpb24odCxpLG4pe2NvbnN0IHI9bi52YWx1ZTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiByKXtjb25zdCBzPWUuY2xhc3NOYW1lfHx0Ll9fY2xhc3NOYW1lX198fChcIkFnb3JhUlRDQ2xpZW50XCI9PT10LmNvbnN0cnVjdG9yLm5hbWU/XCJDbGllbnRcIjp0LmNvbnN0cnVjdG9yLm5hbWUpO24udmFsdWU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0KSxvPTA7bzx0O28rKyluW29dPWFyZ3VtZW50c1tvXTtsZXQgYT1uO2lmKGUuYXJnc01hcCl0cnl7YT1lLmFyZ3NNYXAodGhpcywuLi5uKX1jYXRjaChlKXtXQy53YXJuaW5nKGUpLGE9W119dHJ5e0pTT04uc3RyaW5naWZ5KGEpfWNhdGNoKGUpe1dDLndhcm5pbmcoXCJhcmd1bWVudHMgZm9yIG1ldGhvZCBcIi5jb25jYXQocyxcIi5cIikuY29uY2F0KFN0cmluZyhpKSxcIiBub3Qgc2VyaWFsaXphYmxlIGZvciBhcGlJbnZva2UuXCIpKSxhPVtdfWNvbnN0IGM9KGUucmVwb3J0fHxpdikucmVwb3J0QXBpSW52b2tlKHRoaXMuX3Nlc3Npb25JZHx8bnVsbCx7bmFtZTpcIlwiLmNvbmNhdChzLFwiLlwiKS5jb25jYXQoU3RyaW5nKGkpKSxvcHRpb25zOmEsdGFnOm9TLlRSQUNFUixyZXBvcnRSZXN1bHQ6ZS5yZXBvcnRSZXN1bHR9LGUudGhyb3R0bGVUaW1lKTt0cnl7Y29uc3QgdD1yLmFwcGx5KHRoaXMsbik7cmV0dXJuIHQgaW5zdGFuY2VvZiB0Zz90LnRoZW4oKHQ9PihjLm9uU3VjY2VzcyhlLnJlcG9ydFJlc3VsdCYmdCksdCkpKS5jYXRjaCgoZT0+e3Rocm93IGMub25FcnJvcihlKSxlfSkpOihjLm9uU3VjY2VzcyhlLnJlcG9ydFJlc3VsdCYmdCksdCl9Y2F0Y2goZSl7dGhyb3cgYy5vbkVycm9yKGUpLGV9fX1yZXR1cm4gbn19bnUoZXYsXCJfX0NMSUVOVF9MSVNUX19cIixbXSk7Y29uc3QgaXY9bmV3IGV2O1VDLm9uKFwiUkVQT1JUX0xPR19VUExPQURcIiwoZT0+e2UubmV0d29ya1N0YXRlPVJTLm5ldHdvcmtTdGF0ZSxpdi5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpcImxvZ1VwbG9hZEVycm9yXCIsb3B0aW9uczplLHRhZzpvUy5UUkFDRVJ9KX0pKTtjb25zdCBudj1bXCJDSElOQVwiLFwiR0xPQkFMXCJdLHJ2PWZ1bmN0aW9uKCl7Y29uc3QgZT1cInVzXCIuY29uY2F0KFwiZXJuYVwiLFwibWVcIiksdD1cInBhXCIuY29uY2F0KFwic3N3b1wiLFwicmRcIiksaT1bXCJ0XCIsXCJzXCIsXCJ0XCJdO2kuc3BsaWNlKDEsMCxcImVcIik7Y29uc3Qgbj1pLmpvaW4oXCJcIikscj1bXTtmb3IobGV0IGU9MDtlPDY7ZSsrKXIucHVzaChcIjFcIik7Y29uc3Qgcz1yLmpvaW4oXCJcIiksbz17fTtyZXR1cm4gb1tlXT1uLG9bdF09cyxPYmplY3QuYXNzaWduKG8se3R1cm5TZXJ2ZXJVUkw6XCJcIix0Y3Bwb3J0OjM0MzMsdWRwcG9ydDozNDc4LGZvcmNldHVybjohMX0pfSgpO3dpbmRvdy5ERUZBVUxUX1RVUk5fQ09ORklHPXJ2LE5DfHwoUEMuV0VCQ1NfRE9NQUlOPVtcImFwLXdlYi0xLW92ZXJzZWEuYWdvcmEuaW9cIixcImFwLXdlYi0xLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sUEMuV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUPVtcImFwLXdlYi0yLW92ZXJzZWEuYWdvcmEuaW9cIixcImFwLXdlYi0yLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sUEMuUFJPWFlfQ1M9W1wicHJveHktYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIixcInByb3h5LWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCJdLFBDLkNEU19BUD1bXCJjZHMtYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxQQy5BQ0NPVU5UX1JFR0lTVEVSPVtcInN1YS1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWFtZXJpY2EyLmFnb3JhLmlvXCJdLFBDLlVBUF9BUD1bXCJ1YXAtYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxQQy5MT0dfVVBMT0FEX1NFUlZFUj1cImxvZ3NlcnZpY2Utb3ZlcnNlYS5hZ29yYS5pb1wiLFBDLkVWRU5UX1JFUE9SVF9ET01BSU49XCJzdGF0c2NvbGxlY3Rvci0xLW92ZXJzZWEuYWdvcmEuaW9cIixQQy5FVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTj1cInN0YXRzY29sbGVjdG9yLTItb3ZlcnNlYS5hZ29yYS5pb1wiLFBDLlBST1hZX1NFUlZFUl9UWVBFMz1cIndlYnJ0Yy1jbG91ZC1wcm94eS5hZ29yYS5pb1wiLFBDLkFSRUFTPVtcIk5PUlRIX0FNRVJJQ0FcIixcIk9WRVJTRUFcIl0pO2NvbnN0IHN2PVtbMCwxLDIsMyw0LDUsNV0sWzAsMiwyLDMsNCw1LDVdLFswLDMsMywzLDQsNSw1XSxbMCw0LDQsNCw0LDUsNV0sWzAsNSw1LDUsNSw1LDVdXSxvdj1bXTtmdW5jdGlvbiBhdihlLHQpe3JldHVybiEhdCYmb3Yuc29tZSgoaT0+aS51aWQ9PT1lJiZpLmNoYW5uZWxOYW1lPT09dCkpfWV2Ll9fQ0xJRU5UX0xJU1RfXz1vdjt2YXIgY3YsZHYsbHYsaHYsdXYscHYsX3YsRXYsbXYsZnYsZ3YsU3YsVHYsUnYsQ3YsdnYsSXYseXY9ZXIoXCJBcnJheVwiKS52YWx1ZXMsQXY9RXIsYnY9bmksd3Y9RWUsT3Y9eXYsTnY9QXJyYXkucHJvdG90eXBlLER2PXtET01Ub2tlbkxpc3Q6ITAsTm9kZUxpc3Q6ITB9LFB2PUooKGZ1bmN0aW9uKGUpe3ZhciB0PWUudmFsdWVzO3JldHVybiBlPT09TnZ8fHd2KE52LGUpJiZ0PT09TnYudmFsdWVzfHxidihEdixBdihlKSk/T3Y6dH0pKTtmdW5jdGlvbiBMdihlLHQsaSxuKXt2YXIgcixzPWFyZ3VtZW50cy5sZW5ndGgsbz1zPDM/dDpudWxsPT09bj9uPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxpKTpuO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKW89UmVmbGVjdC5kZWNvcmF0ZShlLHQsaSxuKTtlbHNlIGZvcih2YXIgYT1lLmxlbmd0aC0xO2E+PTA7YS0tKShyPWVbYV0pJiYobz0oczwzP3Iobyk6cz4zP3IodCxpLG8pOnIodCxpKSl8fG8pO3JldHVybiBzPjMmJm8mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGksbyksb31mdW5jdGlvbiBrdihlLHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhKXJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGUsdCl9IWZ1bmN0aW9uKGUpe2UuTDFUMT1cIkwxVDFcIixlLkwxVDI9XCJMMVQyXCIsZS5MMVQzPVwiTDFUM1wiLGUuTDJUMV9LRVk9XCJMMlQxX0tFWVwiLGUuTDJUMl9LRVk9XCJMMlQyX0tFWVwiLGUuTDJUM19LRVk9XCJMMlQzX0tFWVwiLGUuTDNUMV9LRVk9XCJMM1QxX0tFWVwiLGUuTDNUMl9LRVk9XCJMM1QyX0tFWVwiLGUuTDNUM19LRVk9XCJMM1QzX0tFWVwifShjdnx8KGN2PXt9KSksZnVuY3Rpb24oZSl7ZS5DRVJUSUZJQ0FURT1cImNlcnRpZmljYXRlXCIsZS5DT0RFQz1cImNvZGVjXCIsZS5DQU5ESURBVEVfUEFJUj1cImNhbmRpZGF0ZS1wYWlyXCIsZS5MT0NBTF9DQU5ESURBVEU9XCJsb2NhbC1jYW5kaWRhdGVcIixlLlJFTU9URV9DQU5ESURBVEU9XCJyZW1vdGUtY2FuZGlkYXRlXCIsZS5JTkJPVU5EPVwiaW5ib3VuZC1ydHBcIixlLlRSQUNLPVwidHJhY2tcIixlLk9VVEJPVU5EPVwib3V0Ym91bmQtcnRwXCIsZS5QQz1cInBlZXItY29ubmVjdGlvblwiLGUuUkVNT1RFX0lOQk9VTkQ9XCJyZW1vdGUtaW5ib3VuZC1ydHBcIixlLlJFTU9URV9PVVRCT1VORD1cInJlbW90ZS1vdXRib3VuZC1ydHBcIixlLlRSQU5TUE9SVD1cInRyYW5zcG9ydFwiLGUuQ1NSQz1cImNzcmNcIixlLkRBVEFfQ0hBTk5FTD1cImRhdGEtY2hhbm5lbFwiLGUuU1RSRUFNPVwic3RyZWFtXCIsZS5TRU5ERVI9XCJzZW5kZXJcIixlLlJFQ0VJVkVSPVwicmVjZWl2ZXJcIn0oZHZ8fChkdj17fSkpLGZ1bmN0aW9uKGUpe2VbZS5BQ0NFU1NfUE9JTlQ9MTAxXT1cIkFDQ0VTU19QT0lOVFwiLGVbZS5VTklMQlM9MjAxXT1cIlVOSUxCU1wiLGVbZS5TVFJJTkdfVUlEX0FMTE9DQVRPUj05MDFdPVwiU1RSSU5HX1VJRF9BTExPQ0FUT1JcIn0obHZ8fChsdj17fSkpLGZ1bmN0aW9uKGUpe2VbZS5JSUlFR0FMX0FQUElEPTFdPVwiSUlJRUdBTF9BUFBJRFwiLGVbZS5JSUlFR0FMX1VJRD0yXT1cIklJSUVHQUxfVUlEXCIsZVtlLklOVEVSTkFMX0VSUk9SPTNdPVwiSU5URVJOQUxfRVJST1JcIn0oaHZ8fChodj17fSkpLGZ1bmN0aW9uKGUpe2VbZS5JTlZBTElEX1ZFTkRPUl9LRVk9NV09XCJJTlZBTElEX1ZFTkRPUl9LRVlcIixlW2UuSU5WQUxJRF9DSEFOTkVMX05BTUU9N109XCJJTlZBTElEX0NIQU5ORUxfTkFNRVwiLGVbZS5JTlRFUk5BTF9FUlJPUj04XT1cIklOVEVSTkFMX0VSUk9SXCIsZVtlLk5PX0FVVEhPUklaRUQ9OV09XCJOT19BVVRIT1JJWkVEXCIsZVtlLkRZTkFNSUNfS0VZX1RJTUVPVVQ9MTBdPVwiRFlOQU1JQ19LRVlfVElNRU9VVFwiLGVbZS5OT19BQ1RJVkVfU1RBVFVTPTExXT1cIk5PX0FDVElWRV9TVEFUVVNcIixlW2UuRFlOQU1JQ19LRVlfRVhQSVJFRD0xM109XCJEWU5BTUlDX0tFWV9FWFBJUkVEXCIsZVtlLlNUQVRJQ19VU0VfRFlOQU1JQ19LRVk9MTRdPVwiU1RBVElDX1VTRV9EWU5BTUlDX0tFWVwiLGVbZS5EWU5BTUlDX1VTRV9TVEFUSUNfS0VZPTE1XT1cIkRZTkFNSUNfVVNFX1NUQVRJQ19LRVlcIixlW2UuVVNFUl9PVkVSTE9BRD0xNl09XCJVU0VSX09WRVJMT0FEXCIsZVtlLkZPUkJJRERFTl9SRUdJT049MThdPVwiRk9SQklEREVOX1JFR0lPTlwiLGVbZS5DQU5OT1RfTUVFVF9BUkVBX0RFTUFORD0xOV09XCJDQU5OT1RfTUVFVF9BUkVBX0RFTUFORFwifSh1dnx8KHV2PXt9KSksZnVuY3Rpb24oZSl7ZVtlLk5PX0ZMQUdfU0VUPTEwMF09XCJOT19GTEFHX1NFVFwiLGVbZS5GTEFHX1NFVF9CVVRfRU1QVFk9MTAxXT1cIkZMQUdfU0VUX0JVVF9FTVBUWVwiLGVbZS5JTlZBTElEX0ZBTEdfU0VUPTEwMl09XCJJTlZBTElEX0ZBTEdfU0VUXCIsZVtlLkZMQUdfU0VUX0JVVF9OT19SRT0xMDNdPVwiRkxBR19TRVRfQlVUX05PX1JFXCIsZVtlLklOVkFMSURfU0VSVklDRV9JRD0xMDRdPVwiSU5WQUxJRF9TRVJWSUNFX0lEXCIsZVtlLk5PX1NFUlZJQ0VfQVZBSUxBQkxFPTIwMF09XCJOT19TRVJWSUNFX0FWQUlMQUJMRVwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9QMlA9MjAxXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1AyUFwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9WT0lDRT0yMDJdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfVk9JQ0VcIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEVfV0VCUlRDPTIwM109XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9XRUJSVENcIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEVfQ0RTPTIwNF09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9DRFNcIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEVfQ0ROPTIwNV09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9DRE5cIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEVfVERTPTIwNl09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9URFNcIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEVfUkVQT1JUPTIwN109XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9SRVBPUlRcIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEVfQVBQX0NFTlRFUj0yMDhdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfQVBQX0NFTlRFUlwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9FTlYwPTIwOV09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9FTlYwXCIsZVtlLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1ZPRVQ9MjEwXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1ZPRVRcIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEVfU1RSSU5HX1VJRD0yMTFdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfU1RSSU5HX1VJRFwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9XRUJSVENfVU5JTEJTPTIxMl09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9XRUJSVENfVU5JTEJTXCIsZVtlLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1VOSUxCU19GTFY9MjEzXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1VOSUxCU19GTFZcIn0ocHZ8fChwdj17fSkpLGZ1bmN0aW9uKGUpe2VbZS5LX1RJTUVTVEFNUF9FWFBJUkVEPTJdPVwiS19USU1FU1RBTVBfRVhQSVJFRFwiLGVbZS5LX0NIQU5ORUxfUEVSTUlTU0lPTl9JTlZBTElEPTNdPVwiS19DSEFOTkVMX1BFUk1JU1NJT05fSU5WQUxJRFwiLGVbZS5LX0NFUlRJRklDQVRFX0lOVkFMSUQ9NF09XCJLX0NFUlRJRklDQVRFX0lOVkFMSURcIixlW2UuS19DSEFOTkVMX05BTUVfRU1QVFk9NV09XCJLX0NIQU5ORUxfTkFNRV9FTVBUWVwiLGVbZS5LX0NIQU5ORUxfTk9UX0ZPVU5EPTZdPVwiS19DSEFOTkVMX05PVF9GT1VORFwiLGVbZS5LX1RJQ0tFVF9JTlZBTElEPTddPVwiS19USUNLRVRfSU5WQUxJRFwiLGVbZS5LX0NIQU5ORUxfQ09ORkxJQ1RFRD04XT1cIktfQ0hBTk5FTF9DT05GTElDVEVEXCIsZVtlLktfU0VSVklDRV9OT1RfUkVBRFk9OV09XCJLX1NFUlZJQ0VfTk9UX1JFQURZXCIsZVtlLktfU0VSVklDRV9UT09fSEVBVlk9MTBdPVwiS19TRVJWSUNFX1RPT19IRUFWWVwiLGVbZS5LX1VJRF9CQU5ORUQ9MTRdPVwiS19VSURfQkFOTkVEXCIsZVtlLktfSVBfQkFOTkVEPTE1XT1cIktfSVBfQkFOTkVEXCIsZVtlLktfQ0hBTk5FTF9CQU5ORUQ9MTZdPVwiS19DSEFOTkVMX0JBTk5FRFwiLGVbZS5LX0FVVE9fUkVCQUxBTkNFPTI4XT1cIktfQVVUT19SRUJBTEFOQ0VcIixlW2UuV0FSTl9OT19BVkFJTEFCTEVfQ0hBTk5FTD0xMDNdPVwiV0FSTl9OT19BVkFJTEFCTEVfQ0hBTk5FTFwiLGVbZS5XQVJOX0xPT0tVUF9DSEFOTkVMX1RJTUVPVVQ9MTA0XT1cIldBUk5fTE9PS1VQX0NIQU5ORUxfVElNRU9VVFwiLGVbZS5XQVJOX0xPT0tVUF9DSEFOTkVMX1JFSkVDVEVEPTEwNV09XCJXQVJOX0xPT0tVUF9DSEFOTkVMX1JFSkVDVEVEXCIsZVtlLldBUk5fT1BFTl9DSEFOTkVMX1RJTUVPVVQ9MTA2XT1cIldBUk5fT1BFTl9DSEFOTkVMX1RJTUVPVVRcIixlW2UuV0FSTl9PUEVOX0NIQU5ORUxfUkVKRUNURUQ9MTA3XT1cIldBUk5fT1BFTl9DSEFOTkVMX1JFSkVDVEVEXCIsZVtlLldBUk5fUkVRVUVTVF9ERUZFUlJFRD0xMDhdPVwiV0FSTl9SRVFVRVNUX0RFRkVSUkVEXCIsZVtlLkVSUl9EWU5BTUlDX0tFWV9USU1FT1VUPTEwOV09XCJFUlJfRFlOQU1JQ19LRVlfVElNRU9VVFwiLGVbZS5FUlJfTk9fQVVUSE9SSVpFRD0xMTBdPVwiRVJSX05PX0FVVEhPUklaRURcIixlW2UuRVJSX1ZPTV9TRVJWSUNFX1VOQVZBSUxBQkxFPTExMV09XCJFUlJfVk9NX1NFUlZJQ0VfVU5BVkFJTEFCTEVcIixlW2UuRVJSX05PX0NIQU5ORUxfQVZBSUxBQkxFX0NPREU9MTEyXT1cIkVSUl9OT19DSEFOTkVMX0FWQUlMQUJMRV9DT0RFXCIsZVtlLkVSUl9NQVNURVJfVk9DU19VTkFWQUlMQUJMRT0xMTRdPVwiRVJSX01BU1RFUl9WT0NTX1VOQVZBSUxBQkxFXCIsZVtlLkVSUl9JTlRFUk5BTF9FUlJPUj0xMTVdPVwiRVJSX0lOVEVSTkFMX0VSUk9SXCIsZVtlLkVSUl9OT19BQ1RJVkVfU1RBVFVTPTExNl09XCJFUlJfTk9fQUNUSVZFX1NUQVRVU1wiLGVbZS5FUlJfSU5WQUxJRF9VSUQ9MTE3XT1cIkVSUl9JTlZBTElEX1VJRFwiLGVbZS5FUlJfRFlOQU1JQ19LRVlfRVhQSVJFRD0xMThdPVwiRVJSX0RZTkFNSUNfS0VZX0VYUElSRURcIixlW2UuRVJSX1NUQVRJQ19VU0VfRFlBTk1JQ19LRT0xMTldPVwiRVJSX1NUQVRJQ19VU0VfRFlBTk1JQ19LRVwiLGVbZS5FUlJfRFlOQU1JQ19VU0VfU1RBVElDX0tFPTEyMF09XCJFUlJfRFlOQU1JQ19VU0VfU1RBVElDX0tFXCIsZVtlLkVSUl9OT19WT0NTX0FWQUlMQUJMRT0yZTNdPVwiRVJSX05PX1ZPQ1NfQVZBSUxBQkxFXCIsZVtlLkVSUl9OT19WT1NfQVZBSUxBQkxFPTIwMDFdPVwiRVJSX05PX1ZPU19BVkFJTEFCTEVcIixlW2UuRVJSX0pPSU5fQ0hBTk5FTF9USU1FT1VUPTIwMDJdPVwiRVJSX0pPSU5fQ0hBTk5FTF9USU1FT1VUXCIsZVtlLkVSUl9SRVBFQVRfSk9JTl9DSEFOTkVMPTIwMDNdPVwiRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUxcIixlW2UuRVJSX0pPSU5fQllfTVVMVElfSVA9MjAwNF09XCJFUlJfSk9JTl9CWV9NVUxUSV9JUFwiLGVbZS5FUlJfTk9UX0pPSU5FRD0yMDExXT1cIkVSUl9OT1RfSk9JTkVEXCIsZVtlLkVSUl9SRVBFQVRfSk9JTl9SRVFVRVNUPTIwMTJdPVwiRVJSX1JFUEVBVF9KT0lOX1JFUVVFU1RcIixlW2UuRVJSX0lOVkFMSURfVkVORE9SX0tFWT0yMDEzXT1cIkVSUl9JTlZBTElEX1ZFTkRPUl9LRVlcIixlW2UuRVJSX0lOVkFMSURfQ0hBTk5FTF9OQU1FPTIwMTRdPVwiRVJSX0lOVkFMSURfQ0hBTk5FTF9OQU1FXCIsZVtlLkVSUl9JTlZBTElEX1NUUklOR1VJRD0yMDE1XT1cIkVSUl9JTlZBTElEX1NUUklOR1VJRFwiLGVbZS5FUlJfVE9PX01BTllfVVNFUlM9MjAxNl09XCJFUlJfVE9PX01BTllfVVNFUlNcIixlW2UuRVJSX1NFVF9DTElFTlRfUk9MRV9USU1FT1VUPTIwMTddPVwiRVJSX1NFVF9DTElFTlRfUk9MRV9USU1FT1VUXCIsZVtlLkVSUl9TRVRfQ0xJRU5UX1JPTEVfTk9fUEVSTUlTU0lPTj0yMDE4XT1cIkVSUl9TRVRfQ0xJRU5UX1JPTEVfTk9fUEVSTUlTU0lPTlwiLGVbZS5FUlJfU0VUX0NMSUVOVF9ST0xFX0FMUkVBRFlfSU5fVVNFPTIwMTldPVwiRVJSX1NFVF9DTElFTlRfUk9MRV9BTFJFQURZX0lOX1VTRVwiLGVbZS5FUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSUQ9MjAyMF09XCJFUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSURcIixlW2UuRVJSX1NVQlNDUklCRV9SRVFVRVNUX0lOVkFMSUQ9MjAyMV09XCJFUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRFwiLGVbZS5FUlJfTk9UX1NVUFBPUlRFRF9NRVNTQUdFPTIwMjJdPVwiRVJSX05PVF9TVVBQT1JURURfTUVTU0FHRVwiLGVbZS5FUlJfSUxMRUFHQUxfUExVR0lOPTIwMjNdPVwiRVJSX0lMTEVBR0FMX1BMVUdJTlwiLGVbZS5FUlJfUkVKT0lOX1RPS0VOX0lOVkFMSUQ9MjAyNF09XCJFUlJfUkVKT0lOX1RPS0VOX0lOVkFMSURcIixlW2UuRVJSX1JFSk9JTl9VU0VSX05PVF9KT0lORUQ9MjAyNV09XCJFUlJfUkVKT0lOX1VTRVJfTk9UX0pPSU5FRFwiLGVbZS5FUlJfSU5WQUxJRF9PUFRJT05BTF9JTkZPPTIwMjddPVwiRVJSX0lOVkFMSURfT1BUSU9OQUxfSU5GT1wiLGVbZS5JTExFR0FMX0FFU19QQVNTV09SRD0yMDI4XT1cIklMTEVHQUxfQUVTX1BBU1NXT1JEXCIsZVtlLklMTEVHQUxfQ0xJRU5UX1JPTEVfTEVWRUw9MjAyOV09XCJJTExFR0FMX0NMSUVOVF9ST0xFX0xFVkVMXCIsZVtlLkVSUl9UT09fTUFOWV9CUk9BRENBU1RFUlM9MjAzMV09XCJFUlJfVE9PX01BTllfQlJPQURDQVNURVJTXCIsZVtlLkVSUl9UT09fTUFOWV9TVUJTQ1JJQkVSUz0yMDMyXT1cIkVSUl9UT09fTUFOWV9TVUJTQ1JJQkVSU1wiLGVbZS5FUlJfTElDRU5TRV9NSVNTSU5HPTMyNzY5XT1cIkVSUl9MSUNFTlNFX01JU1NJTkdcIixlW2UuRVJSX0xJQ0VOU0VfRVhQSVJFRD0zMjc3MV09XCJFUlJfTElDRU5TRV9FWFBJUkVEXCIsZVtlLkVSUl9MSUNFTlNFX01JTlVURVNfRVhDRUVERUQ9MzI3NzNdPVwiRVJSX0xJQ0VOU0VfTUlOVVRFU19FWENFRURFRFwiLGVbZS5FUlJfTElDRU5TRV9QRVJJT0RfSU5WQUxJRD0zMjc3NF09XCJFUlJfTElDRU5TRV9QRVJJT0RfSU5WQUxJRFwiLGVbZS5FUlJfTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRT0zMjc3OF09XCJFUlJfTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRVwiLGVbZS5FUlJfTElDRU5TRV9JTExFR0FMPTMyNzgzXT1cIkVSUl9MSUNFTlNFX0lMTEVHQUxcIixlW2UuRVJSX1RFU1RfUkVDT1ZFUj05ZTNdPVwiRVJSX1RFU1RfUkVDT1ZFUlwiLGVbZS5FUlJfVEVTVF9UUllORVhUPTkwMDFdPVwiRVJSX1RFU1RfVFJZTkVYVFwiLGVbZS5FUlJfVEVTVF9SRVRSWT05MDAyXT1cIkVSUl9URVNUX1JFVFJZXCJ9KF92fHwoX3Y9e30pKSxmdW5jdGlvbihlKXtlLkNPTk5FQ1RJTkc9XCJjb25uZWN0aW5nXCIsZS5DT05ORUNURUQ9XCJjb25uZWN0ZWRcIixlLlJFQ09OTkVDVElORz1cInJlY29ubmVjdGluZ1wiLGUuQ0xPU0VEPVwiY2xvc2VkXCJ9KEV2fHwoRXY9e30pKSxmdW5jdGlvbihlKXtlLldTX0NPTk5FQ1RFRD1cIndzX2Nvbm5lY3RlZFwiLGUuV1NfUkVDT05ORUNUSU5HPVwid3NfcmVjb25uZWN0aW5nXCIsZS5XU19DTE9TRUQ9XCJ3c19jbG9zZWRcIixlLldTX1JFQ09OTkVDVF9XQUlUVElOR19GSU5JU0g9XCJ3c19yZWNvbm5lY3Rfd2FpdHRpbmdfZmluaXNoXCIsZS5XU19SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT049XCJ3c19yZWNvbm5lY3RfY3JlYXRlX2Nvbm5lY3Rpb25cIixlLk9OX0JJTkFSWV9EQVRBPVwib25fYmluYXJ5X2RhdGFcIixlLlJFUVVFU1RfUkVDT1ZFUj1cInJlcXVlc3RfcmVjb3ZlclwiLGUuUkVRVUVTVF9KT0lOX0lORk89XCJyZXF1ZXN0X2pvaW5faW5mb1wiLGUuUkVRVUVTVF9SRUpPSU5fSU5GTz1cInJlcV9yZWpvaW5faW5mb1wiLGUuSVNfUDJQX0RJU0NPTk5FQ1RFRD1cImlzX3AycF9kaXNcIixlLkRJU0NPTk5FQ1RfUDJQPVwiZGlzX3AycFwiLGUuQUJPUlRfUDJQX0VYRUNVVElPTj1cImFib3J0X3AycF9leGVjdXRpb25cIixlLk5FRURfUkVORVdfU0VTU0lPTj1cIm5lZWQtc2lkXCIsZS5SRVBPUlRfSk9JTl9HQVRFV0FZPVwicmVwb3J0X2pvaW5fZ2F0ZXdheVwiLGUuUkVRVUVTVF9USU1FT1VUPVwicmVxdWVzdF90aW1lb3V0XCIsZS5SRVFVRVNUX1NVQ0NFU1M9XCJyZXF1ZXN0X3N1Y2Nlc3NcIixlLkpPSU5fUkVTUE9OU0U9XCJqb2luX3Jlc3BvbnNlXCIsZS5EQVRBQ0hBTk5FTF9QUkVDT05ORUNUPVwiZGF0YWNoYW5uZWxfcHJlY29ubmVjdFwiLGUuREFUQUNIQU5ORUxfQ09OTkVDVElORz1cImRhdGFjaGFubmVsX2Nvbm5lY3RpbmdcIixlLkRBVEFDSEFOTkVMX0ZBSUxCQUNLPVwiZGF0YWNoYW5uZWxfZmFpbGJhY2tcIixlLlAyUF9TVEFSVD1cInAycF9zdGFydFwiLGUuUDJQX0NPTk5FQ1RJT049XCJwMnBfY29ubmVjdGlvblwiLGUuUDJQX1JFTU9URV9DQU5ESURBVEVfVVBEQVRFPVwicDJwX3JlbW90ZV9jYW5kaWRhdGVfdXBkYXRlXCIsZS5QMlBfU1VCU0NSSUJFPVwicDJwX3N1YnNjcmliZVwiLGUuUDJQX1VOU1VCU0NSSUJFPVwicDJwX3Vuc3Vic2NyaWJlXCIsZS5QMlBfRVhDSEFOR0VfU0RQPVwicDJwX2V4Y2hhbmdlX3NkcFwiLGUuUDJQX09OX0FERF9WSURFT19TVFJFQU09XCJwMnBfb25fYWRkX3ZpZGVvX3N0cmVhbVwiLGUuUDJQX09OX0FERF9BVURJT19TVFJFQU09XCJwMnBfb25fYWRkX2F1ZGlvX3N0cmVhbVwifShtdnx8KG12PXt9KSksZnVuY3Rpb24oZSl7ZS5QSU5HPVwicGluZ1wiLGUuUElOR19CQUNLPVwicGluZ19iYWNrXCIsZS5KT0lOPVwiam9pbl92M1wiLGUuUkVKT0lOPVwicmVqb2luX3YzXCIsZS5MRUFWRT1cImxlYXZlXCIsZS5TRVRfQ0xJRU5UX1JPTEU9XCJzZXRfY2xpZW50X3JvbGVcIixlLlBVQkxJU0g9XCJwdWJsaXNoXCIsZS5QVUJMSVNIX0RBVEFTVFJFQU09XCJwdWJsaXNoX2RhdGFzdHJlYW1cIixlLlVOUFVCTElTSD1cInVucHVibGlzaFwiLGUuVU5QVUJMSVNIX0RBVEFTVFJFQU09XCJ1bnB1Ymxpc2hfZGF0YXN0cmVhbVwiLGUuU1VCU0NSSUJFPVwic3Vic2NyaWJlXCIsZS5TVUJTQ1JJQkVfREFUQVNUUkVBTT1cInN1YnNjcmliZV9kYXRhc3RyZWFtXCIsZS5TVUJTQ1JJQkVfU1RSRUFNUz1cInN1YnNjcmliZV9zdHJlYW1zXCIsZS5VTlNVQlNDUklCRT1cInVuc3Vic2NyaWJlXCIsZS5VTlNVQlNDUklCRV9EQVRBU1RSRUFNPVwidW5zdWJzY3JpYmVfZGF0YXN0cmVhbVwiLGUuVU5TVUJTQ1JJQkVfU1RSRUFNUz1cInVuc3Vic2NyaWJlX3N0cmVhbXNcIixlLlNVQlNDUklCRV9DSEFOR0U9XCJzdWJzY3JpYmVfY2hhbmdlXCIsZS5UUkFGRklDX1NUQVRTPVwidHJhZmZpY19zdGF0c1wiLGUuUkVORVdfVE9LRU49XCJyZW5ld190b2tlblwiLGUuU1dJVENIX1ZJREVPX1NUUkVBTT1cInN3aXRjaF92aWRlb19zdHJlYW1cIixlLkRFRkFVTFRfVklERU9fU1RSRUFNPVwiZGVmYXVsdF92aWRlb19zdHJlYW1cIixlLlNFVF9GQUxMQkFDS19PUFRJT049XCJzZXRfZmFsbGJhY2tfb3B0aW9uXCIsZS5HQVRFV0FZX0lORk89XCJnYXRld2F5X2luZm9cIixlLkNPTlRST0w9XCJjb250cm9sXCIsZS5TRU5EX01FVEFEQVRBPVwic2VuZF9tZXRhZGF0YVwiLGUuREFUQV9TVFJFQU09XCJkYXRhX3N0cmVhbVwiLGUuUElDS19TVkNfTEFZRVI9XCJwaWNrX3N2Y19sYXllclwiLGUuUkVTVEFSVF9JQ0U9XCJyZXN0YXJ0X2ljZVwiLGUuQ09OTkVDVF9QQz1cImNvbm5lY3RfcGNcIixlLlNFVF9WSURFT19QUk9GSUxFPVwic2V0X3ZpZGVvX3Byb2ZpbGVcIixlLlNFVF9QQVJBTUVURVI9XCJzZXRfcGFyYW1ldGVyXCIsZS5TRVRfUlRNMl9GTEFHPVwic2V0X3J0bTJfZmxhZ1wifShmdnx8KGZ2PXt9KSksZnVuY3Rpb24oZSl7ZS5QVUJMSVNIX1NUQVRTPVwicHVibGlzaF9zdGF0c1wiLGUuUFVCTElTSF9SRUxBVEVEX1NUQVRTPVwicHVibGlzaF9yZWxhdGVkX3N0YXRzXCIsZS5TVUJTQ1JJQkVfU1RBVFM9XCJzdWJzY3JpYmVfc3RhdHNcIixlLlNVQlNDUklCRV9SRUxBVEVEX1NUQVRTPVwic3Vic2NyaWJlX3JlbGF0ZWRfc3RhdHNcIixlLldTX0lORkxBVEVfREFUQV9MRU5HVEg9XCJ3c19pbmZsYXRlX2RhdGFfbGVuZ3RoXCIsZS5ERU5PSVNFUl9TVEFUUz1cImRlbm9pc2VyX3N0YXRzXCIsZS5UUkFOU1BPUlRfU1RBVFM9XCJ0cmFuc3BvcnRfc3RhdHNcIixlLkVYVEVOU0lPTl9VU0FHRV9TVEFUUz1cImV4dGVuc2lvbl91c2FnZV9zdGF0c1wifShndnx8KGd2PXt9KSksZnVuY3Rpb24oZSl7ZS5PTl9VU0VSX09OTElORT1cIm9uX3VzZXJfb25saW5lXCIsZS5PTl9VU0VSX09GRkxJTkU9XCJvbl91c2VyX29mZmxpbmVcIixlLk9OX1NUUkVBTV9GQUxMQkFDS19VUERBVEU9XCJvbl9zdHJlYW1fZmFsbGJhY2tfdXBkYXRlXCIsZS5PTl9QVUJMSVNIX1NUUkVBTT1cIm9uX3B1Ymxpc2hfc3RyZWFtXCIsZS5PTl9VUExJTktfU1RBVFM9XCJvbl91cGxpbmtfc3RhdHNcIixlLk9OX1AyUF9MT1NUPVwib25fcDJwX2xvc3RcIixlLk9OX1JFTU9WRV9TVFJFQU09XCJvbl9yZW1vdmVfc3RyZWFtXCIsZS5PTl9BRERfQVVESU9fU1RSRUFNPVwib25fYWRkX2F1ZGlvX3N0cmVhbVwiLGUuT05fQUREX1ZJREVPX1NUUkVBTT1cIm9uX2FkZF92aWRlb19zdHJlYW1cIixlLk9OX1RPS0VOX1BSSVZJTEVHRV9XSUxMX0VYUElSRT1cIm9uX3Rva2VuX3ByaXZpbGVnZV93aWxsX2V4cGlyZVwiLGUuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkU9XCJvbl90b2tlbl9wcml2aWxlZ2VfZGlkX2V4cGlyZVwiLGUuT05fVVNFUl9CQU5ORUQ9XCJvbl91c2VyX2Jhbm5lZFwiLGUuT05fVVNFUl9MSUNFTlNFX0JBTk5FRD1cIm9uX3VzZXJfbGljZW5zZV9iYW5uZWRcIixlLk9OX05PVElGSUNBVElPTj1cIm9uX25vdGlmaWNhdGlvblwiLGUuT05fQ1JZUFRfRVJST1I9XCJvbl9jcnlwdF9lcnJvclwiLGUuTVVURV9BVURJTz1cIm11dGVfYXVkaW9cIixlLk1VVEVfVklERU89XCJtdXRlX3ZpZGVvXCIsZS5VTk1VVEVfQVVESU89XCJ1bm11dGVfYXVkaW9cIixlLlVOTVVURV9WSURFTz1cInVubXV0ZV92aWRlb1wiLGUuT05fUDJQX09LPVwib25fcDJwX29rXCIsZS5SRUNFSVZFX01FVEFEQVRBPVwicmVjZWl2ZV9tZXRhZGF0YVwiLGUuT05fREFUQV9TVFJFQU09XCJvbl9kYXRhX3N0cmVhbVwiLGUuT05fUkVNT1RFX0RBVEFTVFJFQU1fVVBEQVRFPVwib25fcmVtb3RlX2RhdGFzdHJlYW1fdXBkYXRlXCIsZS5PTl9SRU1PVEVfRlVMTF9EQVRBU1RSRUFNX0lORk89XCJvbl9yZW1vdGVfZnVsbF9kYXRhc3RyZWFtX2luZm9cIixlLkVOQUJMRV9MT0NBTF9WSURFTz1cImVuYWJsZV9sb2NhbF92aWRlb1wiLGUuRElTQUJMRV9MT0NBTF9WSURFTz1cImRpc2FibGVfbG9jYWxfdmlkZW9cIixlLkVOQUJMRV9MT0NBTF9BVURJTz1cImVuYWJsZV9sb2NhbF9hdWRpb1wiLGUuRElTQUJMRV9MT0NBTF9BVURJTz1cImRpc2FibGVfbG9jYWxfYXVkaW9cIixlLk9OX1BVQkxJU0hFRF9VU0VSX0xJU1Q9XCJvbl9wdWJsaXNoZWRfdXNlcl9saXN0XCJ9KFN2fHwoU3Y9e30pKSxmdW5jdGlvbihlKXtlLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFPVwiQ09OTkVDVElPTl9TVEFURV9DSEFOR0VcIixlLk5FRURfQU5TV0VSPVwiTkVFRF9BTlNXRVJcIixlLk5FRURfUkVORUdPVElBVEU9XCJORUVEX1JFTkVHT1RJQVRFXCIsZS5QMlBfTE9TVD1cIlAyUF9MT1NUXCIsZS5HQVRFV0FZX1AyUF9MT1NUPVwiR0FURVdBWV9QMlBfTE9TVFwiLGUuTkVFRF9VTlBVQj1cIk5FRURfVU5QVUJcIixlLk5FRURfVU5TVUI9XCJORUVEX1VOU1VCXCIsZS5ORUVEX1VQTE9BRD1cIk5FRURfVVBMT0FEXCIsZS5ORUVEX0NPTlRST0w9XCJORUVEX0NPTlRST0xcIixlLlNUQVJUX1JFQ09OTkVDVD1cIlNUQVJUX1JFQ09OTkVDVFwiLGUuRU5EX1JFQ09OTkVDVD1cIkVORF9SRUNPTk5FQ1RcIixlLk5FRURfU0lHTkFMX1JUVD1cIk5FRURfU0lHTkFMX1JUVFwifShUdnx8KFR2PXt9KSksZnVuY3Rpb24oZSl7ZS5TRU5EX09OTFk9XCJTRU5EX09OTFlcIixlLlJFQ0VJVkVfT05MWT1cIlJFQ0VJVkVfT05MWVwifShSdnx8KFJ2PXt9KSksZnVuY3Rpb24oZSl7ZS5DT05ORUNURUQ9XCJ3ZWJzb2NrZXQ6Y29ubmVjdGVkXCIsZS5SRUNPTk5FQ1RJTkc9XCJ3ZWJzb2NrZXQ6cmVjb25uZWN0aW5nXCIsZS5XSUxMX1JFQ09OTkVDVD1cIndlYnNvY2tldDp3aWxsX3JlY29ubmVjdFwiLGUuQ0xPU0VEPVwid2Vic29ja2V0OmNsb3NlZFwiLGUuRkFJTEVEPVwid2Vic29ja2V0OmZhaWxlZFwiLGUuT05fTUVTU0FHRT1cIndlYnNvY2tldDpvbl9tZXNzYWdlXCIsZS5SRVFVRVNUX05FV19VUkxTPVwid2Vic29ja2V0OnJlcXVlc3RfbmV3X3VybHNcIixlLlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0g9XCJ3ZWJzb2NrZXQ6cmVjb25uZWN0X3dhaXR0aW5nX2ZpbmlzaFwiLGUuUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OPVwid2Vic29ja2V0OnJlY29ubmVjdF9jcmVhdGVfY29ubmVjdGlvblwiLGUuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkU9XCJ3ZWJzb2NrZXQ6b25fdG9rZW5fcHJpdmlsZWdlX2RpZF9leHBpcmVcIn0oQ3Z8fChDdj17fSkpO2NsYXNzIE12IGV4dGVuZHMgVmd7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJcIixhcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCksbnUodGhpcyxcIm5hbWVcIixcIkFnb3JhUlRDRXhjZXB0aW9uXCIpfXByaW50KCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwiZXJyb3JcIjtyZXR1cm4gc3VwZXIucHJpbnQoZSxXQyl9dGhyb3coKXtzdXBlci50aHJvdyhXQyl9fWZ1bmN0aW9uIFV2KGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlfHwhL15bYS16QS1aMC05IFxcIVxcI1xcJFxcJVxcJlxcKFxcKVxcK1xcLVxcOlxcO1xcPFxcPVxcLlxcPlxcP1xcQFxcW1xcXVxcXlxcX1xce1xcfVxcfFxcflxcLF17MSw2NH0kLy50ZXN0KGUpKXRocm93IFdDLmVycm9yKFwiSW52YWxpZCBDaGFubmVsIE5hbWUgXCIuY29uY2F0KGUpKSxuZXcgTXYoeGcuSU5WQUxJRF9QQVJBTVMsXCJUaGUgbGVuZ3RoIG11c3QgYmUgd2l0aGluIDY0IGJ5dGVzLiBUaGUgc3VwcG9ydGVkIGNoYXJhY3RlcnM6IGEteixBLVosMC05LHNwYWNlLCEsICMsICQsICUsICYsICgsICksICssIC0sIDosIDssIDwsID0sIC4sID4sID8sIEAsIFssIF0sIF4sIF8sICB7LCB9LCB8LCB+LCAsXCIpfWZ1bmN0aW9uIHh2KGUpe2lmKCEodD1lLFwibnVtYmVyXCI9PXR5cGVvZiB0JiZNYXRoLmZsb29yKHQpPT09dCYmMDw9dCYmdDw9NDI5NDk2NzI5NXx8WWcoZSwxLDI1NSkpKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX1BBUkFNUyxcIltTdHJpbmcgdWlkXSBMZW5ndGggb2YgdGhlIHN0cmluZzogWzEsMjU1XS4gQVNDSUkgY2hhcmFjdGVycyBvbmx5LiBbTnVtYmVyIHVpZF0gVGhlIHZhbHVlIHJhbmdlIGlzIFswLDEwMDAwXVwiKTt2YXIgdDtcInN0cmluZ1wiPT10eXBlb2YgZSYmV0Mud2FybihcIllvdSBpbnB1dCBhIHN0cmluZyBhcyB0aGUgdXNlciBJRCwgdG8gZW5zdXJlIGJldHRlciBlbmQtdXNlciBleHBlcmllbmNlLCBBZ29yYSBoaWdobHkgc3VnZ2VzdHMgbm90IHVzaW5nIGEgc3RyaW5nIGFzIHRoZSB1c2VyIElELlwiKX0hZnVuY3Rpb24oZSl7ZS5UUkFOU0NPREU9XCJtaXhfc3RyZWFtaW5nXCIsZS5SQVc9XCJyYXdfc3RyZWFtaW5nXCIsZS5JTkpFQ1Q9XCJpbmplY3Rfc3RyZWFtaW5nXCJ9KHZ2fHwodnY9e30pKSxmdW5jdGlvbihlKXtlW2UuSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RBUlRfU1VDQ0VTUz0wXT1cIklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUQVJUX1NVQ0NFU1NcIixlW2UuSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RBUlRfQUxSRUFEWV9FWElTVFM9MV09XCJJTkpFQ1RfU1RSRUFNX1NUQVRVU19TVEFSVF9BTFJFQURZX0VYSVNUU1wiLGVbZS5JTkpFQ1RfU1RSRUFNX1NUQVRVU19TVEFSVF9VTkFVVEhPUklaRUQ9Ml09XCJJTkpFQ1RfU1RSRUFNX1NUQVRVU19TVEFSVF9VTkFVVEhPUklaRURcIixlW2UuSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RBUlRfVElNRU9VVD0zXT1cIklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUQVJUX1RJTUVPVVRcIixlW2UuSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RBUlRfRkFJTEVEPTRdPVwiSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RBUlRfRkFJTEVEXCIsZVtlLklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUT1BfU1VDQ0VTUz01XT1cIklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUT1BfU1VDQ0VTU1wiLGVbZS5JTkpFQ1RfU1RSRUFNX1NUQVRVU19TVE9QX05PVF9GT1VORD02XT1cIklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUT1BfTk9UX0ZPVU5EXCIsZVtlLklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUT1BfVU5BVVRIT1JJWkVEPTddPVwiSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RPUF9VTkFVVEhPUklaRURcIixlW2UuSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RPUF9USU1FT1VUPThdPVwiSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RPUF9USU1FT1VUXCIsZVtlLklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUT1BfRkFJTEVEPTldPVwiSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RPUF9GQUlMRURcIixlW2UuSU5KRUNUX1NUUkVBTV9TVEFUVVNfQlJPS0VOPTEwXT1cIklOSkVDVF9TVFJFQU1fU1RBVFVTX0JST0tFTlwifShJdnx8KEl2PXt9KSk7Y29uc3QgVnY9e2FscGhhOjEsaGVpZ2h0OjY0MCx3aWR0aDozNjAseDowLHk6MCx6T3JkZXI6MCxhdWRpb0NoYW5uZWw6MH0sRnY9e3g6MCx5OjAsd2lkdGg6MTYwLGhlaWdodDoxNjAsek9yZGVyOjI1NSxhbHBoYToxfTtmdW5jdGlvbiBCdihlLHQpe1dnKGUudXJsLFwiXCIuY29uY2F0KHQsXCIudXJsXCIpLDEsMWUzLCExKSxLZyhlLngpfHxqZyhlLngsXCJcIi5jb25jYXQodCxcIi54XCIpLDAsMWU0KSxLZyhlLnkpfHxqZyhlLnksXCJcIi5jb25jYXQodCxcIi55XCIpLDAsMWU0KSxLZyhlLndpZHRoKXx8amcoZS53aWR0aCxcIlwiLmNvbmNhdCh0LFwiLndpZHRoXCIpLDAsMWU0KSxLZyhlLmhlaWdodCl8fGpnKGUuaGVpZ2h0LFwiXCIuY29uY2F0KHQsXCIuaGVpZ2h0XCIpLDAsMWU0KSxLZyhlLnpPcmRlcil8fGpnKGUuek9yZGVyLFwiXCIuY29uY2F0KHQsXCIuek9yZGVyXCIpLDAsMjU1KSxLZyhlLmFscGhhKXx8amcoZS5hbHBoYSxcIlwiLmNvbmNhdCh0LFwiLmFscGhhXCIpLDAsMSwhMSl9Y29uc3QganY9e2F1ZGlvQml0cmF0ZTo0OCxhdWRpb0NoYW5uZWxzOjEsYXVkaW9TYW1wbGVSYXRlOjQ4ZTMsYmFja2dyb3VuZENvbG9yOjAsaGVpZ2h0OjM2MCxsb3dMYXRlbmN5OiExLHZpZGVvQml0cmF0ZTo0MDAsdmlkZW9Db2RlY1Byb2ZpbGU6MTAwLHZpZGVvQ29kZWNUeXBlOjEsdmlkZW9GcmFtZVJhdGU6MTUsdmlkZW9Hb3A6MzAsd2lkdGg6NjQwLGltYWdlczpbXSx1c2VyQ29uZmlnczpbXSx1c2VyQ29uZmlnRXh0cmFJbmZvOlwiXCJ9LEd2PXthdWRpb0JpdHJhdGU6NDgsYXVkaW9DaGFubmVsczoyLGF1ZGlvVm9sdW1lOjEwMCxhdWRpb1NhbXBsZVJhdGU6NDhlMyxoZWlnaHQ6MCx3aWR0aDowLHZpZGVvQml0cmF0ZTo0MDAsdmlkZW9GcmFtZXJhdGU6MTUsdmlkZW9Hb3A6MzB9O3ZhciBXdixIdixLdixZdixxdixKdix6dixYdixRdixadiwkdixlSSx0SSxpSTtmdW5jdGlvbiBuSShlKXtpZighZS5jaGFubmVsTmFtZSl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9QQVJBTVMsXCJpbnZhbGlkIGNoYW5uZWxOYW1lIGluIGluZm9cIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUudWlkKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX1BBUkFNUyxcImludmFsaWQgdWlkIGluIGluZm8sIHVpZCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiBlLnRva2VuJiZXZyhlLnRva2VuLFwiaW5mby50b2tlblwiLDEsMjA0NykseHYoZS51aWQpLFV2KGUuY2hhbm5lbE5hbWUpLCEwfSFmdW5jdGlvbihlKXtlLldBUk5JTkc9XCJAbGl2ZV91YXAtd2FybmluZ1wiLGUuRVJST1I9XCJAbGluZV91YXAtZXJyb3JcIixlLlBVQkxJU0hfU1RSRUFNX1NUQVRVUz1cIkBsaXZlX3VhcC1wdWJsaXNoLXN0YXR1c1wiLGUuSU5KRUNUX1NUUkVBTV9TVEFUVVM9XCJAbGl2ZV91YXAtaW5qZWN0LXN0YXR1c1wiLGUuV09SS0VSX1NUQVRVUz1cIkBsaXZlX3VhcC13b3JrZXItc3RhdHVzXCIsZS5SRVFVRVNUX05FV19BRERSRVNTPVwiQGxpdmVfdWFwLXJlcXVlc3QtYWRkcmVzc1wifShXdnx8KFd2PXt9KSksZnVuY3Rpb24oZSl7ZS5SRVFVRVNUX1dPUktFUl9NQU5BR0VSX0xJU1Q9XCJAbGl2ZV9yZXFfd29ya2VyX21hbmFnZXJcIn0oSHZ8fChIdj17fSkpLGZ1bmN0aW9uKGUpe2VbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9TVUNDRUVEPTIwMF09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9TVUNDRUVEXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0FMUkVBRFlfRVhJU1RTX1NUUkVBTT00NTRdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfQUxSRUFEWV9FWElTVFNfU1RSRUFNXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1RSQU5TQ09ESU5HX1BBUkFNRVRFUl9FUlJPUj00NTBdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfVFJBTlNDT0RJTkdfUEFSQU1FVEVSX0VSUk9SXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0JBRF9TVFJFQU09NDUxXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX0JBRF9TVFJFQU1cIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fUEFSQU1FVEVSX0VSUk9SPTQwMF09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9QQVJBTUVURVJfRVJST1JcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fV09SS0VSX05PVF9FWElTVD00MDRdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fV09SS0VSX05PVF9FWElTVFwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfQVVUSE9SSVpFRD00NTZdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0FVVEhPUklaRURcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfRkFJTEVEX0xPQURfSU1BR0U9NDU3XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX0ZBSUxFRF9MT0FEX0lNQUdFXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFUVVFU1RfVE9PX09GVEVOPTQyOV09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9SRVFVRVNUX1RPT19PRlRFTlwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfRk9VTkRfUFVCTElTSD00NTJdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0ZPVU5EX1BVQkxJU0hcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX1NVUFBPUlRFRD00NTNdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX1NVUFBPUlRFRFwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9NQVhfU1RSRUFNX05VTT00NTVdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfTUFYX1NUUkVBTV9OVU1cIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfSU5URVJOQUxfU0VSVkVSX0VSUk9SPTUwMF09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9JTlRFUk5BTF9TRVJWRVJfRVJST1JcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX0xPU1Q9NTAxXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9MT1NUXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFU09VUkNFX0xJTUlUPTUwMl09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9SRVNPVVJDRV9MSU1JVFwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfUVVJVD01MDNdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX1FVSVRcIixlW2UuRVJST1JfRkFJTF9TRU5EX01FU1NBR0U9NTA0XT1cIkVSUk9SX0ZBSUxfU0VORF9NRVNTQUdFXCIsZVtlLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0hBTkRTSEFLRT0zMF09XCJQVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9IQU5EU0hBS0VcIixlW2UuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfQ09OTkVDVD0zMV09XCJQVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9DT05ORUNUXCIsZVtlLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX1BVQkxJU0g9MzJdPVwiUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfUFVCTElTSFwiLGVbZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUFVCTElTSF9CUk9LRU49MzNdPVwiUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1BVQkxJU0hfQlJPS0VOXCJ9KEt2fHwoS3Y9e30pKSxmdW5jdGlvbihlKXtlLkNPTk5FQ1RfRkFJTEVEPVwiY29ubmVjdCBmYWlsZWRcIixlLkNPTk5FQ1RfVElNRU9VVD1cImNvbm5lY3QgdGltZW91dFwiLGUuV1NfRElTQ09OTkVDVEVEPVwid2Vic29ja2V0IGRpc2Nvbm5lY3RlZFwiLGUuUkVRVUVTVF9USU1FT1VUPVwicmVxdWVzdCB0aW1lb3V0XCIsZS5SRVFVRVNUX0ZBSUxFRD1cInJlcXVlc3QgZmFpbGVkXCIsZS5XQUlUX1NUQVRVU19USU1FT1VUPVwid2FpdCBzdGF0dXMgdGltZW91dFwiLGUuV0FJVF9TVEFUVVNfRVJST1I9XCJ3YWl0IHN0YXR1cyBlcnJvclwiLGUuQkFEX1NUQVRFPVwiYmFkIHN0YXRlXCIsZS5XU19BQk9SVD1cIndzIGFib3J0XCIsZS5BUF9SRVFVRVNUX1RJTUVPVVQ9XCJBUCByZXF1ZXN0IHRpbWVvdXRcIixlLkFQX0pTT05fUEFSU0VfRVJST1I9XCJBUCBqc29uIHBhcnNlIGVycm9yXCIsZS5BUF9SRVFVRVNUX0VSUk9SPVwiQVAgcmVxdWVzdCBlcnJvclwiLGUuQVBfUkVRVUVTVF9BQk9SVD1cIkFQIHJlcXVlc3QgYWJvcnRcIn0oWXZ8fChZdj17fSkpLGZ1bmN0aW9uKGUpe2VbZS5TZXRTZGtQcm9maWxlPTBdPVwiU2V0U2RrUHJvZmlsZVwiLGVbZS5TZXRTb3VyY2VDaGFubmVsPTFdPVwiU2V0U291cmNlQ2hhbm5lbFwiLGVbZS5TZXRTb3VyY2VVc2VySWQ9Ml09XCJTZXRTb3VyY2VVc2VySWRcIixlW2UuU2V0RGVzdENoYW5uZWw9M109XCJTZXREZXN0Q2hhbm5lbFwiLGVbZS5TdGFydFBhY2tldFRyYW5zZmVyPTRdPVwiU3RhcnRQYWNrZXRUcmFuc2ZlclwiLGVbZS5TdG9wUGFja2V0VHJhbnNmZXI9NV09XCJTdG9wUGFja2V0VHJhbnNmZXJcIixlW2UuVXBkYXRlRGVzdENoYW5uZWw9Nl09XCJVcGRhdGVEZXN0Q2hhbm5lbFwiLGVbZS5SZWNvbm5lY3Q9N109XCJSZWNvbm5lY3RcIixlW2UuU2V0VmlkZW9Qcm9maWxlPThdPVwiU2V0VmlkZW9Qcm9maWxlXCJ9KHF2fHwocXY9e30pKSxmdW5jdGlvbihlKXtlLk5FVFdPUktfRElTQ09OTkVDVEVEPVwiTkVUV09SS19ESVNDT05ORUNURURcIixlLk5FVFdPUktfQ09OTkVDVEVEPVwiTkVUV09SS19DT05ORUNURURcIixlLlBBQ0tFVF9KT0lORURfU1JDX0NIQU5ORUw9XCJQQUNLRVRfSk9JTkVEX1NSQ19DSEFOTkVMXCIsZS5QQUNLRVRfSk9JTkVEX0RFU1RfQ0hBTk5FTD1cIlBBQ0tFVF9KT0lORURfREVTVF9DSEFOTkVMXCIsZS5QQUNLRVRfU0VOVF9UT19ERVNUX0NIQU5ORUw9XCJQQUNLRVRfU0VOVF9UT19ERVNUX0NIQU5ORUxcIixlLlBBQ0tFVF9SRUNFSVZFRF9WSURFT19GUk9NX1NSQz1cIlBBQ0tFVF9SRUNFSVZFRF9WSURFT19GUk9NX1NSQ1wiLGUuUEFDS0VUX1JFQ0VJVkVEX0FVRElPX0ZST01fU1JDPVwiUEFDS0VUX1JFQ0VJVkVEX0FVRElPX0ZST01fU1JDXCIsZS5QQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTD1cIlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMXCIsZS5QQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTF9SRUZVU0VEPVwiUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUxfUkVGVVNFRFwiLGUuUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUxfTk9UX0NIQU5HRT1cIlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMX05PVF9DSEFOR0VcIn0oSnZ8fChKdj17fSkpLGZ1bmN0aW9uKGUpe2UuUkVMQVlfU1RBVEVfSURMRT1cIlJFTEFZX1NUQVRFX0lETEVcIixlLlJFTEFZX1NUQVRFX0NPTk5FQ1RJTkc9XCJSRUxBWV9TVEFURV9DT05ORUNUSU5HXCIsZS5SRUxBWV9TVEFURV9SVU5OSU5HPVwiUkVMQVlfU1RBVEVfUlVOTklOR1wiLGUuUkVMQVlfU1RBVEVfRkFJTFVSRT1cIlJFTEFZX1NUQVRFX0ZBSUxVUkVcIn0oenZ8fCh6dj17fSkpLGZ1bmN0aW9uKGUpe2UuUkVMQVlfT0s9XCJSRUxBWV9PS1wiLGUuU0VSVkVSX0NPTk5FQ1RJT05fTE9TVD1cIlNFUlZFUl9DT05ORUNUSU9OX0xPU1RcIixlLlNSQ19UT0tFTl9FWFBJUkVEPVwiU1JDX1RPS0VOX0VYUElSRURcIixlLkRFU1RfVE9LRU5fRVhQSVJFRD1cIkRFU1RfVE9LRU5fRVhQSVJFRFwifShYdnx8KFh2PXt9KSksZnVuY3Rpb24oZSl7ZS5IaWdoPVwiaGlnaFwiLGUuTG93PVwibG93XCIsZS5BdWRpbz1cImF1ZGlvXCIsZS5TY3JlZW49XCJzY3JlZW5cIixlLlNjcmVlbkxvdz1cInNjcmVlbl9sb3dcIn0oUXZ8fChRdj17fSkpLGZ1bmN0aW9uKGUpe2UuRElTQ09OTkVDVD1cImRpc2Nvbm5lY3RcIixlLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFPVwiY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIixlLk5FVFdPUktfUVVBTElUWT1cIm5ldHdvcmstcXVhbGl0eVwiLGUuU1RSRUFNX1RZUEVfQ0hBTkdFPVwic3RyZWFtLXR5cGUtY2hhbmdlXCIsZS5JU19QMlBfRElTQ09OTkVDVEVEPVwiaXMtcDJwLWRpc1wiLGUuRElTQ09OTkVDVF9QMlA9XCJkaXMtcDJwXCIsZS5SRVFVRVNUX05FV19HQVRFV0FZX0xJU1Q9XCJyZXEtZ2F0ZS11cmxcIixlLk5FRURfUkVORVdfU0VTU0lPTj1cIm5lZWQtc2lkXCIsZS5SRVFVRVNUX1AyUF9DT05ORUNUSU9OX1BBUkFNUz1cInJlcXVlc3QtcDJwLWNvbm5lY3Rpb24tcGFyYW1zXCIsZS5KT0lOX1JFU1BPTlNFPVwiam9pbi1yZXNwb25zZVwiLGUuUkVRVUVTVF9EQ19DT05ORUNUSU9OX1BBUkFNUz1cInJlcXVlc3QtZGMtY29ubmVjdGlvbi1wYXJhbXNcIixlLlJFU0VUX0NPTk5FQ1RJT05fRVZFTlRTPVwicmVzZXQtY29ubmVjdGlvbi1ldmVudHNcIixlLkRBVEFDSEFOTkVMX1BSRUNPTk5FQ1Q9XCJkYXRhY2hhbm5lbF9wcmVjb25uZWN0XCIsZS5EQVRBQ0hBTk5FTF9GQUlMQkFDSz1cImRhdGFjaGFubmVsX2ZhaWxiYWNrXCIsZS5SRVNFVF9TSUdOQUw9XCJyZXNldC1zaWduYWxcIn0oWnZ8fChadj17fSkpLGZ1bmN0aW9uKGUpe2UuUDJQX0RJU0NPTk5FQ1RFRD1cIlAyUF9ESVNDT05ORUNURURcIixlLkFfUk9VTkRfV1NfRkFJTEVEPVwiQV9ST1VORF9XU19GQUlMRURcIixlLlRJTUVPVVQ9XCJUSU1FT1VUXCIsZS5VTktOT1dOX1JFQVNPTj1cIlVOS05PV05fUkVBU09OXCJ9KCR2fHwoJHY9e30pKSxmdW5jdGlvbihlKXtlW2UuTm90aGluZz0wXT1cIk5vdGhpbmdcIixlW2UuQXVkaW89MV09XCJBdWRpb1wiLGVbZS5Md29WaWRlbz0yXT1cIkx3b1ZpZGVvXCIsZVtlLlZpZGVvPTRdPVwiVmlkZW9cIixlW2UuRGF0YT04XT1cIkRhdGFcIixlW2UuRGF0YVN0cmVhbTA9MjU2XT1cIkRhdGFTdHJlYW0wXCIsZVtlLkRhdGFTdHJlYW0xPTUxMl09XCJEYXRhU3RyZWFtMVwiLGVbZS5EYXRhU3RyZWFtMj0xMDI0XT1cIkRhdGFTdHJlYW0yXCIsZVtlLkRhdGFTdHJlYW0zPTIwNDhdPVwiRGF0YVN0cmVhbTNcIixlW2UuRGF0YVN0cmVhbTQ9NDA5Nl09XCJEYXRhU3RyZWFtNFwiLGVbZS5EYXRhU3RyZWFtNT04MTkyXT1cIkRhdGFTdHJlYW01XCIsZVtlLkRhdGFTdHJlYW02PTE2Mzg0XT1cIkRhdGFTdHJlYW02XCIsZVtlLkRhdGFTdHJlYW03PTMyNzY4XT1cIkRhdGFTdHJlYW03XCJ9KGVJfHwoZUk9e30pKSxmdW5jdGlvbihlKXtlW2Uud2Vic29ja2V0PTBdPVwid2Vic29ja2V0XCIsZVtlLmRhdGFjaGFubmVsPTFdPVwiZGF0YWNoYW5uZWxcIn0odEl8fCh0ST17fSkpLGZ1bmN0aW9uKGUpe2UuQ0hJTkE9XCJDSElOQVwiLGUuQVNJQT1cIkFTSUFcIixlLk5PUlRIX0FNRVJJQ0E9XCJOT1JUSF9BTUVSSUNBXCIsZS5FVVJPUEU9XCJFVVJPUEVcIixlLkpBUEFOPVwiSkFQQU5cIixlLklORElBPVwiSU5ESUFcIixlLktPUkVBPVwiS09SRUFcIixlLkhLTUM9XCJIS01DXCIsZS5VUz1cIlVTXCIsZS5PQ0VBTklBPVwiT0NFQU5JQVwiLGUuU09VVEhfQU1FUklDQT1cIlNPVVRIX0FNRVJJQ0FcIixlLkFGUklDQT1cIkFGUklDQVwiLGUuT1ZFUlNFQT1cIk9WRVJTRUFcIixlLkdMT0JBTD1cIkdMT0JBTFwiLGUuRVhURU5TSU9OUz1cIkVYVEVOU0lPTlNcIn0oaUl8fChpST17fSkpO2NvbnN0IHJJPVtpSS5BRlJJQ0EsaUkuQVNJQSxpSS5DSElOQSxpSS5FVVJPUEUsaUkuR0xPQkFMLGlJLklORElBLGlJLkpBUEFOLGlJLk5PUlRIX0FNRVJJQ0EsaUkuT0NFQU5JQSxpSS5PVkVSU0VBLGlJLlNPVVRIX0FNRVJJQ0FdO3ZhciBzSTshZnVuY3Rpb24oZSl7ZS5DSElOQT1cIkNOXCIsZS5BU0lBPVwiQVNcIixlLk5PUlRIX0FNRVJJQ0E9XCJOQVwiLGUuRVVST1BFPVwiRVVcIixlLkpBUEFOPVwiSlBcIixlLklORElBPVwiSU5cIixlLktPUkVBPVwiS1JcIixlLkhLTUM9XCJIS1wiLGUuVVM9XCJVU1wiLGUuT0NFQU5JQT1cIk9DXCIsZS5TT1VUSF9BTUVSSUNBPVwiU0FcIixlLkFGUklDQT1cIkFGXCIsZS5PVkVSU0VBPVwiT1ZFUlNFQVwiLGUuR0xPQkFMPVwiR0xPQkFMXCIsZS5FWFRFTlNJT05TPVwiR0xPQkFMXCJ9KHNJfHwoc0k9e30pKTtjb25zdCBvST17Q0hJTkE6e30sQVNJQTp7Q09ERTpzSS5BU0lBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1hc2lhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1hc2lhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1hc2lhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWFzaWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYXNpYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWFzaWEuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItYXNpYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItYXNpYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hc2lhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtYXNpYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWFzaWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1hc2lhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJzb3V0aGVhc3QtYXNpYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sTk9SVEhfQU1FUklDQTp7Q09ERTpzSS5OT1JUSF9BTUVSSUNBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJlYXN0LXVzYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sRVVST1BFOntDT0RFOnNJLkVVUk9QRSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtZXVyb3BlLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1ldXJvcGUuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWV1cm9wZS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1ldXJvcGUuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItZXVyb3BlMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItZXVyb3BlLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWV1cm9wZS5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1ldXJvcGUuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItZXVyb3BlMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtZXVyb3BlLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItZXVyb3BlLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtZXVyb3BlLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJldXJvcGUud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEpBUEFOOntDT0RFOnNJLkpBUEFOLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1qYXBhbi5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItamFwYW4uYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWphcGFuLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWphcGFuLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWphcGFuMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItamFwYW4uYWdvcmEuaW9cIixcInN1YS1hcC13ZWItamFwYW4yLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWphcGFuLmFnb3JhLmlvXCIsXCJcXHR1YXAtYXAtd2ViLWphcGFuMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtamFwYW4uYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1qYXBhbi5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLWphcGFuLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJqYXBhbi53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sSU5ESUE6e0NPREU6c0kuSU5ESUEsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWluZGlhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1pbmRpYS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItaW5kaWEyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1pbmRpYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1pbmRpYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItaW5kaWEyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1pbmRpYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWluZGlhLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtaW5kaWEuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcImluZGlhLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxLT1JFQTp7Q09ERTpzSS5LT1JFQSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEta29yZWEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLWtvcmVhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1rb3JlYS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1rb3JlYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1rb3JlYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWtvcmVhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWtvcmVhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1rb3JlYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1rb3JlYTIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWtvcmVhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTIta29yZWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1rb3JlYS5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wia29yZWEud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEhLTUM6e0NPREU6c0kuSEtNQyxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtaGttYy5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItaGttYy5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItaGttYy5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1oa21jLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWhrbWMyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1oa21jLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWhrbWMyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWhrbWMuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItaGttYzIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWhrbWMuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1oa21jLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtaGttYy5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wiaGttYy53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sVVM6e0NPREU6c0kuVVMsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLXVzLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi11cy5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItdXMuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItdXMuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItdXMyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi11cy5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi11czIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItdXMuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItdXMyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS11cy5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLXVzLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtdXMuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcInVzLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxPVkVSU0VBOntDT0RFOnNJLk9WRVJTRUEsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLW92ZXJzZWEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLW92ZXJzZWEuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1vdmVyc2VhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1vdmVyc2VhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItb3ZlcnNlYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLW92ZXJzZWEuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcIndlYnJ0Yy1jbG91ZC1wcm94eS5hZ29yYS5pb1wiXX0sR0xPQkFMOntDT0RFOnNJLkdMT0JBTCxXRUJDU19ET01BSU46W1wid2VicnRjMi1hcC13ZWItMS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wid2VicnRjMi1hcC13ZWItMy5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJhcC1wcm94eS0xLmFnb3JhLmlvXCIsXCJhcC1wcm94eS0yLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLTEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItMy5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItMS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi0zLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLTEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItMy5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJ3ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sT0NFQU5JQTp7Q09ERTpzSS5PQ0VBTklBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1vY2VhbmlhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1vY2VhbmlhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1vY2VhbmlhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLW9jZWFuaWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItb2NlYW5pYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLW9jZWFuaWEuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItb2NlYW5pYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItb2NlYW5pYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1vY2VhbmlhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtb2NlYW5pYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLW9jZWFuaWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1vY2VhbmlhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJvY2VhbmlhLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxTT1VUSF9BTUVSSUNBOntDT0RFOnNJLlNPVVRIX0FNRVJJQ0EsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1zb3V0aC1hbWVyaWNhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1zb3V0aC1hbWVyaWNhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLXNvdXRoLWFtZXJpY2EyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcInNvdXRoLWFtZXJpY2Eud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEFGUklDQTp7Q09ERTpzSS5BRlJJQ0EsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWFmcmljYS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItYWZyaWNhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1hZnJpY2EuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItYWZyaWNhLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWFmcmljYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWFmcmljYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1hZnJpY2EyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWFmcmljYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hZnJpY2EyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1hZnJpY2EuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1hZnJpY2EuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1zb3V0aC1hZnJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcImFmcmljYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sRVhURU5TSU9OUzp7fX07dmFyIGFJLGNJLGRJLGxJLGhJLHVJLHBJLF9JLEVJLG1JLGZJLGdJLFNJLFRJLFJJLENJLHZJLElJLHlJLEFJLGJJLHdJO05DJiYob0kuQ0hJTkE9e0NPREU6c0kuQ0hJTkEsV0VCQ1NfRE9NQUlOOltcIndlYnJ0YzItMi5hcC5zZC1ydG4uY29tXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJ3ZWJydGMyLTQuYXAuc2QtcnRuLmNvbVwiXSxQUk9YWV9DUzpbXCJwcm94eS13ZWIuYXAuc2QtcnRuLmNvbVwiXSxDRFNfQVA6W1wiY2RzLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcImNkcy13ZWItNC5hcC5zZC1ydG4uY29tXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcInN1YS13ZWItNC5hcC5zZC1ydG4uY29tXCJdLFVBUF9BUDpbXCJ1YXAtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwidWFwLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJ3ZWItMy5zdGF0c2NvbGxlY3Rvci5zZC1ydG4uY29tXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcIndlYi00LnN0YXRzY29sbGVjdG9yLnNkLXJ0bi5jb21cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1jaGluYS5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wiZWFzdC1jbi53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0pLGZ1bmN0aW9uKGUpe2UuVVBEQVRFX0JJVFJBVEVfTElNSVQ9XCJ1cGRhdGVfYml0cmF0ZV9saW1pdFwifShhSXx8KGFJPXt9KSk7Y2xhc3MgT0kgZXh0ZW5kcyBpU3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksbnUodGhpcyxcIm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlXCIsdm9pZCAwKSxudSh0aGlzLFwib25Db25uZWN0aW9uU3RhdGVDaGFuZ2VcIix2b2lkIDApLG51KHRoaXMsXCJvbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZVwiLHZvaWQgMCksbnUodGhpcyxcIm9uRFRMU1RyYW5zcG9ydEVycm9yXCIsdm9pZCAwKSxudSh0aGlzLFwib25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZVwiLHZvaWQgMCksbnUodGhpcyxcIm9uRmlyc3RBdWRpb1JlY2VpdmVkXCIsdm9pZCAwKSxudSh0aGlzLFwib25GaXJzdFZpZGVvUmVjZWl2ZWRcIix2b2lkIDApLG51KHRoaXMsXCJvbkZpcnN0QXVkaW9EZWNvZGVkXCIsdm9pZCAwKSxudSh0aGlzLFwib25GaXJzdFZpZGVvRGVjb2RlZFwiLHZvaWQgMCksbnUodGhpcyxcIm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0XCIsdm9pZCAwKSxudSh0aGlzLFwib25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZFwiLHZvaWQgMCksbnUodGhpcyxcIm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkXCIsdm9pZCAwKX19Y2xhc3MgTkkgZXh0ZW5kcyBPSXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCl9fSFmdW5jdGlvbihlKXtlLlNFTkQ9XCJzZW5kb25seVwiLGUuUkVDVj1cInJlY3Zvbmx5XCIsZS5TRU5EUkVDVj1cInNlbmRyZWN2XCIsZS5JTkFDVElWRT1cImluYWN0aXZlXCJ9KGNJfHwoY0k9e30pKSxmdW5jdGlvbihlKXtlLlZJREVPPVwidmlkZW9cIixlLkFVRElPPVwiYXVkaW9cIn0oZEl8fChkST17fSkpLGZ1bmN0aW9uKGUpe2VbZS5VRFA9MF09XCJVRFBcIixlW2UuVENQPTFdPVwiVENQXCIsZVtlLlJFTEFZPTJdPVwiUkVMQVlcIn0obEl8fChsST17fSkpLGZ1bmN0aW9uKGUpe2VbZS5GSVJTVF9DT05ORUNUSU9OPTBdPVwiRklSU1RfQ09OTkVDVElPTlwiLGVbZS5UQ1BfUkVTVEFSVD0xXT1cIlRDUF9SRVNUQVJUXCIsZVtlLlJFTEFZX1JFU1RBUlQ9Ml09XCJSRUxBWV9SRVNUQVJUXCIsZVtlLk9MRF9GSVJTVF9DT05ORUNUSU9OPTEwXT1cIk9MRF9GSVJTVF9DT05ORUNUSU9OXCIsZVtlLk9MRF9SRVNUQVJUPTExXT1cIk9MRF9SRVNUQVJUXCIsZVtlLkRJU0NPTk5FQ1RFRF9PUl9GQUlMRUQ9MjBdPVwiRElTQ09OTkVDVEVEX09SX0ZBSUxFRFwifShoSXx8KGhJPXt9KSksZnVuY3Rpb24oZSl7ZS5Mb2NhbFZpZGVvVHJhY2s9XCJ2aWRlb1RyYWNrXCIsZS5Mb2NhbEF1ZGlvVHJhY2s9XCJhdWRpb1RyYWNrXCIsZS5Mb2NhbFZpZGVvTG93VHJhY2s9XCJ2aWRlb0xvd1RyYWNrXCJ9KHVJfHwodUk9e30pKSxmdW5jdGlvbihlKXtlLk5ldz1cIm5ld1wiLGUuQ29ubmVjdGVkPVwiY29ubmVjdGVkXCIsZS5SZWNvbm5lY3Rpbmc9XCJyZWNvbm5lY3RpbmdcIixlLkRpc2Nvbm5lY3RlZD1cImRpc2Nvbm5lY3RlZFwifShwSXx8KHBJPXt9KSksZnVuY3Rpb24oZSl7ZS5TdGF0ZUNoYW5nZT1cInN0YXRlQ2hhbmdlXCIsZS5JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9XCJpY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2VcIixlLlJlcXVlc3RNdXRlTG9jYWw9XCJyZXF1ZXN0TXV0ZUxvY2FsXCIsZS5SZXF1ZXN0VW5tdXRlTG9jYWw9XCJyZXF1ZXN0VW5tdXRlTG9jYWxcIixlLlJlcXVlc3RSZVB1Ymxpc2g9XCJyZXF1ZXN0UmVQdWJsaXNoXCIsZS5SZXF1ZXN0UmVQdWJsaXNoRGF0YUNoYW5uZWw9XCJyZXF1ZXN0UmVQdWJsaXNoRGF0YUNoYW5uZWxcIixlLlJlcXVlc3RSZVN1YnNjcmliZT1cInJlcXVlc3RSZVN1YnNjcmliZVwiLGUuUmVxdWVzdFVwbG9hZFN0YXRzPVwicmVxdWVzdFVwbG9hZFN0YXRzXCIsZS5NZWRpYVJlY29ubmVjdFN0YXJ0PVwiTWVkaWFSZWNvbm5lY3RTdGFydFwiLGUuTWVkaWFSZWNvbm5lY3RFbmQ9XCJNZWRpYVJlY29ubmVjdEVuZFwiLGUuTmVlZFNpZ25hbFJUVD1cIk5lZWRTaWduYWxSVFRcIixlLlJlcXVlc3RSZXN0YXJ0SUNFPVwiUmVxdWVzdFJlc3RhcnRJY2VcIixlLlBlZXJDb25uZWN0aW9uU3RhdGVDaGFuZ2U9XCJQZWVyQ29ubmVjdGlvblN0YXRlQ2hhbmdlXCIsZS5SZXF1ZXN0UmVjb25uZWN0PVwiUmVxdWVzdFJlY29ubmVjdFwiLGUuUmVxdWVzdFJlY29ubmVjdFBDPVwiUmVxdWVzdFJlY29ubmVjdFBDXCIsZS5SZXF1ZXN0VW5wdWJsaXNoRm9yUmVjb25uZWN0UEM9XCJSZXF1ZXN0VW5wdWJsaXNoRm9yUmVjb25uZWN0UENcIixlLlAyUExvc3Q9XCJQMlBMb3N0XCIsZS5VcGRhdGVWaWRlb0VuY29kZXI9XCJVcGRhdGVWaWRlb0VuY29kZXJcIixlLkNvbm5lY3Rpb25UeXBlQ2hhbmdlPVwiQ29ubmVjdGlvblR5cGVDaGFuZ2VcIixlLlJlcXVlc3RMb3dTdHJlYW1QYXJhbWV0ZXI9XCJSZXF1ZXN0TG93U3RyZWFtUGFyYW1ldGVyXCIsZS5RdWVyeUNsaWVudENvbm5lY3Rpb25TdGF0ZT1cIlF1ZXJ5Q2xpZW50Q29ubmVjdGlvblN0YXRlXCIsZS5Mb2NhbENhbmRpZGF0ZT1cIkxvY2FsQ2FuZGlkYXRlXCIsZS5SZXF1ZXN0UDJQTXV0ZUxvY2FsPVwicmVxdWVzdFAyUE11dGVMb2NhbFwiLGUuUmVxdWVzdFAyUFB1Ymxpc2g9XCJSZXF1ZXN0UDJQUHVibGlzaFwiLGUuUmVxdWVzdFAyUFVuUHVibGlzaD1cIlJlcXVlc3RQMlBVblB1Ymxpc2hcIixlLlJlcXVlc3RQMlBVbm11dGVSZW1vdGU9XCJSZXF1ZXN0UDJQVW5tdXRlUmVtb3RlXCIsZS5SZXF1ZXN0UDJQTXV0ZVJlbW90ZT1cIlJlcXVlc3RQMlBNdXRlUmVtb3RlXCIsZS5SZXF1ZXN0UDJQUmVzdGFydElDRT1cIlJlcXVlc3RQMlBSZXN0YXJ0SUNFXCJ9KF9JfHwoX0k9e30pKSxmdW5jdGlvbihlKXtlLk1VVEVfTE9DQUxfVklERU89XCJtdXRlX2xvY2FsX3ZpZGVvXCIsZS5NVVRFX0xPQ0FMX0FVRElPPVwibXV0ZV9sb2NhbF9hdWRpb1wiLGUuVU5NVVRFX0xPQ0FMX1ZJREVPPVwidW5tdXRlX2xvY2FsX3ZpZGVvXCIsZS5VTk1VVEVfTE9DQUxfQVVESU89XCJ1bm11dGVfbG9jYWxfYXVkaW9cIixlLk1VVEVfUkVNT1RFX1ZJREVPPVwibXV0ZV9yZW1vdGVfdmlkZW9cIixlLk1VVEVfUkVNT1RFX0FVRElPPVwibXV0ZV9yZW1vdGVfYXVkaW9cIixlLlVOTVVURV9SRU1PVEVfVklERU89XCJ1bm11dGVfcmVtb3RlX3ZpZGVvXCIsZS5VTk1VVEVfUkVNT1RFX0FVRElPPVwidW5tdXRlX3JlbW90ZV9hdWRpb1wifShFSXx8KEVJPXt9KSksZnVuY3Rpb24oZSl7ZS5DT05ORUNUSU5HPVwiQ09OTkVDVElOR1wiLGUuUkVDT05ORUNUSU5HPVwiUkVDT05ORUNUSU5HXCIsZS5DT05ORUNURUQ9XCJDT05ORUNURURcIixlLkNMT1NFRD1cIkNMT1NFRFwifShtSXx8KG1JPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkNPTk5FQ1RfQVA9MF09XCJDT05ORUNUX0FQXCIsZVtlLkFQX0NPTk5FQ1RFRD0xXT1cIkFQX0NPTk5FQ1RFRFwiLGVbZS5DT05ORUNUX1dPUktFUl9NQU5BR0VSPTJdPVwiQ09OTkVDVF9XT1JLRVJfTUFOQUdFUlwiLGVbZS5XT1JLRVJfTUFOQUdFUl9DT05ORUNURUQ9M109XCJXT1JLRVJfTUFOQUdFUl9DT05ORUNURURcIixlW2UuR0VUX1dPUktFUl9NQU5BR0VSX1JFU1BPTlNFPTRdPVwiR0VUX1dPUktFUl9NQU5BR0VSX1JFU1BPTlNFXCIsZVtlLkNPTk5FQ1RfV09SS0VSPTVdPVwiQ09OTkVDVF9XT1JLRVJcIixlW2UuV09SS0VSX0NPTk5FQ1RFRD02XT1cIldPUktFUl9DT05ORUNURURcIixlW2UuQ0xPU0VEPTddPVwiQ0xPU0VEXCJ9KGZJfHwoZkk9e30pKSxmdW5jdGlvbihlKXtlLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFPVwiY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIixlLlNUQVRFX0NIQU5HRT1cInN0YXRlLWNoYW5nZVwiLGUuSU5TUEVDVF9SRVNVTFQ9XCJpbnNwZWN0LXJlc3VsdFwiLGUuQ0xJRU5UX0xPQ0FMX1ZJREVPX1RSQUNLPVwiY2xpZW50LWxvY2FsLXZpZGVvLXRyYWNrXCIsZS5SRVFVRVNUX05FV19XT1JLRVJfVVJMPVwicmVxdWVzdC1uZXctd29ya2VyLXVybFwifShnSXx8KGdJPXt9KSksZnVuY3Rpb24oZSl7ZS5ORVRXT1JLX0VSUk9SPVwiTkVUV09SS19FUlJPUlwiLGUuU0VSVkVSX0VSUk9SPVwiU0VSVkVSX0VSUk9SXCIsZS5NVUxUSV9JUD1cIk1VTFRJX0lQXCIsZS5USU1FT1VUPVwiVElNRU9VVFwiLGUuT0ZGTElORT1cIk9GRkxJTkVcIixlLkxFQVZFPVwiTEVBVkVcIixlLlAyUF9GQUlMRUQ9XCJQMlBfRkFJTEVEXCIsZS5GQUxMQkFDSz1cIkZBTExCQUNLXCJ9KFNJfHwoU0k9e30pKSxmdW5jdGlvbihlKXtlLkNPTk5FQ1RFRD1cInRyYW5zbWl0dGVyOmNvbm5lY3RlZFwiLGUuUkVDT05ORUNUSU5HPVwidHJhbnNtaXR0ZXI6cmVjb25uZWN0aW5nXCIsZS5XSUxMX1JFQ09OTkVDVD1cInRyYW5zbWl0dGVyOndpbGxfcmVjb25uZWN0XCIsZS5DTE9TRUQ9XCJ0cmFuc21pdHRlcjpjbG9zZWRcIixlLkZBSUxFRD1cInRyYW5zbWl0dGVyOmZhaWxlZFwiLGUuT05fTUVTU0FHRT1cInRyYW5zbWl0dGVyOm9uX21lc3NhZ2VcIixlLlJFUVVFU1RfTkVXX1VSTFM9XCJ0cmFuc21pdHRlcjpyZXF1ZXN0X25ld191cmxzXCIsZS5SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNIPVwidHJhbnNtaXR0ZXI6cmVjb25uZWN0X3dhaXR0aW5nX2ZpbmlzaFwiLGUuUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OPVwidHJhbnNtaXR0ZXI6cmVjb25uZWN0X2NyZWF0ZV9jb25uZWN0aW9uXCIsZS5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRT1cInRyYW5zbWl0dGVyOm9uX3Rva2VuX3ByaXZpbGVnZV9kaWRfZXhwaXJlXCIsZS5UT19DT05ORUNUX0RBVEFDSEFOTkVMPVwidHJhbnNtaXR0ZXI6dG9fY29ubmVjdF9kYXRhY2hhbm5lbFwiLGUuRkFJTEJBQ0s9XCJ0cmFuc21pdHRlcjpmYWlsYmFja1wifShUSXx8KFRJPXt9KSksZnVuY3Rpb24oZSl7ZS5DQU1FUkFfQ0hBTkdFRD1cImNhbWVyYS1jaGFuZ2VkXCIsZS5NSUNST1BIT05FX0NIQU5HRUQ9XCJtaWNyb3Bob25lLWNoYW5nZWRcIixlLlBMQVlCQUNLX0RFVklDRV9DSEFOR0VEPVwicGxheWJhY2stZGV2aWNlLWNoYW5nZWRcIixlLkFVRElPX0FVVE9QTEFZX0ZBSUxFRD1cImF1ZGlvLWF1dG9wbGF5LWZhaWxlZFwiLGUuQVVUT1BMQVlfRkFJTEVEPVwiYXV0b3BsYXktZmFpbGVkXCIsZS5TRUNVUklUWV9QT0xJQ1lfVklPTEFUSU9OPVwic2VjdXJpdHktcG9saWN5LXZpb2xhdGlvblwifShSSXx8KFJJPXt9KSksZnVuY3Rpb24oZSl7ZVtlLkFQUF9UWVBFX0lOVkFMSURfVkFMVUU9LTFdPVwiQVBQX1RZUEVfSU5WQUxJRF9WQUxVRVwiLGVbZS5BUFBfVFlQRV9OQVRJVkU9MF09XCJBUFBfVFlQRV9OQVRJVkVcIixlW2UuQVBQX1RZUEVfTkFUSVZFX0NPQ09TPTFdPVwiQVBQX1RZUEVfTkFUSVZFX0NPQ09TXCIsZVtlLkFQUF9UWVBFX05BVElWRV9VTklUWT0yXT1cIkFQUF9UWVBFX05BVElWRV9VTklUWVwiLGVbZS5BUFBfVFlQRV9OQVRJVkVfRUxFQ1RST049M109XCJBUFBfVFlQRV9OQVRJVkVfRUxFQ1RST05cIixlW2UuQVBQX1RZUEVfTkFUSVZFX0ZMVVRURVI9NF09XCJBUFBfVFlQRV9OQVRJVkVfRkxVVFRFUlwiLGVbZS5BUFBfVFlQRV9OQVRJVkVfVU5SRUFMPTVdPVwiQVBQX1RZUEVfTkFUSVZFX1VOUkVBTFwiLGVbZS5BUFBfVFlQRV9OQVRJVkVfWEFNQVJJTj02XT1cIkFQUF9UWVBFX05BVElWRV9YQU1BUklOXCIsZVtlLkFQUF9UWVBFX05BVElWRV9BUElfQ0xPVUQ9N109XCJBUFBfVFlQRV9OQVRJVkVfQVBJX0NMT1VEXCIsZVtlLkFQUF9UWVBFX05BVElWRV9SRUFDVF9OQVRJVkU9OF09XCJBUFBfVFlQRV9OQVRJVkVfUkVBQ1RfTkFUSVZFXCIsZVtlLkFQUF9UWVBFX05BVElWRV9QWVRIT049OV09XCJBUFBfVFlQRV9OQVRJVkVfUFlUSE9OXCIsZVtlLkFQUF9UWVBFX05BVElWRV9DT0NPU19DUkVBVE9SPTEwXT1cIkFQUF9UWVBFX05BVElWRV9DT0NPU19DUkVBVE9SXCIsZVtlLkFQUF9UWVBFX05BVElWRV9SVVNUPTExXT1cIkFQUF9UWVBFX05BVElWRV9SVVNUXCIsZVtlLkFQUF9UWVBFX05BVElWRV9DX1NIQVJQPTEyXT1cIkFQUF9UWVBFX05BVElWRV9DX1NIQVJQXCIsZVtlLkFQUF9UWVBFX05BVElWRV9DRUY9MTNdPVwiQVBQX1RZUEVfTkFUSVZFX0NFRlwiLGVbZS5BUFBfVFlQRV9OQVRJVkVfVU5JX0FQUD0xNF09XCJBUFBfVFlQRV9OQVRJVkVfVU5JX0FQUFwiLGVbZS5BUFBfVFlQRV9XRUJSVEM9MWUzXT1cIkFQUF9UWVBFX1dFQlJUQ1wiLGVbZS5BUFBfVFlQRV9XRUJSVENfUkVBQ1Q9MTAwMV09XCJBUFBfVFlQRV9XRUJSVENfUkVBQ1RcIixlW2UuQVBQX1RZUEVfV0VCUlRDX1ZVRT0xMDAyXT1cIkFQUF9UWVBFX1dFQlJUQ19WVUVcIixlW2UuQVBQX1RZUEVfV0VCUlRDX0FOR1VMQVI9MTAwM109XCJBUFBfVFlQRV9XRUJSVENfQU5HVUxBUlwifShDSXx8KENJPXt9KSksZnVuY3Rpb24oZSl7ZS5DT05ORUNUSU5HPVwiQ09OTkVDVElOR1wiLGUuUkVDT05ORUNUSU5HPVwiUkVDT05ORUNUSU5HXCIsZS5DT05ORUNURUQ9XCJDT05ORUNURURcIixlLkNMT1NFRD1cIkNMT1NFRFwifSh2SXx8KHZJPXt9KSksZnVuY3Rpb24oZSl7ZS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRT1cImNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsZS5TVEFURV9DSEFOR0U9XCJzdGF0ZS1jaGFuZ2VcIixlLklOU1BFQ1RfUkVTVUxUPVwiaW5zcGVjdC1yZXN1bHRcIixlLkNMSUVOVF9MT0NBTF9WSURFT19UUkFDSz1cImNsaWVudC1sb2NhbC12aWRlby10cmFja1wiLGUuUkVRVUVTVF9ORVdfV09SS0VSX1VSTD1cInJlcXVlc3QtbmV3LXdvcmtlci11cmxcIn0oSUl8fChJST17fSkpLGZ1bmN0aW9uKGUpe2VbZS5DT05ORUNUX0FQPTBdPVwiQ09OTkVDVF9BUFwiLGVbZS5BUF9DT05ORUNURUQ9MV09XCJBUF9DT05ORUNURURcIixlW2UuQ09OTkVDVF9XT1JLRVJfTUFOQUdFUj0yXT1cIkNPTk5FQ1RfV09SS0VSX01BTkFHRVJcIixlW2UuV09SS0VSX01BTkFHRVJfQ09OTkVDVEVEPTNdPVwiV09SS0VSX01BTkFHRVJfQ09OTkVDVEVEXCIsZVtlLkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRT00XT1cIkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRVwiLGVbZS5DT05ORUNUX1dPUktFUj01XT1cIkNPTk5FQ1RfV09SS0VSXCIsZVtlLldPUktFUl9DT05ORUNURUQ9Nl09XCJXT1JLRVJfQ09OTkVDVEVEXCIsZVtlLkNMT1NFRD03XT1cIkNMT1NFRFwifSh5SXx8KHlJPXt9KSksZnVuY3Rpb24oZSl7ZS5DQUxMPVwiY2FsbFwiLGUuQ0FORElEQVRFPVwiY2FuZGlkYXRlXCIsZS5QVUJMSVNIPVwicHVibGlzaFwiLGUuVU5QVUJMSVNIPVwidW5wdWJsaXNoXCIsZS5TVUJTQ1JJQkU9XCJzdWJzY3JpYmVcIixlLlVOU1VCU0NSSUJFPVwidW5zdWJzY3JpYmVcIixlLkNPTlRST0w9XCJjb250cm9sXCIsZS5SRVNUQVJUX0lDRT1cInJlc3RhcnRfaWNlXCIsZS5BQ0s9XCJhY2tcIixlLkpPSU49XCJqb2luXCIsZS5FWENIQU5HRV9TRFA9XCJleGNoYW5nZV9zZHBcIixlLkRPX1NVQlNDUklCRT1cImRvX3N1YnNjcmliZVwiLGUuRE9fVU5TVUJTQ1JJQkU9XCJkb191bnN1YnNjcmliZVwifShBSXx8KEFJPXt9KSksZnVuY3Rpb24oZSl7ZS5NVVRFX0xPQ0FMX0FVRElPPVwibXV0ZV9sb2NhbF9hdWRpb1wiLGUuTVVURV9MT0NBTF9WSURFTz1cIm11dGVfbG9jYWxfdmlkZW9cIixlLlVOTVVURV9MT0NBTF9BVURJTz1cInVubXV0ZV9sb2NhbF9hdWRpb1wiLGUuVU5NVVRFX0xPQ0FMX1ZJREVPPVwidW5tdXRlX2xvY2FsX3ZpZGVvXCJ9KGJJfHwoYkk9e30pKSxmdW5jdGlvbihlKXtlW2UuU1VDQ0VTUz0xXT1cIlNVQ0NFU1NcIixlW2UuRkFJTEVEPTBdPVwiRkFJTEVEXCJ9KHdJfHwod0k9e30pKTtjb25zdCBEST17W2x2LkFDQ0VTU19QT0lOVF06e1twdi5OT19GTEFHX1NFVF06e2Rlc2M6XCJmbGFnIGlzIHplcm9cIixyZXRyeTohMX0sW3B2LkZMQUdfU0VUX0JVVF9FTVBUWV06e2Rlc2M6XCJmbGFnIGlzIGVtcHR5XCIscmV0cnk6ITF9LFtwdi5JTlZBTElEX0ZBTEdfU0VUXTp7ZGVzYzpcImludmFsaWQgZmxhZ1wiLHJldHJ5OiExfSxbcHYuRkxBR19TRVRfQlVUX05PX1JFXTp7ZGVzYzpcImZsYWcgc2V0IHVuaWxicyBidXQgbm8gcmVxdWVzdFwiLHJldHJ5OiExfSxbcHYuSU5WQUxJRF9TRVJWSUNFX0lEXTp7ZGVzYzpcImludmFsaWQgc2VydmljZSBpZFwiLHJldHJ5OiExfSxbcHYuTk9fU0VSVklDRV9BVkFJTEFCTEVdOntkZXNjOlwibm8gc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW3B2Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1AyUF06e2Rlc2M6XCJubyB1bmlsYnMgcDJwIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtwdi5OT19TRVJWSUNFX0FWQUlMQUJMRV9WT0lDRV06e2Rlc2M6XCJubyB1bmlsYnMgdm9pY2Ugc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW3B2Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1dFQlJUQ106e2Rlc2M6XCJubyB1bmlsYnMgd2VicnRjIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtwdi5OT19TRVJWSUNFX0FWQUlMQUJMRV9DRFNdOntkZXNjOlwibm8gY2RzIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtwdi5OT19TRVJWSUNFX0FWQUlMQUJMRV9DRE5dOntkZXNjOlwibm8gY2RuIGRpc3BhdGNoZXIgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW3B2Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1REU106e2Rlc2M6XCJubyB0ZHMgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW3B2Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1JFUE9SVF06e2Rlc2M6XCJubyB1bmlsYnMgcmVwb3J0IHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtwdi5OT19TRVJWSUNFX0FWQUlMQUJMRV9BUFBfQ0VOVEVSXTp7ZGVzYzpcIm5vIGFwcCBjZW50ZXIgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW3B2Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0VOVjBdOntkZXNjOlwibm8gdW5pbGJzIHNpZyBlbnYwIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtwdi5OT19TRVJWSUNFX0FWQUlMQUJMRV9WT0VUXTp7ZGVzYzpcIm5vIHVuaWxicyB2b2V0IHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9LFtwdi5OT19TRVJWSUNFX0FWQUlMQUJMRV9TVFJJTkdfVUlEXTp7ZGVzYzpcIm5vIHN0cmluZyB1aWQgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW3B2Lk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1dFQlJUQ19VTklMQlNdOntkZXNjOlwibm8gd2VicnRjIHVuaWxicyBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfX0sW2x2LlVOSUxCU106e1t1di5JTlZBTElEX1ZFTkRPUl9LRVldOntkZXNjOlwiaW52YWxpZCB2ZW5kb3Iga2V5LCBjYW4gbm90IGZpbmQgYXBwaWRcIixyZXRyeTohMX0sW3V2LklOVkFMSURfQ0hBTk5FTF9OQU1FXTp7ZGVzYzpcImludmFsaWQgY2hhbm5lbCBuYW1lXCIscmV0cnk6ITF9LFt1di5JTlRFUk5BTF9FUlJPUl06e2Rlc2M6XCJ1bmlsYnMgaW50ZXJuYWwgZXJyb3JcIixyZXRyeTohMX0sW3V2Lk5PX0FVVEhPUklaRURdOntkZXNjOlwiaW52YWxpZCB0b2tlbiwgYXV0aG9yaXplZCBmYWlsZWRcIixyZXRyeTohMX0sW3V2LkRZTkFNSUNfS0VZX1RJTUVPVVRdOntkZXNjOlwiZHluYW1pYyBrZXkgb3IgdG9rZW4gdGltZW91dFwiLHJldHJ5OiExfSxbdXYuTk9fQUNUSVZFX1NUQVRVU106e2Rlc2M6XCJubyBhY3RpdmUgc3RhdHVzXCIscmV0cnk6ITF9LFt1di5EWU5BTUlDX0tFWV9FWFBJUkVEXTp7ZGVzYzpcImR5bmFtaWMga2V5IGV4cGlyZWRcIixyZXRyeTohMX0sW3V2LlNUQVRJQ19VU0VfRFlOQU1JQ19LRVldOntkZXNjOlwic3RhdGljIHVzZSBkeW5hbWljIGtleVwiLHJldHJ5OiExfSxbdXYuRFlOQU1JQ19VU0VfU1RBVElDX0tFWV06e2Rlc2M6XCJkeW5hbWljIHVzZSBzdGF0aWMga2V5XCIscmV0cnk6ITF9LFt1di5VU0VSX09WRVJMT0FEXTp7ZGVzYzpcImFtb3VudCBvZiB1c2VycyBvdmVyIGxvYWRcIixyZXRyeTohMX0sW3V2LkZPUkJJRERFTl9SRUdJT05dOntkZXNjOlwidGhlIHJlcXVlc3QgaXMgZm9yYmlkZGVuIGluIHRoaXMgYXJlYVwiLHJldHJ5OiExfSxbdXYuQ0FOTk9UX01FRVRfQVJFQV9ERU1BTkRdOntkZXNjOlwidW5hYmxlIHRvIGFsbG9jYXRlIHNlcnZpY2VzIGluIHRoaXMgYXJlYVwiLHJldHJ5OiExfX0sW2x2LlNUUklOR19VSURfQUxMT0NBVE9SXTp7W2h2LklJSUVHQUxfQVBQSURdOntkZXNjOlwiaW52YWxpZCBhcHBpZFwiLHJldHJ5OiExfSxbaHYuSUlJRUdBTF9VSURdOntkZXNjOlwiaW52YWxpZCBzdHJpbmcgdWlkXCIscmV0cnk6ITF9LFtodi5JTlRFUk5BTF9FUlJPUl06e2Rlc2M6XCJzdHJpbmcgdWlkIGFsbG9jYXRvciBpbnRlcm5hbCBlcnJvclwiLHJldHJ5OiEwfX19O2Z1bmN0aW9uIFBJKGUpe2NvbnN0IHQ9RElbTWF0aC5mbG9vcihlLzFlNCldO2lmKCF0KXJldHVybntkZXNjOlwidW5rb253IGVycm9yXCIscmV0cnk6ITF9O2NvbnN0IGk9dFtlJTFlNF07aWYoIWkpe2lmKE1hdGguZmxvb3IoZS8xZTQpPT09bHYuQUNDRVNTX1BPSU5UKXtjb25zdCB0PWUlMWU0O2lmKFwiMVwiPT09dC50b1N0cmluZygpWzBdKXJldHVybntkZXNjOmUudG9TdHJpbmcoKSxyZXRyeTohMX07aWYoXCIyXCI9PT10LnRvU3RyaW5nKClbMF0pcmV0dXJue2Rlc2M6ZS50b1N0cmluZygpLHJldHJ5OiEwfX1yZXR1cm57ZGVzYzpcInVua29udyBlcnJvclwiLHJldHJ5OiExfX1yZXR1cm4gaX1jb25zdCBMST17W192LktfVElNRVNUQU1QX0VYUElSRURdOntkZXNjOlwiS19USU1FU1RBTVBfRVhQSVJFRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbX3YuS19DSEFOTkVMX1BFUk1JU1NJT05fSU5WQUxJRF06e2Rlc2M6XCJLX0NIQU5ORUxfUEVSTUlTU0lPTl9JTlZBTElEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5LX0NFUlRJRklDQVRFX0lOVkFMSURdOntkZXNjOlwiS19DRVJUSUZJQ0FURV9JTlZBTElEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5LX0NIQU5ORUxfTkFNRV9FTVBUWV06e2Rlc2M6XCJLX0NIQU5ORUxfTkFNRV9FTVBUWVwiLGFjdGlvbjpcImZhaWxlZFwifSxbX3YuS19DSEFOTkVMX05PVF9GT1VORF06e2Rlc2M6XCJLX0NIQU5ORUxfTk9UX0ZPVU5EXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5LX1RJQ0tFVF9JTlZBTElEXTp7ZGVzYzpcIktfVElDS0VUX0lOVkFMSURcIixhY3Rpb246XCJmYWlsZWRcIn0sW192LktfQ0hBTk5FTF9DT05GTElDVEVEXTp7ZGVzYzpcIktfQ0hBTk5FTF9DT05GTElDVEVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5LX1NFUlZJQ0VfTk9UX1JFQURZXTp7ZGVzYzpcIktfU0VSVklDRV9OT1RfUkVBRFlcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtfdi5LX1NFUlZJQ0VfVE9PX0hFQVZZXTp7ZGVzYzpcIktfU0VSVklDRV9UT09fSEVBVllcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtfdi5LX1VJRF9CQU5ORURdOntkZXNjOlwiS19VSURfQkFOTkVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5LX0lQX0JBTk5FRF06e2Rlc2M6XCJLX0lQX0JBTk5FRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbX3YuS19BVVRPX1JFQkFMQU5DRV06e2Rlc2M6XCJrX0FVVE9fUkVCQUxBTkNFXCIsYWN0aW9uOlwicmVjb3ZlclwifSxbX3YuRVJSX0lOVkFMSURfVkVORE9SX0tFWV06e2Rlc2M6XCJFUlJfSU5WQUxJRF9WRU5ET1JfS0VZXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5FUlJfSU5WQUxJRF9DSEFOTkVMX05BTUVdOntkZXNjOlwiRVJSX0lOVkFMSURfQ0hBTk5FTF9OQU1FXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5XQVJOX05PX0FWQUlMQUJMRV9DSEFOTkVMXTp7ZGVzYzpcIldBUk5fTk9fQVZBSUxBQkxFX0NIQU5ORUxcIixhY3Rpb246XCJmYWlsZWRcIn0sW192LldBUk5fTE9PS1VQX0NIQU5ORUxfVElNRU9VVF06e2Rlc2M6XCJXQVJOX0xPT0tVUF9DSEFOTkVMX1RJTUVPVVRcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtfdi5XQVJOX0xPT0tVUF9DSEFOTkVMX1JFSkVDVEVEXTp7ZGVzYzpcIldBUk5fTE9PS1VQX0NIQU5ORUxfUkVKRUNURURcIixhY3Rpb246XCJmYWlsZWRcIn0sW192LldBUk5fT1BFTl9DSEFOTkVMX1RJTUVPVVRdOntkZXNjOlwiV0FSTl9PUEVOX0NIQU5ORUxfVElNRU9VVFwiLGFjdGlvbjpcInRyeU5leHRcIn0sW192LldBUk5fT1BFTl9DSEFOTkVMX1JFSkVDVEVEXTp7ZGVzYzpcIldBUk5fT1BFTl9DSEFOTkVMX1JFSkVDVEVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5XQVJOX1JFUVVFU1RfREVGRVJSRURdOntkZXNjOlwiV0FSTl9SRVFVRVNUX0RFRkVSUkVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5FUlJfRFlOQU1JQ19LRVlfVElNRU9VVF06e2Rlc2M6XCJFUlJfRFlOQU1JQ19LRVlfVElNRU9VVFwiLGFjdGlvbjpcImZhaWxlZFwifSxbX3YuRVJSX05PX0FVVEhPUklaRURdOntkZXNjOlwiRVJSX05PX0FVVEhPUklaRURcIixhY3Rpb246XCJmYWlsZWRcIn0sW192LkVSUl9WT01fU0VSVklDRV9VTkFWQUlMQUJMRV06e2Rlc2M6XCJFUlJfVk9NX1NFUlZJQ0VfVU5BVkFJTEFCTEVcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtfdi5FUlJfTk9fQ0hBTk5FTF9BVkFJTEFCTEVfQ09ERV06e2Rlc2M6XCJFUlJfTk9fQ0hBTk5FTF9BVkFJTEFCTEVfQ09ERVwiLGFjdGlvbjpcImZhaWxlZFwifSxbX3YuRVJSX01BU1RFUl9WT0NTX1VOQVZBSUxBQkxFXTp7ZGVzYzpcIkVSUl9NQVNURVJfVk9DU19VTkFWQUlMQUJMRVwiLGFjdGlvbjpcInRyeU5leHRcIn0sW192LkVSUl9JTlRFUk5BTF9FUlJPUl06e2Rlc2M6XCJFUlJfSU5URVJOQUxfRVJST1JcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtfdi5FUlJfTk9fQUNUSVZFX1NUQVRVU106e2Rlc2M6XCJFUlJfTk9fQUNUSVZFX1NUQVRVU1wiLGFjdGlvbjpcImZhaWxlZFwifSxbX3YuRVJSX0lOVkFMSURfVUlEXTp7ZGVzYzpcIkVSUl9JTlZBTElEX1VJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbX3YuRVJSX0RZTkFNSUNfS0VZX0VYUElSRURdOntkZXNjOlwiRVJSX0RZTkFNSUNfS0VZX0VYUElSRURcIixhY3Rpb246XCJmYWlsZWRcIn0sW192LkVSUl9TVEFUSUNfVVNFX0RZQU5NSUNfS0VdOntkZXNjOlwiRVJSX1NUQVRJQ19VU0VfRFlBTk1JQ19LRVwiLGFjdGlvbjpcImZhaWxlZFwifSxbX3YuRVJSX0RZTkFNSUNfVVNFX1NUQVRJQ19LRV06e2Rlc2M6XCJFUlJfRFlOQU1JQ19VU0VfU1RBVElDX0tFXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5FUlJfTk9fVk9DU19BVkFJTEFCTEVdOntkZXNjOlwiRVJSX05PX1ZPQ1NfQVZBSUxBQkxFXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbX3YuRVJSX05PX1ZPU19BVkFJTEFCTEVdOntkZXNjOlwiRVJSX05PX1ZPU19BVkFJTEFCTEVcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtfdi5FUlJfSk9JTl9DSEFOTkVMX1RJTUVPVVRdOntkZXNjOlwiRVJSX0pPSU5fQ0hBTk5FTF9USU1FT1VUXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbX3YuRVJSX0pPSU5fQllfTVVMVElfSVBdOntkZXNjOlwiRVJSX0pPSU5fQllfTVVMVElfSVBcIixhY3Rpb246XCJyZWNvdmVyXCJ9LFtfdi5FUlJfTk9UX0pPSU5FRF06e2Rlc2M6XCJFUlJfTk9UX0pPSU5FRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbX3YuRVJSX1JFUEVBVF9KT0lOX1JFUVVFU1RdOntkZXNjOlwiRVJSX1JFUEVBVF9KT0lOX1JFUVVFU1RcIixhY3Rpb246XCJxdWl0XCJ9LFtfdi5FUlJfUkVQRUFUX0pPSU5fQ0hBTk5FTF06e2Rlc2M6XCJFUlJfUkVQRUFUX0pPSU5fQ0hBTk5FTFwiLGFjdGlvbjpcInF1aXRcIn0sW192LkVSUl9JTlZBTElEX1NUUklOR1VJRF06e2Rlc2M6XCJFUlJfSU5WQUxJRF9TVFJJTkdVSURcIixhY3Rpb246XCJmYWlsZWRcIn0sW192LkVSUl9UT09fTUFOWV9VU0VSU106e2Rlc2M6XCJFUlJfVE9PX01BTllfVVNFUlNcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFtfdi5FUlJfU0VUX0NMSUVOVF9ST0xFX1RJTUVPVVRdOntkZXNjOlwiRVJSX1NFVF9DTElFTlRfUk9MRV9USU1FT1VUXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5FUlJfU0VUX0NMSUVOVF9ST0xFX05PX1BFUk1JU1NJT05dOntkZXNjOlwiRVJSX1NFVF9DTElFTlRfUk9MRV9USU1FT1VUXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5FUlJfU0VUX0NMSUVOVF9ST0xFX0FMUkVBRFlfSU5fVVNFXTp7ZGVzYzpcIkVSUl9TRVRfQ0xJRU5UX1JPTEVfQUxSRUFEWV9JTl9VU0VcIixhY3Rpb246XCJzdWNjZXNzXCJ9LFtfdi5FUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSURdOntkZXNjOlwiRVJSX1BVQkxJU0hfUkVRVUVTVF9JTlZBTElEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5FUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRF06e2Rlc2M6XCJFUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbX3YuRVJSX05PVF9TVVBQT1JURURfTUVTU0FHRV06e2Rlc2M6XCJFUlJfTk9UX1NVUFBPUlRFRF9NRVNTQUdFXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5FUlJfSUxMRUFHQUxfUExVR0lOXTp7ZGVzYzpcIkVSUl9JTExFQUdBTF9QTFVHSU5cIixhY3Rpb246XCJmYWlsZWRcIn0sW192LklMTEVHQUxfQ0xJRU5UX1JPTEVfTEVWRUxdOntkZXNjOlwiSUxMRUdBTF9DTElFTlRfUk9MRV9MRVZFTFwiLGFjdGlvbjpcImZhaWxlZFwifSxbX3YuRVJSX1JFSk9JTl9UT0tFTl9JTlZBTElEXTp7ZGVzYzpcIkVSUl9SRUpPSU5fVE9LRU5fSU5WQUxJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbX3YuRVJSX1JFSk9JTl9VU0VSX05PVF9KT0lORURdOntkZXNjOlwiRVJSX1JFSk9JTl9OT1RfSk9JTkVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5FUlJfSU5WQUxJRF9PUFRJT05BTF9JTkZPXTp7ZGVzYzpcIkVSUl9JTlZBTElEX09QVElPTkFMX0lORk9cIixhY3Rpb246XCJxdWl0XCJ9LFtfdi5FUlJfVEVTVF9SRUNPVkVSXTp7ZGVzYzpcIkVSUl9URVNUX1JFQ09WRVJcIixhY3Rpb246XCJyZWNvdmVyXCJ9LFtfdi5FUlJfVEVTVF9UUllORVhUXTp7ZGVzYzpcIkVSUl9URVNUX1RSWU5FWFRcIixhY3Rpb246XCJyZWNvdmVyXCJ9LFtfdi5FUlJfVEVTVF9SRVRSWV06e2Rlc2M6XCJFUlJfVEVTVF9SRVRSWVwiLGFjdGlvbjpcInJlY292ZXJcIn0sW192LklMTEVHQUxfQUVTX1BBU1NXT1JEXTp7ZGVzYzpcIkVSUl9URVNUX1JFVFJZXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFtfdi5FUlJfVE9PX01BTllfQlJPQURDQVNURVJTXTp7ZGVzYzpcIkVSUl9UT09fTUFOWV9CUk9BRENBU1RFUlNcIixhY3Rpb246XCJmYWlsZWRcIn0sW192LkVSUl9UT09fTUFOWV9TVUJTQ1JJQkVSU106e2Rlc2M6XCJFUlJfVE9PX01BTllfU1VCU0NSSUJFUlNcIixhY3Rpb246XCJmYWlsZWRcIn0sW192LkVSUl9MSUNFTlNFX0lMTEVHQUxdOntkZXNjOlwiRVJSX0xJQ0VOU0VfSUxMRUdBTFwiLGFjdGlvbjpcInF1aXRcIn0sW192LkVSUl9MSUNFTlNFX01JU1NJTkddOntkZXNjOlwiRVJSX0xJQ0VOU0VfTUlTU0lOR1wiLGFjdGlvbjpcInF1aXRcIn0sW192LkVSUl9MSUNFTlNFX0VYUElSRURdOntkZXNjOlwiRVJSX0xJQ0VOU0VfRVhQSVJFRFwiLGFjdGlvbjpcInF1aXRcIn0sW192LkVSUl9MSUNFTlNFX01JTlVURVNfRVhDRUVERURdOntkZXNjOlwiRVJSX0xJQ0VOU0VfTUlOVVRFU19FWENFRURFRFwiLGFjdGlvbjpcInF1aXRcIn0sW192LkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEXCIsYWN0aW9uOlwicXVpdFwifSxbX3YuRVJSX0xJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0VdOntkZXNjOlwiRVJSX0xJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0VcIixhY3Rpb246XCJxdWl0XCJ9fTtmdW5jdGlvbiBrSShlKXtjb25zdCB0PUxJW2VdO3JldHVybiB0fHx7ZGVzYzpcIlVOS05PV19FUlJPUl9cIi5jb25jYXQoZSksYWN0aW9uOlwiZmFpbGVkXCJ9fWZ1bmN0aW9uIE1JKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBVSShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9NSShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpNSShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiB4SShlKXtyZXR1cm4gZS5ldmVyeSgoZT0+ZS5yZWFkeVN0YXRlPT09V2ViU29ja2V0LkNMT1NFRHx8ZS5yZWFkeVN0YXRlPT09V2ViU29ja2V0LkNMT1NJTkcpKX1mdW5jdGlvbiBWSShlLHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBlO2NvbnN0e3Byb3h5OmksaG9zdDpuLHBvcnQ6cn09ZTtpZih0KXtjb25zdCBlPWtDKFwiSk9JTl9HQVRFV0FZX0ZBTExCQUNLX1BPUlRcIil8fDQ0MztyZXR1cm4gNDQzPT09ZT9cIndzczovL1wiLmNvbmNhdChuLFwiL3dzLz9wPVwiKS5jb25jYXQoTnVtYmVyKHIpKzE1MCk6XCJ3c3M6Ly9cIi5jb25jYXQobixcIjpcIikuY29uY2F0KGUsXCIvd3MvP3A9XCIpLmNvbmNhdChOdW1iZXIocikrMTUwKX1yZXR1cm4gaT9cIndzczovL1wiLmNvbmNhdChpLFwiL3dzLz9oPVwiKS5jb25jYXQobixcIiZwPVwiKS5jb25jYXQocik6XCJ3c3M6Ly9cIi5jb25jYXQobixcIjpcIikuY29uY2F0KHIpfWNvbnN0IEZJPS93c3M6XFwvXFwvKC4rKVxcL3dzXFwvXFw/aD0oLispJnA9KFswLTldKylcXC8/LyxCST0vd3NzOlxcL1xcLyguKylcXC93c1xcL1xcP3A9KFswLTldKylcXC8/LyxqST0vd3NzOlxcL1xcLyguKyk6KFswLTldKylcXC8/LyxHST0vd3NzOlxcL1xcLyguW15cXC9dKylcXC8/LztsZXQgV0k9MDtjbGFzcyBISXtjb25zdHJ1Y3RvcihlLHQpe251KHRoaXMsXCJpZFwiLDApLG51KHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksbnUodGhpcyxcInJlY29yZEluZGV4XCIsdm9pZCAwKSxudSh0aGlzLFwid2Vic29ja2V0c1wiLFtdKSxudSh0aGlzLFwidHJ5NDQzUG9ydER1cmF0aW9uXCIsMmUzKSxudSh0aGlzLFwiZm9yY2VDbG9zZVdTRHVyYXRpb25cIiw1ZTMpLG51KHRoaXMsXCJ0cnk0NDNQb3J0VGltZW91dFwiLG51bGwpLG51KHRoaXMsXCJmb3JjZUNsb3NlVGltZW91dFwiLG51bGwpLG51KHRoaXMsXCJpc1RyeTQ0M1BvcnRGYWlsZWRcIiwhMSksbnUodGhpcyxcImlzTm9ybWFsUG9ydEZhaWxlZFwiLCExKSxudSh0aGlzLFwidXNlRG91YmxlRG9tYWluXCIsITEpLG51KHRoaXMsXCJ1c2VQcm94eVwiLCExKSxudSh0aGlzLFwic3RhcnRUaW1lXCIsRGF0ZS5ub3coKSksdGhpcy5pZD0rK1dJLHRoaXMudHJ5NDQzUG9ydER1cmF0aW9uPWtDKFwiSk9JTl9HQVRFV0FZX1RSWV80NDNQT1JUX0RVUkFUSU9OXCIpfHwyZTMsdGhpcy5mb3JjZUNsb3NlV1NEdXJhdGlvbj1lfHw1ZTMsdGhpcy5zdG9yZT10fWNsb3NlQWxsV2Vic29ja2V0cygpe3RoaXMud2Vic29ja2V0cy5mb3JFYWNoKChlPT57ZS5vbm9wZW49bnVsbCxlLm9uY2xvc2U9bnVsbCxlLm9ubWVzc2FnZT1udWxsLGUuY2xvc2UoKX0pKSx0aGlzLndlYnNvY2tldHMubGVuZ3RoPTB9Y2xlYXJUaW1lb3V0KCl7dGhpcy5mb3JjZUNsb3NlVGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMuZm9yY2VDbG9zZVRpbWVvdXQpLHRoaXMudHJ5NDQzUG9ydFRpbWVvdXQmJmNsZWFyVGltZW91dCh0aGlzLnRyeTQ0M1BvcnRUaW1lb3V0KX1sb2dnZXIoKXt2YXIgZTtjb25zdCB0PURhdGUubm93KCktdGhpcy5zdGFydFRpbWU7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoaSkscj0wO3I8aTtyKyspbltyXT1hcmd1bWVudHNbcl07V0MuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3MgXCIuY29uY2F0KG51bGw9PT0oZT10aGlzLnN0b3JlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jbGllbnRJZCxcIiBcIikuY29uY2F0KHRoaXMuaWQsXCJdIFwiKS5jb25jYXQodCxcIm1zOlwiKSwuLi5uKX1jcmVhdGVXZWJTb2NrZXQoZSx0LGkpe3RoaXMubG9nZ2VyKFwiY3JlYXRlV2ViU29ja2V0OlwiLGUse2lzVHJ5NDQzUG9ydDp0LGhhc1RpbWVvdXREZXRlY3Rpb246aX0pO2NvbnN0IG49a0MoXCJHQVRFV0FZX0RPTUFJTlNcIikscj1EYXRlLm5vdygpLHM9W10sbz1uLmZpbmQoKHQ9Pnt2YXIgaTtyZXR1cm4gUHIoaT1lLmhvc3QpLmNhbGwoaSx0KX0pKTtvfHwodGhpcy51c2VEb3VibGVEb21haW49ITEpO2NvbnN0IGE9W107aWYodGhpcy51c2VEb3VibGVEb21haW4pbi5mb3JFYWNoKChpPT57YS5wdXNoKFZJKFVJKFVJKHt9LGUpLHt9LHtob3N0OmUuaG9zdC5yZXBsYWNlKG8saSl9KSx0KSl9KSk7ZWxzZXtjb25zdCBpPVVJKHt9LGUpO2lmKHQmJm8pe2NvbnN0IGU9bi5maW5kKChlPT5lIT09bykpO2UmJihpLmhvc3Q9aS5ob3N0LnJlcGxhY2UobyxlKSl9YS5wdXNoKFZJKGksdCkpfXRyeXthLmZvckVhY2goKGU9Pntjb25zdCB0PW5ldyBXZWJTb2NrZXQoZSk7dC5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIixzLnB1c2godCksdGhpcy5sb2dnZXIoXCJ3cyBpcyBjb25uZWN0aW5nOlwiLHQudXJsKX0pKX1jYXRjaChuKXtpZih0aGlzLmxvZ2dlcihcIndzIGNyZWF0ZSBmYWlsZWRcIikscy5mb3JFYWNoKChlPT5lLmNsb3NlKCkpKSxzLmxlbmd0aD0wLHRoaXMudXNlRG91YmxlRG9tYWluKXJldHVybiB0aGlzLnVzZURvdWJsZURvbWFpbj0hMSx0aGlzLmNyZWF0ZVdlYlNvY2tldChlLHQsaSk7aWYoIXQmJjQ0MyE9PU51bWJlcihlLnBvcnQpKXJldHVybiB0aGlzLmNyZWF0ZVdlYlNvY2tldChlLCEwLGkpO3Rocm93IG5ldyBNdih4Zy5XU19FUlIsXCJpbml0IHdlYnNvY2tldCBmYWlsZWQhIEVycm9yOiBcIi5jb25jYXQobi50b1N0cmluZygpKSl9Y29uc3QgYz1uZygpO3RoaXMuc3RvcmUmJnRoaXMuc3RvcmUucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHt1cmxzOnMubWFwKChlPT5lLnVybCkpLHNlcnZpY2U6XCJnYXRld2F5XCJ9LHRoaXMucmVjb3JkSW5kZXgpLHMuZm9yRWFjaCgoZT0+e2Uub25vcGVuPSgpPT57dGhpcy5sb2dnZXIoXCJvbm9wZW46IHdzIFwiLmNvbmNhdChlLnVybCxcIiBvcGVuIGNvc3QgXCIpLmNvbmNhdChEYXRlLm5vdygpLXIsXCJtc1wiKSksdGhpcy53ZWJzb2NrZXRzLmZvckVhY2goKHQ9Pnt0IT09ZSYmKHQub25vcGVuPW51bGwsdC5vbmNsb3NlPW51bGwsdC5vbm1lc3NhZ2U9bnVsbCx0LmNsb3NlKCksdGhpcy5sb2dnZXIoXCJjbG9zZSBiYWNrdXAgd2Vic29ja2V0OiBcIi5jb25jYXQodC51cmwpKSl9KSksdGhpcy53ZWJzb2NrZXRzLmxlbmd0aD0wLGMucmVzb2x2ZShlKX0sZS5vbmNsb3NlPWk9Pnt0aGlzLmxvZ2dlcihcIm9uY2xvc2U6IHdzIFwiLmNvbmNhdChlLnVybCxcIiBjbG9zZWQgY29zdCBcIikuY29uY2F0KERhdGUubm93KCktcixcIm1zIHN0YXRlOiBcIikuY29uY2F0KGUucmVhZHlTdGF0ZSkpLHQ/dGhpcy5pc1RyeTQ0M1BvcnRGYWlsZWQ9eEkocyk6dGhpcy5pc05vcm1hbFBvcnRGYWlsZWQ9eEkocyksdGhpcy5sb2dnZXIoXCI0NDM6IFwiLmNvbmNhdCh0aGlzLnVzZVByb3h5P1wibm90IHRyeVwiOnRoaXMuaXNUcnk0NDNQb3J0RmFpbGVkP1wiZmFpbGVkXCI6XCJ0cnlpbmdcIixcIiA0N3h4OiBcIikuY29uY2F0KHRoaXMuaXNOb3JtYWxQb3J0RmFpbGVkP1wiZmFpbGVkXCI6XCJ0cnlpbmdcIikpLCh0JiZ0aGlzLmlzVHJ5NDQzUG9ydEZhaWxlZHx8IXQmJih0aGlzLmlzVHJ5NDQzUG9ydEZhaWxlZHx8dGhpcy51c2VQcm94eSkmJnRoaXMuaXNOb3JtYWxQb3J0RmFpbGVkKSYmKHRoaXMubG9nZ2VyKFwib25jbG9zZTogYWxsIHdlYnNvY2tldCBpcyBjbG9zZWQsIFwiLmNvbmNhdChpLnJlYXNvbikpLGMucmVqZWN0KHtjb2RlOmkuY29kZSxyZWFzb246JHYuQV9ST1VORF9XU19GQUlMRUR9KSl9LGUub25tZXNzYWdlPXQ9PnRoaXMubG9nZ2VyKFwiXCIuY29uY2F0KGUudXJsLFwiIG9ubWVzc2FnZTogXCIpLmNvbmNhdCh0LmRhdGEpKX0pKSx0aGlzLndlYnNvY2tldHMucHVzaCguLi5zKTtyZXR1cm4gaXx8KCgpPT57Y29uc3QgaT0oKT0+e3RoaXMubG9nZ2VyKFwiNXMgdGltZW91dCBjbG9zZSB1bi1vcGVucywgaXNXZWJzb2NrZXQgY3JlYXRlZDogXCIsYy5pc1Jlc29sdmVkKSx0aGlzLndlYnNvY2tldHMuZm9yRWFjaCgoZT0+ZS5yZWFkeVN0YXRlIT09V2ViU29ja2V0Lk9QRU4mJmUuY2xvc2UoKSkpfTtpZih0fHx0aGlzLnVzZVByb3h5KXJldHVybiB0aGlzLmxvZ2dlcihcImFkZCA1cyB0aW1lb3V0IGF0IFwiLmNvbmNhdCh0P1widHJ5LTQ0M1wiOlwicHJveHlcIixcIiBjb25kaXRpb25cIikpLHRoaXMuZm9yY2VDbG9zZVRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoaSx0aGlzLmZvcmNlQ2xvc2VXU0R1cmF0aW9uKTt0aGlzLnRyeTQ0M1BvcnRUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2lmKHRoaXMubG9nZ2VyKFwiMnMgdGltZW91dCwgaXNXZWJzb2NrZXQgY3JlYXRlZDogXCIsYy5pc1Jlc29sdmVkKSxjLmlzUmVzb2x2ZWQpcmV0dXJuIGkoKTtwZygpLm9zPT09YWcuTUFDX09TJiZSZygpJiZpKCksdGhpcy5jcmVhdGVXZWJTb2NrZXQoZSwhMCwhMCkudGhlbigoZT0+Yy5yZXNvbHZlKGUpKSkuY2F0Y2goKGU9Pnt0aGlzLmlzTm9ybWFsUG9ydEZhaWxlZCYmYy5yZWplY3QoZSksdGhpcy5sb2dnZXIoXCJ0cnkgNDQzIHBvcnQgdG8gY3JlYXRlIHdzIGZhaWxlZFwiKX0pKSx0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KGksdGhpcy5mb3JjZUNsb3NlV1NEdXJhdGlvbil9KSx0aGlzLnRyeTQ0M1BvcnREdXJhdGlvbil9KSgpLGMucHJvbWlzZX1jaG9vc2VCZXN0V2Vic29ja2V0KGUsdCxpLG4pe3JldHVybiB0aGlzLnVzZURvdWJsZURvbWFpbj0hIXQsXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPWZ1bmN0aW9uKGUpe2xldCB0LGksbjtyZXR1cm5bLHQsaSxuXT1lLm1hdGNoKEZJKXx8W10sdHx8KFssaSxuXT1lLm1hdGNoKEJJKXx8W10pLGkmJm58fChbLGksbl09ZS5tYXRjaChqSSl8fFtdKSxpJiZufHwoWyxpXT1lLm1hdGNoKEdJKXx8W10pLGl8fFdDLndhcm5pbmcoXCJ1bi1kZXN0cnVjdGlibGUgdXJsOiBcIixlKSx7cHJveHk6dCxob3N0OmkscG9ydDpufHxcIjQ0M1wifX0oZSkpLHRoaXMucmVjb3JkSW5kZXg9bix0aGlzLnVzZVByb3h5PSEhZS5wcm94eSxpJiZ0aGlzLnVzZVByb3h5JiYoV0Mud2FybihcImNhbm5vdCB1c2UgNDQzIG9ubHkgd2hlbiB1c2UgcHJveHlcIiksaT0hMSksdGhpcy5jcmVhdGVXZWJTb2NrZXQoZSwhIWksITEpLmZpbmFsbHkoKCgpPT50aGlzLmNsZWFyVGltZW91dCgpKSl9fWZ1bmN0aW9uIEtJKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1jbGFzcyBZSSBleHRlbmRzIGlTe2dldCB1cmwoKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQmJnRoaXMud2Vic29ja2V0LnVybHx8bnVsbH1nZXQgcmVjb25uZWN0TW9kZSgpe3JldHVybiB0aGlzLl9yZWNvbm5lY3RNb2RlfXNldCByZWNvbm5lY3RNb2RlKGUpe3ZhciB0O1ByKHQ9W1widHJ5TmV4dFwiLFwicmVjb3ZlclwiXSkuY2FsbCh0LGUpJiZ0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoZSksdGhpcy5fcmVjb25uZWN0TW9kZT1lfWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUoZSl7ZSE9PXRoaXMuX3N0YXRlJiYodGhpcy5fc3RhdGU9ZSxcInJlY29ubmVjdGluZ1wiPT09dGhpcy5fc3RhdGU/dGhpcy5lbWl0KEN2LlJFQ09OTkVDVElORyx0aGlzLnJlY29ubmVjdFJlYXNvbik6XCJjb25uZWN0ZWRcIj09PXRoaXMuX3N0YXRlP3RoaXMuZW1pdChDdi5DT05ORUNURUQpOlwiY2xvc2VkXCI9PT10aGlzLl9zdGF0ZT90aGlzLmVtaXQoQ3YuQ0xPU0VEKTpcImZhaWxlZFwiPT09dGhpcy5fc3RhdGUmJnRoaXMuZW1pdChDdi5GQUlMRUQpKX1yZXNldFJlY29ubmVjdENvdW50KGUpe1dDLmRlYnVnKFwid2Vic29ja2V0IHJlc2V0IHJlY29ubmVjdCBjb3VudCwgcmVhc29uOiBcIitlKSx0aGlzLnJlY29ubmVjdENvdW50PTB9Y29uc3RydWN0b3IoZSx0KXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXSxyPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0scz1hcmd1bWVudHMubGVuZ3RoPjU/YXJndW1lbnRzWzVdOnZvaWQgMDtzdXBlcigpLG51KHRoaXMsXCJjb25uZWN0aW9uSURcIiwwKSxudSh0aGlzLFwiY3VycmVudFVSTEluZGV4XCIsMCksbnUodGhpcyxcInVybHNcIixbXSksbnUodGhpcyxcIl9yZWNvbm5lY3RNb2RlXCIsXCJ0cnlOZXh0XCIpLG51KHRoaXMsXCJyZWNvbm5lY3RSZWFzb25cIix2b2lkIDApLG51KHRoaXMsXCJfaW5pdE11dGV4XCIsbmV3IFlTKFwid2Vic29ja2V0XCIpKSxudSh0aGlzLFwibmFtZVwiLHZvaWQgMCksbnUodGhpcyxcIl9zdGF0ZVwiLFwiY2xvc2VkXCIpLG51KHRoaXMsXCJyZWNvbm5lY3RJbnRlcnJ1cHRlclwiLHZvaWQgMCksbnUodGhpcyxcIndlYnNvY2tldFwiLHZvaWQgMCksbnUodGhpcyxcInJldHJ5Q29uZmlnXCIsdm9pZCAwKSxudSh0aGlzLFwicmVjb25uZWN0Q291bnRcIiwwKSxudSh0aGlzLFwiZm9yY2VDbG9zZVRpbWVvdXRcIiw1ZTMpLG51KHRoaXMsXCJvbmxpbmVSZWNvbm5lY3RMaXN0ZW5lclwiLHZvaWQgMCksbnUodGhpcyxcInVzZUNvbXByZXNzXCIsdm9pZCAwKSxudSh0aGlzLFwidHJ5RG91YmxlRG9tYWluXCIsITEpLG51KHRoaXMsXCJ1c2U0NDNQb3J0T25seVwiLCExKSxudSh0aGlzLFwid3NJbmZsYXRlTGVuZ3RoXCIsMCksbnUodGhpcyxcIndzRGVmbGF0ZUxlbmd0aFwiLDApLG51KHRoaXMsXCJjbG9zZUVzdGFibGlzaGluZ1dzXCIsKCgpPT57fSkpLG51KHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksbnUodGhpcyxcImpvaW5HYXRld2F5UmVjb3JkSW5kZXhcIix2b2lkIDApLHRoaXMuc3RvcmU9cyx0aGlzLm5hbWU9ZSx0aGlzLnJldHJ5Q29uZmlnPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP0tJKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOktJKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfSh7fSx0KSx0aGlzLnVzZUNvbXByZXNzPWksdGhpcy50cnlEb3VibGVEb21haW49bix0aGlzLnVzZTQ0M1BvcnRPbmx5PXI7Y29uc3R7dGltZW91dDpvLHRpbWVvdXRGYWN0b3I6YX09dCxjPU1hdGgubWF4KDMwMCxNYXRoLmZsb29yKDMqby81KSksZD1NYXRoLm1heCgxLjIsTWF0aC5mbG9vcig4KmEpLzEwKTtoUy5PTkxJTkUmJih0aGlzLnJldHJ5Q29uZmlnLnRpbWVvdXQ9Yyx0aGlzLnJldHJ5Q29uZmlnLnRpbWVvdXRGYWN0b3I9ZCksUlMub24odVMuTkVUV09SS19TVEFURV9DSEFOR0UsKChlLHQpPT57ZSE9PXQmJih0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoXCJuZXR3b3JrIHN0YXRlIGNoYW5nZTogXCIuY29uY2F0KHQsXCIgLT4gXCIpLmNvbmNhdChlKSksZT09PWhTLk9OTElORT8odGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0PWMsdGhpcy5yZXRyeUNvbmZpZy50aW1lb3V0RmFjdG9yPWQpOih0aGlzLnJldHJ5Q29uZmlnLnRpbWVvdXQ9byx0aGlzLnJldHJ5Q29uZmlnLnRpbWVvdXRGYWN0b3I9YSkpfSkpfWdldENvbm5lY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXR8fHZvaWQgMH1hc3luYyBpbml0KGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo1ZTM7Y29uc3QgaT1hd2FpdCB0aGlzLl9pbml0TXV0ZXgubG9jaygpO3RoaXMuZm9yY2VDbG9zZVRpbWVvdXQ9dCx0aGlzLnVybHM9ZSx0aGlzLnN0YXRlPVwiY29ubmVjdGluZ1wiO3RyeXtjb25zdCBlPW5nKCksdD10aGlzLnVybHNbdGhpcy5jdXJyZW50VVJMSW5kZXhdO3RoaXMuY3JlYXRlV2ViU29ja2V0Q29ubmVjdGlvbih0KS50aGVuKGUucmVzb2x2ZSkuY2F0Y2goZS5yZWplY3QpLHRoaXMub25jZShDdi5DTE9TRUQsKCgpPT57ZS5yZWplY3QobmV3IFZnKHhnLldTX0RJU0NPTk5FQ1QpKX0pKSx0aGlzLm9uY2UoQ3YuQ09OTkVDVEVELGUucmVzb2x2ZSksYXdhaXQgZS5wcm9taXNlfWNhdGNoKGUpe31maW5hbGx5e2koKX19Y2xvc2UoZSx0KXtpZih0aGlzLmN1cnJlbnRVUkxJbmRleD0wLHRoaXMucmVzZXRSZWNvbm5lY3RDb3VudChcImNsb3NlXCIpLHRoaXMucmVjb25uZWN0SW50ZXJydXB0ZXImJnRoaXMucmVjb25uZWN0SW50ZXJydXB0ZXIoKSx0aGlzLndlYnNvY2tldCl7dGhpcy53ZWJzb2NrZXQub25jbG9zZT1udWxsLHRoaXMud2Vic29ja2V0Lm9ub3Blbj1udWxsLHRoaXMud2Vic29ja2V0Lm9ubWVzc2FnZT1udWxsO2NvbnN0IGU9dGhpcy53ZWJzb2NrZXQ7dD9zZXRUaW1lb3V0KCgoKT0+ZS5jbG9zZSgpKSw1MDApOmUuY2xvc2UoKSx0aGlzLndlYnNvY2tldD12b2lkIDB9dGhpcy5zdGF0ZT1lP1wiZmFpbGVkXCI6XCJjbG9zZWRcIix0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3MmJnRoaXMuY2xvc2VFc3RhYmxpc2hpbmdXcygpfXJlY29ubmVjdChlLHQpe2lmKCF0aGlzLndlYnNvY2tldClyZXR1cm4gdm9pZCBXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIGNhbiBub3QgcmVjb25uZWN0LCBubyB3ZWJzb2NrZXRcIikpO3ZvaWQgMCE9PWUmJih0aGlzLnJlY29ubmVjdE1vZGU9ZSksV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gcmVjb25uZWN0IGlzIHRyaWdnZXJlZCBpbml0aWF0aXZlXCIpKSxcIm51bWJlclwiPT10eXBlb2YgdGhpcy5qb2luR2F0ZXdheVJlY29yZEluZGV4JiZ0aGlzLnN0b3JlJiZ0aGlzLnN0b3JlLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhdHVzOlwiZXJyb3JcIixlcnJvcnM6W25ldyBFcnJvcih0KV19LHRoaXMuam9pbkdhdGV3YXlSZWNvcmRJbmRleCk7Y29uc3QgaT10aGlzLndlYnNvY2tldC5vbmNsb3NlO3RoaXMud2Vic29ja2V0Lm9uY2xvc2U9bnVsbCx0aGlzLndlYnNvY2tldC5jbG9zZSgpLGkmJmkuYmluZCh0aGlzLndlYnNvY2tldCkoe2NvZGU6OTk5OSxyZWFzb246dH0pfXNlbmRNZXNzYWdlKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07aWYoIXRoaXMud2Vic29ja2V0fHx0aGlzLndlYnNvY2tldC5yZWFkeVN0YXRlIT09V2ViU29ja2V0Lk9QRU4pdGhyb3cgbmV3IFZnKHhnLldTX0FCT1JULFwid2Vic29ja2V0IGlzIG5vdCByZWFkeVwiKTt0cnl7dHx8KGU9SlNPTi5zdHJpbmdpZnkoZSkpLHRoaXMud2Vic29ja2V0LnNlbmQoZSl9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLldTX0VSUixcInNlbmQgd2Vic29ja2V0IG1lc3NhZ2UgZXJyb3JcIitlLnRvU3RyaW5nKCkpfX1zZXRXc0luZmxhdGVEYXRhKGUpe3RoaXMud3NEZWZsYXRlTGVuZ3RoPXRoaXMud3NEZWZsYXRlTGVuZ3RoK2Uub3JpZ2luTGVuZ3RoLHRoaXMud3NJbmZsYXRlTGVuZ3RoPXRoaXMud3NJbmZsYXRlTGVuZ3RoK2UuY29tcHJlc3NlZExlbmd0aH1nZXRXc0luZmxhdGVEYXRhKCl7Y29uc3QgZT10aGlzLndzSW5mbGF0ZUxlbmd0aCx0PXRoaXMud3NEZWZsYXRlTGVuZ3RoO3JldHVybiB0aGlzLmNsZWFyV3NJbmZsYXRlRGF0YSgpLHt3c0luZmxhdGVMZW5ndGg6ZSx3c0RlZmxhdGVMZW5ndGg6dH19Y2xlYXJXc0luZmxhdGVEYXRhKCl7dGhpcy53c0luZmxhdGVMZW5ndGg9MCx0aGlzLndzRGVmbGF0ZUxlbmd0aD0wfWFzeW5jIGNyZWF0ZVdlYlNvY2tldENvbm5lY3Rpb24oZSl7dmFyIHQ7Y29uc3QgaT1uZygpO3RoaXMuY29ubmVjdGlvbklEKz0xLHRoaXMuam9pbkdhdGV3YXlSZWNvcmRJbmRleD12b2lkIDA7Y29uc3Qgbj1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMuc3RvcmUpfHx2b2lkIDA9PT10fHx0LnNpZ25hbENoYW5uZWxPcGVuKCksV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gd2Vic29ja2V0IG9wZW5lZDpcIiksZSksdGhpcy5yZWNvbm5lY3RNb2RlPVwicmV0cnlcIix0aGlzLnN0YXRlPVwiY29ubmVjdGVkXCIsdGhpcy5yZXNldFJlY29ubmVjdENvdW50KFwib3BlbmVkXCIpLGkucmVzb2x2ZSgpfSxyPWFzeW5jIGU9Pnt2YXIgdDtpZihXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSB3ZWJzb2NrZXQgY2xvc2UgXCIpLmNvbmNhdChudWxsPT09KHQ9dGhpcy53ZWJzb2NrZXQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnVybCxcIiwgY29kZTogXCIpLmNvbmNhdChlLmNvZGUsXCIsIHJlYXNvbjogXCIpLmNvbmNhdChlLnJlYXNvbixcIiwgY3VycmVudCBtb2RlOiBcIikuY29uY2F0KHRoaXMucmVjb25uZWN0TW9kZSkpLHRoaXMucmVjb25uZWN0Q291bnQ+PXRoaXMucmV0cnlDb25maWcubWF4UmV0cnlDb3VudClpLnJlamVjdChuZXcgVmcoeGcuV1NfRElTQ09OTkVDVCxcIndlYnNvY2tldCBjbG9zZTogXCIuY29uY2F0KGUuY29kZSkpKSx0aGlzLmNsb3NlKCk7ZWxzZXtcImNvbm5lY3RlZFwiPT09dGhpcy5zdGF0ZSYmKHRoaXMucmVjb25uZWN0UmVhc29uPWUucmVhc29uLHRoaXMuc3RhdGU9XCJyZWNvbm5lY3RpbmdcIik7Y29uc3QgdD1TUyh0aGlzLEN2LldJTExfUkVDT05ORUNULHRoaXMucmVjb25uZWN0TW9kZSxlLnJlYXNvbil8fHRoaXMucmVjb25uZWN0TW9kZSxuPWF3YWl0IHRoaXMucmVjb25uZWN0V2l0aEFjdGlvbih0KTtpZihcImNsb3NlZFwiPT09dGhpcy5zdGF0ZSlyZXR1cm4gdm9pZCBXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uSUQsXCJdIHdzIGlzIGNsb3NlZCwgbm8gbmVlZCB0byByZWNvbm5lY3RcIikpO2lmKCFuKXJldHVybiBpLnJlamVjdChuZXcgVmcoeGcuV1NfRElTQ09OTkVDVCxcIndlYnNvY2tldCByZWNvbm5lY3QgZmFpbGVkOiBcIi5jb25jYXQoZS5jb2RlKSkpLHRoaXMuY2xvc2UoITApO2kucmVzb2x2ZSgpfX0scz1lPT57dGhpcy5lbWl0KEN2Lk9OX01FU1NBR0UsZSl9LG89ZT0+e1dDLndhcm4oXCJbXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvbklELFwiXSB3cyBvcGVuIGVycm9yIFwiKS5jb25jYXQoZSkpfTt0aGlzLndlYnNvY2tldCYmKHRoaXMud2Vic29ja2V0Lm9uY2xvc2U9bnVsbCx0aGlzLndlYnNvY2tldC5jbG9zZSgpKSxrQyhcIkdBVEVXQVlfV1NTX0FERFJFU1NcIikmJnRoaXMubmFtZS5zdGFydHNXaXRoKFwiZ2F0ZXdheVwiKSYmKGU9a0MoXCJHQVRFV0FZX1dTU19BRERSRVNTXCIpKSxXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSBzdGFydCBjb25uZWN0LCB1cmw6XCIpLGUpO2NvbnN0IGE9bnVsbD09PSh0PXRoaXMuc3RvcmUpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhcnRUczpEYXRlLm5vdygpLHN0YXR1czpcInBlbmRpbmdcIixzZXJ2aWNlOlwiZ2F0ZXdheVwifSk7dHJ5e3ZhciBjO2NvbnN0IHQ9YXdhaXQgdGhpcy5jaG9vc2VCZXN0V2Vic29ja2V0Q29ubmVjdGlvbihlKTt0aGlzLndlYnNvY2tldD10LG4mJm4odGhpcy53ZWJzb2NrZXQudXJsKSx0aGlzLndlYnNvY2tldC5vbmNsb3NlPXIsdGhpcy53ZWJzb2NrZXQub25tZXNzYWdlPXMsdGhpcy53ZWJzb2NrZXQub25lcnJvcj1vLG51bGw9PT0oYz10aGlzLnN0b3JlKXx8dm9pZCAwPT09Y3x8Yy5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwic3VjY2Vzc1wifSxhKSx0aGlzLmpvaW5HYXRld2F5UmVjb3JkSW5kZXg9YX1jYXRjaChlKXtjb25zdCB0PVwiY2xvc2VkXCI9PT10aGlzLnN0YXRlLG49ZSBpbnN0YW5jZW9mIFZnLHM9biYmZS5jb2RlPT09eGcuV1NfQUJPUlQsbz1uJiZlLmNvZGU9PT14Zy5XU19FUlIsYz1uP2UubWVzc2FnZTplJiYoZS5yZWFzb258fGUudG9TdHJpbmcoKSk7V0Mud2FybmluZyhcIltjaG9vc2UtYmVzdC13c10gY2hvb3NlQmVzdFdlYnNvY2tldCBlcnJvcjogXCIuY29uY2F0KGMpKSx0aGlzLnN0b3JlJiZ0aGlzLnN0b3JlLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6cz9cImFib3J0ZWRcIjpcImVycm9yXCIsZXJyb3JzOltlXX0sYSksdHx8bz8oaS5yZWplY3QodD9uZXcgVmcoeGcuV1NfRElTQ09OTkVDVCxcIndlYnNvY2tldCBpcyBjbG9zZWQ6IFwiLmNvbmNhdChjKSk6bmV3IFZnKHhnLldTX0VSUixcImluaXQgd2Vic29ja2V0IGZhaWxlZDogXCIuY29uY2F0KGMpKSksbyYmV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gaW5pdCB3ZWJzb2NrZXQgZmFpbGVkOiBcIikuY29uY2F0KGMpKSk6ciYmcihlKX1yZXR1cm4gaS5wcm9taXNlfWFzeW5jIHJlY29ubmVjdFdpdGhBY3Rpb24oZSl7bGV0IHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZih0aGlzLnJlY29ubmVjdENvdW50Pj10aGlzLnJldHJ5Q29uZmlnLm1heFJldHJ5Q291bnQpcmV0dXJuITE7aWYoMD09PXRoaXMudXJscy5sZW5ndGgpcmV0dXJuITE7aWYoXCJjbG9zZWRcIj09PXRoaXMuc3RhdGUpcmV0dXJuITE7V0Mud2FybmluZyhcIltjaG9vc2UtYmVzdC13c10gYWN0aW9uOiA9PlwiLGUpLHRoaXMub25saW5lUmVjb25uZWN0TGlzdGVuZXJ8fFJTLmlzT25saW5lfHwhUlMub25saW5lV2FpdGVyfHwodGhpcy5vbmxpbmVSZWNvbm5lY3RMaXN0ZW5lcj1SUy5vbmxpbmVXYWl0ZXIudGhlbigoKCk9Pnt0aGlzLm9ubGluZVJlY29ubmVjdExpc3RlbmVyPXZvaWQgMH0pKSk7bGV0IGk9ITA7aWYodGhpcy5yZWNvbm5lY3RJbnRlcnJ1cHRlcj0oKT0+aT0hMSx0KXtjb25zdCB0PXpTKHRoaXMucmVjb25uZWN0Q291bnQsdGhpcy5yZXRyeUNvbmZpZyk7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gd2FpdCBcIikuY29uY2F0KHQsXCJtcyB0byByZWNvbm5lY3Qgd2Vic29ja2V0LCBtb2RlOiBcIikuY29uY2F0KGUpKSxhd2FpdCB0Zy5yYWNlKFtVUyh0KSx0aGlzLm9ubGluZVJlY29ubmVjdExpc3RlbmVyfHxuZXcgdGcoKCgpPT57fSkpXSl9aWYoXCJjbG9zZWRcIj09PXRoaXMuX3N0YXRlfHwhaSlyZXR1cm4hMTt0aGlzLnJlY29ubmVjdENvdW50Kz0xO2NvbnN0IG49YXN5bmMoZSx0KT0+e3RoaXMuZW1pdChDdi5SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sdCksYXdhaXQgdGhpcy5jcmVhdGVXZWJTb2NrZXRDb25uZWN0aW9uKGUpfTt0cnl7aWYoXCJyZXRyeVwiPT09ZSl0aGlzLmVtaXQoQ3YuUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCxlKSxhd2FpdCBuKHRoaXMudXJsc1t0aGlzLmN1cnJlbnRVUkxJbmRleF0sZSk7ZWxzZSBpZihcInRyeU5leHRcIj09PWUpe2lmKHRoaXMuY3VycmVudFVSTEluZGV4Kz0xLHRoaXMuY3VycmVudFVSTEluZGV4Pj10aGlzLnVybHMubGVuZ3RoKXJldHVybiB0aGlzLnJlY29ubmVjdFdpdGhBY3Rpb24oXCJyZWNvdmVyXCIsITEpO1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHdlYnNvY2tldCB1cmwgbGVuZ3RoOiBcIikuY29uY2F0KHRoaXMudXJscy5sZW5ndGgsXCIgY3VycmVudCBpbmRleDogXCIpLmNvbmNhdCh0aGlzLmN1cnJlbnRVUkxJbmRleCkpLHRoaXMuZW1pdChDdi5SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNILGUpLGF3YWl0IG4odGhpcy51cmxzW3RoaXMuY3VycmVudFVSTEluZGV4XSxlKX1lbHNlXCJyZWNvdmVyXCI9PT1lJiYoV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gcmVxdWVzdCBuZXcgdXJsc1wiKSksdGhpcy5yZXNldFJlY29ubmVjdENvdW50KFwicmVjb3ZlciBtb2RlXCIpLHRoaXMuZW1pdChDdi5SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNILGUpLHRoaXMudXJscz1hd2FpdCBmUyh0aGlzLEN2LlJFUVVFU1RfTkVXX1VSTFMpLHRoaXMuY3VycmVudFVSTEluZGV4PTAsYXdhaXQgbih0aGlzLnVybHNbdGhpcy5jdXJyZW50VVJMSW5kZXhdLGUpKX1jYXRjaChpKXt2YXIgcjtXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSByZWNvbm5lY3QgZmFpbGVkIFwiKS5jb25jYXQoaSYmaS50b1N0cmluZygpKSk7Y29uc3Qgbj1udWxsPT1pfHxudWxsPT09KHI9aS5kYXRhKXx8dm9pZCAwPT09cj92b2lkIDA6ci5kZXNjO3JldHVybiBBcnJheS5pc0FycmF5KG4pJiZQcihuKS5jYWxsKG4sXCJkeW5hbWljIGtleSBleHBpcmVkXCIpPyh0aGlzLmVtaXQoQ3YuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUpLCExKTp0aGlzLnJlY29ubmVjdFdpdGhBY3Rpb24oZSx0KX1yZXR1cm4hMH19Y2xhc3MgcUkgZXh0ZW5kcyBZSXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCxhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLGFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM10sYXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0mJmFyZ3VtZW50c1s0XSxhcmd1bWVudHMubGVuZ3RoPjU/YXJndW1lbnRzWzVdOnZvaWQgMCl9YXN5bmMgY2hvb3NlQmVzdFdlYnNvY2tldENvbm5lY3Rpb24oZSx0KXtjb25zdCBpPW5nKCksbj1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgSEkoZSx0KX0odGhpcy5mb3JjZUNsb3NlVGltZW91dCx0aGlzLnN0b3JlKTt0aGlzLmNsb3NlRXN0YWJsaXNoaW5nV3M9KCk9PntXQy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gY2xvc2UgZXN0YWJsaXNoaW5nIHdlYnNvY2tldHNcIiksbi5jbG9zZUFsbFdlYnNvY2tldHMoKSxpLnJlamVjdChuZXcgVmcoeGcuV1NfQUJPUlQsXCJjaG9vc2UgYmVzdCB3ZWJzb2NrZXQgYWJvcnRlZFwiKSl9O2NvbnN0IHI9a0MoXCJHQVRFV0FZX0RPTUFJTlNcIik7cmV0dXJuIFdDLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSBjdXJyZW50RG9tYWluOiBcIixlLFwiLCBkb21haW5zOiBcIixyLFwidG90YWw6IFwiLmNvbmNhdCh0aGlzLnVybHMubGVuZ3RoKSxcImN1cnJlbnQ6IFwiLmNvbmNhdCh0aGlzLmN1cnJlbnRVUkxJbmRleCsxKSksbi5jaG9vc2VCZXN0V2Vic29ja2V0KGUsdGhpcy50cnlEb3VibGVEb21haW4sdGhpcy51c2U0NDNQb3J0T25seSx0KS50aGVuKGkucmVzb2x2ZSkuY2F0Y2goaS5yZWplY3QpLGkucHJvbWlzZS5maW5hbGx5KCgoKT0+e3RoaXMuY2xvc2VFc3RhYmxpc2hpbmdXcz12b2lkIDB9KSl9fWNsYXNzIEpJIGV4dGVuZHMgWUl7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQsYXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdLGFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0sYXJndW1lbnRzLmxlbmd0aD41P2FyZ3VtZW50c1s1XTp2b2lkIDApfWFzeW5jIGNob29zZUJlc3RXZWJzb2NrZXRDb25uZWN0aW9uKGUsdCl7cmV0dXJuIG5ldyB0ZygoKGksbik9PntsZXQgcj0hMTtjb25zdCBzPVtdO3RoaXMuY2xvc2VFc3RhYmxpc2hpbmdXcz0oKT0+e1dDLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSBjbG9zZSBlc3RhYmxpc2hpbmcgd2Vic29ja2V0c1wiKSxzLmZvckVhY2goKGU9PntlLm9uY2xvc2U9bnVsbCxlLm9ub3Blbj1udWxsLGUub25tZXNzYWdlPW51bGwsZS5jbG9zZSgpfSkpLG4obmV3IFZnKHhnLldTX0FCT1JULFwiY2hvb3NlIGJlc3Qgd2Vic29ja2V0IGFib3J0ZWRcIikpfTtjb25zdCBvPWtDKFwiR0FURVdBWV9ET01BSU5TXCIpO2xldCBhO2NvbnN0IGM9ZS5pbmRleE9mKFwiP2g9XCIpLGQ9by5maW5kKCh0PT4tMSE9PWM/UHIoZSkuY2FsbChlLHQsYyk6UHIoZSkuY2FsbChlLHQpKSk7V0MuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIGN1cnJlbnREb21haW46IFwiLGQsXCIsIGRvbWFpbnM6IFwiLG8pO2xldCBsPSF0aGlzLnRyeURvdWJsZURvbWFpbnx8IWQ7aWYoIWwmJmQpe3ZhciBoO2NvbnN0IHU9RGF0ZS5ub3coKTt0cnl7by5mb3JFYWNoKCh0PT57Y29uc3QgaT0tMT09PWM/ZS5yZXBsYWNlKGQsdCk6ZS5zdWJzdHIoMCxjKStlLnN1YnN0cihjKS5yZXBsYWNlKGQsdCksbj1uZXcgV2ViU29ja2V0KGkpO24uYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIscy5wdXNoKG4pLFdDLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSB3cyBpcyBjb25uZWN0aW5nOlwiLG4udXJsKX0pKX1jYXRjaChlKXtmb3IoV0MuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIHdzIGNyZWF0ZSBmYWlsZWQsIGZhbGxiYWNrIHRvIHNpbmdsZSB1cmxcIikscy5mb3JFYWNoKChlPT5lLmNsb3NlKCkpKTtzLmxlbmd0aDspcy5wb3AoKTtsPSEwfW51bGw9PT0oaD10aGlzLnN0b3JlKXx8dm9pZCAwPT09aHx8aC5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3VybHM6cy5tYXAoKGU9PmUudXJsKSksc2VydmljZTpcImdhdGV3YXlcIn0sdCkscy5mb3JFYWNoKChlPT57ZS5vbm9wZW49KCk9PntpZihyKXJldHVybjtjb25zdCB0PURhdGUubm93KCktdTtXQy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gd3Mgb3BlbiBjb3N0IFwiLmNvbmNhdCh0LFwibXNcIikpLHMuZmlsdGVyKCh0PT50IT09ZSkpLmZvckVhY2goKGU9PntXQy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c11jbG9zZSBiYWNrdXAgd2Vic29ja2V0OiBcIi5jb25jYXQoZS51cmwpKSxlLmNsb3NlKCl9KSkscj0hMCxpKGUpfSxlLm9uY2xvc2U9ZT0+e2lmKGE9ZSxyKXJldHVybjtzLmZpbmQoKGU9PiEoZS5yZWFkeVN0YXRlPT09V2ViU29ja2V0LkNMT1NFRHx8ZS5yZWFkeVN0YXRlPT09V2ViU29ja2V0LkNMT1NJTkcpKSl8fChXQy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gYWxsIHdlYnNvY2tldCBpcyBjbG9zZWRcIikscj0hMCxuKGEpKX0sZS5vbm1lc3NhZ2U9dD0+e1dDLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXVwiLmNvbmNhdChlLnVybCxcIiBvbm1lc3NhZ2U6IFwiKS5jb25jYXQodC5kYXRhKSl9fSkpLFVTKHRoaXMuZm9yY2VDbG9zZVRpbWVvdXQpLnRoZW4oKCgpPT57cy5mb3JFYWNoKChlPT57ZS5yZWFkeVN0YXRlIT09V2ViU29ja2V0Lk9QRU4mJmUuY2xvc2UoKX0pKX0pKX1pZihsKXt2YXIgdTtsZXQgcjtXQy5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gdXNlIHNpbmdsZSB1cmw6IFwiLGUpLG51bGw9PT0odT10aGlzLnN0b3JlKXx8dm9pZCAwPT09dXx8dS5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3VybHM6W2VdLHNlcnZpY2U6XCJnYXRld2F5XCJ9LHQpO3RyeXtyPW5ldyBXZWJTb2NrZXQoZSkscy5wdXNoKHIpLHIuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCJ9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgVmcoeGcuV1NfRVJSLFwiaW5pdCB3ZWJzb2NrZXQgZmFpbGVkISBFcnJvcjogXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpO3JldHVybiBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXVwiKS5jb25jYXQodCkpLHZvaWQgbih0KX1yLm9ub3Blbj0oKT0+e2kocil9LHIub25jbG9zZT1lPT57bihlKX0sci5vbm1lc3NhZ2U9ZT0+e1dDLmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXVwiLmNvbmNhdChyLnVybCxcIiBvbm1lc3NhZ2U6IFwiKS5jb25jYXQoZS5kYXRhKSl9LFVTKHRoaXMuZm9yY2VDbG9zZVRpbWVvdXQpLnRoZW4oKCgpPT57ciYmci5yZWFkeVN0YXRlIT09V2ViU29ja2V0Lk9QRU4mJnIuY2xvc2UoKX0pKX19KSkudGhlbigoZT0+KHRoaXMuY2xvc2VFc3RhYmxpc2hpbmdXcz12b2lkIDAsZSkpKS5jYXRjaCgoZT0+e3Rocm93IHRoaXMuY2xvc2VFc3RhYmxpc2hpbmdXcz12b2lkIDAsZX0pKX19Y2xhc3MgekkgZXh0ZW5kcyBpU3tnZXQgY29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZX1zZXQgY29ubmVjdGlvblN0YXRlKGUpe2UhPT10aGlzLl9jb25uZWN0aW9uU3RhdGUmJih0aGlzLl9jb25uZWN0aW9uU3RhdGU9ZSxlPT09RXYuQ09OTkVDVEVEP3RoaXMuZW1pdChtdi5XU19DT05ORUNURUQpOmU9PT1Fdi5SRUNPTk5FQ1RJTkc/dGhpcy5lbWl0KG12LldTX1JFQ09OTkVDVElORyx0aGlzLl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb24pOmU9PT1Fdi5DTE9TRUQmJnRoaXMuZW1pdChtdi5XU19DTE9TRUQsdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uKSl9Z2V0IGN1cnJlbnRVUkxJbmRleCgpe3JldHVybiB0aGlzLndlYnNvY2tldC5jdXJyZW50VVJMSW5kZXh9Z2V0IHVybCgpe3JldHVybiB0aGlzLndlYnNvY2tldCYmdGhpcy53ZWJzb2NrZXQudXJsfHxudWxsfWdldCBydHQoKXtyZXR1cm4gdGhpcy5ydHRSb2xsaW5nLm1lYW4oKX1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksbnUodGhpcyxcIl9kaXNjb25uZWN0ZWRSZWFzb25cIix2b2lkIDApLG51KHRoaXMsXCJfd2Vic29ja2V0UmVjb25uZWN0UmVhc29uXCIsdm9pZCAwKSxudSh0aGlzLFwiX2Nvbm5lY3Rpb25TdGF0ZVwiLEV2LkNMT1NFRCksbnUodGhpcyxcInJlY29ubmVjdFRva2VuXCIsdm9pZCAwKSxudSh0aGlzLFwid2Vic29ja2V0XCIsdm9pZCAwKSxudSh0aGlzLFwib3BlbkNvbm5lY3Rpb25UaW1lXCIsdm9pZCAwKSxudSh0aGlzLFwiY2xpZW50SWRcIix2b2lkIDApLG51KHRoaXMsXCJsYXN0TXNnVGltZVwiLERhdGUubm93KCkpLG51KHRoaXMsXCJ1cGxvYWRDYWNoZVwiLFtdKSxudSh0aGlzLFwidXBsb2FkQ2FjaGVJbnRlcnZhbFwiLHZvaWQgMCksbnUodGhpcyxcInJ0dFJvbGxpbmdcIixuZXcgZFQoNSkpLG51KHRoaXMsXCJwaW5ncG9uZ1RpbWVyXCIsdm9pZCAwKSxudSh0aGlzLFwid3NJbmZsYXRlRGF0YVRpbWVyXCIsdm9pZCAwKSxudSh0aGlzLFwicGluZ3BvbmdUaW1lb3V0Q291bnRcIiwwKSxudSh0aGlzLFwiam9pblJlc3BvbnNlXCIsdm9pZCAwKSxudSh0aGlzLFwibXVsdGlJcE9wdGlvblwiLHZvaWQgMCksbnUodGhpcyxcImluaXRFcnJvclwiLHZvaWQgMCksbnUodGhpcyxcInNwZWNcIix2b2lkIDApLG51KHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksbnUodGhpcyxcIm9uV2Vic29ja2V0TWVzc2FnZVwiLChlPT57aWYoZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIHZvaWQgdGhpcy5lbWl0KG12Lk9OX0JJTkFSWV9EQVRBLGUuZGF0YSk7Y29uc3QgdD1KU09OLnBhcnNlKGUuZGF0YSk7aWYodGhpcy5sYXN0TXNnVGltZT1EYXRlLm5vdygpLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiX2lkXCIpKXtjb25zdCBlPVwicmVzLUBcIi5jb25jYXQodC5faWQpO3RoaXMuZW1pdChlLHQuX3Jlc3VsdCx0Ll9tZXNzYWdlKX1lbHNlIGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiX3R5cGVcIikpe2lmKHRoaXMuZW1pdCh0Ll90eXBlLHQuX21lc3NhZ2UpLHQuX3R5cGU9PT1Tdi5PTl9OT1RJRklDQVRJT04mJnRoaXMuaGFuZGxlTm90aWZpY2F0aW9uKHQuX21lc3NhZ2UpLHQuX3R5cGU9PT1Tdi5PTl9VU0VSX0JBTk5FRClzd2l0Y2godC5fbWVzc2FnZS5lcnJvcl9jb2RlKXtjYXNlIDE0OnRoaXMuY2xvc2UoY1MuVUlEX0JBTk5FRCk7YnJlYWs7Y2FzZSAxNTp0aGlzLmNsb3NlKGNTLklQX0JBTk5FRCk7YnJlYWs7Y2FzZSAxNjp0aGlzLmNsb3NlKGNTLkNIQU5ORUxfQkFOTkVEKX1pZih0Ll90eXBlPT09U3YuT05fVVNFUl9MSUNFTlNFX0JBTk5FRClzd2l0Y2godC5fbWVzc2FnZS5lcnJvcl9jb2RlKXtjYXNlIF92LkVSUl9MSUNFTlNFX01JU1NJTkc6dGhpcy5jbG9zZShjUy5MSUNFTlNFX01JU1NJTkcpO2JyZWFrO2Nhc2UgX3YuRVJSX0xJQ0VOU0VfRVhQSVJFRDp0aGlzLmNsb3NlKGNTLkxJQ0VOU0VfRVhQSVJFRCk7YnJlYWs7Y2FzZSBfdi5FUlJfTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEOnRoaXMuY2xvc2UoY1MuTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEKTticmVhaztjYXNlIF92LkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEOnRoaXMuY2xvc2UoY1MuTElDRU5TRV9QRVJJT0RfSU5WQUxJRCk7YnJlYWs7Y2FzZSBfdi5FUlJfTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRTp0aGlzLmNsb3NlKGNTLkxJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0UpO2JyZWFrO2Nhc2UgX3YuRVJSX0xJQ0VOU0VfSUxMRUdBTDp0aGlzLmNsb3NlKGNTLkxJQ0VOU0VfSUxMRUdBTCk7YnJlYWs7ZGVmYXVsdDp0aGlzLmNsb3NlKCl9fX0pKSx0aGlzLmNsaWVudElkPWUuY2xpZW50SWQsdGhpcy5zcGVjPWUsdGhpcy5zdG9yZT10LHRoaXMud2Vic29ja2V0PW5ldyBxSShcImdhdGV3YXktXCIuY29uY2F0KHRoaXMuY2xpZW50SWQpLHRoaXMuc3BlYy5yZXRyeUNvbmZpZywhMCxrQyhcIkpPSU5fR0FURVdBWV9VU0VfRFVBTF9ET01BSU5cIiksa0MoXCJKT0lOX0dBVEVXQVlfVVNFXzQ0M1BPUlRfT05MWVwiKSx0KSx0aGlzLmhhbmRsZVdlYnNvY2tldEV2ZW50cygpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPT09RXYuQ09OTkVDVEVEJiZ0aGlzLnJlY29ubmVjdChcInJldHJ5XCIsbFMuT0ZGTElORSl9KSl9YXN5bmMgcmVxdWVzdChlLHQsaSxuKXtjb25zdCByPXhTKDYsXCJcIikscz17X2lkOnIsX3R5cGU6ZSxfbWVzc2FnZTp0fSxvPXRoaXMud2Vic29ja2V0LmNvbm5lY3Rpb25JRCxhPSgpPT5uZXcgdGcoKCh0LGkpPT57aWYodGhpcy5jb25uZWN0aW9uU3RhdGU9PT1Fdi5DT05ORUNURUQpcmV0dXJuIHQoKTtjb25zdCBuPSgpPT57dGhpcy5vZmYobXYuV1NfQ0xPU0VELHIpLHQoKX0scj0oKT0+e3RoaXMub2ZmKG12LldTX0NPTk5FQ1RFRCxuKSxpKG5ldyBNdih4Zy5XU19BQk9SVCkpfTt0aGlzLm9uY2UobXYuV1NfQ09OTkVDVEVELG4pLHRoaXMub25jZShtdi5XU19DTE9TRUQsciksZSE9PWZ2LlBVQkxJU0gmJmUhPT1mdi5TVUJTQ1JJQkUmJmUhPT1mdi5VTlNVQlNDUklCRSYmZSE9PWZ2LlVOUFVCTElTSCYmZSE9PWZ2LkNPTlRST0wmJmUhPT1mdi5SRVNUQVJUX0lDRXx8dGhpcy5vbmNlKG12LkRJU0NPTk5FQ1RfUDJQLCgoKT0+e2kobmV3IE12KHhnLkRJU0NPTk5FQ1RfUDJQKSl9KSksZSE9PWZ2LlBVQkxJU0gmJmUhPT1mdi5SRVNUQVJUX0lDRXx8dGhpcy5vbmNlKG12LkFCT1JUX1AyUF9FWEVDVVRJT04sKCgpPT57aShuZXcgTXYoeGcuRElTQ09OTkVDVF9QMlApKX0pKX0pKTtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PUV2LkNPTk5FQ1RJTkcmJnRoaXMuY29ubmVjdGlvblN0YXRlIT09RXYuUkVDT05ORUNUSU5HfHxlPT09ZnYuSk9JTnx8ZT09PWZ2LlJFSk9JTnx8YXdhaXQgYSgpLHRoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKHMsITApLG4pcmV0dXJuO2NvbnN0IGM9bmV3IHRnKCgoaSxuKT0+e2xldCBzPSExO2NvbnN0IGE9KG4scik9PntzPSEwLGkoe2lzU3VjY2VzczpcInN1Y2Nlc3NcIj09PW4sbWVzc2FnZTpyfHx7fX0pLHRoaXMub2ZmKG12LldTX0NMT1NFRCxjKSx0aGlzLm9mZihtdi5XU19SRUNPTk5FQ1RJTkcsYyksdGhpcy5lbWl0KG12LlJFUVVFU1RfU1VDQ0VTUyxlLHQpfTt0aGlzLm9uY2UoXCJyZXMtQFwiLmNvbmNhdChyKSxhKTtjb25zdCBjPSgpPT57bihuZXcgTXYoeGcuV1NfQUJPUlQsXCJ0eXBlOiBcIi5jb25jYXQoZSkpKSx0aGlzLm9mZihtdi5XU19DTE9TRUQsYyksdGhpcy5vZmYobXYuV1NfUkVDT05ORUNUSU5HLGMpLHRoaXMub2ZmKFwicmVzLUBcIi5jb25jYXQociksYSl9O3RoaXMub25jZShtdi5XU19DTE9TRUQsYyksdGhpcy5vbmNlKG12LldTX1JFQ09OTkVDVElORyxjKSxVUyhrQyhcIlNJR05BTF9SRVFVRVNUX1RJTUVPVVRcIikpLnRoZW4oKCgpPT57dGhpcy53ZWJzb2NrZXQuY29ubmVjdGlvbklEIT09b3x8c3x8KFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHdzIHJlcXVlc3QgdGltZW91dCwgdHlwZTogXCIpLmNvbmNhdChlKSksdGhpcy5lbWl0KG12LlJFUVVFU1RfVElNRU9VVCxlLHQpKX0pKX0pKTtsZXQgZD1udWxsO3RyeXtkPWF3YWl0IGN9Y2F0Y2gobil7aWYodGhpcy5jb25uZWN0aW9uU3RhdGU9PT1Fdi5DTE9TRUR8fGU9PT1mdi5MRUFWRSl0aHJvdyBuZXcgTXYoeGcuV1NfQUJPUlQpO3JldHVybiF0aGlzLnNwZWMuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlfHxpP24udGhyb3coKTplPT09ZnYuSk9JTnx8ZT09PWZ2LlJFSk9JTj9udWxsOihhd2FpdCBhKCksYXdhaXQgdGhpcy5yZXF1ZXN0KGUsdCkpfWlmKGQuaXNTdWNjZXNzKXJldHVybiBkLm1lc3NhZ2U7Y29uc3QgbD1OdW1iZXIoZC5tZXNzYWdlLmVycm9yX2NvZGV8fGQubWVzc2FnZS5jb2RlKSxoPWtJKGwpLHU9bmV3IE12KHhnLlVORVhQRUNURURfUkVTUE9OU0UsXCJcIi5jb25jYXQoaC5kZXNjLFwiOiBcIikuY29uY2F0KGQubWVzc2FnZS5lcnJvcl9zdHIpLHtjb2RlOmwsZGF0YTpkLm1lc3NhZ2V9KTtyZXR1cm5cInN1Y2Nlc3NcIj09PWguYWN0aW9uP2QubWVzc2FnZTooV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy53ZWJzb2NrZXQuY29ubmVjdGlvbklELFwiXSB1bmV4cGVjdGVkIHJlc3BvbnNlIGZyb20gdHlwZSBcIikuY29uY2F0KGUsXCIsIGVycm9yX2NvZGU6IFwiKS5jb25jYXQobCxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdChoLmRlc2MsXCIsIGFjdGlvbjogXCIpLmNvbmNhdChoLmFjdGlvbikpLGw9PT1fdi5FUlJfVE9PX01BTllfQlJPQURDQVNURVJTP2U9PT1mdi5KT0lOfHxlPT09ZnYuUkVKT0lOPyh0aGlzLmluaXRFcnJvcj11LHRoaXMuY2xvc2UoKSx1LnRocm93KCkpOnUudGhyb3coKTpcImZhaWxlZFwiPT09aC5hY3Rpb24/dS50aHJvdygpOlwicXVpdFwiPT09aC5hY3Rpb24/KHRoaXMuaW5pdEVycm9yPXUsdGhpcy5jbG9zZSgpLHUudGhyb3coKSk6KGw9PT1fdi5FUlJfSk9JTl9CWV9NVUxUSV9JUD8odGhpcy5tdWx0aUlwT3B0aW9uPWQubWVzc2FnZS5vcHRpb24sV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gZGV0ZWN0IG11bHRpIGlwLCByZWNvdmVyXCIpKSx0aGlzLnJlY29ubmVjdChcInJlY292ZXJcIixsUy5NVUxUSV9JUCkpOnRoaXMucmVjb25uZWN0KGguYWN0aW9uLGxTLlNFUlZFUl9FUlJPUiksZT09PWZ2LkpPSU58fGU9PT1mdi5SRUpPSU4/bnVsbDphd2FpdCB0aGlzLnJlcXVlc3QoZSx0KSkpfXdhaXRNZXNzYWdlKGUsdCl7cmV0dXJuIG5ldyB0ZygoaT0+e2NvbnN0IG49cj0+eyghdHx8dChyKSkmJih0aGlzLm9mZihlLG4pLGkocikpfTt0aGlzLm9uKGUsbil9KSl9dXBsb2FkKGUsdCl7Y29uc3QgaT17X3R5cGU6ZSxfbWVzc2FnZTp0fTt0cnl7dGhpcy53ZWJzb2NrZXQuc2VuZE1lc3NhZ2UoaSl9Y2F0Y2goZSl7Y29uc3QgdD1rQyhcIk1BWF9VUExPQURfQ0FDSEVcIil8fDUwO3RoaXMudXBsb2FkQ2FjaGUucHVzaChpKSx0aGlzLnVwbG9hZENhY2hlLmxlbmd0aD50JiZ0aGlzLnVwbG9hZENhY2hlLnNwbGljZSgwLDEpLHRoaXMudXBsb2FkQ2FjaGUubGVuZ3RoPjAmJiF0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWwmJih0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09RXYuQ09OTkVDVEVEKXJldHVybjtjb25zdCBlPXRoaXMudXBsb2FkQ2FjaGUuc3BsaWNlKDAsMSlbMF07MD09PXRoaXMudXBsb2FkQ2FjaGUubGVuZ3RoJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxvYWRDYWNoZUludGVydmFsKSx0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWw9dm9pZCAwKSx0aGlzLnVwbG9hZChlLl90eXBlLGUuX21lc3NhZ2UpfSksa0MoXCJVUExPQURfQ0FDSEVfSU5URVJWQUxcIil8fDJlMykpfX1zZW5kKGUsdCl7Y29uc3QgaT17X3R5cGU6ZSxfbWVzc2FnZTp0fTt0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShpKX1pbml0KGUsdCl7cmV0dXJuIHRoaXMuaW5pdEVycm9yPXZvaWQgMCx0aGlzLm11bHRpSXBPcHRpb249dm9pZCAwLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLm9wZW5Db25uZWN0aW9uVGltZT12b2lkIDAsbmV3IHRnKCgodCxpKT0+e3RoaXMub25jZShtdi5XU19DT05ORUNURUQsKCgpPT50KHRoaXMuam9pblJlc3BvbnNlKSkpLHRoaXMub25jZShtdi5XU19DTE9TRUQsKCgpPT5pKHRoaXMuaW5pdEVycm9yfHxuZXcgTXYoeGcuV1NfQUJPUlQpKSkpLHRoaXMuY29ubmVjdGlvblN0YXRlPUV2LkNPTk5FQ1RJTkcsdGhpcy53ZWJzb2NrZXQuaW5pdChlKS5jYXRjaChpKSx0aGlzLndzSW5mbGF0ZURhdGFUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy53c0luZmxhdGVEYXRhVGltZXIpLHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLmhhbmRsZVdzSW5mbGF0ZURhdGEoKX0pLDJlNCl9KSl9Y2xvc2UoZSl7dGhpcy5waW5ncG9uZ1RpbWVyJiYodGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD0wLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXZvaWQgMCksdGhpcy53c0luZmxhdGVEYXRhVGltZXImJih0aGlzLmhhbmRsZVdzSW5mbGF0ZURhdGEoKSx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLndzSW5mbGF0ZURhdGFUaW1lciksdGhpcy53c0luZmxhdGVEYXRhVGltZXI9dm9pZCAwKSx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uPWV8fGNTLkxFQVZFLHRoaXMuY29ubmVjdGlvblN0YXRlPUV2LkNMT1NFRCxXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gXCIpK1wid2lsbCBjbG9zZSB3ZWJzb2NrZXQgaW4gc2lnbmFsXCIpLHRoaXMud2Vic29ja2V0LmNsb3NlKCksZT09PWNTLkZBTExCQUNLJiYodGhpcy53ZWJzb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy53ZWJzb2NrZXQ9bmV3IHFJKFwiZ2F0ZXdheS1cIi5jb25jYXQodGhpcy5jbGllbnRJZCksdGhpcy5zcGVjLnJldHJ5Q29uZmlnLCEwLGtDKFwiSk9JTl9HQVRFV0FZX1VTRV9EVUFMX0RPTUFJTlwiKSxrQyhcIkpPSU5fR0FURVdBWV9VU0VfNDQzUE9SVF9PTkxZXCIpLHRoaXMuc3RvcmUpLHRoaXMuaGFuZGxlV2Vic29ja2V0RXZlbnRzKCkpfWFzeW5jIGpvaW4oKXtpZighdGhpcy5qb2luUmVzcG9uc2Upe3RoaXMuZW1pdChtdi5BQk9SVF9QMlBfRVhFQ1VUSU9OKTtjb25zdCBlPWF3YWl0IGZTKHRoaXMsbXYuUkVRVUVTVF9KT0lOX0lORk8pLHQ9YXdhaXQgdGhpcy5yZXF1ZXN0KGZ2LkpPSU4sZSk7aWYoIXQpcmV0dXJuIHRoaXMuZW1pdChtdi5SRVBPUlRfSk9JTl9HQVRFV0FZLCR2LlRJTUVPVVQsdGhpcy51cmx8fFwiXCIpLCExO3RoaXMuam9pblJlc3BvbnNlPXQsdGhpcy5lbWl0KG12LkpPSU5fUkVTUE9OU0UsdGhpcy5qb2luUmVzcG9uc2UpLHRoaXMucmVjb25uZWN0VG9rZW49dGhpcy5qb2luUmVzcG9uc2UucmVqb2luX3Rva2VufXJldHVybiB0aGlzLmNvbm5lY3Rpb25TdGF0ZT1Fdi5DT05ORUNURUQsdGhpcy5waW5ncG9uZ1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5oYW5kbGVQaW5nUG9uZy5iaW5kKHRoaXMpLDNlMyksITB9YXN5bmMgcmVqb2luKCl7aWYoIXRoaXMucmVjb25uZWN0VG9rZW4pdGhyb3cgbmV3IE12KHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IHJlam9pbiwgbm8gcmVqb2luIHRva2VuXCIpO2NvbnN0IGU9VFModGhpcyxtdi5SRVFVRVNUX1JFSk9JTl9JTkZPKTtlLnRva2VuPXRoaXMucmVjb25uZWN0VG9rZW47Y29uc3QgdD1hd2FpdCB0aGlzLnJlcXVlc3QoZnYuUkVKT0lOLGUpO3JldHVybiEhdCYmKHRoaXMuY29ubmVjdGlvblN0YXRlPUV2LkNPTk5FQ1RFRCx0aGlzLnBpbmdwb25nVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmhhbmRsZVBpbmdQb25nLmJpbmQodGhpcyksM2UzKSx0LnBlZXJzJiZ0LnBlZXJzLmZvckVhY2goKGU9Pnt0aGlzLmVtaXQoU3YuT05fVVNFUl9PTkxJTkUse3VpZDplLnVpZH0pLGUuYXVkaW8mJnRoaXMuZW1pdChTdi5PTl9BRERfQVVESU9fU1RSRUFNLHt1aWQ6ZS51aWQsdWludF9pZDplLnVpbnRfaWQsYXVkaW86ITAsc3NyY0lkOmUuYXVkaW9fc3NyY30pLGUudmlkZW8mJnRoaXMuZW1pdChTdi5PTl9BRERfVklERU9fU1RSRUFNLHt1aWQ6ZS51aWQsdWludF9pZDplLnVpbnRfaWQsdmlkZW86ITAsc3NyY0lkOmUudmlkZW9fc3NyY30pLGUuYXVkaW9fbXV0ZT90aGlzLmVtaXQoU3YuTVVURV9BVURJTyx7dWlkOmUudWlkfSk6dGhpcy5lbWl0KFN2LlVOTVVURV9BVURJTyx7dWlkOmUudWlkfSksZS52aWRlb19tdXRlP3RoaXMuZW1pdChTdi5NVVRFX1ZJREVPLHt1aWQ6ZS51aWR9KTp0aGlzLmVtaXQoU3YuVU5NVVRFX1ZJREVPLHt1aWQ6ZS51aWR9KSxlLmF1ZGlvX2VuYWJsZV9sb2NhbD90aGlzLmVtaXQoU3YuRU5BQkxFX0xPQ0FMX0FVRElPLHt1aWQ6ZS51aWR9KTp0aGlzLmVtaXQoU3YuRElTQUJMRV9MT0NBTF9BVURJTyx7dWlkOmUudWlkfSksZS52aWRlb19lbmFibGVfbG9jYWw/dGhpcy5lbWl0KFN2LkVOQUJMRV9MT0NBTF9WSURFTyx7dWlkOmUudWlkfSk6dGhpcy5lbWl0KFN2LkRJU0FCTEVfTE9DQUxfVklERU8se3VpZDplLnVpZH0pLGUuYXVkaW98fGUudmlkZW98fHRoaXMuZW1pdChTdi5PTl9SRU1PVkVfU1RSRUFNLHt1aWQ6ZS51aWQsdWludF9pZDplLnVpbnRfaWR9KX0pKSwhMCl9cmVjb25uZWN0KGUsdCl7dGhpcy5waW5ncG9uZ1RpbWVyJiYodGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD0wLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXZvaWQgMCksdGhpcy53ZWJzb2NrZXQucmVjb25uZWN0KGUsdCl9aGFuZGxlTm90aWZpY2F0aW9uKGUpe1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSByZWNlaXZlIG5vdGlmaWNhdGlvbjogXCIpLGUpO2NvbnN0IHQ9a0koZS5jb2RlKTtpZihcInN1Y2Nlc3NcIiE9PXQuYWN0aW9uKXtpZihcImZhaWxlZFwiIT09dC5hY3Rpb24pcmV0dXJuXCJxdWl0XCI9PT10LmFjdGlvbj8oXCJFUlJfUkVQRUFUX0pPSU5fQ0hBTk5FTFwiPT09dC5kZXNjJiZ0aGlzLmNsb3NlKGNTLlVJRF9CQU5ORUQpLHZvaWQgdGhpcy5jbG9zZSgpKTp2b2lkIHRoaXMucmVjb25uZWN0KHQuYWN0aW9uLGxTLlNFUlZFUl9FUlJPUik7V0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGlnbm9yZSBlcnJvcjogXCIpLHQuZGVzYyl9fWhhbmRsZVBpbmdQb25nKCl7aWYoIXRoaXMud2Vic29ja2V0fHxcImNvbm5lY3RlZFwiIT09dGhpcy53ZWJzb2NrZXQuc3RhdGUpcmV0dXJuO3RoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ+MCYmdGhpcy5ydHRSb2xsaW5nLmFkZCgzZTMpLHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQrPTE7Y29uc3QgZT1rQyhcIlBJTkdfUE9OR19USU1FX09VVFwiKSx0PURhdGUubm93KCk7dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD49ZSYmKFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFBJTkctUE9ORyBUaW1lb3V0LiBMYXN0IFNvY2tldCBNZXNzYWdlOiBcIikuY29uY2F0KHQtdGhpcy5sYXN0TXNnVGltZSxcIm1zXCIpKSx0LXRoaXMubGFzdE1zZ1RpbWU+a0MoXCJXRUJTT0NLRVRfVElNRU9VVF9NSU5cIikpP3RoaXMucmVjb25uZWN0KFwicmV0cnlcIixsUy5USU1FT1VUKTp0aGlzLnJlcXVlc3QoZnYuUElORyx2b2lkIDAsITApLnRoZW4oKCgpPT57dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD0wO2NvbnN0IGU9RGF0ZS5ub3coKS10O3RoaXMucnR0Um9sbGluZy5hZGQoZSksa0MoXCJSRVBPUlRfU1RBVFNcIikmJnRoaXMuc2VuZChmdi5QSU5HX0JBQ0sse3Bpbmdwb25nRWxhcHNlOmV9KX0pKS5jYXRjaCgoZT0+e30pKX1oYW5kbGVXc0luZmxhdGVEYXRhKCl7Y29uc3R7d3NJbmZsYXRlTGVuZ3RoOmUsd3NEZWZsYXRlTGVuZ3RoOnR9PXRoaXMud2Vic29ja2V0LmdldFdzSW5mbGF0ZURhdGEoKTswIT09ZSYmMCE9PXQmJnRoaXMudXBsb2FkKGd2LldTX0lORkxBVEVfREFUQV9MRU5HVEgse3dzX2RlZmxhdGVfbGVuZ3RoOnQsd3NfaW5mbGF0ZV9sZW5ndGg6ZX0pfWhhbmRsZVdlYnNvY2tldEV2ZW50cygpe3RoaXMud2Vic29ja2V0Lm9uKEN2LlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsKGU9Pnt0aGlzLmVtaXQobXYuV1NfUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCxlKX0pKSx0aGlzLndlYnNvY2tldC5vbihDdi5SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sKGU9Pnt0aGlzLmVtaXQobXYuV1NfUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OLGUpfSkpLHRoaXMud2Vic29ja2V0Lm9uKEN2Lk9OX01FU1NBR0UsdGhpcy5vbldlYnNvY2tldE1lc3NhZ2UpLHRoaXMud2Vic29ja2V0Lm9uKEN2LkNMT1NFRCwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT1Fdi5DTE9TRUR9KSksdGhpcy53ZWJzb2NrZXQub24oQ3YuRkFJTEVELCgoKT0+e3RoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1jUy5ORVRXT1JLX0VSUk9SLHRoaXMuY29ubmVjdGlvblN0YXRlPUV2LkNMT1NFRH0pKSx0aGlzLndlYnNvY2tldC5vbihDdi5SRUNPTk5FQ1RJTkcsKGU9Pnt0aGlzLl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb249ZSx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5jb25uZWN0aW9uU3RhdGU9PT1Fdi5DT05ORUNURUQ/dGhpcy5jb25uZWN0aW9uU3RhdGU9RXYuUkVDT05ORUNUSU5HOnRoaXMuY29ubmVjdGlvblN0YXRlPUV2LkNPTk5FQ1RJTkd9KSksdGhpcy53ZWJzb2NrZXQub24oQ3YuV0lMTF9SRUNPTk5FQ1QsKChlLHQsaSk9Pntjb25zdCBuPVRTKHRoaXMsbXYuSVNfUDJQX0RJU0NPTk5FQ1RFRCkscj1ufHxcInJldHJ5XCIhPT1lO24mJlwicmV0cnlcIj09PWUmJihXQy5kZWJ1ZyhcIlwiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiIHJlY29ubmVjdCBtb2RlIGlzIHJldHJ5LCBidXQgcDJwIGxvc3QsIGNoYW5nZSB0byB0cnlOZXh0XCIpKSxlPVwidHJ5TmV4dFwiLHQ9JHYuUDJQX0RJU0NPTk5FQ1RFRCksciYmKFdDLmRlYnVnKFwiXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCIgd2lsbCByZW5ld1Nlc3Npb24sIHJlY29ubmVjdCBtb2RlOiBcIikuY29uY2F0KGUpKSx0aGlzLmVtaXQobXYuUkVQT1JUX0pPSU5fR0FURVdBWSx0fHwkdi5VTktOT1dOX1JFQVNPTix0aGlzLnVybHx8XCJcIiksdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDAsdGhpcy5lbWl0KG12Lk5FRURfUkVORVdfU0VTU0lPTiksdGhpcy5lbWl0KG12LkRJU0NPTk5FQ1RfUDJQKSksaShlKX0pKSx0aGlzLndlYnNvY2tldC5vbihDdi5DT05ORUNURUQsKCgpPT57dGhpcy5vcGVuQ29ubmVjdGlvblRpbWU9RGF0ZS5ub3coKSx0aGlzLnJlY29ubmVjdFRva2VuP3RoaXMucmVqb2luKCkuY2F0Y2goKGU9PntXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSByZWpvaW4gZmFpbGVkIFwiKS5jb25jYXQoZSkpLHRoaXMucmVjb25uZWN0KFwidHJ5TmV4dFwiLGxTLlNFUlZFUl9FUlJPUil9KSk6dGhpcy5qb2luKCkuY2F0Y2goKGU9PntpZih0aGlzLmVtaXQobXYuUkVQT1JUX0pPSU5fR0FURVdBWSxlLm1lc3NhZ2V8fGUuY29kZXx8JHYuVU5LTk9XTl9SRUFTT04sdGhpcy51cmx8fFwiXCIpLGUgaW5zdGFuY2VvZiBNdiYmZS5jb2RlPT09eGcuVU5FWFBFQ1RFRF9SRVNQT05TRSYmZS5kYXRhLmNvZGU9PT1fdi5FUlJfTk9fQVVUSE9SSVpFRClyZXR1cm4gV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gcmVjb25uZWN0IG5vIGF1dGhvcml6ZWQsIHJlY292ZXJcIikpLHZvaWQgdGhpcy5yZWNvbm5lY3QoXCJyZWNvdmVyXCIsbFMuU0VSVkVSX0VSUk9SKTtXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gam9pbiBnYXRld2F5IHJlcXVlc3QgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSksdGhpcy5zcGVjLmZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZT90aGlzLnJlY29ubmVjdChcInRyeU5leHRcIixsUy5TRVJWRVJfRVJST1IpOih0aGlzLmluaXRFcnJvcj1lLHRoaXMuY2xvc2UoKSl9KSl9KSksdGhpcy53ZWJzb2NrZXQub24oQ3YuUkVRVUVTVF9ORVdfVVJMUywoKGUsdCk9PntmUyh0aGlzLG12LlJFUVVFU1RfUkVDT1ZFUix0aGlzLm11bHRpSXBPcHRpb24pLnRoZW4oZSkuY2F0Y2godCl9KSksdGhpcy53ZWJzb2NrZXQub24oQ3YuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUsKCgpPT57dGhpcy5lbWl0KFN2Lk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFKX0pKX19dmFyIFhJPVwiXFx0XFxuXFx2XFxmXFxyIMKg4ZqA4oCA4oCB4oCC4oCD4oCE4oCF4oCG4oCH4oCI4oCJ4oCK4oCv4oGf44CAXFx1MjAyOFxcdTIwMjlcXHVmZWZmXCIsUUk9ZXQsWkk9Z3IsJEk9WEksZXk9X2UoXCJcIi5yZXBsYWNlKSx0eT1SZWdFeHAoXCJeW1wiKyRJK1wiXStcIiksaXk9UmVnRXhwKFwiKF58W15cIiskSStcIl0pW1wiKyRJK1wiXSskXCIpLG55PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgaT1aSShRSSh0KSk7cmV0dXJuIDEmZSYmKGk9ZXkoaSx0eSxcIlwiKSksMiZlJiYoaT1leShpLGl5LFwiJDFcIikpLGl9fSxyeT17c3RhcnQ6bnkoMSksZW5kOm55KDIpLHRyaW06bnkoMyl9LHN5PUpkLlBST1BFUixveT1jZSxheT1YSSxjeT1yeS50cmltO2tuKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG95KChmdW5jdGlvbigpe3JldHVybiEhYXlbZV0oKXx8XCLigIvCheGgjlwiIT09XCLigIvCheGgjlwiW2VdKCl8fHN5JiZheVtlXS5uYW1lIT09ZX0pKX0oXCJ0cmltXCIpfSx7dHJpbTpmdW5jdGlvbigpe3JldHVybiBjeSh0aGlzKX19KTt2YXIgZHksbHksaHk9ZXIoXCJTdHJpbmdcIikudHJpbSx1eT1FZSxweT1oeSxfeT1TdHJpbmcucHJvdG90eXBlLEV5PUooKGZ1bmN0aW9uKGUpe3ZhciB0PWUudHJpbTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZXx8ZT09PV95fHx1eShfeSxlKSYmdD09PV95LnRyaW0/cHk6dH0pKTtmdW5jdGlvbiBteShlLHQsaSl7cmV0dXJue3NhbXBsZVJhdGU6ZSxzdGVyZW86dCxiaXRyYXRlOml9fWZ1bmN0aW9uIGZ5KGUsdCxpLG4scil7cmV0dXJue3dpZHRoOmUsaGVpZ2h0OnQsZnJhbWVSYXRlOmksYml0cmF0ZU1pbjpuLGJpdHJhdGVNYXg6cn19ZnVuY3Rpb24gZ3koZSx0LGksbixyKXtyZXR1cm57d2lkdGg6e21heDplfSxoZWlnaHQ6e21heDp0fSxmcmFtZVJhdGU6aSxiaXRyYXRlTWluOm4sYml0cmF0ZU1heDpyfX1mdW5jdGlvbiBTeShlLHQpe3JldHVybntudW1TcGF0aWFsTGF5ZXJzOmUsbnVtVGVtcG9yYWxMYXllcnM6dH19IWZ1bmN0aW9uKGUpe2VbZS5DSE9PU0VfU0VSVkVSPTExXT1cIkNIT09TRV9TRVJWRVJcIixlW2UuQ0xPVURfUFJPWFk9MThdPVwiQ0xPVURfUFJPWFlcIixlW2UuQ0xPVURfUFJPWFlfNT0yMF09XCJDTE9VRF9QUk9YWV81XCIsZVtlLkNMT1VEX1BST1hZX0ZBTExCQUNLPTI2XT1cIkNMT1VEX1BST1hZX0ZBTExCQUNLXCJ9KGR5fHwoZHk9e30pKSxmdW5jdGlvbihlKXtlLklPU18xNV8xNl9JTlRFUlJVUFRJT05fU1RBUlQ9XCJpb3MxNV8xNi1pbnRlcnJ1cHRpb24tc3RhcnRcIixlLklPU18xNV8xNl9JTlRFUlJVUFRJT05fRU5EPVwiaW9zMTVfMTYtaW50ZXJydXB0aW9uLWVuZFwiLGUuSU9TX0lOVEVSUlVQVElPTl9TVEFSVD1cImlvcy1pbnRlcnJ1cHRpb24tc3RhcnRcIixlLklPU19JTlRFUlJVUFRJT05fRU5EPVwiaW9zLWludGVycnVwdGlvbi1lbmRcIixlLlNUQVRFX0NIQU5HRT1cInN0YXRlLWNoYW5nZVwifShseXx8KGx5PXt9KSk7Y29uc3QgVHk9e1wiOTBwXCI6ZnkoMTYwLDkwKSxcIjkwcF8xXCI6ZnkoMTYwLDkwKSxcIjEyMHBcIjpmeSgxNjAsMTIwLDE1LDMwLDY1KSxcIjEyMHBfMVwiOmZ5KDE2MCwxMjAsMTUsMzAsNjUpLFwiMTIwcF8zXCI6ZnkoMTIwLDEyMCwxNSwzMCw1MCksXCIxMjBwXzRcIjpmeSgyMTIsMTIwKSxcIjE4MHBcIjpmeSgzMjAsMTgwLDE1LDMwLDE0MCksXCIxODBwXzFcIjpmeSgzMjAsMTgwLDE1LDMwLDE0MCksXCIxODBwXzNcIjpmeSgxODAsMTgwLDE1LDMwLDEwMCksXCIxODBwXzRcIjpmeSgyNDAsMTgwLDE1LDMwLDEyMCksXCIyNDBwXCI6ZnkoMzIwLDI0MCwxNSw0MCwyMDApLFwiMjQwcF8xXCI6ZnkoMzIwLDI0MCwxNSw0MCwyMDApLFwiMjQwcF8zXCI6ZnkoMjQwLDI0MCwxNSw0MCwxNDApLFwiMjQwcF80XCI6ZnkoNDI0LDI0MCwxNSw0MCwyMjApLFwiMzYwcFwiOmZ5KDY0MCwzNjAsMTUsODAsNDAwKSxcIjM2MHBfMVwiOmZ5KDY0MCwzNjAsMTUsODAsNDAwKSxcIjM2MHBfM1wiOmZ5KDM2MCwzNjAsMTUsODAsMjYwKSxcIjM2MHBfNFwiOmZ5KDY0MCwzNjAsMzAsODAsNjAwKSxcIjM2MHBfNlwiOmZ5KDM2MCwzNjAsMzAsODAsNDAwKSxcIjM2MHBfN1wiOmZ5KDQ4MCwzNjAsMTUsODAsMzIwKSxcIjM2MHBfOFwiOmZ5KDQ4MCwzNjAsMzAsODAsNDkwKSxcIjM2MHBfOVwiOmZ5KDY0MCwzNjAsMTUsODAsODAwKSxcIjM2MHBfMTBcIjpmeSg2NDAsMzYwLDI0LDgwLDgwMCksXCIzNjBwXzExXCI6ZnkoNjQwLDM2MCwyNCw4MCwxZTMpLFwiNDgwcFwiOmZ5KDY0MCw0ODAsMTUsMTAwLDUwMCksXCI0ODBwXzFcIjpmeSg2NDAsNDgwLDE1LDEwMCw1MDApLFwiNDgwcF8yXCI6ZnkoNjQwLDQ4MCwzMCwxMDAsMWUzKSxcIjQ4MHBfM1wiOmZ5KDQ4MCw0ODAsMTUsMTAwLDQwMCksXCI0ODBwXzRcIjpmeSg2NDAsNDgwLDMwLDEwMCw3NTApLFwiNDgwcF82XCI6ZnkoNDgwLDQ4MCwzMCwxMDAsNjAwKSxcIjQ4MHBfOFwiOmZ5KDg0OCw0ODAsMTUsMTAwLDYxMCksXCI0ODBwXzlcIjpmeSg4NDgsNDgwLDMwLDEwMCw5MzApLFwiNDgwcF8xMFwiOmZ5KDY0MCw0ODAsMTAsMTAwLDQwMCksXCI3MjBwXCI6ZnkoMTI4MCw3MjAsMTUsMTIwLDExMzApLFwiNzIwcF8xXCI6ZnkoMTI4MCw3MjAsMTUsMTIwLDExMzApLFwiNzIwcF8yXCI6ZnkoMTI4MCw3MjAsMzAsMTIwLDJlMyksXCI3MjBwXzNcIjpmeSgxMjgwLDcyMCwzMCwxMjAsMTcxMCksXCI3MjBwXzVcIjpmeSg5NjAsNzIwLDE1LDEyMCw5MTApLFwiNzIwcF82XCI6ZnkoOTYwLDcyMCwzMCwxMjAsMTM4MCksXCIxMDgwcFwiOmZ5KDE5MjAsMTA4MCwxNSwxMjAsMjA4MCksXCIxMDgwcF8xXCI6ZnkoMTkyMCwxMDgwLDE1LDEyMCwyMDgwKSxcIjEwODBwXzJcIjpmeSgxOTIwLDEwODAsMzAsMTIwLDNlMyksXCIxMDgwcF8zXCI6ZnkoMTkyMCwxMDgwLDMwLDEyMCwzMTUwKSxcIjEwODBwXzVcIjpmeSgxOTIwLDEwODAsNjAsMTIwLDQ3ODApLFwiMTQ0MHBcIjpmeSgyNTYwLDE0NDAsMzAsMTIwLDQ4NTApLFwiMTQ0MHBfMVwiOmZ5KDI1NjAsMTQ0MCwzMCwxMjAsNDg1MCksXCIxNDQwcF8yXCI6ZnkoMjU2MCwxNDQwLDYwLDEyMCw3MzUwKSxcIjRrXCI6ZnkoMzg0MCwyMTYwLDMwLDEyMCw4OTEwKSxcIjRrXzFcIjpmeSgzODQwLDIxNjAsMzAsMTIwLDg5MTApLFwiNGtfM1wiOmZ5KDM4NDAsMjE2MCw2MCwxMjAsMTM1MDApfSxSeT17XCI0ODBwXCI6Z3koNjQwLDQ4MCw1KSxcIjQ4MHBfMVwiOmd5KDY0MCw0ODAsNSksXCI0ODBwXzJcIjpneSg2NDAsNDgwLDMwKSxcIjQ4MHBfM1wiOmd5KDY0MCw0ODAsMTUpLFwiNzIwcFwiOmd5KDEyODAsNzIwLDUpLFwiNzIwcF8xXCI6Z3koMTI4MCw3MjAsNSksXCI3MjBwXzJcIjpneSgxMjgwLDcyMCwzMCksXCI3MjBwXzNcIjpneSgxMjgwLDcyMCwxNSksXCIxMDgwcFwiOmd5KDE5MjAsMTA4MCw1KSxcIjEwODBwXzFcIjpneSgxOTIwLDEwODAsNSksXCIxMDgwcF8yXCI6Z3koMTkyMCwxMDgwLDMwKSxcIjEwODBwXzNcIjpneSgxOTIwLDEwODAsMTUpfSxDeT17XCIxU0wxVExcIjpTeSgxLDEpLFwiM1NMM1RMXCI6U3koMywzKSxcIjJTTDNUTFwiOlN5KDIsMyl9O2Z1bmN0aW9uIHZ5KGUpe3JldHVybiBlfHwoZT1cIjQ4MHBfMVwiKSxcInN0cmluZ1wiPT10eXBlb2YgZT9PYmplY3QuYXNzaWduKHt9LFR5W2VdKTplfWZ1bmN0aW9uIEl5KGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP09iamVjdC5hc3NpZ24oe30sUnlbZV0pOmV9ZnVuY3Rpb24geXkoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/T2JqZWN0LmFzc2lnbih7fSxDeVtlXSk6ZX1jb25zdCBBeT17c3BlZWNoX2xvd19xdWFsaXR5Om15KDE2ZTMsITEpLHNwZWVjaF9zdGFuZGFyZDpteSgzMmUzLCExLDE4KSxtdXNpY19zdGFuZGFyZDpteSg0OGUzLCExKSxzdGFuZGFyZF9zdGVyZW86bXkoNDhlMywhMCw1NiksaGlnaF9xdWFsaXR5Om15KDQ4ZTMsITEsMTI4KSxoaWdoX3F1YWxpdHlfc3RlcmVvOm15KDQ4ZTMsITAsMTkyKX07ZnVuY3Rpb24gYnkoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/T2JqZWN0LmFzc2lnbih7fSxBeVtlXSk6ZX1jb25zdCB3eT1bXTtmdW5jdGlvbiBPeShlKXtyZXR1cm4gQmcoZSxcIm1lZGlhU291cmNlXCIsW1wic2NyZWVuXCIsXCJ3aW5kb3dcIixcImFwcGxpY2F0aW9uXCJdKSwhMH12YXIgTnksRHksUHksTHksa3ksTXksVXkseHksVnksRnk7IWZ1bmN0aW9uKGUpe2UuTkVFRF9SRU5FR09USUFURT1cIkBuZWVkX3JlbmVnb3RpYXRlXCIsZS5ORUVEX1JFUExBQ0VfVFJBQ0s9XCJAbmVlZF9yZXBsYWNlX3RyYWNrXCIsZS5ORUVEX0NMT1NFPVwiQG5lZWRfY2xvc2VcIixlLk5FRURfRU5BQkxFX1RSQUNLPVwiQG5lZWRfZW5hYmxlX3RyYWNrXCIsZS5ORUVEX0RJU0FCTEVfVFJBQ0s9XCJAbmVlZF9kaXNhYmxlX3RyYWNrXCIsZS5ORUVEX1NFU1NJT05fSUQ9XCJAbmVlZF9zaWRcIixlLlNFVF9PUFRJTUlaQVRJT05fTU9ERT1cIkBzZXRfb3B0aW1pemF0aW9uX21vZGVcIixlLkdFVF9TVEFUUz1cIkBnZXRfc3RhdHNcIixlLkdFVF9MT1dfVklERU9fVFJBQ0s9XCJAZ2V0X2xvd192aWRlb190cmFja1wiLGUuTkVFRF9SRVNFVF9SRU1PVEVfU0RQPVwiQG5lZWRfcmVzZXRfcmVtb3RlX3NkcFwiLGUuTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUj1cIkBuZWVkX3VwZGF0ZV92aWRlb19lbmNvZGVyXCIsZS5ORUVEX01VVEVfVFJBQ0s9XCJAbmVlZF9tdXRlX3RyYWNrXCIsZS5ORUVEX1VOTVVURV9UUkFDSz1cIkBuZWVkX3VubXV0ZV90cmFja1wifShOeXx8KE55PXt9KSksZnVuY3Rpb24oZSl7ZS5TQ1JFRU5fVFJBQ0s9XCJzY3JlZW5fdHJhY2tcIixlLkNVU1RPTV9UUkFDSz1cImN1c3RvbWVfdHJhY2tcIixlLkxPV19TVFJFQU09XCJsb3dfc3RyZWFtXCJ9KER5fHwoRHk9e30pKSxmdW5jdGlvbihlKXtlW2UuSElHSF9TVFJFQU09MF09XCJISUdIX1NUUkVBTVwiLGVbZS5MT1dfU1RSRUFNPTFdPVwiTE9XX1NUUkVBTVwifShQeXx8KFB5PXt9KSksZnVuY3Rpb24oZSl7ZVtlLkhJR0hfU1RSRUFNPTBdPVwiSElHSF9TVFJFQU1cIixlW2UuTE9XX1NUUkVBTT0xXT1cIkxPV19TVFJFQU1cIn0oTHl8fChMeT17fSkpLGZ1bmN0aW9uKGUpe2VbZS5ESVNBQkxFPTBdPVwiRElTQUJMRVwiLGVbZS5MT1dfU1RSRUFNPTFdPVwiTE9XX1NUUkVBTVwiLGVbZS5BVURJT19PTkxZPTJdPVwiQVVESU9fT05MWVwifShreXx8KGt5PXt9KSksZnVuY3Rpb24oZSl7ZS5UUkFOU0NFSVZFUl9VUERBVEVEPVwidHJhbnNjZWl2ZXItdXBkYXRlZFwifShNeXx8KE15PXt9KSksZnVuY3Rpb24oZSl7ZS5TT1VSQ0VfU1RBVEVfQ0hBTkdFPVwic291cmNlLXN0YXRlLWNoYW5nZVwiLGUuVFJBQ0tfRU5ERUQ9XCJ0cmFjay1lbmRlZFwiLGUuQkVBVVRZX0VGRkVDVF9PVkVSTE9BRD1cImJlYXV0eS1lZmZlY3Qtb3ZlcmxvYWRcIixlLlZJREVPX0VMRU1FTlRfVklTSUJMRV9TVEFUVVM9XCJ2aWRlby1lbGVtZW50LXZpc2libGUtc3RhdHVzXCIsZS5DTE9TRUQ9XCJjbG9zZWRcIn0oVXl8fChVeT17fSkpLGZ1bmN0aW9uKGUpe2UuRklSU1RfRlJBTUVfREVDT0RFRD1cImZpcnN0LWZyYW1lLWRlY29kZWRcIixlLlZJREVPX0VMRU1FTlRfVklTSUJMRV9TVEFUVVM9XCJ2aWRlby1lbGVtZW50LXZpc2libGUtc3RhdHVzXCJ9KHh5fHwoeHk9e30pKSxmdW5jdGlvbihlKXtlLkFVRElPX1NPVVJDRV9TVEFURV9DSEFOR0U9XCJhdWRpb19zb3VyY2Vfc3RhdGVfY2hhbmdlXCIsZS5SRUNFSVZFX1RSQUNLX0JVRkZFUj1cInJlY2VpdmVfdHJhY2tfYnVmZmVyXCIsZS5PTl9BVURJT19CVUZGRVI9XCJvbl9hdWRpb19idWZmZXJcIixlLlVQREFURV9TT1VSQ0U9XCJ1cGRhdGVfc291cmNlXCJ9KFZ5fHwoVnk9e30pKSxmdW5jdGlvbihlKXtlLlVQREFURV9UUkFDS19TT1VSQ0U9XCJ1cGRhdGUtdHJhY2stc291cmNlXCJ9KEZ5fHwoRnk9e30pKTtjb25zdCBCeT17c2VuZFZvbHVtZUxldmVsOjAsc2VuZEJpdHJhdGU6MCxzZW5kQnl0ZXM6MCxzZW5kUGFja2V0czowLHNlbmRQYWNrZXRzTG9zdDowLHNlbmRKaXR0ZXJNczowLHNlbmRSdHRNczowLGN1cnJlbnRQYWNrZXRMb3NzUmF0ZTowfSxqeT17c2VuZEJ5dGVzOjAsc2VuZEJpdHJhdGU6MCxzZW5kUGFja2V0czowLHNlbmRQYWNrZXRzTG9zdDowLHNlbmRKaXR0ZXJNczowLHNlbmRSdHRNczowLHNlbmRSZXNvbHV0aW9uSGVpZ2h0OjAsc2VuZFJlc29sdXRpb25XaWR0aDowLGNhcHR1cmVSZXNvbHV0aW9uSGVpZ2h0OjAsY2FwdHVyZVJlc29sdXRpb25XaWR0aDowLHRhcmdldFNlbmRCaXRyYXRlOjAsdG90YWxEdXJhdGlvbjowLHRvdGFsRnJlZXplVGltZTowLGN1cnJlbnRQYWNrZXRMb3NzUmF0ZTowfSxHeT17dHJhbnNwb3J0RGVsYXk6MCxlbmQyRW5kRGVsYXk6MCxyZWNlaXZlQml0cmF0ZTowLHJlY2VpdmVMZXZlbDowLHJlY2VpdmVCeXRlczowLHJlY2VpdmVEZWxheTowLHJlY2VpdmVQYWNrZXRzOjAscmVjZWl2ZVBhY2tldHNMb3N0OjAsdG90YWxEdXJhdGlvbjowLHRvdGFsRnJlZXplVGltZTowLGZyZWV6ZVJhdGU6MCxwYWNrZXRMb3NzUmF0ZTowLGN1cnJlbnRQYWNrZXRMb3NzUmF0ZTowLHB1Ymxpc2hEdXJhdGlvbjotMX0sV3k9e3VwbGlua05ldHdvcmtRdWFsaXR5OjAsZG93bmxpbmtOZXR3b3JrUXVhbGl0eTowfSxIeT17dHJhbnNwb3J0RGVsYXk6MCxlbmQyRW5kRGVsYXk6MCxyZWNlaXZlQml0cmF0ZTowLHJlY2VpdmVCeXRlczowLHJlY2VpdmVEZWxheTowLHJlY2VpdmVQYWNrZXRzOjAscmVjZWl2ZVBhY2tldHNMb3N0OjAscmVjZWl2ZVJlc29sdXRpb25IZWlnaHQ6MCxyZWNlaXZlUmVzb2x1dGlvbldpZHRoOjAsdG90YWxEdXJhdGlvbjowLHRvdGFsRnJlZXplVGltZTowLGZyZWV6ZVJhdGU6MCxwYWNrZXRMb3NzUmF0ZTowLGN1cnJlbnRQYWNrZXRMb3NzUmF0ZTowLHB1Ymxpc2hEdXJhdGlvbjotMX07dmFyIEt5LFl5LHF5LEp5LHp5OyFmdW5jdGlvbihlKXtlLk9OX1RSQUNLPVwib25fdHJhY2tcIixlLk9OX05PREU9XCJvbl9ub2RlXCJ9KEt5fHwoS3k9e30pKSxmdW5jdGlvbihlKXtlLlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTPVwicmVxdWVzdF91cGRhdGVfY29uc3RyYWludHNcIixlLlJFUVVFU1RfQ09OU1RSQUlOVFM9XCJyZXF1ZXN0X2NvbnN0cmFpbnRzXCJ9KFl5fHwoWXk9e30pKSxmdW5jdGlvbihlKXtlLklETEU9XCJJRExFXCIsZS5JTklUSU5HPVwiSU5JVElOR1wiLGUuSU5JVEVORD1cIklOSVRFTkRcIn0ocXl8fChxeT17fSkpLGZ1bmN0aW9uKGUpe2UuU1RBVEVfQ0hBTkdFPVwic3RhdGVfY2hhbmdlXCIsZS5SRUNPUkRJTkdfREVWSUNFX0NIQU5HRUQ9XCJyZWNvcmRpbmdEZXZpY2VDaGFuZ2VkXCIsZS5QTEFZT1VUX0RFVklDRV9DSEFOR0VEPVwicGxheW91dERldmljZUNoYW5nZWRcIixlLkNBTUVSQV9ERVZJQ0VfQ0hBTkdFRD1cImNhbWVyYURldmljZUNoYW5nZWRcIn0oSnl8fChKeT17fSkpLGZ1bmN0aW9uKGUpe2UuTk9ORT1cIm5vbmVcIixlLklOSVQ9XCJpbml0XCIsZS5DQU5QTEFZPVwiY2FucGxheVwiLGUuUExBWUlORz1cInBsYXlpbmdcIixlLlBBVVNFRD1cInBhdXNlZFwiLGUuU1VTUEVORD1cInN1c3BlbmRcIixlLlNUQUxMRUQ9XCJzdGFsbGVkXCIsZS5XQUlUSU5HPVwid2FpdGluZ1wiLGUuRVJST1I9XCJlcnJvclwiLGUuREVTVFJPWUVEPVwiZGVzdHJveWVkXCIsZS5BQk9SVD1cImFib3J0XCIsZS5FTkRFRD1cImVuZGVkXCIsZS5FTVBUSUVEPVwiZW1wdGllZFwiLGUuTE9BREVEREFUQT1cImxvYWRlZGRhdGFcIn0oenl8fCh6eT17fSkpO2NvbnN0IFh5PXt1bmluaXQ6MTAwLG5vbmU6MTEwLGluaXQ6MTIwLGxvYWRlZGRhdGE6MTMwLGNhbnBsYXk6MjAwLHBsYXlpbmc6MjEwLHBhdXNlZDoyMjAsc3VzcGVuZDozMDAsc3RhbGxlZDozMTAsd2FpdGluZzozMjAsZXJyb3I6MzMwLGRlc3Ryb3llZDozNDAsYWJvcnQ6MzUwLGVuZGVkOjM2MCxlbXB0aWVkOjM3MH07dmFyIFF5OyFmdW5jdGlvbihlKXtlLk9QRU49XCJvcGVuXCIsZS5NRVNTQUdFPVwibWVzc2FnZVwiLGUuQ0xPU0U9XCJjbG9zZVwiLGUuQ0xPU0lORz1cImNsb3NpbmdcIixlLkVSUk9SPVwiZXJyb3JcIn0oUXl8fChReT17fSkpO2NsYXNzIFp5IGV4dGVuZHMgaVN7Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLG51KHRoaXMsXCJfSURcIix2b2lkIDApLG51KHRoaXMsXCJfcnRwVHJhbnNjZWl2ZXJcIix2b2lkIDApLG51KHRoaXMsXCJfbG93UnRwVHJhbnNjZWl2ZXJcIix2b2lkIDApLG51KHRoaXMsXCJfaGludHNcIixbXSksbnUodGhpcyxcIl9pc0Nsb3NlZFwiLCExKSxudSh0aGlzLFwiX29yaWdpbk1lZGlhU3RyZWFtVHJhY2tcIix2b2lkIDApLG51KHRoaXMsXCJfbWVkaWFTdHJlYW1UcmFja1wiLHZvaWQgMCksbnUodGhpcyxcIl9leHRlcm5hbFwiLHt9KSx0aGlzLl9JRD10fHx4Uyg4LFwidHJhY2stXCIpLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9ZSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPWUsZnVuY3Rpb24oZSl7UHIod3kpLmNhbGwod3ksZSl8fHd5LnB1c2goZSl9KHRoaXMpfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMuX0lEfWdldFRyYWNrSWQoKXtyZXR1cm4gdGhpcy5fSUR9Z2V0TWVkaWFTdHJlYW1UcmFjayhlKXtpZighZSl7Y29uc3QgZT1pdi5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpzUy5HRVRfTUVESUFfU1RSRUFNX1RSQUNLLG9wdGlvbnM6W10sdGFnOm9TLlRSQUNFUn0pO3RoaXMuX21lZGlhU3RyZWFtVHJhY2smJlwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLl9tZWRpYVN0cmVhbVRyYWNrLmxhYmVsP2Uub25TdWNjZXNzKHRoaXMuX21lZGlhU3RyZWFtVHJhY2subGFiZWwpOmUub25TdWNjZXNzKFwiXCIpfXJldHVybiB0aGlzLl9tZWRpYVN0cmVhbVRyYWNrfWdldFJUQ1J0cFRyYW5zY2VpdmVyKGUpe3JldHVybiBlPT09UHkuTE9XX1NUUkVBTT90aGlzLl9sb3dSdHBUcmFuc2NlaXZlcjp0aGlzLl9ydHBUcmFuc2NlaXZlcn1nZXRNZWRpYVN0cmVhbVRyYWNrU2V0dGluZ3MoKXtyZXR1cm4gdGhpcy5nZXRNZWRpYVN0cmVhbVRyYWNrKCEwKS5nZXRTZXR0aW5ncygpfWNsb3NlKCl7dGhpcy5faXNDbG9zZWQ9ITAsdGhpcy5fbG93UnRwVHJhbnNjZWl2ZXI9dm9pZCAwLHRoaXMuX3J0cFRyYW5zY2VpdmVyPXZvaWQgMCxmdW5jdGlvbihlKXtjb25zdCB0PXd5LmluZGV4T2YoZSk7LTEhPT10JiZ3eS5zcGxpY2UodCwxKX0odGhpcyksdGhpcy5lbWl0KFV5LkNMT1NFRCl9X3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGUsdCl7aWYodD09PVB5LkxPV19TVFJFQU0pe2lmKHRoaXMuX2xvd1J0cFRyYW5zY2VpdmVyPT09ZSlyZXR1cm47dGhpcy5fbG93UnRwVHJhbnNjZWl2ZXI9ZX1lbHNle2lmKHRoaXMuX3J0cFRyYW5zY2VpdmVyPT09ZSlyZXR1cm47dGhpcy5fcnRwVHJhbnNjZWl2ZXI9ZX10aGlzLmVtaXQoTXkuVFJBTlNDRUlWRVJfVVBEQVRFRCxlLHQpfX1jbGFzcyAkeSBleHRlbmRzIFp5e2dldCBpc0V4dGVybmFsVHJhY2soKXtyZXR1cm4gdGhpcy5faXNFeHRlcm5hbFRyYWNrfWdldCBtdXRlZCgpe3JldHVybiB0aGlzLl9tdXRlZH1nZXQgZW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWdldCBwcm9jZXNzb3JDb250ZXh0KCl7cmV0dXJuIHRoaXMuX3Byb2Nlc3NvckNvbnRleHR9c2V0IHByb2Nlc3NvckNvbnRleHQoZSl7dGhpcy5fcHJvY2Vzc29yQ29udGV4dD1lfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSxudSh0aGlzLFwiX2VuYWJsZWRcIiwhMCksbnUodGhpcyxcIl9tdXRlZFwiLCExKSxudSh0aGlzLFwiX2lzRXh0ZXJuYWxUcmFja1wiLCExKSxudSh0aGlzLFwiX2lzQ2xvc2VkXCIsITEpLG51KHRoaXMsXCJfZW5hYmxlZE11dGV4XCIsdm9pZCAwKSxudSh0aGlzLFwicHJvY2Vzc29yXCIsdm9pZCAwKSxudSh0aGlzLFwiX2hhbmRsZVRyYWNrRW5kZWRcIiwoKCk9Pnt0aGlzLm9uVHJhY2tFbmRlZCgpfSkpLHRoaXMuX2VuYWJsZWRNdXRleD1uZXcgWVMoXCJcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCkpKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLHRoaXMuX2hhbmRsZVRyYWNrRW5kZWQpfWdldFRyYWNrTGFiZWwoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KGU9bnVsbD09PSh0PXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2spfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmxhYmVsKSYmdm9pZCAwIT09ZT9lOlwiXCJ9Y2xvc2UoKXt0aGlzLl9pc0Nsb3NlZHx8KHRoaXMuc3RvcCgpLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLHRoaXMuX21lZGlhU3RyZWFtVHJhY2shPT10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjay5zdG9wKCksdGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1udWxsKSx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPW51bGwsdGhpcy5fZW5hYmxlZE11dGV4PW51bGwsV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBjbG9zZVwiKSksdGhpcy5lbWl0KE55Lk5FRURfQ0xPU0UpLHN1cGVyLmNsb3NlKCkpfWFzeW5jIF91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGUsdCl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTt0aGlzLl9pc0V4dGVybmFsVHJhY2s9aSxlIT09dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLHRoaXMuX2hhbmRsZVRyYWNrRW5kZWQpLHQmJnRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLHRoaXMuX2hhbmRsZVRyYWNrRW5kZWQpLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9ZSx0aGlzLl9tdXRlZCYmKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMSksdGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpLGF3YWl0IGdTKHRoaXMsTnkuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMpLHRoaXMucHJvY2Vzc29yJiZ0aGlzLnByb2Nlc3Nvci51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pKX1fZ2V0RGVmYXVsdFBsYXllckNvbmZpZygpe3JldHVybnt9fW9uVHJhY2tFbmRlZCgpe1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJhY2sgZW5kZWRcIikpLHRoaXMuc2FmZUVtaXQoVXkuVFJBQ0tfRU5ERUQpfXN0YXRlQ2hlY2soZSx0KXtpZihXQy5kZWJ1ZyhcImNoZWNrIHRyYWNrIHN0YXRlLCBbbXV0ZWQ6IFwiLmNvbmNhdCh0aGlzLl9tdXRlZCxcIiwgZW5hYmxlZDogXCIpLmNvbmNhdCh0aGlzLl9lbmFibGVkLFwiXSB0byBbXCIpLmNvbmNhdChlLFwiOiBcIikuY29uY2F0KHQsXCJdXCIpKSxGZyh0LGUpLHRoaXMuX2VuYWJsZWQmJnRoaXMuX211dGVkJiZcImVuYWJsZWRcIj09PWUmJiExPT09dCl0aHJvdyBuZXcgVmcoeGcuVFJBQ0tfU1RBVEVfVU5SRUFDSEFCTEUsXCJjYW5ub3Qgc2V0IGVuYWJsZWQgd2hpbGUgdGhlIHRyYWNrIGlzIG11dGVkXCIpLnByaW50KFwiZXJyb3JcIixXQyk7aWYoIXRoaXMuX2VuYWJsZWQmJiF0aGlzLl9tdXRlZCYmXCJtdXRlZFwiPT09ZSYmITA9PT10KXRocm93IG5ldyBWZyh4Zy5UUkFDS19TVEFURV9VTlJFQUNIQUJMRSxcImNhbm5vdCBzZXQgbXV0ZWQgd2hpbGUgdGhlIHRyYWNrIGlzIGRpc2FibGVkXCIpLnByaW50KFwiZXJyb3JcIixXQyl9Z2V0UHJvY2Vzc29yU3RhdHMoKXtyZXR1cm4gdGhpcy5wcm9jZXNzb3JDb250ZXh0LmdhdGhlclN0YXRzKCl9Z2V0UHJvY2Vzc29yVXNhZ2UoKXtyZXR1cm4gdGhpcy5wcm9jZXNzb3JDb250ZXh0LmdhdGhlclVzYWdlKCl9fWZ1bmN0aW9uIGVBKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1jb25zdCB0QT13aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0O2xldCBpQT1udWxsO2NvbnN0IG5BPW5ldyBjbGFzcyBleHRlbmRzIGlTe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSxudSh0aGlzLFwicHJldlN0YXRlXCIsdm9pZCAwKSxudSh0aGlzLFwiY3VyU3RhdGVcIix2b2lkIDApLG51KHRoaXMsXCJjdXJyZW50VGltZVwiLHZvaWQgMCksbnUodGhpcyxcImN1cnJlbnRUaW1lU3R1Y2tBdFwiLHZvaWQgMCksbnUodGhpcyxcImludGVycnVwdERldGVjdG9yVHJhY2tcIix2b2lkIDApLG51KHRoaXMsXCJvbkxvY2FsQXVkaW9UcmFja011dGVcIiwoKCk9PntXQy5pbmZvKFwiaW9zMTUtaW50ZXJydXB0aW9uLXN0YXJ0XCIpLHRoaXMuZW1pdChseS5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX1NUQVJUKX0pKSxudSh0aGlzLFwib25Mb2NhbEF1ZGlvVHJhY2tVbm11dGVcIiwoYXN5bmMoKT0+e1dDLmluZm8oXCJpb3MxNS1pbnRlcnJ1cHRpb24tZW5kXCIpLFwicnVubmluZ1wiIT09dGhpcy5jdXJTdGF0ZXx8dGhpcy5kdXJpbmdJbnRlcnJ1cHRpb24/V0MuaW5mbyhcImlvczE1LWludGVycnVwdGlvbi1lbmQtY2FuY2VsZWRcIik6KGlBJiZhd2FpdCBpQS5zdXNwZW5kKCksdGhpcy5lbWl0KGx5LklPU18xNV8xNl9JTlRFUlJVUFRJT05fRU5EKSl9KSl9Z2V0IGR1cmluZ0ludGVycnVwdGlvbigpe3JldHVyblwicnVubmluZ1wiPT09dGhpcy5wcmV2U3RhdGUmJlwiaW50ZXJydXB0ZWRcIj09PXRoaXMuY3VyU3RhdGV9YmluZEludGVycnVwdERldGVjdG9yVHJhY2soZSl7V0MuZGVidWcoXCJ3ZWJhdWRpbyBiaW5kSW50ZXJydXB0RGV0ZWN0b3JUcmFjayBcIi5jb25jYXQoZS5nZXRUcmFja0lkKCkpKSx0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2t8fCh0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2s9ZSx0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2suX21lZGlhU3RyZWFtVHJhY2sub25tdXRlPXRoaXMub25Mb2NhbEF1ZGlvVHJhY2tNdXRlLHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjay5fbWVkaWFTdHJlYW1UcmFjay5vbnVubXV0ZT10aGlzLm9uTG9jYWxBdWRpb1RyYWNrVW5tdXRlKX11bmJpbmRJbnRlcnJ1cHREZXRlY3RvclRyYWNrKGUpe1dDLmRlYnVnKFwid2ViYXVkaW8gdW5iaW5kSW50ZXJydXB0RGV0ZWN0b3JUcmFjayBcIi5jb25jYXQoZS5nZXRUcmFja0lkKCkpKSx0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2smJnRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjaz09PWUmJih0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2suX21lZGlhU3RyZWFtVHJhY2smJih0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2suX21lZGlhU3RyZWFtVHJhY2sub25tdXRlPW51bGwsdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrLm9udW5tdXRlPW51bGwpLHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjaz12b2lkIDApfX07ZnVuY3Rpb24gckEoKXtpZighdEEpcmV0dXJuIHZvaWQgV0MuZXJyb3IoXCJ5b3VyIGJyb3dzZXIgaXMgbm90IHN1cHBvcnQgd2ViIGF1ZGlvXCIpO1dDLmluZm8oXCJjcmVhdGUgYXVkaW8gY29udGV4dFwiKTtjb25zdCBlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2VBKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOmVBKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfSh7fSxrQyhcIldFQkFVRElPX0lOSVRfT1BUSU9OU1wiKSk7V0MuZGVidWcoXCJhdWRpbyBjb250ZXh0IGluaXQgb3B0aW9uOlwiLEpTT04uc3RyaW5naWZ5KGUpKSxpQT1uZXcgdEEoZSksbkEuY3VyU3RhdGU9aUEuc3RhdGUsaUEub25zdGF0ZWNoYW5nZT0oKT0+e25BLnByZXZTdGF0ZT1uQS5jdXJTdGF0ZSxuQS5jdXJTdGF0ZT1pQT9pQS5zdGF0ZTp2b2lkIDA7Y29uc3R7cHJldlN0YXRlOmUsY3VyU3RhdGU6dH09bkEsaT1cInJ1bm5pbmdcIj09PXQsbj1cImludGVycnVwdGVkXCI9PT10LHI9XCJydW5uaW5nXCI9PT1lLHM9XCJzdXNwZW5kZWRcIj09PWUsbz1cImludGVycnVwdGVkXCI9PT1lLGE9cGcoKS5vc1ZlcnNpb247KENnKCl8fERnKCkpJiZyJiZuJiYoV0MuaW5mbyhcImlvc1wiLmNvbmNhdChhLFwiLWludGVycnVwdGlvbi1zdGFydFwiKSksbkEuZW1pdChseS5JT1NfSU5URVJSVVBUSU9OX1NUQVJUKSksKENnKCl8fERnKCkpJiYoc3x8bykmJmkmJihXQy5pbmZvKFwiaW9zXCIuY29uY2F0KGEsXCItaW50ZXJydXB0aW9uLWVuZFwiKSksbkEuZW1pdChseS5JT1NfSU5URVJSVVBUSU9OX0VORCkpLGUhPT10JiYoV0MuZGVidWcoXCJBdWRpb0NvbnRleHQgU3RhdGUgQ2hhbmdlXCIsXCJcIi5jb25jYXQoZSxcIj0+XCIpLmNvbmNhdCh0KSksbkEuZW1pdChseS5TVEFURV9DSEFOR0UpKX0sc2V0SW50ZXJ2YWwoKCgpPT57dmFyIGU7Y29uc3QgdD1udWxsPT09KGU9aUEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmN1cnJlbnRUaW1lO2lmKG5BLmN1cnJlbnRUaW1lIT09dCluQS5jdXJyZW50VGltZVN0dWNrQXQmJihXQy5kZWJ1ZyhcIkF1ZGlvQ29udGV4dCBjdXJyZW50IHRpbWUgcmVzdW1lIGF0IFwiLmNvbmNhdCh0KSksbkEuY3VycmVudFRpbWVTdHVja0F0PXZvaWQgMCksbkEuY3VycmVudFRpbWU9dDtlbHNle2lmKHQhPT1uQS5jdXJyZW50VGltZVN0dWNrQXQpe2l2LnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOlwiV0VCX0FVRElPX0NVUlJFTlRfVElNRV9TVFVDS1wiLG9wdGlvbnM6e2N1cnJlbnRUaW1lOnR9LHRhZzpvUy5UUkFDRVJ9KS5vblN1Y2Nlc3MoKSxXQy53YXJuaW5nKFwiQXVkaW9Db250ZXh0IGN1cnJlbnQgdGltZSBzdHVjayBhdCBcIi5jb25jYXQodCkpfW5BLmN1cnJlbnRUaW1lU3R1Y2tBdD10fX0pLDVlMyksYXN5bmMgZnVuY3Rpb24oZSl7Y29uc3QgdD1bXCJjbGlja1wiLFwiY29udGV4dG1lbnVcIixcImF1eGNsaWNrXCIsXCJkYmxjbGlja1wiLFwibW91c2Vkb3duXCIsXCJtb3VzZXVwXCIsXCJ0b3VjaGVuZFwiLFwia2V5ZG93blwiLFwia2V5dXBcIl07bGV0IGksbj0hMSxyPSExLHM9ITE7ZnVuY3Rpb24gbyh0KXtcInJ1bm5pbmdcIj09PWUuc3RhdGU/YSghMSk6Q2coKXx8RGcoKT9cInN1c3BlbmRlZFwiPT09ZS5zdGF0ZSYmKGEoITApLHQmJmUucmVzdW1lKCkudGhlbihkLGQpKTpcImNsb3NlZFwiIT09ZS5zdGF0ZSYmKGEoITApLHQmJmUucmVzdW1lKCkudGhlbihkLGQpKX1mdW5jdGlvbiBhKGUpe2lmKG4hPT1lKXtuPWU7Zm9yKGxldCBpPTAsbj10O2k8bi5sZW5ndGg7aSs9MSl7Y29uc3QgdD1uW2ldO2U/d2luZG93LmFkZEV2ZW50TGlzdGVuZXIodCxsLHtjYXB0dXJlOiEwLHBhc3NpdmU6ITB9KTp3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGwse2NhcHR1cmU6ITAscGFzc2l2ZTohMH0pfX19ZnVuY3Rpb24gYygpe28oITApfWZ1bmN0aW9uIGQoKXtvKCExKX1mdW5jdGlvbiBsKCl7byghMCl9ZnVuY3Rpb24gaChlKXtpZighcylpZihpLnBhdXNlZClpZihlKXtsZXQgZTt1KCExKSxzPSEwO3RyeXtlPWkucGxheSgpLGU/ZS50aGVuKHAscCk6KGkuYWRkRXZlbnRMaXN0ZW5lcihcInBsYXlpbmdcIixwKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHApLGkuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIscCkpfWNhdGNoKGUpe3AoKX19ZWxzZSB1KCEwKTtlbHNlIHUoITEpfWZ1bmN0aW9uIHUoZSl7aWYociE9PWUpe3I9ZTtmb3IobGV0IGk9MCxuPXQ7aTxuLmxlbmd0aDtpKyspe2NvbnN0IHQ9bltpXTtlP3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKHQsXyx7Y2FwdHVyZTohMCxwYXNzaXZlOiEwfSk6d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIodCxfLHtjYXB0dXJlOiEwLHBhc3NpdmU6ITB9KX19fWZ1bmN0aW9uIHAoKXtpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIscCksaS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixwKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHApLHM9ITEsaCghMSl9ZnVuY3Rpb24gXygpe2goITApfWlmKENnKCkpe2NvbnN0IHQ9ZS5jcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uKCksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uaW5uZXJIVE1MPVwiPGF1ZGlvIHgtd2Via2l0LWFpcnBsYXk9J2RlbnknPjwvYXVkaW8+XCIsaT1uLmNoaWxkcmVuLml0ZW0oMCksaS5jb250cm9scz0hMSxpLmRpc2FibGVSZW1vdGVQbGF5YmFjaz0hMCxpLnByZWxvYWQ9XCJhdXRvXCIsaS5zcmNPYmplY3Q9dC5zdHJlYW0saCghMCl9bkEub24obHkuU1RBVEVfQ0hBTkdFLGMpLG8oITEpfShpQSl9ZnVuY3Rpb24gc0EoKXtpZighaUEpe2lmKHJBKCksIWlBKXRocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiY2FuIG5vdCBjcmVhdGUgYXVkaW8gY29udGV4dFwiKTtyZXR1cm4gaUF9cmV0dXJuIGlBfWZ1bmN0aW9uIG9BKCl7cmV0dXJuISFpQX1mdW5jdGlvbiBhQShlKXtpZihmdW5jdGlvbigpe2lmKG51bGwhPT1jQSlyZXR1cm4gY0E7Y29uc3QgZT1zQSgpLHQ9ZS5jcmVhdGVCdWZmZXJTb3VyY2UoKSxpPWUuY3JlYXRlR2FpbigpLG49ZS5jcmVhdGVHYWluKCk7dC5jb25uZWN0KGkpLHQuY29ubmVjdChuKSx0LmRpc2Nvbm5lY3QoaSk7bGV0IHI9ITE7dHJ5e3QuZGlzY29ubmVjdChpKX1jYXRjaChlKXtyPSEwfXJldHVybiB0LmRpc2Nvbm5lY3QoKSxjQT1yLHJ9KCkpcmV0dXJuO2NvbnN0IHQ9ZS5jb25uZWN0LGk9ZS5kaXNjb25uZWN0O2UuY29ubmVjdD0oaSxuLHIpPT57dmFyIHM7cmV0dXJuIGUuX2lucHV0Tm9kZXN8fChlLl9pbnB1dE5vZGVzPVtdKSxQcihzPWUuX2lucHV0Tm9kZXMpLmNhbGwocyxpKXx8KGkgaW5zdGFuY2VvZiBBdWRpb05vZGU/KGUuX2lucHV0Tm9kZXMucHVzaChpKSx0LmNhbGwoZSxpLG4scikpOnQuY2FsbChlLGksbikpLGV9LGUuZGlzY29ubmVjdD0obixyLHMpPT57aS5jYWxsKGUpLG4/SVMoZS5faW5wdXROb2RlcyxuKTplLl9pbnB1dE5vZGVzPVtdO2Zvcihjb25zdCBpIG9mIGUuX2lucHV0Tm9kZXMpdC5jYWxsKGUsaSl9fWxldCBjQT1udWxsO2Z1bmN0aW9uIGRBKGUsdCl7bGV0IGk9ITE7Y29uc3Qgbj0xL3Q7aWYoa0MoXCJESVNBQkxFX1dFQkFVRElPXCIpKXtjb25zdCB0PXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9PntpP3dpbmRvdy5jbGVhckludGVydmFsKHQpOmUocGVyZm9ybWFuY2Uubm93KCkvMWUzKX0pLDFlMypuKX1lbHNle2NvbnN0IHQ9c0EoKTtsZXQgcj10LmNyZWF0ZUdhaW4oKTtyLmdhaW4udmFsdWU9MCxyLmNvbm5lY3QodC5kZXN0aW5hdGlvbik7Y29uc3Qgcz0oKT0+e2lmKGkpcmV0dXJuIHZvaWQocj1udWxsKTtjb25zdCBvPXQuY3JlYXRlT3NjaWxsYXRvcigpO28ub25lbmRlZD1zLG8uY29ubmVjdChyKSxvLnN0YXJ0KDApLG8uc3RvcCh0LmN1cnJlbnRUaW1lK24pLGUodC5jdXJyZW50VGltZSl9O3MoKX1yZXR1cm4oKT0+e2k9ITB9fWNvbnN0IGxBPXtnZXREaXNwbGF5TWVkaWE6ITEsZ2V0U3RyZWFtRnJvbUV4dGVuc2lvbjohMSxzdXBwb3J0VW5pZmllZFBsYW46ITEsc3VwcG9ydE1pbkJpdHJhdGU6ITEsc3VwcG9ydFNldFJ0cFNlbmRlclBhcmFtZXRlcnM6ITEsc3VwcG9ydER1YWxTdHJlYW06ITAsd2ViQXVkaW9NZWRpYVN0cmVhbURlc3Q6ITEsc3VwcG9ydFJlcGxhY2VUcmFjazohMSxzdXBwb3J0V2ViR0w6ITEsd2ViQXVkaW9XaXRoQUVDOiExLHN1cHBvcnRSZXF1ZXN0RnJhbWU6ITEsc3VwcG9ydFNoYXJlQXVkaW86ITEsc3VwcG9ydER1YWxTdHJlYW1FbmNvZGluZzohMSxzdXBwb3J0RGF0YUNoYW5uZWw6ITEsc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbjohMSxzdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybTohMSxzdXBwb3J0V2ViUlRDSW5zZXJ0YWJsZVN0cmVhbTohMX07ZnVuY3Rpb24gaEEoKXtyZXR1cm4gbEF9Y2xhc3MgdUF7Y29uc3RydWN0b3IoKXtudSh0aGlzLFwiY29udGV4dFwiLHZvaWQgMCksbnUodGhpcyxcImFuYWx5c2VyTm9kZVwiLHZvaWQgMCksbnUodGhpcyxcInNvdXJjZU5vZGVcIix2b2lkIDApLHRoaXMuY29udGV4dD1zQSgpLHRoaXMuYW5hbHlzZXJOb2RlPXRoaXMuY29udGV4dC5jcmVhdGVBbmFseXNlcigpLHRoaXMuYW5hbHlzZXJOb2RlLmZmdFNpemU9MjA0OCx0aGlzLmFuYWx5c2VyTm9kZS5zbW9vdGhpbmdUaW1lQ29uc3RhbnQ9LjR9dXBkYXRlU291cmNlKGUpe2lmKGUhPT10aGlzLnNvdXJjZU5vZGUpe2lmKHRoaXMuc291cmNlTm9kZSl0cnl7dGhpcy5zb3VyY2VOb2RlLmRpc2Nvbm5lY3QodGhpcy5hbmFseXNlck5vZGUpfWNhdGNoKGUpe310aGlzLnNvdXJjZU5vZGU9ZSxudWxsPT1lfHxlLmNvbm5lY3QodGhpcy5hbmFseXNlck5vZGUpfX1nZXRWb2x1bWVMZXZlbCgpe2lmKCF0aGlzLnNvdXJjZU5vZGUpcmV0dXJuIDA7aWYoIXRoaXMuY29udGV4dHx8Q2coKXx8RGcoKXx8XCJydW5uaW5nXCIhPT10aGlzLmNvbnRleHQuc3RhdGUmJnRoaXMuY29udGV4dC5yZXN1bWUoKSwhdGhpcy5hbmFseXNlck5vZGUpcmV0dXJuIDA7Y29uc3QgZT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYW5hbHlzZXJOb2RlLmZmdFNpemUpO2lmKHRoaXMuYW5hbHlzZXJOb2RlLmdldEZsb2F0VGltZURvbWFpbkRhdGEpdGhpcy5hbmFseXNlck5vZGUuZ2V0RmxvYXRUaW1lRG9tYWluRGF0YShlKTtlbHNle2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkodGhpcy5hbmFseXNlck5vZGUuZmZ0U2l6ZSk7dGhpcy5hbmFseXNlck5vZGUuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhKHQpO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7KytpKWVbaV09dFtpXS8xMjgtMX1jb25zdCB0PWNUKGUpLmNhbGwoZSwoKGUsdCk9PmUrdCp0KSwwKS9lLmxlbmd0aDtyZXR1cm4gTWF0aC5tYXgoMTAqTWF0aC5sb2cxMCh0KSsxMDAsMCkvMTAwfWdldEFuYWx5c2VyTm9kZSgpe3JldHVybiB0aGlzLmFuYWx5c2VyTm9kZX1yZWJ1aWxkQW5hbHlzZXIoKXt0cnl7dmFyIGUsdDtudWxsPT09KGU9dGhpcy5zb3VyY2VOb2RlKXx8dm9pZCAwPT09ZXx8ZS5kaXNjb25uZWN0KHRoaXMuYW5hbHlzZXJOb2RlKSx0aGlzLmFuYWx5c2VyTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlQW5hbHlzZXIoKSx0aGlzLmFuYWx5c2VyTm9kZS5mZnRTaXplPTIwNDgsdGhpcy5hbmFseXNlck5vZGUuc21vb3RoaW5nVGltZUNvbnN0YW50PS40LG51bGw9PT0odD10aGlzLnNvdXJjZU5vZGUpfHx2b2lkIDA9PT10fHx0LmNvbm5lY3QodGhpcy5hbmFseXNlck5vZGUpfWNhdGNoKGUpe1dDLndhcm5pbmcoXCJyZWJ1aWxkIGFuYWx5c2VyIG5vZGUgZmFpbGVkLlwiKX19ZGVzdHJveSgpe3RoaXMudXBkYXRlU291cmNlKHZvaWQgMCl9fWNsYXNzIHBBIGV4dGVuZHMgaVN7Z2V0IHByb2Nlc3NTb3VyY2VOb2RlKCl7cmV0dXJuIHRoaXMuc291cmNlTm9kZX1zZXQgcHJvY2Vzc2VkTm9kZShlKXt2YXIgdDtpZighdGhpcy5pc0Rlc3Ryb3llZCYmdGhpcy5fcHJvY2Vzc2VkTm9kZSE9PWUpe3RyeXt2YXIgaTtudWxsPT09KGk9dGhpcy5zb3VyY2VOb2RlKXx8dm9pZCAwPT09aXx8aS5kaXNjb25uZWN0KHRoaXMub3V0cHV0Tm9kZSl9Y2F0Y2goZSl7fW51bGw9PT0odD10aGlzLl9wcm9jZXNzZWROb2RlKXx8dm9pZCAwPT09dHx8dC5kaXNjb25uZWN0KCksdGhpcy5fcHJvY2Vzc2VkTm9kZT1lLHRoaXMuY29ubmVjdCgpfX1nZXQgcHJvY2Vzc2VkTm9kZSgpe3JldHVybiB0aGlzLl9wcm9jZXNzZWROb2RlfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSxudSh0aGlzLFwib3V0cHV0Tm9kZVwiLHZvaWQgMCksbnUodGhpcyxcIm91dHB1dFRyYWNrXCIsdm9pZCAwKSxudSh0aGlzLFwiaXNQbGF5ZWRcIiwhMSksbnUodGhpcyxcImNvbnRleHRcIix2b2lkIDApLG51KHRoaXMsXCJhdWRpb0J1ZmZlck5vZGVcIix2b2lkIDApLG51KHRoaXMsXCJkZXN0Tm9kZVwiLHZvaWQgMCksbnUodGhpcyxcImF1ZGlvT3V0cHV0TGV2ZWxcIiwwKSxudSh0aGlzLFwidm9sdW1lTGV2ZWxBbmFseXNlclwiLHZvaWQgMCksbnUodGhpcyxcIl9wcm9jZXNzZWROb2RlXCIsdm9pZCAwKSxudSh0aGlzLFwicGxheU5vZGVcIix2b2lkIDApLG51KHRoaXMsXCJpc0Rlc3Ryb3llZFwiLCExKSxudSh0aGlzLFwib25Ob0F1ZGlvSW5wdXRcIix2b2lkIDApLG51KHRoaXMsXCJpc05vQXVkaW9JbnB1dFwiLCExKSxudSh0aGlzLFwiX25vQXVkaW9JbnB1dENvdW50XCIsMCksdGhpcy5jb250ZXh0PXNBKCksdGhpcy5wbGF5Tm9kZT10aGlzLmNvbnRleHQuZGVzdGluYXRpb24sdGhpcy5vdXRwdXROb2RlPXRoaXMuY29udGV4dC5jcmVhdGVHYWluKCksYUEodGhpcy5vdXRwdXROb2RlKSx0aGlzLnZvbHVtZUxldmVsQW5hbHlzZXI9bmV3IHVBfXN0YXJ0R2V0QXVkaW9CdWZmZXIoZSl7dGhpcy5hdWRpb0J1ZmZlck5vZGV8fCh0aGlzLmF1ZGlvQnVmZmVyTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlU2NyaXB0UHJvY2Vzc29yKGUpLHRoaXMub3V0cHV0Tm9kZS5jb25uZWN0KHRoaXMuYXVkaW9CdWZmZXJOb2RlKSx0aGlzLmF1ZGlvQnVmZmVyTm9kZS5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksdGhpcy5hdWRpb0J1ZmZlck5vZGUub25hdWRpb3Byb2Nlc3M9ZT0+e3RoaXMuZW1pdChWeS5PTl9BVURJT19CVUZGRVIsZnVuY3Rpb24oZSl7Zm9yKGxldCB0PTA7dDxlLm91dHB1dEJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzO3QrPTEpe2NvbnN0IGk9ZS5vdXRwdXRCdWZmZXIuZ2V0Q2hhbm5lbERhdGEodCk7Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKz0xKWlbZV09MH1yZXR1cm4gZS5pbnB1dEJ1ZmZlcn0oZSkpfSl9c3RvcEdldEF1ZGlvQnVmZmVyKCl7dGhpcy5hdWRpb0J1ZmZlck5vZGUmJih0aGlzLmF1ZGlvQnVmZmVyTm9kZS5vbmF1ZGlvcHJvY2Vzcz1udWxsLHRoaXMub3V0cHV0Tm9kZS5kaXNjb25uZWN0KHRoaXMuYXVkaW9CdWZmZXJOb2RlKSx0aGlzLmF1ZGlvQnVmZmVyTm9kZT12b2lkIDApfWNyZWF0ZU91dHB1dFRyYWNrKCl7aWYoIWhBKCkud2ViQXVkaW9NZWRpYVN0cmVhbURlc3QpdGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJ5b3VyIGJyb3dzZXIgaXMgbm90IHN1cHBvcnQgYXVkaW8gcHJvY2Vzc29yXCIpO3JldHVybiB0aGlzLmRlc3ROb2RlJiZ0aGlzLm91dHB1dFRyYWNrfHwodGhpcy5kZXN0Tm9kZT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpLHRoaXMub3V0cHV0Tm9kZS5jb25uZWN0KHRoaXMuZGVzdE5vZGUpLHRoaXMub3V0cHV0VHJhY2s9dGhpcy5kZXN0Tm9kZS5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXSksdGhpcy5vdXRwdXRUcmFja31wbGF5KGUpe1wicnVubmluZ1wiIT09dGhpcy5jb250ZXh0LnN0YXRlJiZBUygoKCk9PntuQS5lbWl0KFwiYXV0b3BsYXktZmFpbGVkXCIpfSkpLHRoaXMuaXNQbGF5ZWQ9ITAsdGhpcy5wbGF5Tm9kZT1lfHx0aGlzLmNvbnRleHQuZGVzdGluYXRpb24sdGhpcy5vdXRwdXROb2RlLmNvbm5lY3QodGhpcy5wbGF5Tm9kZSl9c3RvcCgpe2lmKHRoaXMuaXNQbGF5ZWQpdHJ5e3RoaXMub3V0cHV0Tm9kZS5kaXNjb25uZWN0KHRoaXMucGxheU5vZGUpfWNhdGNoKGUpe310aGlzLmlzUGxheWVkPSExfWdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKXtyZXR1cm4gdGhpcy52b2x1bWVMZXZlbEFuYWx5c2VyLmdldFZvbHVtZUxldmVsKCl9YXN5bmMgY2hlY2tIYXNBdWRpb0lucHV0KCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7aWYoZT41KXJldHVybiB0aGlzLmlzTm9BdWRpb0lucHV0PSEwLHRoaXMub25Ob0F1ZGlvSW5wdXQmJnRoaXMub25Ob0F1ZGlvSW5wdXQoKSwhMTtDZygpfHxEZygpP1wic3VzcGVuZGVkXCI9PT10aGlzLmNvbnRleHQuc3RhdGUmJnRoaXMuY29udGV4dC5yZXN1bWUoKTpcInJ1bm5pbmdcIiE9PXRoaXMuY29udGV4dC5zdGF0ZSYmdGhpcy5jb250ZXh0LnJlc3VtZSgpO2NvbnN0IHQ9dGhpcy52b2x1bWVMZXZlbEFuYWx5c2VyLmdldEFuYWx5c2VyTm9kZSgpO2xldCBpO3QuZ2V0RmxvYXRUaW1lRG9tYWluRGF0YT8oaT1uZXcgRmxvYXQzMkFycmF5KHQuZmZ0U2l6ZSksdC5nZXRGbG9hdFRpbWVEb21haW5EYXRhKGkpKTooaT1uZXcgVWludDhBcnJheSh0LmZmdFNpemUpLHQuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhKGkpKTtsZXQgbj0hMTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKykwIT09aVtlXSYmKG49ITApO3JldHVybiBuPyh0aGlzLmlzTm9BdWRpb0lucHV0PSExLCEwKTooYXdhaXQgVVMoMjAwKSxhd2FpdCB0aGlzLmNoZWNrSGFzQXVkaW9JbnB1dChlP2UrMToxKSYmbil9Z2V0QXVkaW9Wb2x1bWUoKXtyZXR1cm4gdGhpcy5vdXRwdXROb2RlLmdhaW4udmFsdWV9c2V0Vm9sdW1lKGUpe3RoaXMub3V0cHV0Tm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGUsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lKX1kZXN0cm95KCl7dGhpcy5kaXNjb25uZWN0KCksdGhpcy5zdG9wKCksdGhpcy5pc0Rlc3Ryb3llZD0hMCx0aGlzLm9uTm9BdWRpb0lucHV0PXZvaWQgMH1kaXNjb25uZWN0KCl7dmFyIGUsdDtudWxsPT09KGU9dGhpcy5wcm9jZXNzZWROb2RlKXx8dm9pZCAwPT09ZXx8ZS5kaXNjb25uZWN0KCksbnVsbD09PSh0PXRoaXMuc291cmNlTm9kZSl8fHZvaWQgMD09PXR8fHQuZGlzY29ubmVjdCgpLHRoaXMub3V0cHV0Tm9kZSYmdGhpcy5vdXRwdXROb2RlLmRpc2Nvbm5lY3QoKX1jb25uZWN0KCl7dmFyIGU7dGhpcy5wcm9jZXNzZWROb2RlP251bGw9PT0oZT10aGlzLnByb2Nlc3NlZE5vZGUpfHx2b2lkIDA9PT1lfHxlLmNvbm5lY3QodGhpcy5vdXRwdXROb2RlKTp0aGlzLnNvdXJjZU5vZGUmJnRoaXMuc291cmNlTm9kZS5jb25uZWN0KHRoaXMub3V0cHV0Tm9kZSk7dGhpcy52b2x1bWVMZXZlbEFuYWx5c2VyLnVwZGF0ZVNvdXJjZSh0aGlzLm91dHB1dE5vZGUpfX1jbGFzcyBfQSBleHRlbmRzIHBBe2dldCBpc0ZyZWV6ZSgpe3JldHVybiExfWNvbnN0cnVjdG9yKGUsdCxpKXt2YXIgbjtpZihzdXBlcigpLG51KHRoaXMsXCJzb3VyY2VOb2RlXCIsdm9pZCAwKSxudSh0aGlzLFwidHJhY2tcIix2b2lkIDApLG51KHRoaXMsXCJjbG9uZWRUcmFja1wiLHZvaWQgMCksbnUodGhpcyxcImF1ZGlvRWxlbWVudFwiLHZvaWQgMCksbnUodGhpcyxcImlzQ3VycmVudFRyYWNrQ2xvbmVkXCIsITEpLG51KHRoaXMsXCJpc1JlbW90ZVRyYWNrXCIsITEpLG51KHRoaXMsXCJvcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyXCIsdm9pZCAwKSxudSh0aGlzLFwicmVidWlsZFdlYkF1ZGlvXCIsKGFzeW5jKCk9PntpZihXQy5kZWJ1ZyhcInJlYWR5IHRvIHJlYnVpbGQgd2ViIGF1ZGlvLCBzdGF0ZTpcIix0aGlzLmNvbnRleHQuc3RhdGUpLHRoaXMuaXNOb0F1ZGlvSW5wdXQmJmF3YWl0IHRoaXMuY2hlY2tIYXNBdWRpb0lucHV0KCksIXRoaXMuaXNOb0F1ZGlvSW5wdXR8fHRoaXMuaXNEZXN0cm95ZWQpcmV0dXJuIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5yZWJ1aWxkV2ViQXVkaW8sITApLHZvaWQgV0MuZGVidWcoXCJyZWJ1aWxkIHdlYiBhdWRpbyBzdWNjZXNzLCBjdXJyZW50IHZvbHVtZSBzdGF0dXNcIix0aGlzLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSk7dGhpcy5jb250ZXh0LnJlc3VtZSgpLnRoZW4oKCgpPT5XQy5pbmZvKFwicmVzdW1lIHN1Y2Nlc3NcIikpKSxXQy5kZWJ1ZyhcInJlYnVpbGQgd2ViIGF1ZGlvIGJlY2F1c2Ugb2YgaW9zIDEyIGJ1Z3NcIiksdGhpcy5kaXNjb25uZWN0KCk7Y29uc3QgZT10aGlzLnRyYWNrO3RoaXMudHJhY2s9dGhpcy50cmFjay5jbG9uZSgpLHRoaXMuaXNDdXJyZW50VHJhY2tDbG9uZWQ/ZS5zdG9wKCk6dGhpcy5pc0N1cnJlbnRUcmFja0Nsb25lZD0hMDtjb25zdCB0PW5ldyBNZWRpYVN0cmVhbShbdGhpcy50cmFja10pO3RoaXMuc291cmNlTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UodCksYUEodGhpcy5zb3VyY2VOb2RlKSx0aGlzLnZvbHVtZUxldmVsQW5hbHlzZXIucmVidWlsZEFuYWx5c2VyKCk7Y29uc3QgaT10aGlzLm91dHB1dE5vZGUuZ2Fpbi52YWx1ZTt0aGlzLm91dHB1dE5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKSx0aGlzLm91dHB1dE5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShpLHRoaXMuY29udGV4dC5jdXJyZW50VGltZSksYUEodGhpcy5vdXRwdXROb2RlKSx0aGlzLmVtaXQoVnkuVVBEQVRFX1NPVVJDRSksdGhpcy5jb25uZWN0KCksdGhpcy5hdWRpb0VsZW1lbnQuc3JjT2JqZWN0PXQsdGhpcy5pc1BsYXllZCYmdGhpcy5wbGF5KHRoaXMucGxheU5vZGUpLHRoaXMuY2hlY2tIYXNBdWRpb0lucHV0KCl9KSksXCJhdWRpb1wiIT09ZS5raW5kKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SKTt0aGlzLnRyYWNrPWU7Y29uc3Qgcj1uZXcgTWVkaWFTdHJlYW0oW3RoaXMudHJhY2tdKTtpZih0aGlzLmlzUmVtb3RlVHJhY2s9ISF0LHRoaXMuc291cmNlTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UociksYUEodGhpcy5zb3VyY2VOb2RlKSxpKXtjb25zdCBlPWkuY2xvbmUoKTtlLmVuYWJsZWQ9ITAsdGhpcy5jbG9uZWRUcmFjaz1lLFdDLmRlYnVnKFwiY3JlYXRlIGFuIHVubXV0ZWQgdHJhY2sgXCIuY29uY2F0KGUuaWQsXCIgZnJvbSB0aGUgb3JpZ2luYWwgdHJhY2sgXCIpLmNvbmNhdChpLmlkLFwiIHRvIGdldCB0aGUgdm9sdW1lXCIpKTtjb25zdCB0PXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShuZXcgTWVkaWFTdHJlYW0oW2VdKSk7YUEodCksdGhpcy5vcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyPW5ldyB1QSx0aGlzLm9yaWdpblZvbHVtZUxldmVsQW5hbHlzZXIudXBkYXRlU291cmNlKHQpfXRoaXMuY29ubmVjdCgpLHRoaXMuYXVkaW9FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKSx0aGlzLmF1ZGlvRWxlbWVudC5zcmNPYmplY3Q9cjtjb25zdCBzPXBnKCk7dCYmcy5vcz09PWFnLklPUyYmTnVtYmVyKG51bGw9PT0obj1zLm9zVmVyc2lvbil8fHZvaWQgMD09PW4/dm9pZCAwOm4uc3BsaXQoXCIuXCIpWzBdKTwxNSYmKG5BLm9uKGx5LlNUQVRFX0NIQU5HRSwoKCk9PntcInN1c3BlbmRlZFwiPT09dGhpcy5jb250ZXh0LnN0YXRlP2RvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5yZWJ1aWxkV2ViQXVkaW8sITApOlwicnVubmluZ1wiPT09dGhpcy5jb250ZXh0LnN0YXRlJiZ0aGlzLnJlYnVpbGRXZWJBdWRpbygpfSkpLHRoaXMuY2hlY2tIYXNBdWRpb0lucHV0KCkudGhlbigoZT0+e2V8fGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5yZWJ1aWxkV2ViQXVkaW8sITApfSkpKX11cGRhdGVUcmFjayhlKXt0aGlzLnNvdXJjZU5vZGUuZGlzY29ubmVjdCgpLHRoaXMudHJhY2s9ZSx0aGlzLmlzQ3VycmVudFRyYWNrQ2xvbmVkPSExO2NvbnN0IHQ9bmV3IE1lZGlhU3RyZWFtKFtlXSk7dGhpcy5zb3VyY2VOb2RlPXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSh0KSxhQSh0aGlzLnNvdXJjZU5vZGUpLHRoaXMucHJvY2Vzc2VkTm9kZXx8dGhpcy5zb3VyY2VOb2RlLmNvbm5lY3QodGhpcy5vdXRwdXROb2RlKSx0aGlzLmVtaXQoVnkuVVBEQVRFX1NPVVJDRSksdGhpcy5hdWRpb0VsZW1lbnQuc3JjT2JqZWN0PXR9ZGVzdHJveSgpe3ZhciBlO3RoaXMuYXVkaW9FbGVtZW50LnNyY09iamVjdD1udWxsLHRoaXMuYXVkaW9FbGVtZW50LnJlbW92ZSgpLG5BLm9mZihcInN0YXRlLWNoYW5nZVwiLHRoaXMucmVidWlsZFdlYkF1ZGlvKSxudWxsPT09KGU9dGhpcy5vcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyKXx8dm9pZCAwPT09ZXx8ZS5kZXN0cm95KCksdGhpcy5jbG9uZWRUcmFjaz12b2lkIDAsc3VwZXIuZGVzdHJveSgpfWNyZWF0ZU1lZGlhU3RyZWFtU291cmNlTm9kZShlKXtyZXR1cm4gdGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKG5ldyBNZWRpYVN0cmVhbShbZV0pKX11cGRhdGVPcmlnaW5UcmFjayhlKXtjb25zdCB0PWUuY2xvbmUoKTt0LmVuYWJsZWQ9ITAsdGhpcy5jbG9uZWRUcmFjayYmKHRoaXMuY2xvbmVkVHJhY2suc3RvcCgpLHRoaXMuY2xvbmVkVHJhY2s9dCksV0MuZGVidWcoXCJjcmVhdGUgYW4gdW5tdXRlZCB0cmFjayBcIi5jb25jYXQodC5pZCxcIiBmcm9tIHRoZSBvcmlnaW5hbCB0cmFjayBcIikuY29uY2F0KGUuaWQsXCIgdG8gZ2V0IHRoZSB2b2x1bWVcIikpO2NvbnN0IGk9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKG5ldyBNZWRpYVN0cmVhbShbdF0pKTthQShpKSx0aGlzLm9yaWdpblZvbHVtZUxldmVsQW5hbHlzZXImJnRoaXMub3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlci51cGRhdGVTb3VyY2UoaSl9Z2V0T3JpZ2luVm9sdW1lTGV2ZWwoKXtyZXR1cm4gdGhpcy5vcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyP3RoaXMub3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlci5nZXRWb2x1bWVMZXZlbCgpOnRoaXMuZ2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpfX1hc3luYyBmdW5jdGlvbiBFQShlLHQsaSl7Y29uc3Qgbj0oZSx0KT0+ZT9cIm51bWJlclwiIT10eXBlb2YgZT9lLm1heHx8ZS5leGFjdHx8ZS5pZGVhbHx8ZS5taW58fHQ6ZTp0LHI9e2F1ZGlvOiEhaSYme21hbmRhdG9yeTp7Y2hyb21lTWVkaWFTb3VyY2U6XCJkZXNrdG9wXCJ9fSx2aWRlbzp7bWFuZGF0b3J5OntjaHJvbWVNZWRpYVNvdXJjZTpcImRlc2t0b3BcIixjaHJvbWVNZWRpYVNvdXJjZUlkOmUsbWF4SGVpZ2h0Om4odC5oZWlnaHQsMTA4MCksbWF4V2lkdGg6bih0LndpZHRoLDE5MjApfX19O3JldHVybiB0LmZyYW1lUmF0ZSYmXCJudW1iZXJcIiE9dHlwZW9mIHQuZnJhbWVSYXRlPyhyLnZpZGVvLm1hbmRhdG9yeS5tYXhGcmFtZVJhdGU9dC5mcmFtZVJhdGUubWF4LHIudmlkZW8ubWFuZGF0b3J5Lm1pbkZyYW1lUmF0ZT10LmZyYW1lUmF0ZS5taW4pOlwibnVtYmVyXCI9PXR5cGVvZiB0LmZyYW1lUmF0ZSYmKHIudmlkZW8ubWFuZGF0b3J5Lm1heEZyYW1lUmF0ZT10LmZyYW1lUmF0ZSksYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEocil9YXN5bmMgZnVuY3Rpb24gbUEoZSx0KXtjb25zdCBpPWF3YWl0IGZBKGUubWVkaWFTb3VyY2UpLHtzb3VyY2VJZDpuLGF1ZGlvOnJ9PWF3YWl0IGZ1bmN0aW9uKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07cmV0dXJuIG5ldyB0ZygoKGksbik9Pntjb25zdCByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5pbm5lclRleHQ9XCJzaGFyZSBzY3JlZW5cIixyLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGhlaWdodDogMjVweDsgbGluZS1oZWlnaHQ6IDI1cHg7IGJvcmRlci1yYWRpdXM6IDRweCA0cHggMCAwOyBiYWNrZ3JvdW5kOiAjRDREMkQ0OyBib3JkZXItYm90dG9tOiAgc29saWQgMXB4ICNCOUI4Qjk7XCIpO2NvbnN0IHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtzLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiA1MDBweDsgcGFkZGluZzogMTVweCAyNXB4IDsgYm94LXNpemluZzogYm9yZGVyLWJveDtcIik7Y29uc3Qgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO28uaW5uZXJUZXh0PVwiQWdvcmEgV2ViIFNjcmVlbnNoYXJpbmcgd2FudHMgdG8gc2hhcmUgdGhlIGNvbnRlbnRzIG9mIHlvdXIgc2NyZWVuIHdpdGggd2ViZGVtby5hZ29yYWJlY2tvbi5jb20uIENob29zZSB3aGF0IHlvdSdkIGxpa2UgdG8gc2hhcmUuXCIsby5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiaGVpZ2h0OiAxMiU7XCIpO2NvbnN0IGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiA4MCU7IGJhY2tncm91bmQ6ICNGRkY7IGJvcmRlcjogIHNvbGlkIDFweCAjQ0JDQkNCOyBkaXNwbGF5OiBmbGV4OyBmbGV4LXdyYXA6IHdyYXA7IGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kOyBvdmVyZmxvdy15OiBzY3JvbGw7IHBhZGRpbmc6IDAgMTVweDsgYm94LXNpemluZzogYm9yZGVyLWJveDtcIik7Y29uc3QgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Muc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgcGFkZGluZzogMTZweCAwO1wiKTtjb25zdCBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7ZC5pbm5lckhUTUw9XCJjYW5jZWxcIixkLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogODVweDtcIiksZC5vbmNsaWNrPSgpPT57ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh1KTtjb25zdCBlPW5ldyBFcnJvcihcIk5vdEFsbG93ZWRFcnJvclwiKTtlLm5hbWU9XCJOb3RBbGxvd2VkRXJyb3JcIixuKGUpfTtsZXQgbD10O2NvbnN0IGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZih0KXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtlLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImNoZWNrYm94XCIpO2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7ZS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwibWFyZ2luLXJpZ2h0OiA2cHg7XCIpLHQuaW5uZXJUZXh0PVwiU2hhcmUgYXVkaW9cIixlLmNoZWNrZWQ9bCxlLm9uY2hhbmdlPSgpPT57bD1lLmNoZWNrZWR9LGguYXBwZW5kQ2hpbGQoZSksaC5hcHBlbmRDaGlsZCh0KX1jLmFwcGVuZENoaWxkKGgpLGMuYXBwZW5kQ2hpbGQoZCkscy5hcHBlbmRDaGlsZChvKSxzLmFwcGVuZENoaWxkKGEpLHMuYXBwZW5kQ2hpbGQoYyk7Y29uc3QgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Uuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcInBvc2l0aW9uOiBmaXhlZDsgei1pbmRleDogOTk5OTk5OTk7IHRvcDogNTAlOyBsZWZ0OiA1MCU7IHdpZHRoOiA2MjBweDsgaGVpZ2h0OiA1MjVweDsgYmFja2dyb3VuZDogI0VDRUNFQzsgYm9yZGVyLXJhZGl1czogNHB4OyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsLTUwJSk7IHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsLTUwJSk7XCIpLHUuYXBwZW5kQ2hpbGQociksdS5hcHBlbmRDaGlsZChzKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHUpLGUubWFwKChlPT57aWYoZS5pZCl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Quc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIndpZHRoOiAzMCU7IGhlaWdodDogMTYwcHg7IHBhZGRpbmc6IDIwcHggMDsgdGV4dC1hbGlnbjogY2VudGVyO2JveC1zaXppbmc6IGNvbnRlbnQtYm94O1wiKTtsZXQgbj1lLnRodW1ibmFpbDt0cnl7Y29uc3R7d2lkdGg6ZX09bi5nZXRTaXplKCk7ZT4xOTIwJiYobj1uLnJlc2l6ZSh7d2lkdGg6MTkyMH0pKX1jYXRjaChlKXt0aHJvdyBlJiZlLm1lc3NhZ2Uuc3RhcnRzV2l0aChcIklsbGVnYWwgaW52b2NhdGlvblwiKSYmY29uc29sZS5lcnJvcihcIk9wZXJhdGUgdGh1bWJuYWlsIGVycm9yLCBwbGVhc2UgdHJ5IHRvIHNldCBjb250ZXh0SXNvbGF0aW9uOiBmYWxzZS4gKGh0dHBzOi8vZ2l0aHViLmNvbS9lbGVjdHJvbi9lbGVjdHJvbi9pc3N1ZXMvMzQ5NTMpXCIpLGV9dC5pbm5lckhUTUw9JzxkaXYgc3R5bGU9XCJoZWlnaHQ6IDEyMHB4OyBkaXNwbGF5OiB0YWJsZS1jZWxsOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1wiPjxpbWcgc3R5bGU9XCJ3aWR0aDogMTAwJTsgYmFja2dyb3VuZDogIzMzMzMzMzsgYm94LXNoYWRvdzogMXB4IDFweCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcIiBzcmM9JytuLnRvRGF0YVVSTCgpKycgLz48L2Rpdj48c3BhbiBzdHlsZT1cIlxcdGhlaWdodDogNDBweDsgbGluZS1oZWlnaHQ6IDQwcHg7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDcwJTsgd29yZC1icmVhazoga2VlcC1hbGw7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93OiBoaWRkZW47IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1wiPicrZS5uYW1lLnJlcGxhY2UoL1tcXHUwMEEwLVxcdTk5OTk8PlxcJl0vZywoZnVuY3Rpb24oZSl7cmV0dXJuXCImI1wiK2UuY2hhckNvZGVBdCgwKStcIjtcIn0pKStcIjwvc3Bhbj5cIix0Lm9uY2xpY2s9KCk9Pntkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHUpLGkoe3NvdXJjZUlkOmUuaWQsYXVkaW86bH0pfSxhLmFwcGVuZENoaWxkKHQpfX0pKX0pKX0oaSx0KTtyZXR1cm4gYXdhaXQgRUEobixlLHIpfWFzeW5jIGZ1bmN0aW9uIGZBKGUpe2xldCB0PVtcIndpbmRvd1wiLFwic2NyZWVuXCJdO1wiYXBwbGljYXRpb25cIiE9PWUmJlwid2luZG93XCIhPT1lfHwodD1bXCJ3aW5kb3dcIl0pLFwic2NyZWVuXCI9PT1lJiYodD1bXCJzY3JlZW5cIl0pO2NvbnN0IGk9clMoKTtpZighaSl0aHJvdyBjb25zb2xlLmVycm9yKFwiZmFpbGVkIHRvIGZldGNoIGVsZWN0cm9uLCBwbGVhc2UgbW91bnQgaXQgdG8gd2luZG93XCIpLG5ldyBWZyh4Zy5FTEVDVFJPTl9JU19OVUxMKTtsZXQgbj1udWxsO3RyeXt2YXIgcjtuPShudWxsPT09KHI9aS5kZXNrdG9wQ2FwdHVyZXIpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmdldFNvdXJjZXMoe3R5cGVzOnR9KSl8fGkuaXBjUmVuZGVyZXIuaW52b2tlKFwiREVTS1RPUF9DQVBUVVJFUl9HRVRfU09VUkNFU1wiLHt0eXBlczp0fSl9Y2F0Y2goZSl7bj1udWxsfW4mJm4udGhlbnx8KG49bmV3IHRnKCgoZSxuKT0+e2kuZGVza3RvcENhcHR1cmVyLmdldFNvdXJjZXMoe3R5cGVzOnR9LCgodCxpKT0+e3Q/bih0KTplKGkpfSkpfSkpKTt0cnl7cmV0dXJuIGF3YWl0IG59Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVMRUNUUk9OX0RFU0tUT1BfQ0FQVFVSRVJfR0VUX1NPVVJDRVNfRVJST1IsZS50b1N0cmluZygpKX19ZnVuY3Rpb24gZ0EoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWNvbnN0IFNBPW5ldyBZUyhcInNhZmFyaVwiKTtsZXQgVEE9ITEsUkE9ITE7YXN5bmMgZnVuY3Rpb24gQ0EoZSx0KXtsZXQgaT0wLG49bnVsbDtmb3IoO2k8MjspdHJ5e249YXdhaXQgdkEoZSx0LGk+MCk7YnJlYWt9Y2F0Y2goZSl7aWYoZSBpbnN0YW5jZW9mIFZnKXRocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0LFwiXSBcIikuY29uY2F0KGUudG9TdHJpbmcoKSkpLGU7Y29uc3Qgbj1JQShlLm5hbWV8fGUuY29kZXx8ZSxlLm1lc3NhZ2UpO2lmKG4uY29kZT09PXhnLk1FRElBX09QVElPTl9JTlZBTElEKXtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodCxcIl0gZGV0ZWN0IG1lZGlhIG9wdGlvbiBpbnZhbGlkLCByZXRyeVwiKSksaSs9MSxhd2FpdCBVUyg1MDApO2NvbnRpbnVlfXRocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0LFwiXSBcIikuY29uY2F0KG4udG9TdHJpbmcoKSkpLG59aWYoIW4pdGhyb3cgbmV3IFZnKHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgc3RyZWFtIGFmdGVyIGdldFVzZXJNZWRpYVwiKTtyZXR1cm4gbn1hc3luYyBmdW5jdGlvbiB2QShlLHQsaSl7aWYoIW5hdmlnYXRvci5tZWRpYURldmljZXN8fCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSl0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcImNhbiBub3QgZmluZCBnZXRVc2VyTWVkaWFcIik7aSYmKGUudmlkZW8mJihkZWxldGUgZS52aWRlby53aWR0aCxkZWxldGUgZS52aWRlby5oZWlnaHQpLGUuc2NyZWVuJiYoZGVsZXRlIGUuc2NyZWVuLndpZHRoLGRlbGV0ZSBlLnNjcmVlbi5oZWlnaHQpKTtjb25zdCBuPWhBKCkscj1uZXcgTWVkaWFTdHJlYW07aWYoZS5hdWRpb1NvdXJjZSYmci5hZGRUcmFjayhlLmF1ZGlvU291cmNlKSxlLnZpZGVvU291cmNlJiZyLmFkZFRyYWNrKGUudmlkZW9Tb3VyY2UpLCFlLmF1ZGlvJiYhZS52aWRlbyYmIWUuc2NyZWVuKXJldHVybiBXQy5kZWJ1ZyhcIlVzaW5nIFZpZGVvIFNvdXJjZS8gQXVkaW8gU291cmNlXCIpLHI7aWYoZS5zY3JlZW4paWYoclMoKSlpZihlLnNjcmVlbi5zb3VyY2VJZCl7eUEocixhd2FpdCBFQShlLnNjcmVlbi5zb3VyY2VJZCxlLnNjcmVlbixlLnNjcmVlbkF1ZGlvKSl9ZWxzZXt5QShyLGF3YWl0IG1BKGUuc2NyZWVuLGUuc2NyZWVuQXVkaW8pKX1lbHNlIGlmKFNnKCkmJmUuc2NyZWVuLmV4dGVuc2lvbklkJiZlLnNjcmVlbi5tYW5kYXRvcnkpe2lmKCFuLmdldFN0cmVhbUZyb21FeHRlbnNpb24pdGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzY3JlZW4gc2hhcmluZ1wiKTtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodCwnXSBTY3JlZW4gYWNjZXNzIG9uIGNocm9tZSBzdGFibGUsIGxvb2tpbmcgZm9yIGV4dGVuc2lvblwiJykpO2NvbnN0IGk9YXdhaXQobz1lLnNjcmVlbi5leHRlbnNpb25JZCxhPXQsbmV3IHRnKCgoZSx0KT0+e3RyeXtjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZShvLHtnZXRTdHJlYW06ITB9LChpPT57aWYoIWl8fCFpLnN0cmVhbUlkKXJldHVybiBXQy5lcnJvcihcIltcIi5jb25jYXQoYSxcIl0gTm8gcmVzcG9uc2UgZnJvbSBDaHJvbWUgUGx1Z2luLiBQbHVnaW4gbm90IGluc3RhbGxlZCBwcm9wZXJseVwiKSxpKSx2b2lkIHQobmV3IFZnKHhnLkNIUk9NRV9QTFVHSU5fTk9fUkVTUE9OU0UsXCJObyByZXNwb25zZSBmcm9tIENocm9tZSBQbHVnaW4uIFBsdWdpbiBub3QgaW5zdGFsbGVkIHByb3Blcmx5XCIpKTtlKGkuc3RyZWFtSWQpfSkpfWNhdGNoKGUpe1dDLmVycm9yKFwiW1wiLmNvbmNhdChhLFwiXSBBZ29yYVJUQyBzY3JlZW5zaGFyaW5nIHBsdWdpbiBpcyBub3QgYWNjZXNzaWJsZShcIikuY29uY2F0KG8sXCIpXCIpLGUudG9TdHJpbmcoKSksdChuZXcgVmcoeGcuQ0hST01FX1BMVUdJTl9OT1RfSU5TVEFMTCkpfX0pKSk7ZS5zY3JlZW4ubWFuZGF0b3J5LmNocm9tZU1lZGlhU291cmNlSWQ9aTt5QShyLGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHt2aWRlbzp7bWFuZGF0b3J5OmUuc2NyZWVuLm1hbmRhdG9yeX19KSl9ZWxzZSBpZihuLmdldERpc3BsYXlNZWRpYSl7dmFyIHM7ZS5zY3JlZW4ubWVkaWFTb3VyY2UmJk95KGUuc2NyZWVuLm1lZGlhU291cmNlKTtjb25zdCBpPXt3aWR0aDplLnNjcmVlbi53aWR0aCxoZWlnaHQ6ZS5zY3JlZW4uaGVpZ2h0LGZyYW1lUmF0ZTplLnNjcmVlbi5mcmFtZVJhdGUsZGlzcGxheVN1cmZhY2U6bnVsbCE9PShzPWUuc2NyZWVuLmRpc3BsYXlTdXJmYWNlKSYmdm9pZCAwIT09cz9zOlwic2NyZWVuXCI9PT1lLnNjcmVlbi5tZWRpYVNvdXJjZT9cIm1vbml0b3JcIjplLnNjcmVlbi5tZWRpYVNvdXJjZX0se3NlbGZCcm93c2VyU3VyZmFjZTpuLHN1cmZhY2VTd2l0Y2hpbmc6byxzeXN0ZW1BdWRpbzphfT1lLnNjcmVlbixjPXtzZWxmQnJvd3NlclN1cmZhY2U6bixzdXJmYWNlU3dpdGNoaW5nOm8sc3lzdGVtQXVkaW86YX07IW4mJmRlbGV0ZSBjLnNlbGZCcm93c2VyU3VyZmFjZSwhbyYmZGVsZXRlIGMuc3VyZmFjZVN3aXRjaGluZywhYSYmZGVsZXRlIGMuc3lzdGVtQXVkaW8sV0MuZGVidWcoXCJbXCIuY29uY2F0KHQsXCJdIGdldERpc3BsYXlNZWRpYTpcIiksSlNPTi5zdHJpbmdpZnkoe3ZpZGVvOmksYXVkaW86ISFlLnNjcmVlbkF1ZGlvLGNvbnRyb2xzOmN9KSk7Y29uc3QgZD1hd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYShmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9nQShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpnQShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX0oe3ZpZGVvOmksYXVkaW86ISFlLnNjcmVlbkF1ZGlvfSxjKSk7eUEocixkKX1lbHNle2lmKCFSZygpKXRocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0LFwiXSBUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzY3JlZW5TaGFyaW5nXCIpKSxuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHNjcmVlbiBzaGFyaW5nXCIpO3tlLnNjcmVlbi5tZWRpYVNvdXJjZSYmT3koZS5zY3JlZW4ubWVkaWFTb3VyY2UpO2NvbnN0IGk9e3ZpZGVvOnttZWRpYVNvdXJjZTplLnNjcmVlbi5tZWRpYVNvdXJjZSx3aWR0aDplLnNjcmVlbi53aWR0aCxoZWlnaHQ6ZS5zY3JlZW4uaGVpZ2h0LGZyYW1lUmF0ZTplLnNjcmVlbi5mcmFtZVJhdGV9fTtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodCxcIl0gZ2V0VXNlck1lZGlhOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGkpKSk7eUEocixhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShpKSl9fXZhciBvLGE7aWYoIWUudmlkZW8mJiFlLmF1ZGlvKXJldHVybiByO2xldCBjPXt2aWRlbzplLnZpZGVvLGF1ZGlvOmUuYXVkaW99LGQ9a0MoXCJNRURJQV9ERVZJQ0VfQ09OU1RSQUlOVFNcIik7aWYoZCl0cnl7XCJzdHJpbmdcIj09dHlwZW9mIGQmJihkPUpTT04ucGFyc2UoZCkpLGM9V1MoYyxkKX1jYXRjaChlKXt9V0MuZGVidWcoXCJbXCIuY29uY2F0KHQsXCJdIEdldFVzZXJNZWRpYVwiKSxKU09OLnN0cmluZ2lmeShjKSkscGcoKTtsZXQgbCxoPW51bGw7KFRnKCl8fENnKCl8fG1nKCkpJiYoaD1hd2FpdCBTQS5sb2NrKCkpO3RyeXtsPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGMpfWNhdGNoKGUpe3Rocm93IGgmJmgoKSxlfXJldHVybiBjLmF1ZGlvJiYoVEE9ITApLGMudmlkZW8mJihSQT0hMCkseUEocixsKSxoJiZoKCkscn1mdW5jdGlvbiBJQShlLHQpe3N3aXRjaChlKXtjYXNlXCJTdGFydGluZyB2aWRlbyBmYWlsZWRcIjpjYXNlXCJPdmVyY29uc3RyYWluZWRFcnJvclwiOmNhc2VcIlRyYWNrU3RhcnRFcnJvclwiOnJldHVybiBuZXcgVmcoeGcuTUVESUFfT1BUSU9OX0lOVkFMSUQsXCJcIi5jb25jYXQoZSxcIjogXCIpLmNvbmNhdCh0KSk7Y2FzZVwiTm90Rm91bmRFcnJvclwiOmNhc2VcIkRldmljZXNOb3RGb3VuZEVycm9yXCI6cmV0dXJuIG5ldyBWZyh4Zy5ERVZJQ0VfTk9UX0ZPVU5ELFwiXCIuY29uY2F0KGUsXCI6IFwiKS5jb25jYXQodCkpO2Nhc2VcIk5vdFN1cHBvcnRlZEVycm9yXCI6cmV0dXJuIG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiXCIuY29uY2F0KGUsXCI6IFwiKS5jb25jYXQodCkpO2Nhc2VcIk5vdFJlYWRhYmxlRXJyb3JcIjpyZXR1cm4gbmV3IFZnKHhnLk5PVF9SRUFEQUJMRSxcIlwiLmNvbmNhdChlLFwiOiBcIikuY29uY2F0KHQpKTtjYXNlXCJJbnZhbGlkU3RhdGVFcnJvclwiOmNhc2VcIk5vdEFsbG93ZWRFcnJvclwiOmNhc2VcIlBFUk1JU1NJT05fREVOSUVEXCI6Y2FzZVwiUGVybWlzc2lvbkRlbmllZEVycm9yXCI6cmV0dXJuIG5ldyBWZyh4Zy5QRVJNSVNTSU9OX0RFTklFRCxcIlwiLmNvbmNhdChlLFwiOiBcIikuY29uY2F0KHQpKTtjYXNlXCJDb25zdHJhaW50Tm90U2F0aXNmaWVkRXJyb3JcIjpyZXR1cm4gbmV3IFZnKHhnLkNPTlNUUkFJTlRfTk9UX1NBVElTRklFRCxcIlwiLmNvbmNhdChlLFwiOiBcIikuY29uY2F0KHQpKTtkZWZhdWx0OnJldHVybiBXQy5lcnJvcihcImdldFVzZXJNZWRpYSB1bmV4cGVjdGVkIGVycm9yXCIsZSksbmV3IFZnKHhnLlVORVhQRUNURURfRVJST1IsXCJcIi5jb25jYXQoZSxcIjogXCIpLmNvbmNhdCh0KSl9fWZ1bmN0aW9uIHlBKGUsdCl7Y29uc3QgaT1lLmdldFZpZGVvVHJhY2tzKClbMF0sbj1lLmdldEF1ZGlvVHJhY2tzKClbMF0scj10LmdldFZpZGVvVHJhY2tzKClbMF0scz10LmdldEF1ZGlvVHJhY2tzKClbMF07cyYmKG4mJmUucmVtb3ZlVHJhY2sobiksZS5hZGRUcmFjayhzKSksciYmKGkmJmUucmVtb3ZlVHJhY2soaSksZS5hZGRUcmFjayhyKSl9Y29uc3QgQUE9bmV3IGNsYXNzIGV4dGVuZHMgaVN7Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0YXRlfXNldCBzdGF0ZShlKXtlIT09dGhpcy5fc3RhdGUmJih0aGlzLmVtaXQoSnkuU1RBVEVfQ0hBTkdFLGUpLHRoaXMuX3N0YXRlPWUpfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSxudSh0aGlzLFwiX3N0YXRlXCIscXkuSURMRSksbnUodGhpcyxcImlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb25cIiwhMSksbnUodGhpcyxcImlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvblwiLCExKSxudSh0aGlzLFwibGFzdEFjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uXCIsITEpLG51KHRoaXMsXCJsYXN0QWNjZXNzQ2FtZXJhUGVybWlzc2lvblwiLCExKSxudSh0aGlzLFwiY2hlY2tkZXZpY2VNYXRjaGVkXCIsITEpLG51KHRoaXMsXCJkZXZpY2VJbmZvTWFwXCIsbmV3IE1hcCksdGhpcy5pbml0KCkudGhlbigoKCk9PntuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXImJm5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZWNoYW5nZVwiLHRoaXMudXBkYXRlRGV2aWNlc0luZm8uYmluZCh0aGlzKSksd2luZG93LnNldEludGVydmFsKCgoKT0+eyhrQyhcIkVOVU1FUkFURV9ERVZJQ0VTX0lOVEVSVkFMXCIpfHwoTWcoKXx8X2coKT09PWFnLkhBUk1PTllfT1MpJiZrZygpKSYmdGhpcy51cGRhdGVEZXZpY2VzSW5mbygpfSksa0MoXCJFTlVNRVJBVEVfREVWSUNFU19JTlRFUlZBTF9USU1FXCIpKX0pKS5jYXRjaCgoZT0+V0MuZXJyb3IoZS50b1N0cmluZygpKSkpfWFzeW5jIGVudW1lcmF0ZURldmljZXMoZSx0KXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO2lmKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKXtyZXR1cm4gbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJlbnVtZXJhdGVEZXZpY2VzKCkgbm90IHN1cHBvcnRlZC5cIikudGhyb3coKX1jb25zdCBuPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLHI9dGhpcy5jaGVja01lZGlhRGV2aWNlSW5mb0lzT2sobik7bGV0IHM9IXRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbiYmZSxvPSF0aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbiYmdDtyLmF1ZGlvJiYocz0hMSksci52aWRlbyYmKG89ITEpO2xldCBhPW51bGwsYz1udWxsLGQ9bnVsbDtpZighaSYmKHN8fG8pKXtpZihTQS5pc0xvY2tlZCl7V0MuZGVidWcoXCJbZGV2aWNlIG1hbmFnZXJdIHdhaXQgR1VNIGxvY2tcIik7KGF3YWl0IFNBLmxvY2soKSkoKSxXQy5kZWJ1ZyhcIltkZXZpY2UgbWFuYWdlcl0gR1VNIHVubG9ja1wiKX1pZihUQSYmKHM9ITEsdGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uPSEwKSxSQSYmKG89ITEsdGhpcy5pc0FjY2Vzc0NhbWVyYVBlcm1pc3Npb249ITApLFdDLmRlYnVnKFwiW2RldmljZSBtYW5hZ2VyXSBjaGVjayBtZWRpYSBkZXZpY2UgcGVybWlzc2lvbnNcIixlLHQscyxvKSxzJiZvKXt0cnl7ZD1hd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7YXVkaW86ITAsdmlkZW86ITB9KX1jYXRjaChlKXtjb25zdCB0PUlBKGUubmFtZXx8ZS5jb2RlfHxlLGUubWVzc2FnZSk7aWYodC5jb2RlPT09eGcuUEVSTUlTU0lPTl9ERU5JRUQpdGhyb3cgdDtXQy53YXJuaW5nKFwiZ2V0VXNlck1lZGlhIGZhaWxlZCBpbiBnZXREZXZpY2VzXCIsdCl9dGhpcy5pc0FjY2Vzc0NhbWVyYVBlcm1pc3Npb249ITAsdGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uPSEwfWVsc2UgaWYocyl7dHJ5e2E9YXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe2F1ZGlvOmV9KX1jYXRjaChlKXtjb25zdCB0PUlBKGUubmFtZXx8ZS5jb2RlfHxlLGUubWVzc2FnZSk7aWYodC5jb2RlPT09eGcuUEVSTUlTU0lPTl9ERU5JRUQpdGhyb3cgdDtXQy53YXJuaW5nKFwiZ2V0VXNlck1lZGlhIGZhaWxlZCBpbiBnZXREZXZpY2VzXCIsdCl9dGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uPSEwfWVsc2UgaWYobyl7dHJ5e2M9YXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe3ZpZGVvOnR9KX1jYXRjaChlKXtjb25zdCB0PUlBKGUubmFtZXx8ZS5jb2RlfHxlLGUubWVzc2FnZSk7aWYodC5jb2RlPT09eGcuUEVSTUlTU0lPTl9ERU5JRUQpdGhyb3cgdDtXQy53YXJuaW5nKFwiZ2V0VXNlck1lZGlhIGZhaWxlZCBpbiBnZXREZXZpY2VzXCIsdCl9dGhpcy5pc0FjY2Vzc0NhbWVyYVBlcm1pc3Npb249ITB9V0MuZGVidWcoXCJbZGV2aWNlIG1hbmFnZXJdIG1pYyBwZXJtaXNzaW9uXCIsZSxcImNhbSBwZXJtaXNzaW9uXCIsdCl9dHJ5e2NvbnN0IGU9YXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCk7cmV0dXJuIGEmJmEuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+ZS5zdG9wKCkpKSxjJiZjLmdldFRyYWNrcygpLmZvckVhY2goKGU9PmUuc3RvcCgpKSksZCYmZC5nZXRUcmFja3MoKS5mb3JFYWNoKChlPT5lLnN0b3AoKSkpLGE9bnVsbCxjPW51bGwsZD1udWxsLGV9Y2F0Y2goZSl7YSYmYS5nZXRUcmFja3MoKS5mb3JFYWNoKChlPT5lLnN0b3AoKSkpLGMmJmMuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+ZS5zdG9wKCkpKSxkJiZkLmdldFRyYWNrcygpLmZvckVhY2goKGU9PmUuc3RvcCgpKSksYT1udWxsLGM9bnVsbCxkPW51bGw7cmV0dXJuIG5ldyBWZyh4Zy5FTlVNRVJBVEVfREVWSUNFU19GQUlMRUQsZS50b1N0cmluZygpKS50aHJvdygpfX1hc3luYyBnZXRSZWNvcmRpbmdEZXZpY2VzKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtyZXR1cm4oYXdhaXQgdGhpcy5lbnVtZXJhdGVEZXZpY2VzKCEwLCExLGUpKS5maWx0ZXIoKGU9PlwiYXVkaW9pbnB1dFwiPT09ZS5raW5kKSl9YXN5bmMgZ2V0Q2FtZXJhc0RldmljZXMoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybihhd2FpdCB0aGlzLmVudW1lcmF0ZURldmljZXMoITEsITAsZSkpLmZpbHRlcigoZT0+XCJ2aWRlb2lucHV0XCI9PT1lLmtpbmQpKX1hc3luYyBnZXRTcGVha2Vycygpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07cmV0dXJuKGF3YWl0IHRoaXMuZW51bWVyYXRlRGV2aWNlcyghMCwhMSxlKSkuZmlsdGVyKChlPT5cImF1ZGlvb3V0cHV0XCI9PT1lLmtpbmQpKX1zZWFyY2hEZXZpY2VJZEJ5TmFtZShlKXtsZXQgdD1udWxsO3JldHVybiB0aGlzLmRldmljZUluZm9NYXAuZm9yRWFjaCgoaT0+e2kuZGV2aWNlLmxhYmVsPT09ZSYmKHQ9aS5kZXZpY2UuZGV2aWNlSWQpfSkpLHR9YXN5bmMgZ2V0RGV2aWNlQnlJZChlKXtjb25zdCB0PShhd2FpdCB0aGlzLmVudW1lcmF0ZURldmljZXMoITAsITAsITApKS5maW5kKCh0PT50LmRldmljZUlkPT09ZSkpO2lmKCF0KXRocm93IG5ldyBWZyh4Zy5ERVZJQ0VfTk9UX0ZPVU5ELFwiZGV2aWNlSWQ6IFwiLmNvbmNhdChlKSk7cmV0dXJuIHR9YXN5bmMgaW5pdCgpe3RoaXMuc3RhdGU9cXkuSU5JVElORzt0cnl7YXdhaXQgdGhpcy51cGRhdGVEZXZpY2VzSW5mbygpLHRoaXMuc3RhdGU9cXkuSU5JVEVORH1jYXRjaChlKXtpZihXQy53YXJuaW5nKFwiRGV2aWNlIERldGVjdGlvbiBmdW5jdGlvbmFsaXR5IGNhbm5vdCBzdGFydCBwcm9wZXJseS5cIixlLnRvU3RyaW5nKCkpLHRoaXMuc3RhdGU9cXkuSURMRSwhKFwiYm9vbGVhblwiPT10eXBlb2YgaXNTZWN1cmVDb250ZXh0P2lzU2VjdXJlQ29udGV4dDpcImh0dHBzOlwiPT09bG9jYXRpb24ucHJvdG9jb2x8fFwiZmlsZTpcIj09PWxvY2F0aW9uLnByb3RvY29sfHxcImxvY2FsaG9zdFwiPT09bG9jYXRpb24uaG9zdG5hbWV8fFwiMTI3LjAuMC4xXCI9PT1sb2NhdGlvbi5ob3N0bmFtZXx8XCI6OjFcIj09PWxvY2F0aW9uLmhvc3RuYW1lKSl7bmV3IFZnKHhnLldFQl9TRUNVUklUWV9SRVNUUklDVCxcIllvdXIgY29udGV4dCBpcyBsaW1pdGVkIGJ5IHdlYiBzZWN1cml0eSwgcGxlYXNlIHRyeSB1c2luZyBodHRwcyBwcm90b2NvbCBvciBsb2NhbGhvc3QuXCIpLnRocm93KCl9dGhyb3cgZX19YXN5bmMgdXBkYXRlRGV2aWNlc0luZm8oKXtjb25zdCBlPWF3YWl0IHRoaXMuZW51bWVyYXRlRGV2aWNlcyghMCwhMCwhMCksdD1EYXRlLm5vdygpLGk9W107aWYoZVswXSYmZVswXS5sYWJlbCYmITE9PT10aGlzLmNoZWNrZGV2aWNlTWF0Y2hlZCl7dGhpcy5jaGVja2RldmljZU1hdGNoZWQ9ITA7Y29uc3QgdD1lLmZpbmQoKGU9PlwiYXVkaW9pbnB1dFwiPT09ZS5raW5kJiZcImRlZmF1bHRcIj09PWUuZGV2aWNlSWQpKSxpPWUuZmluZCgoZT0+XCJhdWRpb291dHB1dFwiPT09ZS5raW5kJiZcImRlZmF1bHRcIj09PWUuZGV2aWNlSWQpKTt0JiZpP2kuZ3JvdXBJZD09PXQuZ3JvdXBJZD9XQy5kZWJ1ZyhcIltkZXZpY2UtY2hlY2tdIGRlZmF1bHQgaW5wdXQgXCIuY29uY2F0KHQubGFiZWwsXCIgYW5kIG91dHB1dCBcIikuY29uY2F0KGkubGFiZWwsXCIgaXMgdGhlIHNhbWUgZ3JvdXBcIikpOldDLndhcm5pbmcoXCJbZGV2aWNlLWNoZWNrXSBkZWZhdWx0IGlucHV0IFwiLmNvbmNhdCh0LmxhYmVsLFwiIGFuZCBvdXRwdXQgXCIpLmNvbmNhdChpLmxhYmVsLFwiIGlzIG5vdCB0aGUgc2FtZSBncm91cFwiKSk6V0MuZGVidWcoXCJbZGV2aWNlLWNoZWNrXSBkZWZhdWx0IGlucHV0IG9yIG91dHB1dCBub3QgZm91bmRcIil9Y29uc3Qgbj10aGlzLmNoZWNrTWVkaWFEZXZpY2VJbmZvSXNPayhlKTtpZihlLmZvckVhY2goKGU9PntpZighZS5kZXZpY2VJZClyZXR1cm47Y29uc3Qgbj10aGlzLmRldmljZUluZm9NYXAuZ2V0KFwiXCIuY29uY2F0KGUua2luZCxcIl9cIikuY29uY2F0KGUuZGV2aWNlSWQpKTtpZihcIkFDVElWRVwiIT09KG4/bi5zdGF0ZTpcIklOQUNUSVZFXCIpKXtjb25zdCBuPXtpbml0QXQ6dCx1cGRhdGVBdDp0LGRldmljZTplLHN0YXRlOlwiQUNUSVZFXCJ9O3RoaXMuZGV2aWNlSW5mb01hcC5zZXQoXCJcIi5jb25jYXQoZS5raW5kLFwiX1wiKS5jb25jYXQoZS5kZXZpY2VJZCksbiksaS5wdXNoKG4pfW4mJihuLnVwZGF0ZUF0PXQpfSkpLHRoaXMuZGV2aWNlSW5mb01hcC5mb3JFYWNoKCgoZSxuKT0+e1wiQUNUSVZFXCI9PT1lLnN0YXRlJiZlLnVwZGF0ZUF0IT09dCYmKGUuc3RhdGU9XCJJTkFDVElWRVwiLGkucHVzaChlKSl9KSksdGhpcy5zdGF0ZSE9PXF5LklOSVRFTkQpcmV0dXJuIG4uYXVkaW8mJih0aGlzLmxhc3RBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMCx0aGlzLmlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb249ITApLHZvaWQobi52aWRlbyYmKHRoaXMubGFzdEFjY2Vzc0NhbWVyYVBlcm1pc3Npb249ITAsdGhpcy5pc0FjY2Vzc0NhbWVyYVBlcm1pc3Npb249ITApKTtpLmZvckVhY2goKGU9Pntzd2l0Y2goZS5kZXZpY2Uua2luZCl7Y2FzZVwiYXVkaW9pbnB1dFwiOnRoaXMubGFzdEFjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uJiZ0aGlzLmlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb24mJnRoaXMuZW1pdChKeS5SRUNPUkRJTkdfREVWSUNFX0NIQU5HRUQsZSk7YnJlYWs7Y2FzZVwidmlkZW9pbnB1dFwiOnRoaXMubGFzdEFjY2Vzc0NhbWVyYVBlcm1pc3Npb24mJnRoaXMuaXNBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uJiZ0aGlzLmVtaXQoSnkuQ0FNRVJBX0RFVklDRV9DSEFOR0VELGUpO2JyZWFrO2Nhc2VcImF1ZGlvb3V0cHV0XCI6dGhpcy5sYXN0QWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb24mJnRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbiYmdGhpcy5lbWl0KEp5LlBMQVlPVVRfREVWSUNFX0NIQU5HRUQsZSl9fSkpLG4uYXVkaW8mJih0aGlzLmxhc3RBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbj0hMCx0aGlzLmlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb249ITApLG4udmlkZW8mJih0aGlzLmxhc3RBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uPSEwLHRoaXMuaXNBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uPSEwKX1jaGVja01lZGlhRGV2aWNlSW5mb0lzT2soZSl7Y29uc3QgdD1lLmZpbHRlcigoZT0+XCJhdWRpb2lucHV0XCI9PT1lLmtpbmQpKSxpPWUuZmlsdGVyKChlPT5cInZpZGVvaW5wdXRcIj09PWUua2luZCkpLG49e2F1ZGlvOiExLHZpZGVvOiExfTtmb3IoY29uc3QgZSBvZiB0KWlmKGUubGFiZWwmJmUuZGV2aWNlSWQpe24uYXVkaW89ITA7YnJlYWt9Zm9yKGNvbnN0IGUgb2YgaSlpZihlLmxhYmVsJiZlLmRldmljZUlkKXtuLnZpZGVvPSEwO2JyZWFrfXJldHVybiBufX07bGV0IGJBPSExO2NvbnN0IHdBPW5ldyBjbGFzcyBleHRlbmRzIGlTe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSxudSh0aGlzLFwib25BdXRvcGxheUZhaWxlZFwiLHZvaWQgMCksbnUodGhpcyxcIm9uQXVkaW9BdXRvcGxheUZhaWxlZFwiLHZvaWQgMCl9fTtmdW5jdGlvbiBPQSgpe2lmKHBnKCksIWJBKXtjb25zdCBlPXQ9Pnt0LnByZXZlbnREZWZhdWx0KCksYkE9ITEsVWcoKT9kb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUsITApOihkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZSwhMCksZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZSwhMCkpfTtiQT0hMCxVZygpP2RvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZSwhMCk6KGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixlLCEwKSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixlLCEwKSksV0MuaW5mbyhcImRldGVjdCBtZWRpYSBhdXRvcGxheSBmYWlsZWQsIGRvY3VtZW50OiBodHRwczovL2RvY3MuYWdvcmEuaW8vY24vVm9pY2UvYXV0b3BsYXlfcG9saWN5X3dlYl9uZz9wbGF0Zm9ybT1XZWJcIiksd0Eub25BdXRvcGxheUZhaWxlZD93QS5vbkF1dG9wbGF5RmFpbGVkKCk6d0Eub25BdWRpb0F1dG9wbGF5RmFpbGVkP1dDLndhcm5pbmcoXCJBZ29yYVJUQy5vbkF1ZGlvQXV0b3BsYXlGYWlsZWQgaGFzIGJlZW4gZGVwcmVjYXRlZCBpbiBmYXZvciBvZiBBZ29yYVJUQy5vbkF1dG9wbGF5RmFpbGVkLlxcblxcbiAgUGxlYXNlIHJlZmVyIHRvIHRoZSBBZ29yYSBkb2N1bWVudCB0byBtaWdyYXRlIHRoZSBuZXdlciBBUEksIGh0dHBzOi8vZG9jcy5hZ29yYS5pby9lbi9Wb2ljZS9hdXRvcGxheV9wb2xpY3lfd2ViX25nP3BsYXRmb3JtPVdlYiAuXCIpOldDLndhcm5pbmcoXCJXZSBoYXZlIGRldGVjdGVkIGEgbWVkaWEgYXV0b3BsYXkgZmFpbGVkIGV2ZW50LCBhbmQgZm91bmQgb3V0IHRoYXQgeW91IGhhdmVuJ3QgaW1wbGVtZW50ZWQgQWdvcmFSVEMub25BdXRvcGxheUZhaWxlZCBjYWxsYmFjayB5ZXQuXFxuXFxuICBJdCB3aWxsIGNhdXNlIGF1ZGlvL3ZpZGVvIGVsZW1lbnQgbm90IHBsYXlpbmcgYXV0b21hdGljYWxseSBvbiBzb21lIGJyb3dzZXJzIHdpdGhvdXQgdXNlciBpbnRlcmFjdGlvbiwgcG9zc2libHkgaHVydGluZyB1c2VyIGV4cGVyaWVuY2VzLlxcblxcbiAgUGxlYXNlIHJlZmVyIHRvIHRoZSBBZ29yYSBkb2N1bWVudCB0byBwcm9wZXJseSBoYW5kbGUgYXV0b3BsYXkgZmFpbGVkIGV2ZW50LCBodHRwczovL2RvY3MuYWdvcmEuaW8vZW4vVm9pY2UvYXV0b3BsYXlfcG9saWN5X3dlYl9uZz9wbGF0Zm9ybT1XZWIgLlwiKSx3QS5lbWl0KFwiYXV0b3BsYXktZmFpbGVkXCIpfX1mdW5jdGlvbiBOQShlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gREEoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/TkEoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6TkEoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gUEEoZSx0LGksbil7aWYoIWUpcmV0dXJuO2NvbnN0IHI9aXYuZ2V0QmFzZUluZm9CeVNlc3Npb25JZChlKTtpZighcilyZXR1cm47Y29uc3Qgcz1yLmluZm8sbz1EYXRlLm5vdygpLGE9REEoREEoe30scykse30se3ZpZDp2b2lkIDA9PT1zLnZpZD8wOk51bWJlcihzLnZpZCksbHRzOm8sZWxhcHNlOm8tci5zdGFydFRpbWUsY2JSZWdpc3RlcmVkOndBLm9uQXV0b3BsYXlGYWlsZWR8fHdBLm9uQXVkaW9BdXRvcGxheUZhaWxlZD8xOi0xLGVycm9yTXNnOmksbWVkaWFUeXBlOnQsdHJhY2tJZDpuLGV4dGVuZDp2b2lkIDB9KTtpdi5zZW5kKHt0eXBlOnpDLkFVVE9QTEFZX0ZBSUxFRCxkYXRhOmF9LCEwKX1jb25zdCBMQT1bXCJwbGF5XCIsXCJwbGF5aW5nXCIsXCJsb2FkZWRkYXRhXCIsXCJjYW5wbGF5XCIsXCJwYXVzZVwiLFwic3RhbGxlZFwiLFwic3VzcGVuZFwiLFwid2FpdGluZ1wiLFwiYWJvcnRcIixcImVtcHRpZWRcIixcImVuZGVkXCIsXCJlcnJvclwiXSxrQT1uZXcgY2xhc3N7Y29uc3RydWN0b3IoKXtudSh0aGlzLFwib25BdXRvcGxheUZhaWxlZFwiLHZvaWQgMCksbnUodGhpcyxcImVsZW1lbnRNYXBcIixuZXcgTWFwKSxudSh0aGlzLFwiZWxlbWVudFN0YXRlTWFwXCIsbmV3IE1hcCksbnUodGhpcyxcImVsZW1lbnRzTmVlZFRvUmVzdW1lXCIsW10pLG51KHRoaXMsXCJzaW5rSWRNYXBcIixuZXcgTWFwKSxudSh0aGlzLFwiYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uXCIsKCgpPT57QXJyYXkuZnJvbSh0aGlzLmVsZW1lbnRNYXAuZW50cmllcygpKS5mb3JFYWNoKChlPT57bGV0W3QsaV09ZTtjb25zdCBuPXRoaXMuZWxlbWVudFN0YXRlTWFwLmdldCh0KSxyPWkuc3JjT2JqZWN0LmdldEF1ZGlvVHJhY2tzKClbMF07d2coKT9yJiZcImxpdmVcIj09PXIucmVhZHlTdGF0ZSYmXCJydW5uaW5nXCI9PT1uQS5jdXJTdGF0ZSYmKFdDLmRlYnVnKFwiYXV0byByZXN1bWUgYWZ0ZXIgaW50ZXJydXB0aW9uIGZvciBpT1MgMTVcIiksaS5wYXVzZSgpLGkucGxheSgpKTpuJiZcInBhdXNlZFwiPT09biYmciYmXCJsaXZlXCI9PT1yLnJlYWR5U3RhdGUmJlwicnVubmluZ1wiPT09bkEuY3VyU3RhdGUmJihXQy5kZWJ1ZyhcImF1dG8gcmVzdW1lIGFmdGVyIGludGVycnVwdGlvbiBmb3IgaU9TXCIpLGkucGxheSgpKX0pKX0pKSxudSh0aGlzLFwiYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uT25JT1MxNV8xNlwiLCgoKT0+e0FycmF5LmZyb20odGhpcy5lbGVtZW50TWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LGldPWU7Y29uc3Qgbj1pLnNyY09iamVjdC5nZXRBdWRpb1RyYWNrcygpWzBdO24mJlwibGl2ZVwiPT09bi5yZWFkeVN0YXRlJiYoV0MuZGVidWcoXCJhdXRvIHJlc3VtZSBhZnRlciBpbnRlcnJ1cHRpb24gaW5zaWRlIGF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbk9uSU9TMTVcIiksaS5wYXVzZSgpLGkucGxheSgpKX0pKX0pKSx0aGlzLmF1dG9SZXN1bWVBdWRpb0VsZW1lbnQoKSxuQS5vbihseS5JT1NfSU5URVJSVVBUSU9OX0VORCx0aGlzLmF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbiksbkEub24obHkuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9FTkQsdGhpcy5hdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25PbklPUzE1XzE2KSxuQS5vbihseS5TVEFURV9DSEFOR0UsKCgpPT57Q2coKSYmXCJzdXNwZW5kZWRcIj09PW5BLnByZXZTdGF0ZSYmXCJydW5uaW5nXCI9PT1uQS5jdXJTdGF0ZSYmdGhpcy5hdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb24oKX0pKX1hc3luYyBzZXRTaW5rSUQoZSx0KXtjb25zdCBpPXRoaXMuZWxlbWVudE1hcC5nZXQoZSk7aWYodGhpcy5zaW5rSWRNYXAuc2V0KGUsdCksaSl0cnl7YXdhaXQgaS5zZXRTaW5rSWQodCl9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLlBFUk1JU1NJT05fREVOSUVELFwiY2FuIG5vdCBzZXQgc2luayBpZDogXCIrZS50b1N0cmluZygpKX19cGxheShlLHQsaSxuKXtpZih0aGlzLmVsZW1lbnRNYXAuaGFzKHQpKXJldHVybjtjb25zdCByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtyLmF1dG9wbGF5PSEwLHIuc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbShbZV0pLHRoaXMuYmluZEF1ZGlvRWxlbWVudEV2ZW50cyh0LHIpLHRoaXMuZWxlbWVudE1hcC5zZXQodCxyKSx0aGlzLmVsZW1lbnRTdGF0ZU1hcC5zZXQodCx6eS5JTklUKSx0aGlzLnNldFZvbHVtZSh0LGkpO2NvbnN0IHM9dGhpcy5zaW5rSWRNYXAuZ2V0KHQpO2lmKHMpdHJ5e3Iuc2V0U2lua0lkKHMpLmNhdGNoKChlPT57V0Mud2FybmluZyhcIltcIi5jb25jYXQodCxcIl0gc2V0IHNpbmsgaWQgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSl9KSl9Y2F0Y2goZSl7V0Mud2FybmluZyhcIltcIi5jb25jYXQodCxcIl0gc2V0IHNpbmsgaWQgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSl9Y29uc3Qgbz1yLnBsYXkoKTtvJiZvLnRoZW4mJm8uY2F0Y2goKGU9PntuJiZQQShuLFwiYXVkaW9cIixlLm1lc3NhZ2UsdCksV0Mud2FybmluZyhcImF1ZGlvIGVsZW1lbnQgcGxheSB3YXJuaW5nXCIsZS50b1N0cmluZygpKSx0aGlzLmVsZW1lbnRNYXAuaGFzKHQpJiZcIk5vdEFsbG93ZWRFcnJvclwiPT09ZS5uYW1lJiYoV0Mud2FybmluZyhcImRldGVjdGVkIGF1ZGlvIGVsZW1lbnQgYXV0b3BsYXkgZmFpbGVkXCIpLHRoaXMuZWxlbWVudHNOZWVkVG9SZXN1bWUucHVzaChyKSxBUygoKCk9Pnt0aGlzLm9uQXV0b3BsYXlGYWlsZWQmJnRoaXMub25BdXRvcGxheUZhaWxlZCgpLE9BKCl9KSkpfSkpfXVwZGF0ZVRyYWNrKGUsdCl7Y29uc3QgaT10aGlzLmVsZW1lbnRNYXAuZ2V0KGUpO2kmJihpLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW3RdKSl9aXNQbGF5aW5nKGUpe3JldHVybiB0aGlzLmVsZW1lbnRNYXAuaGFzKGUpJiZcInBsYXlpbmdcIj09PXRoaXMuZWxlbWVudFN0YXRlTWFwLmdldChlKX1zZXRWb2x1bWUoZSx0KXtjb25zdCBpPXRoaXMuZWxlbWVudE1hcC5nZXQoZSk7aSYmKHQ9TWF0aC5tYXgoMCxNYXRoLm1pbigxMDAsdCkpLGkudm9sdW1lPXQvMTAwKX1zdG9wKGUpe2NvbnN0IHQ9dGhpcy5lbGVtZW50TWFwLmdldChlKTtpZih0aGlzLnNpbmtJZE1hcC5kZWxldGUoZSksIXQpcmV0dXJuO2NvbnN0IGk9dGhpcy5lbGVtZW50c05lZWRUb1Jlc3VtZS5pbmRleE9mKHQpO3RoaXMuZWxlbWVudHNOZWVkVG9SZXN1bWUuc3BsaWNlKGksMSksdC5zcmNPYmplY3Q9bnVsbCx0LnJlbW92ZSgpLHRoaXMuZWxlbWVudE1hcC5kZWxldGUoZSksdGhpcy5lbGVtZW50U3RhdGVNYXAuZGVsZXRlKGUpfWJpbmRBdWRpb0VsZW1lbnRFdmVudHMoZSx0KXtMQS5mb3JFYWNoKChpPT57dC5hZGRFdmVudExpc3RlbmVyKGksKGk9Pntjb25zdCBuPXRoaXMuZWxlbWVudFN0YXRlTWFwLmdldChlKSxyPVwicGF1c2VcIj09PWkudHlwZT9cInBhdXNlZFwiOmkudHlwZTtpZihXQy5kZWJ1ZyhcIltcIi5jb25jYXQoZSxcIl0gYXVkaW8tZWxlbWVudC1zdGF0dXMgY2hhbmdlIFwiKS5jb25jYXQobixcIiA9PiBcIikuY29uY2F0KHIpKSxcImVycm9yXCI9PT1pLnR5cGUpe2NvbnN0IGk9bnVsbD09dD92b2lkIDA6dC5lcnJvcjtpJiZXQy5lcnJvcihcIltcIi5jb25jYXQoZSxcIl0gbWVkaWEgZXJyb3IsIGNvZGU6IFwiKS5jb25jYXQoaS5jb2RlLFwiLCBtZXNzYWdlOiBcIikuY29uY2F0KGkubWVzc2FnZSkpfXRoaXMuZWxlbWVudFN0YXRlTWFwLnNldChlLHIpfSkpfSkpfWdldFBsYXllclN0YXRlKGUpe3JldHVybiB0aGlzLmVsZW1lbnRTdGF0ZU1hcC5nZXQoZSl8fFwidW5pbml0XCJ9YXV0b1Jlc3VtZUF1ZGlvRWxlbWVudCgpe2NvbnN0IGU9KCk9Pnt0aGlzLmVsZW1lbnRzTmVlZFRvUmVzdW1lLmZvckVhY2goKGU9PntlLnBsYXkoKS50aGVuKChlPT57V0MuZGVidWcoXCJBdXRvIHJlc3VtZSBhdWRpbyBlbGVtZW50IHN1Y2Nlc3NcIil9KSkuY2F0Y2goKGU9PntXQy53YXJuaW5nKFwiQXV0byByZXN1bWUgYXVkaW8gZWxlbWVudCBmYWlsZWQhXCIsZSl9KSl9KSksdGhpcy5lbGVtZW50c05lZWRUb1Jlc3VtZT1bXX07bmV3IHRnKChlPT57ZG9jdW1lbnQuYm9keT9lKCk6d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsKCgpPT5lKCkpKX0pKS50aGVuKCgoKT0+e1VnKCk/ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixlLCEwKTooZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGUsITApLGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGUsITApKX0pKX19O2Z1bmN0aW9uIE1BKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxpKXtjb25zdCBuPWkudmFsdWU7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKGkudmFsdWU9ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlZCYmbmV3IFZnKHhnLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gY2Fubm90IG9wZXJhdGUgYSBjbG9zZWQgdHJhY2tcIikpLnByaW50KFwid2FybmluZ1wiLFdDKTtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtjb25zdCByPW4uYXBwbHkodGhpcyx0KTtyZXR1cm4gciBpbnN0YW5jZW9mIHRnP25ldyB0ZygoKGUsdCk9PntyLnRoZW4oZSkuY2F0Y2godCl9KSk6cn0pLGl9fWZ1bmN0aW9uIFVBKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiB4QShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9VQShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpVQShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jbGFzcyBWQSBleHRlbmRzIGlTe2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksbnUodGhpcyxcIm5hbWVcIixcIlZpZGVvUHJvY2Vzc29yRGVzdGluYXRpb25cIiksbnUodGhpcyxcIklEXCIsXCIwXCIpLG51KHRoaXMsXCJfc291cmNlXCIsdm9pZCAwKSxudSh0aGlzLFwidmlkZW9Db250ZXh0XCIsdm9pZCAwKSxudSh0aGlzLFwiaW5wdXRUcmFja1wiLHZvaWQgMCksdGhpcy52aWRlb0NvbnRleHQ9ZX1nZXQga2luZCgpe3JldHVyblwidmlkZW9cIn1nZXQgZW5hYmxlZCgpe3JldHVybiEwfXBpcGUoKXt0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcIlZpZGVvUHJvY2Vzc29yIGNhbm5vdCBwaXBlIHRvIGFueSBvdGhlciBQcm9jZXNzb3JcIil9dW5waXBlKCl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJWaWRlb1Byb2Nlc3NvciBjYW5ub3QgdW5waXBlIHRvIGFueSBvdGhlciBQcm9jZXNzb3JcIil9ZW5hYmxlKCl7fWRpc2FibGUoKXt9dXBkYXRlSW5wdXQoZSl7aWYoZS5jb250ZXh0IT09dGhpcy52aWRlb0NvbnRleHQpdGhyb3cgbmV3IEVycm9yKFwiUHJvY2Vzc29yQ29udGV4dCBwYXNzZWQgdG8gVmlkZW9UcmFjay5wcm9jZXNzb3JEZXN0aW5hdGlvbiBkb2Vzbid0IG1hdGNoIGl0J3MgYmVsb25naW5nIFZpZGVvVHJhY2sncyBjb250ZXh0LlxcblByb2JhYmx5IHlvdSBhcmUgbWFraW5nIHBpcGVsaW5lIGxpa2UgdGhpczpcXG52aWRlb1RyYWNrMS5waXBlKHByb2Nlc3NvcikucGlwZSh2aWRlb1RyYWNrMi5wcm9jZXNzb3JEZXN0aW5hdGlvbikuXCIpO2UudHJhY2smJmUudHJhY2shPT10aGlzLmlucHV0VHJhY2smJih0aGlzLnZpZGVvQ29udGV4dC5jaGFpbmVkPSEwLHRoaXMuaW5wdXRUcmFjaz1lLnRyYWNrLHRoaXMuZW1pdChLeS5PTl9UUkFDSyxlLnRyYWNrKSl9cmVzZXQoKXt0aGlzLmlucHV0VHJhY2s9dm9pZCAwLHRoaXMudmlkZW9Db250ZXh0LmNoYWluZWQ9ITEsdGhpcy5lbWl0KEt5Lk9OX1RSQUNLLHZvaWQgMCl9fWNsYXNzIEZBIGV4dGVuZHMgaVN7c2V0IGNoYWluZWQoZSl7dGhpcy5fY2hhaW5lZD1lfWdldCBjaGFpbmVkKCl7cmV0dXJuIHRoaXMuX2NoYWluZWR9Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLG51KHRoaXMsXCJjb25zdHJhaW50c01hcFwiLG5ldyBNYXApLG51KHRoaXMsXCJzdGF0c1JlZ2lzdHJ5XCIsW10pLG51KHRoaXMsXCJ1c2FnZVJlZ2lzdHJ5XCIsW10pLG51KHRoaXMsXCJ0cmFja0lkXCIsdm9pZCAwKSxudSh0aGlzLFwiZGlyZWN0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwiX2NoYWluZWRcIiwhMSksdGhpcy50cmFja0lkPWUsdGhpcy5kaXJlY3Rpb249dH1hc3luYyBnZXRDb25zdHJhaW50cygpe3JldHVybiBhd2FpdCBmUyh0aGlzLFl5LlJFUVVFU1RfQ09OU1RSQUlOVFMpfWFzeW5jIHJlcXVlc3RBcHBseUNvbnN0cmFpbnRzKGUsdCl7dmFyIGk7cmV0dXJuIFdDLmluZm8oXCJwcm9jZXNzb3IgXCIuY29uY2F0KHQubmFtZSxcIiByZXF1ZXN0QXBwbHlDb25zdHJhaW50cyBmb3IgXCIpLmNvbmNhdCh0aGlzLnRyYWNrSWQpKSxlJiZ0aGlzLmNvbnN0cmFpbnRzTWFwLnNldCh0LGUpLGdTKHRoaXMsWXkuUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMsQXJyYXkuZnJvbShQdihpPXRoaXMuY29uc3RyYWludHNNYXApLmNhbGwoaSkpKX1hc3luYyByZXF1ZXN0UmV2ZXJ0Q29uc3RyYWludHMoZSl7dmFyIHQ7aWYodGhpcy5jb25zdHJhaW50c01hcC5oYXMoZSkpcmV0dXJuIFdDLmluZm8oXCJwcm9jZXNzb3IgXCIuY29uY2F0KGUubmFtZSxcIiByZXF1ZXN0UmV2ZXJ0Q29uc3RyYWludHMgZm9yIFwiKS5jb25jYXQodGhpcy50cmFja0lkKSksdGhpcy5jb25zdHJhaW50c01hcC5kZWxldGUoZSksZ1ModGhpcyxZeS5SRVFVRVNUX1VQREFURV9DT05TVFJBSU5UUyxBcnJheS5mcm9tKFB2KHQ9dGhpcy5jb25zdHJhaW50c01hcCkuY2FsbCh0KSkpfXJlZ2lzdGVyU3RhdHMoZSx0LGkpe3RoaXMuc3RhdHNSZWdpc3RyeS5maW5kKChpPT5pLnByb2Nlc3NvcklEPT09ZS5JRCYmaS5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lJiZpLnR5cGU9PT10KSl8fHRoaXMuc3RhdHNSZWdpc3RyeS5wdXNoKHtwcm9jZXNzb3JOYW1lOmUubmFtZSxwcm9jZXNzb3JJRDplLklELHR5cGU6dCxjYjppfSl9dW5yZWdpc3RlclN0YXRzKGUsdCl7Y29uc3QgaT10aGlzLnN0YXRzUmVnaXN0cnkuZmluZEluZGV4KChpPT5pLnByb2Nlc3NvcklEPT09ZS5JRCYmaS5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lJiZpLnR5cGU9PT10KSk7LTEhPT1pJiZ0aGlzLnN0YXRzUmVnaXN0cnkuc3BsaWNlKGksMSl9Z2F0aGVyU3RhdHMoKXtjb25zdCBlPVtdO2Zvcihjb25zdHtwcm9jZXNzb3JJRDp0LHByb2Nlc3Nvck5hbWU6aSx0eXBlOm4sY2I6cn1vZiB0aGlzLnN0YXRzUmVnaXN0cnkpdHJ5e2NvbnN0IHM9cigpO2UucHVzaCh7cHJvY2Vzc29ySUQ6dCxwcm9jZXNzb3JOYW1lOmksdHlwZTpuLHN0YXRzOnN9KX1jYXRjaChlKXtXQy5lcnJvcihuZXcgVmcoeGcuVU5FWFBFQ1RFRF9FUlJPUixlLm1lc3NhZ2UpKX1yZXR1cm4gZX1yZWdpc3RlclVzYWdlKGUsdCl7dGhpcy51c2FnZVJlZ2lzdHJ5LmZpbmQoKHQ9PnQucHJvY2Vzc29ySUQ9PT1lLklEJiZ0LnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUpKXx8dGhpcy51c2FnZVJlZ2lzdHJ5LnB1c2goe3Byb2Nlc3NvcklEOmUuSUQscHJvY2Vzc29yTmFtZTplLm5hbWUsY2I6dH0pfXVucmVnaXN0ZXJVc2FnZShlKXtjb25zdCB0PXRoaXMudXNhZ2VSZWdpc3RyeS5maW5kSW5kZXgoKHQ9PnQucHJvY2Vzc29ySUQ9PT1lLklEJiZ0LnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUpKTstMSE9PXQmJnRoaXMudXNhZ2VSZWdpc3RyeS5zcGxpY2UodCwxKX1hc3luYyBnYXRoZXJVc2FnZSgpe2NvbnN0IGU9W107aWYoIXRoaXMuY2hhaW5lZClyZXR1cm5bXTtmb3IoY29uc3R7Y2I6dH1vZiB0aGlzLnVzYWdlUmVnaXN0cnkpdHJ5e2xldCBpPXQoKTtpIGluc3RhbmNlb2YgdGcmJihpPWF3YWl0IGkpLGUucHVzaCh4QSh4QSh7fSxpKSx7fSx7ZGlyZWN0aW9uOnRoaXMuZGlyZWN0aW9ufSkpfWNhdGNoKGUpe1dDLmVycm9yKFwiZ2F0aGVyIGV4dGVuc2lvbiB1c2FnZSBlcnJvclwiLGUpfXJldHVybiBlfWdldERpcmVjdGlvbigpe3JldHVybiB0aGlzLmRpcmVjdGlvbn19Y2xhc3MgQkEgZXh0ZW5kcyBpU3tjb25zdHJ1Y3RvcihlKXtzdXBlcigpLG51KHRoaXMsXCJuYW1lXCIsXCJBdWRpb1Byb2Nlc3NvckRlc3RpbmF0aW9uXCIpLG51KHRoaXMsXCJJRFwiLFwiMFwiKSxudSh0aGlzLFwiaW5wdXRUcmFja1wiLHZvaWQgMCksbnUodGhpcyxcImlucHV0Tm9kZVwiLHZvaWQgMCksbnUodGhpcyxcImF1ZGlvUHJvY2Vzc29yQ29udGV4dFwiLHZvaWQgMCksbnUodGhpcyxcIl9zb3VyY2VcIix2b2lkIDApLHRoaXMuYXVkaW9Qcm9jZXNzb3JDb250ZXh0PWV9Z2V0IGtpbmQoKXtyZXR1cm5cImF1ZGlvXCJ9Z2V0IGVuYWJsZWQoKXtyZXR1cm4hMH1waXBlKCl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJBdWRpb1Byb2Nlc3NvckRlc3RpbmF0aW9uIGNhbm5vdCBwaXBlIHRvIGFueSBvdGhlciBQcm9jZXNzb3JcIil9dW5waXBlKCl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJBdWRpb1Byb2Nlc3NvciBjYW5ub3QgdW5waXBlIHRvIGFueSBvdGhlciBQcm9jZXNzb3JcIil9ZW5hYmxlKCl7fWRpc2FibGUoKXt9cmVzZXQoKXt0aGlzLmlucHV0VHJhY2s9dm9pZCAwLHRoaXMuaW5wdXROb2RlPXZvaWQgMCx0aGlzLmF1ZGlvUHJvY2Vzc29yQ29udGV4dC5jaGFpbmVkPSExLHRoaXMuZW1pdChLeS5PTl9UUkFDSyx2b2lkIDApLHRoaXMuZW1pdChLeS5PTl9OT0RFLHZvaWQgMCl9dXBkYXRlSW5wdXQoZSl7aWYoZS5jb250ZXh0IT09dGhpcy5hdWRpb1Byb2Nlc3NvckNvbnRleHQpdGhyb3cgbmV3IEVycm9yKFwiUHJvY2Vzc29yQ29udGV4dCBwYXNzZWQgdG8gQXVkaW9UcmFjay5wcm9jZXNzb3JEZXN0aW5hdGlvbiBkb2Vzbid0IG1hdGNoIGl0J3MgYmVsb25naW5nIEF1ZGlvVHJhY2sncyBjb250ZXh0LlxcbiAgICAgICAgUHJvYmFibHkgeW91IGFyZSBtYWtpbmcgcGlwZWxpbmUgbGlrZSB0aGlzOiBhdWRpb1RyYWNrMS5waXBlKHByb2Nlc3NvcikucGlwZShhdWRpb1RyYWNrMi5wcm9jZXNzb3JEZXN0aW5hdGlvbikuXCIpO2UudHJhY2smJnRoaXMuaW5wdXRUcmFjayE9PWUudHJhY2smJih0aGlzLmF1ZGlvUHJvY2Vzc29yQ29udGV4dC5jaGFpbmVkPSEwLHRoaXMuaW5wdXRUcmFjaz1lLnRyYWNrLHRoaXMuZW1pdChLeS5PTl9UUkFDSyx0aGlzLmlucHV0VHJhY2spKSxlLm5vZGUmJnRoaXMuaW5wdXROb2RlIT09ZS5ub2RlJiYodGhpcy5hdWRpb1Byb2Nlc3NvckNvbnRleHQuY2hhaW5lZD0hMCx0aGlzLmlucHV0Tm9kZT1lLm5vZGUsdGhpcy5lbWl0KEt5Lk9OX05PREUsdGhpcy5pbnB1dE5vZGUpKX19Y2xhc3MgakEgZXh0ZW5kcyBpU3tzZXQgY2hhaW5lZChlKXt0aGlzLl9jaGFpbmVkPWV9Z2V0IGNoYWluZWQoKXtyZXR1cm4gdGhpcy5fY2hhaW5lZH1jb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoKSxudSh0aGlzLFwiY29uc3RyYWludHNNYXBcIixuZXcgTWFwKSxudSh0aGlzLFwic3RhdHNSZWdpc3RyeVwiLFtdKSxudSh0aGlzLFwiYXVkaW9Db250ZXh0XCIsdm9pZCAwKSxudSh0aGlzLFwidHJhY2tJZFwiLHZvaWQgMCksbnUodGhpcyxcImRpcmVjdGlvblwiLHZvaWQgMCksbnUodGhpcyxcInVzYWdlUmVnaXN0cnlcIixbXSksbnUodGhpcyxcIl9jaGFpbmVkXCIsITEpLHRoaXMuYXVkaW9Db250ZXh0PWUsdGhpcy50cmFja0lkPXQsdGhpcy5kaXJlY3Rpb249aX1hc3luYyBnZXRDb25zdHJhaW50cygpe3JldHVybiBmUyh0aGlzLFl5LlJFUVVFU1RfQ09OU1RSQUlOVFMpfWdldEF1ZGlvQ29udGV4dCgpe3JldHVybiB0aGlzLmF1ZGlvQ29udGV4dH1hc3luYyByZXF1ZXN0QXBwbHlDb25zdHJhaW50cyhlLHQpe3ZhciBpO3JldHVybiBXQy5pbmZvKFwicHJvY2Vzc29yIFwiLmNvbmNhdCh0Lm5hbWUsXCIgcmVxdWVzdEFwcGx5Q29uc3RyYWludHMgZm9yIFwiKS5jb25jYXQodGhpcy50cmFja0lkKSksZSYmdGhpcy5jb25zdHJhaW50c01hcC5zZXQodCxlKSxnUyh0aGlzLFl5LlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTLEFycmF5LmZyb20oUHYoaT10aGlzLmNvbnN0cmFpbnRzTWFwKS5jYWxsKGkpKSl9YXN5bmMgcmVxdWVzdFJldmVydENvbnN0cmFpbnRzKGUpe3ZhciB0O2lmKHRoaXMuY29uc3RyYWludHNNYXAuaGFzKGUpKXJldHVybiB0aGlzLmNvbnN0cmFpbnRzTWFwLmRlbGV0ZShlKSxnUyh0aGlzLFl5LlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTLEFycmF5LmZyb20oUHYodD10aGlzLmNvbnN0cmFpbnRzTWFwKS5jYWxsKHQpKSl9cmVnaXN0ZXJTdGF0cyhlLHQsaSl7dGhpcy5zdGF0c1JlZ2lzdHJ5LmZpbmQoKGk9PmkucHJvY2Vzc29ySUQ9PT1lLklEJiZpLnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUmJmkudHlwZT09PXQpKXx8dGhpcy5zdGF0c1JlZ2lzdHJ5LnB1c2goe3Byb2Nlc3Nvck5hbWU6ZS5uYW1lLHByb2Nlc3NvcklEOmUuSUQsdHlwZTp0LGNiOml9KX11bnJlZ2lzdGVyU3RhdHMoZSx0KXtjb25zdCBpPXRoaXMuc3RhdHNSZWdpc3RyeS5maW5kSW5kZXgoKGk9PmkucHJvY2Vzc29ySUQ9PT1lLklEJiZpLnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUmJmkudHlwZT09PXQpKTstMSE9PWkmJnRoaXMuc3RhdHNSZWdpc3RyeS5zcGxpY2UoaSwxKX1nYXRoZXJTdGF0cygpe2NvbnN0IGU9W107Zm9yKGNvbnN0e3Byb2Nlc3NvcklEOnQscHJvY2Vzc29yTmFtZTppLHR5cGU6bixjYjpyfW9mIHRoaXMuc3RhdHNSZWdpc3RyeSl0cnl7Y29uc3Qgcz1yKCk7ZS5wdXNoKHtwcm9jZXNzb3JJRDp0LHByb2Nlc3Nvck5hbWU6aSx0eXBlOm4sc3RhdHM6c30pfWNhdGNoKGUpe1dDLmVycm9yKG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLGUubWVzc2FnZSkpfXJldHVybiBlfXJlZ2lzdGVyVXNhZ2UoZSx0KXt0aGlzLnVzYWdlUmVnaXN0cnkuZmluZCgodD0+dC5wcm9jZXNzb3JJRD09PWUuSUQmJnQucHJvY2Vzc29yTmFtZT09PWUubmFtZSkpfHx0aGlzLnVzYWdlUmVnaXN0cnkucHVzaCh7cHJvY2Vzc29ySUQ6ZS5JRCxwcm9jZXNzb3JOYW1lOmUubmFtZSxjYjp0fSl9dW5yZWdpc3RlclVzYWdlKGUpe2NvbnN0IHQ9dGhpcy51c2FnZVJlZ2lzdHJ5LmZpbmRJbmRleCgodD0+dC5wcm9jZXNzb3JJRD09PWUuSUQmJnQucHJvY2Vzc29yTmFtZT09PWUubmFtZSkpOy0xIT09dCYmdGhpcy51c2FnZVJlZ2lzdHJ5LnNwbGljZSh0LDEpfWFzeW5jIGdhdGhlclVzYWdlKCl7Y29uc3QgZT1bXTtpZighdGhpcy5jaGFpbmVkKXJldHVybltdO2Zvcihjb25zdHtjYjp0fW9mIHRoaXMudXNhZ2VSZWdpc3RyeSl0cnl7bGV0IGk9dCgpO2kgaW5zdGFuY2VvZiB0ZyYmKGk9YXdhaXQgaSksZS5wdXNoKHhBKHhBKHt9LGkpLHt9LHtkaXJlY3Rpb246dGhpcy5kaXJlY3Rpb259KSl9Y2F0Y2goZSl7V0MuZXJyb3IoXCJnYXRoZXIgZXh0ZW5zaW9uIHVzYWdlIGVycm9yXCIsZSl9cmV0dXJuIGV9Z2V0RGlyZWN0aW9uKCl7cmV0dXJuIHRoaXMuZGlyZWN0aW9ufX1jbGFzcyBHQSBleHRlbmRzIGlTe2dldCBpc1BsYXllZCgpe3JldHVybiEwfWdldCBpc0ZyZWV6ZSgpe3JldHVybiExfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSxudSh0aGlzLFwiY29udGV4dFwiLHZvaWQgMCksbnUodGhpcyxcInByb2Nlc3NTb3VyY2VOb2RlXCIsdm9pZCAwKSxudSh0aGlzLFwib3V0cHV0VHJhY2tcIix2b2lkIDApLG51KHRoaXMsXCJwcm9jZXNzZWROb2RlXCIsdm9pZCAwKSxudSh0aGlzLFwiY2xvbmVkVHJhY2tcIix2b2lkIDApLG51KHRoaXMsXCJvdXRwdXROb2RlXCIsdm9pZCAwKSx0aGlzLm91dHB1dE5vZGU9bmV3IFdBfXNldFZvbHVtZSgpe31jcmVhdGVPdXRwdXRUcmFjaygpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiY2FuIG5vdCBjcmVhdGUgb3V0cHV0IE1lZGlhU3RyZWFtVHJhY2sgd2hlbiBXZWJBdWRpbyBkaXNhYmxlZFwiKX1nZXRPcmlnaW5Wb2x1bWVMZXZlbCgpe3JldHVybiAwfWdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKXtyZXR1cm4gMH1zdG9wR2V0QXVkaW9CdWZmZXIoKXt9c3RhcnRHZXRBdWRpb0J1ZmZlcigpe31wbGF5KCl7fXN0b3AoKXt9ZGVzdHJveSgpe311cGRhdGVUcmFjaygpe311cGRhdGVPcmlnaW5UcmFjaygpe31jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZU5vZGUoKXt9fWNsYXNzIFdBe2Rpc2Nvbm5lY3QoKXt9Y29ubmVjdCgpe319bGV0IEhBPW51bGw7Y2xhc3MgS0F7Y29uc3RydWN0b3IoKXtudSh0aGlzLFwic3RhdGVcIixcIm9wZW5cIiksbnUodGhpcyxcInRyaWdnZXJcIix2b2lkIDApLG51KHRoaXMsXCJ0YXNrc1wiLFtdKSxXQy5kZWJ1ZyhcIlttYWNyby10YXNrLXF1ZXVlXSBpcyBjcmVhdGVkLlwiKSx0aGlzLnRyaWdnZXI9d2luZG93LnNldFRpbWVvdXQoKCgpPT57dGhpcy5zdGF0ZT1cImNsb3NlZFwiLFdDLmRlYnVnKFwiW21hY3JvLXRhc2stcXVldWVdIHdpbGwgYmUgY2xvc2VkLCBhbGwgcmVtYWluaW5nIHRhc2tzIHdpbGwgZXhlY3V0ZS4gW1wiLmNvbmNhdCh0aGlzLnRhc2tzLm1hcCgoZT0+ZS5rZXkpKSxcIl1cIikpLHRoaXMudHJpZ2dlcj12b2lkIDAsdGhpcy50YXNrcy5mb3JFYWNoKChlPT57bGV0e2Z1bmM6dH09ZTtyZXR1cm4gdCgpfSkpLHRoaXMudGFza3MubGVuZ3RoPTAsV0MuZGVidWcoXCJbbWFjcm8tdGFzay1xdWV1ZV0gaXMgY2xvc2VkLlwiKX0pKX1lbnF1ZXVlKGUsdCl7XCJjbG9zZWRcIiE9PXRoaXMuc3RhdGUmJih0aGlzLnRhc2tzLnB1c2goe2tleTplLGZ1bmM6dH0pLFdDLmRlYnVnKFwiW21hY3JvLXRhc2stcXVldWVdIGlzIHF1ZXVlZCwgY3VycmVudCBxdWV1ZSBcIi5jb25jYXQodGhpcy50YXNrcy5sZW5ndGgsXCIuIFwiKS5jb25jYXQoXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpcIlwiKSkpfXJ1blRhc2soZSl7aWYoXCJjbG9zZWRcIj09PXRoaXMuc3RhdGUpcmV0dXJuO2NvbnN0IHQ9dGhpcy50YXNrcy5maW5kSW5kZXgoKHQ9PnQua2V5PT09ZSkpO2lmKC0xIT09dCl7Y29uc3QgaT10aGlzLnRhc2tzLnNwbGljZSh0LDEpO1dDLmRlYnVnKFwiW21hY3JvLXRhc2stcXVldWVdIGlzIHVucXVldWVkLCBjdXJyZW50IHF1ZXVlIFwiLmNvbmNhdCh0aGlzLnRhc2tzLmxlbmd0aCxcIi4gXCIpLmNvbmNhdChcInN0cmluZ1wiPT10eXBlb2YgZT9lOlwiXCIpKSxpWzBdLmZ1bmMoKX19cmVsZWFzZSgpe3RoaXMudHJpZ2dlciYmKHRoaXMuc3RhdGU9XCJjbG9zZWRcIixjbGVhclRpbWVvdXQodGhpcy50cmlnZ2VyKSx0aGlzLnRyaWdnZXI9dm9pZCAwLHRoaXMudGFza3MubGVuZ3RoPTAsV0MuZGVidWcoXCJbbWFjcm8tdGFzay1xdWV1ZV0gaXMgY2xvc2VkLlwiKSl9fWZ1bmN0aW9uIFlBKGUpe3JldHVybiBmdW5jdGlvbih0LGksbil7dmFyIHI7Y29uc3Qgcz1udWxsIT09KHI9bi52YWx1ZSkmJnZvaWQgMCE9PXI/cjpuLmdldCxvPWZ1bmN0aW9uKCl7SEEmJlwib3BlblwiPT09SEEuc3RhdGUmJkhBLnJ1blRhc2soZSk7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspaVtuXT1hcmd1bWVudHNbbl07cmV0dXJuIG51bGw9PXM/dm9pZCAwOnMuYXBwbHkodGhpcywuLi5pKX07cmV0dXJuIG4udmFsdWU/bi52YWx1ZT1vOm4uZ2V0PW8sbn19ZnVuY3Rpb24gcUEoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIEpBKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3FBKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOnFBKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWNsYXNzIHpBIGV4dGVuZHMgJHl7Z2V0IF9zb3VyY2UoKXtyZXR1cm4gdGhpcy5fdHJhY2tTb3VyY2V9c2V0IF9zb3VyY2UoZSl7dGhpcy5fdHJhY2tTb3VyY2U9ZX1nZXQgcHJvY2Vzc29yQ29udGV4dCgpe3JldHVybiB0aGlzLl9wcm9jZXNzb3JDb250ZXh0fXNldCBwcm9jZXNzb3JDb250ZXh0KGUpe3RoaXMuX3Byb2Nlc3NvckNvbnRleHQ9ZX1nZXQgcHJvY2Vzc29yRGVzdGluYXRpb24oKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb259c2V0IHByb2Nlc3NvckRlc3RpbmF0aW9uKGUpe3RoaXMuX3Byb2Nlc3NvckRlc3RpbmF0aW9uPWV9Z2V0IGlzUGxheWluZygpe3JldHVybiB0aGlzLl91c2VBdWRpb0VsZW1lbnQ/a0EuaXNQbGF5aW5nKHRoaXMuZ2V0VHJhY2tJZCgpKTp0aGlzLl9zb3VyY2UuaXNQbGF5ZWR9Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm5cIkxvY2FsQXVkaW9UcmFja1wifWNvbnN0cnVjdG9yKGUsdCxpLG4scil7c3VwZXIoZSxpKSxudSh0aGlzLFwidHJhY2tNZWRpYVR5cGVcIixcImF1ZGlvXCIpLG51KHRoaXMsXCJfZW5jb2RlckNvbmZpZ1wiLHZvaWQgMCksbnUodGhpcyxcIl90cmFja1NvdXJjZVwiLHZvaWQgMCksbnUodGhpcyxcIl9lbmFibGVkXCIsITApLG51KHRoaXMsXCJfdm9sdW1lXCIsMTAwKSxudSh0aGlzLFwiX3VzZUF1ZGlvRWxlbWVudFwiLCExKSxudSh0aGlzLFwiX2J5cGFzc1dlYkF1ZGlvXCIsITEpLG51KHRoaXMsXCJwcm9jZXNzb3JcIix2b2lkIDApLG51KHRoaXMsXCJfcHJvY2Vzc29yQ29udGV4dFwiLHZvaWQgMCksbnUodGhpcyxcIl9wcm9jZXNzb3JEZXN0aW5hdGlvblwiLHZvaWQgMCksbnUodGhpcyxcIl9nZXRPcmlnaW5Wb2x1bWVMZXZlbFwiLHZvaWQgMCksdGhpcy5fZW5jb2RlckNvbmZpZz10LHRoaXMuX2dldE9yaWdpblZvbHVtZUxldmVsPSEhbjtjb25zdCBzPSgpPT57dGhpcy5wcm9jZXNzb3JDb250ZXh0PW5ldyBqQSh0aGlzLl9zb3VyY2UuY29udGV4dCx0aGlzLmdldFRyYWNrSWQoKSxcImxvY2FsXCIpLHRoaXMucHJvY2Vzc29yRGVzdGluYXRpb249bmV3IEJBKHRoaXMucHJvY2Vzc29yQ29udGV4dCksdGhpcy5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKSx0aGlzLl9zb3VyY2Uub24oVnkuVVBEQVRFX1NPVVJDRSwoKCk9Pnt0aGlzLnByb2Nlc3NvciYmdGhpcy5wcm9jZXNzb3IudXBkYXRlSW5wdXQoe25vZGU6dGhpcy5fc291cmNlLnByb2Nlc3NTb3VyY2VOb2RlLGNvbnRleHQ6dGhpcy5wcm9jZXNzb3JDb250ZXh0fSl9KSl9LG89ciYmVGcoKSYmIW9BKCk7aWYoa0MoXCJESVNBQkxFX1dFQkFVRElPXCIpPyh0aGlzLl9zb3VyY2U9bmV3IEdBLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD0hMCx0aGlzLl9ieXBhc3NXZWJBdWRpbz0hMCk6bz90aGlzLl9zb3VyY2U9bmV3IEdBOih0aGlzLl9zb3VyY2U9bmV3IF9BKGUsITEsdGhpcy5fZ2V0T3JpZ2luVm9sdW1lTGV2ZWw/ZTp2b2lkIDApLGtDKFwiTE9DQUxfQVVESU9fVFJBQ0tfVVNFU19XRUJfQVVESU9cIil8fCh0aGlzLl91c2VBdWRpb0VsZW1lbnQ9ITApKSxzKCksIWtDKFwiRElTQUJMRV9XRUJBVURJT1wiKSYmbyl7KEhBfHwoSEE9bmV3IEtBKSxIQSkuZW5xdWV1ZShcIklOSVRfV0VCQVVESU9cIiwoKCk9Pnt0aGlzLl9zb3VyY2U9bmV3IF9BKGUsITEsdGhpcy5fZ2V0T3JpZ2luVm9sdW1lTGV2ZWw/ZTp2b2lkIDApLGtDKFwiTE9DQUxfQVVESU9fVFJBQ0tfVVNFU19XRUJfQVVESU9cIil8fCh0aGlzLl91c2VBdWRpb0VsZW1lbnQ9ITApLHMoKSx0aGlzLmVtaXQoRnkuVVBEQVRFX1RSQUNLX1NPVVJDRSl9KSl9fXNldFZvbHVtZShlKXtqZyhlLFwidm9sdW1lXCIsMCwxZTMpLHRoaXMuX3ZvbHVtZT1lLHRoaXMuX3NvdXJjZS5zZXRWb2x1bWUoZS8xMDApLHRoaXMuX3VzZUF1ZGlvRWxlbWVudCYma0Euc2V0Vm9sdW1lKHRoaXMuZ2V0VHJhY2tJZCgpLGUpO3RyeXtpZih0aGlzLl9ieXBhc3NXZWJBdWRpbylyZXR1cm4gdm9pZCBXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldFZvbHVtZSByZXR1cm5lZCBiZWNhdXNlIG5vIHBhc3MgdGhyb3VnaCBXZWJBdWRpby5cIikpO2NvbnN0IGU9dGhpcy5fc291cmNlLmNyZWF0ZU91dHB1dFRyYWNrKCk7dGhpcy5fbWVkaWFTdHJlYW1UcmFjayE9PWUmJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPWUsZ1ModGhpcyxOeS5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykudGhlbigoKCk9PntXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHJlcGxhY2Ugd2ViIGF1ZGlvIHRyYWNrIHN1Y2Nlc3NcIikpfSkpLmNhdGNoKChlPT57V0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHJlcGxhY2Ugd2ViIGF1ZGlvIHRyYWNrIGZhaWxlZFwiKSxlKX0pKSl9Y2F0Y2goZSl7fX1nZXRWb2x1bWVMZXZlbCgpe3JldHVybiB0aGlzLl9tdXRlZCYmdGhpcy5lbmFibGVkJiZ0aGlzLl9nZXRPcmlnaW5Wb2x1bWVMZXZlbD90aGlzLl9zb3VyY2UuZ2V0T3JpZ2luVm9sdW1lTGV2ZWwoKTp0aGlzLl9zb3VyY2UuZ2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpfWFzeW5jIHNldFBsYXliYWNrRGV2aWNlKGUpe2lmKCF0aGlzLl91c2VBdWRpb0VsZW1lbnQpdGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJ5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzZXR0aW5nIHRoZSBhdWRpbyBvdXRwdXQgZGV2aWNlXCIpO2F3YWl0IGtBLnNldFNpbmtJRCh0aGlzLmdldFRyYWNrSWQoKSxlKX1hc3luYyBzZXRFbmFibGVkKGUsdCxpKXtyZXR1cm4gdGhpcy5fc2V0RW5hYmxlZChlLHQsaSl9YXN5bmMgX3NldEVuYWJsZWQoZSx0LGkpe2lmKCFpKXtpZihlPT09dGhpcy5fZW5hYmxlZClyZXR1cm47dGhpcy5zdGF0ZUNoZWNrKFwiZW5hYmxlZFwiLGUpfWlmKFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBzZXRFbmFibGVkXCIpLGUpLGUpe3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMDt0cnl7aXx8KHRoaXMuX2VuYWJsZWQ9ITApLGF3YWl0IGdTKHRoaXMsTnkuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcyksV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gXCIpLmNvbmNhdChlLFwiIHN1Y2Nlc3NcIikpfWNhdGNoKGUpe3Rocm93IGl8fCh0aGlzLl9lbmFibGVkPSExKSxXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gdHJ1ZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9fWVsc2V7dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSExLGl8fCh0aGlzLl9lbmFibGVkPSExKTt0cnl7YXdhaXQgZ1ModGhpcyxOeS5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcyl9Y2F0Y2goZSl7dGhyb3cgaXx8KHRoaXMuX2VuYWJsZWQ9ITApLFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byBmYWxzZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9fX1hc3luYyBzZXRNdXRlZChlKXtlIT09dGhpcy5fbXV0ZWQmJih0aGlzLnN0YXRlQ2hlY2soXCJtdXRlZFwiLGUpLHRoaXMuX211dGVkPWUsdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSFlLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgc2V0IG11dGVkOiBcIikuY29uY2F0KGUpKSxlP2F3YWl0IGdTKHRoaXMsTnkuTkVFRF9NVVRFX1RSQUNLLHRoaXMpOmF3YWl0IGdTKHRoaXMsTnkuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcykpfWdldFN0YXRzKCl7TlMoKCgpPT57V0Mud2FybmluZyhcIltkZXByZWNhdGVkXSBMb2NhbEF1ZGlvVHJhY2suZ2V0U3RhdHMgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsIHVzZSBBZ29yYVJUQ0NsaWVudC5nZXRMb2NhbEF1ZGlvU3RhdHMgaW5zdGVhZFwiKX0pLFwibG9jYWxBdWRpb1RyYWNrR2V0U3RhdHNXYXJuaW5nXCIpO2NvbnN0IGU9U1ModGhpcyxOeS5HRVRfU1RBVFMpO3JldHVybiBlfHxKQSh7fSxCeSl9c2V0QXVkaW9GcmFtZUNhbGxiYWNrKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo0MDk2O2lmKCFlKXJldHVybiB0aGlzLl9zb3VyY2UucmVtb3ZlQWxsTGlzdGVuZXJzKFZ5Lk9OX0FVRElPX0JVRkZFUiksdm9pZCB0aGlzLl9zb3VyY2Uuc3RvcEdldEF1ZGlvQnVmZmVyKCk7dGhpcy5fc291cmNlLnN0YXJ0R2V0QXVkaW9CdWZmZXIodCksdGhpcy5fc291cmNlLnJlbW92ZUFsbExpc3RlbmVycyhWeS5PTl9BVURJT19CVUZGRVIpLHRoaXMuX3NvdXJjZS5vbihWeS5PTl9BVURJT19CVUZGRVIsKHQ9PmUodCkpKX1wbGF5KCl7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBhdWRpbyBwbGF5YmFja1wiKSksdGhpcy5fdXNlQXVkaW9FbGVtZW50PyhXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IGF1ZGlvIHBsYXliYWNrIGluIGVsZW1lbnRcIikpLGtBLnBsYXkodGhpcy5fbWVkaWFTdHJlYW1UcmFjayx0aGlzLmdldFRyYWNrSWQoKSx0aGlzLl92b2x1bWUpKTp0aGlzLl9zb3VyY2UucGxheSgpfXN0b3AoKXtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0b3AgYXVkaW8gcGxheWJhY2tcIikpLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD9rQS5zdG9wKHRoaXMuZ2V0VHJhY2tJZCgpKTp0aGlzLl9zb3VyY2Uuc3RvcCgpfWNsb3NlKCl7c3VwZXIuY2xvc2UoKSx0aGlzLnVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCksdGhpcy51bmJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKCksdGhpcy51bnBpcGUoKSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLl9zb3VyY2UmJnRoaXMucHJvY2Vzc29yRGVzdGluYXRpb24uX3NvdXJjZS51bnBpcGUoKSx0aGlzLl9zb3VyY2UuZGVzdHJveSgpfV91cGRhdGVQbGF5ZXJTb3VyY2UoKXtsZXQgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlIHBsYXllciBzb3VyY2UgdHJhY2tcIikpLGUmJnRoaXMuX3NvdXJjZS51cGRhdGVUcmFjayh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKSx0aGlzLl91c2VBdWRpb0VsZW1lbnQmJmtBLnVwZGF0ZVRyYWNrKHRoaXMuZ2V0VHJhY2tJZCgpLHRoaXMuX21lZGlhU3RyZWFtVHJhY2spfWFzeW5jIF91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGUsdCl7dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayE9PWUmJih0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0aGlzLl9oYW5kbGVUcmFja0VuZGVkKSx0JiZ0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSksZS5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0aGlzLl9oYW5kbGVUcmFja0VuZGVkKSx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5fbXV0ZWQmJih0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITEpLHRoaXMucHJvY2Vzc29yJiZ0aGlzLnByb2Nlc3Nvci51cGRhdGVJbnB1dCh7dHJhY2s6ZSxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pLHRoaXMuX21lZGlhU3RyZWFtVHJhY2shPT10aGlzLl9zb3VyY2Uub3V0cHV0VHJhY2s/KHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoKSxhd2FpdCBnUyh0aGlzLE55Lk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzKSk6dGhpcy5fc291cmNlLnVwZGF0ZVRyYWNrKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2spLHRoaXMuX2dldE9yaWdpblZvbHVtZUxldmVsJiZ0aGlzLl9zb3VyY2UudXBkYXRlT3JpZ2luVHJhY2soZSkpfXJlbmV3TWVkaWFTdHJlYW1UcmFjayhlKXtyZXR1cm4gdGcucmVzb2x2ZSh2b2lkIDApfXBpcGUoZSl7aWYodGhpcy5fYnlwYXNzV2ViQXVkaW8pdGhyb3cgbmV3IFZnKHhnLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuIG5vdCBwcm9jZXNzIEF1ZGlvVHJhY2sgd2hlbiBieXBhc3NXZWJBdWRpbyBzZXQgdG8gdHJ1ZS5cIik7aWYodGhpcy5wcm9jZXNzb3I9PT1lKXJldHVybiBlO2lmKGUuX3NvdXJjZSl0aHJvdyBuZXcgVmcoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJQcm9jZXNzb3IgXCIuY29uY2F0KGUubmFtZSxcIiBhbHJlYWR5IHBpcGVkLCBwbGVhc2UgY2FsbCB1bnBpcGUgYmVmb3JlaGFuZC5cIikpO3JldHVybiB0aGlzLnVucGlwZSgpLHRoaXMucHJvY2Vzc29yPWUsdGhpcy5wcm9jZXNzb3IuX3NvdXJjZT10aGlzLGUudXBkYXRlSW5wdXQoe3RyYWNrOnRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssbm9kZTp0aGlzLl9zb3VyY2UucHJvY2Vzc1NvdXJjZU5vZGUsY29udGV4dDp0aGlzLnByb2Nlc3NvckNvbnRleHR9KSxlfXVucGlwZSgpe3ZhciBlO2lmKCF0aGlzLnByb2Nlc3NvcilyZXR1cm47Y29uc3QgdD10aGlzLnByb2Nlc3NvcjtudWxsPT09KGU9dGhpcy5fc291cmNlLnByb2Nlc3NTb3VyY2VOb2RlKXx8dm9pZCAwPT09ZXx8ZS5kaXNjb25uZWN0KCksdGhpcy5wcm9jZXNzb3IuX3NvdXJjZT0hMSx0aGlzLnByb2Nlc3Nvcj12b2lkIDAsdC5yZXNldCgpfWJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpe3RoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ub24oS3kuT05fVFJBQ0ssKGFzeW5jIGU9PntlP2UhPT10aGlzLl9tZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSghMSksdGhpcy5fc291cmNlLnByb2Nlc3NlZE5vZGU9dGhpcy5fc291cmNlLmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlTm9kZShlKSxhd2FpdCBnUyh0aGlzLE55Lk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzKSk6dGhpcy5fbWVkaWFTdHJlYW1UcmFjayE9PXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCksYXdhaXQgZ1ModGhpcyxOeS5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykpfSkpLHRoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ub24oS3kuT05fTk9ERSwoZT0+e3RoaXMuX3NvdXJjZS5wcm9jZXNzZWROb2RlPWV9KSl9dW5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKXt0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLnJlbW92ZUFsbExpc3RlbmVycyhLeS5PTl9UUkFDSyksdGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5yZW1vdmVBbGxMaXN0ZW5lcnMoS3kuT05fTk9ERSl9dW5iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cygpe3RoaXMucHJvY2Vzc29yQ29udGV4dC5yZW1vdmVBbGxMaXN0ZW5lcnMoWXkuUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMpLHRoaXMucHJvY2Vzc29yQ29udGV4dC5yZW1vdmVBbGxMaXN0ZW5lcnMoWXkuUkVRVUVTVF9DT05TVFJBSU5UUyl9fUx2KFtZQShcIklOSVRfV0VCQVVESU9cIiksa3YoXCJkZXNpZ246dHlwZVwiLE9iamVjdCksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKV0sekEucHJvdG90eXBlLFwiX3NvdXJjZVwiLG51bGwpLEx2KFtZQShcIklOSVRfV0VCQVVESU9cIiksa3YoXCJkZXNpZ246dHlwZVwiLGpBKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW2pBXSldLHpBLnByb3RvdHlwZSxcInByb2Nlc3NvckNvbnRleHRcIixudWxsKSxMdihbWUEoXCJJTklUX1dFQkFVRElPXCIpLGt2KFwiZGVzaWduOnR5cGVcIixCQSksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtCQV0pXSx6QS5wcm90b3R5cGUsXCJwcm9jZXNzb3JEZXN0aW5hdGlvblwiLG51bGwpLEx2KFt0dih7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdLHRocm90dGxlVGltZTozMDB9KSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbTnVtYmVyXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLHpBLnByb3RvdHlwZSxcInNldFZvbHVtZVwiLG51bGwpLEx2KFt0dih7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksTUEoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sekEucHJvdG90eXBlLFwic2V0UGxheWJhY2tEZXZpY2VcIixudWxsKSxMdihbcVMoXCJMb2NhbEF1ZGlvVHJhY2tcIixcIl9lbmFibGVkTXV0ZXhcIiksdHYoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0XX0pLE1BKCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0Jvb2xlYW4sT2JqZWN0LEJvb2xlYW5dKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx6QS5wcm90b3R5cGUsXCJzZXRFbmFibGVkXCIsbnVsbCksTHYoW3FTKFwiTG9jYWxBdWRpb1RyYWNrXCIsXCJfZW5hYmxlZE11dGV4XCIpLHR2KHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSxNQSgpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtCb29sZWFuXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sekEucHJvdG90eXBlLFwic2V0TXV0ZWRcIixudWxsKSxMdihbTUEoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLE9iamVjdCldLHpBLnByb3RvdHlwZSxcImdldFN0YXRzXCIsbnVsbCksTHYoW01BKCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdCxOdW1iZXJdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sekEucHJvdG90eXBlLFwic2V0QXVkaW9GcmFtZUNhbGxiYWNrXCIsbnVsbCksTHYoW3R2KHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxNQSgpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sekEucHJvdG90eXBlLFwicGxheVwiLG51bGwpLEx2KFt0dih7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksTUEoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLHpBLnByb3RvdHlwZSxcInN0b3BcIixudWxsKSxMdihbdHYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sekEucHJvdG90eXBlLFwiY2xvc2VcIixudWxsKSxMdihbdHYoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0Lm5hbWVdfSksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdF0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIixPYmplY3QpXSx6QS5wcm90b3R5cGUsXCJwaXBlXCIsbnVsbCksTHYoW3R2KHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLHpBLnByb3RvdHlwZSxcInVucGlwZVwiLG51bGwpO2NsYXNzIFhBIGV4dGVuZHMgekF7Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm5cIk1pY3JvcGhvbmVBdWRpb1RyYWNrXCJ9Y29uc3RydWN0b3IoZSx0LGksbil7c3VwZXIoZSx0LmVuY29kZXJDb25maWc/YnkodC5lbmNvZGVyQ29uZmlnKTp7fSxuLGtDKFwiR0VUX1ZPTFVNRV9PRl9NVVRFRF9BVURJT19UUkFDS1wiKSwhMCksbnUodGhpcyxcIl9jb25maWdcIix2b2lkIDApLG51KHRoaXMsXCJfZGV2aWNlTmFtZVwiLFwiZGVmYXVsdFwiKSxudSh0aGlzLFwiX2NvbnN0cmFpbnRzXCIsdm9pZCAwKSxudSh0aGlzLFwiX29yaWdpbmFsQ29uc3RyYWludHNcIix2b2lkIDApLG51KHRoaXMsXCJfZW5hYmxlZFwiLCEwKSx0aGlzLl9jb25maWc9dCx0aGlzLl9jb25zdHJhaW50cz1pLHRoaXMuX29yaWdpbmFsQ29uc3RyYWludHM9aSx0aGlzLl9kZXZpY2VOYW1lPWUubGFiZWwsXCJib29sZWFuXCI9PXR5cGVvZiB0LmJ5cGFzc1dlYkF1ZGlvJiYodGhpcy5fYnlwYXNzV2ViQXVkaW89dC5ieXBhc3NXZWJBdWRpbyksKHdnKCl8fE9nKCkpJiZuQS5iaW5kSW50ZXJydXB0RGV0ZWN0b3JUcmFjayh0aGlzKSx0aGlzLm9uKEZ5LlVQREFURV9UUkFDS19TT1VSQ0UsKCgpPT57dGhpcy5iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cygpfSkpLG9BKCkmJnRoaXMuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKX1hc3luYyBzZXREZXZpY2UoZSl7aWYoV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHNldCBkZXZpY2UgdG8gXCIpLmNvbmNhdChlKSksdGhpcy5fZW5hYmxlZCl0cnl7Y29uc3QgdD1hd2FpdCBBQS5nZXREZXZpY2VCeUlkKGUpLGk9e307aS5hdWRpbz1KQSh7fSx0aGlzLl9jb25zdHJhaW50cyksaS5hdWRpby5kZXZpY2VJZD17ZXhhY3Q6ZX0sdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCk7bGV0IG49bnVsbDt0cnl7bj1hd2FpdCBDQShpLHRoaXMuZ2V0VHJhY2tJZCgpKX1jYXRjaChlKXt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBmYWlsZWRcIiksZS50b1N0cmluZygpKSxuPWF3YWl0IENBKHthdWRpbzp0aGlzLl9jb25zdHJhaW50c30sdGhpcy5nZXRUcmFja0lkKCkpLGF3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2sobi5nZXRBdWRpb1RyYWNrcygpWzBdLCExKSxlfWF3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2sobi5nZXRBdWRpb1RyYWNrcygpWzBdLCExKSx0aGlzLl9kZXZpY2VOYW1lPXQubGFiZWwsdGhpcy5fY29uZmlnLm1pY3JvcGhvbmVJZD1lLHRoaXMuX2NvbnN0cmFpbnRzLmRldmljZUlkPXtleGFjdDplfX1jYXRjaChlKXt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9ZWxzZSB0cnl7Y29uc3QgdD1hd2FpdCBBQS5nZXREZXZpY2VCeUlkKGUpO3RoaXMuX2RldmljZU5hbWU9dC5sYWJlbCx0aGlzLl9jb25maWcubWljcm9waG9uZUlkPWUsdGhpcy5fY29uc3RyYWludHMuZGV2aWNlSWQ9e2V4YWN0OmV9fWNhdGNoKGUpe3Rocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1XQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IGRldmljZSB0byBcIikuY29uY2F0KGUsXCIgc3VjY2Vzc1wiKSl9YXN5bmMgc2V0RW5hYmxlZChlLHQsaSl7aWYodClyZXR1cm4gV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIGZhbHNlIChkbyBub3QgY2xvc2UgbWljcm9waG9uZSlcIikpLGF3YWl0IHN1cGVyLl9zZXRFbmFibGVkKGUpO2lmKCFpKXtpZihlPT09dGhpcy5fZW5hYmxlZClyZXR1cm47dGhpcy5zdGF0ZUNoZWNrKFwiZW5hYmxlZFwiLGUpfWlmKFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBzZXRFbmFibGVkXCIpLGUpLCFlKXt2YXIgbjt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLm9uZW5kZWQ9bnVsbCx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSxudWxsPT09KG49dGhpcy5fc291cmNlLmNsb25lZFRyYWNrKXx8dm9pZCAwPT09bnx8bi5zdG9wKCksaXx8KHRoaXMuX2VuYWJsZWQ9ITEpO3RyeXthd2FpdCBnUyh0aGlzLE55Lk5FRURfRElTQUJMRV9UUkFDSyx0aGlzKX1jYXRjaChlKXt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgZmFsc2UgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSksZX1yZXR1cm59Y29uc3Qgcj1KQSh7fSx0aGlzLl9jb25zdHJhaW50cykscz1BQS5zZWFyY2hEZXZpY2VJZEJ5TmFtZSh0aGlzLl9kZXZpY2VOYW1lKTtzJiYhci5kZXZpY2VJZCYmKHIuZGV2aWNlSWQ9cyk7dHJ5e2l8fCh0aGlzLl9lbmFibGVkPSEwKTtjb25zdCBlPWF3YWl0IENBKHthdWRpbzp0aGlzLl9jb25zdHJhaW50c30sdGhpcy5nZXRUcmFja0lkKCkpO2F3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZS5nZXRBdWRpb1RyYWNrcygpWzBdLCExKSxhd2FpdCBnUyh0aGlzLE55Lk5FRURfRU5BQkxFX1RSQUNLLHRoaXMpfWNhdGNoKGUpe3Rocm93IGl8fCh0aGlzLl9lbmFibGVkPSExKSxXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdHJ1ZSBmYWlsZWRcIiksZS50b1N0cmluZygpKSxlfVdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHN1Y2Nlc3NcIikpfWNsb3NlKCl7c3VwZXIuY2xvc2UoKSwod2coKXx8T2coKSkmJm5BLnVuYmluZEludGVycnVwdERldGVjdG9yVHJhY2sodGhpcyl9b25UcmFja0VuZGVkKCl7aWYoKENnKCl8fERnKCkpJiZ0aGlzLl9lbmFibGVkJiYhdGhpcy5faXNDbG9zZWQmJm5BLmR1cmluZ0ludGVycnVwdGlvbil7Y29uc3QgZT1hc3luYygpPT57bkEub2ZmKGx5LklPU19JTlRFUlJVUFRJT05fRU5ELGUpLHRoaXMuX2VuYWJsZWQmJiF0aGlzLl9pc0Nsb3NlZCYmKFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJ5IGNhcHR1cmUgbWljcm9waG9uZSBtZWRpYSBkZXZpY2UgZm9yIGludGVycnVwdGVkIGlPUyBkZXZpY2UuXCIpKSxhd2FpdCB0aGlzLnNldEVuYWJsZWQoITEpLGF3YWl0IHRoaXMuc2V0RW5hYmxlZCghMCkpfTtuQS5vbihseS5JT1NfSU5URVJSVVBUSU9OX0VORCxlKX1lbHNlIFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJhY2sgZW5kZWRcIikpLHRoaXMuc2FmZUVtaXQoVXkuVFJBQ0tfRU5ERUQpfWFzeW5jIHJlbmV3TWVkaWFTdHJlYW1UcmFjayhlKXtjb25zdCB0PWV8fHRoaXMuX2NvbnN0cmFpbnRzLGk9QUEuc2VhcmNoRGV2aWNlSWRCeU5hbWUodGhpcy5fZGV2aWNlTmFtZSk7aWYoaSYmIXQuZGV2aWNlSWQmJih0LmRldmljZUlkPWkpLHRoaXMuX2NvbnN0cmFpbnRzPXQsdGhpcy5fZW5hYmxlZCl7dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCk7Y29uc3QgZT1hd2FpdCBDQSh7YXVkaW86dGhpcy5fY29uc3RyYWludHN9LHRoaXMuZ2V0VHJhY2tJZCgpKTthd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGUuZ2V0QXVkaW9UcmFja3MoKVswXSwhMCl9fWJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JDb250ZXh0Lm9uKFl5LlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTLChhc3luYyhlLHQsaSk9Pnt0cnl7Y29uc3QgaT1PYmplY3QuYXNzaWduKHt9LHRoaXMuX29yaWdpbmFsQ29uc3RyYWludHMsLi4uZSk7YXdhaXQgdGhpcy5yZW5ld01lZGlhU3RyZWFtVHJhY2soaSksdCgpfWNhdGNoKGUpe2koZSl9fSkpLHRoaXMucHJvY2Vzc29yQ29udGV4dC5vbihZeS5SRVFVRVNUX0NPTlNUUkFJTlRTLChhc3luYyBlPT57ZSh0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmdldFNldHRpbmdzKCkpfSkpfX1MdihbdHYoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0XX0pLE1BKCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFhBLnByb3RvdHlwZSxcInNldERldmljZVwiLG51bGwpLEx2KFtxUyhcIk1pY3JvcGhvbmVBdWRpb1RyYWNrXCIsXCJfZW5hYmxlZE11dGV4XCIpLHR2KHthcmdzTWFwOihlLHQsaSk9PltlLmdldFRyYWNrSWQoKSx0LGldfSksTUEoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQm9vbGVhbixCb29sZWFuLEJvb2xlYW5dKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxYQS5wcm90b3R5cGUsXCJzZXRFbmFibGVkXCIsbnVsbCksTHYoW3R2KHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLFhBLnByb3RvdHlwZSxcImNsb3NlXCIsbnVsbCk7Y2xhc3MgUUEgZXh0ZW5kcyB6QXtnZXQgX19jbGFzc05hbWVfXygpe3JldHVyblwiQnVmZmVyU291cmNlQXVkaW9UcmFja1wifWNvbnN0cnVjdG9yKGUsdCxpLG4pe3N1cGVyKHQuY3JlYXRlT3V0cHV0VHJhY2soKSxpLG4pLG51KHRoaXMsXCJzb3VyY2VcIix2b2lkIDApLG51KHRoaXMsXCJfYnVmZmVyU291cmNlXCIsdm9pZCAwKSx0aGlzLnNvdXJjZT1lLHRoaXMuX2J1ZmZlclNvdXJjZT10LHRoaXMuX2J1ZmZlclNvdXJjZS5vbihWeS5BVURJT19TT1VSQ0VfU1RBVEVfQ0hBTkdFLChlPT57dGhpcy5zYWZlRW1pdChVeS5TT1VSQ0VfU1RBVEVfQ0hBTkdFLGUpfSkpO3RyeXt0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX3NvdXJjZS5jcmVhdGVPdXRwdXRUcmFjaygpfWNhdGNoKGUpe319Z2V0IGN1cnJlbnRTdGF0ZSgpe3JldHVybiB0aGlzLl9idWZmZXJTb3VyY2UuY3VycmVudFN0YXRlfWdldCBkdXJhdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJTb3VyY2UuZHVyYXRpb259Z2V0IHBsYXliYWNrU3BlZWQoKXtyZXR1cm4gdGhpcy5fYnVmZmVyU291cmNlLnBsYXliYWNrU3BlZWR9Z2V0Q3VycmVudFRpbWUoKXtyZXR1cm4gdGhpcy5fYnVmZmVyU291cmNlLmN1cnJlbnRUaW1lfXN0YXJ0UHJvY2Vzc0F1ZGlvQnVmZmVyKGUpe2UmJnRoaXMuX2J1ZmZlclNvdXJjZS51cGRhdGVPcHRpb25zKGUpLHRoaXMuX2J1ZmZlclNvdXJjZS5zdGFydFByb2Nlc3NBdWRpb0J1ZmZlcigpfXBhdXNlUHJvY2Vzc0F1ZGlvQnVmZmVyKCl7dGhpcy5fYnVmZmVyU291cmNlLnBhdXNlUHJvY2Vzc0F1ZGlvQnVmZmVyKCl9c2Vla0F1ZGlvQnVmZmVyKGUpe3RoaXMuX2J1ZmZlclNvdXJjZS5zZWVrQXVkaW9CdWZmZXIoZSl9cmVzdW1lUHJvY2Vzc0F1ZGlvQnVmZmVyKCl7dGhpcy5fYnVmZmVyU291cmNlLnJlc3VtZVByb2Nlc3NBdWRpb0J1ZmZlcigpfXN0b3BQcm9jZXNzQXVkaW9CdWZmZXIoKXt0aGlzLl9idWZmZXJTb3VyY2Uuc3RvcFByb2Nlc3NBdWRpb0J1ZmZlcigpfWNsb3NlKCl7dGhpcy5zb3VyY2U9bnVsbCx0aGlzLl9idWZmZXJTb3VyY2UuZGVzdHJveSgpLHN1cGVyLmNsb3NlKCl9c2V0QXVkaW9CdWZmZXJQbGF5YmFja1NwZWVkKGUpe2pnKGUsXCJzcGVlZFwiLDApLHRoaXMuX2J1ZmZlclNvdXJjZS5zZXRBdWRpb0J1ZmZlclBsYXliYWNrU3BlZWQoZSl9fUx2KFt0dih7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHQsZS5kdXJhdGlvbl19KSxNQSgpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sUUEucHJvdG90eXBlLFwic3RhcnRQcm9jZXNzQXVkaW9CdWZmZXJcIixudWxsKSxMdihbdHYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLE1BKCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxRQS5wcm90b3R5cGUsXCJwYXVzZVByb2Nlc3NBdWRpb0J1ZmZlclwiLG51bGwpLEx2KFt0dih7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksTUEoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbTnVtYmVyXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLFFBLnByb3RvdHlwZSxcInNlZWtBdWRpb0J1ZmZlclwiLG51bGwpLEx2KFt0dih7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksTUEoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLFFBLnByb3RvdHlwZSxcInJlc3VtZVByb2Nlc3NBdWRpb0J1ZmZlclwiLG51bGwpLEx2KFt0dih7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksTUEoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLFFBLnByb3RvdHlwZSxcInN0b3BQcm9jZXNzQXVkaW9CdWZmZXJcIixudWxsKSxMdihbdHYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sUUEucHJvdG90eXBlLFwiY2xvc2VcIixudWxsKSxMdihbdHYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLE1BKCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW051bWJlcl0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxRQS5wcm90b3R5cGUsXCJzZXRBdWRpb0J1ZmZlclBsYXliYWNrU3BlZWRcIixudWxsKTtjbGFzcyBaQSBleHRlbmRzIHpBe2dldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuXCJNaXhpbmdBdWRpb1RyYWNrXCJ9Z2V0IGlzQWN0aXZlKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy50cmFja0xpc3QpaWYoZS5fZW5hYmxlZCYmIWUuX2lzQ2xvc2VkJiYhZS5tdXRlZClyZXR1cm4hMDtyZXR1cm4hMX1jb25zdHJ1Y3Rvcigpe2NvbnN0IGU9c0EoKS5jcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uKCk7c3VwZXIoZS5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXSx2b2lkIDAseFMoOCxcInRyYWNrLW1peC1cIikpLG51KHRoaXMsXCJ0cmFja0xpc3RcIix2b2lkIDApLG51KHRoaXMsXCJkZXN0Tm9kZVwiLHZvaWQgMCk7dHJ5e3RoaXMuX21lZGlhU3RyZWFtVHJhY2s9dGhpcy5fc291cmNlLmNyZWF0ZU91dHB1dFRyYWNrKCl9Y2F0Y2goZSl7fXRoaXMuZGVzdE5vZGU9ZSx0aGlzLnRyYWNrTGlzdD1bXX1oYXNBdWRpb1RyYWNrKGUpe3JldHVybi0xIT09dGhpcy50cmFja0xpc3QuaW5kZXhPZihlKX1hZGRBdWRpb1RyYWNrKGUpey0xPT09dGhpcy50cmFja0xpc3QuaW5kZXhPZihlKT8oV0MuZGVidWcoXCJhZGQgXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiIHRvIG1peGluZyB0cmFja1wiKSksZS5fc291cmNlLm91dHB1dE5vZGUuY29ubmVjdCh0aGlzLmRlc3ROb2RlKSx0aGlzLnRyYWNrTGlzdC5wdXNoKGUpLHRoaXMudXBkYXRlRW5jb2RlckNvbmZpZygpKTpXQy5kZWJ1ZyhcInRyYWNrIFwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIiBpcyBhbHJlYWR5IGFkZGVkXCIpKX1yZW1vdmVBdWRpb1RyYWNrKGUpe2lmKC0xIT09dGhpcy50cmFja0xpc3QuaW5kZXhPZihlKSl7V0MuZGVidWcoXCJyZW1vdmUgXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiIGZyb20gbWl4aW5nIHRyYWNrXCIpKTt0cnl7ZS5fc291cmNlLm91dHB1dE5vZGUuZGlzY29ubmVjdCh0aGlzLmRlc3ROb2RlKX1jYXRjaChlKXt9SVModGhpcy50cmFja0xpc3QsZSksdGhpcy51cGRhdGVFbmNvZGVyQ29uZmlnKCl9fXVwZGF0ZUVuY29kZXJDb25maWcoKXtjb25zdCBlPXt9O3RoaXMudHJhY2tMaXN0LmZvckVhY2goKHQ9Pnt0Ll9lbmNvZGVyQ29uZmlnJiYoKHQuX2VuY29kZXJDb25maWcuYml0cmF0ZXx8MCk+KGUuYml0cmF0ZXx8MCkmJihlLmJpdHJhdGU9dC5fZW5jb2RlckNvbmZpZy5iaXRyYXRlKSwodC5fZW5jb2RlckNvbmZpZy5zYW1wbGVSYXRlfHwwKT4oZS5zYW1wbGVSYXRlfHwwKSYmKGUuc2FtcGxlUmF0ZT10Ll9lbmNvZGVyQ29uZmlnLnNhbXBsZVJhdGUpLCh0Ll9lbmNvZGVyQ29uZmlnLnNhbXBsZVNpemV8fDApPihlLnNhbXBsZVNpemV8fDApJiYoZS5zYW1wbGVTaXplPXQuX2VuY29kZXJDb25maWcuc2FtcGxlU2l6ZSksdC5fZW5jb2RlckNvbmZpZy5zdGVyZW8mJihlLnN0ZXJlbz0hMCkpfSkpLHRoaXMuX2VuY29kZXJDb25maWc9ZX1fdXBkYXRlUnRwVHJhbnNjZWl2ZXIoZSl7dGhpcy5fcnRwVHJhbnNjZWl2ZXIhPT1lJiYodGhpcy5fcnRwVHJhbnNjZWl2ZXI9ZSx0aGlzLnRyYWNrTGlzdC5mb3JFYWNoKCh0PT57dCBpbnN0YW5jZW9mIFpBP3QuZW1pdChNeS5UUkFOU0NFSVZFUl9VUERBVEVELGUpOnQuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGUpfSkpKX19ZnVuY3Rpb24gJEEoZSl7Y29uc3QgdD17fTtlLmZhY2luZ01vZGUmJih0LmZhY2luZ01vZGU9ZS5mYWNpbmdNb2RlKSxlLmNhbWVyYUlkJiYodC5kZXZpY2VJZD17ZXhhY3Q6ZS5jYW1lcmFJZH0pO2NvbnN0IGk9dnkoZS5lbmNvZGVyQ29uZmlnKTtyZXR1cm4gbnVsbCE9aS53aWR0aCYmKHQud2lkdGg9aS53aWR0aCksbnVsbCE9aS5oZWlnaHQmJih0LmhlaWdodD1pLmhlaWdodCksIUxnKCkmJmkuZnJhbWVSYXRlJiYodC5mcmFtZVJhdGU9aS5mcmFtZVJhdGUpLHBnKCkubmFtZT09PWNnLkVER0UmJlwib2JqZWN0XCI9PXR5cGVvZiB0LmZyYW1lUmF0ZSYmKHQuZnJhbWVSYXRlLm1heD02MCksUmcoKSYmKHQuZnJhbWVSYXRlPXtpZGVhbDozMCxtYXg6MzB9KSx0fWZ1bmN0aW9uIGViKGUpe2NvbnN0IHQ9e307aWYoTGcoKXx8KHZvaWQgMCE9PWUuQUdDJiYodC5hdXRvR2FpbkNvbnRyb2w9ZS5BR0MpLHZvaWQgMCE9PWUuQUVDJiYodC5lY2hvQ2FuY2VsbGF0aW9uPWUuQUVDKSx2b2lkIDAhPT1lLkFOUyYmKHQubm9pc2VTdXBwcmVzc2lvbj1lLkFOUyxTZygpJiZlLkFOUyYmKHQuZ29vZ0hpZ2hwYXNzRmlsdGVyPWUuQU5TKSkpLGUuZW5jb2RlckNvbmZpZyl7Y29uc3QgaT1ieShlLmVuY29kZXJDb25maWcpO3QuY2hhbm5lbENvdW50PWkuc3RlcmVvPzI6MSx0LnNhbXBsZVJhdGU9aS5zYW1wbGVSYXRlLHQuc2FtcGxlU2l6ZT1pLnNhbXBsZVNpemV9cmV0dXJuIGUubWljcm9waG9uZUlkJiYodC5kZXZpY2VJZD17ZXhhY3Q6ZS5taWNyb3Bob25lSWR9KSxNZygpJiYodC5zYW1wbGVSYXRlPXZvaWQgMCksdH1jbGFzcyB0YiBleHRlbmRzIHBBe3NldCBjdXJyZW50U3RhdGUoZSl7ZSE9PXRoaXMuX2N1cnJlbnRTdGF0ZSYmKHRoaXMuX2N1cnJlbnRTdGF0ZT1lLHRoaXMuc2FmZUVtaXQoVnkuQVVESU9fU09VUkNFX1NUQVRFX0NIQU5HRSx0aGlzLl9jdXJyZW50U3RhdGUpKX1nZXQgY3VycmVudFN0YXRlKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRTdGF0ZX1jb25zdHJ1Y3RvcihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307c3VwZXIoKSxudSh0aGlzLFwiYXVkaW9CdWZmZXJcIix2b2lkIDApLG51KHRoaXMsXCJzb3VyY2VOb2RlXCIsdm9pZCAwKSxudSh0aGlzLFwic3RhcnRQbGF5VGltZVwiLDApLG51KHRoaXMsXCJzdGFydFBsYXlPZmZzZXRcIiwwKSxudSh0aGlzLFwicGF1c2VQbGF5VGltZVwiLDApLG51KHRoaXMsXCJvcHRpb25zXCIsdm9pZCAwKSxudSh0aGlzLFwiY3VycmVudExvb3BDb3VudFwiLDApLG51KHRoaXMsXCJjdXJyZW50UGxheWJhY2tTcGVlZFwiLDEwMCksbnUodGhpcyxcIl9jdXJyZW50U3RhdGVcIixcInN0b3BwZWRcIiksdGhpcy5hdWRpb0J1ZmZlcj1lLHRoaXMub3B0aW9ucz10LHRoaXMuc3RhcnRQbGF5T2Zmc2V0PXRoaXMub3B0aW9ucy5zdGFydFBsYXlUaW1lfHwwfWNyZWF0ZVdlYkF1ZGlvRGlhZ3JhbSgpe3JldHVybiB0aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpfWdldCBkdXJhdGlvbigpe3JldHVybiB0aGlzLmF1ZGlvQnVmZmVyP3RoaXMuYXVkaW9CdWZmZXIuZHVyYXRpb246MH1nZXQgcGxheWJhY2tTcGVlZCgpe3JldHVybiB0aGlzLmN1cnJlbnRQbGF5YmFja1NwZWVkfWdldCBjdXJyZW50VGltZSgpe3JldHVybiB0aGlzLmF1ZGlvQnVmZmVyP1wic3RvcHBlZFwiPT09dGhpcy5jdXJyZW50U3RhdGU/MDpcInBhdXNlZFwiPT09dGhpcy5jdXJyZW50U3RhdGU/dGhpcy5wYXVzZVBsYXlUaW1lOigodGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLXRoaXMuc3RhcnRQbGF5VGltZSkqKHRoaXMucGxheWJhY2tTcGVlZC8xMDApK3RoaXMuc3RhcnRQbGF5T2Zmc2V0KSV0aGlzLmF1ZGlvQnVmZmVyLmR1cmF0aW9uOjB9dXBkYXRlT3B0aW9ucyhlKXtcInN0b3BwZWRcIj09PXRoaXMuY3VycmVudFN0YXRlPyh0aGlzLm9wdGlvbnM9ZSx0aGlzLnN0YXJ0UGxheU9mZnNldD10aGlzLm9wdGlvbnMuc3RhcnRQbGF5VGltZXx8MCk6V0Mud2FybmluZyhcImNhbiBub3Qgc2V0IGF1ZGlvIHNvdXJjZSBvcHRpb25zXCIpfXN0YXJ0UHJvY2Vzc0F1ZGlvQnVmZmVyKCl7dGhpcy5zb3VyY2VOb2RlJiZ0aGlzLnN0b3BQcm9jZXNzQXVkaW9CdWZmZXIoKSx0aGlzLnNvdXJjZU5vZGU9dGhpcy5jcmVhdGVTb3VyY2VOb2RlKCksdGhpcy5zdGFydFNvdXJjZU5vZGUoKSx0aGlzLmN1cnJlbnRTdGF0ZT1cInBsYXlpbmdcIn1wYXVzZVByb2Nlc3NBdWRpb0J1ZmZlcigpe3RoaXMuc291cmNlTm9kZSYmXCJwbGF5aW5nXCI9PT10aGlzLmN1cnJlbnRTdGF0ZSYmKHRoaXMucGF1c2VQbGF5VGltZT10aGlzLmN1cnJlbnRUaW1lLHRoaXMuc291cmNlTm9kZS5vbmVuZGVkPW51bGwsdGhpcy5zb3VyY2VOb2RlLnN0b3AoKSx0aGlzLnNvdXJjZU5vZGUuYnVmZmVyPW51bGwsdGhpcy5zb3VyY2VOb2RlPXRoaXMuY3JlYXRlU291cmNlTm9kZSgpLHRoaXMuY3VycmVudFN0YXRlPVwicGF1c2VkXCIpfXNlZWtBdWRpb0J1ZmZlcihlKXt0aGlzLnNvdXJjZU5vZGUmJih0aGlzLnNvdXJjZU5vZGUub25lbmRlZD1udWxsLFwicGxheWluZ1wiPT09dGhpcy5jdXJyZW50U3RhdGUmJnRoaXMuc291cmNlTm9kZS5zdG9wKCksdGhpcy5zb3VyY2VOb2RlPXRoaXMuY3JlYXRlU291cmNlTm9kZSgpLFwicGxheWluZ1wiPT09dGhpcy5jdXJyZW50U3RhdGU/KHRoaXMuc3RhcnRQbGF5T2Zmc2V0PWUsdGhpcy5zdGFydFNvdXJjZU5vZGUoKSk6XCJwYXVzZWRcIj09PXRoaXMuY3VycmVudFN0YXRlJiYodGhpcy5wYXVzZVBsYXlUaW1lPWUpKX1yZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXIoKXtcInBhdXNlZFwiPT09dGhpcy5jdXJyZW50U3RhdGUmJnRoaXMuc291cmNlTm9kZSYmKHRoaXMuc3RhcnRQbGF5T2Zmc2V0PXRoaXMucGF1c2VQbGF5VGltZSx0aGlzLnBhdXNlUGxheVRpbWU9MCx0aGlzLnN0YXJ0U291cmNlTm9kZSgpLHRoaXMuY3VycmVudFN0YXRlPVwicGxheWluZ1wiKX1zdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyKCl7aWYodGhpcy5zb3VyY2VOb2RlKXt0aGlzLnNvdXJjZU5vZGUub25lbmRlZD1udWxsO3RyeXt0aGlzLnNvdXJjZU5vZGUuc3RvcCgpfWNhdGNoKGUpe310aGlzLnJlc2V0KCl9fWRlc3Ryb3koKXt0aGlzLmF1ZGlvQnVmZmVyPW51bGwsc3VwZXIuZGVzdHJveSgpfXNldEF1ZGlvQnVmZmVyUGxheWJhY2tTcGVlZChlKXt0aGlzLnNvdXJjZU5vZGUmJihcInBsYXlpbmdcIj09PXRoaXMuY3VycmVudFN0YXRlJiYodGhpcy5zdGFydFBsYXlPZmZzZXQ9dGhpcy5jdXJyZW50VGltZSx0aGlzLnN0YXJ0UGxheVRpbWU9dGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lKSx0aGlzLnNvdXJjZU5vZGUucGxheWJhY2tSYXRlLnZhbHVlPWUvMTAwKSx0aGlzLmN1cnJlbnRQbGF5YmFja1NwZWVkPWV9c3RhcnRTb3VyY2VOb2RlKCl7dGhpcy5zb3VyY2VOb2RlJiZ0aGlzLnNvdXJjZU5vZGUuYnVmZmVyJiYodGhpcy5zb3VyY2VOb2RlLnN0YXJ0KDAsdGhpcy5zdGFydFBsYXlPZmZzZXQpLHRoaXMuc3RhcnRQbGF5VGltZT10aGlzLmNvbnRleHQuY3VycmVudFRpbWUsdGhpcy5zb3VyY2VOb2RlLm9uZW5kZWQ9dGhpcy5oYW5kbGVTb3VyY2VOb2RlRW5kZWQuYmluZCh0aGlzKSl9Y3JlYXRlU291cmNlTm9kZSgpe2NvbnN0IGU9dGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO3JldHVybiBlLmJ1ZmZlcj10aGlzLmF1ZGlvQnVmZmVyLGUubG9vcD0hIXRoaXMub3B0aW9ucy5sb29wLGUuY29ubmVjdCh0aGlzLm91dHB1dE5vZGUpLGUucGxheWJhY2tSYXRlLnZhbHVlPXRoaXMuY3VycmVudFBsYXliYWNrU3BlZWQvMTAwLGV9aGFuZGxlU291cmNlTm9kZUVuZGVkKCl7aWYodGhpcy5jdXJyZW50TG9vcENvdW50Kz0xLHRoaXMub3B0aW9ucy5jeWNsZSYmdGhpcy5vcHRpb25zLmN5Y2xlPnRoaXMuY3VycmVudExvb3BDb3VudClyZXR1cm4gdGhpcy5zdGFydFBsYXlPZmZzZXQ9MCx0aGlzLnNvdXJjZU5vZGU9dm9pZCAwLHZvaWQgdGhpcy5zdGFydFByb2Nlc3NBdWRpb0J1ZmZlcigpO3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuc3RhcnRQbGF5T2Zmc2V0PXRoaXMub3B0aW9ucy5zdGFydFBsYXlUaW1lfHwwLHRoaXMuY3VycmVudFN0YXRlPVwic3RvcHBlZFwiLHRoaXMuc291cmNlTm9kZSYmKHRoaXMuc291cmNlTm9kZS5kaXNjb25uZWN0KCksdGhpcy5zb3VyY2VOb2RlPXZvaWQgMCksdGhpcy5jdXJyZW50TG9vcENvdW50PTB9fWNvbnN0IGliPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gbmIoZSx0KXtsZXQgaT1udWxsO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtjb25zdCB0PWliLmdldChlKTtpZih0KXJldHVybiBXQy5kZWJ1ZyhcInVzZSBjYWNoZWQgYXVkaW8gcmVzb3VyY2U6IFwiLGUpLHQ7dHJ5e2k9KGF3YWl0IFhTKCgoKT0+RUMuZ2V0KGUse3Jlc3BvbnNlVHlwZTpcImFycmF5YnVmZmVyXCJ9KSksdm9pZCAwLHZvaWQgMCx7bWF4UmV0cnlDb3VudDozfSkpLmRhdGF9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkZFVENIX0FVRElPX0ZJTEVfRkFJTEVELGUudG9TdHJpbmcoKSl9fWVsc2V7Y29uc3QgdD1uZXcgdGcoKCh0LGkpPT57Y29uc3Qgbj1uZXcgRmlsZVJlYWRlcjtuLm9ubG9hZD1lPT57ZS50YXJnZXQ/dChlLnRhcmdldC5yZXN1bHQpOmkobmV3IFZnKHhnLlJFQURfTE9DQUxfQVVESU9fRklMRV9FUlJPUikpfSxuLm9uZXJyb3I9KCk9PntpKG5ldyBWZyh4Zy5SRUFEX0xPQ0FMX0FVRElPX0ZJTEVfRVJST1IpKX0sbi5yZWFkQXNBcnJheUJ1ZmZlcihlKX0pKTtpPWF3YWl0IHR9Y29uc3Qgbj1hd2FpdCBmdW5jdGlvbihlKXtjb25zdCB0PXNBKCk7cmV0dXJuIG5ldyB0ZygoKGksbik9Pnt0LmRlY29kZUF1ZGlvRGF0YShlLChlPT57aShlKX0pLChlPT57bihuZXcgVmcoeGcuREVDT0RFX0FVRElPX0ZJTEVfRkFJTEVELGUudG9TdHJpbmcoKSkpfSkpfSkpfShpKTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmdCYmaWIuc2V0KGUsbiksbn1jb25zdCByYj1lPT57Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3JldHVybiB0LndpZHRoPTIsdC5oZWlnaHQ9MixuZXcgdGcoKChpLG4pPT57dC50b0Jsb2IoKGFzeW5jIGU9PntpZih0LnJlbW92ZSgpLGUpe2NvbnN0IG49YXdhaXQgc2IoZSk7aSh7YnVmZmVyOm4sd2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9KX1lbHNlIG4obmV3IFZnKHhnLkNPTlZFUlRJTkdfVklERU9fRlJBTUVfVE9fQkxPQl9GQUlMRUQpKX0pLGUsMSl9KSl9LHNiPWFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IGUuYXJyYXlCdWZmZXIoKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodCl9O2NvbnN0IG9iPW5ldyBjbGFzcyBleHRlbmRzIGlTe2dldCB2aXNpYmlsaXR5KCl7cmV0dXJuIGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZX1nZXQgbGFzdEhpZGRlblRpbWUoKXtyZXR1cm4gdGhpcy5fbGFzdEhpZGRlblRpbWV9Z2V0IGxhc3RWaXNpYmxlVGltZSgpe3JldHVybiB0aGlzLl9sYXN0VmlzaWJsZVRpbWV9Y29uc3RydWN0b3IoKXtzdXBlcigpLG51KHRoaXMsXCJfbGFzdEhpZGRlblRpbWVcIiwwKSxudSh0aGlzLFwiX2xhc3RWaXNpYmxlVGltZVwiLDApLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsKCgpPT57XCJoaWRkZW5cIj09PWRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZT90aGlzLl9sYXN0SGlkZGVuVGltZT1wZXJmb3JtYW5jZS5ub3coKTp0aGlzLl9sYXN0VmlzaWJsZVRpbWU9cGVyZm9ybWFuY2Uubm93KCksV0MuZGVidWcoXCJkb2N1bWVudCB2aXNpYmlsaXR5IHdlbnQgXCIuY29uY2F0KGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSkpLHRoaXMuZW1pdChcIlZJU0lCSUxJVFlfQ0hBTkdFXCIsZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlKX0pKX19O2Z1bmN0aW9uIGFiKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBjYihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9hYihPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTphYihPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jbGFzcyBkYntnZXQgdmlkZW9FbGVtZW50U3RhdHVzKCl7cmV0dXJuIHRoaXMuX3ZpZGVvRWxlbWVudFN0YXR1c31zZXQgdmlkZW9FbGVtZW50U3RhdHVzKGUpe2UhPT10aGlzLl92aWRlb0VsZW1lbnRTdGF0dXMmJihXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSB2aWRlby1lbGVtZW50LXN0YXR1cyBjaGFuZ2UgXCIpLmNvbmNhdCh0aGlzLl92aWRlb0VsZW1lbnRTdGF0dXMsXCIgPT4gXCIpLmNvbmNhdChlKSksdGhpcy5fdmlkZW9FbGVtZW50U3RhdHVzPWUpfWNvbnN0cnVjdG9yKGUpe251KHRoaXMsXCJ0cmFja0lkXCIsdm9pZCAwKSxudSh0aGlzLFwiY29uZmlnXCIsdm9pZCAwKSxudSh0aGlzLFwib25GaXJzdFZpZGVvRnJhbWVEZWNvZGVkXCIsdm9pZCAwKSxudSh0aGlzLFwiZnJlZXplVGltZUNvdW50ZXJMaXN0XCIsW10pLG51KHRoaXMsXCJyZW5kZXJGcmVlemVBY2NUaW1lXCIsMCksbnUodGhpcyxcImlzS2VlcExhc3RGcmFtZVwiLCExKSxudSh0aGlzLFwidGltZVVwZGF0ZWRDb3VudFwiLDApLG51KHRoaXMsXCJmcmVlemVUaW1lXCIsMCksbnUodGhpcyxcInBsYXliYWNrVGltZVwiLDApLG51KHRoaXMsXCJsYXN0VGltZVVwZGF0ZWRUaW1lXCIsMCksbnUodGhpcyxcImF1dG9wbGF5RmFpbGVkXCIsITEpLG51KHRoaXMsXCJ2aWRlb1RyYWNrXCIsdm9pZCAwKSxudSh0aGlzLFwidmlkZW9FbGVtZW50XCIsdm9pZCAwKSxudSh0aGlzLFwiY2FjaGVWaWRlb0VsZW1lbnRcIix2b2lkIDApLG51KHRoaXMsXCJ2aWRlb0VsZW1lbnRDaGVja0ludGVydmFsXCIsdm9pZCAwKSxudSh0aGlzLFwiX3ZpZGVvRWxlbWVudFN0YXR1c1wiLHp5Lk5PTkUpLG51KHRoaXMsXCJpc0dldHRpbmdWaWRlb0RpbWVuc2lvbnNcIiwhMSksbnUodGhpcyxcInN0YXJ0R2V0VmlkZW9EaW1lbnNpb25zXCIsKCgpPT57Y29uc3QgZT0oKT0+e2lmKHRoaXMuaXNHZXR0aW5nVmlkZW9EaW1lbnNpb25zPSEwLHRoaXMudmlkZW9FbGVtZW50LnZpZGVvV2lkdGgqdGhpcy52aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQ+NClyZXR1cm4gV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gY3VycmVudCB2aWRlbyBkaW1lbnNpb25zOlwiKSx0aGlzLnZpZGVvRWxlbWVudC52aWRlb1dpZHRoLHRoaXMudmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0KSx2b2lkKHRoaXMuaXNHZXR0aW5nVmlkZW9EaW1lbnNpb25zPSExKTtzZXRUaW1lb3V0KGUsNTAwKX07IXRoaXMuaXNHZXR0aW5nVmlkZW9EaW1lbnNpb25zJiZlKCl9KSksbnUodGhpcyxcImF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvblwiLCgoKT0+e3RoaXMudmlkZW9UcmFjayYmXCJsaXZlXCI9PT10aGlzLnZpZGVvVHJhY2sucmVhZHlTdGF0ZSYmXCJydW5uaW5nXCI9PT1uQS5jdXJTdGF0ZSYmKFdDLmRlYnVnKFwiW3RyYWNrLVwiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIHZpZGVvIGVsZW1lbnQgcGF1c2VkLCBhdXRvIHJlc3VtZSBmb3IgXCIpLmNvbmNhdChFZygpKSksTmcoKT8odGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PW51bGwsdGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbShbdGhpcy52aWRlb1RyYWNrXSksdGhpcy52aWRlb0VsZW1lbnQucGxheSgpKToodGhpcy52aWRlb0VsZW1lbnQucGF1c2UoKSx0aGlzLnZpZGVvRWxlbWVudC5wbGF5KCkpKX0pKSxudSh0aGlzLFwiaGFuZGxlVmlkZW9FdmVudHNcIiwoZT0+e3N3aXRjaChlLnR5cGUpe2Nhc2VcInBsYXlcIjpjYXNlXCJwbGF5aW5nXCI6dGhpcy5zdGFydEdldFZpZGVvRGltZW5zaW9ucygpLHRoaXMudmlkZW9FbGVtZW50U3RhdHVzPXp5LlBMQVlJTkc7YnJlYWs7Y2FzZVwibG9hZGVkZGF0YVwiOmlmKHRoaXMub25GaXJzdFZpZGVvRnJhbWVEZWNvZGVkJiZ0aGlzLm9uRmlyc3RWaWRlb0ZyYW1lRGVjb2RlZCgpLHRoaXMuY2FjaGVWaWRlb0VsZW1lbnQpe3RyeXt0aGlzLmNhY2hlVmlkZW9FbGVtZW50LnNyY09iamVjdD1udWxsLHRoaXMuY2FjaGVWaWRlb0VsZW1lbnQucmVtb3ZlKCl9Y2F0Y2goZSl7fXRoaXMuY2FjaGVWaWRlb0VsZW1lbnQ9dm9pZCAwfWJyZWFrO2Nhc2VcImNhbnBsYXlcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz16eS5DQU5QTEFZO2JyZWFrO2Nhc2VcInN0YWxsZWRcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz16eS5TVEFMTEVEO2JyZWFrO2Nhc2VcInN1c3BlbmRcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz16eS5TVVNQRU5EO2JyZWFrO2Nhc2VcInBhdXNlXCI6dGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9enkuUEFVU0VELENnKCl8fERnKCl8fFRnKCkmJnRoaXMuYXV0b3BsYXlGYWlsZWR8fCF0aGlzLnZpZGVvVHJhY2t8fFwibGl2ZVwiIT09dGhpcy52aWRlb1RyYWNrLnJlYWR5U3RhdGV8fChXQy5kZWJ1ZyhcIlt0cmFjay1cIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSB2aWRlbyBlbGVtZW50IHBhdXNlZCwgYXV0byByZXN1bWVcIikpLHRoaXMudmlkZW9FbGVtZW50LnBsYXkoKSk7YnJlYWs7Y2FzZVwid2FpdGluZ1wiOnRoaXMudmlkZW9FbGVtZW50U3RhdHVzPXp5LldBSVRJTkc7YnJlYWs7Y2FzZVwiYWJvcnRcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz16eS5BQk9SVDticmVhaztjYXNlXCJlbmRlZFwiOnRoaXMudmlkZW9FbGVtZW50U3RhdHVzPXp5LkVOREVEO2JyZWFrO2Nhc2VcImVtcHRpZWRcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz16eS5FTVBUSUVEO2JyZWFrO2Nhc2VcImVycm9yXCI6e3RoaXMudmlkZW9FbGVtZW50U3RhdHVzPXp5LkVSUk9SO2NvbnN0IGU9dGhpcy52aWRlb0VsZW1lbnQuZXJyb3I7ZSYmV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gbWVkaWEgZXJyb3IsIGNvZGU6IFwiKS5jb25jYXQoZS5jb2RlLFwiLCBtZXNzYWdlOiBcIikuY29uY2F0KGUubWVzc2FnZSkpO2JyZWFrfWNhc2VcInRpbWV1cGRhdGVcIjp7Y29uc3QgZT1wZXJmb3JtYW5jZS5ub3coKTtpZih0aGlzLnRpbWVVcGRhdGVkQ291bnQrPTEsdGhpcy50aW1lVXBkYXRlZENvdW50PDEwKXJldHVybiB2b2lkKHRoaXMubGFzdFRpbWVVcGRhdGVkVGltZT1lKTtjb25zdCB0PWUtdGhpcy5sYXN0VGltZVVwZGF0ZWRUaW1lLGk9dGhpcy5sYXN0VGltZVVwZGF0ZWRUaW1lO2lmKHRoaXMubGFzdFRpbWVVcGRhdGVkVGltZT1lLG9iLmxhc3RWaXNpYmxlVGltZTxvYi5sYXN0SGlkZGVuVGltZXx8aTxvYi5sYXN0SGlkZGVuVGltZXx8aTxvYi5sYXN0VmlzaWJsZVRpbWUpcmV0dXJuO2Zvcih0PmtDKFwiVklERU9fRlJFRVpFX0RVUkFUSU9OXCIpJiYodGhpcy5mcmVlemVUaW1lKz10KSx0aGlzLnBsYXliYWNrVGltZSs9dDt0aGlzLnBsYXliYWNrVGltZT49NmUzOyl7dGhpcy5wbGF5YmFja1RpbWUtPTZlMztjb25zdCBlPU1hdGgubWluKDZlMyx0aGlzLmZyZWV6ZVRpbWUpO3RoaXMuZnJlZXplVGltZUNvdW50ZXJMaXN0LnB1c2goZSksdGhpcy5mcmVlemVUaW1lPU1hdGgubWF4KDAsdGhpcy5mcmVlemVUaW1lLTZlMyl9YnJlYWt9fX0pKSxudSh0aGlzLFwiYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uT25JT1MxNV8xNlwiLCgoKT0+e3RoaXMudmlkZW9UcmFjayYmXCJsaXZlXCI9PT10aGlzLnZpZGVvVHJhY2sucmVhZHlTdGF0ZSYmKFdDLmRlYnVnKFwiW3RyYWNrLVwiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIHZpZGVvIGVsZW1lbnQgcGF1c2VkLCBhdXRvIHJlc3VtZSBmb3IgXCIpLmNvbmNhdChFZygpKSksTmcoKT8odGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PW51bGwsdGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbShbdGhpcy52aWRlb1RyYWNrXSksdGhpcy52aWRlb0VsZW1lbnQucGxheSgpKToodGhpcy52aWRlb0VsZW1lbnQucGF1c2UoKSx0aGlzLnZpZGVvRWxlbWVudC5wbGF5KCkpKX0pKSx0aGlzLnRyYWNrSWQ9ZS50cmFja0lkLHRoaXMuY29uZmlnPWUsZS5lbGVtZW50IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD90aGlzLnZpZGVvRWxlbWVudD1lLmVsZW1lbnQ6dGhpcy52aWRlb0VsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpLG5BLm9uKGx5LklPU19JTlRFUlJVUFRJT05fRU5ELHRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uKSxuQS5vbihseS5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX0VORCx0aGlzLmF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbk9uSU9TMTVfMTYpfWdldFZpZGVvRWxlbWVudCgpe3JldHVybiB0aGlzLnZpZGVvRWxlbWVudH1nZXRDb250YWluZXJFbGVtZW50KCl7dmFyIGU7cmV0dXJuIG51bGwhPT0oZT10aGlzLnZpZGVvRWxlbWVudC5wYXJlbnRFbGVtZW50KSYmdm9pZCAwIT09ZT9lOnZvaWQgMH11cGRhdGVDb25maWcoZSl7dGhpcy5jb25maWc9ZSx0aGlzLnRyYWNrSWQ9ZS50cmFja0lkLGUuZWxlbWVudCE9PXRoaXMudmlkZW9FbGVtZW50JiYodGhpcy5kZXN0cm95KCksdGhpcy52aWRlb0VsZW1lbnQ9ZS5lbGVtZW50KSx0aGlzLnZpZGVvVHJhY2smJnRoaXMuaW5pdFZpZGVvRWxlbWVudCgpfXVwZGF0ZVZpZGVvVHJhY2soZSl7dGhpcy52aWRlb1RyYWNrIT09ZSYmKHRoaXMudmlkZW9UcmFjaz1lLHRoaXMuaW5pdFZpZGVvRWxlbWVudCgpKX1wbGF5KGUpe2NvbnN0IHQ9dGhpcy52aWRlb0VsZW1lbnQucGxheSgpO3QmJnQuY2F0Y2gmJnQuY2F0Y2goKHQ9PntlJiZQQShlLFwidmlkZW9cIix0Lm1lc3NhZ2UsdGhpcy50cmFja0lkKSxcIk5vdEFsbG93ZWRFcnJvclwiPT09dC5uYW1lPyhXQy53YXJuaW5nKFwiZGV0ZWN0ZWQgdmlkZW8gZWxlbWVudCBhdXRvcGxheSBmYWlsZWRcIix0KSx0aGlzLmF1dG9wbGF5RmFpbGVkPSEwLHRoaXMuaGFuZGxlQXV0b1BsYXlGYWlsZWQoKSk6V0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSBwbGF5IHdhcm5pbmc6IFwiKSx0KX0pKTtjb25zdCBpPXBnKCk7aWYoKFwiU2FmYXJpXCI9PT1pLm5hbWUmJjE1PT09TnVtYmVyKGkudmVyc2lvbil8fHdnKCkpJiZ0JiZ0LnRoZW4pe2NvbnN0IGU9KCk9Pnt0aGlzLmNvbmZpZy5taXJyb3ImJih0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS50cmFuc2Zvcm09XCJyb3RhdGVZKDE4MGRlZylcIil9O3QudGhlbihlKS5jYXRjaChlKX19Z2V0Q3VycmVudEZyYW1lKCl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2Uud2lkdGg9dGhpcy52aWRlb0VsZW1lbnQudmlkZW9XaWR0aCxlLmhlaWdodD10aGlzLnZpZGVvRWxlbWVudC52aWRlb0hlaWdodDtjb25zdCB0PWUuZ2V0Q29udGV4dChcIjJkXCIpO2lmKCF0KXJldHVybiBXQy5lcnJvcihcImNyZWF0ZSBjYW52YXMgY29udGV4dCBmYWlsZWQhXCIpLG5ldyBJbWFnZURhdGEoMiwyKTt0LmRyYXdJbWFnZSh0aGlzLnZpZGVvRWxlbWVudCwwLDAsZS53aWR0aCxlLmhlaWdodCk7Y29uc3QgaT10LmdldEltYWdlRGF0YSgwLDAsZS53aWR0aCxlLmhlaWdodCk7cmV0dXJuIGUucmVtb3ZlKCksaX1hc3luYyBnZXRDdXJyZW50RnJhbWVUb1VpbnQ4QXJyYXkoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjE7Y29uc3QgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2kud2lkdGg9dGhpcy52aWRlb0VsZW1lbnQudmlkZW9XaWR0aCxpLmhlaWdodD10aGlzLnZpZGVvRWxlbWVudC52aWRlb0hlaWdodDtjb25zdCBuPWkuZ2V0Q29udGV4dChcIjJkXCIpO3JldHVybiBuPyhuLmRyYXdJbWFnZSh0aGlzLnZpZGVvRWxlbWVudCwwLDAsaS53aWR0aCxpLmhlaWdodCksbmV3IHRnKCgobixyKT0+e2kudG9CbG9iKChhc3luYyBlPT57aWYoaS5yZW1vdmUoKSxlKXtjb25zdCB0PWF3YWl0IHNiKGUpO24oe2J1ZmZlcjp0LHdpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0fSl9ZWxzZSByKG5ldyBWZyh4Zy5DT05WRVJUSU5HX1ZJREVPX0ZSQU1FX1RPX0JMT0JfRkFJTEVEKSl9KSxlLHQ8MD8uMTp0PjE/MTp0KX0pKSk6YXdhaXQgcmIoZSl9ZGVzdHJveSgpe25BLm9mZihseS5JT1NfSU5URVJSVVBUSU9OX0VORCx0aGlzLmF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbiksbkEub2ZmKGx5LklPU18xNV8xNl9JTlRFUlJVUFRJT05fRU5ELHRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uT25JT1MxNV8xNiksdGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PW51bGwsdGhpcy5yZXNldFZpZGVvRWxlbWVudCgpLHRoaXMuZnJlZXplVGltZUNvdW50ZXJMaXN0PVtdfWluaXRWaWRlb0VsZW1lbnQoKXtpZih0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz16eS5JTklULCF0aGlzLnZpZGVvRWxlbWVudENoZWNrSW50ZXJ2YWwmJihsYi5mb3JFYWNoKChlPT57dGhpcy52aWRlb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihlLHRoaXMuaGFuZGxlVmlkZW9FdmVudHMpfSkpLHRoaXMudmlkZW9FbGVtZW50Q2hlY2tJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57KGZ1bmN0aW9uKGUpe3JldHVybiBlIT09ZG9jdW1lbnQuYm9keSYmZG9jdW1lbnQuYm9keS5jb250YWlucyhlKX0pKHRoaXMudmlkZW9FbGVtZW50KXx8KHRoaXMudmlkZW9FbGVtZW50U3RhdHVzPXp5LkRFU1RST1lFRCl9KSwxZTMpLGtDKFwiRU5BQkxFX1ZJREVPX0ZSQU1FX0NBTExCQUNLXCIpKSl7dmFyIGUsdDtsZXQgaTtjb25zdCBuPShlLHQpPT57aWYodGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9PT16eS5QTEFZSU5HKXtpZihpKXtjb25zdCBlPXQucHJlc2VudGF0aW9uVGltZS1pLnByZXNlbnRhdGlvblRpbWU7ZT5rQyhcIlZJREVPX0ZSRUVaRV9EVVJBVElPTlwiKSYmb2IubGFzdFZpc2libGVUaW1lPj1vYi5sYXN0SGlkZGVuVGltZSYmaS50aW1lc3RhbXA+b2IubGFzdFZpc2libGVUaW1lJiZpLnRpbWVzdGFtcD5vYi5sYXN0SGlkZGVuVGltZSYmKHRoaXMucmVuZGVyRnJlZXplQWNjVGltZSs9ZSl9aT1jYihjYih7fSx0KSx7fSx7dGltZXN0YW1wOmV9KX12YXIgcixzO2tDKFwiRU5BQkxFX1ZJREVPX0ZSQU1FX0NBTExCQUNLXCIpJiYobnVsbD09PShyPShzPXRoaXMudmlkZW9FbGVtZW50KS5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKXx8dm9pZCAwPT09cnx8ci5jYWxsKHMsbikpfTtudWxsPT09KGU9KHQ9dGhpcy52aWRlb0VsZW1lbnQpLnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2spfHx2b2lkIDA9PT1lfHxlLmNhbGwodCxuKX10aGlzLnZpZGVvRWxlbWVudC5jb250cm9scz0hMSx0aGlzLnZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpLE1nKCkmJih0aGlzLnZpZGVvRWxlbWVudC5wb3N0ZXI9XCJub3Bvc3RlclwiKTtjb25zdCBpPXBnKCk7aWYoXCJTYWZhcmlcIj09PWkubmFtZSYmMTU9PT1OdW1iZXIoaS52ZXJzaW9uKXx8d2coKXx8IXRoaXMuY29uZmlnLm1pcnJvcnx8KHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1cInJvdGF0ZVkoMTgwZGVnKVwiKSx0aGlzLmNvbmZpZy5maXQ/dGhpcy52aWRlb0VsZW1lbnQuc3R5bGUub2JqZWN0Rml0PXRoaXMuY29uZmlnLmZpdDp0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS5vYmplY3RGaXQ9XCJjb3ZlclwiLHRoaXMudmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZShcIm11dGVkXCIsXCJcIiksdGhpcy52aWRlb0VsZW1lbnQubXV0ZWQ9ITAsdGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0JiZ0aGlzLnZpZGVvRWxlbWVudC5zcmNPYmplY3QgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbSl7dGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0LmdldFZpZGVvVHJhY2tzKClbMF0hPT10aGlzLnZpZGVvVHJhY2smJih0aGlzLnZpZGVvRWxlbWVudC5zcmNPYmplY3Q9dGhpcy52aWRlb1RyYWNrP25ldyBNZWRpYVN0cmVhbShbdGhpcy52aWRlb1RyYWNrXSk6bnVsbCxSZygpJiZ0aGlzLnZpZGVvRWxlbWVudC5sb2FkKCkpfWVsc2UgdGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PXRoaXMudmlkZW9UcmFjaz9uZXcgTWVkaWFTdHJlYW0oW3RoaXMudmlkZW9UcmFja10pOm51bGwsUmcoKSYmdGhpcy52aWRlb0VsZW1lbnQubG9hZCgpO2NvbnN0IG49dGhpcy52aWRlb0VsZW1lbnQucGxheSgpO3ZvaWQgMCE9PW4mJm4uY2F0Y2goKGU9PntXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSBwbGF5YmFjayBpbnRlcnJ1cHRlZFwiKSxlLnRvU3RyaW5nKCkpfSkpfXJlc2V0VmlkZW9FbGVtZW50KCl7bGIuZm9yRWFjaCgoZT0+e3RoaXMudmlkZW9FbGVtZW50JiZ0aGlzLnZpZGVvRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUsdGhpcy5oYW5kbGVWaWRlb0V2ZW50cyl9KSksdGhpcy52aWRlb0VsZW1lbnRDaGVja0ludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy52aWRlb0VsZW1lbnRDaGVja0ludGVydmFsKSx0aGlzLnZpZGVvRWxlbWVudENoZWNrSW50ZXJ2YWw9dm9pZCAwKSx0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz16eS5OT05FfWhhbmRsZUF1dG9QbGF5RmFpbGVkKCl7Y29uc3QgZT10PT57dC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMudmlkZW9FbGVtZW50LnBsYXkoKS50aGVuKCgoKT0+e1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIFZpZGVvIGVsZW1lbnQgZm9yIHRyYWNrSWQ6XCIpLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCIgYXV0b3BsYXkgcmVzdW1lZC5cIikpfSkpLmNhdGNoKChlPT57V0MuZXJyb3IoZSl9KSksdGhpcy5hdXRvcGxheUZhaWxlZD0hMSxVZygpP2RvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZSwhMCk6KGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixlLCEwKSxkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixlLCEwKSl9O1VnKCk/ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixlLCEwKTooZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGUsITApLGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGUsITApKSxPQSgpfX1jb25zdCBsYj1bXCJwbGF5XCIsXCJwbGF5aW5nXCIsXCJsb2FkZWRkYXRhXCIsXCJjYW5wbGF5XCIsXCJwYXVzZVwiLFwic3RhbGxlZFwiLFwic3VzcGVuZFwiLFwid2FpdGluZ1wiLFwiYWJvcnRcIixcImVtcHRpZWRcIixcImVuZGVkXCIsXCJ0aW1ldXBkYXRlXCIsXCJlcnJvclwiXTtjbGFzcyBoYiBleHRlbmRzIGRie2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLG51KHRoaXMsXCJjb250YWluZXJcIix2b2lkIDApLG51KHRoaXMsXCJzbG90XCIsdm9pZCAwKSx0aGlzLnNsb3Q9ZS5lbGVtZW50LHRoaXMudXBkYXRlQ29uZmlnKGUpfXVwZGF0ZUNvbmZpZyhlKXt0aGlzLmNvbmZpZz1lLHRoaXMudHJhY2tJZD1lLnRyYWNrSWQ7Y29uc3QgdD1lLmVsZW1lbnQ7dCE9PXRoaXMuc2xvdCYmKHRoaXMuZGVzdHJveSgpLHRoaXMuc2xvdD10KSx0aGlzLmNyZWF0ZUVsZW1lbnRzKCl9dXBkYXRlVmlkZW9UcmFjayhlKXt0aGlzLnZpZGVvVHJhY2shPT1lJiYodGhpcy52aWRlb1RyYWNrPWUsdGhpcy5jcmVhdGVFbGVtZW50cygpKX1wbGF5KGUpe3ZhciB0O251bGwhPT0odD10aGlzLmNvbnRhaW5lcikmJnZvaWQgMCE9PXQmJnQuY29udGFpbnModGhpcy52aWRlb0VsZW1lbnQpJiZzdXBlci5wbGF5KGUpfWdldEN1cnJlbnRGcmFtZSgpe3ZhciBlO3JldHVybiBudWxsIT09KGU9dGhpcy5jb250YWluZXIpJiZ2b2lkIDAhPT1lJiZlLmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KT9zdXBlci5nZXRDdXJyZW50RnJhbWUoKTpuZXcgSW1hZ2VEYXRhKDIsMil9YXN5bmMgZ2V0Q3VycmVudEZyYW1lVG9VaW50OEFycmF5KGUpe3ZhciB0O2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxO3JldHVybiBudWxsIT09KHQ9dGhpcy5jb250YWluZXIpJiZ2b2lkIDAhPT10JiZ0LmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KT9hd2FpdCBzdXBlci5nZXRDdXJyZW50RnJhbWVUb1VpbnQ4QXJyYXkoZSxpKTphd2FpdCByYihlKX1kZXN0cm95KCl7aWYoc3VwZXIuZGVzdHJveSgpLHRoaXMudmlkZW9FbGVtZW50LnJlbW92ZSgpLHRoaXMudmlkZW9FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSx0aGlzLmNvbnRhaW5lcil7dHJ5e3RoaXMuY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuc2xvdC5yZW1vdmVDaGlsZCh0aGlzLmNvbnRhaW5lcil9Y2F0Y2goZSl7fXRoaXMuY29udGFpbmVyPXZvaWQgMH19Y3JlYXRlRWxlbWVudHMoKXt0aGlzLmNvbnRhaW5lcnx8KHRoaXMuY29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLHRoaXMuY29udGFpbmVyLmlkPVwiYWdvcmEtdmlkZW8tcGxheWVyLVwiLmNvbmNhdCh0aGlzLnRyYWNrSWQpLHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoPVwiMTAwJVwiLHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodD1cIjEwMCVcIix0aGlzLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsdGhpcy5jb250YWluZXIuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIix0aGlzLnZpZGVvVHJhY2s/KHRoaXMuY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvcj1cImJsYWNrXCIsa0MoXCJLRUVQX0xBU1RfRlJBTUVcIikmJnRoaXMuaXNLZWVwTGFzdEZyYW1lJiZ0aGlzLnZpZGVvRWxlbWVudC5wYXVzZWQmJnRoaXMucmVzZXRWaWRlb0VsZW1lbnQoKSx0aGlzLm1vdW50ZWRWaWRlb0VsZW1lbnQoKSk6dGhpcy51bm1vdW50ZWRWaWRlb0VsZW1lbnQoKSx0aGlzLnNsb3QuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpfW1vdW50ZWRWaWRlb0VsZW1lbnQoKXt2YXIgZTshdGhpcy5jb250YWluZXJ8fG51bGwhPT0oZT10aGlzLmNvbnRhaW5lcikmJnZvaWQgMCE9PWUmJmUuY29udGFpbnModGhpcy52aWRlb0VsZW1lbnQpfHx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnZpZGVvRWxlbWVudCksc3VwZXIuaW5pdFZpZGVvRWxlbWVudCgpLHRoaXMudmlkZW9FbGVtZW50LmlkPVwidmlkZW9fXCIuY29uY2F0KHRoaXMudHJhY2tJZCksdGhpcy52aWRlb0VsZW1lbnQuY2xhc3NOYW1lPVwiYWdvcmFfdmlkZW9fcGxheWVyXCIsdGhpcy52aWRlb0VsZW1lbnQuc3R5bGUud2lkdGg9XCIxMDAlXCIsdGhpcy52aWRlb0VsZW1lbnQuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiLHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS5sZWZ0PVwiMFwiLHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLnRvcD1cIjBcIn11bm1vdW50ZWRWaWRlb0VsZW1lbnQoKXt2YXIgZTtpZihudWxsIT09KGU9dGhpcy5jb250YWluZXIpJiZ2b2lkIDAhPT1lJiZlLmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KSl7c3VwZXIucmVzZXRWaWRlb0VsZW1lbnQoKTt0cnl7dGhpcy5jb250YWluZXImJnRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMudmlkZW9FbGVtZW50KX1jYXRjaChlKXt9dGhpcy52aWRlb0VsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpfX1yZXNldFZpZGVvRWxlbWVudCgpe3ZhciBlO251bGwhPT0oZT10aGlzLmNvbnRhaW5lcikmJnZvaWQgMCE9PWUmJmUuY29udGFpbnModGhpcy52aWRlb0VsZW1lbnQpJiYoc3VwZXIucmVzZXRWaWRlb0VsZW1lbnQoKSx0aGlzLmNhY2hlVmlkZW9FbGVtZW50PXRoaXMudmlkZW9FbGVtZW50LHRoaXMudmlkZW9FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSl9Z2V0Q29udGFpbmVyRWxlbWVudCgpe3JldHVybiB0aGlzLmNvbnRhaW5lcn19ZnVuY3Rpb24gdWIoZSl7cmV0dXJuIG5ldyB0ZygoKHQsaSk9PntsZXQgbj0hMTtjb25zdCByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtyLnNldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIsXCJcIiksci5zZXRBdHRyaWJ1dGUoXCJtdXRlZFwiLFwiXCIpLHIubXV0ZWQ9ITAsci5hdXRvcGxheT0hMCxyLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksci5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwicG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxcHg7IGhlaWdodDogMXB4XCIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocik7Y29uc3Qgcz1DZygpP1wiY2FucGxheVwiOlwicGxheWluZ1wiO3IuYWRkRXZlbnRMaXN0ZW5lcihzLCgoKT0+e2NvbnN0IGU9ci52aWRlb1dpZHRoLGk9ci52aWRlb0hlaWdodDshZSYmUmcoKXx8KG49ITAsci5zcmNPYmplY3Q9bnVsbCxyLnJlbW92ZSgpLHQoW2UsaV0pKX0pKSxyLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW2VdKSxyLnBsYXkoKS5jYXRjaChGUyksc2V0VGltZW91dCgoKCk9PntufHwoci5zcmNPYmplY3Q9bnVsbCxyLnJlbW92ZSgpLHQoW3IudmlkZW9XaWR0aCxyLnZpZGVvSGVpZ2h0XSkpfSksNGUzKX0pKX1jb25zdCBwYj1hc3luYyhlLHQsaSk9Pntjb25zdCBuPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKz0yKXQucHVzaChwYXJzZUludChlLnNsaWNlKGksaSsyKSwxNikpO3JldHVybiBVaW50OEFycmF5LmZyb20odCl9KGZ1bmN0aW9uKGUpe2NvbnN0IHQ9XCIwMTIzNDU2Nzg5YWJjZGVmXCI7ZnVuY3Rpb24gaShlKXtsZXQgaSxuPVwiXCI7Zm9yKGk9MDtpPD0zO2krKyluKz10LmNoYXJBdChlPj44KmkrNCYxNSkrdC5jaGFyQXQoZT4+OCppJjE1KTtyZXR1cm4gbn1mdW5jdGlvbiBuKGUsdCl7Y29uc3QgaT0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsoaT4+MTYpPDwxNnw2NTUzNSZpfWZ1bmN0aW9uIHIoZSx0LGkscixzLG8pe3JldHVybiBuKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU8PHR8ZT4+PjMyLXR9KG4obih0LGUpLG4ocixvKSkscyksaSl9ZnVuY3Rpb24gcyhlLHQsaSxuLHMsbyxhKXtyZXR1cm4gcih0Jml8fnQmbixlLHQscyxvLGEpfWZ1bmN0aW9uIG8oZSx0LGksbixzLG8sYSl7cmV0dXJuIHIodCZufGkmfm4sZSx0LHMsbyxhKX1mdW5jdGlvbiBhKGUsdCxpLG4scyxvLGEpe3JldHVybiByKHReaV5uLGUsdCxzLG8sYSl9ZnVuY3Rpb24gYyhlLHQsaSxuLHMsbyxhKXtyZXR1cm4gcihpXih0fH5uKSxlLHQscyxvLGEpfWNvbnN0IGQ9ZnVuY3Rpb24oZSl7bGV0IHQ7Y29uc3QgaT0xKyhlLmxlbmd0aCs4Pj42KSxuPW5ldyBBcnJheSgxNippKTtmb3IodD0wO3Q8MTYqaTt0Kyspblt0XT0wO2Zvcih0PTA7dDxlLmxlbmd0aDt0Kyspblt0Pj4yXXw9ZS5jaGFyQ29kZUF0KHQpPDx0JTQqODtyZXR1cm4gblt0Pj4yXXw9MTI4PDx0JTQqOCxuWzE2KmktMl09OCplLmxlbmd0aCxufShlKTtsZXQgbCxoLHUscCxfLEU9MTczMjU4NDE5MyxtPS0yNzE3MzM4NzksZj0tMTczMjU4NDE5NCxnPTI3MTczMzg3ODtmb3IobD0wO2w8ZC5sZW5ndGg7bCs9MTYpaD1FLHU9bSxwPWYsXz1nLEU9cyhFLG0sZixnLGRbbCswXSw3LC02ODA4NzY5MzYpLGc9cyhnLEUsbSxmLGRbbCsxXSwxMiwtMzg5NTY0NTg2KSxmPXMoZixnLEUsbSxkW2wrMl0sMTcsNjA2MTA1ODE5KSxtPXMobSxmLGcsRSxkW2wrM10sMjIsLTEwNDQ1MjUzMzApLEU9cyhFLG0sZixnLGRbbCs0XSw3LC0xNzY0MTg4OTcpLGc9cyhnLEUsbSxmLGRbbCs1XSwxMiwxMjAwMDgwNDI2KSxmPXMoZixnLEUsbSxkW2wrNl0sMTcsLTE0NzMyMzEzNDEpLG09cyhtLGYsZyxFLGRbbCs3XSwyMiwtNDU3MDU5ODMpLEU9cyhFLG0sZixnLGRbbCs4XSw3LDE3NzAwMzU0MTYpLGc9cyhnLEUsbSxmLGRbbCs5XSwxMiwtMTk1ODQxNDQxNyksZj1zKGYsZyxFLG0sZFtsKzEwXSwxNywtNDIwNjMpLG09cyhtLGYsZyxFLGRbbCsxMV0sMjIsLTE5OTA0MDQxNjIpLEU9cyhFLG0sZixnLGRbbCsxMl0sNywxODA0NjAzNjgyKSxnPXMoZyxFLG0sZixkW2wrMTNdLDEyLC00MDM0MTEwMSksZj1zKGYsZyxFLG0sZFtsKzE0XSwxNywtMTUwMjAwMjI5MCksbT1zKG0sZixnLEUsZFtsKzE1XSwyMiwxMjM2NTM1MzI5KSxFPW8oRSxtLGYsZyxkW2wrMV0sNSwtMTY1Nzk2NTEwKSxnPW8oZyxFLG0sZixkW2wrNl0sOSwtMTA2OTUwMTYzMiksZj1vKGYsZyxFLG0sZFtsKzExXSwxNCw2NDM3MTc3MTMpLG09byhtLGYsZyxFLGRbbCswXSwyMCwtMzczODk3MzAyKSxFPW8oRSxtLGYsZyxkW2wrNV0sNSwtNzAxNTU4NjkxKSxnPW8oZyxFLG0sZixkW2wrMTBdLDksMzgwMTYwODMpLGY9byhmLGcsRSxtLGRbbCsxNV0sMTQsLTY2MDQ3ODMzNSksbT1vKG0sZixnLEUsZFtsKzRdLDIwLC00MDU1Mzc4NDgpLEU9byhFLG0sZixnLGRbbCs5XSw1LDU2ODQ0NjQzOCksZz1vKGcsRSxtLGYsZFtsKzE0XSw5LC0xMDE5ODAzNjkwKSxmPW8oZixnLEUsbSxkW2wrM10sMTQsLTE4NzM2Mzk2MSksbT1vKG0sZixnLEUsZFtsKzhdLDIwLDExNjM1MzE1MDEpLEU9byhFLG0sZixnLGRbbCsxM10sNSwtMTQ0NDY4MTQ2NyksZz1vKGcsRSxtLGYsZFtsKzJdLDksLTUxNDAzNzg0KSxmPW8oZixnLEUsbSxkW2wrN10sMTQsMTczNTMyODQ3MyksbT1vKG0sZixnLEUsZFtsKzEyXSwyMCwtMTkyNjYwNzczNCksRT1hKEUsbSxmLGcsZFtsKzVdLDQsLTM3ODU1OCksZz1hKGcsRSxtLGYsZFtsKzhdLDExLC0yMDIyNTc0NDYzKSxmPWEoZixnLEUsbSxkW2wrMTFdLDE2LDE4MzkwMzA1NjIpLG09YShtLGYsZyxFLGRbbCsxNF0sMjMsLTM1MzA5NTU2KSxFPWEoRSxtLGYsZyxkW2wrMV0sNCwtMTUzMDk5MjA2MCksZz1hKGcsRSxtLGYsZFtsKzRdLDExLDEyNzI4OTMzNTMpLGY9YShmLGcsRSxtLGRbbCs3XSwxNiwtMTU1NDk3NjMyKSxtPWEobSxmLGcsRSxkW2wrMTBdLDIzLC0xMDk0NzMwNjQwKSxFPWEoRSxtLGYsZyxkW2wrMTNdLDQsNjgxMjc5MTc0KSxnPWEoZyxFLG0sZixkW2wrMF0sMTEsLTM1ODUzNzIyMiksZj1hKGYsZyxFLG0sZFtsKzNdLDE2LC03MjI1MjE5NzkpLG09YShtLGYsZyxFLGRbbCs2XSwyMyw3NjAyOTE4OSksRT1hKEUsbSxmLGcsZFtsKzldLDQsLTY0MDM2NDQ4NyksZz1hKGcsRSxtLGYsZFtsKzEyXSwxMSwtNDIxODE1ODM1KSxmPWEoZixnLEUsbSxkW2wrMTVdLDE2LDUzMDc0MjUyMCksbT1hKG0sZixnLEUsZFtsKzJdLDIzLC05OTUzMzg2NTEpLEU9YyhFLG0sZixnLGRbbCswXSw2LC0xOTg2MzA4NDQpLGc9YyhnLEUsbSxmLGRbbCs3XSwxMCwxMTI2ODkxNDE1KSxmPWMoZixnLEUsbSxkW2wrMTRdLDE1LC0xNDE2MzU0OTA1KSxtPWMobSxmLGcsRSxkW2wrNV0sMjEsLTU3NDM0MDU1KSxFPWMoRSxtLGYsZyxkW2wrMTJdLDYsMTcwMDQ4NTU3MSksZz1jKGcsRSxtLGYsZFtsKzNdLDEwLC0xODk0OTg2NjA2KSxmPWMoZixnLEUsbSxkW2wrMTBdLDE1LC0xMDUxNTIzKSxtPWMobSxmLGcsRSxkW2wrMV0sMjEsLTIwNTQ5MjI3OTkpLEU9YyhFLG0sZixnLGRbbCs4XSw2LDE4NzMzMTMzNTkpLGc9YyhnLEUsbSxmLGRbbCsxNV0sMTAsLTMwNjExNzQ0KSxmPWMoZixnLEUsbSxkW2wrNl0sMTUsLTE1NjAxOTgzODApLG09YyhtLGYsZyxFLGRbbCsxM10sMjEsMTMwOTE1MTY0OSksRT1jKEUsbSxmLGcsZFtsKzRdLDYsLTE0NTUyMzA3MCksZz1jKGcsRSxtLGYsZFtsKzExXSwxMCwtMTEyMDIxMDM3OSksZj1jKGYsZyxFLG0sZFtsKzJdLDE1LDcxODc4NzI1OSksbT1jKG0sZixnLEUsZFtsKzldLDIxLC0zNDM0ODU1NTEpLEU9bihFLGgpLG09bihtLHUpLGY9bihmLHApLGc9bihnLF8pO3JldHVybiBpKEUpK2kobSkraShmKStpKGcpfShcIlwiK3QraSkpLnNsaWNlKDAsMTYpLHI9bi5zbGljZSgwLDEyKSxzPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmltcG9ydEtleShcInJhd1wiLG4sXCJBRVMtR0NNXCIsITAsW1wiZW5jcnlwdFwiXSk7cmV0dXJuIG5ldyBVaW50OEFycmF5KGF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmVuY3J5cHQoe25hbWU6XCJBRVMtR0NNXCIsaXY6cn0scyxlKSl9LF9iPWFzeW5jKGUsdCxpKT0+YXdhaXQgcGIoZS5idWZmZXIsdCxpKTtmdW5jdGlvbiBFYihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gbWIoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/RWIoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6RWIoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3MgZmIgZXh0ZW5kcyAkeXtnZXQgaXNQbGF5aW5nKCl7cmV0dXJuISghdGhpcy5fcGxheWVyfHx0aGlzLl9wbGF5ZXIudmlkZW9FbGVtZW50U3RhdHVzIT09enkuUExBWUlORyl9Z2V0IHByb2Nlc3NvckNvbnRleHQoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yQ29udGV4dH1zZXQgcHJvY2Vzc29yQ29udGV4dChlKXt0aGlzLl9wcm9jZXNzb3JDb250ZXh0PWV9Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm5cIkxvY2FsVmlkZW9UcmFja1wifWNvbnN0cnVjdG9yKGUsdCxpLG4scixzKXtpZihzdXBlcihlLHIpLG51KHRoaXMsXCJ0cmFja01lZGlhVHlwZVwiLFwidmlkZW9cIiksbnUodGhpcyxcIl9wbGF5ZXJcIix2b2lkIDApLG51KHRoaXMsXCJfdmlkZW9WaXNpYmxlVGltZXJcIixudWxsKSxudSh0aGlzLFwiX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzXCIsdm9pZCAwKSxudSh0aGlzLFwiX2NsZWFyUHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXNcIiwoKCk9PnRoaXMuX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzPXZvaWQgMCkpLG51KHRoaXMsXCJfZW5jb2RlckNvbmZpZ1wiLHZvaWQgMCksbnUodGhpcyxcIl9zY2FsYWJpbGl0eU1vZGVcIix7bnVtU3BhdGlhbExheWVyczoxLG51bVRlbXBvcmFsTGF5ZXJzOjF9KSxudSh0aGlzLFwiX29wdGltaXphdGlvbk1vZGVcIix2b2lkIDApLG51KHRoaXMsXCJfdmlkZW9IZWlnaHRcIix2b2lkIDApLG51KHRoaXMsXCJfdmlkZW9XaWR0aFwiLHZvaWQgMCksbnUodGhpcyxcIl9mb3JjZUJpdHJhdGVMaW1pdFwiLHZvaWQgMCksbnUodGhpcyxcIl9lbmFibGVkXCIsITApLG51KHRoaXMsXCJwcm9jZXNzb3JEZXN0aW5hdGlvblwiLHZvaWQgMCksbnUodGhpcyxcIl9wcm9jZXNzb3JDb250ZXh0XCIsdm9pZCAwKSxUZygpKXtjb25zdHt3aWR0aDp0LGhlaWdodDppfT1lLmdldFNldHRpbmdzKCk7dGhpcy5fdmlkZW9XaWR0aD10LHRoaXMuX3ZpZGVvSGVpZ2h0PWl9ZWxzZSB0aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCk7aWYodGhpcy5fZW5jb2RlckNvbmZpZz10LHRoaXMuX3NjYWxhYmlsaXR5TW9kZT1pLHRoaXMuX29wdGltaXphdGlvbk1vZGU9bix0aGlzLl9oaW50cz1zfHxbXSwtMT09PXRoaXMuX2hpbnRzLmluZGV4T2YoRHkuU0NSRUVOX1RSQUNLKSl0aGlzLnVwZGF0ZUJpdHJhdGVGcm9tUHJvZmlsZSgpO2Vsc2UgaWYoZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49cGcoKTtyZXR1cm4hKG4ubmFtZSE9PWV8fCFuLm9zVmVyc2lvbikmJihpP051bWJlcihuLnZlcnNpb24pPj10JiZOdW1iZXIobi52ZXJzaW9uKTw9aTpOdW1iZXIobi52ZXJzaW9uKT09PXQpfShjZy5DSFJPTUUsMTE1KSYmLTEhPT1fZygpLmluZGV4T2YoXCJXaW5kb3dzXCIpKXtjb25zdCB0PWZ1bmN0aW9uKGUsdCl7aWYoXCJWaWRlb0ZyYW1lXCJpbiB3aW5kb3cmJlwiVHJhbnNmb3JtU3RyZWFtXCJpbiB3aW5kb3cmJmhBKCkuc3VwcG9ydFdlYlJUQ0luc2VydGFibGVTdHJlYW0pe2NvbnN0IGk9bmV3IE1lZGlhU3RyZWFtVHJhY2tQcm9jZXNzb3IoZSksbj1uZXcgTWVkaWFTdHJlYW1UcmFja0dlbmVyYXRvcih7a2luZDpcInZpZGVvXCJ9KTtsZXQgcixzLG89RGF0ZS5ub3coKTtjb25zdCBhPSgpPT57YyYmKGNsZWFySW50ZXJ2YWwoYyksYz12b2lkIDApLHImJihyLmNsb3NlKCkscj12b2lkIDApLGUuc3RvcCgpLHM9dm9pZCAwLG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsYSl9O2xldCBjPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9PntpZihzJiZyJiZEYXRlLm5vdygpLW8+KG51bGwhPXQ/dDoxZTMpKXRyeXtcImxpdmVcIj09PW4ucmVhZHlTdGF0ZT9zLmVucXVldWUoci5jbG9uZSgpKTphKCl9Y2F0Y2goZSl7YSgpfX0pLG51bGwhPXQ/dDoxZTMpO2NvbnN0IGQ9bmV3IFRyYW5zZm9ybVN0cmVhbSh7dHJhbnNmb3JtOihlLHQpPT57XCJsaXZlXCI9PT1uLnJlYWR5U3RhdGU/KHM9dCxvPURhdGUubm93KCksdm9pZCAwPT09cj8ocj1lLHQuZW5xdWV1ZShlLmNsb25lKCkpKToodC5lbnF1ZXVlKHIpLHI9ZSkpOmUuY2xvc2UoKX19KTtyZXR1cm4gbi5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixhKSxpLnJlYWRhYmxlLnBpcGVUaHJvdWdoKGQpLnBpcGVUbyhuLndyaXRhYmxlKSxufX0oZSk7dCYmKFdDLmluZm8oXCJsb2NhbCBzY3JlZW4gdmlkZW8gdHJhY2sgYmVnaW4gdG8gaW5qZWN0IGZyYW1lXCIpLHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9dCl9dCYmLTEhPT10aGlzLl9oaW50cy5pbmRleE9mKER5LkNVU1RPTV9UUkFDSykmJnRoaXMuc2V0RW5jb2RlckNvbmZpZ3VyYXRpb24odCksdGhpcy5wcm9jZXNzb3JDb250ZXh0PW5ldyBGQSh0aGlzLmdldFRyYWNrSWQoKSxcImxvY2FsXCIpLHRoaXMucHJvY2Vzc29yRGVzdGluYXRpb249bmV3IFZBKHRoaXMucHJvY2Vzc29yQ29udGV4dCksdGhpcy5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKX1wbGF5KGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7Y29uc3QgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTt0P2U9dDooV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksJ10gY2FuIG5vdCBmaW5kIFwiIycpLmNvbmNhdChlLCdcIiBlbGVtZW50LCB1c2UgZG9jdW1lbnQuYm9keScpKSxlPWRvY3VtZW50LmJvZHkpfVdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgdmlkZW8gcGxheWJhY2sgaW4gXCIpLmNvbmNhdChlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD9cIkhUTUxWaWRlb0VsZW1lbnRcIjpcIkhUTUxFbGVtZW50XCIpLEpTT04uc3RyaW5naWZ5KHQpKTtjb25zdCBpPW1iKG1iKG1iKHt9LHRoaXMuX2dldERlZmF1bHRQbGF5ZXJDb25maWcoKSksdCkse30se3RyYWNrSWQ6dGhpcy5nZXRUcmFja0lkKCksZWxlbWVudDplfSk7dGhpcy5fcGxheWVyP3RoaXMuX3BsYXllci51cGRhdGVDb25maWcoaSk6KGUgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P3RoaXMuX3BsYXllcj1uZXcgZGIoaSk6dGhpcy5fcGxheWVyPW5ldyBoYihpKSx0aGlzLl9wbGF5ZXIudXBkYXRlVmlkZW9UcmFjayh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKSksdGhpcy5fcGxheWVyLnBsYXkoKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fdmlkZW9WaXNpYmxlVGltZXIpLHRoaXMuX2NsZWFyUHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXMoKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dHJ5e2NvbnN0IGU9dGhpcy5nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzKCk7dGhpcy5zYWZlRW1pdChVeS5WSURFT19FTEVNRU5UX1ZJU0lCTEVfU1RBVFVTLGUpfWNhdGNoKGUpe319KSxrQyhcIkNIRUNLX1ZJREVPX1ZJU0lCTEVfSU5URVJWQUxcIikpfXN0b3AoKXt0aGlzLl9wbGF5ZXImJih0aGlzLl92aWRlb1Zpc2libGVUaW1lciYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lcj1udWxsKSx0aGlzLl9jbGVhclByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzKCksdGhpcy5fcGxheWVyLmRlc3Ryb3koKSx0aGlzLl9wbGF5ZXI9dm9pZCAwLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RvcCB2aWRlbyBwbGF5YmFja1wiKSkpfWFzeW5jIHNldEVuYWJsZWQoZSx0KXtpZighdCl7aWYoZT09PXRoaXMuX2VuYWJsZWQpcmV0dXJuO3RoaXMuc3RhdGVDaGVjayhcImVuYWJsZWRcIixlKX1pZihXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgc2V0RW5hYmxlZFwiKSxlKSwhZSl7dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSExO3RyeXthd2FpdCBnUyh0aGlzLE55Lk5FRURfRElTQUJMRV9UUkFDSyx0aGlzKX1jYXRjaChlKXt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gZmFsc2UgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfXJldHVybiB0fHwodGhpcy5fZW5hYmxlZD0hMSksdm9pZCBXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byBmYWxzZSBzdWNjZXNzXCIpKX10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITA7dHJ5e2F3YWl0IGdTKHRoaXMsTnkuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcyl9Y2F0Y2goZSl7dGhyb3cgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIHRydWUgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfVdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIHRydWUgc3VjY2Vzc1wiKSksdHx8KHRoaXMuX2VuYWJsZWQ9ITApfWFzeW5jIHNldE11dGVkKGUpe2UhPT10aGlzLl9tdXRlZCYmKHRoaXMuc3RhdGVDaGVjayhcIm11dGVkXCIsZSksdGhpcy5fbXV0ZWQ9ZSx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9IWUsV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBzZXQgbXV0ZWQ6IFwiKS5jb25jYXQoZSkpLGU/YXdhaXQgZ1ModGhpcyxOeS5ORUVEX01VVEVfVFJBQ0ssdGhpcyk6YXdhaXQgZ1ModGhpcyxOeS5ORUVEX1VOTVVURV9UUkFDSyx0aGlzKSl9YXN5bmMgc2V0RW5jb2RlckNvbmZpZ3VyYXRpb24oZSx0KXtpZighdGhpcy5fZW5hYmxlZCl0aHJvdyBuZXcgVmcoeGcuVFJBQ0tfSVNfRElTQUJMRUQsXCJjYW4gbm90IHNldCBlbmNvZGVyIGNvbmZpZ3VyYXRpb24gd2hlbiB0cmFjayBpcyBkaXNhYmxlZFwiKTtpZihlPXZ5KGUpLHRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0JiYoZS5iaXRyYXRlTWF4PXRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1heF9iaXRyYXRlP3RoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1heF9iaXRyYXRlOmUuYml0cmF0ZU1heCxlLmJpdHJhdGVNaW49dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWluX2JpdHJhdGU/dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWluX2JpdHJhdGU6ZS5iaXRyYXRlTWluKSxlLndpZHRofHxlLmhlaWdodHx8ZS5mcmFtZVJhdGUpe2NvbnN0IHQ9JEEoe2VuY29kZXJDb25maWc6ZX0pOyhUZygpfHxDZygpfHxEZygpKSYmKHQuZGV2aWNlSWQ9dm9pZCAwKSxXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuY29kZXJDb25maWd1cmF0aW9uIGFwcGx5Q29uc3RyYWludHNcIiksSlNPTi5zdHJpbmdpZnkoZSksSlNPTi5zdHJpbmdpZnkodCkpO3RyeXthd2FpdCB0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmFwcGx5Q29uc3RyYWludHModCksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IFZnKHhnLlVORVhQRUNURURfRVJST1IsZS50b1N0cmluZygpKTt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGFwcGx5Q29uc3RyYWludHMgZXJyb3JcIiksdC50b1N0cmluZygpKSx0fX10aGlzLl9lbmNvZGVyQ29uZmlnPWUsLTE9PT10aGlzLl9oaW50cy5pbmRleE9mKER5LlNDUkVFTl9UUkFDSykmJnRoaXMudXBkYXRlQml0cmF0ZUZyb21Qcm9maWxlKCk7dHJ5e2F3YWl0IGdTKHRoaXMsTnkuTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUix0aGlzKX1jYXRjaChlKXtyZXR1cm4gZS50aHJvdyhXQyl9fWdldFN0YXRzKCl7TlMoKCgpPT57V0Mud2FybmluZyhcIltkZXByZWNhdGVkXSBMb2NhbFZpZGVvVHJhY2suZ2V0U3RhdHMgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsIHVzZSBBZ29yYVJUQ0NsaWVudC5nZXRMb2NhbFZpZGVvU3RhdHMgaW5zdGVhZFwiKX0pLFwibG9jYWxWaWRlb1RyYWNrR2V0U3RhdHNXYXJuaW5nXCIpO2NvbnN0IGU9U1ModGhpcyxOeS5HRVRfU1RBVFMpO3JldHVybiBlfHxtYih7fSxqeSl9YXN5bmMgc2V0QmVhdXR5RWZmZWN0KGUpe1dDLmVycm9yKFwiTG9jYWxWaWRlb1RyYWNrLnNldEJlYXV0eUVmZmVjdCB3YXMgZGVwcmVjYXRlZCwgcGxlYXNlIG1pZ3JhdGUgdG8gYWdvcmEtZXh0ZW5zaW9uLWJlYXV0eS1lZmZlY3RcIil9Z2V0Q3VycmVudEZyYW1lRGF0YSgpe3JldHVybiB0aGlzLl9wbGF5ZXI/dGhpcy5fcGxheWVyLmdldEN1cnJlbnRGcmFtZSgpOm5ldyBJbWFnZURhdGEoMiwyKX1hc3luYyBnZXRDdXJyZW50RnJhbWVJbWFnZShlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MTtyZXR1cm4gdGhpcy5fcGxheWVyP3RoaXMuX3BsYXllci5nZXRDdXJyZW50RnJhbWVUb1VpbnQ4QXJyYXkoZSx0KTphd2FpdCByYihlKX1hc3luYyBzZXRCaXRyYXRlTGltaXQoZSl7aWYoV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXQgYml0cmF0ZSBsaW1pdCwgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSkpLGUpe3RoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0PWUsdGhpcy5fZW5jb2RlckNvbmZpZyYmKHRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heD90aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXg9dGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4PGUubWF4X2JpdHJhdGU/dGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4OmUubWF4X2JpdHJhdGU6dGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4PWUubWF4X2JpdHJhdGUsdGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWluLHRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1pbj1lLm1pbl9iaXRyYXRlKTt0cnl7YXdhaXQgZ1ModGhpcyxOeS5ORUVEX1VQREFURV9WSURFT19FTkNPREVSLHRoaXMpfWNhdGNoKGUpe3JldHVybiBlLnRocm93KFdDKX19fWFzeW5jIHNldE9wdGltaXphdGlvbk1vZGUoZSl7aWYoXCJtb3Rpb25cIiE9PWUmJlwiZGV0YWlsXCIhPT1lJiZcImJhbGFuY2VkXCIhPT1lKXJldHVybiB2b2lkIFdDLmVycm9yKHhnLklOVkFMSURfUEFSQU1TLFwib3B0aW1pemF0aW9uIG1vZGUgbXVzdCBiZSBtb3Rpb24sIGRldGFpbCBvciBiYWxhbmNlZFwiKTtjb25zdCB0PXRoaXMuX29wdGltaXphdGlvbk1vZGU7dHJ5e3RoaXMuX29wdGltaXphdGlvbk1vZGU9ZSxhd2FpdCBnUyh0aGlzLE55LlNFVF9PUFRJTUlaQVRJT05fTU9ERSx0aGlzKX1jYXRjaChlKXt0aHJvdyB0aGlzLl9vcHRpbWl6YXRpb25Nb2RlPXQsV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXQgb3B0aW1pemF0aW9uIG1vZGUgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSksZX1XQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IG9wdGltaXphdGlvbiBtb2RlIHN1Y2Nlc3MgKFwiKS5jb25jYXQoZSxcIilcIikpfXNldFNjYWxhYmlsdHlNb2RlKGUpe2lmKDE9PT1lLm51bVNwYXRpYWxMYXllcnMmJjEhPT1lLm51bVRlbXBvcmFsTGF5ZXJzKXJldHVybiBXQy5lcnJvcih4Zy5JTlZBTElEX1BBUkFNUyxcInNjYWxhYmlsaXR5IG1vZGUgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQsIG5vIFNWQy5cIiksdm9pZCh0aGlzLl9zY2FsYWJpbGl0eU1vZGU9e251bVNwYXRpYWxMYXllcnM6MSxudW1UZW1wb3JhbExheWVyczoxfSk7dGhpcy5fc2NhbGFiaWxpdHlNb2RlPWUsV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldCBzY2FsYWJpbGl0eSBtb2RlIHN1Y2Nlc3MgKFwiKS5jb25jYXQoZSxcIilcIikpfXVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCl7dWIodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaykudGhlbigoZT0+e2xldFt0LGldPWU7dGhpcy5fdmlkZW9IZWlnaHQ9aSx0aGlzLl92aWRlb1dpZHRoPXR9KSkuY2F0Y2goRlMpfV91cGRhdGVQbGF5ZXJTb3VyY2UoKXt0aGlzLl9wbGF5ZXImJnRoaXMuX3BsYXllci51cGRhdGVWaWRlb1RyYWNrKHRoaXMuX21lZGlhU3RyZWFtVHJhY2spfV9nZXREZWZhdWx0UGxheWVyQ29uZmlnKCl7cmV0dXJue2ZpdDpcImNvbnRhaW5cIn19dXBkYXRlQml0cmF0ZUZyb21Qcm9maWxlKCl7aWYoIXRoaXMuX2VuY29kZXJDb25maWcpcmV0dXJuO2NvbnN0e3dpZHRoOmUsaGVpZ2h0OnQsZnJhbWVSYXRlOml9PXRoaXMuZ2V0TWVkaWFTdHJlYW1UcmFja1NldHRpbmdzKCk7aWYoIWV8fCF0fHwhaSlyZXR1cm47Y29uc3RbbixyXT1mdW5jdGlvbihlLHQsaSxuKXtsZXQgcjtjb25zdCBzPTIwMCpNYXRoLnBvdyhpLzE1LC42KSpNYXRoLnBvdyhlKnQvNjQwLzM2MCwuNzUpLG89cztpZihcIlNUQU5EQVJEX0JJVFJBVEVcIj09PW4pcj00KnM7ZWxzZXtpZihcIkNPTVBBVElBQkxFX0JJVFJBVEVcIiE9PW4pcmV0dXJuO3I9MipzfXJldHVybltNYXRoLmZsb29yKHIpLE1hdGguZmxvb3IobyldfShlLHQsaSxrQyhcIkJJVFJBVEVfQURBUFRFUl9UWVBFXCIpKXx8W3ZvaWQgMCx2b2lkIDBdO3RoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1pbnx8dGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4fHwodGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWluPXIsdGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4PW4sV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB1cGRhdGUgYml0cmF0ZSBmcm9tIHByb2ZpbGUsIFt3OiBcIikuY29uY2F0KGUsXCIsIGg6IFwiKS5jb25jYXQodCxcIiwgZnBzOiBcIikuY29uY2F0KGksXCJdID0+IFtick1heDogXCIpLmNvbmNhdChuLFwiLCBick1pbjogXCIpLmNvbmNhdChyLFwiXVwiKSkpfWdldFZpZGVvRWxlbWVudFZpc2libGVTdGF0dXMoKXt0cnl7dmFyIGUsdDtjb25zdCBpPW51bGw9PXRoaXN8fG51bGw9PT0oZT10aGlzLl9wbGF5ZXIpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldENvbnRhaW5lckVsZW1lbnQoKSxuPXt0cmFjazp0aGlzLGVsZW1lbnQ6bnVsbD09dGhpc3x8bnVsbD09PSh0PXRoaXMuX3BsYXllcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0VmlkZW9FbGVtZW50KCksc2xvdDpudWxsPT1pP3ZvaWQgMDppLnBhcmVudEVsZW1lbnR9LHtlbGVtZW50OnIsc2xvdDpzfT1uO2lmKHRoaXMuaXNQbGF5aW5nJiZyIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCYmcyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KXtjb25zdCBlPVFnLmNoZWNrT25lRWxlbWVudFZpc2libGUociksdD1PYmplY3QuYXNzaWduKHt9LGUpO2lmKHQudmlzaWJsZSE9PXRoaXMuX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzKXt0aGlzLl9wcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cz10LnZpc2libGU7Y29uc3QgZT1pdi5yZXBvcnRBcGlJbnZva2UobnVsbCx7dGFnOm9TLlRSQUNFUixuYW1lOnNTLkxPQ0FMX1ZJREVPX1RSQUNLX0dFVF9WSURFT19WSVNJQkxFLG9wdGlvbnM6W3RoaXMuZ2V0VHJhY2tJZCgpXX0pO3QudmlzaWJsZT9lLm9uU3VjY2VzcyhcIlZpZGVvIGlzIHZpc2libGVcIik6ZS5vblN1Y2Nlc3MoXCJJbnZpc2libGUgYmVjYXVzZSBvZiBcIi5jb25jYXQodC5yZWFzb24pKX1yZXR1cm4gdH1yZXR1cm59Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkdFVF9WSURFT19FTEVNRU5UX1ZJU0lCTEVfRVJST1IsZS5tZXNzYWdlKX19YXN5bmMgcmVuZXdNZWRpYVN0cmVhbVRyYWNrKGUpe31waXBlKGUpe2lmKHRoaXMucHJvY2Vzc29yPT09ZSlyZXR1cm4gZTtpZihlLl9zb3VyY2UpdGhyb3cgbmV3IFZnKHhnLklOVkFMSURfT1BFUkFUSU9OLFwiUHJvY2Vzc29yIFwiLmNvbmNhdChlLm5hbWUsXCIgYWxyZWFkeSBwaXBlZCwgcGxlYXNlIGNhbGwgdW5waXBlIGJlZm9yZWhhbmQuXCIpKTtyZXR1cm4gdGhpcy51bnBpcGUoKSx0aGlzLnByb2Nlc3Nvcj1lLHRoaXMucHJvY2Vzc29yLl9zb3VyY2U9dGhpcyxlLnVwZGF0ZUlucHV0KHt0cmFjazp0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLGNvbnRleHQ6dGhpcy5wcm9jZXNzb3JDb250ZXh0fSksZX11bnBpcGUoKXtpZighdGhpcy5wcm9jZXNzb3IpcmV0dXJuO2NvbnN0IGU9dGhpcy5wcm9jZXNzb3I7dGhpcy5wcm9jZXNzb3IuX3NvdXJjZT12b2lkIDAsdGhpcy5wcm9jZXNzb3I9dm9pZCAwLGUucmVzZXQoKX1jbG9zZSgpe3N1cGVyLmNsb3NlKCksdGhpcy51bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpLHRoaXMudW5iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cygpLHRoaXMudW5waXBlKCksdGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5fc291cmNlJiZ0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLl9zb3VyY2UudW5waXBlKCl9Y2xvbmUoZSl7bGV0IHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxpPXRoaXMuX2VuY29kZXJDb25maWc7ZSYmKGk9bWIobWIoe30saSksdnkoZSkpKSxpPXdTKGkpO2NvbnN0IG49eFMoOCxcInRyYWNrLXZpZGVvLWNsb25lZC1cIikscj1uZXcgZmIodD90aGlzLl9tZWRpYVN0cmVhbVRyYWNrLmNsb25lKCk6dGhpcy5fbWVkaWFTdHJlYW1UcmFjayxpLHdTKHRoaXMuX3NjYWxhYmlsaXR5TW9kZSksdGhpcy5fb3B0aW1pemF0aW9uTW9kZSxuLHdTKHRoaXMuX2hpbnRzKSk7cmV0dXJuIGUmJmkmJnIuc2V0RW5jb2RlckNvbmZpZ3VyYXRpb24oaSksV0MuZGVidWcoXCJjbG9uZSB2aWRlbyB0cmFjayBmcm9tIFwiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIiB0byBcIikuY29uY2F0KG4sXCIsIGNsb25lIFwiKS5jb25jYXQodCkpLHJ9YXN5bmMgcmVwbGFjZVRyYWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgTWVkaWFTdHJlYW1UcmFjaykpdGhyb3cgbmV3IFZnKHhnLklOVkFMSURfUEFSQU1TLFwidHJhY2sgc2hvdWxkIGJlIGFuIGluc3RhbmNlIG9mIE1lZGlhU3RyZWFtVHJhY2tcIik7aWYoXCJ2aWRlb1wiIT09ZS5raW5kKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX1BBUkFNUyxcInRyYWNrIHNob3VsZCBiZSBhIHZpZGVvIE1lZGlhU3RyZWFtVHJhY2tcIik7YXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlLHQsITApLHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKX1iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKXt0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLm9uKEt5Lk9OX1RSQUNLLChhc3luYyBlPT57ZT9lIT09dGhpcy5fbWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9ZSx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoKSxhd2FpdCBnUyh0aGlzLE55Lk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzKSk6dGhpcy5fbWVkaWFTdHJlYW1UcmFjayE9PXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCksYXdhaXQgZ1ModGhpcyxOeS5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykpfSkpfXVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5yZW1vdmVBbGxMaXN0ZW5lcnMoS3kuT05fVFJBQ0spfXVuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKXt0aGlzLnByb2Nlc3NvckNvbnRleHQucmVtb3ZlQWxsTGlzdGVuZXJzKFl5LlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTKSx0aGlzLnByb2Nlc3NvckNvbnRleHQucmVtb3ZlQWxsTGlzdGVuZXJzKFl5LlJFUVVFU1RfQ09OU1RSQUlOVFMpfX1MdihbdHYoe2FyZ3NNYXA6KGUsdCxpKT0+W2UuZ2V0VHJhY2tJZCgpLFwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/XCJIVE1MVmlkZW9FbGVtZW50XCI6XCJIVE1MRWxlbWVudFwiLGldfSksTUEoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0LE9iamVjdF0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxmYi5wcm90b3R5cGUsXCJwbGF5XCIsbnVsbCksTHYoW3R2KHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLGZiLnByb3RvdHlwZSxcInN0b3BcIixudWxsKSxMdihbcVMoXCJMb2NhbFZpZGVvVHJhY2tcIixcIl9lbmFibGVkTXV0ZXhcIiksdHYoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0XX0pLE1BKCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0Jvb2xlYW4sQm9vbGVhbl0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGZiLnByb3RvdHlwZSxcInNldEVuYWJsZWRcIixudWxsKSxMdihbcVMoXCJMb2NhbFZpZGVvVHJhY2tcIixcIl9lbmFibGVkTXV0ZXhcIiksdHYoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0XX0pLE1BKCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0Jvb2xlYW5dKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxmYi5wcm90b3R5cGUsXCJzZXRNdXRlZFwiLG51bGwpLEx2KFt0dih7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksTUEoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0LEJvb2xlYW5dKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxmYi5wcm90b3R5cGUsXCJzZXRFbmNvZGVyQ29uZmlndXJhdGlvblwiLG51bGwpLEx2KFtNQSgpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsT2JqZWN0KV0sZmIucHJvdG90eXBlLFwiZ2V0U3RhdHNcIixudWxsKSxMdihbdHYoe2FyZ3NNYXA6KGUsdCxpKT0+W2UuZ2V0VHJhY2tJZCgpLHQsaV19KSxNQSgpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtCb29sZWFuLE9iamVjdF0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGZiLnByb3RvdHlwZSxcInNldEJlYXV0eUVmZmVjdFwiLG51bGwpLEx2KFtNQSgpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsSW1hZ2VEYXRhKV0sZmIucHJvdG90eXBlLFwiZ2V0Q3VycmVudEZyYW1lRGF0YVwiLG51bGwpLEx2KFtNQSgpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmcsTnVtYmVyXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sZmIucHJvdG90eXBlLFwiZ2V0Q3VycmVudEZyYW1lSW1hZ2VcIixudWxsKSxMdihbTUEoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sZmIucHJvdG90eXBlLFwic2V0Qml0cmF0ZUxpbWl0XCIsbnVsbCksTHYoW01BKCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGZiLnByb3RvdHlwZSxcInNldE9wdGltaXphdGlvbk1vZGVcIixudWxsKSxMdihbTUEoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLGZiLnByb3RvdHlwZSxcInNldFNjYWxhYmlsdHlNb2RlXCIsbnVsbCksTHYoW01BKCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxmYi5wcm90b3R5cGUsXCJ1cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvblwiLG51bGwpLEx2KFt0dih7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHQubmFtZV19KSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLE9iamVjdCldLGZiLnByb3RvdHlwZSxcInBpcGVcIixudWxsKSxMdihbdHYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sZmIucHJvdG90eXBlLFwidW5waXBlXCIsbnVsbCksTHYoW3R2KHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLGZiLnByb3RvdHlwZSxcImNsb3NlXCIsbnVsbCksTHYoW3R2KHthcmdzTWFwOihlLHQsaSk9PltlLmdldFRyYWNrSWQoKSx0LmxhYmVsLGldfSksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW01lZGlhU3RyZWFtVHJhY2ssQm9vbGVhbl0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGZiLnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiLG51bGwpO2NsYXNzIGdiIGV4dGVuZHMgZmJ7Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm5cIkNhbWVyYVZpZGVvVHJhY2tcIn1jb25zdHJ1Y3RvcihlLHQsaSxuLHIscyl7c3VwZXIoZSx2eSh0LmVuY29kZXJDb25maWcpLG4scixzKSxudSh0aGlzLFwiX2NvbmZpZ1wiLHZvaWQgMCksbnUodGhpcyxcIl9vcmlnaW5hbENvbnN0cmFpbnRzXCIsdm9pZCAwKSxudSh0aGlzLFwiX2NvbnN0cmFpbnRzXCIsdm9pZCAwKSxudSh0aGlzLFwiX2VuYWJsZWRcIiwhMCksbnUodGhpcyxcIl9kZXZpY2VOYW1lXCIsXCJkZWZhdWx0XCIpLG51KHRoaXMsXCJ0cnlSZXN1bWVWaWRlb0ZvcklPUzE1XzE2V2VDaGF0XCIsKGFzeW5jKCk9Pnsod2coKXx8T2coKSkmJiFmdW5jdGlvbigpe2NvbnN0IGU9cGcoKTtpZihlLm9zIT09YWcuSU9TfHwhZS5vc1ZlcnNpb24pcmV0dXJuITE7Y29uc3QgdD1lLm9zVmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIDE1PT09TnVtYmVyKHRbMF0pJiZOdW1iZXIodFsxXSk+PTJ9KCkmJlBnKCkmJnRoaXMuX2VuYWJsZWQmJiF0aGlzLl9pc0Nsb3NlZCYmKFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJ5IGNhcHR1cmUgY2FtZXJhIG1lZGlhIGRldmljZSBmb3IgaW50ZXJydXB0ZWQgaU9TIDE1IGRldmljZSBvbiBXZUNoYXQuXCIpKSxhd2FpdCB0aGlzLnJlbmV3TWVkaWFTdHJlYW1UcmFjaygpKX0pKSx0aGlzLl9jb25maWc9dCx0aGlzLl9vcmlnaW5hbENvbnN0cmFpbnRzPWksdGhpcy5fY29uc3RyYWludHM9aSx0aGlzLl9kZXZpY2VOYW1lPWUubGFiZWwsdGhpcy5fZW5jb2RlckNvbmZpZz12eSh0aGlzLl9jb25maWcuZW5jb2RlckNvbmZpZyksbkEub24obHkuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9FTkQsdGhpcy50cnlSZXN1bWVWaWRlb0ZvcklPUzE1XzE2V2VDaGF0KSxuQS5vbihseS5JT1NfSU5URVJSVVBUSU9OX0VORCx0aGlzLnRyeVJlc3VtZVZpZGVvRm9ySU9TMTVfMTZXZUNoYXQpLHRoaXMuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKX1hc3luYyBzZXREZXZpY2UoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5fc2V0RGV2aWNlQnlJZChlKTplLmRldmljZUlkP3RoaXMuX3NldERldmljZUJ5SWQoZS5kZXZpY2VJZCk6ZS5mYWNpbmdNb2RlP3RoaXMuX3NldERldmljZUJ5RmFjaW5nTW9kZWwoZS5mYWNpbmdNb2RlKTp2b2lkIDB9YXN5bmMgX3NldERldmljZUJ5SWQoZSl7aWYoV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldCBkZXZpY2UgdG8gXCIpLmNvbmNhdChlKSksdGhpcy5fZW5hYmxlZCl0cnl7Y29uc3QgdD1hd2FpdCBBQS5nZXREZXZpY2VCeUlkKGUpLGk9e307aS52aWRlbz1tYih7fSx0aGlzLl9jb25zdHJhaW50cyksaS52aWRlby5kZXZpY2VJZD17ZXhhY3Q6ZX0saS52aWRlby5mYWNpbmdNb2RlPXZvaWQgMCx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKTtsZXQgbj1udWxsO3RyeXtuPWF3YWl0IENBKGksdGhpcy5nZXRUcmFja0lkKCkpfWNhdGNoKGUpe3Rocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpLG49YXdhaXQgQ0Eoe3ZpZGVvOnRoaXMuX2NvbnN0cmFpbnRzfSx0aGlzLmdldFRyYWNrSWQoKSksYXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhuLmdldFZpZGVvVHJhY2tzKClbMF0sITEpLGV9YXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhuLmdldFZpZGVvVHJhY2tzKClbMF0sITEpLHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKSx0aGlzLl9kZXZpY2VOYW1lPXQubGFiZWwsdGhpcy5fY29uZmlnLmNhbWVyYUlkPWUsdGhpcy5fY29uc3RyYWludHMuZGV2aWNlSWQ9e2V4YWN0OmV9fWNhdGNoKGUpe3Rocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1lbHNlIHRyeXtjb25zdCB0PWF3YWl0IEFBLmdldERldmljZUJ5SWQoZSk7dGhpcy5fZGV2aWNlTmFtZT10LmxhYmVsLHRoaXMuX2NvbmZpZy5jYW1lcmFJZD1lLHRoaXMuX2NvbnN0cmFpbnRzLmRldmljZUlkPXtleGFjdDplfX1jYXRjaChlKXt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9V0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZSBzdWNjZXNzXCIpKX1hc3luYyBfc2V0RGV2aWNlQnlGYWNpbmdNb2RlbChlKXtXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IGZhY2luZ01vZGUgXCIpLmNvbmNhdChlKSk7Y29uc3QgdD17dmlkZW86bWIobWIoe30sdGhpcy5fY29uc3RyYWludHMpLHt9LHtkZXZpY2VJZDp2b2lkIDAsZmFjaW5nTW9kZTp7ZXhhY3Q6ZX19KX07aWYodGhpcy5fZW5hYmxlZCl7dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCk7bGV0IGU9bnVsbDt0cnl7ZT1hd2FpdCBDQSh0LHRoaXMuZ2V0VHJhY2tJZCgpKX1jYXRjaCh0KXt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZUJ5RmFjaW5nTW9kZWwgZmFpbGVkXCIpLHQudG9TdHJpbmcoKSksZT1hd2FpdCBDQSh7dmlkZW86dGhpcy5fY29uc3RyYWludHN9LHRoaXMuZ2V0VHJhY2tJZCgpKSxhd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGUuZ2V0VmlkZW9UcmFja3MoKVswXSwhMSksdH1hd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGUuZ2V0VmlkZW9UcmFja3MoKVswXSwhMSksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpfXRoaXMuX2RldmljZU5hbWU9XCJcIix0aGlzLl9jb25maWcuZmFjaW5nTW9kZT1lLHRoaXMuX2NvbmZpZy5jYW1lcmFJZD12b2lkIDAsdGhpcy5fY29uc3RyYWludHM9bWIoe30sdC52aWRlbyksV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldERldmljZUJ5RmFjaW5nTW9kZWwgc3VjY2Vzc1wiKSl9YXN5bmMgc2V0RW5hYmxlZChlLHQpe2lmKCF0KXtpZihlPT09dGhpcy5fZW5hYmxlZClyZXR1cm47dGhpcy5zdGF0ZUNoZWNrKFwiZW5hYmxlZFwiLGUpfWlmKFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBzZXRFbmFibGVkXCIpLGUpLGUpe3RyeXtpZih0aGlzLmlzRXh0ZXJuYWxUcmFjayl0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITA7ZWxzZXtjb25zdCBlPWF3YWl0IENBKHt2aWRlbzp0aGlzLl9jb25zdHJhaW50c30sdGhpcy5nZXRUcmFja0lkKCkpO2F3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZS5nZXRWaWRlb1RyYWNrcygpWzBdLCExKX1hd2FpdCBnUyh0aGlzLE55Lk5FRURfRU5BQkxFX1RSQUNLLHRoaXMpfWNhdGNoKGUpe3Rocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0cnVlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX10aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCksV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gdHJ1ZSBzdWNjZXNzXCIpKSx0fHwodGhpcy5fZW5hYmxlZD0hMCl9ZWxzZXt0aGlzLmlzRXh0ZXJuYWxUcmFjaz90aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITE6KHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2sub25lbmRlZD1udWxsLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpKSx0fHwodGhpcy5fZW5hYmxlZD0hMSk7dHJ5e2F3YWl0IGdTKHRoaXMsTnkuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMpfWNhdGNoKGUpe3Rocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byBmYWxzZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9V0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gZmFsc2Ugc3VjY2Vzc1wiKSl9fWFzeW5jIHNldEVuY29kZXJDb25maWd1cmF0aW9uKGUsdCl7aWYoIXRoaXMuX2VuYWJsZWQpdGhyb3cgbmV3IFZnKHhnLlRSQUNLX0lTX0RJU0FCTEVELFwiY2FuIG5vdCBzZXQgZW5jb2RlciBjb25maWd1cmF0aW9uIHdoZW4gdHJhY2sgaXMgZGlzYWJsZWRcIik7ZT12eShlKSx0aGlzLl9mb3JjZUJpdHJhdGVMaW1pdCYmKGUuYml0cmF0ZU1heD10aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5tYXhfYml0cmF0ZT90aGlzLl9mb3JjZUJpdHJhdGVMaW1pdC5tYXhfYml0cmF0ZTplLmJpdHJhdGVNYXgsZS5iaXRyYXRlTWluPXRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1pbl9iaXRyYXRlP3RoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1pbl9iaXRyYXRlOmUuYml0cmF0ZU1pbik7Y29uc3QgaT1iUyh0aGlzLl9jb25maWcpO2kuZW5jb2RlckNvbmZpZz1lO2NvbnN0IG49JEEoaSk7KFRnKCl8fENnKCl8fERnKCkpJiYobi5kZXZpY2VJZD12b2lkIDApLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5jb2RlckNvbmZpZ3VyYXRpb24gYXBwbHlDb25zdHJhaW50c1wiKSxKU09OLnN0cmluZ2lmeShlKSxKU09OLnN0cmluZ2lmeShuKSk7dHJ5e2F3YWl0IHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suYXBwbHlDb25zdHJhaW50cyhuKSx0aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCl9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgVmcoeGcuVU5FWFBFQ1RFRF9FUlJPUixlLnRvU3RyaW5nKCkpO3Rocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gYXBwbHlDb25zdHJhaW50cyBlcnJvclwiKSx0LnRvU3RyaW5nKCkpLHR9dGhpcy5fY29uZmlnPWksdGhpcy5fY29uc3RyYWludHM9bix0aGlzLl9vcmlnaW5hbENvbnN0cmFpbnRzPW4sdGhpcy5fZW5jb2RlckNvbmZpZz1lLC0xPT09dGhpcy5faGludHMuaW5kZXhPZihEeS5TQ1JFRU5fVFJBQ0spJiZ0aGlzLnVwZGF0ZUJpdHJhdGVGcm9tUHJvZmlsZSgpO3RyeXthd2FpdCBnUyh0aGlzLE55Lk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcyl9Y2F0Y2goZSl7cmV0dXJuIGUudGhyb3coV0MpfX1fZ2V0RGVmYXVsdFBsYXllckNvbmZpZygpe3JldHVybnttaXJyb3I6ITAsZml0OlwiY292ZXJcIn19b25UcmFja0VuZGVkKCl7aWYoKENnKCl8fERnKCkpJiZ0aGlzLl9lbmFibGVkJiYhdGhpcy5faXNDbG9zZWQmJm5BLmR1cmluZ0ludGVycnVwdGlvbil7Y29uc3QgZT1hc3luYygpPT57bkEub2ZmKGx5LklPU19JTlRFUlJVUFRJT05fRU5ELGUpLHRoaXMuX2VuYWJsZWQmJiF0aGlzLl9pc0Nsb3NlZCYmKFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJ5IGNhcHR1cmUgY2FtZXJhIG1lZGlhIGRldmljZSBmb3IgaW50ZXJydXB0ZWQgaU9TIGRldmljZS5cIikpLGF3YWl0IHRoaXMuc2V0RW5hYmxlZCghMSksYXdhaXQgdGhpcy5zZXRFbmFibGVkKCEwKSl9O25BLm9uKGx5LklPU19JTlRFUlJVUFRJT05fRU5ELGUpfWVsc2UgV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB0cmFjayBlbmRlZFwiKSksdGhpcy5zYWZlRW1pdChVeS5UUkFDS19FTkRFRCl9YXN5bmMgcmVuZXdNZWRpYVN0cmVhbVRyYWNrKGUpe2NvbnN0IHQ9ZXx8dGhpcy5fY29uc3RyYWludHMsaT1BQS5zZWFyY2hEZXZpY2VJZEJ5TmFtZSh0aGlzLl9kZXZpY2VOYW1lKTtpZihpJiYhdC5kZXZpY2VJZCYmKHQuZGV2aWNlSWQ9e2V4YWN0Oml9KSx0aGlzLl9lbmFibGVkKXtjb25zdCBlPWF3YWl0IENBKHt2aWRlbzp0fSx0aGlzLmdldFRyYWNrSWQoKSk7dGhpcy5fY29uc3RyYWludHM9dCxhd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGUuZ2V0VmlkZW9UcmFja3MoKVswXSwhMCksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpfX1jbG9zZSgpe3N1cGVyLmNsb3NlKCksbkEub2ZmKGx5LklPU18xNV8xNl9JTlRFUlJVUFRJT05fRU5ELHRoaXMudHJ5UmVzdW1lVmlkZW9Gb3JJT1MxNV8xNldlQ2hhdCksbkEub2ZmKGx5LklPU19JTlRFUlJVUFRJT05fRU5ELHRoaXMudHJ5UmVzdW1lVmlkZW9Gb3JJT1MxNV8xNldlQ2hhdCl9Y2xvbmUoZSl7bGV0IHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxpPXRoaXMuX2VuY29kZXJDb25maWc7ZSYmKGk9bWIobWIoe30saSksdnkoZSkpKSxpPXdTKGkpO2NvbnN0IG49eFMoOCxcInRyYWNrLWNhbS1jbG9uZWQtXCIpLHI9bmV3IGdiKHQ/dGhpcy5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpOnRoaXMuX21lZGlhU3RyZWFtVHJhY2ssd1MobWIobWIoe30sdGhpcy5fY29uZmlnKSx7fSx7ZW5jb2RlckNvbmZpZzppfSkpLHdTKHRoaXMuX2NvbnN0cmFpbnRzKSx3Uyh0aGlzLl9zY2FsYWJpbGl0eU1vZGUpLHRoaXMuX29wdGltaXphdGlvbk1vZGUsbik7cmV0dXJuIGUmJmkmJnIuc2V0RW5jb2RlckNvbmZpZ3VyYXRpb24oaSksV0MuZGVidWcoXCJjbG9uZSB0cmFjayBmcm9tIFwiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIiB0byBcIikuY29uY2F0KG4sXCIsIGNsb25lIFwiKS5jb25jYXQodCkpLHJ9YmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKXt0aGlzLnByb2Nlc3NvckNvbnRleHQub24oWXkuUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMsKGFzeW5jKGUsdCxpKT0+e3RyeXtjb25zdCBpPU9iamVjdC5hc3NpZ24oe30sdGhpcy5fb3JpZ2luYWxDb25zdHJhaW50cywuLi5lKTthd2FpdCB0aGlzLnJlbmV3TWVkaWFTdHJlYW1UcmFjayhpKSx0KCl9Y2F0Y2goZSl7aShlKX19KSksdGhpcy5wcm9jZXNzb3JDb250ZXh0Lm9uKFl5LlJFUVVFU1RfQ09OU1RSQUlOVFMsKGFzeW5jIGU9PntlKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZ2V0U2V0dGluZ3MoKSl9KSl9fWZ1bmN0aW9uIFNiKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBUYihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9TYihPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpTYihPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBSYihlLHQsaSxuKXtpLm9wdGltaXphdGlvbk1vZGUmJihuJiZuLndpZHRoJiZuLmhlaWdodD8oaS5lbmNvZGVyQ29uZmlnPVRiKFRiKHt9LG4pLHt9LHtiaXRyYXRlTWluOm4uYml0cmF0ZU1pbixiaXRyYXRlTWF4Om4uYml0cmF0ZU1heH0pLFwibW90aW9uXCIhPT1pLm9wdGltaXphdGlvbk1vZGUmJlwiZGV0YWlsXCIhPT1pLm9wdGltaXphdGlvbk1vZGV8fCh0LmNvbnRlbnRIaW50PWkub3B0aW1pemF0aW9uTW9kZSx0LmNvbnRlbnRIaW50PT09aS5vcHRpbWl6YXRpb25Nb2RlP1dDLmRlYnVnKFwiW1wiLmNvbmNhdChlLFwiXSBzZXQgY29udGVudCBoaW50IHRvXCIpLGkub3B0aW1pemF0aW9uTW9kZSk6V0MuZGVidWcoXCJbXCIuY29uY2F0KGUsXCJdIHNldCBjb250ZW50IGhpbnQgZmFpbGVkXCIpKSkpOldDLndhcm5pbmcoXCJbXCIuY29uY2F0KGUsXCJdIGNhbiBub3QgYXBwbHkgb3B0aW1pemF0aW9uIG1vZGUgYml0cmF0ZSBjb25maWcsIG5vIGVuY29kZXJDb25maWdcIikpKX1mdW5jdGlvbiBDYihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gdmIoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/Q2IoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6Q2IoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9THYoW3R2KHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSxNQSgpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxnYi5wcm90b3R5cGUsXCJzZXREZXZpY2VcIixudWxsKSxMdihbcVMoXCJDYW1lcmFWaWRlb1RyYWNrXCIsXCJfZW5hYmxlZE11dGV4XCIpLHR2KHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSxNQSgpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtCb29sZWFuLEJvb2xlYW5dKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxnYi5wcm90b3R5cGUsXCJzZXRFbmFibGVkXCIsbnVsbCksTHYoW3R2KHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSxNQSgpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsQm9vbGVhbl0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGdiLnByb3RvdHlwZSxcInNldEVuY29kZXJDb25maWd1cmF0aW9uXCIsbnVsbCksTHYoW3R2KHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLGdiLnByb3RvdHlwZSxcImNsb3NlXCIsbnVsbCk7Y2xhc3MgSWIgZXh0ZW5kcyBaeXtnZXRVc2VySWQoKXtyZXR1cm4gdGhpcy5fdXNlcklkfWNvbnN0cnVjdG9yKGUsdCxpLG4pe3N1cGVyKGUsXCJ0cmFjay1cIi5jb25jYXQoZS5raW5kLFwiLVwiKS5jb25jYXQodCxcIi1cIikuY29uY2F0KG4uY2xpZW50SWQsXCJfXCIpLmNvbmNhdCh4Uyg1LFwiXCIpKSksbnUodGhpcyxcIl91c2VySWRcIix2b2lkIDApLG51KHRoaXMsXCJfdWludElkXCIsdm9pZCAwKSxudSh0aGlzLFwiX2lzRGVzdHJveWVkXCIsITEpLG51KHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksbnUodGhpcyxcInByb2Nlc3NvclwiLHZvaWQgMCksdGhpcy5fdXNlcklkPXQsdGhpcy5fdWludElkPWksdGhpcy5zdG9yZT1ufV91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGUpe3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9ZSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCksdGhpcy5wcm9jZXNzb3ImJnRoaXMucHJvY2Vzc29yLnVwZGF0ZUlucHV0KHt0cmFjazp0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLGNvbnRleHQ6dGhpcy5wcm9jZXNzb3JDb250ZXh0fSl9X2Rlc3Ryb3koKXt0aGlzLl9pc0Rlc3Ryb3llZD0hMCxXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gaXMgZGVzdHJveWVkXCIpKSx0aGlzLnN0b3AoKSxzdXBlci5jbG9zZSgpfWdldFByb2Nlc3NvclN0YXRzKCl7cmV0dXJuIHRoaXMucHJvY2Vzc29yQ29udGV4dC5nYXRoZXJTdGF0cygpfWdldFByb2Nlc3NvclVzYWdlKCl7cmV0dXJuIHRoaXMucHJvY2Vzc29yQ29udGV4dC5nYXRoZXJVc2FnZSgpfX1jbGFzcyB5YiBleHRlbmRzIElie2dldCBpc1BsYXlpbmcoKXtyZXR1cm4hKCF0aGlzLl9wbGF5ZXJ8fHRoaXMuX3BsYXllci52aWRlb0VsZW1lbnRTdGF0dXMhPT16eS5QTEFZSU5HKX1nZXQgX19jbGFzc05hbWVfXygpe3JldHVyblwiUmVtb3RlVmlkZW9UcmFja1wifWNvbnN0cnVjdG9yKGUsdCxpLG4pe3N1cGVyKGUsdCxpLG4pLG51KHRoaXMsXCJfdmlkZW9WaXNpYmxlVGltZXJcIixudWxsKSxudSh0aGlzLFwiX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzXCIsdm9pZCAwKSxudSh0aGlzLFwiX2NsZWFyUHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXNcIiwoKCk9PnRoaXMuX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzPXZvaWQgMCkpLG51KHRoaXMsXCJ0cmFja01lZGlhVHlwZVwiLFwidmlkZW9cIiksbnUodGhpcyxcIl92aWRlb1dpZHRoXCIsdm9pZCAwKSxudSh0aGlzLFwiX3ZpZGVvSGVpZ2h0XCIsdm9pZCAwKSxudSh0aGlzLFwiX3BsYXllclwiLHZvaWQgMCksbnUodGhpcyxcInByb2Nlc3NvckRlc3RpbmF0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwicHJvY2Vzc29yQ29udGV4dFwiLHZvaWQgMCksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpLHRoaXMucHJvY2Vzc29yQ29udGV4dD1uZXcgRkEodGhpcy5nZXRUcmFja0lkKCksXCJyZW1vdGVcIiksdGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbj1uZXcgVkEodGhpcy5wcm9jZXNzb3JDb250ZXh0KSx0aGlzLmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpfWdldFN0YXRzKCl7TlMoKCgpPT57V0Mud2FybmluZyhcIltkZXByZWNhdGVkXSBSZW1vdGVWaWRlb1RyYWNrLmdldFN0YXRzIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCB1c2UgQWdvcmFSVENDbGllbnQuZ2V0UmVtb3RlVmlkZW9TdGF0cyBpbnN0ZWFkXCIpfSksXCJyZW1vdGVWaWRlb1RyYWNrR2V0U3RhdHNXYXJuaW5nXCIpO3JldHVybiBTUyh0aGlzLE55LkdFVF9TVEFUUyl8fHZiKHt9LEh5KX1wbGF5KGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7Y29uc3QgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTt0P2U9dDooV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksJ10gY2FuIG5vdCBmaW5kIFwiIycpLmNvbmNhdChlLCdcIiBlbGVtZW50LCB1c2UgZG9jdW1lbnQuYm9keScpKSxlPWRvY3VtZW50LmJvZHkpfVdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgdmlkZW8gcGxheWJhY2sgaW4gXCIpLmNvbmNhdChlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD9cIkhUTUxWaWRlb0VsZW1lbnRcIjpcIkhUTUxFbGVtZW50XCIpLEpTT04uc3RyaW5naWZ5KHQpKTtjb25zdCBpPXZiKHZiKHtmaXQ6XCJjb3ZlclwifSx0KSx7fSx7dHJhY2tJZDp0aGlzLmdldFRyYWNrSWQoKSxlbGVtZW50OmV9KTt0aGlzLl9wbGF5ZXI/dGhpcy5fcGxheWVyLnVwZGF0ZUNvbmZpZyhpKTooZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/dGhpcy5fcGxheWVyPW5ldyBkYihpKTp0aGlzLl9wbGF5ZXI9bmV3IGhiKGkpLHRoaXMuX3BsYXllci51cGRhdGVWaWRlb1RyYWNrKHRoaXMuX21lZGlhU3RyZWFtVHJhY2spLHRoaXMuX3BsYXllci5vbkZpcnN0VmlkZW9GcmFtZURlY29kZWQ9KCk9Pnt0aGlzLnN0b3JlLnN1YnNjcmliZSh0aGlzLmdldFVzZXJJZCgpLFwidmlkZW9cIix2b2lkIDAsdm9pZCAwLERhdGUubm93KCkpLHRoaXMuc2FmZUVtaXQoeHkuRklSU1RfRlJBTUVfREVDT0RFRCl9KSx0aGlzLl9wbGF5ZXIucGxheSh0aGlzLnN0b3JlLnNlc3Npb25JZHx8dm9pZCAwKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fdmlkZW9WaXNpYmxlVGltZXIpLHRoaXMuX2NsZWFyUHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXMoKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dHJ5e2NvbnN0IGU9dGhpcy5nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzKCk7dGhpcy5zYWZlRW1pdCh4eS5WSURFT19FTEVNRU5UX1ZJU0lCTEVfU1RBVFVTLGUpfWNhdGNoKGUpe319KSxrQyhcIkNIRUNLX1ZJREVPX1ZJU0lCTEVfSU5URVJWQUxcIikpfXN0b3AoKXt0aGlzLl9wbGF5ZXImJih0aGlzLl92aWRlb1Zpc2libGVUaW1lciYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lcj1udWxsKSx0aGlzLl9jbGVhclByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzKCksdGhpcy5fcGxheWVyLmRlc3Ryb3koKSx0aGlzLl9wbGF5ZXI9dm9pZCAwLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RvcCB2aWRlbyBwbGF5YmFja1wiKSkpfWdldEN1cnJlbnRGcmFtZURhdGEoKXtyZXR1cm4gdGhpcy5fcGxheWVyP3RoaXMuX3BsYXllci5nZXRDdXJyZW50RnJhbWUoKTpuZXcgSW1hZ2VEYXRhKDIsMil9dXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKXt1Yih0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrKS50aGVuKChlPT57bGV0W3QsaV09ZTt0aGlzLl92aWRlb0hlaWdodD1pLHRoaXMuX3ZpZGVvV2lkdGg9dH0pKS5jYXRjaChGUyl9X3VwZGF0ZVBsYXllclNvdXJjZSgpe1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlIHBsYXllciBzb3VyY2UgdHJhY2tcIikpLHRoaXMuX3BsYXllciYmdGhpcy5fcGxheWVyLnVwZGF0ZVZpZGVvVHJhY2sodGhpcy5fbWVkaWFTdHJlYW1UcmFjayl9Z2V0VmlkZW9FbGVtZW50VmlzaWJsZVN0YXR1cygpe3RyeXt2YXIgZSx0O2NvbnN0IGk9bnVsbD09dGhpc3x8bnVsbD09PShlPXRoaXMuX3BsYXllcil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0Q29udGFpbmVyRWxlbWVudCgpLG49e3RyYWNrOnRoaXMsZWxlbWVudDpudWxsPT10aGlzfHxudWxsPT09KHQ9dGhpcy5fcGxheWVyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRWaWRlb0VsZW1lbnQoKSxzbG90Om51bGw9PWk/dm9pZCAwOmkucGFyZW50RWxlbWVudH0se2VsZW1lbnQ6cixzbG90OnN9PW47aWYodGhpcy5pc1BsYXlpbmcmJnIgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50JiZzIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpe2NvbnN0IGU9UWcuY2hlY2tPbmVFbGVtZW50VmlzaWJsZShyKSx0PU9iamVjdC5hc3NpZ24oe30sZSk7aWYodC52aXNpYmxlIT09dGhpcy5fcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXMpe3RoaXMuX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzPXQudmlzaWJsZTtjb25zdCBlPWl2LnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6b1MuVFJBQ0VSLG5hbWU6c1MuUkVNT1RFX1ZJREVPX1RSQUNLX0dFVF9WSURFT19WSVNJQkxFLG9wdGlvbnM6W3RoaXMuZ2V0VHJhY2tJZCgpXX0pO3QudmlzaWJsZT9lLm9uU3VjY2VzcyhcIlZpZGVvIGlzIHZpc2libGVcIik6ZS5vblN1Y2Nlc3MoXCJJbnZpc2libGUgYmVjYXVzZSBvZiBcIi5jb25jYXQodC5yZWFzb24pKX1yZXR1cm4gdH1yZXR1cm59Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkdFVF9WSURFT19FTEVNRU5UX1ZJU0lCTEVfRVJST1IsZS5tZXNzYWdlKX19cGlwZShlKXtpZih0aGlzLnByb2Nlc3Nvcj09PWUpcmV0dXJuIGU7aWYoZS5fc291cmNlKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX09QRVJBVElPTixcIlByb2Nlc3NvciBcIi5jb25jYXQoZS5uYW1lLFwiIGFscmVhZHkgcGlwZWQsIHBsZWFzZSBjYWxsIHVucGlwZSBiZWZvcmVoYW5kLlwiKSk7cmV0dXJuIHRoaXMudW5waXBlKCksdGhpcy5wcm9jZXNzb3I9ZSx0aGlzLnByb2Nlc3Nvci5fc291cmNlPXRoaXMsZS51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pLGV9dW5waXBlKCl7aWYoIXRoaXMucHJvY2Vzc29yKXJldHVybjtjb25zdCBlPXRoaXMucHJvY2Vzc29yO3RoaXMucHJvY2Vzc29yLl9zb3VyY2U9dm9pZCAwLHRoaXMucHJvY2Vzc29yPXZvaWQgMCxlLnJlc2V0KCl9YmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5vbihLeS5PTl9UUkFDSywoYXN5bmMgZT0+e2U/ZSE9PXRoaXMuX21lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCkpOnRoaXMuX21lZGlhU3RyZWFtVHJhY2shPT10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpKX0pKX11bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpe3RoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ucmVtb3ZlQWxsTGlzdGVuZXJzKEt5Lk9OX1RSQUNLKX1fZGVzdHJveSgpe3N1cGVyLl9kZXN0cm95KCksdGhpcy51bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpfX1MdihbdHYoe2FyZ3NNYXA6KGUsdCxpKT0+W2UuZ2V0VHJhY2tJZCgpLFwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ/XCJIVE1MVmlkZW9FbGVtZW50XCI6XCJIVE1MRWxlbWVudFwiLGldfSksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdCxPYmplY3RdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0seWIucHJvdG90eXBlLFwicGxheVwiLG51bGwpLEx2KFt0dih7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSx5Yi5wcm90b3R5cGUsXCJzdG9wXCIsbnVsbCksTHYoW3R2KHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdC5uYW1lXX0pLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsT2JqZWN0KV0seWIucHJvdG90eXBlLFwicGlwZVwiLG51bGwpLEx2KFt0dih7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSx5Yi5wcm90b3R5cGUsXCJ1bnBpcGVcIixudWxsKTtjbGFzcyBBYiBleHRlbmRzIElie2dldCBpc1BsYXlpbmcoKXtyZXR1cm4gdGhpcy5fdXNlQXVkaW9FbGVtZW50P2tBLmlzUGxheWluZyh0aGlzLmdldFRyYWNrSWQoKSk6dGhpcy5fc291cmNlLmlzUGxheWVkfWdldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuXCJSZW1vdGVBdWRpb1RyYWNrXCJ9Y29uc3RydWN0b3IoZSx0LGksbil7c3VwZXIoZSx0LGksbiksbnUodGhpcyxcInRyYWNrTWVkaWFUeXBlXCIsXCJhdWRpb1wiKSxudSh0aGlzLFwiX3NvdXJjZVwiLHZvaWQgMCksbnUodGhpcyxcIl91c2VBdWRpb0VsZW1lbnRcIiwhMCksbnUodGhpcyxcIl92b2x1bWVcIiwxMDApLG51KHRoaXMsXCJwcm9jZXNzb3JDb250ZXh0XCIsdm9pZCAwKSxudSh0aGlzLFwicHJvY2Vzc29yRGVzdGluYXRpb25cIix2b2lkIDApLG51KHRoaXMsXCJfcGxheWVkXCIsITEpLG51KHRoaXMsXCJfYnlwYXNzV2ViQXVkaW9cIiwhMSksa0MoXCJESVNBQkxFX1dFQkFVRElPXCIpPyh0aGlzLl9zb3VyY2U9bmV3IEdBLHRoaXMuX2J5cGFzc1dlYkF1ZGlvPSEwLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD0hMCk6KHRoaXMuX3NvdXJjZT1uZXcgX0EoZSwhMCksa0MoXCJSRU1PVEVfQVVESU9fVFJBQ0tfVVNFU19XRUJfQVVESU9cIikmJih0aGlzLl91c2VBdWRpb0VsZW1lbnQ9ITEpKSx0aGlzLl9zb3VyY2Uub25jZShWeS5SRUNFSVZFX1RSQUNLX0JVRkZFUiwoKCk9Pnt0aGlzLnNhZmVFbWl0KHh5LkZJUlNUX0ZSQU1FX0RFQ09ERUQpfSkpLHRoaXMucHJvY2Vzc29yQ29udGV4dD1uZXcgakEodGhpcy5fc291cmNlLmNvbnRleHQsdGhpcy5nZXRUcmFja0lkKCksXCJyZW1vdGVcIiksdGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbj1uZXcgQkEodGhpcy5wcm9jZXNzb3JDb250ZXh0KSx0aGlzLmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpLHRoaXMuX3NvdXJjZS5vbihWeS5VUERBVEVfU09VUkNFLCgoKT0+e3RoaXMucHJvY2Vzc29yJiZ0aGlzLnByb2Nlc3Nvci51cGRhdGVJbnB1dCh7bm9kZTp0aGlzLl9zb3VyY2UucHJvY2Vzc1NvdXJjZU5vZGUsY29udGV4dDp0aGlzLnByb2Nlc3NvckNvbnRleHR9KX0pKX1zZXRBdWRpb0ZyYW1lQ2FsbGJhY2soZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjQwOTY7aWYoIWUpcmV0dXJuIHRoaXMuX3NvdXJjZS5yZW1vdmVBbGxMaXN0ZW5lcnMoVnkuT05fQVVESU9fQlVGRkVSKSx2b2lkIHRoaXMuX3NvdXJjZS5zdG9wR2V0QXVkaW9CdWZmZXIoKTt0aGlzLl9zb3VyY2Uuc3RhcnRHZXRBdWRpb0J1ZmZlcih0KSx0aGlzLl9zb3VyY2UucmVtb3ZlQWxsTGlzdGVuZXJzKFZ5Lk9OX0FVRElPX0JVRkZFUiksdGhpcy5fc291cmNlLm9uKFZ5Lk9OX0FVRElPX0JVRkZFUiwodD0+ZSh0KSkpfXNldFZvbHVtZShlKXt0aGlzLl92b2x1bWU9ZSx0aGlzLl91c2VBdWRpb0VsZW1lbnQ/a0Euc2V0Vm9sdW1lKHRoaXMuZ2V0VHJhY2tJZCgpLGUpOnRoaXMuX3NvdXJjZS5zZXRWb2x1bWUoZS8xMDApfWFzeW5jIHNldFBsYXliYWNrRGV2aWNlKGUpe2lmKCF0aGlzLl91c2VBdWRpb0VsZW1lbnQpdGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJ5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzZXR0aW5nIHRoZSBhdWRpbyBvdXRwdXQgZGV2aWNlXCIpO2F3YWl0IGtBLnNldFNpbmtJRCh0aGlzLmdldFRyYWNrSWQoKSxlKX1nZXRWb2x1bWVMZXZlbCgpe3JldHVybiB0aGlzLl9zb3VyY2UuZ2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpfWdldFN0YXRzKCl7TlMoKCgpPT57V0Mud2FybmluZyhcIltkZXByZWNhdGVkXSBSZW1vdGVBdWRpb1RyYWNrLmdldFN0YXRzIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCB1c2UgQWdvcmFSVENDbGllbnQuZ2V0UmVtb3RlQXVkaW9TdGF0cyBpbnN0ZWFkXCIpfSksXCJyZW1vdGVBdWRpb1RyYWNrR2V0U3RhdHNXYXJuaW5nXCIpO3JldHVybiBTUyh0aGlzLE55LkdFVF9TVEFUUyl8fHZiKHt9LEd5KX1wbGF5KCl7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBhdWRpbyBwbGF5YmFja1wiKSksdGhpcy5fcGxheWVkPSEwLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD8oV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB1c2UgYXVkaW8gZWxlbWVudCB0byBwbGF5XCIpKSxrQS5wbGF5KHRoaXMuX21lZGlhU3RyZWFtVHJhY2ssdGhpcy5nZXRUcmFja0lkKCksdGhpcy5fdm9sdW1lLHRoaXMuc3RvcmUuc2Vzc2lvbklkfHx2b2lkIDApKTp0aGlzLl9zb3VyY2UucGxheSgpfXN0b3AoKXtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0b3AgYXVkaW8gcGxheWJhY2tcIikpLHRoaXMuX3BsYXllZD0hMSx0aGlzLl91c2VBdWRpb0VsZW1lbnQ/a0Euc3RvcCh0aGlzLmdldFRyYWNrSWQoKSk6dGhpcy5fc291cmNlLnN0b3AoKX1fZGVzdHJveSgpe3N1cGVyLl9kZXN0cm95KCksdGhpcy5fcGxheWVkPSExLHRoaXMudW5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKSx0aGlzLl9zb3VyY2UuZGVzdHJveSgpfV9pc0ZyZWV6ZSgpe3JldHVybiB0aGlzLl9zb3VyY2UuaXNGcmVlemV9X3VwZGF0ZVBsYXllclNvdXJjZSgpe2xldCBlPSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF07V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB1cGRhdGUgcGxheWVyIHNvdXJjZSB0cmFja1wiKSksZSYmdGhpcy5fc291cmNlLnVwZGF0ZVRyYWNrKHRoaXMuX21lZGlhU3RyZWFtVHJhY2spLHRoaXMuX3VzZUF1ZGlvRWxlbWVudCYma0EudXBkYXRlVHJhY2sodGhpcy5nZXRUcmFja0lkKCksdGhpcy5fbWVkaWFTdHJlYW1UcmFjayl9cGlwZShlKXtpZih0aGlzLl9ieXBhc3NXZWJBdWRpbyl0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcImNhbiBub3QgcGlwZSBleHRlbnNpb24gd2hlbiBXZWJBdWRpbyBkaXNhYmxlZFwiKTtpZih0aGlzLnByb2Nlc3Nvcj09PWUpcmV0dXJuIGU7aWYoZS5fc291cmNlKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX09QRVJBVElPTixcIlByb2Nlc3NvciBcIi5jb25jYXQoZS5uYW1lLFwiIGFscmVhZHkgcGlwZWQsIHBsZWFzZSBjYWxsIHVucGlwZSBiZWZvcmVoYW5kLlwiKSk7cmV0dXJuIHRoaXMudW5waXBlKCksdGhpcy5wcm9jZXNzb3I9ZSx0aGlzLnByb2Nlc3Nvci5fc291cmNlPXRoaXMsZS51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxub2RlOnRoaXMuX3NvdXJjZS5wcm9jZXNzU291cmNlTm9kZSxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pLGV9dW5waXBlKCl7dmFyIGU7aWYodGhpcy5fYnlwYXNzV2ViQXVkaW8pdGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJjYW4gbm90IHVucGlwZSBleHRlbnNpb24gd2hlbiBXZWJBdWRpbyBkaXNhYmxlZFwiKTtpZighdGhpcy5wcm9jZXNzb3IpcmV0dXJuO2NvbnN0IHQ9dGhpcy5wcm9jZXNzb3I7bnVsbD09PShlPXRoaXMuX3NvdXJjZS5wcm9jZXNzU291cmNlTm9kZSl8fHZvaWQgMD09PWV8fGUuZGlzY29ubmVjdCgpLHRoaXMucHJvY2Vzc29yLl9zb3VyY2U9ITEsdGhpcy5wcm9jZXNzb3I9dm9pZCAwLHQucmVzZXQoKX1iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKXt0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLm9uKEt5Lk9OX1RSQUNLLChhc3luYyBlPT57ZT9lIT09dGhpcy5fbWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9ZSx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoITEpLHRoaXMuX3NvdXJjZS5wcm9jZXNzZWROb2RlPXRoaXMuX3NvdXJjZS5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZU5vZGUoZSkpOnRoaXMuX21lZGlhU3RyZWFtVHJhY2shPT10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpKX0pKSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLm9uKEt5Lk9OX05PREUsKGU9Pnt0aGlzLl9zb3VyY2UucHJvY2Vzc2VkTm9kZT1lO2NvbnN0IHQ9IWU7dGhpcy5fdXNlQXVkaW9FbGVtZW50IT09dCYmKHRoaXMuX3BsYXllZD8odGhpcy5zdG9wKCksdGhpcy5fdXNlQXVkaW9FbGVtZW50PXQsdGhpcy5wbGF5KCkpOnRoaXMuX3VzZUF1ZGlvRWxlbWVudD10KX0pKX11bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpe3RoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ucmVtb3ZlQWxsTGlzdGVuZXJzKEt5Lk9OX1RSQUNLKSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLnJlbW92ZUFsbExpc3RlbmVycyhLeS5PTl9OT0RFKX19THYoW3R2KHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF0sdGhyb3R0bGVUaW1lOjMwMH0pLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtOdW1iZXJdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sQWIucHJvdG90eXBlLFwic2V0Vm9sdW1lXCIsbnVsbCksTHYoW3R2KHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sQWIucHJvdG90eXBlLFwic2V0UGxheWJhY2tEZXZpY2VcIixudWxsKSxMdihbdHYoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sQWIucHJvdG90eXBlLFwicGxheVwiLG51bGwpLEx2KFt0dih7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxBYi5wcm90b3R5cGUsXCJzdG9wXCIsbnVsbCksTHYoW3R2KHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdC5uYW1lXX0pLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsT2JqZWN0KV0sQWIucHJvdG90eXBlLFwicGlwZVwiLG51bGwpLEx2KFt0dih7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxBYi5wcm90b3R5cGUsXCJ1bnBpcGVcIixudWxsKTtmdW5jdGlvbiBiYihlKXtsZXQgdD1lLmxlbmd0aDtmb3IoOy0tdD49MDspZVt0XT0wfWNvbnN0IHdiPTI1NixPYj0yODYsTmI9MzAsRGI9MTUsUGI9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMF0pLExiPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzXSksa2I9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMiwzLDddKSxNYj1uZXcgVWludDhBcnJheShbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pLFViPW5ldyBBcnJheSg1NzYpO2JiKFViKTtjb25zdCB4Yj1uZXcgQXJyYXkoNjApO2JiKHhiKTtjb25zdCBWYj1uZXcgQXJyYXkoNTEyKTtiYihWYik7Y29uc3QgRmI9bmV3IEFycmF5KDI1Nik7YmIoRmIpO2NvbnN0IEJiPW5ldyBBcnJheSgyOSk7YmIoQmIpO2NvbnN0IGpiPW5ldyBBcnJheShOYik7ZnVuY3Rpb24gR2IoZSx0LGksbixyKXt0aGlzLnN0YXRpY190cmVlPWUsdGhpcy5leHRyYV9iaXRzPXQsdGhpcy5leHRyYV9iYXNlPWksdGhpcy5lbGVtcz1uLHRoaXMubWF4X2xlbmd0aD1yLHRoaXMuaGFzX3N0cmVlPWUmJmUubGVuZ3RofWxldCBXYixIYixLYjtmdW5jdGlvbiBZYihlLHQpe3RoaXMuZHluX3RyZWU9ZSx0aGlzLm1heF9jb2RlPTAsdGhpcy5zdGF0X2Rlc2M9dH1iYihqYik7Y29uc3QgcWI9ZT0+ZTwyNTY/VmJbZV06VmJbMjU2KyhlPj4+NyldLEpiPShlLHQpPT57ZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109MjU1JnQsZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109dD4+PjgmMjU1fSx6Yj0oZSx0LGkpPT57ZS5iaV92YWxpZD4xNi1pPyhlLmJpX2J1Znw9dDw8ZS5iaV92YWxpZCY2NTUzNSxKYihlLGUuYmlfYnVmKSxlLmJpX2J1Zj10Pj4xNi1lLmJpX3ZhbGlkLGUuYmlfdmFsaWQrPWktMTYpOihlLmJpX2J1Znw9dDw8ZS5iaV92YWxpZCY2NTUzNSxlLmJpX3ZhbGlkKz1pKX0sWGI9KGUsdCxpKT0+e3piKGUsaVsyKnRdLGlbMip0KzFdKX0sUWI9KGUsdCk9PntsZXQgaT0wO2Rve2l8PTEmZSxlPj4+PTEsaTw8PTF9d2hpbGUoLS10PjApO3JldHVybiBpPj4+MX0sWmI9KGUsdCxpKT0+e2NvbnN0IG49bmV3IEFycmF5KDE2KTtsZXQgcixzLG89MDtmb3Iocj0xO3I8PURiO3IrKylvPW8raVtyLTFdPDwxLG5bcl09bztmb3Iocz0wO3M8PXQ7cysrKXtsZXQgdD1lWzIqcysxXTswIT09dCYmKGVbMipzXT1RYihuW3RdKyssdCkpfX0sJGI9ZT0+e2xldCB0O2Zvcih0PTA7dDxPYjt0KyspZS5keW5fbHRyZWVbMip0XT0wO2Zvcih0PTA7dDxOYjt0KyspZS5keW5fZHRyZWVbMip0XT0wO2Zvcih0PTA7dDwxOTt0KyspZS5ibF90cmVlWzIqdF09MDtlLmR5bl9sdHJlZVs1MTJdPTEsZS5vcHRfbGVuPWUuc3RhdGljX2xlbj0wLGUuc3ltX25leHQ9ZS5tYXRjaGVzPTB9LGV3PWU9PntlLmJpX3ZhbGlkPjg/SmIoZSxlLmJpX2J1Zik6ZS5iaV92YWxpZD4wJiYoZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109ZS5iaV9idWYpLGUuYmlfYnVmPTAsZS5iaV92YWxpZD0wfSx0dz0oZSx0LGksbik9Pntjb25zdCByPTIqdCxzPTIqaTtyZXR1cm4gZVtyXTxlW3NdfHxlW3JdPT09ZVtzXSYmblt0XTw9bltpXX0saXc9KGUsdCxpKT0+e2NvbnN0IG49ZS5oZWFwW2ldO2xldCByPWk8PDE7Zm9yKDtyPD1lLmhlYXBfbGVuJiYocjxlLmhlYXBfbGVuJiZ0dyh0LGUuaGVhcFtyKzFdLGUuaGVhcFtyXSxlLmRlcHRoKSYmcisrLCF0dyh0LG4sZS5oZWFwW3JdLGUuZGVwdGgpKTspZS5oZWFwW2ldPWUuaGVhcFtyXSxpPXIscjw8PTE7ZS5oZWFwW2ldPW59LG53PShlLHQsaSk9PntsZXQgbixyLHMsbyxhPTA7aWYoMCE9PWUuc3ltX25leHQpZG97bj0yNTUmZS5wZW5kaW5nX2J1ZltlLnN5bV9idWYrYSsrXSxuKz0oMjU1JmUucGVuZGluZ19idWZbZS5zeW1fYnVmK2ErK10pPDw4LHI9ZS5wZW5kaW5nX2J1ZltlLnN5bV9idWYrYSsrXSwwPT09bj9YYihlLHIsdCk6KHM9RmJbcl0sWGIoZSxzK3diKzEsdCksbz1QYltzXSwwIT09byYmKHItPUJiW3NdLHpiKGUscixvKSksbi0tLHM9cWIobiksWGIoZSxzLGkpLG89TGJbc10sMCE9PW8mJihuLT1qYltzXSx6YihlLG4sbykpKX13aGlsZShhPGUuc3ltX25leHQpO1hiKGUsMjU2LHQpfSxydz0oZSx0KT0+e2NvbnN0IGk9dC5keW5fdHJlZSxuPXQuc3RhdF9kZXNjLnN0YXRpY190cmVlLHI9dC5zdGF0X2Rlc2MuaGFzX3N0cmVlLHM9dC5zdGF0X2Rlc2MuZWxlbXM7bGV0IG8sYSxjLGQ9LTE7Zm9yKGUuaGVhcF9sZW49MCxlLmhlYXBfbWF4PTU3MyxvPTA7bzxzO28rKykwIT09aVsyKm9dPyhlLmhlYXBbKytlLmhlYXBfbGVuXT1kPW8sZS5kZXB0aFtvXT0wKTppWzIqbysxXT0wO2Zvcig7ZS5oZWFwX2xlbjwyOyljPWUuaGVhcFsrK2UuaGVhcF9sZW5dPWQ8Mj8rK2Q6MCxpWzIqY109MSxlLmRlcHRoW2NdPTAsZS5vcHRfbGVuLS0sciYmKGUuc3RhdGljX2xlbi09blsyKmMrMV0pO2Zvcih0Lm1heF9jb2RlPWQsbz1lLmhlYXBfbGVuPj4xO28+PTE7by0tKWl3KGUsaSxvKTtjPXM7ZG97bz1lLmhlYXBbMV0sZS5oZWFwWzFdPWUuaGVhcFtlLmhlYXBfbGVuLS1dLGl3KGUsaSwxKSxhPWUuaGVhcFsxXSxlLmhlYXBbLS1lLmhlYXBfbWF4XT1vLGUuaGVhcFstLWUuaGVhcF9tYXhdPWEsaVsyKmNdPWlbMipvXStpWzIqYV0sZS5kZXB0aFtjXT0oZS5kZXB0aFtvXT49ZS5kZXB0aFthXT9lLmRlcHRoW29dOmUuZGVwdGhbYV0pKzEsaVsyKm8rMV09aVsyKmErMV09YyxlLmhlYXBbMV09YysrLGl3KGUsaSwxKX13aGlsZShlLmhlYXBfbGVuPj0yKTtlLmhlYXBbLS1lLmhlYXBfbWF4XT1lLmhlYXBbMV0sKChlLHQpPT57Y29uc3QgaT10LmR5bl90cmVlLG49dC5tYXhfY29kZSxyPXQuc3RhdF9kZXNjLnN0YXRpY190cmVlLHM9dC5zdGF0X2Rlc2MuaGFzX3N0cmVlLG89dC5zdGF0X2Rlc2MuZXh0cmFfYml0cyxhPXQuc3RhdF9kZXNjLmV4dHJhX2Jhc2UsYz10LnN0YXRfZGVzYy5tYXhfbGVuZ3RoO2xldCBkLGwsaCx1LHAsXyxFPTA7Zm9yKHU9MDt1PD1EYjt1KyspZS5ibF9jb3VudFt1XT0wO2ZvcihpWzIqZS5oZWFwW2UuaGVhcF9tYXhdKzFdPTAsZD1lLmhlYXBfbWF4KzE7ZDw1NzM7ZCsrKWw9ZS5oZWFwW2RdLHU9aVsyKmlbMipsKzFdKzFdKzEsdT5jJiYodT1jLEUrKyksaVsyKmwrMV09dSxsPm58fChlLmJsX2NvdW50W3VdKysscD0wLGw+PWEmJihwPW9bbC1hXSksXz1pWzIqbF0sZS5vcHRfbGVuKz1fKih1K3ApLHMmJihlLnN0YXRpY19sZW4rPV8qKHJbMipsKzFdK3ApKSk7aWYoMCE9PUUpe2Rve2Zvcih1PWMtMTswPT09ZS5ibF9jb3VudFt1XTspdS0tO2UuYmxfY291bnRbdV0tLSxlLmJsX2NvdW50W3UrMV0rPTIsZS5ibF9jb3VudFtjXS0tLEUtPTJ9d2hpbGUoRT4wKTtmb3IodT1jOzAhPT11O3UtLSlmb3IobD1lLmJsX2NvdW50W3VdOzAhPT1sOyloPWUuaGVhcFstLWRdLGg+bnx8KGlbMipoKzFdIT09dSYmKGUub3B0X2xlbis9KHUtaVsyKmgrMV0pKmlbMipoXSxpWzIqaCsxXT11KSxsLS0pfX0pKGUsdCksWmIoaSxkLGUuYmxfY291bnQpfSxzdz0oZSx0LGkpPT57bGV0IG4scixzPS0xLG89dFsxXSxhPTAsYz03LGQ9NDtmb3IoMD09PW8mJihjPTEzOCxkPTMpLHRbMiooaSsxKSsxXT02NTUzNSxuPTA7bjw9aTtuKyspcj1vLG89dFsyKihuKzEpKzFdLCsrYTxjJiZyPT09b3x8KGE8ZD9lLmJsX3RyZWVbMipyXSs9YTowIT09cj8ociE9PXMmJmUuYmxfdHJlZVsyKnJdKyssZS5ibF90cmVlWzMyXSsrKTphPD0xMD9lLmJsX3RyZWVbMzRdKys6ZS5ibF90cmVlWzM2XSsrLGE9MCxzPXIsMD09PW8/KGM9MTM4LGQ9Myk6cj09PW8/KGM9NixkPTMpOihjPTcsZD00KSl9LG93PShlLHQsaSk9PntsZXQgbixyLHM9LTEsbz10WzFdLGE9MCxjPTcsZD00O2ZvcigwPT09byYmKGM9MTM4LGQ9Myksbj0wO248PWk7bisrKWlmKHI9byxvPXRbMioobisxKSsxXSwhKCsrYTxjJiZyPT09bykpe2lmKGE8ZClkb3tYYihlLHIsZS5ibF90cmVlKX13aGlsZSgwIT0tLWEpO2Vsc2UgMCE9PXI/KHIhPT1zJiYoWGIoZSxyLGUuYmxfdHJlZSksYS0tKSxYYihlLDE2LGUuYmxfdHJlZSksemIoZSxhLTMsMikpOmE8PTEwPyhYYihlLDE3LGUuYmxfdHJlZSksemIoZSxhLTMsMykpOihYYihlLDE4LGUuYmxfdHJlZSksemIoZSxhLTExLDcpKTthPTAscz1yLDA9PT1vPyhjPTEzOCxkPTMpOnI9PT1vPyhjPTYsZD0zKTooYz03LGQ9NCl9fTtsZXQgYXc9ITE7Y29uc3QgY3c9KGUsdCxpLG4pPT57emIoZSwwKyhuPzE6MCksMyksZXcoZSksSmIoZSxpKSxKYihlLH5pKSxpJiZlLnBlbmRpbmdfYnVmLnNldChlLndpbmRvdy5zdWJhcnJheSh0LHQraSksZS5wZW5kaW5nKSxlLnBlbmRpbmcrPWl9O3ZhciBkdz1lPT57YXd8fCgoKCk9PntsZXQgZSx0LGksbixyO2NvbnN0IHM9bmV3IEFycmF5KDE2KTtmb3IoaT0wLG49MDtuPDI4O24rKylmb3IoQmJbbl09aSxlPTA7ZTwxPDxQYltuXTtlKyspRmJbaSsrXT1uO2ZvcihGYltpLTFdPW4scj0wLG49MDtuPDE2O24rKylmb3IoamJbbl09cixlPTA7ZTwxPDxMYltuXTtlKyspVmJbcisrXT1uO2ZvcihyPj49NztuPE5iO24rKylmb3IoamJbbl09cjw8NyxlPTA7ZTwxPDxMYltuXS03O2UrKylWYlsyNTYrcisrXT1uO2Zvcih0PTA7dDw9RGI7dCsrKXNbdF09MDtmb3IoZT0wO2U8PTE0MzspVWJbMiplKzFdPTgsZSsrLHNbOF0rKztmb3IoO2U8PTI1NTspVWJbMiplKzFdPTksZSsrLHNbOV0rKztmb3IoO2U8PTI3OTspVWJbMiplKzFdPTcsZSsrLHNbN10rKztmb3IoO2U8PTI4NzspVWJbMiplKzFdPTgsZSsrLHNbOF0rKztmb3IoWmIoVWIsMjg3LHMpLGU9MDtlPE5iO2UrKyl4YlsyKmUrMV09NSx4YlsyKmVdPVFiKGUsNSk7V2I9bmV3IEdiKFViLFBiLDI1NyxPYixEYiksSGI9bmV3IEdiKHhiLExiLDAsTmIsRGIpLEtiPW5ldyBHYihuZXcgQXJyYXkoMCksa2IsMCwxOSw3KX0pKCksYXc9ITApLGUubF9kZXNjPW5ldyBZYihlLmR5bl9sdHJlZSxXYiksZS5kX2Rlc2M9bmV3IFliKGUuZHluX2R0cmVlLEhiKSxlLmJsX2Rlc2M9bmV3IFliKGUuYmxfdHJlZSxLYiksZS5iaV9idWY9MCxlLmJpX3ZhbGlkPTAsJGIoZSl9LGx3PShlLHQsaSxuKT0+e2xldCByLHMsbz0wO2UubGV2ZWw+MD8oMj09PWUuc3RybS5kYXRhX3R5cGUmJihlLnN0cm0uZGF0YV90eXBlPShlPT57bGV0IHQsaT00MDkzNjI0NDQ3O2Zvcih0PTA7dDw9MzE7dCsrLGk+Pj49MSlpZigxJmkmJjAhPT1lLmR5bl9sdHJlZVsyKnRdKXJldHVybiAwO2lmKDAhPT1lLmR5bl9sdHJlZVsxOF18fDAhPT1lLmR5bl9sdHJlZVsyMF18fDAhPT1lLmR5bl9sdHJlZVsyNl0pcmV0dXJuIDE7Zm9yKHQ9MzI7dDx3Yjt0KyspaWYoMCE9PWUuZHluX2x0cmVlWzIqdF0pcmV0dXJuIDE7cmV0dXJuIDB9KShlKSkscncoZSxlLmxfZGVzYykscncoZSxlLmRfZGVzYyksbz0oZT0+e2xldCB0O2ZvcihzdyhlLGUuZHluX2x0cmVlLGUubF9kZXNjLm1heF9jb2RlKSxzdyhlLGUuZHluX2R0cmVlLGUuZF9kZXNjLm1heF9jb2RlKSxydyhlLGUuYmxfZGVzYyksdD0xODt0Pj0zJiYwPT09ZS5ibF90cmVlWzIqTWJbdF0rMV07dC0tKTtyZXR1cm4gZS5vcHRfbGVuKz0zKih0KzEpKzUrNSs0LHR9KShlKSxyPWUub3B0X2xlbiszKzc+Pj4zLHM9ZS5zdGF0aWNfbGVuKzMrNz4+PjMsczw9ciYmKHI9cykpOnI9cz1pKzUsaSs0PD1yJiYtMSE9PXQ/Y3coZSx0LGksbik6ND09PWUuc3RyYXRlZ3l8fHM9PT1yPyh6YihlLDIrKG4/MTowKSwzKSxudyhlLFViLHhiKSk6KHpiKGUsNCsobj8xOjApLDMpLCgoZSx0LGksbik9PntsZXQgcjtmb3IoemIoZSx0LTI1Nyw1KSx6YihlLGktMSw1KSx6YihlLG4tNCw0KSxyPTA7cjxuO3IrKyl6YihlLGUuYmxfdHJlZVsyKk1iW3JdKzFdLDMpO293KGUsZS5keW5fbHRyZWUsdC0xKSxvdyhlLGUuZHluX2R0cmVlLGktMSl9KShlLGUubF9kZXNjLm1heF9jb2RlKzEsZS5kX2Rlc2MubWF4X2NvZGUrMSxvKzEpLG53KGUsZS5keW5fbHRyZWUsZS5keW5fZHRyZWUpKSwkYihlKSxuJiZldyhlKX0saHc9KGUsdCxpKT0+KGUucGVuZGluZ19idWZbZS5zeW1fYnVmK2Uuc3ltX25leHQrK109dCxlLnBlbmRpbmdfYnVmW2Uuc3ltX2J1ZitlLnN5bV9uZXh0KytdPXQ+PjgsZS5wZW5kaW5nX2J1ZltlLnN5bV9idWYrZS5zeW1fbmV4dCsrXT1pLDA9PT10P2UuZHluX2x0cmVlWzIqaV0rKzooZS5tYXRjaGVzKyssdC0tLGUuZHluX2x0cmVlWzIqKEZiW2ldK3diKzEpXSsrLGUuZHluX2R0cmVlWzIqcWIodCldKyspLGUuc3ltX25leHQ9PT1lLnN5bV9lbmQpLHV3PXtfdHJfaW5pdDpkdyxfdHJfc3RvcmVkX2Jsb2NrOmN3LF90cl9mbHVzaF9ibG9jazpsdyxfdHJfdGFsbHk6aHcsX3RyX2FsaWduOmU9Pnt6YihlLDIsMyksWGIoZSwyNTYsVWIpLChlPT57MTY9PT1lLmJpX3ZhbGlkPyhKYihlLGUuYmlfYnVmKSxlLmJpX2J1Zj0wLGUuYmlfdmFsaWQ9MCk6ZS5iaV92YWxpZD49OCYmKGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPTI1NSZlLmJpX2J1ZixlLmJpX2J1Zj4+PTgsZS5iaV92YWxpZC09OCl9KShlKX19O3ZhciBwdz0oZSx0LGksbik9PntsZXQgcj02NTUzNSZlfDAscz1lPj4+MTYmNjU1MzV8MCxvPTA7Zm9yKDswIT09aTspe289aT4yZTM/MmUzOmksaS09bztkb3tyPXIrdFtuKytdfDAscz1zK3J8MH13aGlsZSgtLW8pO3IlPTY1NTIxLHMlPTY1NTIxfXJldHVybiByfHM8PDE2fDB9O2NvbnN0IF93PW5ldyBVaW50MzJBcnJheSgoKCk9PntsZXQgZSx0PVtdO2Zvcih2YXIgaT0wO2k8MjU2O2krKyl7ZT1pO2Zvcih2YXIgbj0wO248ODtuKyspZT0xJmU/Mzk4ODI5MjM4NF5lPj4+MTplPj4+MTt0W2ldPWV9cmV0dXJuIHR9KSgpKTt2YXIgRXc9KGUsdCxpLG4pPT57Y29uc3Qgcj1fdyxzPW4raTtlXj0tMTtmb3IobGV0IGk9bjtpPHM7aSsrKWU9ZT4+PjheclsyNTUmKGVedFtpXSldO3JldHVybi0xXmV9LG13PXsyOlwibmVlZCBkaWN0aW9uYXJ5XCIsMTpcInN0cmVhbSBlbmRcIiwwOlwiXCIsXCItMVwiOlwiZmlsZSBlcnJvclwiLFwiLTJcIjpcInN0cmVhbSBlcnJvclwiLFwiLTNcIjpcImRhdGEgZXJyb3JcIixcIi00XCI6XCJpbnN1ZmZpY2llbnQgbWVtb3J5XCIsXCItNVwiOlwiYnVmZmVyIGVycm9yXCIsXCItNlwiOlwiaW5jb21wYXRpYmxlIHZlcnNpb25cIn0sZnc9e1pfTk9fRkxVU0g6MCxaX1BBUlRJQUxfRkxVU0g6MSxaX1NZTkNfRkxVU0g6MixaX0ZVTExfRkxVU0g6MyxaX0ZJTklTSDo0LFpfQkxPQ0s6NSxaX1RSRUVTOjYsWl9PSzowLFpfU1RSRUFNX0VORDoxLFpfTkVFRF9ESUNUOjIsWl9FUlJOTzotMSxaX1NUUkVBTV9FUlJPUjotMixaX0RBVEFfRVJST1I6LTMsWl9NRU1fRVJST1I6LTQsWl9CVUZfRVJST1I6LTUsWl9OT19DT01QUkVTU0lPTjowLFpfQkVTVF9TUEVFRDoxLFpfQkVTVF9DT01QUkVTU0lPTjo5LFpfREVGQVVMVF9DT01QUkVTU0lPTjotMSxaX0ZJTFRFUkVEOjEsWl9IVUZGTUFOX09OTFk6MixaX1JMRTozLFpfRklYRUQ6NCxaX0RFRkFVTFRfU1RSQVRFR1k6MCxaX0JJTkFSWTowLFpfVEVYVDoxLFpfVU5LTk9XTjoyLFpfREVGTEFURUQ6OH07Y29uc3R7X3RyX2luaXQ6Z3csX3RyX3N0b3JlZF9ibG9jazpTdyxfdHJfZmx1c2hfYmxvY2s6VHcsX3RyX3RhbGx5OlJ3LF90cl9hbGlnbjpDd309dXcse1pfTk9fRkxVU0g6dncsWl9QQVJUSUFMX0ZMVVNIOkl3LFpfRlVMTF9GTFVTSDp5dyxaX0ZJTklTSDpBdyxaX0JMT0NLOmJ3LFpfT0s6d3csWl9TVFJFQU1fRU5EOk93LFpfU1RSRUFNX0VSUk9SOk53LFpfREFUQV9FUlJPUjpEdyxaX0JVRl9FUlJPUjpQdyxaX0RFRkFVTFRfQ09NUFJFU1NJT046THcsWl9GSUxURVJFRDprdyxaX0hVRkZNQU5fT05MWTpNdyxaX1JMRTpVdyxaX0ZJWEVEOnh3LFpfREVGQVVMVF9TVFJBVEVHWTpWdyxaX1VOS05PV046RncsWl9ERUZMQVRFRDpCd309Zncsanc9Mjg2LEd3PTMwLFd3PTE5LEh3PTIqancrMSxLdz0xNSxZdz0yNTgscXc9MjYyLEp3PTQyLHp3PTExMyxYdz02NjYsUXc9KGUsdCk9PihlLm1zZz1td1t0XSx0KSxadz1lPT4yKmUtKGU+ND85OjApLCR3PWU9PntsZXQgdD1lLmxlbmd0aDtmb3IoOy0tdD49MDspZVt0XT0wfSxlTz1lPT57bGV0IHQsaSxuLHI9ZS53X3NpemU7dD1lLmhhc2hfc2l6ZSxuPXQ7ZG97aT1lLmhlYWRbLS1uXSxlLmhlYWRbbl09aT49cj9pLXI6MH13aGlsZSgtLXQpO3Q9cixuPXQ7ZG97aT1lLnByZXZbLS1uXSxlLnByZXZbbl09aT49cj9pLXI6MH13aGlsZSgtLXQpfTtsZXQgdE89KGUsdCxpKT0+KHQ8PGUuaGFzaF9zaGlmdF5pKSZlLmhhc2hfbWFzaztjb25zdCBpTz1lPT57Y29uc3QgdD1lLnN0YXRlO2xldCBpPXQucGVuZGluZztpPmUuYXZhaWxfb3V0JiYoaT1lLmF2YWlsX291dCksMCE9PWkmJihlLm91dHB1dC5zZXQodC5wZW5kaW5nX2J1Zi5zdWJhcnJheSh0LnBlbmRpbmdfb3V0LHQucGVuZGluZ19vdXQraSksZS5uZXh0X291dCksZS5uZXh0X291dCs9aSx0LnBlbmRpbmdfb3V0Kz1pLGUudG90YWxfb3V0Kz1pLGUuYXZhaWxfb3V0LT1pLHQucGVuZGluZy09aSwwPT09dC5wZW5kaW5nJiYodC5wZW5kaW5nX291dD0wKSl9LG5PPShlLHQpPT57VHcoZSxlLmJsb2NrX3N0YXJ0Pj0wP2UuYmxvY2tfc3RhcnQ6LTEsZS5zdHJzdGFydC1lLmJsb2NrX3N0YXJ0LHQpLGUuYmxvY2tfc3RhcnQ9ZS5zdHJzdGFydCxpTyhlLnN0cm0pfSxyTz0oZSx0KT0+e2UucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPXR9LHNPPShlLHQpPT57ZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmcrK109dD4+PjgmMjU1LGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPTI1NSZ0fSxvTz0oZSx0LGksbik9PntsZXQgcj1lLmF2YWlsX2luO3JldHVybiByPm4mJihyPW4pLDA9PT1yPzA6KGUuYXZhaWxfaW4tPXIsdC5zZXQoZS5pbnB1dC5zdWJhcnJheShlLm5leHRfaW4sZS5uZXh0X2luK3IpLGkpLDE9PT1lLnN0YXRlLndyYXA/ZS5hZGxlcj1wdyhlLmFkbGVyLHQscixpKToyPT09ZS5zdGF0ZS53cmFwJiYoZS5hZGxlcj1FdyhlLmFkbGVyLHQscixpKSksZS5uZXh0X2luKz1yLGUudG90YWxfaW4rPXIscil9LGFPPShlLHQpPT57bGV0IGksbixyPWUubWF4X2NoYWluX2xlbmd0aCxzPWUuc3Ryc3RhcnQsbz1lLnByZXZfbGVuZ3RoLGE9ZS5uaWNlX21hdGNoO2NvbnN0IGM9ZS5zdHJzdGFydD5lLndfc2l6ZS1xdz9lLnN0cnN0YXJ0LShlLndfc2l6ZS1xdyk6MCxkPWUud2luZG93LGw9ZS53X21hc2ssaD1lLnByZXYsdT1lLnN0cnN0YXJ0K1l3O2xldCBwPWRbcytvLTFdLF89ZFtzK29dO2UucHJldl9sZW5ndGg+PWUuZ29vZF9tYXRjaCYmKHI+Pj0yKSxhPmUubG9va2FoZWFkJiYoYT1lLmxvb2thaGVhZCk7ZG97aWYoaT10LGRbaStvXT09PV8mJmRbaStvLTFdPT09cCYmZFtpXT09PWRbc10mJmRbKytpXT09PWRbcysxXSl7cys9MixpKys7ZG97fXdoaWxlKGRbKytzXT09PWRbKytpXSYmZFsrK3NdPT09ZFsrK2ldJiZkWysrc109PT1kWysraV0mJmRbKytzXT09PWRbKytpXSYmZFsrK3NdPT09ZFsrK2ldJiZkWysrc109PT1kWysraV0mJmRbKytzXT09PWRbKytpXSYmZFsrK3NdPT09ZFsrK2ldJiZzPHUpO2lmKG49WXctKHUtcykscz11LVl3LG4+byl7aWYoZS5tYXRjaF9zdGFydD10LG89bixuPj1hKWJyZWFrO3A9ZFtzK28tMV0sXz1kW3Mrb119fX13aGlsZSgodD1oW3QmbF0pPmMmJjAhPS0tcik7cmV0dXJuIG88PWUubG9va2FoZWFkP286ZS5sb29rYWhlYWR9LGNPPWU9Pntjb25zdCB0PWUud19zaXplO2xldCBpLG4scjtkb3tpZihuPWUud2luZG93X3NpemUtZS5sb29rYWhlYWQtZS5zdHJzdGFydCxlLnN0cnN0YXJ0Pj10Kyh0LXF3KSYmKGUud2luZG93LnNldChlLndpbmRvdy5zdWJhcnJheSh0LHQrdC1uKSwwKSxlLm1hdGNoX3N0YXJ0LT10LGUuc3Ryc3RhcnQtPXQsZS5ibG9ja19zdGFydC09dCxlLmluc2VydD5lLnN0cnN0YXJ0JiYoZS5pbnNlcnQ9ZS5zdHJzdGFydCksZU8oZSksbis9dCksMD09PWUuc3RybS5hdmFpbF9pbilicmVhaztpZihpPW9PKGUuc3RybSxlLndpbmRvdyxlLnN0cnN0YXJ0K2UubG9va2FoZWFkLG4pLGUubG9va2FoZWFkKz1pLGUubG9va2FoZWFkK2UuaW5zZXJ0Pj0zKWZvcihyPWUuc3Ryc3RhcnQtZS5pbnNlcnQsZS5pbnNfaD1lLndpbmRvd1tyXSxlLmluc19oPXRPKGUsZS5pbnNfaCxlLndpbmRvd1tyKzFdKTtlLmluc2VydCYmKGUuaW5zX2g9dE8oZSxlLmluc19oLGUud2luZG93W3IrMy0xXSksZS5wcmV2W3ImZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09cixyKyssZS5pbnNlcnQtLSwhKGUubG9va2FoZWFkK2UuaW5zZXJ0PDMpKTspO313aGlsZShlLmxvb2thaGVhZDxxdyYmMCE9PWUuc3RybS5hdmFpbF9pbil9LGRPPShlLHQpPT57bGV0IGksbixyLHM9ZS5wZW5kaW5nX2J1Zl9zaXplLTU+ZS53X3NpemU/ZS53X3NpemU6ZS5wZW5kaW5nX2J1Zl9zaXplLTUsbz0wLGE9ZS5zdHJtLmF2YWlsX2luO2Rve2lmKGk9NjU1MzUscj1lLmJpX3ZhbGlkKzQyPj4zLGUuc3RybS5hdmFpbF9vdXQ8cilicmVhaztpZihyPWUuc3RybS5hdmFpbF9vdXQtcixuPWUuc3Ryc3RhcnQtZS5ibG9ja19zdGFydCxpPm4rZS5zdHJtLmF2YWlsX2luJiYoaT1uK2Uuc3RybS5hdmFpbF9pbiksaT5yJiYoaT1yKSxpPHMmJigwPT09aSYmdCE9PUF3fHx0PT09dnd8fGkhPT1uK2Uuc3RybS5hdmFpbF9pbikpYnJlYWs7bz10PT09QXcmJmk9PT1uK2Uuc3RybS5hdmFpbF9pbj8xOjAsU3coZSwwLDAsbyksZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmctNF09aSxlLnBlbmRpbmdfYnVmW2UucGVuZGluZy0zXT1pPj44LGUucGVuZGluZ19idWZbZS5wZW5kaW5nLTJdPX5pLGUucGVuZGluZ19idWZbZS5wZW5kaW5nLTFdPX5pPj44LGlPKGUuc3RybSksbiYmKG4+aSYmKG49aSksZS5zdHJtLm91dHB1dC5zZXQoZS53aW5kb3cuc3ViYXJyYXkoZS5ibG9ja19zdGFydCxlLmJsb2NrX3N0YXJ0K24pLGUuc3RybS5uZXh0X291dCksZS5zdHJtLm5leHRfb3V0Kz1uLGUuc3RybS5hdmFpbF9vdXQtPW4sZS5zdHJtLnRvdGFsX291dCs9bixlLmJsb2NrX3N0YXJ0Kz1uLGktPW4pLGkmJihvTyhlLnN0cm0sZS5zdHJtLm91dHB1dCxlLnN0cm0ubmV4dF9vdXQsaSksZS5zdHJtLm5leHRfb3V0Kz1pLGUuc3RybS5hdmFpbF9vdXQtPWksZS5zdHJtLnRvdGFsX291dCs9aSl9d2hpbGUoMD09PW8pO3JldHVybiBhLT1lLnN0cm0uYXZhaWxfaW4sYSYmKGE+PWUud19zaXplPyhlLm1hdGNoZXM9MixlLndpbmRvdy5zZXQoZS5zdHJtLmlucHV0LnN1YmFycmF5KGUuc3RybS5uZXh0X2luLWUud19zaXplLGUuc3RybS5uZXh0X2luKSwwKSxlLnN0cnN0YXJ0PWUud19zaXplLGUuaW5zZXJ0PWUuc3Ryc3RhcnQpOihlLndpbmRvd19zaXplLWUuc3Ryc3RhcnQ8PWEmJihlLnN0cnN0YXJ0LT1lLndfc2l6ZSxlLndpbmRvdy5zZXQoZS53aW5kb3cuc3ViYXJyYXkoZS53X3NpemUsZS53X3NpemUrZS5zdHJzdGFydCksMCksZS5tYXRjaGVzPDImJmUubWF0Y2hlcysrLGUuaW5zZXJ0PmUuc3Ryc3RhcnQmJihlLmluc2VydD1lLnN0cnN0YXJ0KSksZS53aW5kb3cuc2V0KGUuc3RybS5pbnB1dC5zdWJhcnJheShlLnN0cm0ubmV4dF9pbi1hLGUuc3RybS5uZXh0X2luKSxlLnN0cnN0YXJ0KSxlLnN0cnN0YXJ0Kz1hLGUuaW5zZXJ0Kz1hPmUud19zaXplLWUuaW5zZXJ0P2Uud19zaXplLWUuaW5zZXJ0OmEpLGUuYmxvY2tfc3RhcnQ9ZS5zdHJzdGFydCksZS5oaWdoX3dhdGVyPGUuc3Ryc3RhcnQmJihlLmhpZ2hfd2F0ZXI9ZS5zdHJzdGFydCksbz80OnQhPT12dyYmdCE9PUF3JiYwPT09ZS5zdHJtLmF2YWlsX2luJiZlLnN0cnN0YXJ0PT09ZS5ibG9ja19zdGFydD8yOihyPWUud2luZG93X3NpemUtZS5zdHJzdGFydCxlLnN0cm0uYXZhaWxfaW4+ciYmZS5ibG9ja19zdGFydD49ZS53X3NpemUmJihlLmJsb2NrX3N0YXJ0LT1lLndfc2l6ZSxlLnN0cnN0YXJ0LT1lLndfc2l6ZSxlLndpbmRvdy5zZXQoZS53aW5kb3cuc3ViYXJyYXkoZS53X3NpemUsZS53X3NpemUrZS5zdHJzdGFydCksMCksZS5tYXRjaGVzPDImJmUubWF0Y2hlcysrLHIrPWUud19zaXplLGUuaW5zZXJ0PmUuc3Ryc3RhcnQmJihlLmluc2VydD1lLnN0cnN0YXJ0KSkscj5lLnN0cm0uYXZhaWxfaW4mJihyPWUuc3RybS5hdmFpbF9pbiksciYmKG9PKGUuc3RybSxlLndpbmRvdyxlLnN0cnN0YXJ0LHIpLGUuc3Ryc3RhcnQrPXIsZS5pbnNlcnQrPXI+ZS53X3NpemUtZS5pbnNlcnQ/ZS53X3NpemUtZS5pbnNlcnQ6ciksZS5oaWdoX3dhdGVyPGUuc3Ryc3RhcnQmJihlLmhpZ2hfd2F0ZXI9ZS5zdHJzdGFydCkscj1lLmJpX3ZhbGlkKzQyPj4zLHI9ZS5wZW5kaW5nX2J1Zl9zaXplLXI+NjU1MzU/NjU1MzU6ZS5wZW5kaW5nX2J1Zl9zaXplLXIscz1yPmUud19zaXplP2Uud19zaXplOnIsbj1lLnN0cnN0YXJ0LWUuYmxvY2tfc3RhcnQsKG4+PXN8fChufHx0PT09QXcpJiZ0IT09dncmJjA9PT1lLnN0cm0uYXZhaWxfaW4mJm48PXIpJiYoaT1uPnI/cjpuLG89dD09PUF3JiYwPT09ZS5zdHJtLmF2YWlsX2luJiZpPT09bj8xOjAsU3coZSxlLmJsb2NrX3N0YXJ0LGksbyksZS5ibG9ja19zdGFydCs9aSxpTyhlLnN0cm0pKSxvPzM6MSl9LGxPPShlLHQpPT57bGV0IGksbjtmb3IoOzspe2lmKGUubG9va2FoZWFkPHF3KXtpZihjTyhlKSxlLmxvb2thaGVhZDxxdyYmdD09PXZ3KXJldHVybiAxO2lmKDA9PT1lLmxvb2thaGVhZClicmVha31pZihpPTAsZS5sb29rYWhlYWQ+PTMmJihlLmluc19oPXRPKGUsZS5pbnNfaCxlLndpbmRvd1tlLnN0cnN0YXJ0KzMtMV0pLGk9ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydCksMCE9PWkmJmUuc3Ryc3RhcnQtaTw9ZS53X3NpemUtcXcmJihlLm1hdGNoX2xlbmd0aD1hTyhlLGkpKSxlLm1hdGNoX2xlbmd0aD49MylpZihuPVJ3KGUsZS5zdHJzdGFydC1lLm1hdGNoX3N0YXJ0LGUubWF0Y2hfbGVuZ3RoLTMpLGUubG9va2FoZWFkLT1lLm1hdGNoX2xlbmd0aCxlLm1hdGNoX2xlbmd0aDw9ZS5tYXhfbGF6eV9tYXRjaCYmZS5sb29rYWhlYWQ+PTMpe2UubWF0Y2hfbGVuZ3RoLS07ZG97ZS5zdHJzdGFydCsrLGUuaW5zX2g9dE8oZSxlLmluc19oLGUud2luZG93W2Uuc3Ryc3RhcnQrMy0xXSksaT1lLnByZXZbZS5zdHJzdGFydCZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1lLnN0cnN0YXJ0fXdoaWxlKDAhPS0tZS5tYXRjaF9sZW5ndGgpO2Uuc3Ryc3RhcnQrK31lbHNlIGUuc3Ryc3RhcnQrPWUubWF0Y2hfbGVuZ3RoLGUubWF0Y2hfbGVuZ3RoPTAsZS5pbnNfaD1lLndpbmRvd1tlLnN0cnN0YXJ0XSxlLmluc19oPXRPKGUsZS5pbnNfaCxlLndpbmRvd1tlLnN0cnN0YXJ0KzFdKTtlbHNlIG49UncoZSwwLGUud2luZG93W2Uuc3Ryc3RhcnRdKSxlLmxvb2thaGVhZC0tLGUuc3Ryc3RhcnQrKztpZihuJiYobk8oZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiAxfXJldHVybiBlLmluc2VydD1lLnN0cnN0YXJ0PDI/ZS5zdHJzdGFydDoyLHQ9PT1Bdz8obk8oZSwhMCksMD09PWUuc3RybS5hdmFpbF9vdXQ/Mzo0KTplLnN5bV9uZXh0JiYobk8oZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpPzE6Mn0saE89KGUsdCk9PntsZXQgaSxuLHI7Zm9yKDs7KXtpZihlLmxvb2thaGVhZDxxdyl7aWYoY08oZSksZS5sb29rYWhlYWQ8cXcmJnQ9PT12dylyZXR1cm4gMTtpZigwPT09ZS5sb29rYWhlYWQpYnJlYWt9aWYoaT0wLGUubG9va2FoZWFkPj0zJiYoZS5pbnNfaD10TyhlLGUuaW5zX2gsZS53aW5kb3dbZS5zdHJzdGFydCszLTFdKSxpPWUucHJldltlLnN0cnN0YXJ0JmUud19tYXNrXT1lLmhlYWRbZS5pbnNfaF0sZS5oZWFkW2UuaW5zX2hdPWUuc3Ryc3RhcnQpLGUucHJldl9sZW5ndGg9ZS5tYXRjaF9sZW5ndGgsZS5wcmV2X21hdGNoPWUubWF0Y2hfc3RhcnQsZS5tYXRjaF9sZW5ndGg9MiwwIT09aSYmZS5wcmV2X2xlbmd0aDxlLm1heF9sYXp5X21hdGNoJiZlLnN0cnN0YXJ0LWk8PWUud19zaXplLXF3JiYoZS5tYXRjaF9sZW5ndGg9YU8oZSxpKSxlLm1hdGNoX2xlbmd0aDw9NSYmKGUuc3RyYXRlZ3k9PT1rd3x8Mz09PWUubWF0Y2hfbGVuZ3RoJiZlLnN0cnN0YXJ0LWUubWF0Y2hfc3RhcnQ+NDA5NikmJihlLm1hdGNoX2xlbmd0aD0yKSksZS5wcmV2X2xlbmd0aD49MyYmZS5tYXRjaF9sZW5ndGg8PWUucHJldl9sZW5ndGgpe3I9ZS5zdHJzdGFydCtlLmxvb2thaGVhZC0zLG49UncoZSxlLnN0cnN0YXJ0LTEtZS5wcmV2X21hdGNoLGUucHJldl9sZW5ndGgtMyksZS5sb29rYWhlYWQtPWUucHJldl9sZW5ndGgtMSxlLnByZXZfbGVuZ3RoLT0yO2RveysrZS5zdHJzdGFydDw9ciYmKGUuaW5zX2g9dE8oZSxlLmluc19oLGUud2luZG93W2Uuc3Ryc3RhcnQrMy0xXSksaT1lLnByZXZbZS5zdHJzdGFydCZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1lLnN0cnN0YXJ0KX13aGlsZSgwIT0tLWUucHJldl9sZW5ndGgpO2lmKGUubWF0Y2hfYXZhaWxhYmxlPTAsZS5tYXRjaF9sZW5ndGg9MixlLnN0cnN0YXJ0KyssbiYmKG5PKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gMX1lbHNlIGlmKGUubWF0Y2hfYXZhaWxhYmxlKXtpZihuPVJ3KGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0LTFdKSxuJiZuTyhlLCExKSxlLnN0cnN0YXJ0KyssZS5sb29rYWhlYWQtLSwwPT09ZS5zdHJtLmF2YWlsX291dClyZXR1cm4gMX1lbHNlIGUubWF0Y2hfYXZhaWxhYmxlPTEsZS5zdHJzdGFydCsrLGUubG9va2FoZWFkLS19cmV0dXJuIGUubWF0Y2hfYXZhaWxhYmxlJiYobj1SdyhlLDAsZS53aW5kb3dbZS5zdHJzdGFydC0xXSksZS5tYXRjaF9hdmFpbGFibGU9MCksZS5pbnNlcnQ9ZS5zdHJzdGFydDwyP2Uuc3Ryc3RhcnQ6Mix0PT09QXc/KG5PKGUsITApLDA9PT1lLnN0cm0uYXZhaWxfb3V0PzM6NCk6ZS5zeW1fbmV4dCYmKG5PKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KT8xOjJ9O2Z1bmN0aW9uIHVPKGUsdCxpLG4scil7dGhpcy5nb29kX2xlbmd0aD1lLHRoaXMubWF4X2xhenk9dCx0aGlzLm5pY2VfbGVuZ3RoPWksdGhpcy5tYXhfY2hhaW49bix0aGlzLmZ1bmM9cn1jb25zdCBwTz1bbmV3IHVPKDAsMCwwLDAsZE8pLG5ldyB1Tyg0LDQsOCw0LGxPKSxuZXcgdU8oNCw1LDE2LDgsbE8pLG5ldyB1Tyg0LDYsMzIsMzIsbE8pLG5ldyB1Tyg0LDQsMTYsMTYsaE8pLG5ldyB1Tyg4LDE2LDMyLDMyLGhPKSxuZXcgdU8oOCwxNiwxMjgsMTI4LGhPKSxuZXcgdU8oOCwzMiwxMjgsMjU2LGhPKSxuZXcgdU8oMzIsMTI4LDI1OCwxMDI0LGhPKSxuZXcgdU8oMzIsMjU4LDI1OCw0MDk2LGhPKV07ZnVuY3Rpb24gX08oKXt0aGlzLnN0cm09bnVsbCx0aGlzLnN0YXR1cz0wLHRoaXMucGVuZGluZ19idWY9bnVsbCx0aGlzLnBlbmRpbmdfYnVmX3NpemU9MCx0aGlzLnBlbmRpbmdfb3V0PTAsdGhpcy5wZW5kaW5nPTAsdGhpcy53cmFwPTAsdGhpcy5nemhlYWQ9bnVsbCx0aGlzLmd6aW5kZXg9MCx0aGlzLm1ldGhvZD1Cdyx0aGlzLmxhc3RfZmx1c2g9LTEsdGhpcy53X3NpemU9MCx0aGlzLndfYml0cz0wLHRoaXMud19tYXNrPTAsdGhpcy53aW5kb3c9bnVsbCx0aGlzLndpbmRvd19zaXplPTAsdGhpcy5wcmV2PW51bGwsdGhpcy5oZWFkPW51bGwsdGhpcy5pbnNfaD0wLHRoaXMuaGFzaF9zaXplPTAsdGhpcy5oYXNoX2JpdHM9MCx0aGlzLmhhc2hfbWFzaz0wLHRoaXMuaGFzaF9zaGlmdD0wLHRoaXMuYmxvY2tfc3RhcnQ9MCx0aGlzLm1hdGNoX2xlbmd0aD0wLHRoaXMucHJldl9tYXRjaD0wLHRoaXMubWF0Y2hfYXZhaWxhYmxlPTAsdGhpcy5zdHJzdGFydD0wLHRoaXMubWF0Y2hfc3RhcnQ9MCx0aGlzLmxvb2thaGVhZD0wLHRoaXMucHJldl9sZW5ndGg9MCx0aGlzLm1heF9jaGFpbl9sZW5ndGg9MCx0aGlzLm1heF9sYXp5X21hdGNoPTAsdGhpcy5sZXZlbD0wLHRoaXMuc3RyYXRlZ3k9MCx0aGlzLmdvb2RfbWF0Y2g9MCx0aGlzLm5pY2VfbWF0Y2g9MCx0aGlzLmR5bl9sdHJlZT1uZXcgVWludDE2QXJyYXkoMipIdyksdGhpcy5keW5fZHRyZWU9bmV3IFVpbnQxNkFycmF5KDIqKDIqR3crMSkpLHRoaXMuYmxfdHJlZT1uZXcgVWludDE2QXJyYXkoMiooMipXdysxKSksJHcodGhpcy5keW5fbHRyZWUpLCR3KHRoaXMuZHluX2R0cmVlKSwkdyh0aGlzLmJsX3RyZWUpLHRoaXMubF9kZXNjPW51bGwsdGhpcy5kX2Rlc2M9bnVsbCx0aGlzLmJsX2Rlc2M9bnVsbCx0aGlzLmJsX2NvdW50PW5ldyBVaW50MTZBcnJheShLdysxKSx0aGlzLmhlYXA9bmV3IFVpbnQxNkFycmF5KDIqancrMSksJHcodGhpcy5oZWFwKSx0aGlzLmhlYXBfbGVuPTAsdGhpcy5oZWFwX21heD0wLHRoaXMuZGVwdGg9bmV3IFVpbnQxNkFycmF5KDIqancrMSksJHcodGhpcy5kZXB0aCksdGhpcy5zeW1fYnVmPTAsdGhpcy5saXRfYnVmc2l6ZT0wLHRoaXMuc3ltX25leHQ9MCx0aGlzLnN5bV9lbmQ9MCx0aGlzLm9wdF9sZW49MCx0aGlzLnN0YXRpY19sZW49MCx0aGlzLm1hdGNoZXM9MCx0aGlzLmluc2VydD0wLHRoaXMuYmlfYnVmPTAsdGhpcy5iaV92YWxpZD0wfWNvbnN0IEVPPWU9PntpZighZSlyZXR1cm4gMTtjb25zdCB0PWUuc3RhdGU7cmV0dXJuIXR8fHQuc3RybSE9PWV8fHQuc3RhdHVzIT09SncmJjU3IT09dC5zdGF0dXMmJjY5IT09dC5zdGF0dXMmJjczIT09dC5zdGF0dXMmJjkxIT09dC5zdGF0dXMmJjEwMyE9PXQuc3RhdHVzJiZ0LnN0YXR1cyE9PXp3JiZ0LnN0YXR1cyE9PVh3PzE6MH0sbU89ZT0+e2lmKEVPKGUpKXJldHVybiBRdyhlLE53KTtlLnRvdGFsX2luPWUudG90YWxfb3V0PTAsZS5kYXRhX3R5cGU9Rnc7Y29uc3QgdD1lLnN0YXRlO3JldHVybiB0LnBlbmRpbmc9MCx0LnBlbmRpbmdfb3V0PTAsdC53cmFwPDAmJih0LndyYXA9LXQud3JhcCksdC5zdGF0dXM9Mj09PXQud3JhcD81Nzp0LndyYXA/Snc6encsZS5hZGxlcj0yPT09dC53cmFwPzA6MSx0Lmxhc3RfZmx1c2g9LTIsZ3codCksd3d9LGZPPWU9Pntjb25zdCB0PW1PKGUpO3ZhciBpO3JldHVybiB0PT09d3cmJigoaT1lLnN0YXRlKS53aW5kb3dfc2l6ZT0yKmkud19zaXplLCR3KGkuaGVhZCksaS5tYXhfbGF6eV9tYXRjaD1wT1tpLmxldmVsXS5tYXhfbGF6eSxpLmdvb2RfbWF0Y2g9cE9baS5sZXZlbF0uZ29vZF9sZW5ndGgsaS5uaWNlX21hdGNoPXBPW2kubGV2ZWxdLm5pY2VfbGVuZ3RoLGkubWF4X2NoYWluX2xlbmd0aD1wT1tpLmxldmVsXS5tYXhfY2hhaW4saS5zdHJzdGFydD0wLGkuYmxvY2tfc3RhcnQ9MCxpLmxvb2thaGVhZD0wLGkuaW5zZXJ0PTAsaS5tYXRjaF9sZW5ndGg9aS5wcmV2X2xlbmd0aD0yLGkubWF0Y2hfYXZhaWxhYmxlPTAsaS5pbnNfaD0wKSx0fSxnTz0oZSx0LGksbixyLHMpPT57aWYoIWUpcmV0dXJuIE53O2xldCBvPTE7aWYodD09PUx3JiYodD02KSxuPDA/KG89MCxuPS1uKTpuPjE1JiYobz0yLG4tPTE2KSxyPDF8fHI+OXx8aSE9PUJ3fHxuPDh8fG4+MTV8fHQ8MHx8dD45fHxzPDB8fHM+eHd8fDg9PT1uJiYxIT09bylyZXR1cm4gUXcoZSxOdyk7OD09PW4mJihuPTkpO2NvbnN0IGE9bmV3IF9PO3JldHVybiBlLnN0YXRlPWEsYS5zdHJtPWUsYS5zdGF0dXM9SncsYS53cmFwPW8sYS5nemhlYWQ9bnVsbCxhLndfYml0cz1uLGEud19zaXplPTE8PGEud19iaXRzLGEud19tYXNrPWEud19zaXplLTEsYS5oYXNoX2JpdHM9cis3LGEuaGFzaF9zaXplPTE8PGEuaGFzaF9iaXRzLGEuaGFzaF9tYXNrPWEuaGFzaF9zaXplLTEsYS5oYXNoX3NoaWZ0PX5+KChhLmhhc2hfYml0cyszLTEpLzMpLGEud2luZG93PW5ldyBVaW50OEFycmF5KDIqYS53X3NpemUpLGEuaGVhZD1uZXcgVWludDE2QXJyYXkoYS5oYXNoX3NpemUpLGEucHJldj1uZXcgVWludDE2QXJyYXkoYS53X3NpemUpLGEubGl0X2J1ZnNpemU9MTw8cis2LGEucGVuZGluZ19idWZfc2l6ZT00KmEubGl0X2J1ZnNpemUsYS5wZW5kaW5nX2J1Zj1uZXcgVWludDhBcnJheShhLnBlbmRpbmdfYnVmX3NpemUpLGEuc3ltX2J1Zj1hLmxpdF9idWZzaXplLGEuc3ltX2VuZD0zKihhLmxpdF9idWZzaXplLTEpLGEubGV2ZWw9dCxhLnN0cmF0ZWd5PXMsYS5tZXRob2Q9aSxmTyhlKX07dmFyIFNPPShlLHQpPT57aWYoRU8oZSl8fHQ+Ynd8fHQ8MClyZXR1cm4gZT9RdyhlLE53KTpOdztjb25zdCBpPWUuc3RhdGU7aWYoIWUub3V0cHV0fHwwIT09ZS5hdmFpbF9pbiYmIWUuaW5wdXR8fGkuc3RhdHVzPT09WHcmJnQhPT1BdylyZXR1cm4gUXcoZSwwPT09ZS5hdmFpbF9vdXQ/UHc6TncpO2NvbnN0IG49aS5sYXN0X2ZsdXNoO2lmKGkubGFzdF9mbHVzaD10LDAhPT1pLnBlbmRpbmcpe2lmKGlPKGUpLDA9PT1lLmF2YWlsX291dClyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLHd3fWVsc2UgaWYoMD09PWUuYXZhaWxfaW4mJlp3KHQpPD1adyhuKSYmdCE9PUF3KXJldHVybiBRdyhlLFB3KTtpZihpLnN0YXR1cz09PVh3JiYwIT09ZS5hdmFpbF9pbilyZXR1cm4gUXcoZSxQdyk7aWYoaS5zdGF0dXM9PT1KdyYmMD09PWkud3JhcCYmKGkuc3RhdHVzPXp3KSxpLnN0YXR1cz09PUp3KXtsZXQgdD1CdysoaS53X2JpdHMtODw8NCk8PDgsbj0tMTtpZihuPWkuc3RyYXRlZ3k+PU13fHxpLmxldmVsPDI/MDppLmxldmVsPDY/MTo2PT09aS5sZXZlbD8yOjMsdHw9bjw8NiwwIT09aS5zdHJzdGFydCYmKHR8PTMyKSx0Kz0zMS10JTMxLHNPKGksdCksMCE9PWkuc3Ryc3RhcnQmJihzTyhpLGUuYWRsZXI+Pj4xNiksc08oaSw2NTUzNSZlLmFkbGVyKSksZS5hZGxlcj0xLGkuc3RhdHVzPXp3LGlPKGUpLDAhPT1pLnBlbmRpbmcpcmV0dXJuIGkubGFzdF9mbHVzaD0tMSx3d31pZig1Nz09PWkuc3RhdHVzKWlmKGUuYWRsZXI9MCxyTyhpLDMxKSxyTyhpLDEzOSksck8oaSw4KSxpLmd6aGVhZClyTyhpLChpLmd6aGVhZC50ZXh0PzE6MCkrKGkuZ3poZWFkLmhjcmM/MjowKSsoaS5nemhlYWQuZXh0cmE/NDowKSsoaS5nemhlYWQubmFtZT84OjApKyhpLmd6aGVhZC5jb21tZW50PzE2OjApKSxyTyhpLDI1NSZpLmd6aGVhZC50aW1lKSxyTyhpLGkuZ3poZWFkLnRpbWU+PjgmMjU1KSxyTyhpLGkuZ3poZWFkLnRpbWU+PjE2JjI1NSksck8oaSxpLmd6aGVhZC50aW1lPj4yNCYyNTUpLHJPKGksOT09PWkubGV2ZWw/MjppLnN0cmF0ZWd5Pj1Nd3x8aS5sZXZlbDwyPzQ6MCksck8oaSwyNTUmaS5nemhlYWQub3MpLGkuZ3poZWFkLmV4dHJhJiZpLmd6aGVhZC5leHRyYS5sZW5ndGgmJihyTyhpLDI1NSZpLmd6aGVhZC5leHRyYS5sZW5ndGgpLHJPKGksaS5nemhlYWQuZXh0cmEubGVuZ3RoPj44JjI1NSkpLGkuZ3poZWFkLmhjcmMmJihlLmFkbGVyPUV3KGUuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmcsMCkpLGkuZ3ppbmRleD0wLGkuc3RhdHVzPTY5O2Vsc2UgaWYock8oaSwwKSxyTyhpLDApLHJPKGksMCksck8oaSwwKSxyTyhpLDApLHJPKGksOT09PWkubGV2ZWw/MjppLnN0cmF0ZWd5Pj1Nd3x8aS5sZXZlbDwyPzQ6MCksck8oaSwzKSxpLnN0YXR1cz16dyxpTyhlKSwwIT09aS5wZW5kaW5nKXJldHVybiBpLmxhc3RfZmx1c2g9LTEsd3c7aWYoNjk9PT1pLnN0YXR1cyl7aWYoaS5nemhlYWQuZXh0cmEpe2xldCB0PWkucGVuZGluZyxuPSg2NTUzNSZpLmd6aGVhZC5leHRyYS5sZW5ndGgpLWkuZ3ppbmRleDtmb3IoO2kucGVuZGluZytuPmkucGVuZGluZ19idWZfc2l6ZTspe2xldCByPWkucGVuZGluZ19idWZfc2l6ZS1pLnBlbmRpbmc7aWYoaS5wZW5kaW5nX2J1Zi5zZXQoaS5nemhlYWQuZXh0cmEuc3ViYXJyYXkoaS5nemluZGV4LGkuZ3ppbmRleCtyKSxpLnBlbmRpbmcpLGkucGVuZGluZz1pLnBlbmRpbmdfYnVmX3NpemUsaS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPnQmJihlLmFkbGVyPUV3KGUuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctdCx0KSksaS5nemluZGV4Kz1yLGlPKGUpLDAhPT1pLnBlbmRpbmcpcmV0dXJuIGkubGFzdF9mbHVzaD0tMSx3dzt0PTAsbi09cn1sZXQgcj1uZXcgVWludDhBcnJheShpLmd6aGVhZC5leHRyYSk7aS5wZW5kaW5nX2J1Zi5zZXQoci5zdWJhcnJheShpLmd6aW5kZXgsaS5nemluZGV4K24pLGkucGVuZGluZyksaS5wZW5kaW5nKz1uLGkuZ3poZWFkLmhjcmMmJmkucGVuZGluZz50JiYoZS5hZGxlcj1FdyhlLmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLXQsdCkpLGkuZ3ppbmRleD0wfWkuc3RhdHVzPTczfWlmKDczPT09aS5zdGF0dXMpe2lmKGkuZ3poZWFkLm5hbWUpe2xldCB0LG49aS5wZW5kaW5nO2Rve2lmKGkucGVuZGluZz09PWkucGVuZGluZ19idWZfc2l6ZSl7aWYoaS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPm4mJihlLmFkbGVyPUV3KGUuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSksaU8oZSksMCE9PWkucGVuZGluZylyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLHd3O249MH10PWkuZ3ppbmRleDxpLmd6aGVhZC5uYW1lLmxlbmd0aD8yNTUmaS5nemhlYWQubmFtZS5jaGFyQ29kZUF0KGkuZ3ppbmRleCsrKTowLHJPKGksdCl9d2hpbGUoMCE9PXQpO2kuZ3poZWFkLmhjcmMmJmkucGVuZGluZz5uJiYoZS5hZGxlcj1FdyhlLmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLW4sbikpLGkuZ3ppbmRleD0wfWkuc3RhdHVzPTkxfWlmKDkxPT09aS5zdGF0dXMpe2lmKGkuZ3poZWFkLmNvbW1lbnQpe2xldCB0LG49aS5wZW5kaW5nO2Rve2lmKGkucGVuZGluZz09PWkucGVuZGluZ19idWZfc2l6ZSl7aWYoaS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPm4mJihlLmFkbGVyPUV3KGUuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSksaU8oZSksMCE9PWkucGVuZGluZylyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLHd3O249MH10PWkuZ3ppbmRleDxpLmd6aGVhZC5jb21tZW50Lmxlbmd0aD8yNTUmaS5nemhlYWQuY29tbWVudC5jaGFyQ29kZUF0KGkuZ3ppbmRleCsrKTowLHJPKGksdCl9d2hpbGUoMCE9PXQpO2kuZ3poZWFkLmhjcmMmJmkucGVuZGluZz5uJiYoZS5hZGxlcj1FdyhlLmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLW4sbikpfWkuc3RhdHVzPTEwM31pZigxMDM9PT1pLnN0YXR1cyl7aWYoaS5nemhlYWQuaGNyYyl7aWYoaS5wZW5kaW5nKzI+aS5wZW5kaW5nX2J1Zl9zaXplJiYoaU8oZSksMCE9PWkucGVuZGluZykpcmV0dXJuIGkubGFzdF9mbHVzaD0tMSx3dztyTyhpLDI1NSZlLmFkbGVyKSxyTyhpLGUuYWRsZXI+PjgmMjU1KSxlLmFkbGVyPTB9aWYoaS5zdGF0dXM9encsaU8oZSksMCE9PWkucGVuZGluZylyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLHd3fWlmKDAhPT1lLmF2YWlsX2lufHwwIT09aS5sb29rYWhlYWR8fHQhPT12dyYmaS5zdGF0dXMhPT1Ydyl7bGV0IG49MD09PWkubGV2ZWw/ZE8oaSx0KTppLnN0cmF0ZWd5PT09TXc/KChlLHQpPT57bGV0IGk7Zm9yKDs7KXtpZigwPT09ZS5sb29rYWhlYWQmJihjTyhlKSwwPT09ZS5sb29rYWhlYWQpKXtpZih0PT09dncpcmV0dXJuIDE7YnJlYWt9aWYoZS5tYXRjaF9sZW5ndGg9MCxpPVJ3KGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0XSksZS5sb29rYWhlYWQtLSxlLnN0cnN0YXJ0KyssaSYmKG5PKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gMX1yZXR1cm4gZS5pbnNlcnQ9MCx0PT09QXc/KG5PKGUsITApLDA9PT1lLnN0cm0uYXZhaWxfb3V0PzM6NCk6ZS5zeW1fbmV4dCYmKG5PKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KT8xOjJ9KShpLHQpOmkuc3RyYXRlZ3k9PT1Vdz8oKGUsdCk9PntsZXQgaSxuLHIscztjb25zdCBvPWUud2luZG93O2Zvcig7Oyl7aWYoZS5sb29rYWhlYWQ8PVl3KXtpZihjTyhlKSxlLmxvb2thaGVhZDw9WXcmJnQ9PT12dylyZXR1cm4gMTtpZigwPT09ZS5sb29rYWhlYWQpYnJlYWt9aWYoZS5tYXRjaF9sZW5ndGg9MCxlLmxvb2thaGVhZD49MyYmZS5zdHJzdGFydD4wJiYocj1lLnN0cnN0YXJ0LTEsbj1vW3JdLG49PT1vWysrcl0mJm49PT1vWysrcl0mJm49PT1vWysrcl0pKXtzPWUuc3Ryc3RhcnQrWXc7ZG97fXdoaWxlKG49PT1vWysrcl0mJm49PT1vWysrcl0mJm49PT1vWysrcl0mJm49PT1vWysrcl0mJm49PT1vWysrcl0mJm49PT1vWysrcl0mJm49PT1vWysrcl0mJm49PT1vWysrcl0mJnI8cyk7ZS5tYXRjaF9sZW5ndGg9WXctKHMtciksZS5tYXRjaF9sZW5ndGg+ZS5sb29rYWhlYWQmJihlLm1hdGNoX2xlbmd0aD1lLmxvb2thaGVhZCl9aWYoZS5tYXRjaF9sZW5ndGg+PTM/KGk9UncoZSwxLGUubWF0Y2hfbGVuZ3RoLTMpLGUubG9va2FoZWFkLT1lLm1hdGNoX2xlbmd0aCxlLnN0cnN0YXJ0Kz1lLm1hdGNoX2xlbmd0aCxlLm1hdGNoX2xlbmd0aD0wKTooaT1SdyhlLDAsZS53aW5kb3dbZS5zdHJzdGFydF0pLGUubG9va2FoZWFkLS0sZS5zdHJzdGFydCsrKSxpJiYobk8oZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiAxfXJldHVybiBlLmluc2VydD0wLHQ9PT1Bdz8obk8oZSwhMCksMD09PWUuc3RybS5hdmFpbF9vdXQ/Mzo0KTplLnN5bV9uZXh0JiYobk8oZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpPzE6Mn0pKGksdCk6cE9baS5sZXZlbF0uZnVuYyhpLHQpO2lmKDMhPT1uJiY0IT09bnx8KGkuc3RhdHVzPVh3KSwxPT09bnx8Mz09PW4pcmV0dXJuIDA9PT1lLmF2YWlsX291dCYmKGkubGFzdF9mbHVzaD0tMSksd3c7aWYoMj09PW4mJih0PT09SXc/Q3coaSk6dCE9PWJ3JiYoU3coaSwwLDAsITEpLHQ9PT15dyYmKCR3KGkuaGVhZCksMD09PWkubG9va2FoZWFkJiYoaS5zdHJzdGFydD0wLGkuYmxvY2tfc3RhcnQ9MCxpLmluc2VydD0wKSkpLGlPKGUpLDA9PT1lLmF2YWlsX291dCkpcmV0dXJuIGkubGFzdF9mbHVzaD0tMSx3d31yZXR1cm4gdCE9PUF3P3d3Omkud3JhcDw9MD9PdzooMj09PWkud3JhcD8ock8oaSwyNTUmZS5hZGxlciksck8oaSxlLmFkbGVyPj44JjI1NSksck8oaSxlLmFkbGVyPj4xNiYyNTUpLHJPKGksZS5hZGxlcj4+MjQmMjU1KSxyTyhpLDI1NSZlLnRvdGFsX2luKSxyTyhpLGUudG90YWxfaW4+PjgmMjU1KSxyTyhpLGUudG90YWxfaW4+PjE2JjI1NSksck8oaSxlLnRvdGFsX2luPj4yNCYyNTUpKTooc08oaSxlLmFkbGVyPj4+MTYpLHNPKGksNjU1MzUmZS5hZGxlcikpLGlPKGUpLGkud3JhcD4wJiYoaS53cmFwPS1pLndyYXApLDAhPT1pLnBlbmRpbmc/d3c6T3cpfSxUTz0oZSx0KT0+e2xldCBpPXQubGVuZ3RoO2lmKEVPKGUpKXJldHVybiBOdztjb25zdCBuPWUuc3RhdGUscj1uLndyYXA7aWYoMj09PXJ8fDE9PT1yJiZuLnN0YXR1cyE9PUp3fHxuLmxvb2thaGVhZClyZXR1cm4gTnc7aWYoMT09PXImJihlLmFkbGVyPXB3KGUuYWRsZXIsdCxpLDApKSxuLndyYXA9MCxpPj1uLndfc2l6ZSl7MD09PXImJigkdyhuLmhlYWQpLG4uc3Ryc3RhcnQ9MCxuLmJsb2NrX3N0YXJ0PTAsbi5pbnNlcnQ9MCk7bGV0IGU9bmV3IFVpbnQ4QXJyYXkobi53X3NpemUpO2Uuc2V0KHQuc3ViYXJyYXkoaS1uLndfc2l6ZSxpKSwwKSx0PWUsaT1uLndfc2l6ZX1jb25zdCBzPWUuYXZhaWxfaW4sbz1lLm5leHRfaW4sYT1lLmlucHV0O2ZvcihlLmF2YWlsX2luPWksZS5uZXh0X2luPTAsZS5pbnB1dD10LGNPKG4pO24ubG9va2FoZWFkPj0zOyl7bGV0IGU9bi5zdHJzdGFydCx0PW4ubG9va2FoZWFkLTI7ZG97bi5pbnNfaD10TyhuLG4uaW5zX2gsbi53aW5kb3dbZSszLTFdKSxuLnByZXZbZSZuLndfbWFza109bi5oZWFkW24uaW5zX2hdLG4uaGVhZFtuLmluc19oXT1lLGUrK313aGlsZSgtLXQpO24uc3Ryc3RhcnQ9ZSxuLmxvb2thaGVhZD0yLGNPKG4pfXJldHVybiBuLnN0cnN0YXJ0Kz1uLmxvb2thaGVhZCxuLmJsb2NrX3N0YXJ0PW4uc3Ryc3RhcnQsbi5pbnNlcnQ9bi5sb29rYWhlYWQsbi5sb29rYWhlYWQ9MCxuLm1hdGNoX2xlbmd0aD1uLnByZXZfbGVuZ3RoPTIsbi5tYXRjaF9hdmFpbGFibGU9MCxlLm5leHRfaW49byxlLmlucHV0PWEsZS5hdmFpbF9pbj1zLG4ud3JhcD1yLHd3fSxSTz17ZGVmbGF0ZUluaXQ6KGUsdCk9PmdPKGUsdCxCdywxNSw4LFZ3KSxkZWZsYXRlSW5pdDI6Z08sZGVmbGF0ZVJlc2V0OmZPLGRlZmxhdGVSZXNldEtlZXA6bU8sZGVmbGF0ZVNldEhlYWRlcjooZSx0KT0+RU8oZSl8fDIhPT1lLnN0YXRlLndyYXA/Tnc6KGUuc3RhdGUuZ3poZWFkPXQsd3cpLGRlZmxhdGU6U08sZGVmbGF0ZUVuZDplPT57aWYoRU8oZSkpcmV0dXJuIE53O2NvbnN0IHQ9ZS5zdGF0ZS5zdGF0dXM7cmV0dXJuIGUuc3RhdGU9bnVsbCx0PT09enc/UXcoZSxEdyk6d3d9LGRlZmxhdGVTZXREaWN0aW9uYXJ5OlRPLGRlZmxhdGVJbmZvOlwicGFrbyBkZWZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KVwifTtjb25zdCBDTz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCk7dmFyIHZPPXthc3NpZ246ZnVuY3Rpb24oZSl7Y29uc3QgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7Zm9yKDt0Lmxlbmd0aDspe2NvbnN0IGk9dC5zaGlmdCgpO2lmKGkpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBpKXRocm93IG5ldyBUeXBlRXJyb3IoaStcIm11c3QgYmUgbm9uLW9iamVjdFwiKTtmb3IoY29uc3QgdCBpbiBpKUNPKGksdCkmJihlW3RdPWlbdF0pfX1yZXR1cm4gZX0sZmxhdHRlbkNodW5rczplPT57bGV0IHQ9MDtmb3IobGV0IGk9MCxuPWUubGVuZ3RoO2k8bjtpKyspdCs9ZVtpXS5sZW5ndGg7Y29uc3QgaT1uZXcgVWludDhBcnJheSh0KTtmb3IobGV0IHQ9MCxuPTAscj1lLmxlbmd0aDt0PHI7dCsrKXtsZXQgcj1lW3RdO2kuc2V0KHIsbiksbis9ci5sZW5ndGh9cmV0dXJuIGl9fTtsZXQgSU89ITA7dHJ5e1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSgxKSl9Y2F0Y2goZSl7SU89ITF9Y29uc3QgeU89bmV3IFVpbnQ4QXJyYXkoMjU2KTtmb3IobGV0IGU9MDtlPDI1NjtlKyspeU9bZV09ZT49MjUyPzY6ZT49MjQ4PzU6ZT49MjQwPzQ6ZT49MjI0PzM6ZT49MTkyPzI6MTt5T1syNTRdPXlPWzI1NF09MTt2YXIgQU89e3N0cmluZzJidWY6ZT0+e2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFRleHRFbmNvZGVyJiZUZXh0RW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlKXJldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKTtsZXQgdCxpLG4scixzLG89ZS5sZW5ndGgsYT0wO2ZvcihyPTA7cjxvO3IrKylpPWUuY2hhckNvZGVBdChyKSw1NTI5Nj09KDY0NTEyJmkpJiZyKzE8byYmKG49ZS5jaGFyQ29kZUF0KHIrMSksNTYzMjA9PSg2NDUxMiZuKSYmKGk9NjU1MzYrKGktNTUyOTY8PDEwKSsobi01NjMyMCkscisrKSksYSs9aTwxMjg/MTppPDIwNDg/MjppPDY1NTM2PzM6NDtmb3IodD1uZXcgVWludDhBcnJheShhKSxzPTAscj0wO3M8YTtyKyspaT1lLmNoYXJDb2RlQXQociksNTUyOTY9PSg2NDUxMiZpKSYmcisxPG8mJihuPWUuY2hhckNvZGVBdChyKzEpLDU2MzIwPT0oNjQ1MTImbikmJihpPTY1NTM2KyhpLTU1Mjk2PDwxMCkrKG4tNTYzMjApLHIrKykpLGk8MTI4P3RbcysrXT1pOmk8MjA0OD8odFtzKytdPTE5MnxpPj4+Nix0W3MrK109MTI4fDYzJmkpOmk8NjU1MzY/KHRbcysrXT0yMjR8aT4+PjEyLHRbcysrXT0xMjh8aT4+PjYmNjMsdFtzKytdPTEyOHw2MyZpKToodFtzKytdPTI0MHxpPj4+MTgsdFtzKytdPTEyOHxpPj4+MTImNjMsdFtzKytdPTEyOHxpPj4+NiY2Myx0W3MrK109MTI4fDYzJmkpO3JldHVybiB0fSxidWYyc3RyaW5nOihlLHQpPT57Y29uc3QgaT10fHxlLmxlbmd0aDtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBUZXh0RGVjb2RlciYmVGV4dERlY29kZXIucHJvdG90eXBlLmRlY29kZSlyZXR1cm4obmV3IFRleHREZWNvZGVyKS5kZWNvZGUoZS5zdWJhcnJheSgwLHQpKTtsZXQgbixyO2NvbnN0IHM9bmV3IEFycmF5KDIqaSk7Zm9yKHI9MCxuPTA7bjxpOyl7bGV0IHQ9ZVtuKytdO2lmKHQ8MTI4KXtzW3IrK109dDtjb250aW51ZX1sZXQgbz15T1t0XTtpZihvPjQpc1tyKytdPTY1NTMzLG4rPW8tMTtlbHNle2Zvcih0Jj0yPT09bz8zMTozPT09bz8xNTo3O28+MSYmbjxpOyl0PXQ8PDZ8NjMmZVtuKytdLG8tLTtvPjE/c1tyKytdPTY1NTMzOnQ8NjU1MzY/c1tyKytdPXQ6KHQtPTY1NTM2LHNbcisrXT01NTI5Nnx0Pj4xMCYxMDIzLHNbcisrXT01NjMyMHwxMDIzJnQpfX1yZXR1cm4oKGUsdCk9PntpZih0PDY1NTM0JiZlLnN1YmFycmF5JiZJTylyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGUubGVuZ3RoPT09dD9lOmUuc3ViYXJyYXkoMCx0KSk7bGV0IGk9XCJcIjtmb3IobGV0IG49MDtuPHQ7bisrKWkrPVN0cmluZy5mcm9tQ2hhckNvZGUoZVtuXSk7cmV0dXJuIGl9KShzLHIpfSx1dGY4Ym9yZGVyOihlLHQpPT57KHQ9dHx8ZS5sZW5ndGgpPmUubGVuZ3RoJiYodD1lLmxlbmd0aCk7bGV0IGk9dC0xO2Zvcig7aT49MCYmMTI4PT0oMTkyJmVbaV0pOylpLS07cmV0dXJuIGk8MHx8MD09PWk/dDppK3lPW2VbaV1dPnQ/aTp0fX07dmFyIGJPPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dD1udWxsLHRoaXMubmV4dF9pbj0wLHRoaXMuYXZhaWxfaW49MCx0aGlzLnRvdGFsX2luPTAsdGhpcy5vdXRwdXQ9bnVsbCx0aGlzLm5leHRfb3V0PTAsdGhpcy5hdmFpbF9vdXQ9MCx0aGlzLnRvdGFsX291dD0wLHRoaXMubXNnPVwiXCIsdGhpcy5zdGF0ZT1udWxsLHRoaXMuZGF0YV90eXBlPTIsdGhpcy5hZGxlcj0wfTtjb25zdCB3Tz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLHtaX05PX0ZMVVNIOk9PLFpfU1lOQ19GTFVTSDpOTyxaX0ZVTExfRkxVU0g6RE8sWl9GSU5JU0g6UE8sWl9PSzpMTyxaX1NUUkVBTV9FTkQ6a08sWl9ERUZBVUxUX0NPTVBSRVNTSU9OOk1PLFpfREVGQVVMVF9TVFJBVEVHWTpVTyxaX0RFRkxBVEVEOnhPfT1mdztmdW5jdGlvbiBWTyhlKXt0aGlzLm9wdGlvbnM9dk8uYXNzaWduKHtsZXZlbDpNTyxtZXRob2Q6eE8sY2h1bmtTaXplOjE2Mzg0LHdpbmRvd0JpdHM6MTUsbWVtTGV2ZWw6OCxzdHJhdGVneTpVT30sZXx8e30pO2xldCB0PXRoaXMub3B0aW9uczt0LnJhdyYmdC53aW5kb3dCaXRzPjA/dC53aW5kb3dCaXRzPS10LndpbmRvd0JpdHM6dC5nemlwJiZ0LndpbmRvd0JpdHM+MCYmdC53aW5kb3dCaXRzPDE2JiYodC53aW5kb3dCaXRzKz0xNiksdGhpcy5lcnI9MCx0aGlzLm1zZz1cIlwiLHRoaXMuZW5kZWQ9ITEsdGhpcy5jaHVua3M9W10sdGhpcy5zdHJtPW5ldyBiTyx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7bGV0IGk9Uk8uZGVmbGF0ZUluaXQyKHRoaXMuc3RybSx0LmxldmVsLHQubWV0aG9kLHQud2luZG93Qml0cyx0Lm1lbUxldmVsLHQuc3RyYXRlZ3kpO2lmKGkhPT1MTyl0aHJvdyBuZXcgRXJyb3IobXdbaV0pO2lmKHQuaGVhZGVyJiZSTy5kZWZsYXRlU2V0SGVhZGVyKHRoaXMuc3RybSx0LmhlYWRlciksdC5kaWN0aW9uYXJ5KXtsZXQgZTtpZihlPVwic3RyaW5nXCI9PXR5cGVvZiB0LmRpY3Rpb25hcnk/QU8uc3RyaW5nMmJ1Zih0LmRpY3Rpb25hcnkpOlwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PXdPLmNhbGwodC5kaWN0aW9uYXJ5KT9uZXcgVWludDhBcnJheSh0LmRpY3Rpb25hcnkpOnQuZGljdGlvbmFyeSxpPVJPLmRlZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSxlKSxpIT09TE8pdGhyb3cgbmV3IEVycm9yKG13W2ldKTt0aGlzLl9kaWN0X3NldD0hMH19ZnVuY3Rpb24gRk8oZSx0KXtjb25zdCBpPW5ldyBWTyh0KTtpZihpLnB1c2goZSwhMCksaS5lcnIpdGhyb3cgaS5tc2d8fG13W2kuZXJyXTtyZXR1cm4gaS5yZXN1bHR9Vk8ucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSx0KXtjb25zdCBpPXRoaXMuc3RybSxuPXRoaXMub3B0aW9ucy5jaHVua1NpemU7bGV0IHIscztpZih0aGlzLmVuZGVkKXJldHVybiExO2ZvcihzPXQ9PT1+fnQ/dDohMD09PXQ/UE86T08sXCJzdHJpbmdcIj09dHlwZW9mIGU/aS5pbnB1dD1BTy5zdHJpbmcyYnVmKGUpOlwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PXdPLmNhbGwoZSk/aS5pbnB1dD1uZXcgVWludDhBcnJheShlKTppLmlucHV0PWUsaS5uZXh0X2luPTAsaS5hdmFpbF9pbj1pLmlucHV0Lmxlbmd0aDs7KWlmKDA9PT1pLmF2YWlsX291dCYmKGkub3V0cHV0PW5ldyBVaW50OEFycmF5KG4pLGkubmV4dF9vdXQ9MCxpLmF2YWlsX291dD1uKSwocz09PU5PfHxzPT09RE8pJiZpLmF2YWlsX291dDw9Nil0aGlzLm9uRGF0YShpLm91dHB1dC5zdWJhcnJheSgwLGkubmV4dF9vdXQpKSxpLmF2YWlsX291dD0wO2Vsc2V7aWYocj1STy5kZWZsYXRlKGkscykscj09PWtPKXJldHVybiBpLm5leHRfb3V0PjAmJnRoaXMub25EYXRhKGkub3V0cHV0LnN1YmFycmF5KDAsaS5uZXh0X291dCkpLHI9Uk8uZGVmbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQociksdGhpcy5lbmRlZD0hMCxyPT09TE87aWYoMCE9PWkuYXZhaWxfb3V0KXtpZihzPjAmJmkubmV4dF9vdXQ+MCl0aGlzLm9uRGF0YShpLm91dHB1dC5zdWJhcnJheSgwLGkubmV4dF9vdXQpKSxpLmF2YWlsX291dD0wO2Vsc2UgaWYoMD09PWkuYXZhaWxfaW4pYnJlYWt9ZWxzZSB0aGlzLm9uRGF0YShpLm91dHB1dCl9cmV0dXJuITB9LFZPLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24oZSl7dGhpcy5jaHVua3MucHVzaChlKX0sVk8ucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKGUpe2U9PT1MTyYmKHRoaXMucmVzdWx0PXZPLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj1lLHRoaXMubXNnPXRoaXMuc3RybS5tc2d9O3ZhciBCTz17RGVmbGF0ZTpWTyxkZWZsYXRlOkZPLGRlZmxhdGVSYXc6ZnVuY3Rpb24oZSx0KXtyZXR1cm4odD10fHx7fSkucmF3PSEwLEZPKGUsdCl9LGd6aXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4odD10fHx7fSkuZ3ppcD0hMCxGTyhlLHQpfSxjb25zdGFudHM6Znd9O2NvbnN0IGpPPTE2MjA5O3ZhciBHTz1mdW5jdGlvbihlLHQpe2xldCBpLG4scixzLG8sYSxjLGQsbCxoLHUscCxfLEUsbSxmLGcsUyxULFIsQyx2LEkseTtjb25zdCBBPWUuc3RhdGU7aT1lLm5leHRfaW4sST1lLmlucHV0LG49aSsoZS5hdmFpbF9pbi01KSxyPWUubmV4dF9vdXQseT1lLm91dHB1dCxzPXItKHQtZS5hdmFpbF9vdXQpLG89cisoZS5hdmFpbF9vdXQtMjU3KSxhPUEuZG1heCxjPUEud3NpemUsZD1BLndoYXZlLGw9QS53bmV4dCxoPUEud2luZG93LHU9QS5ob2xkLHA9QS5iaXRzLF89QS5sZW5jb2RlLEU9QS5kaXN0Y29kZSxtPSgxPDxBLmxlbmJpdHMpLTEsZj0oMTw8QS5kaXN0Yml0cyktMTtlOmRve3A8MTUmJih1Kz1JW2krK108PHAscCs9OCx1Kz1JW2krK108PHAscCs9OCksZz1fW3UmbV07dDpmb3IoOzspe2lmKFM9Zz4+PjI0LHU+Pj49UyxwLT1TLFM9Zz4+PjE2JjI1NSwwPT09Uyl5W3IrK109NjU1MzUmZztlbHNle2lmKCEoMTYmUykpe2lmKDA9PSg2NCZTKSl7Zz1fWyg2NTUzNSZnKSsodSYoMTw8UyktMSldO2NvbnRpbnVlIHR9aWYoMzImUyl7QS5tb2RlPTE2MTkxO2JyZWFrIGV9ZS5tc2c9XCJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGVcIixBLm1vZGU9ak87YnJlYWsgZX1UPTY1NTM1JmcsUyY9MTUsUyYmKHA8UyYmKHUrPUlbaSsrXTw8cCxwKz04KSxUKz11JigxPDxTKS0xLHU+Pj49UyxwLT1TKSxwPDE1JiYodSs9SVtpKytdPDxwLHArPTgsdSs9SVtpKytdPDxwLHArPTgpLGc9RVt1JmZdO2k6Zm9yKDs7KXtpZihTPWc+Pj4yNCx1Pj4+PVMscC09UyxTPWc+Pj4xNiYyNTUsISgxNiZTKSl7aWYoMD09KDY0JlMpKXtnPUVbKDY1NTM1JmcpKyh1JigxPDxTKS0xKV07Y29udGludWUgaX1lLm1zZz1cImludmFsaWQgZGlzdGFuY2UgY29kZVwiLEEubW9kZT1qTzticmVhayBlfWlmKFI9NjU1MzUmZyxTJj0xNSxwPFMmJih1Kz1JW2krK108PHAscCs9OCxwPFMmJih1Kz1JW2krK108PHAscCs9OCkpLFIrPXUmKDE8PFMpLTEsUj5hKXtlLm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsQS5tb2RlPWpPO2JyZWFrIGV9aWYodT4+Pj1TLHAtPVMsUz1yLXMsUj5TKXtpZihTPVItUyxTPmQmJkEuc2FuZSl7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLEEubW9kZT1qTzticmVhayBlfWlmKEM9MCx2PWgsMD09PWwpe2lmKEMrPWMtUyxTPFQpe1QtPVM7ZG97eVtyKytdPWhbQysrXX13aGlsZSgtLVMpO0M9ci1SLHY9eX19ZWxzZSBpZihsPFMpe2lmKEMrPWMrbC1TLFMtPWwsUzxUKXtULT1TO2Rve3lbcisrXT1oW0MrK119d2hpbGUoLS1TKTtpZihDPTAsbDxUKXtTPWwsVC09Uztkb3t5W3IrK109aFtDKytdfXdoaWxlKC0tUyk7Qz1yLVIsdj15fX19ZWxzZSBpZihDKz1sLVMsUzxUKXtULT1TO2Rve3lbcisrXT1oW0MrK119d2hpbGUoLS1TKTtDPXItUix2PXl9Zm9yKDtUPjI7KXlbcisrXT12W0MrK10seVtyKytdPXZbQysrXSx5W3IrK109dltDKytdLFQtPTM7VCYmKHlbcisrXT12W0MrK10sVD4xJiYoeVtyKytdPXZbQysrXSkpfWVsc2V7Qz1yLVI7ZG97eVtyKytdPXlbQysrXSx5W3IrK109eVtDKytdLHlbcisrXT15W0MrK10sVC09M313aGlsZShUPjIpO1QmJih5W3IrK109eVtDKytdLFQ+MSYmKHlbcisrXT15W0MrK10pKX1icmVha319YnJlYWt9fXdoaWxlKGk8biYmcjxvKTtUPXA+PjMsaS09VCxwLT1UPDwzLHUmPSgxPDxwKS0xLGUubmV4dF9pbj1pLGUubmV4dF9vdXQ9cixlLmF2YWlsX2luPWk8bj9uLWkrNTo1LShpLW4pLGUuYXZhaWxfb3V0PXI8bz9vLXIrMjU3OjI1Ny0oci1vKSxBLmhvbGQ9dSxBLmJpdHM9cH07Y29uc3QgV089MTUsSE89bmV3IFVpbnQxNkFycmF5KFszLDQsNSw2LDcsOCw5LDEwLDExLDEzLDE1LDE3LDE5LDIzLDI3LDMxLDM1LDQzLDUxLDU5LDY3LDgzLDk5LDExNSwxMzEsMTYzLDE5NSwyMjcsMjU4LDAsMF0pLEtPPW5ldyBVaW50OEFycmF5KFsxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNywxNywxNywxNywxOCwxOCwxOCwxOCwxOSwxOSwxOSwxOSwyMCwyMCwyMCwyMCwyMSwyMSwyMSwyMSwxNiw3Miw3OF0pLFlPPW5ldyBVaW50MTZBcnJheShbMSwyLDMsNCw1LDcsOSwxMywxNywyNSwzMyw0OSw2NSw5NywxMjksMTkzLDI1NywzODUsNTEzLDc2OSwxMDI1LDE1MzcsMjA0OSwzMDczLDQwOTcsNjE0NSw4MTkzLDEyMjg5LDE2Mzg1LDI0NTc3LDAsMF0pLHFPPW5ldyBVaW50OEFycmF5KFsxNiwxNiwxNiwxNiwxNywxNywxOCwxOCwxOSwxOSwyMCwyMCwyMSwyMSwyMiwyMiwyMywyMywyNCwyNCwyNSwyNSwyNiwyNiwyNywyNywyOCwyOCwyOSwyOSw2NCw2NF0pO3ZhciBKTz0oZSx0LGksbixyLHMsbyxhKT0+e2NvbnN0IGM9YS5iaXRzO2xldCBkLGwsaCx1LHAsXyxFPTAsbT0wLGY9MCxnPTAsUz0wLFQ9MCxSPTAsQz0wLHY9MCxJPTAseT1udWxsO2NvbnN0IEE9bmV3IFVpbnQxNkFycmF5KDE2KSxiPW5ldyBVaW50MTZBcnJheSgxNik7bGV0IHcsTyxOLEQ9bnVsbDtmb3IoRT0wO0U8PVdPO0UrKylBW0VdPTA7Zm9yKG09MDttPG47bSsrKUFbdFtpK21dXSsrO2ZvcihTPWMsZz1XTztnPj0xJiYwPT09QVtnXTtnLS0pO2lmKFM+ZyYmKFM9ZyksMD09PWcpcmV0dXJuIHJbcysrXT0yMDk3MTUyMCxyW3MrK109MjA5NzE1MjAsYS5iaXRzPTEsMDtmb3IoZj0xO2Y8ZyYmMD09PUFbZl07ZisrKTtmb3IoUzxmJiYoUz1mKSxDPTEsRT0xO0U8PVdPO0UrKylpZihDPDw9MSxDLT1BW0VdLEM8MClyZXR1cm4tMTtpZihDPjAmJigwPT09ZXx8MSE9PWcpKXJldHVybi0xO2ZvcihiWzFdPTAsRT0xO0U8V087RSsrKWJbRSsxXT1iW0VdK0FbRV07Zm9yKG09MDttPG47bSsrKTAhPT10W2krbV0mJihvW2JbdFtpK21dXSsrXT1tKTtpZigwPT09ZT8oeT1EPW8sXz0yMCk6MT09PWU/KHk9SE8sRD1LTyxfPTI1Nyk6KHk9WU8sRD1xTyxfPTApLEk9MCxtPTAsRT1mLHA9cyxUPVMsUj0wLGg9LTEsdj0xPDxTLHU9di0xLDE9PT1lJiZ2Pjg1Mnx8Mj09PWUmJnY+NTkyKXJldHVybiAxO2Zvcig7Oyl7dz1FLVIsb1ttXSsxPF8/KE89MCxOPW9bbV0pOm9bbV0+PV8/KE89RFtvW21dLV9dLE49eVtvW21dLV9dKTooTz05NixOPTApLGQ9MTw8RS1SLGw9MTw8VCxmPWw7ZG97bC09ZCxyW3ArKEk+PlIpK2xdPXc8PDI0fE88PDE2fE58MH13aGlsZSgwIT09bCk7Zm9yKGQ9MTw8RS0xO0kmZDspZD4+PTE7aWYoMCE9PWQ/KEkmPWQtMSxJKz1kKTpJPTAsbSsrLDA9PS0tQVtFXSl7aWYoRT09PWcpYnJlYWs7RT10W2krb1ttXV19aWYoRT5TJiYoSSZ1KSE9PWgpe2ZvcigwPT09UiYmKFI9UykscCs9ZixUPUUtUixDPTE8PFQ7VCtSPGcmJihDLT1BW1QrUl0sIShDPD0wKSk7KVQrKyxDPDw9MTtpZih2Kz0xPDxULDE9PT1lJiZ2Pjg1Mnx8Mj09PWUmJnY+NTkyKXJldHVybiAxO2g9SSZ1LHJbaF09Uzw8MjR8VDw8MTZ8cC1zfDB9fXJldHVybiAwIT09SSYmKHJbcCtJXT1FLVI8PDI0fDY0PDwxNnwwKSxhLmJpdHM9UywwfTtjb25zdHtaX0ZJTklTSDp6TyxaX0JMT0NLOlhPLFpfVFJFRVM6UU8sWl9PSzpaTyxaX1NUUkVBTV9FTkQ6JE8sWl9ORUVEX0RJQ1Q6ZU4sWl9TVFJFQU1fRVJST1I6dE4sWl9EQVRBX0VSUk9SOmlOLFpfTUVNX0VSUk9SOm5OLFpfQlVGX0VSUk9SOnJOLFpfREVGTEFURUQ6c059PWZ3LG9OPTE2MTgwLGFOPTE2MTkwLGNOPTE2MTkxLGROPTE2MTkyLGxOPTE2MTk0LGhOPTE2MTk5LHVOPTE2MjAwLHBOPTE2MjA2LF9OPTE2MjA5LEVOPWU9PihlPj4+MjQmMjU1KSsoZT4+PjgmNjUyODApKygoNjUyODAmZSk8PDgpKygoMjU1JmUpPDwyNCk7ZnVuY3Rpb24gbU4oKXt0aGlzLnN0cm09bnVsbCx0aGlzLm1vZGU9MCx0aGlzLmxhc3Q9ITEsdGhpcy53cmFwPTAsdGhpcy5oYXZlZGljdD0hMSx0aGlzLmZsYWdzPTAsdGhpcy5kbWF4PTAsdGhpcy5jaGVjaz0wLHRoaXMudG90YWw9MCx0aGlzLmhlYWQ9bnVsbCx0aGlzLndiaXRzPTAsdGhpcy53c2l6ZT0wLHRoaXMud2hhdmU9MCx0aGlzLnduZXh0PTAsdGhpcy53aW5kb3c9bnVsbCx0aGlzLmhvbGQ9MCx0aGlzLmJpdHM9MCx0aGlzLmxlbmd0aD0wLHRoaXMub2Zmc2V0PTAsdGhpcy5leHRyYT0wLHRoaXMubGVuY29kZT1udWxsLHRoaXMuZGlzdGNvZGU9bnVsbCx0aGlzLmxlbmJpdHM9MCx0aGlzLmRpc3RiaXRzPTAsdGhpcy5uY29kZT0wLHRoaXMubmxlbj0wLHRoaXMubmRpc3Q9MCx0aGlzLmhhdmU9MCx0aGlzLm5leHQ9bnVsbCx0aGlzLmxlbnM9bmV3IFVpbnQxNkFycmF5KDMyMCksdGhpcy53b3JrPW5ldyBVaW50MTZBcnJheSgyODgpLHRoaXMubGVuZHluPW51bGwsdGhpcy5kaXN0ZHluPW51bGwsdGhpcy5zYW5lPTAsdGhpcy5iYWNrPTAsdGhpcy53YXM9MH1jb25zdCBmTj1lPT57aWYoIWUpcmV0dXJuIDE7Y29uc3QgdD1lLnN0YXRlO3JldHVybiF0fHx0LnN0cm0hPT1lfHx0Lm1vZGU8b058fHQubW9kZT4xNjIxMT8xOjB9LGdOPWU9PntpZihmTihlKSlyZXR1cm4gdE47Y29uc3QgdD1lLnN0YXRlO3JldHVybiBlLnRvdGFsX2luPWUudG90YWxfb3V0PXQudG90YWw9MCxlLm1zZz1cIlwiLHQud3JhcCYmKGUuYWRsZXI9MSZ0LndyYXApLHQubW9kZT1vTix0Lmxhc3Q9MCx0LmhhdmVkaWN0PTAsdC5mbGFncz0tMSx0LmRtYXg9MzI3NjgsdC5oZWFkPW51bGwsdC5ob2xkPTAsdC5iaXRzPTAsdC5sZW5jb2RlPXQubGVuZHluPW5ldyBJbnQzMkFycmF5KDg1MiksdC5kaXN0Y29kZT10LmRpc3RkeW49bmV3IEludDMyQXJyYXkoNTkyKSx0LnNhbmU9MSx0LmJhY2s9LTEsWk99LFNOPWU9PntpZihmTihlKSlyZXR1cm4gdE47Y29uc3QgdD1lLnN0YXRlO3JldHVybiB0LndzaXplPTAsdC53aGF2ZT0wLHQud25leHQ9MCxnTihlKX0sVE49KGUsdCk9PntsZXQgaTtpZihmTihlKSlyZXR1cm4gdE47Y29uc3Qgbj1lLnN0YXRlO3JldHVybiB0PDA/KGk9MCx0PS10KTooaT01Kyh0Pj40KSx0PDQ4JiYodCY9MTUpKSx0JiYodDw4fHx0PjE1KT90TjoobnVsbCE9PW4ud2luZG93JiZuLndiaXRzIT09dCYmKG4ud2luZG93PW51bGwpLG4ud3JhcD1pLG4ud2JpdHM9dCxTTihlKSl9LFJOPShlLHQpPT57aWYoIWUpcmV0dXJuIHROO2NvbnN0IGk9bmV3IG1OO2Uuc3RhdGU9aSxpLnN0cm09ZSxpLndpbmRvdz1udWxsLGkubW9kZT1vTjtjb25zdCBuPVROKGUsdCk7cmV0dXJuIG4hPT1aTyYmKGUuc3RhdGU9bnVsbCksbn07bGV0IENOLHZOLElOPSEwO2NvbnN0IHlOPWU9PntpZihJTil7Q049bmV3IEludDMyQXJyYXkoNTEyKSx2Tj1uZXcgSW50MzJBcnJheSgzMik7bGV0IHQ9MDtmb3IoO3Q8MTQ0OyllLmxlbnNbdCsrXT04O2Zvcig7dDwyNTY7KWUubGVuc1t0KytdPTk7Zm9yKDt0PDI4MDspZS5sZW5zW3QrK109Nztmb3IoO3Q8Mjg4OyllLmxlbnNbdCsrXT04O2ZvcihKTygxLGUubGVucywwLDI4OCxDTiwwLGUud29yayx7Yml0czo5fSksdD0wO3Q8MzI7KWUubGVuc1t0KytdPTU7Sk8oMixlLmxlbnMsMCwzMix2TiwwLGUud29yayx7Yml0czo1fSksSU49ITF9ZS5sZW5jb2RlPUNOLGUubGVuYml0cz05LGUuZGlzdGNvZGU9dk4sZS5kaXN0Yml0cz01fSxBTj0oZSx0LGksbik9PntsZXQgcjtjb25zdCBzPWUuc3RhdGU7cmV0dXJuIG51bGw9PT1zLndpbmRvdyYmKHMud3NpemU9MTw8cy53Yml0cyxzLnduZXh0PTAscy53aGF2ZT0wLHMud2luZG93PW5ldyBVaW50OEFycmF5KHMud3NpemUpKSxuPj1zLndzaXplPyhzLndpbmRvdy5zZXQodC5zdWJhcnJheShpLXMud3NpemUsaSksMCkscy53bmV4dD0wLHMud2hhdmU9cy53c2l6ZSk6KHI9cy53c2l6ZS1zLnduZXh0LHI+biYmKHI9bikscy53aW5kb3cuc2V0KHQuc3ViYXJyYXkoaS1uLGktbityKSxzLnduZXh0KSwobi09cik/KHMud2luZG93LnNldCh0LnN1YmFycmF5KGktbixpKSwwKSxzLnduZXh0PW4scy53aGF2ZT1zLndzaXplKToocy53bmV4dCs9cixzLnduZXh0PT09cy53c2l6ZSYmKHMud25leHQ9MCkscy53aGF2ZTxzLndzaXplJiYocy53aGF2ZSs9cikpKSwwfTt2YXIgYk49KGUsdCk9PntsZXQgaSxuLHIscyxvLGEsYyxkLGwsaCx1LHAsXyxFLG0sZixnLFMsVCxSLEMsdixJPTA7Y29uc3QgeT1uZXcgVWludDhBcnJheSg0KTtsZXQgQSxiO2NvbnN0IHc9bmV3IFVpbnQ4QXJyYXkoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKTtpZihmTihlKXx8IWUub3V0cHV0fHwhZS5pbnB1dCYmMCE9PWUuYXZhaWxfaW4pcmV0dXJuIHROO2k9ZS5zdGF0ZSxpLm1vZGU9PT1jTiYmKGkubW9kZT1kTiksbz1lLm5leHRfb3V0LHI9ZS5vdXRwdXQsYz1lLmF2YWlsX291dCxzPWUubmV4dF9pbixuPWUuaW5wdXQsYT1lLmF2YWlsX2luLGQ9aS5ob2xkLGw9aS5iaXRzLGg9YSx1PWMsdj1aTztlOmZvcig7Oylzd2l0Y2goaS5tb2RlKXtjYXNlIG9OOmlmKDA9PT1pLndyYXApe2kubW9kZT1kTjticmVha31mb3IoO2w8MTY7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW3MrK108PGwsbCs9OH1pZigyJmkud3JhcCYmMzU2MTU9PT1kKXswPT09aS53Yml0cyYmKGkud2JpdHM9MTUpLGkuY2hlY2s9MCx5WzBdPTI1NSZkLHlbMV09ZD4+PjgmMjU1LGkuY2hlY2s9RXcoaS5jaGVjayx5LDIsMCksZD0wLGw9MCxpLm1vZGU9MTYxODE7YnJlYWt9aWYoaS5oZWFkJiYoaS5oZWFkLmRvbmU9ITEpLCEoMSZpLndyYXApfHwoKCgyNTUmZCk8PDgpKyhkPj44KSklMzEpe2UubXNnPVwiaW5jb3JyZWN0IGhlYWRlciBjaGVja1wiLGkubW9kZT1fTjticmVha31pZigoMTUmZCkhPT1zTil7ZS5tc2c9XCJ1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZFwiLGkubW9kZT1fTjticmVha31pZihkPj4+PTQsbC09NCxDPTgrKDE1JmQpLDA9PT1pLndiaXRzJiYoaS53Yml0cz1DKSxDPjE1fHxDPmkud2JpdHMpe2UubXNnPVwiaW52YWxpZCB3aW5kb3cgc2l6ZVwiLGkubW9kZT1fTjticmVha31pLmRtYXg9MTw8aS53Yml0cyxpLmZsYWdzPTAsZS5hZGxlcj1pLmNoZWNrPTEsaS5tb2RlPTUxMiZkPzE2MTg5OmNOLGQ9MCxsPTA7YnJlYWs7Y2FzZSAxNjE4MTpmb3IoO2w8MTY7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW3MrK108PGwsbCs9OH1pZihpLmZsYWdzPWQsKDI1NSZpLmZsYWdzKSE9PXNOKXtlLm1zZz1cInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXCIsaS5tb2RlPV9OO2JyZWFrfWlmKDU3MzQ0JmkuZmxhZ3Mpe2UubXNnPVwidW5rbm93biBoZWFkZXIgZmxhZ3Mgc2V0XCIsaS5tb2RlPV9OO2JyZWFrfWkuaGVhZCYmKGkuaGVhZC50ZXh0PWQ+PjgmMSksNTEyJmkuZmxhZ3MmJjQmaS53cmFwJiYoeVswXT0yNTUmZCx5WzFdPWQ+Pj44JjI1NSxpLmNoZWNrPUV3KGkuY2hlY2sseSwyLDApKSxkPTAsbD0wLGkubW9kZT0xNjE4MjtjYXNlIDE2MTgyOmZvcig7bDwzMjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fWkuaGVhZCYmKGkuaGVhZC50aW1lPWQpLDUxMiZpLmZsYWdzJiY0Jmkud3JhcCYmKHlbMF09MjU1JmQseVsxXT1kPj4+OCYyNTUseVsyXT1kPj4+MTYmMjU1LHlbM109ZD4+PjI0JjI1NSxpLmNoZWNrPUV3KGkuY2hlY2sseSw0LDApKSxkPTAsbD0wLGkubW9kZT0xNjE4MztjYXNlIDE2MTgzOmZvcig7bDwxNjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fWkuaGVhZCYmKGkuaGVhZC54ZmxhZ3M9MjU1JmQsaS5oZWFkLm9zPWQ+PjgpLDUxMiZpLmZsYWdzJiY0Jmkud3JhcCYmKHlbMF09MjU1JmQseVsxXT1kPj4+OCYyNTUsaS5jaGVjaz1FdyhpLmNoZWNrLHksMiwwKSksZD0wLGw9MCxpLm1vZGU9MTYxODQ7Y2FzZSAxNjE4NDppZigxMDI0JmkuZmxhZ3Mpe2Zvcig7bDwxNjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fWkubGVuZ3RoPWQsaS5oZWFkJiYoaS5oZWFkLmV4dHJhX2xlbj1kKSw1MTImaS5mbGFncyYmNCZpLndyYXAmJih5WzBdPTI1NSZkLHlbMV09ZD4+PjgmMjU1LGkuY2hlY2s9RXcoaS5jaGVjayx5LDIsMCkpLGQ9MCxsPTB9ZWxzZSBpLmhlYWQmJihpLmhlYWQuZXh0cmE9bnVsbCk7aS5tb2RlPTE2MTg1O2Nhc2UgMTYxODU6aWYoMTAyNCZpLmZsYWdzJiYocD1pLmxlbmd0aCxwPmEmJihwPWEpLHAmJihpLmhlYWQmJihDPWkuaGVhZC5leHRyYV9sZW4taS5sZW5ndGgsaS5oZWFkLmV4dHJhfHwoaS5oZWFkLmV4dHJhPW5ldyBVaW50OEFycmF5KGkuaGVhZC5leHRyYV9sZW4pKSxpLmhlYWQuZXh0cmEuc2V0KG4uc3ViYXJyYXkocyxzK3ApLEMpKSw1MTImaS5mbGFncyYmNCZpLndyYXAmJihpLmNoZWNrPUV3KGkuY2hlY2ssbixwLHMpKSxhLT1wLHMrPXAsaS5sZW5ndGgtPXApLGkubGVuZ3RoKSlicmVhayBlO2kubGVuZ3RoPTAsaS5tb2RlPTE2MTg2O2Nhc2UgMTYxODY6aWYoMjA0OCZpLmZsYWdzKXtpZigwPT09YSlicmVhayBlO3A9MDtkb3tDPW5bcytwKytdLGkuaGVhZCYmQyYmaS5sZW5ndGg8NjU1MzYmJihpLmhlYWQubmFtZSs9U3RyaW5nLmZyb21DaGFyQ29kZShDKSl9d2hpbGUoQyYmcDxhKTtpZig1MTImaS5mbGFncyYmNCZpLndyYXAmJihpLmNoZWNrPUV3KGkuY2hlY2ssbixwLHMpKSxhLT1wLHMrPXAsQylicmVhayBlfWVsc2UgaS5oZWFkJiYoaS5oZWFkLm5hbWU9bnVsbCk7aS5sZW5ndGg9MCxpLm1vZGU9MTYxODc7Y2FzZSAxNjE4NzppZig0MDk2JmkuZmxhZ3Mpe2lmKDA9PT1hKWJyZWFrIGU7cD0wO2Rve0M9bltzK3ArK10saS5oZWFkJiZDJiZpLmxlbmd0aDw2NTUzNiYmKGkuaGVhZC5jb21tZW50Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKEMpKX13aGlsZShDJiZwPGEpO2lmKDUxMiZpLmZsYWdzJiY0Jmkud3JhcCYmKGkuY2hlY2s9RXcoaS5jaGVjayxuLHAscykpLGEtPXAscys9cCxDKWJyZWFrIGV9ZWxzZSBpLmhlYWQmJihpLmhlYWQuY29tbWVudD1udWxsKTtpLm1vZGU9MTYxODg7Y2FzZSAxNjE4ODppZig1MTImaS5mbGFncyl7Zm9yKDtsPDE2Oyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9aWYoNCZpLndyYXAmJmQhPT0oNjU1MzUmaS5jaGVjaykpe2UubXNnPVwiaGVhZGVyIGNyYyBtaXNtYXRjaFwiLGkubW9kZT1fTjticmVha31kPTAsbD0wfWkuaGVhZCYmKGkuaGVhZC5oY3JjPWkuZmxhZ3M+PjkmMSxpLmhlYWQuZG9uZT0hMCksZS5hZGxlcj1pLmNoZWNrPTAsaS5tb2RlPWNOO2JyZWFrO2Nhc2UgMTYxODk6Zm9yKDtsPDMyOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9ZS5hZGxlcj1pLmNoZWNrPUVOKGQpLGQ9MCxsPTAsaS5tb2RlPWFOO2Nhc2UgYU46aWYoMD09PWkuaGF2ZWRpY3QpcmV0dXJuIGUubmV4dF9vdXQ9byxlLmF2YWlsX291dD1jLGUubmV4dF9pbj1zLGUuYXZhaWxfaW49YSxpLmhvbGQ9ZCxpLmJpdHM9bCxlTjtlLmFkbGVyPWkuY2hlY2s9MSxpLm1vZGU9Y047Y2FzZSBjTjppZih0PT09WE98fHQ9PT1RTylicmVhayBlO2Nhc2UgZE46aWYoaS5sYXN0KXtkPj4+PTcmbCxsLT03JmwsaS5tb2RlPXBOO2JyZWFrfWZvcig7bDwzOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9c3dpdGNoKGkubGFzdD0xJmQsZD4+Pj0xLGwtPTEsMyZkKXtjYXNlIDA6aS5tb2RlPTE2MTkzO2JyZWFrO2Nhc2UgMTppZih5TihpKSxpLm1vZGU9aE4sdD09PVFPKXtkPj4+PTIsbC09MjticmVhayBlfWJyZWFrO2Nhc2UgMjppLm1vZGU9MTYxOTY7YnJlYWs7Y2FzZSAzOmUubXNnPVwiaW52YWxpZCBibG9jayB0eXBlXCIsaS5tb2RlPV9OfWQ+Pj49MixsLT0yO2JyZWFrO2Nhc2UgMTYxOTM6Zm9yKGQ+Pj49NyZsLGwtPTcmbDtsPDMyOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9aWYoKDY1NTM1JmQpIT0oZD4+PjE2XjY1NTM1KSl7ZS5tc2c9XCJpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzXCIsaS5tb2RlPV9OO2JyZWFrfWlmKGkubGVuZ3RoPTY1NTM1JmQsZD0wLGw9MCxpLm1vZGU9bE4sdD09PVFPKWJyZWFrIGU7Y2FzZSBsTjppLm1vZGU9MTYxOTU7Y2FzZSAxNjE5NTppZihwPWkubGVuZ3RoLHApe2lmKHA+YSYmKHA9YSkscD5jJiYocD1jKSwwPT09cClicmVhayBlO3Iuc2V0KG4uc3ViYXJyYXkocyxzK3ApLG8pLGEtPXAscys9cCxjLT1wLG8rPXAsaS5sZW5ndGgtPXA7YnJlYWt9aS5tb2RlPWNOO2JyZWFrO2Nhc2UgMTYxOTY6Zm9yKDtsPDE0Oyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9aWYoaS5ubGVuPTI1NysoMzEmZCksZD4+Pj01LGwtPTUsaS5uZGlzdD0xKygzMSZkKSxkPj4+PTUsbC09NSxpLm5jb2RlPTQrKDE1JmQpLGQ+Pj49NCxsLT00LGkubmxlbj4yODZ8fGkubmRpc3Q+MzApe2UubXNnPVwidG9vIG1hbnkgbGVuZ3RoIG9yIGRpc3RhbmNlIHN5bWJvbHNcIixpLm1vZGU9X047YnJlYWt9aS5oYXZlPTAsaS5tb2RlPTE2MTk3O2Nhc2UgMTYxOTc6Zm9yKDtpLmhhdmU8aS5uY29kZTspe2Zvcig7bDwzOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9aS5sZW5zW3dbaS5oYXZlKytdXT03JmQsZD4+Pj0zLGwtPTN9Zm9yKDtpLmhhdmU8MTk7KWkubGVuc1t3W2kuaGF2ZSsrXV09MDtpZihpLmxlbmNvZGU9aS5sZW5keW4saS5sZW5iaXRzPTcsQT17Yml0czppLmxlbmJpdHN9LHY9Sk8oMCxpLmxlbnMsMCwxOSxpLmxlbmNvZGUsMCxpLndvcmssQSksaS5sZW5iaXRzPUEuYml0cyx2KXtlLm1zZz1cImludmFsaWQgY29kZSBsZW5ndGhzIHNldFwiLGkubW9kZT1fTjticmVha31pLmhhdmU9MCxpLm1vZGU9MTYxOTg7Y2FzZSAxNjE5ODpmb3IoO2kuaGF2ZTxpLm5sZW4raS5uZGlzdDspe2Zvcig7ST1pLmxlbmNvZGVbZCYoMTw8aS5sZW5iaXRzKS0xXSxtPUk+Pj4yNCxmPUk+Pj4xNiYyNTUsZz02NTUzNSZJLCEobTw9bCk7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW3MrK108PGwsbCs9OH1pZihnPDE2KWQ+Pj49bSxsLT1tLGkubGVuc1tpLmhhdmUrK109ZztlbHNle2lmKDE2PT09Zyl7Zm9yKGI9bSsyO2w8Yjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fWlmKGQ+Pj49bSxsLT1tLDA9PT1pLmhhdmUpe2UubXNnPVwiaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdFwiLGkubW9kZT1fTjticmVha31DPWkubGVuc1tpLmhhdmUtMV0scD0zKygzJmQpLGQ+Pj49MixsLT0yfWVsc2UgaWYoMTc9PT1nKXtmb3IoYj1tKzM7bDxiOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9ZD4+Pj1tLGwtPW0sQz0wLHA9MysoNyZkKSxkPj4+PTMsbC09M31lbHNle2ZvcihiPW0rNztsPGI7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW3MrK108PGwsbCs9OH1kPj4+PW0sbC09bSxDPTAscD0xMSsoMTI3JmQpLGQ+Pj49NyxsLT03fWlmKGkuaGF2ZStwPmkubmxlbitpLm5kaXN0KXtlLm1zZz1cImludmFsaWQgYml0IGxlbmd0aCByZXBlYXRcIixpLm1vZGU9X047YnJlYWt9Zm9yKDtwLS07KWkubGVuc1tpLmhhdmUrK109Q319aWYoaS5tb2RlPT09X04pYnJlYWs7aWYoMD09PWkubGVuc1syNTZdKXtlLm1zZz1cImludmFsaWQgY29kZSAtLSBtaXNzaW5nIGVuZC1vZi1ibG9ja1wiLGkubW9kZT1fTjticmVha31pZihpLmxlbmJpdHM9OSxBPXtiaXRzOmkubGVuYml0c30sdj1KTygxLGkubGVucywwLGkubmxlbixpLmxlbmNvZGUsMCxpLndvcmssQSksaS5sZW5iaXRzPUEuYml0cyx2KXtlLm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGhzIHNldFwiLGkubW9kZT1fTjticmVha31pZihpLmRpc3RiaXRzPTYsaS5kaXN0Y29kZT1pLmRpc3RkeW4sQT17Yml0czppLmRpc3RiaXRzfSx2PUpPKDIsaS5sZW5zLGkubmxlbixpLm5kaXN0LGkuZGlzdGNvZGUsMCxpLndvcmssQSksaS5kaXN0Yml0cz1BLmJpdHMsdil7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlcyBzZXRcIixpLm1vZGU9X047YnJlYWt9aWYoaS5tb2RlPWhOLHQ9PT1RTylicmVhayBlO2Nhc2UgaE46aS5tb2RlPXVOO2Nhc2UgdU46aWYoYT49NiYmYz49MjU4KXtlLm5leHRfb3V0PW8sZS5hdmFpbF9vdXQ9YyxlLm5leHRfaW49cyxlLmF2YWlsX2luPWEsaS5ob2xkPWQsaS5iaXRzPWwsR08oZSx1KSxvPWUubmV4dF9vdXQscj1lLm91dHB1dCxjPWUuYXZhaWxfb3V0LHM9ZS5uZXh0X2luLG49ZS5pbnB1dCxhPWUuYXZhaWxfaW4sZD1pLmhvbGQsbD1pLmJpdHMsaS5tb2RlPT09Y04mJihpLmJhY2s9LTEpO2JyZWFrfWZvcihpLmJhY2s9MDtJPWkubGVuY29kZVtkJigxPDxpLmxlbmJpdHMpLTFdLG09ST4+PjI0LGY9ST4+PjE2JjI1NSxnPTY1NTM1JkksIShtPD1sKTspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fWlmKGYmJjA9PSgyNDAmZikpe2ZvcihTPW0sVD1mLFI9ZztJPWkubGVuY29kZVtSKygoZCYoMTw8UytUKS0xKT4+UyldLG09ST4+PjI0LGY9ST4+PjE2JjI1NSxnPTY1NTM1JkksIShTK208PWwpOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9ZD4+Pj1TLGwtPVMsaS5iYWNrKz1TfWlmKGQ+Pj49bSxsLT1tLGkuYmFjays9bSxpLmxlbmd0aD1nLDA9PT1mKXtpLm1vZGU9MTYyMDU7YnJlYWt9aWYoMzImZil7aS5iYWNrPS0xLGkubW9kZT1jTjticmVha31pZig2NCZmKXtlLm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZVwiLGkubW9kZT1fTjticmVha31pLmV4dHJhPTE1JmYsaS5tb2RlPTE2MjAxO2Nhc2UgMTYyMDE6aWYoaS5leHRyYSl7Zm9yKGI9aS5leHRyYTtsPGI7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW3MrK108PGwsbCs9OH1pLmxlbmd0aCs9ZCYoMTw8aS5leHRyYSktMSxkPj4+PWkuZXh0cmEsbC09aS5leHRyYSxpLmJhY2srPWkuZXh0cmF9aS53YXM9aS5sZW5ndGgsaS5tb2RlPTE2MjAyO2Nhc2UgMTYyMDI6Zm9yKDtJPWkuZGlzdGNvZGVbZCYoMTw8aS5kaXN0Yml0cyktMV0sbT1JPj4+MjQsZj1JPj4+MTYmMjU1LGc9NjU1MzUmSSwhKG08PWwpOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9aWYoMD09KDI0MCZmKSl7Zm9yKFM9bSxUPWYsUj1nO0k9aS5kaXN0Y29kZVtSKygoZCYoMTw8UytUKS0xKT4+UyldLG09ST4+PjI0LGY9ST4+PjE2JjI1NSxnPTY1NTM1JkksIShTK208PWwpOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltzKytdPDxsLGwrPTh9ZD4+Pj1TLGwtPVMsaS5iYWNrKz1TfWlmKGQ+Pj49bSxsLT1tLGkuYmFjays9bSw2NCZmKXtlLm1zZz1cImludmFsaWQgZGlzdGFuY2UgY29kZVwiLGkubW9kZT1fTjticmVha31pLm9mZnNldD1nLGkuZXh0cmE9MTUmZixpLm1vZGU9MTYyMDM7Y2FzZSAxNjIwMzppZihpLmV4dHJhKXtmb3IoYj1pLmV4dHJhO2w8Yjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bcysrXTw8bCxsKz04fWkub2Zmc2V0Kz1kJigxPDxpLmV4dHJhKS0xLGQ+Pj49aS5leHRyYSxsLT1pLmV4dHJhLGkuYmFjays9aS5leHRyYX1pZihpLm9mZnNldD5pLmRtYXgpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2tcIixpLm1vZGU9X047YnJlYWt9aS5tb2RlPTE2MjA0O2Nhc2UgMTYyMDQ6aWYoMD09PWMpYnJlYWsgZTtpZihwPXUtYyxpLm9mZnNldD5wKXtpZihwPWkub2Zmc2V0LXAscD5pLndoYXZlJiZpLnNhbmUpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2tcIixpLm1vZGU9X047YnJlYWt9cD5pLnduZXh0PyhwLT1pLnduZXh0LF89aS53c2l6ZS1wKTpfPWkud25leHQtcCxwPmkubGVuZ3RoJiYocD1pLmxlbmd0aCksRT1pLndpbmRvd31lbHNlIEU9cixfPW8taS5vZmZzZXQscD1pLmxlbmd0aDtwPmMmJihwPWMpLGMtPXAsaS5sZW5ndGgtPXA7ZG97cltvKytdPUVbXysrXX13aGlsZSgtLXApOzA9PT1pLmxlbmd0aCYmKGkubW9kZT11Tik7YnJlYWs7Y2FzZSAxNjIwNTppZigwPT09YylicmVhayBlO3JbbysrXT1pLmxlbmd0aCxjLS0saS5tb2RlPXVOO2JyZWFrO2Nhc2UgcE46aWYoaS53cmFwKXtmb3IoO2w8MzI7KXtpZigwPT09YSlicmVhayBlO2EtLSxkfD1uW3MrK108PGwsbCs9OH1pZih1LT1jLGUudG90YWxfb3V0Kz11LGkudG90YWwrPXUsNCZpLndyYXAmJnUmJihlLmFkbGVyPWkuY2hlY2s9aS5mbGFncz9FdyhpLmNoZWNrLHIsdSxvLXUpOnB3KGkuY2hlY2sscix1LG8tdSkpLHU9Yyw0Jmkud3JhcCYmKGkuZmxhZ3M/ZDpFTihkKSkhPT1pLmNoZWNrKXtlLm1zZz1cImluY29ycmVjdCBkYXRhIGNoZWNrXCIsaS5tb2RlPV9OO2JyZWFrfWQ9MCxsPTB9aS5tb2RlPTE2MjA3O2Nhc2UgMTYyMDc6aWYoaS53cmFwJiZpLmZsYWdzKXtmb3IoO2w8MzI7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW3MrK108PGwsbCs9OH1pZig0Jmkud3JhcCYmZCE9PSg0Mjk0OTY3Mjk1JmkudG90YWwpKXtlLm1zZz1cImluY29ycmVjdCBsZW5ndGggY2hlY2tcIixpLm1vZGU9X047YnJlYWt9ZD0wLGw9MH1pLm1vZGU9MTYyMDg7Y2FzZSAxNjIwODp2PSRPO2JyZWFrIGU7Y2FzZSBfTjp2PWlOO2JyZWFrIGU7Y2FzZSAxNjIxMDpyZXR1cm4gbk47ZGVmYXVsdDpyZXR1cm4gdE59cmV0dXJuIGUubmV4dF9vdXQ9byxlLmF2YWlsX291dD1jLGUubmV4dF9pbj1zLGUuYXZhaWxfaW49YSxpLmhvbGQ9ZCxpLmJpdHM9bCwoaS53c2l6ZXx8dSE9PWUuYXZhaWxfb3V0JiZpLm1vZGU8X04mJihpLm1vZGU8cE58fHQhPT16TykpJiZBTihlLGUub3V0cHV0LGUubmV4dF9vdXQsdS1lLmF2YWlsX291dCksaC09ZS5hdmFpbF9pbix1LT1lLmF2YWlsX291dCxlLnRvdGFsX2luKz1oLGUudG90YWxfb3V0Kz11LGkudG90YWwrPXUsNCZpLndyYXAmJnUmJihlLmFkbGVyPWkuY2hlY2s9aS5mbGFncz9FdyhpLmNoZWNrLHIsdSxlLm5leHRfb3V0LXUpOnB3KGkuY2hlY2sscix1LGUubmV4dF9vdXQtdSkpLGUuZGF0YV90eXBlPWkuYml0cysoaS5sYXN0PzY0OjApKyhpLm1vZGU9PT1jTj8xMjg6MCkrKGkubW9kZT09PWhOfHxpLm1vZGU9PT1sTj8yNTY6MCksKDA9PT1oJiYwPT09dXx8dD09PXpPKSYmdj09PVpPJiYodj1yTiksdn0sd049e2luZmxhdGVSZXNldDpTTixpbmZsYXRlUmVzZXQyOlROLGluZmxhdGVSZXNldEtlZXA6Z04saW5mbGF0ZUluaXQ6ZT0+Uk4oZSwxNSksaW5mbGF0ZUluaXQyOlJOLGluZmxhdGU6Yk4saW5mbGF0ZUVuZDplPT57aWYoZk4oZSkpcmV0dXJuIHROO2xldCB0PWUuc3RhdGU7cmV0dXJuIHQud2luZG93JiYodC53aW5kb3c9bnVsbCksZS5zdGF0ZT1udWxsLFpPfSxpbmZsYXRlR2V0SGVhZGVyOihlLHQpPT57aWYoZk4oZSkpcmV0dXJuIHROO2NvbnN0IGk9ZS5zdGF0ZTtyZXR1cm4gMD09KDImaS53cmFwKT90TjooaS5oZWFkPXQsdC5kb25lPSExLFpPKX0saW5mbGF0ZVNldERpY3Rpb25hcnk6KGUsdCk9Pntjb25zdCBpPXQubGVuZ3RoO2xldCBuLHIscztyZXR1cm4gZk4oZSk/dE46KG49ZS5zdGF0ZSwwIT09bi53cmFwJiZuLm1vZGUhPT1hTj90TjpuLm1vZGU9PT1hTiYmKHI9MSxyPXB3KHIsdCxpLDApLHIhPT1uLmNoZWNrKT9pTjoocz1BTihlLHQsaSxpKSxzPyhuLm1vZGU9MTYyMTAsbk4pOihuLmhhdmVkaWN0PTEsWk8pKSl9LGluZmxhdGVJbmZvOlwicGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KVwifTt2YXIgT049ZnVuY3Rpb24oKXt0aGlzLnRleHQ9MCx0aGlzLnRpbWU9MCx0aGlzLnhmbGFncz0wLHRoaXMub3M9MCx0aGlzLmV4dHJhPW51bGwsdGhpcy5leHRyYV9sZW49MCx0aGlzLm5hbWU9XCJcIix0aGlzLmNvbW1lbnQ9XCJcIix0aGlzLmhjcmM9MCx0aGlzLmRvbmU9ITF9O2NvbnN0IE5OPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcse1pfTk9fRkxVU0g6RE4sWl9GSU5JU0g6UE4sWl9PSzpMTixaX1NUUkVBTV9FTkQ6a04sWl9ORUVEX0RJQ1Q6TU4sWl9TVFJFQU1fRVJST1I6VU4sWl9EQVRBX0VSUk9SOnhOLFpfTUVNX0VSUk9SOlZOfT1mdztmdW5jdGlvbiBGTihlKXt0aGlzLm9wdGlvbnM9dk8uYXNzaWduKHtjaHVua1NpemU6NjU1MzYsd2luZG93Qml0czoxNSx0bzpcIlwifSxlfHx7fSk7Y29uc3QgdD10aGlzLm9wdGlvbnM7dC5yYXcmJnQud2luZG93Qml0cz49MCYmdC53aW5kb3dCaXRzPDE2JiYodC53aW5kb3dCaXRzPS10LndpbmRvd0JpdHMsMD09PXQud2luZG93Qml0cyYmKHQud2luZG93Qml0cz0tMTUpKSwhKHQud2luZG93Qml0cz49MCYmdC53aW5kb3dCaXRzPDE2KXx8ZSYmZS53aW5kb3dCaXRzfHwodC53aW5kb3dCaXRzKz0zMiksdC53aW5kb3dCaXRzPjE1JiZ0LndpbmRvd0JpdHM8NDgmJjA9PSgxNSZ0LndpbmRvd0JpdHMpJiYodC53aW5kb3dCaXRzfD0xNSksdGhpcy5lcnI9MCx0aGlzLm1zZz1cIlwiLHRoaXMuZW5kZWQ9ITEsdGhpcy5jaHVua3M9W10sdGhpcy5zdHJtPW5ldyBiTyx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7bGV0IGk9d04uaW5mbGF0ZUluaXQyKHRoaXMuc3RybSx0LndpbmRvd0JpdHMpO2lmKGkhPT1MTil0aHJvdyBuZXcgRXJyb3IobXdbaV0pO2lmKHRoaXMuaGVhZGVyPW5ldyBPTix3Ti5pbmZsYXRlR2V0SGVhZGVyKHRoaXMuc3RybSx0aGlzLmhlYWRlciksdC5kaWN0aW9uYXJ5JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQuZGljdGlvbmFyeT90LmRpY3Rpb25hcnk9QU8uc3RyaW5nMmJ1Zih0LmRpY3Rpb25hcnkpOlwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PU5OLmNhbGwodC5kaWN0aW9uYXJ5KSYmKHQuZGljdGlvbmFyeT1uZXcgVWludDhBcnJheSh0LmRpY3Rpb25hcnkpKSx0LnJhdyYmKGk9d04uaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLHQuZGljdGlvbmFyeSksaSE9PUxOKSkpdGhyb3cgbmV3IEVycm9yKG13W2ldKX1mdW5jdGlvbiBCTihlLHQpe2NvbnN0IGk9bmV3IEZOKHQpO2lmKGkucHVzaChlKSxpLmVycil0aHJvdyBpLm1zZ3x8bXdbaS5lcnJdO3JldHVybiBpLnJlc3VsdH1GTi5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlLHQpe2NvbnN0IGk9dGhpcy5zdHJtLG49dGhpcy5vcHRpb25zLmNodW5rU2l6ZSxyPXRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5O2xldCBzLG8sYTtpZih0aGlzLmVuZGVkKXJldHVybiExO2ZvcihvPXQ9PT1+fnQ/dDohMD09PXQ/UE46RE4sXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09Tk4uY2FsbChlKT9pLmlucHV0PW5ldyBVaW50OEFycmF5KGUpOmkuaW5wdXQ9ZSxpLm5leHRfaW49MCxpLmF2YWlsX2luPWkuaW5wdXQubGVuZ3RoOzspe2ZvcigwPT09aS5hdmFpbF9vdXQmJihpLm91dHB1dD1uZXcgVWludDhBcnJheShuKSxpLm5leHRfb3V0PTAsaS5hdmFpbF9vdXQ9bikscz13Ti5pbmZsYXRlKGksbykscz09PU1OJiZyJiYocz13Ti5pbmZsYXRlU2V0RGljdGlvbmFyeShpLHIpLHM9PT1MTj9zPXdOLmluZmxhdGUoaSxvKTpzPT09eE4mJihzPU1OKSk7aS5hdmFpbF9pbj4wJiZzPT09a04mJmkuc3RhdGUud3JhcD4wJiYwIT09ZVtpLm5leHRfaW5dOyl3Ti5pbmZsYXRlUmVzZXQoaSkscz13Ti5pbmZsYXRlKGksbyk7c3dpdGNoKHMpe2Nhc2UgVU46Y2FzZSB4TjpjYXNlIE1OOmNhc2UgVk46cmV0dXJuIHRoaXMub25FbmQocyksdGhpcy5lbmRlZD0hMCwhMX1pZihhPWkuYXZhaWxfb3V0LGkubmV4dF9vdXQmJigwPT09aS5hdmFpbF9vdXR8fHM9PT1rTikpaWYoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50byl7bGV0IGU9QU8udXRmOGJvcmRlcihpLm91dHB1dCxpLm5leHRfb3V0KSx0PWkubmV4dF9vdXQtZSxyPUFPLmJ1ZjJzdHJpbmcoaS5vdXRwdXQsZSk7aS5uZXh0X291dD10LGkuYXZhaWxfb3V0PW4tdCx0JiZpLm91dHB1dC5zZXQoaS5vdXRwdXQuc3ViYXJyYXkoZSxlK3QpLDApLHRoaXMub25EYXRhKHIpfWVsc2UgdGhpcy5vbkRhdGEoaS5vdXRwdXQubGVuZ3RoPT09aS5uZXh0X291dD9pLm91dHB1dDppLm91dHB1dC5zdWJhcnJheSgwLGkubmV4dF9vdXQpKTtpZihzIT09TE58fDAhPT1hKXtpZihzPT09a04pcmV0dXJuIHM9d04uaW5mbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQocyksdGhpcy5lbmRlZD0hMCwhMDtpZigwPT09aS5hdmFpbF9pbilicmVha319cmV0dXJuITB9LEZOLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24oZSl7dGhpcy5jaHVua3MucHVzaChlKX0sRk4ucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKGUpe2U9PT1MTiYmKFwic3RyaW5nXCI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5yZXN1bHQ9dGhpcy5jaHVua3Muam9pbihcIlwiKTp0aGlzLnJlc3VsdD12Ty5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9ZSx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfTt2YXIgak49e0luZmxhdGU6Rk4saW5mbGF0ZTpCTixpbmZsYXRlUmF3OmZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQ9dHx8e30pLnJhdz0hMCxCTihlLHQpfSx1bmd6aXA6Qk4sY29uc3RhbnRzOmZ3fTtjb25zdHtEZWZsYXRlOkdOLGRlZmxhdGU6V04sZGVmbGF0ZVJhdzpITixnemlwOktOfT1CTyx7SW5mbGF0ZTpZTixpbmZsYXRlOnFOLGluZmxhdGVSYXc6Sk4sdW5nemlwOnpOfT1qTjt2YXIgWE4sUU49V04sWk49cU47IWZ1bmN0aW9uKGUpe2VbZS5PTkVfQllURT0wXT1cIk9ORV9CWVRFXCIsZVtlLlRXT19CWVRFPTFdPVwiVFdPX0JZVEVcIn0oWE58fChYTj17fSkpO2NsYXNzICROe2NvbnN0cnVjdG9yKCl7bnUodGhpcyxcIl9zZXF1ZW5jZVwiLDApLG51KHRoaXMsXCJfc3RhcnRUaW1lXCIsRGF0ZS5ub3coKSksbnUodGhpcyxcImlzVXNlT25lQnl0ZVwiLCEwKX1nZXQgc3RhcnRUaW1lKCl7Y29uc3QgZT1EYXRlLm5vdygpLXRoaXMuX3N0YXJ0VGltZTtyZXR1cm4gZTxNYXRoLnBvdygyLDE2KT9lOih0aGlzLl9zdGFydFRpbWUrPU1hdGgucG93KDIsMTYpLHRoaXMuc3RhcnRUaW1lKX1nZXQgc2VxdWVuY2UoKXtyZXR1cm4gdGhpcy5fc2VxdWVuY2U8TWF0aC5wb3coMiwzMik/dGhpcy5fc2VxdWVuY2UrKzoodGhpcy5fc2VxdWVuY2UtPU1hdGgucG93KDIsMzIpLHRoaXMuc2VxdWVuY2UpfXNlcmlhbGl6ZShlKXtjb25zdCB0PXtjb21tb25QYWNrZXRIZWFkZXI6e2xlbmd0aDowLHJlc2VydmVkOjAsZXh0ZW5zaW9uOjAsc2VxdWVuY2U6dGhpcy5zZXF1ZW5jZX0sY29tbW9uU3RyZWFtSGVhZGVyOnRoaXMuc3RhcnRUaW1lLGV4dGVuc2lvbjp2b2lkIDAscGF5bG9hZDplfTtpZihlLmJ5dGVMZW5ndGg+MTI4KXtjb25zdCBpPW5ldyBVaW50OEFycmF5KDQpO2kuc2V0KFsxLDAsMCwwXSk7Y29uc3Qgbj17aWQ6MCxsZW5ndGg6NCxkYXRhOmkuYnVmZmVyfSxyPXtwcm9maWxlOnRoaXMuaXNVc2VPbmVCeXRlPzA6MSxsZW5ndGg6dGhpcy5pc1VzZU9uZUJ5dGU/NTo2LGRhdGFzOltuXX07dC5jb21tb25QYWNrZXRIZWFkZXIuZXh0ZW5zaW9uPTEsdC5leHRlbnNpb249cix0LnBheWxvYWQ9dGhpcy5jb21wcmVzcyhlKSx0LmNvbW1vblBhY2tldEhlYWRlci5sZW5ndGg9OCsodC5leHRlbnNpb24ubGVuZ3RoKzIpK3QucGF5bG9hZC5ieXRlTGVuZ3RofWVsc2UgdC5jb21tb25QYWNrZXRIZWFkZXIubGVuZ3RoPTgrdC5wYXlsb2FkLmJ5dGVMZW5ndGg7Y29uc3QgaT1uZXcgQXJyYXlCdWZmZXIodC5jb21tb25QYWNrZXRIZWFkZXIubGVuZ3RoKSxuPW5ldyBVaW50OEFycmF5KGkpLHI9bmV3IERhdGFWaWV3KGkpO2xldCBzPTA7aWYoci5zZXRVaW50MTYocyx0LmNvbW1vblBhY2tldEhlYWRlci5leHRlbnNpb248PDE1fHQuY29tbW9uUGFja2V0SGVhZGVyLnJlc2VydmVkPDwxNHx0LmNvbW1vblBhY2tldEhlYWRlci5sZW5ndGgsITApLHMrPTIsci5zZXRVaW50MzIocyx0LmNvbW1vblBhY2tldEhlYWRlci5zZXF1ZW5jZSwhMCkscys9NCxyLnNldFVpbnQxNihzLHQuY29tbW9uU3RyZWFtSGVhZGVyLCEwKSxzKz0yLHQuZXh0ZW5zaW9uKXtjb25zdCBlPXRoaXMuc2VyaWFsaXplRXh0ZW5zaW9uKHQuZXh0ZW5zaW9uKTtuLnNldChuZXcgVWludDhBcnJheShlKSxzKSxzKz1lLmJ5dGVMZW5ndGh9aWYobi5zZXQobmV3IFVpbnQ4QXJyYXkodC5wYXlsb2FkKSxzKSxzKz10LnBheWxvYWQuYnl0ZUxlbmd0aCxzIT09dC5jb21tb25QYWNrZXRIZWFkZXIubGVuZ3RoKXRocm93IEVycm9yKFwic2VyaWFsaXplIGVycm9yIVwiKTtyZXR1cm4gaX1kZXNlcmlhbGl6ZShlKXtpZihlLmJ5dGVMZW5ndGg8NClyZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO2NvbnN0IHQ9bmV3IERhdGFWaWV3KGUpO2xldCBpPTA7Y29uc3Qgbj10LmdldFVpbnQxNihpLCEwKTtpKz0yO2NvbnN0IHI9KDMyNzY4Jm4pPj4xNTt0LmdldFVpbnQxNihpKzIsITApLHQuZ2V0VWludDE2KGksITApO2xldCBzLG87aWYoaSs9NCx0LmdldFVpbnQxNihpLCEwKSxpKz0yLHIpe289dGhpcy5kZXNlcmlhbGl6ZUV4dGVuc2lvbihlLnNsaWNlKGkpKSxpKz0yK28ubGVuZ3RoLHM9ZS5zbGljZShpKTtsZXQgdD0hMTtpZihvLmRhdGFzLmxlbmd0aD4wKXtjb25zdCBlPW8uZGF0YXMuZmluZCgoZT0+MD09PWUuaWQpKTtpZihlKXt0PTE9PSgxJm5ldyBEYXRhVmlldyhlLmRhdGEpLmdldFVpbnQzMigwLCEwKSl9fXM9dD90aGlzLmRlY29tcHJlc3Mocyk6c31lbHNlIHM9ZS5zbGljZSg4KTtyZXR1cm4gc31zZXJpYWxpemVFeHRlbnNpb24oZSl7Y29uc3R7cHJvZmlsZTp0LGxlbmd0aDppLGRhdGFzOm59PWUscj1uZXcgQXJyYXlCdWZmZXIoaSsyKSxzPW5ldyBVaW50OEFycmF5KHIpLG89bmV3IERhdGFWaWV3KHIpO2xldCBhPTA7aWYoby5zZXRVaW50OChhKyssdCksby5zZXRVaW50OChhKyssaSksbi5mb3JFYWNoKChlPT57dD8oby5zZXRVaW50OChhKyssZS5pZCksby5zZXRVaW50OChhKyssZS5sZW5ndGgpLHMuc2V0KG5ldyBVaW50OEFycmF5KGUuZGF0YSksYSksYSs9ZS5kYXRhLmJ5dGVMZW5ndGgpOihvLnNldFVpbnQ4KGErKyxlLmlkfGUubGVuZ3RoPDw0KSxzLnNldChuZXcgVWludDhBcnJheShlLmRhdGEpLGEpLGErPWUuZGF0YS5ieXRlTGVuZ3RoKX0pKSxhIT09aSsyKXRocm93IEVycm9yKFwic2VyaWFsaXplIGV4dGVuc2lvbiBlcnJvciwgaXMgXCIuY29uY2F0KGEsXCIhPT1cIikuY29uY2F0KGkrMikpO3JldHVybiByfWRlc2VyaWFsaXplRXh0ZW5zaW9uKGUpe2NvbnN0IHQ9bmV3IERhdGFWaWV3KGUpO2xldCBpPTA7Y29uc3Qgbj10LmdldFVpbnQ4KGkpO2krKztjb25zdCByPXQuZ2V0VWludDgoaSk7aSsrO2NvbnN0IHM9bj09PVhOLlRXT19CWVRFLG89W10sYT1uZXcgRGF0YVZpZXcoZSwyKTtsZXQgYz0wO2Zvcig7YzxyOyl7bGV0IGU9MCx0PTAsaT1uZXcgQXJyYXlCdWZmZXIoMCk7cz8oZT1hLmdldFVpbnQ4KGMpLGMrKyx0PWEuZ2V0VWludDgoYyksYysrKTooZT0xNSZhLmdldFVpbnQ4KGMpLHQ9YS5nZXRVaW50OChjKT4+NCxjKyspLHQ+MCYmKGk9YS5idWZmZXIuc2xpY2UoYysyLGMrMit0KSxjKz1pLmJ5dGVMZW5ndGgpLG8ucHVzaCh7aWQ6ZSxsZW5ndGg6dCxkYXRhOml9KX1pZihjIT09cil0aHJvdyBFcnJvcihcInBhcnNlIGVycm9yXCIpO3JldHVybntwcm9maWxlOm4sbGVuZ3RoOnIsZGF0YXM6b319ZGVjb21wcmVzcyhlKXtyZXR1cm4gWk4obmV3IFVpbnQ4QXJyYXkoZSkpfWNvbXByZXNzKGUpe3JldHVybiBRTihuZXcgVWludDhBcnJheShlKSl9fWNsYXNzIGVEIGV4dGVuZHMgaVN7Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLG51KHRoaXMsXCJfdmVyc2lvblwiLDEpLG51KHRoaXMsXCJfdHlwZVwiLDMpLG51KHRoaXMsXCJfY29uZmlnXCIsdm9pZCAwKSxudSh0aGlzLFwiX29yaWdpbkRhdGFDaGFubmVsXCIsdm9pZCAwKSxudSh0aGlzLFwiX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXJcIixuZXcgQXJyYXlCdWZmZXIoNCkpLG51KHRoaXMsXCJfZGF0YVN0cmVhbVBhY2tldEhhbmRsZXJcIix2b2lkIDApLG51KHRoaXMsXCJfZGF0YWNoYW5uZWxFdmVudE1hcFwiLG5ldyBNYXApLHRoaXMuX2NvbmZpZz1lLHQmJih0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbD10LHRoaXMuX2JhbmREYXRhQ2hhbm5lbEV2ZW50cyh0KSksdGhpcy5faW5pdFBhY2tldEhlYWRlcigpLHRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIYW5kbGVyPW5ldyAkTn1nZXQgaWQoKXtyZXR1cm4gdGhpcy5fY29uZmlnLmlkfWdldCBvcmRlcmVkKCl7cmV0dXJuIHRoaXMuX2NvbmZpZy5vcmRlcmVkfWdldCBtYXhSZXRyYW5zbWl0cygpe3JldHVybiBrQyhcIkRBVEFTVFJFQU1fTUFYX1JFVFJBTlNNSVRTXCIpfWdldCBtZXRhZGF0YSgpe3JldHVybiB0aGlzLl9jb25maWcubWV0YWRhdGF9Z2V0IHJlYWR5U3RhdGUoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KGU9bnVsbD09PSh0PXRoaXMuX29yaWdpbkRhdGFDaGFubmVsKXx8dm9pZCAwPT09dD92b2lkIDA6dC5yZWFkeVN0YXRlKSYmdm9pZCAwIT09ZT9lOlwiY29ubmVjdGluZ1wifWdldCBfb3JpZ2luRGF0YUNoYW5uZWxJZCgpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmlkKSYmdm9pZCAwIT09ZT9lOm51bGx9Z2V0Q2hhbm5lbElkKCl7cmV0dXJuIHRoaXMuaWR9Z2V0Q29uZmlnKCl7cmV0dXJuIHRoaXMuX2NvbmZpZ31fY2xvc2UoKXt0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCYmKHRoaXMuX3VuYmluZERhdGFDaGFubmVsRXZlbnRzKHRoaXMuX29yaWdpbkRhdGFDaGFubmVsKSx0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbD12b2lkIDApfWFzeW5jIF93YWl0VGlsbE9wZW4oKXtyZXR1cm4gbmV3IHRnKCgoZSx0KT0+e2lmKHRoaXMuX29yaWdpbkRhdGFDaGFubmVsKXtcIm9wZW5cIj09PXRoaXMuX29yaWdpbkRhdGFDaGFubmVsLnJlYWR5U3RhdGUmJmUoKTtjb25zdCBpPXNldFRpbWVvdXQoKCgpPT57dmFyIGU7dChuZXcgVmcoeGcuREFUQUNIQU5ORUxfQ09OTkVDVElPTl9USU1FT1VULFwiQ2Fubm90IGNyZWF0ZSBkYXRhY2hhbm5lbCwgaWQ6IFwiLmNvbmNhdChudWxsPT09KGU9dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlkKSkpfSksMWU0KTt0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbC5vbm9wZW49KCk9PntjbGVhclRpbWVvdXQoaSksdGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwmJnRoaXMuX2JhbmREYXRhQ2hhbm5lbEV2ZW50cyh0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCksZSgpfSx0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbC5vbmVycm9yPSgpPT57dGhyb3cgY2xlYXJUaW1lb3V0KGkpLG5ldyBWZyh4Zy5EQVRBQ0hBTk5FTF9DT05ORUNUSU9OX1RJTUVPVVQpfX1lbHNlIHQobmV3IFZnKHhnLkRBVEFDSEFOTkVMX0NPTk5FQ1RJT05fVElNRU9VVCxcImNhbm5vdCBmaW5kIGRhdGFDaGFubmVsXCIpKX0pKX1fdXBkYXRlT3JpZ2luRGF0YUNoYW5uZWwoZSl7dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWw9ZSx0aGlzLl9iYW5kRGF0YUNoYW5uZWxFdmVudHMoZSl9X2luaXRQYWNrZXRIZWFkZXIoKXtjb25zdCBlPW5ldyBEYXRhVmlldyh0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyKTtlLnNldFVpbnQxNigwLHRoaXMuX3ZlcnNpb24pLGUuc2V0VWludDgoMix0aGlzLl90eXBlKSxlLnNldFVpbnQ4KDMsdGhpcy5fY29uZmlnLmlkKX1fYmFuZERhdGFDaGFubmVsRXZlbnRzKGUpe3RoaXMuX3VuYmluZERhdGFDaGFubmVsRXZlbnRzKGUpLFtReS5PUEVOLFF5LkNMT1NFLFF5LkVSUk9SXS5mb3JFYWNoKCh0PT57Y29uc3QgaT0oKT0+e3RoaXMuZW1pdCh0KX07dGhpcy5fZGF0YWNoYW5uZWxFdmVudE1hcC5zZXQodCxpKSxlLmFkZEV2ZW50TGlzdGVuZXIodCxpKX0pKX1fdW5iaW5kRGF0YUNoYW5uZWxFdmVudHMoZSl7QXJyYXkuZnJvbSh0aGlzLl9kYXRhY2hhbm5lbEV2ZW50TWFwLmVudHJpZXMoKSkuZm9yRWFjaCgodD0+e2xldFtpLG5dPXQ7ZS5yZW1vdmVFdmVudExpc3RlbmVyKGksbil9KSksdGhpcy5fZGF0YWNoYW5uZWxFdmVudE1hcC5jbGVhcigpfX1jbGFzcyB0RCBleHRlbmRzIGVEe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLG51KHRoaXMsXCJfbWVzc2FnZUxpc3RlbmVyXCIsdm9pZCAwKSx0aGlzLl9tZXNzYWdlTGlzdGVuZXI9ZT0+e2lmKGUuZGF0YS5ieXRlTGVuZ3RoPHRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXIuYnl0ZUxlbmd0aCl0aHJvdyBFcnJvcihcImludmFsaWQgYnl0ZUxlbmd0aDogdGhlIGJ5dGUgbGVuZ3RoIG11c3QgZXhjZWVkIFwiK3RoaXMuX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXIuYnl0ZUxlbmd0aCk7Y29uc3QgdD1lLmRhdGEuc2xpY2UoMCx0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyLmJ5dGVMZW5ndGgpO2lmKG5ldyBEYXRhVmlldyh0KS5nZXRVaW50OCgzKSE9PXRoaXMuaWQpcmV0dXJuO2xldCBpPWUuZGF0YS5zbGljZSh0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyLmJ5dGVMZW5ndGgpO2k9dGhpcy5fZGF0YVN0cmVhbVBhY2tldEhhbmRsZXIuZGVzZXJpYWxpemUoaSksdGhpcy5lbWl0KFF5Lk1FU1NBR0UsaSl9fV91cGRhdGVPcmlnaW5EYXRhQ2hhbm5lbChlKXtzdXBlci5fdXBkYXRlT3JpZ2luRGF0YUNoYW5uZWwoZSksdGhpcy5fYmFuZFJlbW90ZURhdGFDaGFubmVsRXZlbnRzKCl9X2Nsb3NlKCl7dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwmJih0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMuX21lc3NhZ2VMaXN0ZW5lciksc3VwZXIuX2Nsb3NlKCkpfV9iYW5kUmVtb3RlRGF0YUNoYW5uZWxFdmVudHMoKXt0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCYmdGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLl9tZXNzYWdlTGlzdGVuZXIpfX1jbGFzcyBpRCBleHRlbmRzIGVEe3NlbmQoZSl7aWYodGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwpe2xldCB0PWU7dD10aGlzLl9kYXRhU3RyZWFtUGFja2V0SGFuZGxlci5zZXJpYWxpemUoZSk7Y29uc3QgaT1uZXcgVWludDhBcnJheSh0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyLmJ5dGVMZW5ndGgrdC5ieXRlTGVuZ3RoKTtpLnNldChuZXcgVWludDhBcnJheSh0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyKSwwKSxpLnNldChuZXcgVWludDhBcnJheSh0KSx0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyLmJ5dGVMZW5ndGgpLHRoaXMuX29yaWdpbkRhdGFDaGFubmVsLnNlbmQoaS5idWZmZXIpfX19Y2xhc3MgbkQgZXh0ZW5kcyBpU3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksbnUodGhpcyxcInJlc3VsdFN0b3JhZ2VcIixuZXcgTWFwKX1zZXRMb2NhbEF1ZGlvU3RhdHMoZSx0LGkpe3RoaXMucmVjb3JkKFwiQVVESU9fSU5QVVRfTEVWRUxfVE9PX0xPV1wiLGUsdGhpcy5jaGVja0F1ZGlvSW5wdXRMZXZlbChpLHQpKSx0aGlzLnJlY29yZChcIlNFTkRfQVVESU9fQklUUkFURV9UT09fTE9XXCIsZSx0aGlzLmNoZWNrU2VuZEF1ZGlvQml0cmF0ZShpLHQpKX1zZXRMb2NhbFZpZGVvU3RhdHMoZSx0LGkpe3RoaXMucmVjb3JkKFwiU0VORF9WSURFT19CSVRSQVRFX1RPT19MT1dcIixlLHRoaXMuY2hlY2tTZW5kVmlkZW9CaXRyYXRlKGksdCkpLHRoaXMucmVjb3JkKFwiRlJBTUVSQVRFX0lOUFVUX1RPT19MT1dcIixlLHRoaXMuY2hlY2tGcmFtZXJhdGVJbnB1dChpLHQpKSx0aGlzLnJlY29yZChcIkZSQU1FUkFURV9TRU5UX1RPT19MT1dcIixlLHRoaXMuY2hlY2tGcmFtZXJhdGVTZW50KGkpKX1zZXRSZW1vdGVBdWRpb1N0YXRzKGUsdCl7Y29uc3QgaT1lLmdldFVzZXJJZCgpO3RoaXMucmVjb3JkKFwiQVVESU9fT1VUUFVUX0xFVkVMX1RPT19MT1dcIixpLHRoaXMuY2hlY2tBdWRpb091dHB1dExldmVsKHQpKX1zZXRSZW1vdGVWaWRlb1N0YXRzKGUsdCl7Y29uc3QgaT1lLmdldFVzZXJJZCgpO3RoaXMucmVjb3JkKFwiUkVDVl9WSURFT19ERUNPREVfRkFJTEVEXCIsaSx0aGlzLmNoZWNrVmlkZW9EZWNvZGUodCkpfXJlY29yZChlLHQsaSl7aWYoa0MoXCJTVEFUU19VUERBVEVfSU5URVJWQUxcIik+NTAwKXJldHVybjt0aGlzLnJlc3VsdFN0b3JhZ2UuaGFzKGUpfHx0aGlzLnJlc3VsdFN0b3JhZ2Uuc2V0KGUse3Jlc3VsdDpbXSxpc1ByZXZOb3JtYWw6ITB9KTtjb25zdCBuPXRoaXMucmVzdWx0U3RvcmFnZS5nZXQoZSk7aWYobiYmKG4ucmVzdWx0LnB1c2goaSksbi5yZXN1bHQubGVuZ3RoPj01KSl7dmFyIHI7Y29uc3QgaT1QcihyPW4ucmVzdWx0KS5jYWxsKHIsITApO24uaXNQcmV2Tm9ybWFsJiYhaSYmdGhpcy5lbWl0KFwiZXhjZXB0aW9uXCIsckRbZV0sZSx0KSwhbi5pc1ByZXZOb3JtYWwmJmkmJnRoaXMuZW1pdChcImV4Y2VwdGlvblwiLHJEW2VdKzJlMyxlK1wiX1JFQ09WRVJcIix0KSxuLmlzUHJldk5vcm1hbD1pLG4ucmVzdWx0PVtdfX1jaGVja0F1ZGlvT3V0cHV0TGV2ZWwoZSl7cmV0dXJuIShlLnJlY2VpdmVCaXRyYXRlPjAmJjA9PT1lLnJlY2VpdmVMZXZlbCl9Y2hlY2tBdWRpb0lucHV0TGV2ZWwoZSx0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFpBJiYhdC5pc0FjdGl2ZXx8KCEhdC5tdXRlZHx8MCE9PWUuc2VuZFZvbHVtZUxldmVsKX1jaGVja0ZyYW1lcmF0ZUlucHV0KGUsdCl7bGV0IGk9bnVsbDt0Ll9lbmNvZGVyQ29uZmlnJiZ0Ll9lbmNvZGVyQ29uZmlnLmZyYW1lUmF0ZSYmKGk9cEQodC5fZW5jb2RlckNvbmZpZy5mcmFtZVJhdGUpKTtjb25zdCBuPWUuY2FwdHVyZUZyYW1lUmF0ZTtyZXR1cm4haXx8IW58fCEoaT4xMCYmbjw1fHxpPDEwJiZpPj01JiZuPD0xKX1jaGVja0ZyYW1lcmF0ZVNlbnQoZSl7cmV0dXJuIShlLmNhcHR1cmVGcmFtZVJhdGUmJmUuc2VuZEZyYW1lUmF0ZSYmZS5jYXB0dXJlRnJhbWVSYXRlPjUmJmUuc2VuZEZyYW1lUmF0ZTw9MSl9Y2hlY2tTZW5kVmlkZW9CaXRyYXRlKGUsdCl7cmV0dXJuISF0Lm11dGVkfHwwIT09ZS5zZW5kQml0cmF0ZX1jaGVja1NlbmRBdWRpb0JpdHJhdGUoZSx0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFpBJiYhdC5pc0FjdGl2ZXx8KCEhdC5tdXRlZHx8MCE9PWUuc2VuZEJpdHJhdGUpfWNoZWNrVmlkZW9EZWNvZGUoZSl7cmV0dXJuIDA9PT1lLnJlY2VpdmVCaXRyYXRlfHwwIT09ZS5kZWNvZGVGcmFtZVJhdGV9fWNvbnN0IHJEPXtGUkFNRVJBVEVfSU5QVVRfVE9PX0xPVzoxMDAxLEZSQU1FUkFURV9TRU5UX1RPT19MT1c6MTAwMixTRU5EX1ZJREVPX0JJVFJBVEVfVE9PX0xPVzoxMDAzLFJFQ1ZfVklERU9fREVDT0RFX0ZBSUxFRDoxMDA1LEFVRElPX0lOUFVUX0xFVkVMX1RPT19MT1c6MjAwMSxBVURJT19PVVRQVVRfTEVWRUxfVE9PX0xPVzoyMDAyLFNFTkRfQVVESU9fQklUUkFURV9UT09fTE9XOjIwMDN9O2NvbnN0IHNEPW5ldyBjbGFzc3ttYXJrU3Vic2NyaWJlU3RhcnQoZSx0KXtwZXJmb3JtYW5jZS5tYXJrKFwiYWdvcmEtd2ViLXNkay9cIi5jb25jYXQoZSxcIi9zdWJzY3JpYmUtXCIpLmNvbmNhdCh0KSl9bWFya1B1Ymxpc2hTdGFydChlLHQpe3BlcmZvcm1hbmNlLm1hcmsoXCJhZ29yYS13ZWItc2RrL1wiLmNvbmNhdChlLFwiL3B1Ymxpc2gtXCIpLmNvbmNhdCh0KSl9bWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydChlLHQpe2NvbnN0IGk9cGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5TmFtZShcImFnb3JhLXdlYi1zZGsvXCIuY29uY2F0KGUsXCIvc3Vic2NyaWJlLVwiKS5jb25jYXQodCkpO2lmKGkubGVuZ3RoPjApe2NvbnN0IGU9aVtpLmxlbmd0aC0xXTtyZXR1cm4gTWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKS1lLnN0YXJ0VGltZSl9cmV0dXJuIDB9bWVhc3VyZUZyb21QdWJsaXNoU3RhcnQoZSx0KXtjb25zdCBpPXBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoXCJhZ29yYS13ZWItc2RrL1wiLmNvbmNhdChlLFwiL3B1Ymxpc2gtXCIpLmNvbmNhdCh0KSk7aWYoaS5sZW5ndGg+MCl7Y29uc3QgZT1pW2kubGVuZ3RoLTFdO3JldHVybiBNYXRoLnJvdW5kKHBlcmZvcm1hbmNlLm5vdygpLWUuc3RhcnRUaW1lKX1yZXR1cm4gMH19O2Z1bmN0aW9uIG9EKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBhRChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9vRChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpvRChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jbGFzcyBjRHtjb25zdHJ1Y3RvcihlKXtudSh0aGlzLFwic3RvcmVcIix2b2lkIDApLG51KHRoaXMsXCJvblN0YXRzRXhjZXB0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwib25VcGxvYWRQdWJsaXNoRHVyYXRpb25cIix2b2lkIDApLG51KHRoaXMsXCJvblN0YXRzQ2hhbmdlZFwiLHZvaWQgMCksbnUodGhpcyxcImxvY2FsU3RhdHNcIixuZXcgTWFwKSxudSh0aGlzLFwicmVtb3RlU3RhdHNcIixuZXcgTWFwKSxudSh0aGlzLFwidXBkYXRlU3RhdHNJbnRlcnZhbFwiLHZvaWQgMCksbnUodGhpcyxcInRyYWZmaWNTdGF0c1wiLHZvaWQgMCksbnUodGhpcyxcInRyYWZmaWNTdGF0c1BlZXJMaXN0XCIsW10pLG51KHRoaXMsXCJ1cGxpbmtTdGF0c1wiLHZvaWQgMCksbnUodGhpcyxcImV4Y2VwdGlvbk1vbml0b3JcIix2b2lkIDApLG51KHRoaXMsXCJwMnBDaGFubmVsXCIsdm9pZCAwKSxudSh0aGlzLFwic2NhbGFiaWxpdHlNb2RlXCIsY3YuTDFUMSksbnUodGhpcyxcInVwZGF0ZVN0YXRzXCIsKCgpPT57dGhpcy5wMnBDaGFubmVsJiYodGhpcy51cGRhdGVSZW1vdGVTdGF0cyh0aGlzLnAycENoYW5uZWwpLHRoaXMudXBkYXRlTG9jYWxTdGF0cyh0aGlzLnAycENoYW5uZWwpKX0pKSx0aGlzLnN0b3JlPWUsdGhpcy51cGRhdGVTdGF0c0ludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLnVwZGF0ZVN0YXRzLDFlMyksdGhpcy5leGNlcHRpb25Nb25pdG9yPW5ldyBuRCx0aGlzLmV4Y2VwdGlvbk1vbml0b3Iub24oXCJleGNlcHRpb25cIiwoKGUsdCxpKT0+e3RoaXMub25TdGF0c0V4Y2VwdGlvbiYmdGhpcy5vblN0YXRzRXhjZXB0aW9uKGUsdCxpKX0pKX1yZXNldCgpe3RoaXMubG9jYWxTdGF0cz1uZXcgTWFwLHRoaXMucmVtb3RlU3RhdHM9bmV3IE1hcCx0aGlzLnRyYWZmaWNTdGF0cz12b2lkIDAsdGhpcy50cmFmZmljU3RhdHNQZWVyTGlzdD1bXSx0aGlzLnVwbGlua1N0YXRzPXZvaWQgMH1nZXRMb2NhbEF1ZGlvVHJhY2tTdGF0cygpe3JldHVybiB0aGlzLmxvY2FsU3RhdHMuZ2V0KHVJLkxvY2FsQXVkaW9UcmFjayl8fGFEKHt9LEJ5KX1nZXRMb2NhbFZpZGVvVHJhY2tTdGF0cygpe3JldHVybiB0aGlzLmxvY2FsU3RhdHMuZ2V0KHVJLkxvY2FsVmlkZW9UcmFjayl8fGFEKHt9LGp5KX1nZXRSZW1vdGVBdWRpb1RyYWNrU3RhdHMoZSl7Y29uc3QgdD0oZSx0KT0+e2lmKCF0aGlzLnRyYWZmaWNTdGF0cylyZXR1cm4gdDtjb25zdCBpPXRoaXMudHJhZmZpY1N0YXRzLnBlZXJfZGVsYXkuZmluZCgodD0+dC5wZWVyX3VpZD09PWUpKTtyZXR1cm4gaSYmKHQucHVibGlzaER1cmF0aW9uPWkuQl9wcGFkKyhEYXRlLm5vdygpLXRoaXMudHJhZmZpY1N0YXRzLnRpbWVzdGFtcCkpLHR9LGk9e307aWYoZSl7dmFyIG47Y29uc3Qgcj1udWxsPT09KG49dGhpcy5yZW1vdGVTdGF0cy5nZXQoZSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmF1ZGlvU3RhdHM7ciYmKGlbZV09dChlLHIpKX1lbHNlIEFycmF5LmZyb20odGhpcy5yZW1vdGVTdGF0cy5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbbix7YXVkaW9TdGF0czpyfV09ZTtyJiYoaVtuXT10KG4scikpfSkpO3JldHVybiBpfWdldFJlbW90ZU5ldHdvcmtRdWFsaXR5U3RhdHMoZSl7Y29uc3QgdD17fTtpZihlKXt2YXIgaTtjb25zdCBuPW51bGw9PT0oaT10aGlzLnJlbW90ZVN0YXRzLmdldChlKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkubmV0d29ya1N0YXRzO24mJih0W2VdPW4pfWVsc2UgQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVN0YXRzLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFtpLHtuZXR3b3JrU3RhdHM6bn1dPWU7biYmKHRbaV09bil9KSk7cmV0dXJuIHR9Z2V0UmVtb3RlVmlkZW9UcmFja1N0YXRzKGUpe2NvbnN0IHQ9KGUsdCk9PntpZighdGhpcy50cmFmZmljU3RhdHMpcmV0dXJuIHQ7Y29uc3QgaT10aGlzLnRyYWZmaWNTdGF0cy5wZWVyX2RlbGF5LmZpbmQoKHQ9PnQucGVlcl91aWQ9PT1lKSk7cmV0dXJuIGkmJih0LnB1Ymxpc2hEdXJhdGlvbj1pLkJfcHB2ZCsoRGF0ZS5ub3coKS10aGlzLnRyYWZmaWNTdGF0cy50aW1lc3RhbXApKSx0fSxpPXt9O2lmKGUpe3ZhciBuO2NvbnN0IHI9bnVsbD09PShuPXRoaXMucmVtb3RlU3RhdHMuZ2V0KGUpKXx8dm9pZCAwPT09bj92b2lkIDA6bi52aWRlb1N0YXRzO3ImJihpW2VdPXQoZSxyKSl9ZWxzZSBBcnJheS5mcm9tKHRoaXMucmVtb3RlU3RhdHMuZW50cmllcygpKS5mb3JFYWNoKChlPT57bGV0W24se3ZpZGVvU3RhdHM6cn1dPWU7ciYmKGlbbl09dChuLHIpKX0pKTtyZXR1cm4gaX1nZXRSVENTdGF0cygpe2xldCBlPTAsdD0wLGk9MCxuPTA7Y29uc3Qgcj10aGlzLmxvY2FsU3RhdHMuZ2V0KHVJLkxvY2FsQXVkaW9UcmFjayk7ciYmKGUrPXIuc2VuZEJ5dGVzLHQrPXIuc2VuZEJpdHJhdGUpO2NvbnN0IHM9dGhpcy5sb2NhbFN0YXRzLmdldCh1SS5Mb2NhbFZpZGVvVHJhY2spO3MmJihlKz1zLnNlbmRCeXRlcyx0Kz1zLnNlbmRCaXRyYXRlKTtjb25zdCBvPXRoaXMubG9jYWxTdGF0cy5nZXQodUkuTG9jYWxWaWRlb0xvd1RyYWNrKTtvJiYoZSs9by5zZW5kQnl0ZXMsdCs9by5zZW5kQml0cmF0ZSksdGhpcy5yZW1vdGVTdGF0cy5mb3JFYWNoKChlPT57bGV0e2F1ZGlvU3RhdHM6dCx2aWRlb1N0YXRzOnJ9PWU7dCYmKGkrPXQucmVjZWl2ZUJ5dGVzLG4rPXQucmVjZWl2ZUJpdHJhdGUpLHImJihpKz1yLnJlY2VpdmVCeXRlcyxuKz1yLnJlY2VpdmVCaXRyYXRlKX0pKTtsZXQgYT0xO3JldHVybiB0aGlzLnRyYWZmaWNTdGF0cyYmKGErPXRoaXMudHJhZmZpY1N0YXRzLnBlZXJfZGVsYXkubGVuZ3RoKSx7RHVyYXRpb246MCxVc2VyQ291bnQ6YSxTZW5kQml0cmF0ZTp0LFNlbmRCeXRlczplLFJlY3ZCeXRlczppLFJlY3ZCaXRyYXRlOm4sT3V0Z29pbmdBdmFpbGFibGVCYW5kd2lkdGg6dGhpcy51cGxpbmtTdGF0cz90aGlzLnVwbGlua1N0YXRzLkJfdWFiLzFlMzowLFJUVDp0aGlzLnRyYWZmaWNTdGF0cz8yKnRoaXMudHJhZmZpY1N0YXRzLkJfYWNkOjB9fWFkZExvY2FsU3RhdHMoZSl7dGhpcy5sb2NhbFN0YXRzLnNldChlLHZvaWQgMCl9cmVtb3ZlTG9jYWxTdGF0cyhlKXtlP3RoaXMubG9jYWxTdGF0cy5kZWxldGUoZSk6dGhpcy5sb2NhbFN0YXRzLmNsZWFyKCl9YWRkUmVtb3RlU3RhdHMoZSl7dGhpcy5yZW1vdGVTdGF0cy5zZXQoZSx7fSl9cmVtb3ZlUmVtb3RlU3RhdHMoZSl7ZT90aGlzLnJlbW90ZVN0YXRzLmRlbGV0ZShlKTp0aGlzLnJlbW90ZVN0YXRzLmNsZWFyKCl9YWRkUDJQQ2hhbm5lbChlKXt0aGlzLnAycENoYW5uZWw9ZX11cGRhdGVUcmFmZmljU3RhdHMoZSl7ZS5wZWVyX2RlbGF5PWUucGVlcl9kZWxheS5maWx0ZXIoKGU9PnZvaWQgMCE9PWUuQl9wcGFkfHx2b2lkIDAhPT1lLkJfcHB2ZCkpO2UucGVlcl9kZWxheS5maWx0ZXIoKGU9Pi0xPT09dGhpcy50cmFmZmljU3RhdHNQZWVyTGlzdC5pbmRleE9mKGUucGVlcl91aWQpKSkuZm9yRWFjaCgoZT0+e3ZhciB0O2NvbnN0IGk9bnVsbD09PSh0PXRoaXMucDJwQ2hhbm5lbCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0UmVtb3RlTWVkaWEoZS5wZWVyX3VpZCksbj1udWxsIT1pJiZpLnZpZGVvU1NSQz9zRC5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsaS52aWRlb1NTUkMpOjAscj1udWxsIT1pJiZpLmF1ZGlvU1NSQz9zRC5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsaS5hdWRpb1NTUkMpOjA7dm9pZCAwIT09ZS5CX3BwYWQmJnZvaWQgMCE9PWUuQl9wcHZkJiYodGhpcy5vblVwbG9hZFB1Ymxpc2hEdXJhdGlvbiYmdGhpcy5vblVwbG9hZFB1Ymxpc2hEdXJhdGlvbihlLnBlZXJfdWlkLGUuQl9wcGFkLGUuQl9wcHZkLG4+cj9uOnIpLHRoaXMudHJhZmZpY1N0YXRzUGVlckxpc3QucHVzaChlLnBlZXJfdWlkKSl9KSksdGhpcy50cmFmZmljU3RhdHM9ZX11cGRhdGVVcGxpbmtTdGF0cyhlKXt0aGlzLnVwbGlua1N0YXRzJiZ0aGlzLnVwbGlua1N0YXRzLkJfZmlyIT09ZS5CX2ZpciYmV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdOiBQZXJpb2QgZmlyIGNoYW5nZXMgdG8gXCIpLmNvbmNhdChlLkJfZmlyKSksdGhpcy51cGxpbmtTdGF0cz1lfXN0YXRpYyBpc1JlbW90ZVZpZGVvRnJlZXplKGUsdCxpKXtpZighZSlyZXR1cm4hMTtjb25zdCBuPSEhaSYmdC5mcmFtZXNEZWNvZGVGcmVlemVUaW1lPmkuZnJhbWVzRGVjb2RlRnJlZXplVGltZSxyPSFpfHx0LmZyYW1lc0RlY29kZUNvdW50PmkuZnJhbWVzRGVjb2RlQ291bnQ7cmV0dXJuIG58fCFyfXN0YXRpYyBpc1JlbW90ZUF1ZGlvRnJlZXplKGUpe3JldHVybiEhZSYmZS5faXNGcmVlemUoKX1pc0xvY2FsVmlkZW9GcmVlemUoZSl7cmV0dXJuISghZS5pbnB1dEZyYW1lfHwhZS5zZW50RnJhbWUpJiYoZS5pbnB1dEZyYW1lLmZyYW1lUmF0ZT41JiZlLnNlbnRGcmFtZS5mcmFtZVJhdGU8Myl9dXBkYXRlTG9jYWxTdGF0cyhlKXtBcnJheS5mcm9tKHRoaXMubG9jYWxTdGF0cy5lbnRyaWVzKCkpLmZvckVhY2goKHQ9PntsZXRbaSxuXT10O3N3aXRjaChpKXtjYXNlIHVJLkxvY2FsVmlkZW9UcmFjazpjYXNlIHVJLkxvY2FsVmlkZW9Mb3dUcmFjazp7Y29uc3QgdD1uLHM9YUQoe30sankpLG89ZS5nZXRTdGF0cygpLGE9ZS5nZXRMb2NhbE1lZGlhKGkpO2lmKG8pe2NvbnN0IGk9by52aWRlb1NlbmQuZmluZCgoZT0+ZS5zc3JjPT09KG51bGw9PWE/dm9pZCAwOmEuc3NyY3NbMF0uc3NyY0lkKSkpO2lmKGkpe2NvbnN0IG49ZS5nZXRMb2NhbFZpZGVvU2l6ZSgpLHI9ZS5nZXRFbmNvZGVyQ29uZmlnKHVJLkxvY2FsVmlkZW9UcmFjayk7XCJIMjY0XCIhPT1pLmNvZGVjJiZcIkgyNjVcIiE9PWkuY29kZWMmJlwiVlA4XCIhPT1pLmNvZGVjJiZcIlZQOVwiIT09aS5jb2RlYyYmXCJBVjFYXCIhPT1pLmNvZGVjJiZcIkFWMVwiIT09aS5jb2RlY3x8KHMuY29kZWNUeXBlPWkuY29kZWMpLHMuc2VuZEJ5dGVzPWkuYnl0ZXMscy5zZW5kQml0cmF0ZT10PzgqTWF0aC5tYXgoMCxzLnNlbmRCeXRlcy10LnNlbmRCeXRlcyk6MCxpLmlucHV0RnJhbWU/KHMuY2FwdHVyZUZyYW1lUmF0ZT1pLmlucHV0RnJhbWUuZnJhbWVSYXRlLHMuY2FwdHVyZVJlc29sdXRpb25IZWlnaHQ9aS5pbnB1dEZyYW1lLmhlaWdodCxzLmNhcHR1cmVSZXNvbHV0aW9uV2lkdGg9aS5pbnB1dEZyYW1lLndpZHRoKTpuJiYocy5jYXB0dXJlUmVzb2x1dGlvbldpZHRoPW4ud2lkdGgscy5jYXB0dXJlUmVzb2x1dGlvbkhlaWdodD1uLmhlaWdodCksaS5zZW50RnJhbWU/KHMuc2VuZEZyYW1lUmF0ZT1pLnNlbnRGcmFtZS5mcmFtZVJhdGUscy5zZW5kUmVzb2x1dGlvbkhlaWdodD1pLnNlbnRGcmFtZS5oZWlnaHQscy5zZW5kUmVzb2x1dGlvbldpZHRoPWkuc2VudEZyYW1lLndpZHRoKTpuJiYocy5zZW5kUmVzb2x1dGlvbldpZHRoPW4ud2lkdGgscy5zZW5kUmVzb2x1dGlvbkhlaWdodD1uLmhlaWdodCksaS5hdmdFbmNvZGVNcyYmKHMuZW5jb2RlRGVsYXk9aS5hdmdFbmNvZGVNcyksciYmci5iaXRyYXRlTWF4JiYocy50YXJnZXRTZW5kQml0cmF0ZT0xZTMqci5iaXRyYXRlTWF4KSxzLnNlbmRQYWNrZXRzPWkucGFja2V0cyxzLnNlbmRQYWNrZXRzTG9zdD1pLnBhY2tldHNMb3N0LHMuc2VuZEppdHRlck1zPWkuaml0dGVyTXMscy5zZW5kUnR0TXM9aS5ydHRNcyxzLnRvdGFsRHVyYXRpb249dD90LnRvdGFsRHVyYXRpb24rMToxLHMudG90YWxGcmVlemVUaW1lPXQ/dC50b3RhbEZyZWV6ZVRpbWU6MCx0aGlzLmlzTG9jYWxWaWRlb0ZyZWV6ZShpKSYmKHMudG90YWxGcmVlemVUaW1lKz0xKSxpLnNjYWxhYmlsaXR5TW9kZSYmdGhpcy5zY2FsYWJpbGl0eU1vZGUhPT1pLnNjYWxhYmlsaXR5TW9kZSYmKFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXTogVGhlIHNjYWxhYmlsaXR5TW9kZSBvZiB0aGUgdmlkZW8gc2VuZGluZyBzdHJlYW0gaXMgXCIpLmNvbmNhdChpLnNjYWxhYmlsaXR5TW9kZSkpLHRoaXMuc2NhbGFiaWxpdHlNb2RlPWkuc2NhbGFiaWxpdHlNb2RlKX10aGlzLnRyYWZmaWNTdGF0cyYmKHMuY3VycmVudFBhY2tldExvc3NSYXRlPSh0aGlzLnRyYWZmaWNTdGF0cy5CX3B2bHI0fHwwKS8xMDApfXZhciByO2lmKHRoaXMubG9jYWxTdGF0cy5zZXQoaSxzKSwobnVsbD09dD92b2lkIDA6dC5zZW5kUmVzb2x1dGlvbldpZHRoKSE9PXMuc2VuZFJlc29sdXRpb25XaWR0aHx8KG51bGw9PXQ/dm9pZCAwOnQuc2VuZFJlc29sdXRpb25IZWlnaHQpIT09cy5zZW5kUmVzb2x1dGlvbkhlaWdodCludWxsPT09KHI9dGhpcy5vblN0YXRzQ2hhbmdlZCl8fHZvaWQgMD09PXJ8fHIuY2FsbCh0aGlzLFwicmVzb2x1dGlvblwiLHt3aWR0aDpzLnNlbmRSZXNvbHV0aW9uV2lkdGgsaGVpZ2h0OnMuc2VuZFJlc29sdXRpb25IZWlnaHR9KTtzJiZhJiZ0aGlzLmV4Y2VwdGlvbk1vbml0b3Iuc2V0TG9jYWxWaWRlb1N0YXRzKHRoaXMuc3RvcmUudWlkLGEudHJhY2sscyk7YnJlYWt9Y2FzZSB1SS5Mb2NhbEF1ZGlvVHJhY2s6e2NvbnN0IHQ9bixyPWFEKHt9LEJ5KSxzPWUuZ2V0U3RhdHMoKSxvPWUuZ2V0TG9jYWxNZWRpYShpKTtpZihzKXtjb25zdCBpPXMuYXVkaW9TZW5kLmZpbmQoKGU9PmUuc3NyYz09PShudWxsPT1vP3ZvaWQgMDpvLnNzcmNzWzBdLnNzcmNJZCkpKTtpZihpKXtpZihcIm9wdXNcIiE9PWkuY29kZWMmJlwiYWFjXCIhPT1pLmNvZGVjJiZcIlBDTVVcIiE9PWkuY29kZWMmJlwiUENNQVwiIT09aS5jb2RlYyYmXCJHNzIyXCIhPT1pLmNvZGVjfHwoci5jb2RlY1R5cGU9aS5jb2RlYyksaS5pbnB1dExldmVsKXIuc2VuZFZvbHVtZUxldmVsPU1hdGgucm91bmQoMzI3NjcqaS5pbnB1dExldmVsKTtlbHNle2NvbnN0IHQ9ZS5nZXRMb2NhbEF1ZGlvVm9sdW1lKCk7dCYmKHIuc2VuZFZvbHVtZUxldmVsPU1hdGgucm91bmQoMzI3NjcqdCkpfXIuc2VuZEJ5dGVzPWkuYnl0ZXMsci5zZW5kUGFja2V0cz1pLnBhY2tldHMsci5zZW5kUGFja2V0c0xvc3Q9aS5wYWNrZXRzTG9zdCxyLnNlbmRKaXR0ZXJNcz1pLmppdHRlck1zLHIuc2VuZFJ0dE1zPWkucnR0TXMsci5zZW5kQml0cmF0ZT10PzgqTWF0aC5tYXgoMCxyLnNlbmRCeXRlcy10LnNlbmRCeXRlcyk6MH19dGhpcy50cmFmZmljU3RhdHMmJihyLmN1cnJlbnRQYWNrZXRMb3NzUmF0ZT0odGhpcy50cmFmZmljU3RhdHMuQl9wYWxyNHx8MCkvMTAwKSx0aGlzLmxvY2FsU3RhdHMuc2V0KHVJLkxvY2FsQXVkaW9UcmFjayxyKSxyJiZvJiZ0aGlzLmV4Y2VwdGlvbk1vbml0b3Iuc2V0TG9jYWxBdWRpb1N0YXRzKHRoaXMuc3RvcmUudWlkLG8udHJhY2sscik7YnJlYWt9fX0pKX11cGRhdGVSZW1vdGVTdGF0cyhlKXtBcnJheS5mcm9tKHRoaXMucmVtb3RlU3RhdHMuZW50cmllcygpKS5mb3JFYWNoKCh0PT57bGV0W2kse3ZpZGVvU3RhdHM6bixhdWRpb1N0YXRzOnIsdmlkZW9QY1N0YXRzOnN9XT10O2NvbnN0IG89cixhPW4sYz1zLGQ9YUQoe30sR3kpLGw9YUQoe30sSHkpLGg9YUQoe30sV3kpLHthdWRpb1RyYWNrOnUsdmlkZW9UcmFjazpwLGF1ZGlvU1NSQzpfLHZpZGVvU1NSQzpFfT1lLmdldFJlbW90ZU1lZGlhKGkpLG09ZS5nZXRTdGF0cygpLGY9bnVsbD09bT92b2lkIDA6bS5hdWRpb1JlY3YuZmluZCgoZT0+ZS5zc3JjPT09XykpLGc9bnVsbD09bT92b2lkIDA6bS52aWRlb1JlY3YuZmluZCgoZT0+ZS5zc3JjPT09RSkpLFM9dGhpcy50cmFmZmljU3RhdHMmJnRoaXMudHJhZmZpY1N0YXRzLnBlZXJfZGVsYXkuZmluZCgoZT0+ZS5wZWVyX3VpZD09PWkpKTtpZihmJiYoXCJvcHVzXCIhPT1mLmNvZGVjJiZcImFhY1wiIT09Zi5jb2RlYyYmXCJQQ01VXCIhPT1mLmNvZGVjJiZcIlBDTUFcIiE9PWYuY29kZWMmJlwiRzcyMlwiIT09Zi5jb2RlY3x8KGQuY29kZWNUeXBlPWYuY29kZWMpLGYub3V0cHV0TGV2ZWw/ZC5yZWNlaXZlTGV2ZWw9TWF0aC5yb3VuZCgzMjc2NypmLm91dHB1dExldmVsKTp1JiYoZC5yZWNlaXZlTGV2ZWw9TWF0aC5yb3VuZCgzMjc2Nyp1LmdldFZvbHVtZUxldmVsKCkpKSxkLnJlY2VpdmVCeXRlcz1mLmJ5dGVzLGQucmVjZWl2ZVBhY2tldHM9Zi5wYWNrZXRzLGQucmVjZWl2ZVBhY2tldHNMb3N0PWYucGFja2V0c0xvc3QsZC5wYWNrZXRMb3NzUmF0ZT1kLnJlY2VpdmVQYWNrZXRzTG9zdC8oZC5yZWNlaXZlUGFja2V0cytkLnJlY2VpdmVQYWNrZXRzTG9zdCksZC5yZWNlaXZlQml0cmF0ZT1vPzgqTWF0aC5tYXgoMCxkLnJlY2VpdmVCeXRlcy1vLnJlY2VpdmVCeXRlcyk6MCxkLnRvdGFsRHVyYXRpb249bz9vLnRvdGFsRHVyYXRpb24rMToxLGQudG90YWxGcmVlemVUaW1lPW8/by50b3RhbEZyZWV6ZVRpbWU6MCxkLmZyZWV6ZVJhdGU9ZC50b3RhbEZyZWV6ZVRpbWUvZC50b3RhbER1cmF0aW9uLGQucmVjZWl2ZURlbGF5PWYuaml0dGVyQnVmZmVyTXMsZC50b3RhbER1cmF0aW9uPjEwJiZjRC5pc1JlbW90ZUF1ZGlvRnJlZXplKHUpJiYoZC50b3RhbEZyZWV6ZVRpbWUrPTEpKSxnKXtcIkgyNjRcIiE9PWcuY29kZWMmJlwiSDI2NVwiIT09Zy5jb2RlYyYmXCJWUDhcIiE9PWcuY29kZWMmJlwiVlA5XCIhPT1nLmNvZGVjJiZcIkFWMVhcIiE9PWcuY29kZWMmJlwiQVYxXCIhPT1nLmNvZGVjfHwobC5jb2RlY1R5cGU9Zy5jb2RlYyksbC5yZWNlaXZlQnl0ZXM9Zy5ieXRlcyxsLnJlY2VpdmVCaXRyYXRlPWE/OCpNYXRoLm1heCgwLGwucmVjZWl2ZUJ5dGVzLWEucmVjZWl2ZUJ5dGVzKTowLGwuZGVjb2RlRnJhbWVSYXRlPWcuZGVjb2RlRnJhbWVSYXRlPDA/MDpnLmRlY29kZUZyYW1lUmF0ZSxsLnJlbmRlckZyYW1lUmF0ZT1nLmRlY29kZUZyYW1lUmF0ZTwwPzA6Zy5kZWNvZGVGcmFtZVJhdGUsZy5vdXRwdXRGcmFtZSYmKGwucmVuZGVyRnJhbWVSYXRlPWcub3V0cHV0RnJhbWUuZnJhbWVSYXRlKSxnLnJlY2VpdmVkRnJhbWU/KGwucmVjZWl2ZUZyYW1lUmF0ZT1nLnJlY2VpdmVkRnJhbWUuZnJhbWVSYXRlLGwucmVjZWl2ZVJlc29sdXRpb25IZWlnaHQ9Zy5yZWNlaXZlZEZyYW1lLmhlaWdodCxsLnJlY2VpdmVSZXNvbHV0aW9uV2lkdGg9Zy5yZWNlaXZlZEZyYW1lLndpZHRoKTpwJiYobC5yZWNlaXZlUmVzb2x1dGlvbkhlaWdodD1wLl92aWRlb0hlaWdodHx8MCxsLnJlY2VpdmVSZXNvbHV0aW9uV2lkdGg9cC5fdmlkZW9XaWR0aHx8MCksdm9pZCAwIT09Zy5mcmFtZXNSYXRlRmlyZWZveCYmKGwucmVjZWl2ZUZyYW1lUmF0ZT1NYXRoLnJvdW5kKGcuZnJhbWVzUmF0ZUZpcmVmb3gpKSxsLnJlY2VpdmVQYWNrZXRzPWcucGFja2V0cyxsLnJlY2VpdmVQYWNrZXRzTG9zdD1nLnBhY2tldHNMb3N0LGwucGFja2V0TG9zc1JhdGU9bC5yZWNlaXZlUGFja2V0c0xvc3QvKGwucmVjZWl2ZVBhY2tldHMrbC5yZWNlaXZlUGFja2V0c0xvc3QpLGwudG90YWxEdXJhdGlvbj1hP2EudG90YWxEdXJhdGlvbisxOjEsbC50b3RhbEZyZWV6ZVRpbWU9YT9hLnRvdGFsRnJlZXplVGltZTowLGwucmVjZWl2ZURlbGF5PWcuaml0dGVyQnVmZmVyTXN8fDA7Y29uc3QgdD0hIUUmJmUuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KEUpO3AmJnQmJmNELmlzUmVtb3RlVmlkZW9GcmVlemUocCxnLGMpJiYobC50b3RhbEZyZWV6ZVRpbWUrPTEpLGwuZnJlZXplUmF0ZT1sLnRvdGFsRnJlZXplVGltZS9sLnRvdGFsRHVyYXRpb259UyYmKGQuZW5kMkVuZERlbGF5PVMuQl9hZCxsLmVuZDJFbmREZWxheT1TLkJfdmQsZC50cmFuc3BvcnREZWxheT1TLkJfZWQsbC50cmFuc3BvcnREZWxheT1TLkJfZWQsZC5jdXJyZW50UGFja2V0TG9zc1JhdGU9Uy5CX2VhbHI0LzEwMCxsLmN1cnJlbnRQYWNrZXRMb3NzUmF0ZT1TLkJfZXZscjQvMTAwLGgudXBsaW5rTmV0d29ya1F1YWxpdHk9Uy5CX3B1bnE/Uy5CX3B1bnE6MCxoLmRvd25saW5rTmV0d29ya1F1YWxpdHk9Uy5CX3BkbnE/Uy5CX3BkbnE6MCksdGhpcy5yZW1vdGVTdGF0cy5zZXQoaSx7YXVkaW9TdGF0czpkLHZpZGVvU3RhdHM6bCx2aWRlb1BjU3RhdHM6ZyxuZXR3b3JrU3RhdHM6aH0pLHUmJnRoaXMuZXhjZXB0aW9uTW9uaXRvci5zZXRSZW1vdGVBdWRpb1N0YXRzKHUsZCkscCYmdGhpcy5leGNlcHRpb25Nb25pdG9yLnNldFJlbW90ZVZpZGVvU3RhdHMocCxsKX0pKX19ZnVuY3Rpb24gZEQoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIGxEKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2REKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOmREKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGhEKGUpe3JldHVybiBlLm1hdGNoKC9eW1xcLlxcOlxcZF0rJC8pP1wiXCIuY29uY2F0KGUucmVwbGFjZSgvW15cXGRdL2csXCItXCIpLFwiLlwiKS5jb25jYXQoa0MoXCJUVVJOX0RPTUFJTlwiKSk6KFdDLmluZm8oXCJDYW5ub3QgcmVjb2duaXplZCBhcyBJUCBhZGRyZXNzIFwiLmNvbmNhdChlLFwiLiBVc2VkIEFzIEhvc3QgaW5zdGVhZFwiKSksZSl9ZnVuY3Rpb24gdUQoZSx0KXt2YXIgaSxuO2NvbnN0IHI9a0MoXCJHQVRFV0FZX0RPTUFJTlNcIik7bGV0IHM9clsxXSYmLTEhPT10LmluZGV4T2YoclsxXSk/MTowO2UuYWRkcmVzc2VzPWUuYWRkcmVzc2VzfHxbXTtjb25zdCBvPWUuYWRkcmVzc2VzLm1hcCgoZT0+ZS5kb21haW5fcHJlZml4P3thZGRyZXNzOlwiXCIuY29uY2F0KGUuZG9tYWluX3ByZWZpeCxcIi5cIikuY29uY2F0KHJbcysrJXIubGVuZ3RoXSxcIjpcIikuY29uY2F0KGUucG9ydCl9OmUuaXAubWF0Y2goL15bXFwuXFw6XFxkXSskLyk/e2lwOmUuaXAscG9ydDplLnBvcnQsYWRkcmVzczpcIlwiLmNvbmNhdChlLmlwLnJlcGxhY2UoL1teXFxkXS9nLFwiLVwiKSxcIi5cIikuY29uY2F0KHJbcysrJXIubGVuZ3RoXSxcIjpcIikuY29uY2F0KGUucG9ydCl9OihXQy5pbmZvKFwiQ2Fubm90IHJlY29nbml6ZWQgYXMgSVAgYWRkcmVzcyBcIi5jb25jYXQoZS5pcCxcIi4gVXNlZCBBcyBIb3N0IGluc3RlYWRcIikpLHtpcDplLmlwLHBvcnQ6ZS5wb3J0LGFkZHJlc3M6XCJcIi5jb25jYXQoZS5pcCxcIjpcIikuY29uY2F0KGUucG9ydCl9KSkpO2lmKG51bGwhPT0oaT1lLmRldGFpbCkmJnZvaWQgMCE9PWkmJmlbMThdJiZcInN0cmluZ1wiPT10eXBlb2YobnVsbD09PShuPWUuZGV0YWlsKXx8dm9pZCAwPT09bj92b2lkIDA6blsxOF0pKXtjb25zdCB0PWUuZGV0YWlsWzE4XSxpPW51bGw9PXQ/dm9pZCAwOnQuc3BsaXQoXCI7XCIpO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSsrKXt2YXIgYTtjb25zdCB0PUV5KGE9aVtlXSkuY2FsbChhKTtvW2VdJiZ0JiYob1tlXS5pcDY9dCl9fXJldHVybntnYXRld2F5QWRkcnM6byx1aWQ6ZS51aWQsY2lkOmUuY2lkLGNlcnQ6ZS5jZXJ0LHZpZDplLmRldGFpbCYmZS5kZXRhaWxbOF0sdW5pX2xic19pcDplLmRldGFpbCYmZS5kZXRhaWxbMV0scmVzOmUsY3NJcDplLmRldGFpbCYmZS5kZXRhaWxbNTAyXX19ZnVuY3Rpb24gcEQoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGU/ZTplLmV4YWN0fHxlLmlkZWFsfHxlLm1heHx8ZS5taW58fDB9ZnVuY3Rpb24gX0QoZSl7Y29uc3QgdD1lLl9lbmNvZGVyQ29uZmlnO2lmKCF0KXJldHVybnt9O2NvbnN0IGk9e3Jlc29sdXRpb246dC53aWR0aCYmdC5oZWlnaHQ/XCJcIi5jb25jYXQocEQodC53aWR0aCksXCJ4XCIpLmNvbmNhdChwRCh0LmhlaWdodCkpOnZvaWQgMCxtYXhWaWRlb0JXOnQuYml0cmF0ZU1heCxtaW5WaWRlb0JXOnQuYml0cmF0ZU1pbn07cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQuZnJhbWVSYXRlPyhpLm1heEZyYW1lUmF0ZT10LmZyYW1lUmF0ZSxpLm1pbkZyYW1lUmF0ZT10LmZyYW1lUmF0ZSk6dC5mcmFtZVJhdGUmJihpLm1heEZyYW1lUmF0ZT10LmZyYW1lUmF0ZS5tYXh8fHQuZnJhbWVSYXRlLmlkZWFsfHx0LmZyYW1lUmF0ZS5leGFjdHx8dC5mcmFtZVJhdGUubWluLGkubWluRnJhbWVSYXRlPXQuZnJhbWVSYXRlLm1pbnx8dC5mcmFtZVJhdGUuaWRlYWx8fHQuZnJhbWVSYXRlLmV4YWN0fHx0LmZyYW1lUmF0ZS5tYXgpLGl9ZnVuY3Rpb24gRUQoZSl7Y29uc3QgdD17Y29ubmVjdGlvblR5cGU6MCxnb29nUnR0OmUucnR0fTtzd2l0Y2goZS5zZWxlY3RlZENhbmRpZGF0ZVBhaXIubG9jYWxDYW5kaWRhdGUuY2FuZGlkYXRlVHlwZSl7Y2FzZVwicmVsYXlcIjp7Y29uc3QgaT1lLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5sb2NhbENhbmRpZGF0ZS5yZWxheVByb3RvY29sO1widWRwXCI9PT1pJiYodC5jb25uZWN0aW9uVHlwZT0xKSxcInRjcFwiPT09aSYmKHQuY29ubmVjdGlvblR5cGU9MyksXCJ0bHNcIj09PWkmJih0LmNvbm5lY3Rpb25UeXBlPTQpO2JyZWFrfWNhc2VcInNyZmx4XCI6dC5jb25uZWN0aW9uVHlwZT0yfXJldHVybiB0fWZ1bmN0aW9uIG1EKGUpe3JldHVybiBlPj0wJiZlPC4xNz8xOmU+PS4xNyYmZTwuMzY/MjplPj0uMzYmJmU8LjU5PzM6ZT49LjU5JiZlPD0xPzQ6ZT4xPzU6MH1mdW5jdGlvbiBmRChlLHQpe2xldCBpLG4scjtzd2l0Y2godCl7Y2FzZSBkeS5DSE9PU0VfU0VSVkVSOm49NDA5NixyPVwiY2hvb3NlIHNlcnZlclwiO2JyZWFrO2Nhc2UgZHkuQ0xPVURfUFJPWFk6bj0xMDQ4NTc2LHI9XCJwcm94eVwiO2JyZWFrO2Nhc2UgZHkuQ0xPVURfUFJPWFlfNTpuPTQxOTQzMDQscj1cInByb3h5NVwiO2JyZWFrO2Nhc2UgZHkuQ0xPVURfUFJPWFlfRkFMTEJBQ0s6bj00MTk0MzEwLHI9XCJwcm94eSBmYWxsYmFja1wiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IE12KHhnLlVORVhQRUNURURfRVJST1IsXCJtdWx0aSB1bmxpYnMgcmVzcG9uc2UgdHJhbnNmb3JtZXIgZ2V0IHVua25vd24gc2VydmljZSBpZFwiLHtjc0lwOmUuZGV0YWlsJiZlLmRldGFpbFs1MDJdLHJldHJ5OiExfSl9aWYoZS5yZXNwb25zZV9ib2R5LmZvckVhY2goKHQ9Pnt0LmJ1ZmZlciYmdC5idWZmZXIuZmxhZz09PW4mJihpPXtjb2RlOnQuYnVmZmVyLmNvZGUsYWRkcmVzc2VzOih0LmJ1ZmZlci5lZGdlc19zZXJ2aWNlc3x8W10pLm1hcCgoZT0+bEQobEQoe30sZSkse30se3RpY2tldDp0LmJ1ZmZlci5jZXJ0fSkpKSxzZXJ2ZXJfdHM6ZS5lbnRlcl90cyx1aWQ6dC5idWZmZXIudWlkLGNpZDp0LmJ1ZmZlci5jaWQsY25hbWU6dC5idWZmZXIuY25hbWUsZGV0YWlsOmxEKGxEKHt9LHQuYnVmZmVyLmRldGFpbCksZS5kZXRhaWwpLGZsYWc6dC5idWZmZXIuZmxhZyxvcGlkOmUub3BpZCxjZXJ0OnQuYnVmZmVyLmNlcnR9KX0pKSwhaSl0aHJvdyBuZXcgTXYoeGcuTVVMVElfVU5JTEJTX1JFU1BPTlNFX0VSUk9SLFwiY2Fubm90IHBhcnNlIHJlc3BvbnNlIFwiLmNvbmNhdChyLFwiIGZyb20gbXVsdGkgdW5pbGJzIHJlc3BvbnNlXCIpLHtjc0lwOmUuZGV0YWlsJiZlLmRldGFpbFs1MDJdfSk7cmV0dXJuIGl9YXN5bmMgZnVuY3Rpb24gZ0QoZSx0KXtyZXR1cm4gYXdhaXQgdGcuYWxsKGUuYWRkcmVzc2VzLm1hcCgoYXN5bmMgZT0+KHthZGRyZXNzOmhEKGUuaXApLHRjcHBvcnQ6ZS5wb3J0LHVkcHBvcnQ6ZS5wb3J0LHVzZXJuYW1lOnQmJmtDKFwiRU5DUllQVF9QUk9YWV9VU0VSTkFNRV9BTkRfUFNXXCIpJiZ3aW5kb3cuaXNTZWN1cmVDb250ZXh0P3QudG9TdHJpbmcoKTpydi51c2VybmFtZSxwYXNzd29yZDp0JiZrQyhcIkVOQ1JZUFRfUFJPWFlfVVNFUk5BTUVfQU5EX1BTV1wiKSYmd2luZG93LmlzU2VjdXJlQ29udGV4dD9hd2FpdCB0Uyh0LnRvU3RyaW5nKCkpOnJ2LnBhc3N3b3JkfSkpKSl9ZnVuY3Rpb24gU0QoZSx0KXtjb25zdCBpPXQuX3ZpZGVvSGVpZ2h0fHx0LmdldE1lZGlhU3RyZWFtVHJhY2soITApLmdldFNldHRpbmdzKCkuaGVpZ2h0O3JldHVybiBpP01hdGgubWF4KGkvcEQoZS5oZWlnaHQpLDEpOihXQy53YXJuaW5nKFwiY2FuJ3QgZ2V0IG9yaS10cmFjaydzIGhlaWdodCwgZGVmYXVsdCBzY2FsZSBkb3duIDQgdGltZXMgZm9yIGxvdyBzdHJlYW1cIiksNCl9ZnVuY3Rpb24gVEQoZSl7bGV0e2NhbmRpZGF0ZVR5cGU6dCxyZWxheVByb3RvY29sOmksdHlwZTpuLGFkZHJlc3M6cixwb3J0OnMscHJvdG9jb2w6b309ZTtyZXR1cm5cImxvY2FsLWNhbmRpZGF0ZVwiPT09bj97Y2FuZGlkYXRlVHlwZTp0LHJlbGF5UHJvdG9jb2w6aSxwcm90b2NvbDpvfTp7Y2FuZGlkYXRlVHlwZTp0LHJlbGF5UHJvdG9jb2w6aSxhZGRyZXNzOnIscG9ydDpzLHByb3RvY29sOm99fWZ1bmN0aW9uIFJEKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1jbGFzcyBDRCBleHRlbmRzIGlTe2dldCB1cmwoKXtyZXR1cm4gdGhpcy5fdXJsP3RoaXMuX3VybDpudWxsfWdldCByZWNvbm5lY3RNb2RlKCl7cmV0dXJuIHRoaXMuX3JlY29ubmVjdE1vZGV9c2V0IHJlY29ubmVjdE1vZGUoZSl7dmFyIHQ7UHIodD1bXCJ0cnlOZXh0XCIsXCJyZWNvdmVyXCJdKS5jYWxsKHQsZSkmJnRoaXMucmVzZXRSZWNvbm5lY3RDb3VudChlKSx0aGlzLl9yZWNvbm5lY3RNb2RlPWV9Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0YXRlfXNldCBzdGF0ZShlKXtlIT09dGhpcy5fc3RhdGUmJih0aGlzLl9zdGF0ZT1lLFwicmVjb25uZWN0aW5nXCI9PT10aGlzLl9zdGF0ZT90aGlzLmVtaXQoVEkuUkVDT05ORUNUSU5HLHRoaXMucmVjb25uZWN0UmVhc29uKTpcImNvbm5lY3RlZFwiPT09dGhpcy5fc3RhdGU/dGhpcy5lbWl0KFRJLkNPTk5FQ1RFRCk6XCJjbG9zZWRcIj09PXRoaXMuX3N0YXRlP3RoaXMuZW1pdChUSS5DTE9TRUQpOlwiZmFpbGVkXCI9PT10aGlzLl9zdGF0ZSYmdGhpcy5lbWl0KFRJLkZBSUxFRCkpfWNvbnN0cnVjdG9yKGUsdCxpLG4pe3N1cGVyKCksbnUodGhpcyxcImNvbm5lY3Rpb25JRFwiLDApLG51KHRoaXMsXCJjdXJyZW50VVJMSW5kZXhcIiwwKSxudSh0aGlzLFwicmVjb25uZWN0UmVhc29uXCIsdm9pZCAwKSxudSh0aGlzLFwiX3JlY29ubmVjdE1vZGVcIixcInRyeU5leHRcIiksbnUodGhpcyxcIl9uYW1lXCIsdm9pZCAwKSxudSh0aGlzLFwiX3N0YXRlXCIsXCJjbG9zZWRcIiksbnUodGhpcyxcIl9yZXRyeUNvbmZpZ1wiLHZvaWQgMCksbnUodGhpcyxcIl9yZWNvbm5lY3RDb3VudFwiLDApLG51KHRoaXMsXCJfZm9yY2VDbG9zZVRpbWVvdXRcIiw1ZTMpLG51KHRoaXMsXCJfb25saW5lUmVjb25uZWN0TGlzdGVuZXJcIix2b2lkIDApLG51KHRoaXMsXCJfY2xvc2VFc3RhYmxpc2hpbmdUcmFuc21pdHRlclwiLCgoKT0+e30pKSxudSh0aGlzLFwiX3N0b3JlXCIsdm9pZCAwKSxudSh0aGlzLFwiX2pvaW5DaGFubmVsU2VydmljZVJlY29yZEluZGV4XCIsdm9pZCAwKSxudSh0aGlzLFwiX3VzZUNvbXByZXNzXCIsdm9pZCAwKSxudSh0aGlzLFwiX2luZmxhdGVMZW5ndGhcIiwwKSxudSh0aGlzLFwiX2RlZmxhdGVMZW5ndGhcIiwwKSx0aGlzLl9zdG9yZT1uLHRoaXMuX25hbWU9ZSx0aGlzLl9yZXRyeUNvbmZpZz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9SRChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpSRChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX0oe30sdCksdGhpcy5fdXNlQ29tcHJlc3M9aX1yZXNldFJlY29ubmVjdENvdW50KGUpe1dDLmRlYnVnKFwiXCIuY29uY2F0KHRoaXMuX25hbWUsXCIgcmVzZXQgcmVjb25uZWN0IGNvdW50LCByZWFzb246IFwiKS5jb25jYXQoZSkpLHRoaXMuX3JlY29ubmVjdENvdW50PTB9Y2xvc2UoZSx0KXtpZih0aGlzLmN1cnJlbnRVUkxJbmRleD0wLHRoaXMucmVzZXRSZWNvbm5lY3RDb3VudChcImNsb3NlXCIpLHRoaXMuX3JlY29ubmVjdEludGVycnVwdGVyJiZ0aGlzLl9yZWNvbm5lY3RJbnRlcnJ1cHRlcigpLHRoaXMuX3RyYW5zbWl0dGVyKXt0aGlzLl90cmFuc21pdHRlci5vbmNsb3NlPW51bGwsdGhpcy5fdHJhbnNtaXR0ZXIub25vcGVuPW51bGwsdGhpcy5fdHJhbnNtaXR0ZXIub25tZXNzYWdlPW51bGw7Y29uc3QgZT10aGlzLl90cmFuc21pdHRlcjt0P3NldFRpbWVvdXQoKCgpPT5lLmNsb3NlKCkpLDUwMCk6ZS5jbG9zZSgpLHRoaXMuX3RyYW5zbWl0dGVyPXZvaWQgMH10aGlzLnN0YXRlPWU/XCJmYWlsZWRcIjpcImNsb3NlZFwiLHRoaXMuX2Nsb3NlRXN0YWJsaXNoaW5nVHJhbnNtaXR0ZXImJnRoaXMuX2Nsb3NlRXN0YWJsaXNoaW5nVHJhbnNtaXR0ZXIoKX1yZWNvbm5lY3QoZSx0KXtpZighdGhpcy5fdHJhbnNtaXR0ZXIpcmV0dXJuIHZvaWQgV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fbmFtZSxcIl0gY2FuIG5vdCByZWNvbm5lY3QsIG5vIHdlYnNvY2tldFwiKSk7dmFyIGk7KHZvaWQgMCE9PWUmJih0aGlzLnJlY29ubmVjdE1vZGU9ZSksV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX25hbWUsXCJdIHJlY29ubmVjdCBpcyB0cmlnZ2VyZWQgaW5pdGlhdGl2ZVwiKSksXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX2pvaW5DaGFubmVsU2VydmljZVJlY29yZEluZGV4KSYmKG51bGw9PT0oaT10aGlzLl9zdG9yZSl8fHZvaWQgMD09PWl8fGkucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGF0dXM6XCJlcnJvclwiLGVycm9yczpbbmV3IEVycm9yKHQpXX0sdGhpcy5fam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3JkSW5kZXgpKTtjb25zdCBuPXRoaXMuX3RyYW5zbWl0dGVyLm9uY2xvc2U7dGhpcy5fdHJhbnNtaXR0ZXIub25jbG9zZT1udWxsLHRoaXMuX3RyYW5zbWl0dGVyLmNsb3NlKCksbiYmbi5iaW5kKHRoaXMuX3RyYW5zbWl0dGVyKSh7Y29kZTo5OTk5LHJlYXNvbjp0fSl9Z2V0SW5mbGF0ZURhdGEoKXtjb25zdCBlPXRoaXMuX2luZmxhdGVMZW5ndGgsdD10aGlzLl9kZWZsYXRlTGVuZ3RoO3JldHVybiB0aGlzLmNsZWFySW5mbGF0ZURhdGEoKSx7aW5mbGF0ZUxlbmd0aDplLGRlZmxhdGVMZW5ndGg6dH19c2V0SW5mbGF0ZURhdGEoZSl7dGhpcy5fZGVmbGF0ZUxlbmd0aD10aGlzLl9kZWZsYXRlTGVuZ3RoK2Uub3JpZ2luTGVuZ3RoLHRoaXMuX2luZmxhdGVMZW5ndGg9dGhpcy5faW5mbGF0ZUxlbmd0aCtlLmNvbXByZXNzZWRMZW5ndGh9Y2xlYXJJbmZsYXRlRGF0YSgpe3RoaXMuX2luZmxhdGVMZW5ndGg9MCx0aGlzLl9kZWZsYXRlTGVuZ3RoPTB9fXZhciB2RDshZnVuY3Rpb24oZSl7ZVtlLkRlZmF1bHQ9MF09XCJEZWZhdWx0XCIsZVtlLkFjaz0xXT1cIkFja1wifSh2RHx8KHZEPXt9KSk7Y2xhc3MgSUR7Y29uc3RydWN0b3IoZSx0LGkpe251KHRoaXMsXCJ2ZXJzaW9uXCIsMSksbnUodGhpcyxcImluaXRpYWxSVE9cIix2b2lkIDApLG51KHRoaXMsXCJtYXhCYXRjaEFja0NvdW50XCIsdm9pZCAwKSxudSh0aGlzLFwibWF4UlRPXCIsdm9pZCAwKSxudSh0aGlzLFwiaW5pdGlhbFJUVFwiLHZvaWQgMCksbnUodGhpcyxcIklEXCIsdm9pZCAwKSxudSh0aGlzLFwicnR0XCIsdm9pZCAwKSxudSh0aGlzLFwicGFja2V0TnVtYmVyXCIsMSksbnUodGhpcyxcInJ0b1JhdGlvTWFwXCIsbmV3IE1hcCksbnUodGhpcyxcInRpbWVvdXRNYXBcIixuZXcgTWFwKSxudSh0aGlzLFwidW5vcmRlcmVkUGFja2V0UXVldWVcIixbXSksbnUodGhpcyxcImJhdGNoQWNrUGFja2V0UXVldWVcIixbXSksbnUodGhpcyxcImxhc3RPcmRlcmVkUGFja2V0TnVtYmVyXCIsMCksbnUodGhpcyxcImJhdGNoQWNrVGltZXJcIix2b2lkIDApLG51KHRoaXMsXCJzZW5kSW1wbFwiLHZvaWQgMCksbnUodGhpcyxcInJlY2VpdmVJbXBsXCIsdm9pZCAwKSx0aGlzLnNlbmRJbXBsPWUsdGhpcy5yZWNlaXZlSW1wbD10LHRoaXMuSUQ9eFMoNyxcInRyYW5zbWl0dGVyLVwiKSx0aGlzLmluaXRpYWxSVE89dm9pZCAwIT09KG51bGw9PWk/dm9pZCAwOmkuaW5pdGlhbFJUTyk/aS5pbml0aWFsUlRPOmtDKFwiVFJBTlNNSVRURVJfSU5JVElBTF9SVE9cIiksdGhpcy5pbml0aWFsUlRUPXZvaWQgMCE9PShudWxsPT1pP3ZvaWQgMDppLmluaXRpYWxSVFQpP2kuaW5pdGlhbFJUVDprQyhcIlRSQU5TTUlUVEVSX0lOSVRJQUxfUlRUXCIpLHRoaXMucnR0PXZvaWQgMCE9PShudWxsPT1pP3ZvaWQgMDppLmluaXRpYWxSVFQpP2kuaW5pdGlhbFJUVDprQyhcIlRSQU5TTUlUVEVSX0lOSVRJQUxfUlRUXCIpLHRoaXMubWF4QmF0Y2hBY2tDb3VudD12b2lkIDAhPT0obnVsbD09aT92b2lkIDA6aS5tYXhCYXRjaEFja0NvdW50KT9pLm1heEJhdGNoQWNrQ291bnQ6a0MoXCJUUkFOU01JVFRFUl9NQVhfQkFUQ0hfQUNLX0NPVU5UXCIpLHRoaXMubWF4UlRPPXZvaWQgMCE9PShudWxsPT1pP3ZvaWQgMDppLm1heFJUTyk/aS5tYXhSVE86a0MoXCJUUkFOU01JVFRFUl9NQVhfUlRPXCIpfXBhY2tldGl6ZShlLHQpe3JldHVybnt0eXBlOnZELkRlZmF1bHQsdmVyc2lvbjp0aGlzLnZlcnNpb24scGFja2V0TnVtYmVyOnQscGF5bG9hZDplfX1zZXJpYWxpemUoZSl7c3dpdGNoKGUudHlwZSl7Y2FzZSB2RC5EZWZhdWx0OntsZXQgdDtpZihcInN0cmluZ1wiPT10eXBlb2YgZS5wYXlsb2FkKXt0PShuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlLnBheWxvYWQpfWVsc2UgdD1lLnBheWxvYWQ7Y29uc3QgaT1uZXcgQXJyYXlCdWZmZXIodC5sZW5ndGgrMTUpLG49bmV3IERhdGFWaWV3KGkpO24uc2V0VWludDE2KDAsZS52ZXJzaW9uKSxuLnNldFVpbnQ4KDIsZS50eXBlKSxuLnNldFVpbnQzMigzLGUucGFja2V0TnVtYmVyKSxKZyhuLDcsQmlnSW50KGUuc2VuZFRzKSk7cmV0dXJuIG5ldyBVaW50OEFycmF5KG4uYnVmZmVyKS5zZXQodCwxNSksaX1jYXNlIHZELkFjazp7Y29uc3QgdD1uZXcgQXJyYXlCdWZmZXIoMTYpLGk9bmV3IERhdGFWaWV3KHQpO3JldHVybiBpLnNldFVpbnQxNigwLGUudmVyc2lvbiksaS5zZXRVaW50OCgyLGUudHlwZSksaS5zZXRVaW50MzIoMyxlLm1heEFja1BhY2tldE51bWJlciksaS5zZXRVaW50OCg3LGUuc2hpZnQpLEpnKGksOCxCaWdJbnQoZS5hY2tTZW5kVHMpKSx0fX19ZGVzZXJpYWxpemUoZSl7Y29uc3QgdD1uZXcgRGF0YVZpZXcoZSksaT10LmdldFVpbnQxNigwKSxuPXQuZ2V0VWludDgoMik7c3dpdGNoKG4pe2Nhc2UgdkQuRGVmYXVsdDp7Y29uc3Qgcj10LmdldFVpbnQzMigzKSxzPXFnKHQsNyksbz1lLnNsaWNlKDE1KSxhPShuZXcgVGV4dERlY29kZXIpLmRlY29kZShvKTtyZXR1cm57dmVyc2lvbjppLHR5cGU6bixwYWNrZXROdW1iZXI6cixzZW5kVHM6TnVtYmVyKHMpLHBheWxvYWQ6YX19Y2FzZSB2RC5BY2s6e2NvbnN0IGU9dC5nZXRVaW50MzIoMykscj10LmdldFVpbnQ4KDcpLHM9cWcodCw4KTtyZXR1cm57dmVyc2lvbjppLHR5cGU6bixtYXhBY2tQYWNrZXROdW1iZXI6ZSxzaGlmdDpyLGFja1NlbmRUczpOdW1iZXIocyl9fWRlZmF1bHQ6dGhyb3cgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuSUQsXCJdIFVucmVjb2duaXplZCBwYWNrZXQgdHlwZSBcIikuY29uY2F0KG4pKSxuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgcGFja2V0IHR5cGUgXCIuY29uY2F0KG4pKX19c2VuZE1lc3NhZ2UoZSl7Y29uc3QgdD10aGlzLnBhY2tldGl6ZShlLHRoaXMucGFja2V0TnVtYmVyKTt0aGlzLnBhY2tldE51bWJlcj00Mjk0OTY3Mjk1PT09dGhpcy5wYWNrZXROdW1iZXI/MTp0aGlzLnBhY2tldE51bWJlcisxO2NvbnN0IGk9dGhpcy5jYWxjdWxhdGVSVE8odCksbj13aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt0aGlzLnJlc2VuZE1lc3NhZ2UodCl9KSxpKTt0aGlzLnRpbWVvdXRNYXAuc2V0KHQucGFja2V0TnVtYmVyLG4pLHRoaXMuc2VuZFBhY2tldCh0KX1vbkRhdGEoZSl7Y29uc3QgdD10aGlzLmRlc2VyaWFsaXplKGUpO3QudHlwZT09PXZELkRlZmF1bHQ/dGhpcy5hY2sodCk6dC50eXBlPT09dkQuQWNrJiYodGhpcy51cGRhdGVSVFQodCxNYXRoLnJvdW5kKHBlcmZvcm1hbmNlLm5vdygpKSksdGhpcy5jbGVhclJUTyh0KSl9Y2xvc2UoKXt0aGlzLnJ0dD10aGlzLmluaXRpYWxSVFQsdGhpcy5wYWNrZXROdW1iZXI9MSxBcnJheS5mcm9tKHRoaXMudGltZW91dE1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdCxpXT1lO3dpbmRvdy5jbGVhclRpbWVvdXQoaSl9KSksdGhpcy50aW1lb3V0TWFwPW5ldyBNYXAsdGhpcy5ydG9SYXRpb01hcD1uZXcgTWFwLHRoaXMudW5vcmRlcmVkUGFja2V0UXVldWU9W10sdGhpcy5iYXRjaEFja1BhY2tldFF1ZXVlPVtdLHRoaXMubGFzdE9yZGVyZWRQYWNrZXROdW1iZXI9MCx2b2lkIDAhPT10aGlzLmJhdGNoQWNrVGltZXImJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5iYXRjaEFja1RpbWVyKX1yZXNlbmRNZXNzYWdlKGUpe2NvbnN0IHQ9dGhpcy5jYWxjdWxhdGVSVE8oZSksaT13aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt0aGlzLnJlc2VuZE1lc3NhZ2UoZSl9KSx0KTt0aGlzLnRpbWVvdXRNYXAuc2V0KGUucGFja2V0TnVtYmVyLGkpLHRoaXMuc2VuZFBhY2tldChlKX1jYWxjdWxhdGVSVE8oZSl7Y29uc3QgdD10aGlzLnJ0b1JhdGlvTWFwLmdldChlLnBhY2tldE51bWJlcik7aWYodm9pZCAwPT09dClyZXR1cm4gdGhpcy5ydG9SYXRpb01hcC5zZXQoZS5wYWNrZXROdW1iZXIsMSksdGhpcy5pbml0aWFsUlRPO3tjb25zdCBpPTkqdGhpcy5ydHQvOCp0O3JldHVybiB0aGlzLnJ0b1JhdGlvTWFwLnNldChlLnBhY2tldE51bWJlcix0KzEpLGk+dGhpcy5tYXhSVE8/dGhpcy5tYXhSVE86aX19dXBkYXRlUlRUKGUsdCl7Y29uc3QgaT1lLmFja1NlbmRUczt0aGlzLnJ0dD10aGlzLnJ0dCooNy84KSsodC1pLXRoaXMucnR0KS84fWFjayhlKXtpZihlLnBhY2tldE51bWJlcj09PXRoaXMubGFzdE9yZGVyZWRQYWNrZXROdW1iZXIrMSlmb3IodGhpcy5iYXRjaEFja1BhY2tldFF1ZXVlLmxlbmd0aD49dGhpcy5tYXhCYXRjaEFja0NvdW50JiZ0aGlzLmJhdGNoQWNrKCksdGhpcy5iYXRjaEFja1RpbWVyP3RoaXMuYmF0Y2hBY2tQYWNrZXRRdWV1ZS5wdXNoKGUpOih0aGlzLmJhdGNoQWNrUGFja2V0UXVldWUucHVzaChlKSx0aGlzLmJhdGNoQWNrVGltZXI9d2luZG93LnNldFRpbWVvdXQoKCgpPT57dGhpcy5iYXRjaEFjaygpfSksdGhpcy5ydHQvOCkpLHRoaXMubGFzdE9yZGVyZWRQYWNrZXROdW1iZXIrPTEsdGhpcy5yZWNlaXZlSW1wbChlLnBheWxvYWQpOzspe2NvbnN0IGU9dGhpcy51bm9yZGVyZWRQYWNrZXRRdWV1ZVswXTtpZighZSl7dGhpcy51bm9yZGVyZWRQYWNrZXRRdWV1ZS5zaGlmdCgpO2JyZWFrfXRoaXMuYmF0Y2hBY2tUaW1lciYmdGhpcy5iYXRjaEFjaygpLHRoaXMucmVjZWl2ZUltcGwoZS5wYXlsb2FkKSx0aGlzLnVub3JkZXJlZFBhY2tldFF1ZXVlLnNoaWZ0KCksdGhpcy5sYXN0T3JkZXJlZFBhY2tldE51bWJlcis9MX1lbHNlIGlmKGUucGFja2V0TnVtYmVyPD10aGlzLmxhc3RPcmRlcmVkUGFja2V0TnVtYmVyKXtjb25zdCB0PXthY2tTZW5kVHM6ZS5zZW5kVHMsbWF4QWNrUGFja2V0TnVtYmVyOmUucGFja2V0TnVtYmVyLHNoaWZ0OjAsdHlwZTp2RC5BY2ssdmVyc2lvbjp0aGlzLnZlcnNpb259O3RoaXMuc2VuZFBhY2tldCh0KX1lbHNlIGlmKGUucGFja2V0TnVtYmVyPnRoaXMubGFzdE9yZGVyZWRQYWNrZXROdW1iZXIpe3RoaXMudW5vcmRlcmVkUGFja2V0UXVldWVbZS5wYWNrZXROdW1iZXItdGhpcy5sYXN0T3JkZXJlZFBhY2tldE51bWJlci0yXT1lO2NvbnN0IHQ9e2Fja1NlbmRUczplLnNlbmRUcyxtYXhBY2tQYWNrZXROdW1iZXI6ZS5wYWNrZXROdW1iZXIsc2hpZnQ6MCx0eXBlOnZELkFjayx2ZXJzaW9uOnRoaXMudmVyc2lvbn07dGhpcy5zZW5kUGFja2V0KHQpfX1iYXRjaEFjaygpe3dpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5iYXRjaEFja1RpbWVyKSx0aGlzLmJhdGNoQWNrVGltZXI9dm9pZCAwO2NvbnN0IGU9e2Fja1NlbmRUczp0aGlzLmJhdGNoQWNrUGFja2V0UXVldWVbdGhpcy5iYXRjaEFja1BhY2tldFF1ZXVlLmxlbmd0aC0xXS5zZW5kVHMsbWF4QWNrUGFja2V0TnVtYmVyOnRoaXMuYmF0Y2hBY2tQYWNrZXRRdWV1ZVt0aGlzLmJhdGNoQWNrUGFja2V0UXVldWUubGVuZ3RoLTFdLnBhY2tldE51bWJlcixzaGlmdDp0aGlzLmJhdGNoQWNrUGFja2V0UXVldWUubGVuZ3RoLTEsdHlwZTp2RC5BY2ssdmVyc2lvbjp0aGlzLnZlcnNpb259O3RoaXMuc2VuZFBhY2tldChlKSx0aGlzLmJhdGNoQWNrUGFja2V0UXVldWU9W119c2VuZFBhY2tldChlKXtlLnR5cGU9PT12RC5EZWZhdWx0JiYoZS5zZW5kVHM9TWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKSkpO2NvbnN0IHQ9dGhpcy5zZXJpYWxpemUoZSk7dGhpcy5zZW5kSW1wbCh0KX1jbGVhclJUTyhlKXtmb3IobGV0IHQ9ZS5tYXhBY2tQYWNrZXROdW1iZXItZS5zaGlmdDt0PD1lLm1heEFja1BhY2tldE51bWJlcjt0Kyspe2NvbnN0IGU9dGhpcy50aW1lb3V0TWFwLmdldCh0KTt2b2lkIDAhPT1lJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KGUpLHRoaXMudGltZW91dE1hcC5kZWxldGUodCksdGhpcy5ydG9SYXRpb01hcC5kZWxldGUodCl9fX1jbGFzcyB5RCBleHRlbmRzIENEe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0LGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sYXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDApLG51KHRoaXMsXCJfaW5pdE11dGV4XCIsdm9pZCAwKSxudSh0aGlzLFwiX3JlY29ubmVjdEludGVycnVwdGVyXCIsdm9pZCAwKSxudSh0aGlzLFwiX3VybFwiLHZvaWQgMCksbnUodGhpcyxcIl90cmFuc21pdHRlclwiLHZvaWQgMCksbnUodGhpcyxcIl9hZGRyZXNzZXNcIix2b2lkIDApLG51KHRoaXMsXCJfcmVsaWFibGVUcmFuc21pc3Npb25cIix2b2lkIDApLHRoaXMuX2luaXRNdXRleD1uZXcgWVMoXCJkYXRhY2hhbm5lbFwiKTtjb25zdHt0aW1lb3V0OmksdGltZW91dEZhY3RvcjpufT10LHI9TWF0aC5tYXgoMzAwLE1hdGguZmxvb3IoMyppLzUpKSxzPU1hdGgubWF4KDEuMixNYXRoLmZsb29yKDgqbikvMTApO2hTLk9OTElORSYmKHRoaXMuX3JldHJ5Q29uZmlnLnRpbWVvdXQ9cix0aGlzLl9yZXRyeUNvbmZpZy50aW1lb3V0RmFjdG9yPXMpLFJTLm9uKHVTLk5FVFdPUktfU1RBVEVfQ0hBTkdFLCgoZSx0KT0+e2UhPT10JiYodGhpcy5yZXNldFJlY29ubmVjdENvdW50KFwibmV0d29yayBzdGF0ZSBjaGFuZ2U6IFwiLmNvbmNhdCh0LFwiIC0+IFwiKS5jb25jYXQoZSkpLGU9PT1oUy5PTkxJTkU/KHRoaXMuX3JldHJ5Q29uZmlnLnRpbWVvdXQ9cix0aGlzLl9yZXRyeUNvbmZpZy50aW1lb3V0RmFjdG9yPXMpOih0aGlzLl9yZXRyeUNvbmZpZy50aW1lb3V0PWksdGhpcy5fcmV0cnlDb25maWcudGltZW91dEZhY3Rvcj1uKSl9KSl9Z2V0Q29ubmVjdGlvbigpe2lmKHRoaXMuX3JlbGlhYmxlVHJhbnNtaXNzaW9uKXJldHVybiB0aGlzLl9yZWxpYWJsZVRyYW5zbWlzc2lvbn1hc3luYyBpbml0KGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo1ZTM7dGhpcy5fZm9yY2VDbG9zZVRpbWVvdXQ9dDtjb25zdCBpPSh0LGkpPT57dGhpcy5fYWRkcmVzc2VzPWUsdGhpcy5jdXJyZW50VVJMSW5kZXg9dGhpcy5fYWRkcmVzc2VzLmZpbmRJbmRleCgoZT0+ZS5maW5nZXJwcmludHx8a0MoXCJGSU5HRVJQUklOVFwiKSkpO2NvbnN0IG49dGhpcy5fYWRkcmVzc2VzW3RoaXMuY3VycmVudFVSTEluZGV4XTt0aGlzLnN0YXRlPVwiY29ubmVjdGluZ1wiLHRoaXMuY3JlYXRlVHJhbnNtaXR0ZXJDb25uZWN0aW9uKG4pLnRoZW4odCkuY2F0Y2goaSksdGhpcy5vbmNlKFRJLkNMT1NFRCwoKCk9PmkobmV3IE12KHhnLldTX0RJU0NPTk5FQ1QpKSkpLHRoaXMub25jZShUSS5DT05ORUNURUQsKCgpPT50KCkpKX07cmV0dXJuIHRoaXMuX2luaXRNdXRleC5sb2NrKCkudGhlbigoZT0+bmV3IHRnKCgoZSx0KT0+e2koZSx0KX0pKS50aGVuKCgoKT0+e2UoKX0pKS5jYXRjaCgoKCk9PntlKCl9KSkpKX1zZW5kTWVzc2FnZShlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdO2lmKCF0aGlzLl90cmFuc21pdHRlcnx8IXRoaXMuX3JlbGlhYmxlVHJhbnNtaXNzaW9uKXRocm93IG5ldyBNdih4Zy5XU19BQk9SVCxcImRhdGFjaGFubmVsIGlzIG5vdCByZWFkeVwiKTt0cnl7dHx8KGU9SlNPTi5zdHJpbmdpZnkoZSkpLHRoaXMuX3JlbGlhYmxlVHJhbnNtaXNzaW9uLnNlbmRNZXNzYWdlKGUpfWNhdGNoKGUpe3Rocm93IG5ldyBNdih4Zy5XU19FUlIsXCJzZW5kIGRhdGFjaGFubmVsIHNpZ25hbCBtZXNzYWdlIGVycm9yXCIrZS50b1N0cmluZygpKX19dW5iaW5kRGNDbG9zZUV2ZW50TGlzdGVuZXIoKXt0aGlzLl90cmFuc21pdHRlciYmKHRoaXMuX3RyYW5zbWl0dGVyLm9uY2xvc2U9bnVsbCl9c2VuZE1lc3NhZ2VXaXRoSlNPTihlKXtjb25zdCB0PUpTT04uc3RyaW5naWZ5KGUpO3JldHVybntjb21wcmVzc2VkOnQsY29tcHJlc3NlZExlbmd0aDp0Lmxlbmd0aCxvcmlnaW46ZX19c2VuZE1lc3NhZ2VXaXRoVWludDhBcnJheShlKXtyZXR1cm57Y29tcHJlc3NlZDplLGNvbXByZXNzZWRMZW5ndGg6ZS5ieXRlTGVuZ3RoLG9yaWdpbjplfX1jcmVhdGVUcmFuc21pdHRlckNvbm5lY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29ubmVjdGlvbklEKz0xLHRoaXMuX2pvaW5DaGFubmVsU2VydmljZVJlY29yZEluZGV4PXZvaWQgMCx0aGlzLl91cmw9XCJkYzovL1wiLmNvbmNhdChlLmlwLFwiOlwiKS5jb25jYXQoZS5wb3J0KSxuZXcgdGcoKCh0LGkpPT57dmFyIG47Y29uc3Qgcj0oKT0+e1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9uYW1lLFwiXSBkYXRhY2hhbm5lbCBvcGVuZWQ6XCIpLHRoaXMuX3VybCksdGhpcy5yZWNvbm5lY3RNb2RlPVwicmV0cnlcIix0aGlzLnN0YXRlPVwiY29ubmVjdGVkXCIsdGhpcy5yZXNldFJlY29ubmVjdENvdW50KFwib3BlbmVkXCIpLHQoKX0scz1hc3luYyBlPT57dmFyIG47aWYobnVsbD09PShuPXRoaXMuX2Nsb3NlRXN0YWJsaXNoaW5nVHJhbnNtaXR0ZXIpfHx2b2lkIDA9PT1ufHxuLmNhbGwodGhpcyksV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX25hbWUsXCJdIGRhdGFjaGFubmVsIGNsb3NlIFwiKS5jb25jYXQodGhpcy5fdXJsLFwiLCBjb2RlOiBcIikuY29uY2F0KGUuY29kZSxcIiwgcmVhc29uOiBcIikuY29uY2F0KGUucmVhc29uLFwiLCBjdXJyZW50IG1vZGU6IFwiKS5jb25jYXQodGhpcy5yZWNvbm5lY3RNb2RlKSksdGhpcy5fcmVjb25uZWN0Q291bnQ8dGhpcy5fcmV0cnlDb25maWcubWF4UmV0cnlDb3VudCl7XCJjb25uZWN0ZWRcIj09PXRoaXMuc3RhdGUmJih0aGlzLnJlY29ubmVjdFJlYXNvbj1lLnJlYXNvbix0aGlzLnN0YXRlPVwicmVjb25uZWN0aW5nXCIpO2NvbnN0IG49U1ModGhpcyxUSS5XSUxMX1JFQ09OTkVDVCx0aGlzLnJlY29ubmVjdE1vZGUpfHx0aGlzLnJlY29ubmVjdE1vZGUscj1hd2FpdCB0aGlzLnJlY29ubmVjdFdpdGhBY3Rpb24obik7aWYoXCJjbG9zZWRcIj09PXRoaXMuc3RhdGUpcmV0dXJuIHZvaWQgV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvbklELFwiXSBkYyBpcyBjbG9zZWQsIG5vIG5lZWQgdG8gcmVjb25uZWN0XCIpKTtpZighcilyZXR1cm4gaShuZXcgTXYoeGcuV1NfRElTQ09OTkVDVCxcImRhdGFjaGFubmVsIHJlY29ubmVjdCBmYWlsZWQ6IFwiLmNvbmNhdChlLmNvZGUpKSksdm9pZCB0aGlzLmNsb3NlKCEwKTt0KCl9ZWxzZSBpKG5ldyBNdih4Zy5XU19ESVNDT05ORUNULFwiZGF0YWNoYW5uZWwgY2xvc2U6IFwiLmNvbmNhdChlLmNvZGUpKSksdGhpcy5jbG9zZSgpfSxvPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5fcmVsaWFibGVUcmFuc21pc3Npb24pfHx2b2lkIDA9PT10fHx0Lm9uRGF0YShlLmRhdGEpfTt0aGlzLl90cmFuc21pdHRlciYmKHRoaXMuX3RyYW5zbWl0dGVyLm9uY2xvc2U9bnVsbCx0aGlzLl90cmFuc21pdHRlci5jbG9zZSgpKSx0aGlzLl9yZWxpYWJsZVRyYW5zbWlzc2lvbiYmKHRoaXMuX3JlbGlhYmxlVHJhbnNtaXNzaW9uLmNsb3NlKCksdGhpcy5fcmVsaWFibGVUcmFuc21pc3Npb249dm9pZCAwKSxXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fbmFtZSxcIl0gc3RhcnQgY29ubmVjdCwgYWRkcmVzczogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSkpO2NvbnN0IGE9bnVsbD09PShuPXRoaXMuX3N0b3JlKXx8dm9pZCAwPT09bj92b2lkIDA6bi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3N0YXJ0VHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJwZW5kaW5nXCIsc2VydmljZTpcImdhdGV3YXlcIn0pLGM9RGF0ZS5ub3coKTtmUyh0aGlzLFRJLlRPX0NPTk5FQ1RfREFUQUNIQU5ORUwsZSkudGhlbigoZT0+e3ZhciB0LGk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwidHJhbnNtaXNzb25JbmZvIG5vdCBleGlzdCB5ZXRcIik7Y29uc3R7dHJhbnNtaXR0ZXI6bixjbG9zZTpkfT1lO3RoaXMuX3RyYW5zbWl0dGVyPW4sbnVsbD09PSh0PXRoaXMuX3N0b3JlKXx8dm9pZCAwPT09dHx8dC5zaWduYWxDaGFubmVsT3BlbigpO2NvbnN0IGw9RGF0ZS5ub3coKS1jO1dDLmRlYnVnKFwiW2Nob29zZSBkY10gZGMgb3BlbiBjb3N0IFwiLmNvbmNhdChsLFwibXNcIikpO3RoaXMuX3JlbGlhYmxlVHJhbnNtaXNzaW9uPW5ldyBJRCgoZT0+e3ZhciB0O3RoaXMuX3RyYW5zbWl0dGVyJiZcIm9wZW5cIj09PXRoaXMuX3RyYW5zbWl0dGVyLnJlYWR5U3RhdGUmJihudWxsPT09KHQ9dGhpcy5fdHJhbnNtaXR0ZXIpfHx2b2lkIDA9PT10fHx0LnNlbmQoZSkpfSksKGU9PntcInN0cmluZ1wiPT10eXBlb2YgZSYmdGhpcy5lbWl0KFRJLk9OX01FU1NBR0UsZSl9KSksdGhpcy5fY2xvc2VFc3RhYmxpc2hpbmdUcmFuc21pdHRlcj0oKT0+e3ZhciBlO251bGw9PT0oZT10aGlzLl9yZWxpYWJsZVRyYW5zbWlzc2lvbil8fHZvaWQgMD09PWV8fGUuY2xvc2UoKSx0aGlzLl9yZWxpYWJsZVRyYW5zbWlzc2lvbj12b2lkIDAsZCgpfSxyJiZyKCksbi5vbmNsb3NlPXMsbi5vbm1lc3NhZ2U9byxudWxsPT09KGk9dGhpcy5fc3RvcmUpfHx2b2lkIDA9PT1pfHxpLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJzdWNjZXNzXCJ9LGEpLHRoaXMuX2pvaW5DaGFubmVsU2VydmljZVJlY29yZEluZGV4PWF9KSkuY2F0Y2goKGU9Pnt2YXIgdDtpZihudWxsPT09KHQ9dGhpcy5fc3RvcmUpfHx2b2lkIDA9PT10fHx0LnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6ZSBpbnN0YW5jZW9mIE12JiZlLmNvZGU9PT14Zy5XU19BQk9SVD9cImFib3J0ZWRcIjpcImVycm9yXCIsZXJyb3JzOltlXX0sYSksXCJjbG9zZWRcIiE9PXRoaXMuc3RhdGUpe2lmKGUgaW5zdGFuY2VvZiBNdiYmZS5jb2RlPT09eGcuV1NfRVJSKXtjb25zdCB0PW5ldyBNdih4Zy5XU19FUlIsXCJpbml0IGRhdGFjaGFubmVsIGZhaWxlZCEgRXJyb3I6IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKTtyZXR1cm4gV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX25hbWUsXCJdXCIpLmNvbmNhdCh0KSksdm9pZCBpKHQpfXMmJnMoZSl9ZWxzZSBpKG5ldyBNdih4Zy5XU19ESVNDT05ORUNULFwiZGF0YWNoYW5uZWwgaXMgY2xvc2VkOiBcIi5jb25jYXQoZS50b1N0cmluZygpKSkpfSkpfSkpfWFzeW5jIHJlY29ubmVjdFdpdGhBY3Rpb24oZSl7bGV0IHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZih0aGlzLl9yZWNvbm5lY3RDb3VudD49dGhpcy5fcmV0cnlDb25maWcubWF4UmV0cnlDb3VudClyZXR1cm4hMTtpZighdGhpcy5fYWRkcmVzc2VzKXJldHVybiExO2lmKFwiY2xvc2VkXCI9PT10aGlzLnN0YXRlKXJldHVybiExO3RoaXMuX29ubGluZVJlY29ubmVjdExpc3RlbmVyfHxSUy5uZXR3b3JrU3RhdGUhPT1oUy5PRkZMSU5FfHwodGhpcy5fb25saW5lUmVjb25uZWN0TGlzdGVuZXI9UlMub25saW5lV2FpdGVyJiZSUy5vbmxpbmVXYWl0ZXIudGhlbigoKCk9Pnt0aGlzLl9vbmxpbmVSZWNvbm5lY3RMaXN0ZW5lcj12b2lkIDB9KSkpO2xldCBpPSEwO2lmKHRoaXMuX3JlY29ubmVjdEludGVycnVwdGVyPSgpPT57aT0hMX0sdCl7Y29uc3QgdD16Uyh0aGlzLl9yZWNvbm5lY3RDb3VudCx0aGlzLl9yZXRyeUNvbmZpZyk7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX25hbWUsXCJdIHdhaXQgXCIpLmNvbmNhdCh0LFwibXMgdG8gcmVjb25uZWN0IGRhdGFjaGFubmVsLCBtb2RlOiBcIikuY29uY2F0KGUpKSxhd2FpdCB0Zy5yYWNlKFtVUyh0KSx0aGlzLl9vbmxpbmVSZWNvbm5lY3RMaXN0ZW5lcnx8bmV3IHRnKCgoKT0+e30pKV0pfWlmKFwiY2xvc2VkXCI9PT10aGlzLnN0YXRlfHwhaSlyZXR1cm4hMTt0aGlzLl9yZWNvbm5lY3RDb3VudCs9MTtjb25zdCBuPWFzeW5jKGUsdCk9Pnt0aGlzLmVtaXQoVEkuUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OLHQpLGF3YWl0IHRoaXMuY3JlYXRlVHJhbnNtaXR0ZXJDb25uZWN0aW9uKGUpfTt0cnl7aWYoXCJyZXRyeVwiPT09ZSl7Y29uc3QgdD10aGlzLl9hZGRyZXNzZXNbdGhpcy5jdXJyZW50VVJMSW5kZXhdO3RoaXMuZW1pdChUSS5SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNILGUpLGF3YWl0IG4odCxlKX1lbHNlIGlmKFwidHJ5TmV4dFwiPT09ZSl7dGhpcy5jdXJyZW50VVJMSW5kZXgrPTE7Zm9yKGxldCBlPXRoaXMuY3VycmVudFVSTEluZGV4O2U8dGhpcy5fYWRkcmVzc2VzLmxlbmd0aDtlKyspe2lmKHRoaXMuX2FkZHJlc3Nlc1tlXS5maW5nZXJwcmludHx8a0MoXCJGSU5HRVJQUklOVFwiKSl7dGhpcy5jdXJyZW50VVJMSW5kZXg9ZTticmVha310aGlzLmN1cnJlbnRVUkxJbmRleCs9MX1pZih0aGlzLmN1cnJlbnRVUkxJbmRleD49dGhpcy5fYWRkcmVzc2VzLmxlbmd0aClyZXR1cm4gV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX25hbWUsXCJdIHRoZSBhdmFpbGFibGUgYWRkcmVzc2VzIGFyZSBleGhhdXN0ZWQsIGNoYW5nZSB0byByZWNvdmVyXCIpKSxhd2FpdCB0aGlzLnJlY29ubmVjdFdpdGhBY3Rpb24oXCJyZWNvdmVyXCIsITEpO1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9uYW1lLFwiXSBkYXRhY2hhbm5lbCB1cmwgbGVuZ3RoOiBcIikuY29uY2F0KHRoaXMuX2FkZHJlc3Nlcy5sZW5ndGgsXCIgY3VycmVudCBpbmRleDogXCIpLmNvbmNhdCh0aGlzLmN1cnJlbnRVUkxJbmRleCkpO2NvbnN0IHQ9dGhpcy5fYWRkcmVzc2VzW3RoaXMuY3VycmVudFVSTEluZGV4XTt0aGlzLmVtaXQoVEkuUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCxlKSxhd2FpdCBuKHQsZSl9ZWxzZVwicmVjb3ZlclwiPT09ZSYmKFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9uYW1lLFwiXSBzdGFydCB0byBmYWlsYmFjayB0byB3ZWJzb2NrZXRcIikpLHRoaXMucmVzZXRSZWNvbm5lY3RDb3VudChcInJlY292ZXIgbW9kZVwiKSx0aGlzLmVtaXQoVEkuUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCxlKSx0aGlzLmVtaXQoVEkuRkFJTEJBQ0spKTtyZXR1cm4hMH1jYXRjaChpKXt2YXIgcixzO3JldHVybiBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fbmFtZSxcIl0gcmVjb25uZWN0IGZhaWxlZFwiKSxpLnRvU3RyaW5nKCkpLG51bGwhPWkmJm51bGwhPT0ocj1pLmRhdGEpJiZ2b2lkIDAhPT1yJiZyLmRlc2MmJkFycmF5LmlzQXJyYXkoaS5kYXRhLmRlc2MpJiZpLmRhdGEuZGVzYy5sZW5ndGgmJlByKHM9aS5kYXRhLmRlc2MpLmNhbGwocyxcImR5bmFtaWMga2V5IGV4cGlyZWRcIik/KHRoaXMuZW1pdChUSS5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRSksITEpOmF3YWl0IHRoaXMucmVjb25uZWN0V2l0aEFjdGlvbihlLHQpfX19Y2xhc3MgQUQgZXh0ZW5kcyBpU3tnZXQgY29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZX1zZXQgY29ubmVjdGlvblN0YXRlKGUpe2UhPT10aGlzLl9jb25uZWN0aW9uU3RhdGUmJih0aGlzLl9jb25uZWN0aW9uU3RhdGU9ZSxlPT09RXYuQ09OTkVDVEVEP3RoaXMuZW1pdChtdi5XU19DT05ORUNURUQpOmU9PT1Fdi5SRUNPTk5FQ1RJTkc/dGhpcy5lbWl0KG12LldTX1JFQ09OTkVDVElORyx0aGlzLl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb24pOmU9PT1Fdi5DTE9TRUQmJnRoaXMuZW1pdChtdi5XU19DTE9TRUQsdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uKSl9Z2V0IGN1cnJlbnRVUkxJbmRleCgpe3JldHVybiB0aGlzLndlYnNvY2tldC5jdXJyZW50VVJMSW5kZXh9Z2V0IHVybCgpe3JldHVybiB0aGlzLndlYnNvY2tldD90aGlzLndlYnNvY2tldC51cmw6bnVsbH1nZXQgcnR0KCl7cmV0dXJuIHRoaXMucnR0Um9sbGluZy5tZWFuKCl9Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLG51KHRoaXMsXCJfZGlzY29ubmVjdGVkUmVhc29uXCIsdm9pZCAwKSxudSh0aGlzLFwiX3dlYnNvY2tldFJlY29ubmVjdFJlYXNvblwiLHZvaWQgMCksbnUodGhpcyxcIl9jb25uZWN0aW9uU3RhdGVcIixFdi5DTE9TRUQpLG51KHRoaXMsXCJyZWNvbm5lY3RUb2tlblwiLHZvaWQgMCksbnUodGhpcyxcIndlYnNvY2tldFwiLHZvaWQgMCksbnUodGhpcyxcIm9wZW5Db25uZWN0aW9uVGltZVwiLHZvaWQgMCksbnUodGhpcyxcImNsaWVudElkXCIsdm9pZCAwKSxudSh0aGlzLFwibGFzdE1zZ1RpbWVcIixEYXRlLm5vdygpKSxudSh0aGlzLFwidXBsb2FkQ2FjaGVcIixbXSksbnUodGhpcyxcInVwbG9hZENhY2hlSW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJydHRSb2xsaW5nXCIsbmV3IGRUKDUpKSxudSh0aGlzLFwicGluZ3BvbmdUaW1lclwiLHZvaWQgMCksbnUodGhpcyxcImluZmxhdGVEYXRhVGltZXJcIix2b2lkIDApLG51KHRoaXMsXCJwaW5ncG9uZ1RpbWVvdXRDb3VudFwiLDApLG51KHRoaXMsXCJqb2luUmVzcG9uc2VcIix2b2lkIDApLG51KHRoaXMsXCJtdWx0aUlwT3B0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwiaW5pdEVycm9yXCIsdm9pZCAwKSxudSh0aGlzLFwic3BlY1wiLHZvaWQgMCksbnUodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxudSh0aGlzLFwib25XZWJzb2NrZXRNZXNzYWdlXCIsKGU9PntpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIHZvaWQgdGhpcy5lbWl0KG12Lk9OX0JJTkFSWV9EQVRBLGUpO2NvbnN0IHQ9SlNPTi5wYXJzZShlKTtpZih0aGlzLmxhc3RNc2dUaW1lPURhdGUubm93KCksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJfaWRcIikpe2NvbnN0IGU9XCJyZXMtQFwiLmNvbmNhdCh0Ll9pZCk7dGhpcy5lbWl0KGUsdC5fcmVzdWx0LHQuX21lc3NhZ2UpfWVsc2UgaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJfdHlwZVwiKSYmKHRoaXMuZW1pdCh0Ll90eXBlLHQuX21lc3NhZ2UpLHQuX3R5cGU9PT1Tdi5PTl9OT1RJRklDQVRJT04mJnRoaXMuaGFuZGxlTm90aWZpY2F0aW9uKHQuX21lc3NhZ2UpLHQuX3R5cGU9PT1Tdi5PTl9VU0VSX0JBTk5FRCkpc3dpdGNoKHQuX21lc3NhZ2UuZXJyb3JfY29kZSl7Y2FzZSAxNDp0aGlzLmNsb3NlKGNTLlVJRF9CQU5ORUQpO2JyZWFrO2Nhc2UgMTU6dGhpcy5jbG9zZShjUy5JUF9CQU5ORUQpO2JyZWFrO2Nhc2UgMTY6dGhpcy5jbG9zZShjUy5DSEFOTkVMX0JBTk5FRCl9fSkpLHRoaXMuY2xpZW50SWQ9ZS5jbGllbnRJZCx0aGlzLnNwZWM9ZSx0aGlzLnN0b3JlPXQsdGhpcy53ZWJzb2NrZXQ9bmV3IHlEKFwiZ2F0ZXdheS1cIi5jb25jYXQodGhpcy5jbGllbnRJZCksdGhpcy5zcGVjLnJldHJ5Q29uZmlnLCEwLHQpLHRoaXMuaGFuZGxlV2Vic29ja2V0RXZlbnRzKCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9PT1Fdi5DT05ORUNURUQmJnRoaXMucmVjb25uZWN0KFwicmV0cnlcIixTSS5PRkZMSU5FKX0pKX1hc3luYyByZXF1ZXN0KGUsdCxpLG4pe2NvbnN0IHI9eFMoNixcIlwiKSxzPXtfaWQ6cixfdHlwZTplLF9tZXNzYWdlOnR9LG89dGhpcy53ZWJzb2NrZXQuY29ubmVjdGlvbklELGE9KCk9Pm5ldyB0ZygoKHQsaSk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PUV2LkNPTk5FQ1RFRClyZXR1cm4gdCgpO2NvbnN0IG49KCk9Pnt0aGlzLm9mZihtdi5XU19DTE9TRUQsciksdCgpfSxyPSgpPT57dGhpcy5vZmYobXYuV1NfQ09OTkVDVEVELG4pLGkobmV3IE12KHhnLldTX0FCT1JUKSl9O3RoaXMub25jZShtdi5XU19DT05ORUNURUQsbiksdGhpcy5vbmNlKG12LldTX0NMT1NFRCxyKSxlIT09ZnYuUFVCTElTSCYmZSE9PWZ2LlNVQlNDUklCRSYmZSE9PWZ2LlVOU1VCU0NSSUJFJiZlIT09ZnYuVU5QVUJMSVNIJiZlIT09ZnYuQ09OVFJPTCYmZSE9PWZ2LlJFU1RBUlRfSUNFfHx0aGlzLm9uY2UobXYuRElTQ09OTkVDVF9QMlAsKCgpPT57aShuZXcgTXYoeGcuRElTQ09OTkVDVF9QMlApKX0pKSxlIT09ZnYuUFVCTElTSCYmZSE9PWZ2LlJFU1RBUlRfSUNFfHx0aGlzLm9uY2UobXYuQUJPUlRfUDJQX0VYRUNVVElPTiwoKCk9PntpKG5ldyBNdih4Zy5ESVNDT05ORUNUX1AyUCkpfSkpfSkpO2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09RXYuQ09OTkVDVElORyYmdGhpcy5jb25uZWN0aW9uU3RhdGUhPT1Fdi5SRUNPTk5FQ1RJTkd8fGU9PT1mdi5KT0lOfHxlPT09ZnYuUkVKT0lOfHxhd2FpdCBhKCksZT09PWZ2LkxFQVZFJiYodGhpcy53ZWJzb2NrZXQudW5iaW5kRGNDbG9zZUV2ZW50TGlzdGVuZXIoKSxuPSEwKSx0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShzLCEwLCExKSxuKXJldHVybjtjb25zdCBjPW5ldyB0ZygoKGksbik9PntsZXQgcz0hMTtjb25zdCBhPShuLHIpPT57cz0hMCxpKHtpc1N1Y2Nlc3M6XCJzdWNjZXNzXCI9PT1uLG1lc3NhZ2U6cnx8e319KSx0aGlzLm9mZihtdi5XU19DTE9TRUQsYyksdGhpcy5vZmYobXYuV1NfUkVDT05ORUNUSU5HLGMpLHRoaXMuZW1pdChtdi5SRVFVRVNUX1NVQ0NFU1MsZSx0KX07dGhpcy5vbmNlKFwicmVzLUBcIi5jb25jYXQociksYSk7Y29uc3QgYz0oKT0+e24obmV3IE12KHhnLldTX0FCT1JULFwidHlwZTogXCIuY29uY2F0KGUpKSksdGhpcy5vZmYobXYuV1NfQ0xPU0VELGMpLHRoaXMub2ZmKG12LldTX1JFQ09OTkVDVElORyxjKSx0aGlzLm9mZihcInJlcy1AXCIuY29uY2F0KHIpLGEpfTt0aGlzLm9uY2UobXYuV1NfQ0xPU0VELGMpLHRoaXMub25jZShtdi5XU19SRUNPTk5FQ1RJTkcsYyksVVMoa0MoXCJTSUdOQUxfUkVRVUVTVF9USU1FT1VUXCIpKS50aGVuKCgoKT0+e3RoaXMud2Vic29ja2V0LmNvbm5lY3Rpb25JRCE9PW98fHN8fChXQy53YXJuaW5nKFwiZGMgcmVxdWVzdCB0aW1lb3V0LCB0eXBlOiBcIi5jb25jYXQoZSkpLHRoaXMuZW1pdChtdi5SRVFVRVNUX1RJTUVPVVQsZSx0KSl9KSl9KSk7bGV0IGQ9bnVsbDt0cnl7ZD1hd2FpdCBjfWNhdGNoKG4pe2lmKHRoaXMuY29ubmVjdGlvblN0YXRlPT09RXYuQ0xPU0VEfHxlPT09ZnYuTEVBVkUpdGhyb3cgbmV3IE12KHhnLldTX0FCT1JUKTtyZXR1cm4hdGhpcy5zcGVjLmZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZXx8aT9uLnRocm93KCk6ZT09PWZ2LkpPSU58fGU9PT1mdi5SRUpPSU4/bnVsbDooYXdhaXQgYSgpLGF3YWl0IHRoaXMucmVxdWVzdChlLHQpKX1pZihkLmlzU3VjY2VzcylyZXR1cm4gZC5tZXNzYWdlO2NvbnN0IGw9TnVtYmVyKGQubWVzc2FnZS5lcnJvcl9jb2RlfHxkLm1lc3NhZ2UuY29kZSksaD1rSShsKSx1PW5ldyBNdih4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiXCIuY29uY2F0KGguZGVzYyxcIjogXCIpLmNvbmNhdChkLm1lc3NhZ2UuZXJyb3Jfc3RyKSx7Y29kZTpsLGRhdGE6ZC5tZXNzYWdlfSk7cmV0dXJuXCJzdWNjZXNzXCI9PT1oLmFjdGlvbj9kLm1lc3NhZ2U6KFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMud2Vic29ja2V0LmNvbm5lY3Rpb25JRCxcIl0gdW5leHBlY3RlZCByZXNwb25zZSBmcm9tIHR5cGUgXCIpLmNvbmNhdChlLFwiLCBlcnJvcl9jb2RlOiBcIikuY29uY2F0KGwsXCIsIG1lc3NhZ2U6IFwiKS5jb25jYXQoaC5kZXNjLFwiLCBhY3Rpb246IFwiKS5jb25jYXQoaC5hY3Rpb24pKSxsPT09X3YuRVJSX1RPT19NQU5ZX0JST0FEQ0FTVEVSUz9lPT09ZnYuSk9JTnx8ZT09PWZ2LlJFSk9JTj8odGhpcy5pbml0RXJyb3I9dSx0aGlzLmNsb3NlKCksdS50aHJvdygpKTp1LnRocm93KCk6XCJmYWlsZWRcIj09PWguYWN0aW9uP3UudGhyb3coKTpcInF1aXRcIj09PWguYWN0aW9uPyh0aGlzLmluaXRFcnJvcj11LHRoaXMuY2xvc2UoKSx1LnRocm93KCkpOihsPT09X3YuRVJSX0pPSU5fQllfTVVMVElfSVA/KHRoaXMubXVsdGlJcE9wdGlvbj1kLm1lc3NhZ2Uub3B0aW9uLFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGRldGVjdCBtdWx0aSBpcCwgcmVjb3ZlclwiKSksdGhpcy5yZWNvbm5lY3QoXCJyZWNvdmVyXCIsU0kuTVVMVElfSVApKTp0aGlzLnJlY29ubmVjdChoLmFjdGlvbixTSS5TRVJWRVJfRVJST1IpLGU9PT1mdi5KT0lOfHxlPT09ZnYuUkVKT0lOP251bGw6YXdhaXQgdGhpcy5yZXF1ZXN0KGUsdCkpKX13YWl0TWVzc2FnZShlLHQpe3JldHVybiBuZXcgdGcoKGk9Pntjb25zdCBuPXI9PnsoIXR8fHQocikpJiYodGhpcy5vZmYoZSxuKSxpKHIpKX07dGhpcy5vbihlLG4pfSkpfXVwbG9hZChlLHQpe2NvbnN0IGk9e190eXBlOmUsX21lc3NhZ2U6dH07dHJ5e3RoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKGkpfWNhdGNoKGUpe2NvbnN0IHQ9a0MoXCJNQVhfVVBMT0FEX0NBQ0hFXCIpfHw1MDt0aGlzLnVwbG9hZENhY2hlLnB1c2goaSksdGhpcy51cGxvYWRDYWNoZS5sZW5ndGg+dCYmdGhpcy51cGxvYWRDYWNoZS5zcGxpY2UoMCwxKSx0aGlzLnVwbG9hZENhY2hlLmxlbmd0aD4wJiYhdGhpcy51cGxvYWRDYWNoZUludGVydmFsJiYodGhpcy51cGxvYWRDYWNoZUludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PUV2LkNPTk5FQ1RFRClyZXR1cm47Y29uc3QgZT10aGlzLnVwbG9hZENhY2hlLnNwbGljZSgwLDEpWzBdOzA9PT10aGlzLnVwbG9hZENhY2hlLmxlbmd0aCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbCksdGhpcy51cGxvYWRDYWNoZUludGVydmFsPXZvaWQgMCksdGhpcy51cGxvYWQoZS5fdHlwZSxlLl9tZXNzYWdlKX0pLGtDKFwiVVBMT0FEX0NBQ0hFX0lOVEVSVkFMXCIpfHwyZTMpKX19c2VuZChlLHQpe2NvbnN0IGk9e190eXBlOmUsX21lc3NhZ2U6dH07dGhpcy53ZWJzb2NrZXQuc2VuZE1lc3NhZ2UoaSl9aW5pdChlLHQpe3JldHVybiB0aGlzLmluaXRFcnJvcj12b2lkIDAsdGhpcy5tdWx0aUlwT3B0aW9uPXZvaWQgMCx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDAsdGhpcy5vcGVuQ29ubmVjdGlvblRpbWU9dm9pZCAwLG5ldyB0ZygoKGksbik9Pnt0aGlzLm9uY2UobXYuV1NfQ09OTkVDVEVELCgoKT0+aSh0aGlzLmpvaW5SZXNwb25zZSkpKSx0aGlzLm9uY2UobXYuV1NfQ0xPU0VELCgoKT0+bih0aGlzLmluaXRFcnJvcnx8bmV3IE12KHhnLldTX0FCT1JUKSkpKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1Fdi5DT05ORUNUSU5HLHRoaXMud2Vic29ja2V0LmluaXQoZSkuY2F0Y2gobiksdGhpcy53ZWJzb2NrZXQub25jZShUSS5GQUlMQkFDSywoKCk9Pnt2b2lkIDA9PT10aGlzLm9wZW5Db25uZWN0aW9uVGltZSYmbihuZXcgTXYoeGcuSU5JVF9EQVRBQ0hBTk5FTF9USU1FT1VUKSl9KSksdGhpcy5pbmZsYXRlRGF0YVRpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmluZmxhdGVEYXRhVGltZXIpLHRoaXMuaW5mbGF0ZURhdGFUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5oYW5kbGVJbmZsYXRlRGF0YSgpfSksMmU0KSxzZXRUaW1lb3V0KCgoKT0+e3QmJnZvaWQgMD09PXRoaXMub3BlbkNvbm5lY3Rpb25UaW1lJiYoV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGluaXQgZGF0YWNoYW5uZWwgdGltZW91dCB3aGlsZSBqb2luIHdpdGggZmFpbGJhY2sgdG8gd2Vic29ja2V0XCIpKSxuKG5ldyBNdih4Zy5JTklUX0RBVEFDSEFOTkVMX1RJTUVPVVQpKSl9KSxrQyhcIkRDX0pPSU5fV0lUSF9GQUlMQkFDS1wiKSl9KSl9Y2xvc2UoZSl7dGhpcy5waW5ncG9uZ1RpbWVyJiYodGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD0wLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXZvaWQgMCksdGhpcy5pbmZsYXRlRGF0YVRpbWVyJiYodGhpcy5oYW5kbGVJbmZsYXRlRGF0YSgpLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW5mbGF0ZURhdGFUaW1lciksdGhpcy5pbmZsYXRlRGF0YVRpbWVyPXZvaWQgMCksdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDAsdGhpcy5qb2luUmVzcG9uc2U9dm9pZCAwLHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1lfHxjUy5MRUFWRSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1Fdi5DTE9TRUQsV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFwiKStcIndpbGwgY2xvc2UgZGF0YWNoYW5uZWwgaW4gc2lnbmFsXCIpLHRoaXMud2Vic29ja2V0LmNsb3NlKCksZT09PWNTLkZBTExCQUNLJiYodGhpcy53ZWJzb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy53ZWJzb2NrZXQ9bmV3IHlEKFwiZ2F0ZXdheS1cIi5jb25jYXQodGhpcy5jbGllbnRJZCksdGhpcy5zcGVjLnJldHJ5Q29uZmlnLCEwLHRoaXMuc3RvcmUpLHRoaXMuaGFuZGxlV2Vic29ja2V0RXZlbnRzKCkpfWFzeW5jIGpvaW4oKXtpZighdGhpcy5qb2luUmVzcG9uc2Upe3RoaXMuZW1pdChtdi5BQk9SVF9QMlBfRVhFQ1VUSU9OKTtjb25zdCBlPWF3YWl0IGZTKHRoaXMsbXYuREFUQUNIQU5ORUxfQ09OTkVDVElORyksdD1hd2FpdCB0aGlzLnJlcXVlc3QoZnYuSk9JTixlKTtpZighdClyZXR1cm4gdGhpcy5lbWl0KG12LlJFUE9SVF9KT0lOX0dBVEVXQVkseGcuVElNRU9VVCx0aGlzLnVybHx8XCJcIiksITE7dGhpcy5qb2luUmVzcG9uc2U9dCx0aGlzLmVtaXQobXYuSk9JTl9SRVNQT05TRSx0aGlzLmpvaW5SZXNwb25zZSksdGhpcy5yZWNvbm5lY3RUb2tlbj10aGlzLmpvaW5SZXNwb25zZS5yZWpvaW5fdG9rZW59cmV0dXJuIHRoaXMuY29ubmVjdGlvblN0YXRlPUV2LkNPTk5FQ1RFRCx0aGlzLnBpbmdwb25nVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmhhbmRsZVBpbmdQb25nLmJpbmQodGhpcyksM2UzKSwhMH1hc3luYyByZWpvaW4oKXtpZighdGhpcy5yZWNvbm5lY3RUb2tlbil0aHJvdyBuZXcgTXYoeGcuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgcmVqb2luLCBubyByZWpvaW4gdG9rZW5cIik7Y29uc3QgZT1UUyh0aGlzLG12LlJFUVVFU1RfUkVKT0lOX0lORk8pO2UudG9rZW49dGhpcy5yZWNvbm5lY3RUb2tlbjtjb25zdCB0PWF3YWl0IHRoaXMucmVxdWVzdChmdi5SRUpPSU4sZSk7cmV0dXJuISF0JiYodGhpcy5jb25uZWN0aW9uU3RhdGU9RXYuQ09OTkVDVEVELHRoaXMucGluZ3BvbmdUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9d2luZG93LnNldEludGVydmFsKHRoaXMuaGFuZGxlUGluZ1BvbmcuYmluZCh0aGlzKSwzZTMpLHQucGVlcnMmJnQucGVlcnMuZm9yRWFjaCgoZT0+e3RoaXMuZW1pdChTdi5PTl9VU0VSX09OTElORSx7dWlkOmUudWlkfSksZS5hdWRpbyYmdGhpcy5lbWl0KFN2Lk9OX0FERF9BVURJT19TVFJFQU0se3VpZDplLnVpZCx1aW50X2lkOmUudWludF9pZCxhdWRpbzohMCxzc3JjSWQ6ZS5hdWRpb19zc3JjfSksZS52aWRlbyYmdGhpcy5lbWl0KFN2Lk9OX0FERF9WSURFT19TVFJFQU0se3VpZDplLnVpZCx1aW50X2lkOmUudWludF9pZCx2aWRlbzohMCxzc3JjSWQ6ZS52aWRlb19zc3JjfSksZS5hdWRpb19tdXRlP3RoaXMuZW1pdChTdi5NVVRFX0FVRElPLHt1aWQ6ZS51aWR9KTp0aGlzLmVtaXQoU3YuVU5NVVRFX0FVRElPLHt1aWQ6ZS51aWR9KSxlLnZpZGVvX211dGU/dGhpcy5lbWl0KFN2Lk1VVEVfVklERU8se3VpZDplLnVpZH0pOnRoaXMuZW1pdChTdi5VTk1VVEVfVklERU8se3VpZDplLnVpZH0pLGUuYXVkaW9fZW5hYmxlX2xvY2FsP3RoaXMuZW1pdChTdi5FTkFCTEVfTE9DQUxfQVVESU8se3VpZDplLnVpZH0pOnRoaXMuZW1pdChTdi5ESVNBQkxFX0xPQ0FMX0FVRElPLHt1aWQ6ZS51aWR9KSxlLnZpZGVvX2VuYWJsZV9sb2NhbD90aGlzLmVtaXQoU3YuRU5BQkxFX0xPQ0FMX1ZJREVPLHt1aWQ6ZS51aWR9KTp0aGlzLmVtaXQoU3YuRElTQUJMRV9MT0NBTF9WSURFTyx7dWlkOmUudWlkfSksZS5hdWRpb3x8ZS52aWRlb3x8dGhpcy5lbWl0KFN2Lk9OX1JFTU9WRV9TVFJFQU0se3VpZDplLnVpZCx1aW50X2lkOmUudWludF9pZH0pfSkpLCEwKX1yZWNvbm5lY3QoZSx0KXt0aGlzLnBpbmdwb25nVGltZXImJih0aGlzLnBpbmdwb25nVGltZW91dENvdW50PTAsd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9dm9pZCAwKSx0aGlzLndlYnNvY2tldC5yZWNvbm5lY3QoZSx0KX1oYW5kbGVOb3RpZmljYXRpb24oZSl7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlY2VpdmUgbm90aWZpY2F0aW9uOiBcIiksZSk7Y29uc3QgdD1rSShlLmNvZGUpO2lmKFwic3VjY2Vzc1wiIT09dC5hY3Rpb24pe2lmKFwiZmFpbGVkXCIhPT10LmFjdGlvbilyZXR1cm5cInF1aXRcIj09PXQuYWN0aW9uPyhcIkVSUl9SRVBFQVRfSk9JTl9DSEFOTkVMXCI9PT10LmRlc2MmJnRoaXMuY2xvc2UoY1MuVUlEX0JBTk5FRCksdm9pZCB0aGlzLmNsb3NlKCkpOnZvaWQgdGhpcy5yZWNvbm5lY3QodC5hY3Rpb24sU0kuU0VSVkVSX0VSUk9SKTtXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gaWdub3JlIGVycm9yOiBcIiksdC5kZXNjKX19aGFuZGxlUGluZ1BvbmcoKXtpZighdGhpcy53ZWJzb2NrZXR8fFwiY29ubmVjdGVkXCIhPT10aGlzLndlYnNvY2tldC5zdGF0ZSlyZXR1cm47dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD4wJiZ0aGlzLnJ0dFJvbGxpbmcuYWRkKDNlMyksdGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudCs9MTtjb25zdCBlPWtDKFwiUElOR19QT05HX1RJTUVfT1VUXCIpLHQ9RGF0ZS5ub3coKTt0aGlzLnBpbmdwb25nVGltZW91dENvdW50Pj1lJiYoV0Mud2FybmluZyhcIlBJTkdQT05HIFRpbWVvdXQuIExhc3QgU29ja2V0IE1lc3NhZ2U6IFwiLmNvbmNhdCh0LXRoaXMubGFzdE1zZ1RpbWUsXCJtc1wiKSksdC10aGlzLmxhc3RNc2dUaW1lPmtDKFwiV0VCU09DS0VUX1RJTUVPVVRfTUlOXCIpKT90aGlzLnJlY29ubmVjdChcInJldHJ5XCIsU0kuVElNRU9VVCk6dGhpcy5yZXF1ZXN0KGZ2LlBJTkcsdm9pZCAwLCEwKS50aGVuKCgoKT0+e3RoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MDtjb25zdCBlPURhdGUubm93KCktdDt0aGlzLnJ0dFJvbGxpbmcuYWRkKGUpLGtDKFwiUkVQT1JUX1NUQVRTXCIpJiZ0aGlzLnNlbmQoZnYuUElOR19CQUNLLHtwaW5ncG9uZ0VsYXBzZTplfSl9KSkuY2F0Y2goKGU9Pnt9KSl9aGFuZGxlSW5mbGF0ZURhdGEoKXtjb25zdHtpbmZsYXRlTGVuZ3RoOmUsZGVmbGF0ZUxlbmd0aDp0fT10aGlzLndlYnNvY2tldC5nZXRJbmZsYXRlRGF0YSgpOzAhPT1lJiYwIT09dCYmdGhpcy51cGxvYWQoZ3YuV1NfSU5GTEFURV9EQVRBX0xFTkdUSCx7d3NfZGVmbGF0ZV9sZW5ndGg6dCx3c19pbmZsYXRlX2xlbmd0aDplfSl9aGFuZGxlV2Vic29ja2V0RXZlbnRzKCl7dGhpcy53ZWJzb2NrZXQub24oVEkuUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCwoZT0+e3RoaXMuZW1pdChtdi5XU19SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNILGUpfSkpLHRoaXMud2Vic29ja2V0Lm9uKFRJLlJFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTiwoZT0+e3RoaXMuZW1pdChtdi5XU19SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sZSl9KSksdGhpcy53ZWJzb2NrZXQub24oVEkuT05fTUVTU0FHRSx0aGlzLm9uV2Vic29ja2V0TWVzc2FnZSksdGhpcy53ZWJzb2NrZXQub24oVEkuQ0xPU0VELCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPUV2LkNMT1NFRH0pKSx0aGlzLndlYnNvY2tldC5vbihUSS5GQUlMRUQsKCgpPT57dGhpcy5fZGlzY29ubmVjdGVkUmVhc29uPWNTLk5FVFdPUktfRVJST1IsdGhpcy5jb25uZWN0aW9uU3RhdGU9RXYuQ0xPU0VEfSkpLHRoaXMud2Vic29ja2V0Lm9uKFRJLlJFQ09OTkVDVElORywoZT0+e3RoaXMuX3dlYnNvY2tldFJlY29ubmVjdFJlYXNvbj1lLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PUV2LkNPTk5FQ1RFRD90aGlzLmNvbm5lY3Rpb25TdGF0ZT1Fdi5SRUNPTk5FQ1RJTkc6dGhpcy5jb25uZWN0aW9uU3RhdGU9RXYuQ09OTkVDVElOR30pKSx0aGlzLndlYnNvY2tldC5vbihUSS5XSUxMX1JFQ09OTkVDVCwoKGUsdCk9PntpZihUUyh0aGlzLG12LklTX1AyUF9ESVNDT05ORUNURUQpJiZcInJldHJ5XCI9PT1lKXJldHVybiBXQy5kZWJ1ZyhcIlwiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiIHJlY29ubmVjdCBtb2RlIGlzIHJldHJ5LCBidXQgcDJwIGxvc3QsIGNoYW5nZSB0byB0cnlOZXh0XCIpKSx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLmVtaXQobXYuTkVFRF9SRU5FV19TRVNTSU9OKSx0aGlzLmVtaXQobXYuRElTQ09OTkVDVF9QMlApLHQoXCJ0cnlOZXh0XCIpO1wicmV0cnlcIiE9PWUmJihXQy5kZWJ1ZyhcIlwiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiIHdlYnNvY2t0IHdpbGxfY29ubmVjdCBldmVudCwgcmVuZXdTZXNzaW9uIHJlY29ubmVjdE1vZGUgaXMgXCIpLmNvbmNhdChlKSksdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDAsdGhpcy5lbWl0KG12Lk5FRURfUkVORVdfU0VTU0lPTiksdGhpcy5lbWl0KG12LkRJU0NPTk5FQ1RfUDJQKSksdChlKX0pKSx0aGlzLndlYnNvY2tldC5vbihUSS5DT05ORUNURUQsKCgpPT57dGhpcy5vcGVuQ29ubmVjdGlvblRpbWU9RGF0ZS5ub3coKSx0aGlzLnJlY29ubmVjdFRva2VuP3RoaXMucmVqb2luKCkuY2F0Y2goKGU9PntXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSByZWpvaW4gZmFpbGVkIFwiKS5jb25jYXQoZSkpLHRoaXMucmVjb25uZWN0KFwidHJ5TmV4dFwiLFNJLlNFUlZFUl9FUlJPUil9KSk6dGhpcy5qb2luKCkuY2F0Y2goKGU9PntpZih0aGlzLmVtaXQobXYuUkVQT1JUX0pPSU5fR0FURVdBWSxlLm1lc3NhZ2V8fGUuY29kZSx0aGlzLnVybHx8XCJcIiksZSBpbnN0YW5jZW9mIE12JiZlLmNvZGU9PT14Zy5VTkVYUEVDVEVEX1JFU1BPTlNFJiZlLmRhdGEuY29kZT09PV92LkVSUl9OT19BVVRIT1JJWkVEKXJldHVybiBXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSByZWNvbm5lY3Qgbm8gYXV0aG9yaXplZCwgcmVjb3ZlclwiKSksdm9pZCB0aGlzLnJlY29ubmVjdChcInJlY292ZXJcIixTSS5TRVJWRVJfRVJST1IpO1dDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBqb2luIGdhdGV3YXkgcmVxdWVzdCBmYWlsZWRcIiksZS50b1N0cmluZygpKSx0aGlzLnNwZWMuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlP3RoaXMucmVjb25uZWN0KFwidHJ5TmV4dFwiLFNJLlNFUlZFUl9FUlJPUik6KHRoaXMuaW5pdEVycm9yPWUsdGhpcy5jbG9zZSgpKX0pKX0pKSx0aGlzLndlYnNvY2tldC5vbihUSS5SRVFVRVNUX05FV19VUkxTLCgoZSx0KT0+e2ZTKHRoaXMsbXYuUkVRVUVTVF9SRUNPVkVSLHRoaXMubXVsdGlJcE9wdGlvbikudGhlbihlKS5jYXRjaCh0KX0pKSx0aGlzLndlYnNvY2tldC5vbihUSS5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRSwoKCk9Pnt0aGlzLmVtaXQoU3YuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUpfSkpLHRoaXMud2Vic29ja2V0Lm9uKFRJLlRPX0NPTk5FQ1RfREFUQUNIQU5ORUwsKGFzeW5jKGUsdCxpKT0+ZlModGhpcyxtdi5EQVRBQ0hBTk5FTF9QUkVDT05ORUNULGUpLnRoZW4odCkuY2F0Y2goaSkpKSx0aGlzLndlYnNvY2tldC5vbihUSS5GQUlMQkFDSywoKCk9Pnt2b2lkIDAhPT10aGlzLm9wZW5Db25uZWN0aW9uVGltZSYmdGhpcy5lbWl0KG12LkRBVEFDSEFOTkVMX0ZBSUxCQUNLKX0pKX19Y2xhc3MgYkQgZXh0ZW5kcyBpU3tjb25zdHJ1Y3RvcihlKXtzdXBlcigpLG51KHRoaXMsXCJfc2lnbmFsXCIsdm9pZCAwKSxudSh0aGlzLFwiX3NlcXVlbmNlXCIsMCksbnUodGhpcyxcIl91c2VyTWFwXCIsbmV3IE1hcCksbnUodGhpcyxcIl9lbmNvZGVyXCIsbmV3IFRleHRFbmNvZGVyKSx0aGlzLl9zaWduYWw9ZX1hc3luYyBzZW5kKGUsdCxpLG4scil7dmFyIHMsbyxhO1wic3RyaW5nXCIhPXR5cGVvZiB0JiYodD1KU09OLnN0cmluZ2lmeSh0KSksbj1udWxsIT09KHM9bikmJnZvaWQgMCE9PXM/czp4Uyg2LFwiXCIpLHI9bnVsbCE9PShvPXIpJiZ2b2lkIDAhPT1vP286dGhpcy5fc2VxdWVuY2UrKztjb25zdCBjPXtfaWQ6bixfdHlwZTplLF9zZXE6bnVsbCE9PShhPXIpJiZ2b2lkIDAhPT1hP2E6dGhpcy5fc2VxdWVuY2UrKyxfbWVzc2FnZTp0fTtpZihrQyhcIlNIT1dfUDJQX0xPR1wiKSYmV0MuZGVidWcoXCJzZW5kIG1lc3NhZ2VcIixjKSx0aGlzLnNlbmRTdHJlYW1NZXNzYWdlKEpTT04uc3RyaW5naWZ5KGMpKSxpKXJldHVybjtjb25zdCBkPW5ldyB0ZygoKHQsaSk9Pntjb25zdCByPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3RoaXMub2ZmKFwicmVzLUBcIi5jb25jYXQobikscyksV0Mud2FybmluZyhcIltleHRlcm5hbC1zaWduYWxdIHJlcXVlc3QgdGltZW91dCwgdHlwZTogXCIuY29uY2F0KGUpKSwwPT09dGhpcy5fdXNlck1hcC5zaXplP2kobmV3IFZnKHhnLklOVkFMSURfUkVNT1RFX1VTRVIpKTppKG5ldyBWZyh4Zy5USU1FT1VUKSl9KSxrQyhcIkVYVEVSTkFMX1NJR05BTF9SRVFVRVNUX1RJTUVPVVRcIikpLHM9KGUsbik9PntyJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHIpLFwic3VjY2Vzc1wiPT09ZT90KHtpc1N1Y2Nlc3M6ITAsbWVzc2FnZTpufSk6aShuZXcgVmcoeGcuVU5FWFBFQ1RFRF9FUlJPUixuKSl9O3RoaXMub25jZShcInJlcy1AXCIuY29uY2F0KG4pLHMpfSkpO2xldCBsO3RyeXtsPWF3YWl0IGR9Y2F0Y2goaSl7aWYoaS5jb2RlPT09eGcuVElNRU9VVClyZXR1cm4gYXdhaXQgdGhpcy5zZW5kKGUsdCwhMSxuLHIpO3Rocm93IGl9cmV0dXJuIGwuaXNTdWNjZXNzP2wubWVzc2FnZTp2b2lkIDB9c2VuZFN0cmVhbU1lc3NhZ2UoZSl7dGhpcy5fc3BsaXRNZXNzYWdlKGUpLmZvckVhY2goKGU9Pnt0aGlzLl9zaWduYWwucmVxdWVzdChmdi5EQVRBX1NUUkVBTSx7cGF5bG9hZDpQUyh0aGlzLl9lbmNvZGVyLmVuY29kZShlKSl9KX0pKX1vbk1lc3NhZ2UoZSl7Y29uc3R7X3VpZDp0fT1lO2xldCBpO2NvbnN0IG49dGhpcy5fdXNlck1hcC5nZXQodCk7aWYobj9pPW4uc3BsaXRNZXNzYWdlTWFwOihpPW5ldyBNYXAsdGhpcy5fdXNlck1hcC5zZXQodCx7aXNTdGFydDohMSxzcGxpdE1lc3NhZ2VNYXA6aSxuZXh0RXhwZWN0ZWRTZXF1ZW5jZU51bWJlcjowLHJlY2VpdmVkTWVzc2FnZXNNYXA6bmV3IE1hcH0pKSxcImlkXCJpbiBlJiZcInRvdGFsXCJpbiBlKXt2YXIgcjtjb25zdHtpZDpuLHRvdGFsOnN9PWUsbz1udWxsIT09KHI9aS5nZXQobikpJiZ2b2lkIDAhPT1yP3I6W107aWYoby5wdXNoKGUpLGkuaGFzKG4pfHxpLnNldChuLG8pLG8ubGVuZ3RoIT09cylyZXR1cm47e2NvbnN0IHI9WnUobykuY2FsbChvLCgoZSx0KT0+ZS5pbmRleC10LmluZGV4KSkubWFwKChlPT5lLnBheWxvYWQpKS5qb2luKFwiXCIpO2kuZGVsZXRlKG4pLChlPUpTT04ucGFyc2UocikpLl91aWQ9dH19dGhpcy5oYW5kbGVSZWNlaXZlZE1lc3NhZ2UoZSl9c2V0U3RhcnQoZSl7dGhpcy5fdXNlck1hcC5oYXMoZSk/dGhpcy5fdXNlck1hcC5nZXQoZSkuaXNTdGFydD0hMDp0aGlzLl91c2VyTWFwLnNldChlLHtpc1N0YXJ0OiEwLHNwbGl0TWVzc2FnZU1hcDpuZXcgTWFwLG5leHRFeHBlY3RlZFNlcXVlbmNlTnVtYmVyOjAscmVjZWl2ZWRNZXNzYWdlc01hcDpuZXcgTWFwfSksdGhpcy5oYW5kbGVSZWNlaXZlZE1lc3NhZ2UoKX1zZXRFbmQoZSl7cmV0dXJuIHRoaXMuX3VzZXJNYXAuZGVsZXRlKGUpLDA9PT10aGlzLl91c2VyTWFwLnNpemV9YWNrKGUsdCxpKXt0aGlzLnNlbmQoQUkuQUNLLEpTT04uc3RyaW5naWZ5KHtzdWNjZXNzOiFpLG1lc3NhZ2U6dH0pLCEwLGUpfWhhbmRsZVJlY2VpdmVkTWVzc2FnZShlKXtjb25zdCB0PSgpPT57dGhpcy5fdXNlck1hcC5mb3JFYWNoKChlPT57Y29uc3R7cmVjZWl2ZWRNZXNzYWdlc01hcDp0LG5leHRFeHBlY3RlZFNlcXVlbmNlTnVtYmVyOml9PWU7Zm9yKDt0LmhhcyhpKTspe2NvbnN0IG49dC5nZXQoaSk7dC5kZWxldGUoaSksdGhpcy5yZWNlaXZlTWVzc2FnZShuKSxlLm5leHRFeHBlY3RlZFNlcXVlbmNlTnVtYmVyKyt9fSkpfTtpZighZSlyZXR1cm4gdm9pZCB0KCk7Y29uc3R7X3VpZDppLF9zZXE6bn09ZSxyPXRoaXMuX3VzZXJNYXAuZ2V0KGkpLHtyZWNlaXZlZE1lc3NhZ2VzTWFwOnMsaXNTdGFydDpvLG5leHRFeHBlY3RlZFNlcXVlbmNlTnVtYmVyOmF9PXI7bjxhP1dDLmRlYnVnKFwiW2V4dGVybmFsLXNpZ25hbF0gcmVjZWl2ZSBvbGQgbWVzc2FnZSwgc2VxOiBcIi5jb25jYXQobikpOihzLnNldChuLGUpLG8mJm49PT1hJiYodGhpcy5yZWNlaXZlTWVzc2FnZShlKSxzLmRlbGV0ZShhKSxyLm5leHRFeHBlY3RlZFNlcXVlbmNlTnVtYmVyKyssdCgpKSl9cmVjZWl2ZU1lc3NhZ2UoZSl7Y29uc3R7X2lkOnQsX3R5cGU6aSxfbWVzc2FnZTpuLF91aWQ6cn09ZTtpZihrQyhcIlNIT1dfUDJQX0xPR1wiKSYmV0MuZGVidWcoXCLmlLbliLDmtojmga9cIixlKSx0KXN3aXRjaChlLl90eXBlKXtjYXNlIEFJLlBVQkxJU0g6Y29uc3Qgcz1KU09OLnBhcnNlKG4pO3RoaXMuX3NpZ25hbC5lbWl0KGkscyxyKSx0aGlzLmFjayhlLl9pZCk7YnJlYWs7Y2FzZSBBSS5DT05UUk9MOmNhc2UgQUkuVU5QVUJMSVNIOmNhc2UgQUkuRE9fU1VCU0NSSUJFOmNhc2UgQUkuRE9fVU5TVUJTQ1JJQkU6e2NvbnN0IHQ9SlNPTi5wYXJzZShuKTt0LnVpZD1yLGZTKHRoaXMuX3NpZ25hbCxpLHQpLnRoZW4oKHQ9Pnt0aGlzLmFjayhlLl9pZCx0KX0pKS5jYXRjaCgodD0+e3RoaXMuYWNrKGUuX2lkLHZvaWQgMCwhMCl9KSk7YnJlYWt9Y2FzZSBBSS5BQ0s6e2NvbnN0e3N1Y2Nlc3M6ZSxtZXNzYWdlOml9PUpTT04ucGFyc2Uobik7dGhpcy5lbWl0KFwicmVzLUBcIi5jb25jYXQodCksZT9cInN1Y2Nlc3NcIjpcImZhaWxlZFwiLGkpO2JyZWFrfWNhc2UgQUkuQ0FMTDpmUyh0aGlzLGksbikudGhlbigoZT0+e3RoaXMuYWNrKHQsZSl9KSk7YnJlYWs7Y2FzZSBBSS5SRVNUQVJUX0lDRTpjYXNlIEFJLkVYQ0hBTkdFX1NEUDpjYXNlIEFJLlNVQlNDUklCRTpjYXNlIEFJLlVOU1VCU0NSSUJFOmZTKHRoaXMuX3NpZ25hbCxpLG4pLnRoZW4oKGU9Pnt0aGlzLmFjayh0LGUpfSkpLmNhdGNoKCh0PT57dGhpcy5hY2soZS5faWQsdm9pZCAwLCEwKX0pKTticmVhaztjYXNlIEFJLkNBTkRJREFURTp0aGlzLl9zaWduYWwuZW1pdChpLG4pLHRoaXMuYWNrKHQpO2JyZWFrO2Nhc2UgQUkuSk9JTjp0aGlzLmVtaXQoaSxKU09OLnBhcnNlKG4pKTticmVhaztkZWZhdWx0OnRoaXMuZW1pdChpLG4pLHRoaXMuYWNrKHQpfX1fc3BsaXRNZXNzYWdlKGUpe2lmKGUubGVuZ3RoPGJELk1BWF9NRVNTQUdFX1NJWkUpcmV0dXJuW2VdO2NvbnN0IHQ9W10saT14Uyg2LFwiXCIpO2xldCBuPTA7Y29uc3Qgcj1NYXRoLmNlaWwoZS5sZW5ndGgvODAwKTtmb3IoO2UubGVuZ3RoPjA7KXtuKys7Y29uc3Qgcz1lLnNsaWNlKDAsODAwKTt0LnB1c2goe2lkOmksaW5kZXg6bix0b3RhbDpyLHBheWxvYWQ6c30pLGU9ZS5zbGljZSg4MDApfXJldHVybiB0Lm1hcCgoZT0+SlNPTi5zdHJpbmdpZnkoZSkpKX1jbGVhcigpe3RoaXMuX3NlcXVlbmNlPTAsdGhpcy5fdXNlck1hcC5jbGVhcigpfX1udShiRCxcIk1BWF9NRVNTQUdFX1NJWkVcIiwxMDI0KTtjbGFzcyB3RCBleHRlbmRzIGlTe2dldCBjb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXRlfXNldCBjb25uZWN0aW9uU3RhdGUoZSl7ZSE9PXRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSYmKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZT1lLGU9PT1Fdi5DT05ORUNURUQ/dGhpcy5lbWl0KG12LldTX0NPTk5FQ1RFRCk6ZT09PUV2LlJFQ09OTkVDVElORz90aGlzLmVtaXQobXYuV1NfUkVDT05ORUNUSU5HLHRoaXMuX3dlYnNvY2tldFJlY29ubmVjdFJlYXNvbik6ZT09PUV2LkNMT1NFRCYmdGhpcy5lbWl0KG12LldTX0NMT1NFRCx0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb24pKX1nZXQgY3VycmVudFVSTEluZGV4KCl7cmV0dXJuIHRoaXMud2Vic29ja2V0LmN1cnJlbnRVUkxJbmRleH1nZXQgdXJsKCl7cmV0dXJuIHRoaXMud2Vic29ja2V0JiZ0aGlzLndlYnNvY2tldC51cmx8fG51bGx9Z2V0IHJ0dCgpe3JldHVybiB0aGlzLnJ0dFJvbGxpbmcubWVhbigpfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSxudSh0aGlzLFwiX2Rpc2Nvbm5lY3RlZFJlYXNvblwiLHZvaWQgMCksbnUodGhpcyxcIl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb25cIix2b2lkIDApLG51KHRoaXMsXCJfY29ubmVjdGlvblN0YXRlXCIsRXYuQ0xPU0VEKSxudSh0aGlzLFwicmVjb25uZWN0VG9rZW5cIix2b2lkIDApLG51KHRoaXMsXCJfdXNlckluUm9vbVwiLCExKSxudSh0aGlzLFwiX3VzZXJPbmxpbmVUaW1lXCIsdm9pZCAwKSxudSh0aGlzLFwid2Vic29ja2V0XCIsdm9pZCAwKSxudSh0aGlzLFwib3BlbkNvbm5lY3Rpb25UaW1lXCIsdm9pZCAwKSxudSh0aGlzLFwiY2xpZW50SWRcIix2b2lkIDApLG51KHRoaXMsXCJsYXN0TXNnVGltZVwiLERhdGUubm93KCkpLG51KHRoaXMsXCJ1cGxvYWRDYWNoZVwiLFtdKSxudSh0aGlzLFwidXBsb2FkQ2FjaGVJbnRlcnZhbFwiLHZvaWQgMCksbnUodGhpcyxcInJ0dFJvbGxpbmdcIixuZXcgZFQoNSkpLG51KHRoaXMsXCJwaW5ncG9uZ1RpbWVyXCIsdm9pZCAwKSxudSh0aGlzLFwid3NJbmZsYXRlRGF0YVRpbWVyXCIsdm9pZCAwKSxudSh0aGlzLFwicGluZ3BvbmdUaW1lb3V0Q291bnRcIiwwKSxudSh0aGlzLFwiam9pblJlc3BvbnNlXCIsdm9pZCAwKSxudSh0aGlzLFwibXVsdGlJcE9wdGlvblwiLHZvaWQgMCksbnUodGhpcyxcImluaXRFcnJvclwiLHZvaWQgMCksbnUodGhpcyxcInNwZWNcIix2b2lkIDApLG51KHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksbnUodGhpcyxcIl9leHRlcm5hbF9zaWduYWxcIix2b2lkIDApLG51KHRoaXMsXCJvbldlYnNvY2tldE1lc3NhZ2VcIiwoZT0+e2lmKGUuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiB2b2lkIHRoaXMuZW1pdChtdi5PTl9CSU5BUllfREFUQSxlLmRhdGEpO2NvbnN0IHQ9SlNPTi5wYXJzZShlLmRhdGEpO2lmKHRoaXMubGFzdE1zZ1RpbWU9RGF0ZS5ub3coKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxcIl9pZFwiKSl7Y29uc3QgZT1cInJlcy1AXCIuY29uY2F0KHQuX2lkKTt0aGlzLmVtaXQoZSx0Ll9yZXN1bHQsdC5fbWVzc2FnZSl9ZWxzZSBpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxcIl90eXBlXCIpKXtzd2l0Y2godC5fdHlwZSl7Y2FzZSBTdi5PTl9EQVRBX1NUUkVBTTpyZXR1cm4gdm9pZCB0aGlzLmhhbmRsZURhdGFTdHJlYW0odC5fbWVzc2FnZSk7Y2FzZSBTdi5NVVRFX0FVRElPOmNhc2UgU3YuTVVURV9WSURFTzpjYXNlIFN2Lk9OX1AyUF9MT1NUOnJldHVybjtjYXNlIFN2Lk9OX1VTRVJfT05MSU5FOnRoaXMuZW1pdCh0Ll90eXBlLHQuX21lc3NhZ2UpO2NvbnN0e3VpZDplfT10Ll9tZXNzYWdlO3JldHVybiB0aGlzLl9leHRlcm5hbF9zaWduYWwuc2V0U3RhcnQoZSksdm9pZCB0aGlzLl9leHRlcm5hbF9zaWduYWwuc2VuZChBSS5KT0lOLHtvbmxpbmVUaW1lOnRoaXMuX3VzZXJPbmxpbmVUaW1lfSwhMCl9aWYodGhpcy5lbWl0KHQuX3R5cGUsdC5fbWVzc2FnZSksdC5fdHlwZT09PVN2Lk9OX05PVElGSUNBVElPTiYmdGhpcy5oYW5kbGVOb3RpZmljYXRpb24odC5fbWVzc2FnZSksdC5fdHlwZT09PVN2Lk9OX1VTRVJfQkFOTkVEKXN3aXRjaCh0Ll9tZXNzYWdlLmVycm9yX2NvZGUpe2Nhc2UgMTQ6dGhpcy5jbG9zZShjUy5VSURfQkFOTkVEKTticmVhaztjYXNlIDE1OnRoaXMuY2xvc2UoY1MuSVBfQkFOTkVEKTticmVhaztjYXNlIDE2OnRoaXMuY2xvc2UoY1MuQ0hBTk5FTF9CQU5ORUQpfWlmKHQuX3R5cGU9PT1Tdi5PTl9VU0VSX0xJQ0VOU0VfQkFOTkVEKXN3aXRjaCh0Ll9tZXNzYWdlLmVycm9yX2NvZGUpe2Nhc2UgX3YuRVJSX0xJQ0VOU0VfTUlTU0lORzp0aGlzLmNsb3NlKGNTLkxJQ0VOU0VfTUlTU0lORyk7YnJlYWs7Y2FzZSBfdi5FUlJfTElDRU5TRV9FWFBJUkVEOnRoaXMuY2xvc2UoY1MuTElDRU5TRV9FWFBJUkVEKTticmVhaztjYXNlIF92LkVSUl9MSUNFTlNFX01JTlVURVNfRVhDRUVERUQ6dGhpcy5jbG9zZShjUy5MSUNFTlNFX01JTlVURVNfRVhDRUVERUQpO2JyZWFrO2Nhc2UgX3YuRVJSX0xJQ0VOU0VfUEVSSU9EX0lOVkFMSUQ6dGhpcy5jbG9zZShjUy5MSUNFTlNFX1BFUklPRF9JTlZBTElEKTticmVhaztjYXNlIF92LkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFOnRoaXMuY2xvc2UoY1MuTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRSk7YnJlYWs7Y2FzZSBfdi5FUlJfTElDRU5TRV9JTExFR0FMOnRoaXMuY2xvc2UoY1MuTElDRU5TRV9JTExFR0FMKTticmVhaztkZWZhdWx0OnRoaXMuY2xvc2UoKX19fSkpLHRoaXMuY2xpZW50SWQ9ZS5jbGllbnRJZCx0aGlzLnNwZWM9ZSx0aGlzLnN0b3JlPXQsdGhpcy53ZWJzb2NrZXQ9bmV3IHFJKFwiZ2F0ZXdheS1cIi5jb25jYXQodGhpcy5jbGllbnRJZCksdGhpcy5zcGVjLnJldHJ5Q29uZmlnLCEwLGtDKFwiSk9JTl9HQVRFV0FZX1VTRV9EVUFMX0RPTUFJTlwiKSxrQyhcIkpPSU5fR0FURVdBWV9VU0VfNDQzUE9SVF9PTkxZXCIpLHQpLHRoaXMuaGFuZGxlV2Vic29ja2V0RXZlbnRzKCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9PT1Fdi5DT05ORUNURUQmJnRoaXMucmVjb25uZWN0KFwicmV0cnlcIixsUy5PRkZMSU5FKX0pKSx0aGlzLl9leHRlcm5hbF9zaWduYWw9bmV3IGJEKHRoaXMpLHRoaXMuX2hhbmRsZVNpZ25hbFAyUEV2ZW50cygpfWFzeW5jIHJlcXVlc3QoZSx0LGksbil7Y29uc3Qgcj14Uyg2LFwiXCIpLHM9e19pZDpyLF90eXBlOmUsX21lc3NhZ2U6dH0sbz10aGlzLndlYnNvY2tldC5jb25uZWN0aW9uSUQsYT0oKT0+bmV3IHRnKCgodCxpKT0+e2lmKHRoaXMuY29ubmVjdGlvblN0YXRlPT09RXYuQ09OTkVDVEVEKXJldHVybiB0KCk7Y29uc3Qgbj0oKT0+e3RoaXMub2ZmKG12LldTX0NMT1NFRCxyKSx0KCl9LHI9KCk9Pnt0aGlzLm9mZihtdi5XU19DT05ORUNURUQsbiksaShuZXcgVmcoeGcuV1NfQUJPUlQpKX07dGhpcy5vbmNlKG12LldTX0NPTk5FQ1RFRCxuKSx0aGlzLm9uY2UobXYuV1NfQ0xPU0VELHIpLGUhPT1mdi5QVUJMSVNIJiZlIT09ZnYuU1VCU0NSSUJFJiZlIT09ZnYuVU5TVUJTQ1JJQkUmJmUhPT1mdi5VTlBVQkxJU0gmJmUhPT1mdi5DT05UUk9MJiZlIT09ZnYuUkVTVEFSVF9JQ0V8fHRoaXMub25jZShtdi5ESVNDT05ORUNUX1AyUCwoKCk9PntpKG5ldyBWZyh4Zy5ESVNDT05ORUNUX1AyUCkpfSkpLGUhPT1mdi5QVUJMSVNIJiZlIT09ZnYuUkVTVEFSVF9JQ0V8fHRoaXMub25jZShtdi5BQk9SVF9QMlBfRVhFQ1VUSU9OLCgoKT0+e2kobmV3IFZnKHhnLkRJU0NPTk5FQ1RfUDJQKSl9KSl9KSk7aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1Fdi5DT05ORUNUSU5HJiZ0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PUV2LlJFQ09OTkVDVElOR3x8ZT09PWZ2LkpPSU58fGU9PT1mdi5SRUpPSU58fGF3YWl0IGEoKSx0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShzLCEwKSxuKXJldHVybjtjb25zdCBjPW5ldyB0ZygoKGksbik9PntsZXQgcz0hMTtjb25zdCBhPShuLHIpPT57cz0hMCxpKHtpc1N1Y2Nlc3M6XCJzdWNjZXNzXCI9PT1uLG1lc3NhZ2U6cnx8e319KSx0aGlzLm9mZihtdi5XU19DTE9TRUQsYyksdGhpcy5vZmYobXYuV1NfUkVDT05ORUNUSU5HLGMpLHRoaXMuZW1pdChtdi5SRVFVRVNUX1NVQ0NFU1MsZSx0KX07dGhpcy5vbmNlKFwicmVzLUBcIi5jb25jYXQociksYSk7Y29uc3QgYz0oKT0+e24obmV3IFZnKHhnLldTX0FCT1JULFwidHlwZTogXCIuY29uY2F0KGUpKSksdGhpcy5vZmYobXYuV1NfQ0xPU0VELGMpLHRoaXMub2ZmKG12LldTX1JFQ09OTkVDVElORyxjKSx0aGlzLm9mZihcInJlcy1AXCIuY29uY2F0KHIpLGEpfTt0aGlzLm9uY2UobXYuV1NfQ0xPU0VELGMpLHRoaXMub25jZShtdi5XU19SRUNPTk5FQ1RJTkcsYyksVVMoa0MoXCJTSUdOQUxfUkVRVUVTVF9USU1FT1VUXCIpKS50aGVuKCgoKT0+e3RoaXMud2Vic29ja2V0LmNvbm5lY3Rpb25JRCE9PW98fHN8fChXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSB3cyByZXF1ZXN0IHRpbWVvdXQsIHR5cGU6IFwiKS5jb25jYXQoZSkpLHRoaXMuZW1pdChtdi5SRVFVRVNUX1RJTUVPVVQsZSx0KSl9KSl9KSk7bGV0IGQ9bnVsbDt0cnl7ZD1hd2FpdCBjfWNhdGNoKG4pe2lmKHRoaXMuY29ubmVjdGlvblN0YXRlPT09RXYuQ0xPU0VEfHxlPT09ZnYuTEVBVkUpdGhyb3cgbmV3IFZnKHhnLldTX0FCT1JUKTtyZXR1cm4hdGhpcy5zcGVjLmZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZXx8aT9uLnRocm93KCk6ZT09PWZ2LkpPSU58fGU9PT1mdi5SRUpPSU4/bnVsbDooYXdhaXQgYSgpLGF3YWl0IHRoaXMucmVxdWVzdChlLHQpKX1pZihkLmlzU3VjY2VzcylyZXR1cm4gZC5tZXNzYWdlO2NvbnN0IGw9TnVtYmVyKGQubWVzc2FnZS5lcnJvcl9jb2RlfHxkLm1lc3NhZ2UuY29kZSksaD1rSShsKSx1PW5ldyBWZyh4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiXCIuY29uY2F0KGguZGVzYyxcIjogXCIpLmNvbmNhdChkLm1lc3NhZ2UuZXJyb3Jfc3RyKSx7Y29kZTpsLGRhdGE6ZC5tZXNzYWdlfSk7cmV0dXJuXCJzdWNjZXNzXCI9PT1oLmFjdGlvbj9kLm1lc3NhZ2U6KFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMud2Vic29ja2V0LmNvbm5lY3Rpb25JRCxcIl0gdW5leHBlY3RlZCByZXNwb25zZSBmcm9tIHR5cGUgXCIpLmNvbmNhdChlLFwiLCBlcnJvcl9jb2RlOiBcIikuY29uY2F0KGwsXCIsIG1lc3NhZ2U6IFwiKS5jb25jYXQoaC5kZXNjLFwiLCBhY3Rpb246IFwiKS5jb25jYXQoaC5hY3Rpb24pKSxsPT09X3YuRVJSX1RPT19NQU5ZX0JST0FEQ0FTVEVSUz9lPT09ZnYuSk9JTnx8ZT09PWZ2LlJFSk9JTj8odGhpcy5pbml0RXJyb3I9dSx0aGlzLmNsb3NlKCksdS50aHJvdygpKTp1LnRocm93KCk6XCJmYWlsZWRcIj09PWguYWN0aW9uP3UudGhyb3coKTpcInF1aXRcIj09PWguYWN0aW9uPyh0aGlzLmluaXRFcnJvcj11LHRoaXMuY2xvc2UoKSx1LnRocm93KCkpOihsPT09X3YuRVJSX0pPSU5fQllfTVVMVElfSVA/KHRoaXMubXVsdGlJcE9wdGlvbj1kLm1lc3NhZ2Uub3B0aW9uLFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGRldGVjdCBtdWx0aSBpcCwgcmVjb3ZlclwiKSksdGhpcy5yZWNvbm5lY3QoXCJyZWNvdmVyXCIsbFMuTVVMVElfSVApKTp0aGlzLnJlY29ubmVjdChoLmFjdGlvbixsUy5TRVJWRVJfRVJST1IpLGU9PT1mdi5KT0lOfHxlPT09ZnYuUkVKT0lOP251bGw6YXdhaXQgdGhpcy5yZXF1ZXN0KGUsdCkpKX13YWl0TWVzc2FnZShlLHQpe3JldHVybiBuZXcgdGcoKGk9Pntjb25zdCBuPXI9PnsoIXR8fHQocikpJiYodGhpcy5vZmYoZSxuKSxpKHIpKX07dGhpcy5vbihlLG4pfSkpfXVwbG9hZChlLHQpe2NvbnN0IGk9e190eXBlOmUsX21lc3NhZ2U6dH07dHJ5e3RoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKGkpfWNhdGNoKGUpe2NvbnN0IHQ9a0MoXCJNQVhfVVBMT0FEX0NBQ0hFXCIpfHw1MDt0aGlzLnVwbG9hZENhY2hlLnB1c2goaSksdGhpcy51cGxvYWRDYWNoZS5sZW5ndGg+dCYmdGhpcy51cGxvYWRDYWNoZS5zcGxpY2UoMCwxKSx0aGlzLnVwbG9hZENhY2hlLmxlbmd0aD4wJiYhdGhpcy51cGxvYWRDYWNoZUludGVydmFsJiYodGhpcy51cGxvYWRDYWNoZUludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PUV2LkNPTk5FQ1RFRClyZXR1cm47Y29uc3QgZT10aGlzLnVwbG9hZENhY2hlLnNwbGljZSgwLDEpWzBdOzA9PT10aGlzLnVwbG9hZENhY2hlLmxlbmd0aCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbCksdGhpcy51cGxvYWRDYWNoZUludGVydmFsPXZvaWQgMCksdGhpcy51cGxvYWQoZS5fdHlwZSxlLl9tZXNzYWdlKX0pLGtDKFwiVVBMT0FEX0NBQ0hFX0lOVEVSVkFMXCIpfHwyZTMpKX19c2VuZChlLHQpe2NvbnN0IGk9e190eXBlOmUsX21lc3NhZ2U6dH07dGhpcy53ZWJzb2NrZXQuc2VuZE1lc3NhZ2UoaSl9YXN5bmMgc2VuZEV4dGVuc2lvbk1lc3NhZ2UoZSx0LGkpe3JldHVybiBhd2FpdCB0aGlzLndhaXRUaWxsVXNlck9ubGluZSgpLGF3YWl0IHRoaXMuX2V4dGVybmFsX3NpZ25hbC5zZW5kKGUsdCxpKX1pbml0KGUsdCl7cmV0dXJuIHRoaXMuaW5pdEVycm9yPXZvaWQgMCx0aGlzLm11bHRpSXBPcHRpb249dm9pZCAwLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLm9wZW5Db25uZWN0aW9uVGltZT12b2lkIDAsbmV3IHRnKCgodCxpKT0+e3RoaXMub25jZShtdi5XU19DT05ORUNURUQsKCgpPT50KHRoaXMuam9pblJlc3BvbnNlKSkpLHRoaXMub25jZShtdi5XU19DTE9TRUQsKCgpPT5pKHRoaXMuaW5pdEVycm9yfHxuZXcgVmcoeGcuV1NfQUJPUlQpKSkpLHRoaXMuY29ubmVjdGlvblN0YXRlPUV2LkNPTk5FQ1RJTkcsdGhpcy53ZWJzb2NrZXQuaW5pdChlKS5jYXRjaChpKSx0aGlzLndzSW5mbGF0ZURhdGFUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy53c0luZmxhdGVEYXRhVGltZXIpLHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLmhhbmRsZVdzSW5mbGF0ZURhdGEoKX0pLDJlNCl9KSl9Y2xvc2UoZSl7dGhpcy5waW5ncG9uZ1RpbWVyJiYodGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD0wLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXZvaWQgMCksdGhpcy53c0luZmxhdGVEYXRhVGltZXImJih0aGlzLmhhbmRsZVdzSW5mbGF0ZURhdGEoKSx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLndzSW5mbGF0ZURhdGFUaW1lciksdGhpcy53c0luZmxhdGVEYXRhVGltZXI9dm9pZCAwKSx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uPWV8fGNTLkxFQVZFLHRoaXMuY29ubmVjdGlvblN0YXRlPUV2LkNMT1NFRCxXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gXCIpK1wid2lsbCBjbG9zZSB3ZWJzb2NrZXQgaW4gc2lnbmFsXCIpLHRoaXMud2Vic29ja2V0LmNsb3NlKCksZT09PWNTLkZBTExCQUNLJiYodGhpcy53ZWJzb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy53ZWJzb2NrZXQ9bmV3IHFJKFwiZ2F0ZXdheS1cIi5jb25jYXQodGhpcy5jbGllbnRJZCksdGhpcy5zcGVjLnJldHJ5Q29uZmlnLCEwLGtDKFwiSk9JTl9HQVRFV0FZX1VTRV9EVUFMX0RPTUFJTlwiKSxrQyhcIkpPSU5fR0FURVdBWV9VU0VfNDQzUE9SVF9PTkxZXCIpLHRoaXMuc3RvcmUpLHRoaXMuaGFuZGxlV2Vic29ja2V0RXZlbnRzKCkpfWFzeW5jIGpvaW4oKXtpZighdGhpcy5qb2luUmVzcG9uc2Upe3RoaXMuZW1pdChtdi5BQk9SVF9QMlBfRVhFQ1VUSU9OKTtjb25zdCBlPWF3YWl0IGZTKHRoaXMsbXYuUkVRVUVTVF9KT0lOX0lORk8pLHQ9YXdhaXQgdGhpcy5yZXF1ZXN0KGZ2LkpPSU4sZSk7aWYoIXQpcmV0dXJuIHRoaXMuZW1pdChtdi5SRVBPUlRfSk9JTl9HQVRFV0FZLHhnLlRJTUVPVVQsdGhpcy51cmx8fFwiXCIpLCExO3RoaXMuam9pblJlc3BvbnNlPXQsdGhpcy5lbWl0KG12LkpPSU5fUkVTUE9OU0UsdGhpcy5qb2luUmVzcG9uc2UpLHRoaXMucmVjb25uZWN0VG9rZW49dGhpcy5qb2luUmVzcG9uc2UucmVqb2luX3Rva2VufXJldHVybiB0aGlzLmNvbm5lY3Rpb25TdGF0ZT1Fdi5DT05ORUNURUQsdGhpcy5waW5ncG9uZ1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5oYW5kbGVQaW5nUG9uZy5iaW5kKHRoaXMpLDNlMyksdGhpcy5fdXNlck9ubGluZVRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5fZXh0ZXJuYWxfc2lnbmFsLmNsZWFyKCksITB9YXN5bmMgcmVqb2luKCl7aWYoIXRoaXMucmVjb25uZWN0VG9rZW4pdGhyb3cgbmV3IFZnKHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IHJlam9pbiwgbm8gcmVqb2luIHRva2VuXCIpO2NvbnN0IGU9VFModGhpcyxtdi5SRVFVRVNUX1JFSk9JTl9JTkZPKTtlLnRva2VuPXRoaXMucmVjb25uZWN0VG9rZW47cmV0dXJuISFhd2FpdCB0aGlzLnJlcXVlc3QoZnYuUkVKT0lOLGUpJiYodGhpcy5jb25uZWN0aW9uU3RhdGU9RXYuQ09OTkVDVEVELHRoaXMucGluZ3BvbmdUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9d2luZG93LnNldEludGVydmFsKHRoaXMuaGFuZGxlUGluZ1BvbmcuYmluZCh0aGlzKSwzZTMpLCEwKX1yZWNvbm5lY3QoZSx0KXt0aGlzLnBpbmdwb25nVGltZXImJih0aGlzLnBpbmdwb25nVGltZW91dENvdW50PTAsd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9dm9pZCAwKSx0aGlzLndlYnNvY2tldC5yZWNvbm5lY3QoZSx0KX1oYW5kbGVEYXRhU3RyZWFtKGUpe3RyeXt2YXIgdDtjb25zdCBpPURTKGUucGF5bG9hZCksbj0obmV3IFRleHREZWNvZGVyKS5kZWNvZGUoaSkscj1KU09OLnBhcnNlKG4pO1widG90YWxcImluIHImJlwiaWRcImluIHJ8fFByKHQ9T2JqZWN0LnZhbHVlcyhBSSkpLmNhbGwodCxyLl90eXBlKT8oZS5zZXEmJmRlbGV0ZSBlLnNlcSxyLl91aWQ9ZS51aWQsdGhpcy5fZXh0ZXJuYWxfc2lnbmFsLm9uTWVzc2FnZShyKSk6dGhpcy5lbWl0KFN2Lk9OX0RBVEFfU1RSRUFNLGUpfWNhdGNoKGUpe319aGFuZGxlTm90aWZpY2F0aW9uKGUpe1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSByZWNlaXZlIG5vdGlmaWNhdGlvbjogXCIpLGUpO2NvbnN0IHQ9a0koZS5jb2RlKTtpZihcInN1Y2Nlc3NcIiE9PXQuYWN0aW9uKXtpZihcImZhaWxlZFwiIT09dC5hY3Rpb24pcmV0dXJuXCJxdWl0XCI9PT10LmFjdGlvbj8oXCJFUlJfUkVQRUFUX0pPSU5fQ0hBTk5FTFwiPT09dC5kZXNjJiZ0aGlzLmNsb3NlKGNTLlVJRF9CQU5ORUQpLHZvaWQgdGhpcy5jbG9zZSgpKTp2b2lkIHRoaXMucmVjb25uZWN0KHQuYWN0aW9uLGxTLlNFUlZFUl9FUlJPUik7V0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGlnbm9yZSBlcnJvcjogXCIpLHQuZGVzYyl9fWhhbmRsZVBpbmdQb25nKCl7aWYoIXRoaXMud2Vic29ja2V0fHxcImNvbm5lY3RlZFwiIT09dGhpcy53ZWJzb2NrZXQuc3RhdGUpcmV0dXJuO3RoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ+MCYmdGhpcy5ydHRSb2xsaW5nLmFkZCgzZTMpLHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQrPTE7Y29uc3QgZT1rQyhcIlBJTkdfUE9OR19USU1FX09VVFwiKSx0PURhdGUubm93KCk7dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD49ZSYmKFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFBJTkdQT05HIFRpbWVvdXQuIExhc3QgU29ja2V0IE1lc3NhZ2U6IFwiKS5jb25jYXQodC10aGlzLmxhc3RNc2dUaW1lLFwibXNcIikpLHQtdGhpcy5sYXN0TXNnVGltZT5rQyhcIldFQlNPQ0tFVF9USU1FT1VUX01JTlwiKSk/dGhpcy5yZWNvbm5lY3QoXCJyZXRyeVwiLGxTLlRJTUVPVVQpOnRoaXMucmVxdWVzdChmdi5QSU5HLHZvaWQgMCwhMCkudGhlbigoKCk9Pnt0aGlzLnBpbmdwb25nVGltZW91dENvdW50PTA7Y29uc3QgZT1EYXRlLm5vdygpLXQ7dGhpcy5ydHRSb2xsaW5nLmFkZChlKSxrQyhcIlJFUE9SVF9TVEFUU1wiKSYmdGhpcy5zZW5kKGZ2LlBJTkdfQkFDSyx7cGluZ3BvbmdFbGFwc2U6ZX0pfSkpLmNhdGNoKChlPT57fSkpfWhhbmRsZVdzSW5mbGF0ZURhdGEoKXtjb25zdHt3c0luZmxhdGVMZW5ndGg6ZSx3c0RlZmxhdGVMZW5ndGg6dH09dGhpcy53ZWJzb2NrZXQuZ2V0V3NJbmZsYXRlRGF0YSgpOzAhPT1lJiYwIT09dCYmdGhpcy51cGxvYWQoZ3YuV1NfSU5GTEFURV9EQVRBX0xFTkdUSCx7d3NfZGVmbGF0ZV9sZW5ndGg6dCx3c19pbmZsYXRlX2xlbmd0aDplfSl9aGFuZGxlV2Vic29ja2V0RXZlbnRzKCl7dGhpcy53ZWJzb2NrZXQub24oQ3YuUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCwoZT0+e3RoaXMuZW1pdChtdi5XU19SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNILGUpfSkpLHRoaXMud2Vic29ja2V0Lm9uKEN2LlJFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTiwoZT0+e3RoaXMuZW1pdChtdi5XU19SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sZSl9KSksdGhpcy53ZWJzb2NrZXQub24oQ3YuT05fTUVTU0FHRSx0aGlzLm9uV2Vic29ja2V0TWVzc2FnZSksdGhpcy53ZWJzb2NrZXQub24oQ3YuQ0xPU0VELCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPUV2LkNMT1NFRH0pKSx0aGlzLndlYnNvY2tldC5vbihDdi5GQUlMRUQsKCgpPT57dGhpcy5fZGlzY29ubmVjdGVkUmVhc29uPWNTLk5FVFdPUktfRVJST1IsdGhpcy5jb25uZWN0aW9uU3RhdGU9RXYuQ0xPU0VEfSkpLHRoaXMud2Vic29ja2V0Lm9uKEN2LlJFQ09OTkVDVElORywoZT0+e3RoaXMuX3dlYnNvY2tldFJlY29ubmVjdFJlYXNvbj1lLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PUV2LkNPTk5FQ1RFRD90aGlzLmNvbm5lY3Rpb25TdGF0ZT1Fdi5SRUNPTk5FQ1RJTkc6dGhpcy5jb25uZWN0aW9uU3RhdGU9RXYuQ09OTkVDVElOR30pKSx0aGlzLndlYnNvY2tldC5vbihDdi5XSUxMX1JFQ09OTkVDVCwoKGUsdCxpKT0+e2lmKFRTKHRoaXMsbXYuSVNfUDJQX0RJU0NPTk5FQ1RFRCkmJlwicmV0cnlcIj09PWUpcmV0dXJuIFdDLmRlYnVnKFwiXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCIgcmVjb25uZWN0IG1vZGUgaXMgcmV0cnksIGJ1dCBwMnAgbG9zdCwgY2hhbmdlIHRvIHRyeU5leHRcIikpLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwLHRoaXMuZW1pdChtdi5ORUVEX1JFTkVXX1NFU1NJT04pLHRoaXMuZW1pdChtdi5ESVNDT05ORUNUX1AyUCksaShcInRyeU5leHRcIik7XCJyZXRyeVwiIT09ZSYmKFdDLmRlYnVnKFwiXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCIgd2Vic29ja2V0IHdpbGxfY29ubmVjdCBldmVudCwgcmVuZXdTZXNzaW9uIHJlY29ubmVjdE1vZGUgaXMgXCIpLmNvbmNhdChlKSksdGhpcy5yZWNvbm5lY3RUb2tlbj12b2lkIDAsdGhpcy5lbWl0KG12Lk5FRURfUkVORVdfU0VTU0lPTiksdGhpcy5lbWl0KG12LkRJU0NPTk5FQ1RfUDJQKSksaShlKX0pKSx0aGlzLndlYnNvY2tldC5vbihDdi5DT05ORUNURUQsKCgpPT57dGhpcy5vcGVuQ29ubmVjdGlvblRpbWU9RGF0ZS5ub3coKSx0aGlzLnJlY29ubmVjdFRva2VuP3RoaXMucmVqb2luKCkuY2F0Y2goKGU9PntXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSByZWpvaW4gZmFpbGVkIFwiKS5jb25jYXQoZSkpLHRoaXMucmVjb25uZWN0KFwidHJ5TmV4dFwiLGxTLlNFUlZFUl9FUlJPUil9KSk6dGhpcy5qb2luKCkuY2F0Y2goKGU9PntpZih0aGlzLmVtaXQobXYuUkVQT1JUX0pPSU5fR0FURVdBWSxlLm1lc3NhZ2V8fGUuY29kZSx0aGlzLnVybHx8XCJcIiksZSBpbnN0YW5jZW9mIFZnJiZlLmNvZGU9PT14Zy5VTkVYUEVDVEVEX1JFU1BPTlNFJiZlLmRhdGEuY29kZT09PV92LkVSUl9OT19BVVRIT1JJWkVEKXJldHVybiBXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSByZWNvbm5lY3Qgbm8gYXV0aG9yaXplZCwgcmVjb3ZlclwiKSksdm9pZCB0aGlzLnJlY29ubmVjdChcInJlY292ZXJcIixsUy5TRVJWRVJfRVJST1IpO1dDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBqb2luIGdhdGV3YXkgcmVxdWVzdCBmYWlsZWRcIiksZS50b1N0cmluZygpKSx0aGlzLnNwZWMuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlP3RoaXMucmVjb25uZWN0KFwidHJ5TmV4dFwiLGxTLlNFUlZFUl9FUlJPUik6KHRoaXMuaW5pdEVycm9yPWUsdGhpcy5jbG9zZSgpKX0pKX0pKSx0aGlzLndlYnNvY2tldC5vbihDdi5SRVFVRVNUX05FV19VUkxTLCgoZSx0KT0+e2ZTKHRoaXMsbXYuUkVRVUVTVF9SRUNPVkVSLHRoaXMubXVsdGlJcE9wdGlvbikudGhlbihlKS5jYXRjaCh0KX0pKSx0aGlzLndlYnNvY2tldC5vbihDdi5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRSwoKCk9Pnt0aGlzLmVtaXQoU3YuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUpfSkpfV9oYW5kbGVTaWduYWxQMlBFdmVudHMoKXt0aGlzLl9leHRlcm5hbF9zaWduYWwub24oQUkuSk9JTiwoYXN5bmMgZT0+e2lmKHRoaXMuX3VzZXJPbmxpbmVUaW1lJiZ0aGlzLl91c2VyT25saW5lVGltZTxlLm9ubGluZVRpbWUpe2NvbnN0IGU9YXdhaXQgZlModGhpcyxtdi5QMlBfU1RBUlQsdm9pZCAwKSx0PWF3YWl0IHRoaXMuX2V4dGVybmFsX3NpZ25hbC5zZW5kKEFJLkNBTEwsZSk7dGhpcy5lbWl0KG12LlAyUF9DT05ORUNUSU9OLHQsITApfXRoaXMuX3VzZXJJblJvb209ITAsdGhpcy5lbWl0KFwidXNlci1vbmxpbmVcIil9KSksdGhpcy5vbihTdi5PTl9VU0VSX09GRkxJTkUsKGFzeW5jIGU9Pnt0aGlzLl9leHRlcm5hbF9zaWduYWwuY2xlYXIoKSx0aGlzLl91c2VySW5Sb29tPSExfSkpLHRoaXMuX2V4dGVybmFsX3NpZ25hbC5vbihBSS5DQUxMLChhc3luYyhlLHQsaSk9Pnt0aGlzLl91c2VySW5Sb29tPSEwLHRoaXMuZW1pdChcInVzZXItb25saW5lXCIpO3RyeXt0KGF3YWl0IGZTKHRoaXMsbXYuUDJQX1NUQVJULGUpKX1jYXRjaChlKXtpKGUpfX0pKX1hc3luYyB3YWl0VGlsbFVzZXJPbmxpbmUoKXtyZXR1cm4gbmV3IHRnKChlPT57aWYodGhpcy5fdXNlckluUm9vbSllKCk7ZWxzZXtjb25zdCB0PSgpPT57dGhpcy5vZmYoXCJ1c2VyLW9ubGluZVwiLHQpLGUoKX07dGhpcy5vbihcInVzZXItb25saW5lXCIsdCl9fSkpfX1mdW5jdGlvbiBPRChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gTkQoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/T0QoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6T0QoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y29uc3QgREQ9bmV3IE1hcDtjbGFzcyBQRCBleHRlbmRzIGlTe2dldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUoZSl7aWYoZT09PXRoaXMuX3N0YXRlKXJldHVybjtjb25zdCB0PXRoaXMuX3N0YXRlO3RoaXMuX3N0YXRlPWUsXCJESVNDT05ORUNURURcIj09PWUmJnRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj90aGlzLmVtaXQoWnYuQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsZSx0LHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbik6dGhpcy5lbWl0KFp2LkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLGUsdCl9Z2V0IGpvaW5HYXRld2F5U3RhcnRUaW1lKCl7cmV0dXJuIHRoaXMuX2pvaW5HYXRld2F5U3RhcnRUaW1lfXNldCBqb2luR2F0ZXdheVN0YXJ0VGltZShlKXtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gc2V0IGpvaW5HYXRld2F5U3RhcnRUaW1lIGF0IFwiKS5jb25jYXQoZSkpLHRoaXMuX2pvaW5HYXRld2F5U3RhcnRUaW1lPWV9Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLG51KHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksbnUodGhpcyxcImpvaW5JbmZvXCIsdm9pZCAwKSxudSh0aGlzLFwia2V5XCIsdm9pZCAwKSxudSh0aGlzLFwibnRwT2Zmc2V0XCIsMCksbnUodGhpcyxcInNpZ25hbFwiLHZvaWQgMCksbnUodGhpcyxcInJvbGVcIix2b2lkIDApLG51KHRoaXMsXCJpbkNoYW5uZWxJbmZvXCIse2pvaW5BdDpudWxsLGR1cmF0aW9uOjB9KSxudSh0aGlzLFwic3BlY1wiLHZvaWQgMCksbnUodGhpcyxcIl9zdGF0ZVwiLFwiRElTQ09OTkVDVEVEXCIpLG51KHRoaXMsXCJfc3RhdHNDb2xsZWN0b3JcIix2b2lkIDApLG51KHRoaXMsXCJfZGlzY29ubmVjdGVkUmVhc29uXCIsdm9pZCAwKSxudSh0aGlzLFwiaXNTaWduYWxSZWNvdmVyXCIsITEpLG51KHRoaXMsXCJoYXNDaGFuZ2VCR1BBZGRyZXNzXCIsITEpLG51KHRoaXMsXCJ0cmFmZmljU3RhdHNJbnRlcnZhbFwiLHZvaWQgMCksbnUodGhpcyxcIm5ldHdvcmtRdWFsaXR5SW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJfam9pbkdhdGV3YXlTdGFydFRpbWVcIiwwKSxudSh0aGlzLFwiX3NpZ25hbFRpbWVvdXRcIiwhMSksbnUodGhpcyxcIl9jbGllbnRSb2xlT3B0aW9uc1wiLHZvaWQgMCksbnUodGhpcyxcIl9pc1Byb2FjdGl2ZUpvaW5cIiwhMSksdGhpcy5zdG9yZT1lLHRoaXMuc3BlYz10LHRoaXMuc2lnbmFsPXRoaXMuc3RvcmUudXNlUDJQP25ldyB3RChORChORCh7fSx0KSx7fSx7cmV0cnlDb25maWc6dC53ZWJzb2NrZXRSZXRyeUNvbmZpZ30pLGUpOnRoaXMuc3RvcmUudXNlRGF0YUNoYW5uZWw/bmV3IEFEKE5EKE5EKHt9LHQpLHt9LHtyZXRyeUNvbmZpZzp0LndlYnNvY2tldFJldHJ5Q29uZmlnfSksZSk6bmV3IHpJKE5EKE5EKHt9LHQpLHt9LHtyZXRyeUNvbmZpZzp0LndlYnNvY2tldFJldHJ5Q29uZmlnfSksZSksdGhpcy5fc3RhdHNDb2xsZWN0b3I9dC5zdGF0c0NvbGxlY3Rvcix0aGlzLnJvbGU9dC5yb2xlfHxcImF1ZGllbmNlXCIsdGhpcy5fY2xpZW50Um9sZU9wdGlvbnM9dC5jbGllbnRSb2xlT3B0aW9ucyx0aGlzLmhhbmRsZVNpZ25hbEV2ZW50cygpfWFzeW5jIGpvaW4oZSx0LGkpe2lmKHRoaXMuc2lnbmFsIGluc3RhbmNlb2YgQUQpe2xldCB0PSExO1wiZGlzYWJsZWRcIiE9PWUuY2xvdWRQcm94eVNlcnZlcj8oV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIERjIGlzIG5vdCBzdXBwb3J0ZWQsIGJlY2F1c2UgY2xvdWRQcm94eVNlcnZlciBhcmUgbm90IHN1cHBvcnRlZCAoXCIpLmNvbmNhdChlLmNsb3VkUHJveHlTZXJ2ZXIsXCIpXCIpKSx0PSEwKTpcIlwiLmNvbmNhdChlLmFwUmVzcG9uc2UuY2lkLFwiX1wiKS5jb25jYXQoZS5hcFJlc3BvbnNlLmNlcnQpLmxlbmd0aD4yNTV8fFwiXCIuY29uY2F0KGUuYXBSZXNwb25zZS5jaWQsXCJfXCIpLmNvbmNhdChlLmFwUmVzcG9uc2UuY2VydCkubGVuZ3RoPDIyPyhXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gRGMgaXMgbm90IHN1cHBvcnRlZCwgYmVjYXVzZSB0aWNrZXQgbGVuZ3RoIGlzIGluY29ycmVjdCwgaXQgaGFzIHRvIGJlIGJldHdlZW4gMjIgYW5kIDI1NVwiKSksdD0hMCk6ZS5hcFJlc3BvbnNlLmFkZHJlc3Nlcy5zb21lKChlPT5lLmZpbmdlcnByaW50KSl8fGtDKFwiRklOR0VSUFJJTlRcIil8fChXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gRGMgaXMgbm90IHN1cHBvcnRlZCwgYmVjYXVzZSBmaW5nZXJwcmludCBkb2VzIG5vdCBleGlzdFwiKSksdD0hMCksdCYmdGhpcy5yZXNldFNpZ25hbCgpfXRoaXMuc3RvcmUuam9pbkdhdGV3YXlTdGFydCgpLFwiZGlzYWJsZWRcIiE9PWUuY2xvdWRQcm94eVNlcnZlciYmKHRoaXMuaGFzQ2hhbmdlQkdQQWRkcmVzcz0hMCk7Y29uc3Qgbj1EYXRlLm5vdygpO2xldCByPURELmdldChlLmNuYW1lKTtpZihyfHwocj1uZXcgTWFwLERELnNldChlLmNuYW1lLHIpKSx0aGlzLl9pc1Byb2FjdGl2ZUpvaW49ITAsci5oYXMoZS51aWQpKXtjb25zdCB0PW5ldyBNdih4Zy5VSURfQ09ORkxJQ1QpO3Rocm93IGl2LmpvaW5HYXRld2F5KGUuc2lkLHtsdHM6bixzdWNjOiExLGVjOnQubWVzc2FnZSxhZGRyOm51bGwsdWlkOmUudWlkLGNpZDplLmNpZCxmaXJzdFN1Y2Nlc3M6dGhpcy5faXNQcm9hY3RpdmVKb2luLGF2b2lkSm9pblN0YXJ0VGltZTp0aGlzLnN0b3JlLmF2b2lkSm9pblN0YXJ0LGlzUHJveHk6ISFlLnByb3h5U2VydmVyLHNpZ25hbENoYW5uZWw6dGhpcy5zaWduYWwgaW5zdGFuY2VvZiBBRD9cIjFcIjpcIjBcIn0pLHRoaXMuX2lzUHJvYWN0aXZlSm9pbj0hMSx0fXIuc2V0KGUudWlkLCEwKSx0aGlzLmpvaW5JbmZvPWUsdGhpcy5rZXk9dDtsZXQgcz0wO3RoaXMuam9pbkdhdGV3YXlTdGFydFRpbWU9bjtjb25zdCBvPWUucHJveHlTZXJ2ZXI7dHJ5e2xldCB0O2lmKFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSB1c2UgXCIpLmNvbmNhdCh0aGlzLnNpZ25hbCBpbnN0YW5jZW9mIEFEP1wiZGF0YWNoYW5uZWxcIjpcIndlYnNvY2tldFwiLFwiIGpvaW4gdWlkIFwiKS5jb25jYXQocykpLHRoaXMuc2lnbmFsIGluc3RhbmNlb2YgQUQpdD1hd2FpdCB0aGlzLnNpZ25hbC5pbml0KGUuYXBSZXNwb25zZS5hZGRyZXNzZXMsaSk7ZWxzZXtjb25zdCBuPWUuZ2F0ZXdheUFkZHJzLm1hcCgodD0+e2xldHthZGRyZXNzOml9PXQ7Y29uc3RbbixyXT1pLnNwbGl0KFwiOlwiKSxzPXtob3N0Om4scG9ydDpyfTtyZXR1cm4gZS5wcm94eVNlcnZlciYmKHMucHJveHk9ZS5wcm94eVNlcnZlciksc30pKTt0PWF3YWl0IHRoaXMuc2lnbmFsLmluaXQobixpKX1zPXQudWlkLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBcIikuY29uY2F0KHRoaXMuc2lnbmFsIGluc3RhbmNlb2YgQUQ/XCJkYXRhY2hhbm5lbFwiOlwid2Vic29ja2V0XCIsXCIgam9pbiB1aWQgXCIpLmNvbmNhdChzLFwiIGNvc3QgXCIpLmNvbmNhdChEYXRlLm5vdygpLXRoaXMuam9pbkdhdGV3YXlTdGFydFRpbWUpKX1jYXRjaCh0KXtpZih0JiZ0LmNvZGU9PT14Zy5JTklUX1dFQlNPQ0tFVF9USU1FT1VUKXRocm93IFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFVzZXIgam9pbiBmYWlsZWRcIiksdC50b1N0cmluZygpKSx0O2lmKHQmJnQuY29kZT09PXhnLklOSVRfREFUQUNIQU5ORUxfVElNRU9VVCl0aHJvdyBXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBVc2VyIGpvaW4gZGF0YWNoYW5uZWwgZmFpbGVkXCIpLHQudG9TdHJpbmcoKSksdGhpcy5yZXNldFNpZ25hbCgpLHQ7dGhyb3cgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFVzZXIgam9pbiBmYWlsZWRcIiksdC50b1N0cmluZygpKSxpdi5qb2luR2F0ZXdheShlLnNpZCx7bHRzOm4sc3VjYzohMSxlYzp0Lm1lc3NhZ2UsYWRkcjp0aGlzLnNpZ25hbC51cmwsdWlkOmUudWlkLGNpZDplLmNpZCxmaXJzdFN1Y2Nlc3M6dGhpcy5faXNQcm9hY3RpdmVKb2luLGF2b2lkSm9pblN0YXJ0VGltZTp0aGlzLnN0b3JlLmF2b2lkSm9pblN0YXJ0LGlzUHJveHk6ISFvLHNpZ25hbENoYW5uZWw6dGhpcy5zaWduYWwgaW5zdGFuY2VvZiBBRD9cIjFcIjpcIjBcIn0pLHRoaXMuX2lzUHJvYWN0aXZlSm9pbj0hMSxyLmRlbGV0ZShlLnVpZCksdGhpcy5zaWduYWwuY2xvc2UoKSx0fXJldHVybiB0aGlzLnN0YXRlPVwiQ09OTkVDVEVEXCIsdGhpcy5pbkNoYW5uZWxJbmZvLmpvaW5BdD1EYXRlLm5vdygpLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBDb25uZWN0ZWQgdG8gZ2F0ZXdheSBzZXJ2ZXJcIikpLHRoaXMudHJhZmZpY1N0YXRzSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e3RoaXMudXBkYXRlVHJhZmZpY1N0YXRzKCkuY2F0Y2goKGU9PntXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBnZXQgdHJhZmZpYyBzdGF0cyBlcnJvclwiKSxlLnRvU3RyaW5nKCkpfSkpfSksM2UzKSx0aGlzLm5ldHdvcmtRdWFsaXR5SW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e25hdmlnYXRvciYmdm9pZCAwIT09bmF2aWdhdG9yLm9uTGluZSYmIW5hdmlnYXRvci5vbkxpbmU/dGhpcy5lbWl0KFp2Lk5FVFdPUktfUVVBTElUWSx7ZG93bmxpbmtOZXR3b3JrUXVhbGl0eTo2LHVwbGlua05ldHdvcmtRdWFsaXR5OjZ9KTp0aGlzLl9zaWduYWxUaW1lb3V0P3RoaXMuZW1pdChadi5ORVRXT1JLX1FVQUxJVFkse2Rvd25saW5rTmV0d29ya1F1YWxpdHk6NSx1cGxpbmtOZXR3b3JrUXVhbGl0eTo1fSk6XCJDT05ORUNURURcIj09PXRoaXMuc3RhdGUmJnRoaXMuX3N0YXRzQ29sbGVjdG9yLnRyYWZmaWNTdGF0cz90aGlzLmVtaXQoWnYuTkVUV09SS19RVUFMSVRZLHt1cGxpbmtOZXR3b3JrUXVhbGl0eTptRCh0aGlzLl9zdGF0c0NvbGxlY3Rvci50cmFmZmljU3RhdHMuQl91bnEpLGRvd25saW5rTmV0d29ya1F1YWxpdHk6bUQodGhpcy5fc3RhdHNDb2xsZWN0b3IudHJhZmZpY1N0YXRzLkJfZG5xKX0pOnRoaXMuZW1pdChadi5ORVRXT1JLX1FVQUxJVFkse3VwbGlua05ldHdvcmtRdWFsaXR5OjAsZG93bmxpbmtOZXR3b3JrUXVhbGl0eTowfSl9KSwyZTMpLHRoaXMuc3RvcmUuam9pbkdhdGV3YXlFbmQoKSxzfWFzeW5jIGxlYXZlKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXSx0PWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO2lmKFwiRElTQ09OTkVDVEVEXCIhPT10aGlzLnN0YXRlKXt0IT09Y1MuRkFMTEJBQ0smJih0aGlzLnN0YXRlPVwiRElTQ09OTkVDVElOR1wiKTt0cnl7ZXx8dGhpcy5zaWduYWwuY29ubmVjdGlvblN0YXRlIT09RXYuQ09OTkVDVEVEfHxhd2FpdCBmdW5jdGlvbihlLHQpe3JldHVybiB0PT09MS8wP2U6dGcucmFjZShbZSxNUyh0KV0pfSh0aGlzLnNpZ25hbC5yZXF1ZXN0KGZ2LkxFQVZFLHZvaWQgMCwhMCksM2UzKX1jYXRjaChlKXtXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBsZWF2ZSByZXF1ZXN0IGZhaWxlZCwgaWdub3JlXCIpLGUpfXRoaXMuc2lnbmFsLmNsb3NlKHQpLHQhPT1jUy5GQUxMQkFDSyYmKHRoaXMuc3RhdGU9XCJESVNDT05ORUNURURcIiksdGhpcy5yZXNldCgpfX1hc3luYyBwdWJsaXNoKGUsdCxpKXtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5zdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuc3RhdGUpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBwdWJsaXNoIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIi5jb25jYXQodGhpcy5zdGF0ZSkpO2NvbnN0IG49e3N0YXRlOlwib2ZmZXJcIixwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxvcnRjOnQsbW9kZTp0aGlzLnNwZWMubW9kZSxleHRlbmQ6a0MoXCJQVUJfRVhURU5EXCIpLHR3Y2M6ISFrQyhcIlBVQkxJU0hfVFdDQ1wiKSxydHg6ISFrQyhcIlVTRV9QVUJfUlRYXCIpfTt0cnl7cmV0dXJuKGF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZnYuUFVCTElTSCxuLCEwKSkuX21lc3NhZ2V9Y2F0Y2gobil7aWYoaSYmbi5kYXRhJiZuLmRhdGEuY29kZT09PV92LkVSUl9QVUJMSVNIX1JFUVVFU1RfSU5WQUxJRClyZXR1cm4gV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gcmVjZWl2ZSBwdWJsaXNoIGVycm9yIGNvZGUsIHJldHJ5XCIpLG4udG9TdHJpbmcoKSksYXdhaXQgdGhpcy50cnlVbnB1YkJlZm9yZVJlcHViKGUsdCksdGhpcy5wdWJsaXNoKGUsdCwhMSk7dGhyb3cgbn19YXN5bmMgcHVibGlzaERhdGFDaGFubmVsKGUsdCxpKXt2YXIgbjtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5zdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuc3RhdGUpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBwdWJsaXNoIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIi5jb25jYXQodGhpcy5zdGF0ZSkpO2NvbnN0IHI9e3N0cmVhbV9pZDp0LnN0cmVhbUlkLG9yZGVyZWQ6dC5vcmRlcmVkPzE6MCxtYXhfcmV0cmFuc190aW1lczpudWxsIT09KG49dC5tYXhSZXRyYW5zbWl0cykmJnZvaWQgMCE9PW4/bjoxMCxjaGFubmVsX2lkOnQuY2hhbm5lbElkLG1ldGFkYXRhOnQubWV0YWRhdGF9O3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGZ2LlBVQkxJU0hfREFUQVNUUkVBTSxyLCEwKX1jYXRjaChuKXtpZihpJiZuLmRhdGEmJm4uZGF0YS5jb2RlPT09X3YuRVJSX1BVQkxJU0hfUkVRVUVTVF9JTlZBTElEKXJldHVybiBXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSByZWNlaXZlIHB1Ymxpc2ggZGF0YWNoYW5uZWxzIGVycm9yIGNvZGUsIHJldHJ5XCIpLG4udG9TdHJpbmcoKSksYXdhaXQgdGhpcy50cnlVbnB1YkRhdGFDaGFubmVsQmVmb3JlUmVwdWIoZSx0KSx0aGlzLnB1Ymxpc2hEYXRhQ2hhbm5lbChlLHQsITEpO3Rocm93IG59fWFzeW5jIHVucHVibGlzaChlLHQpe3RyeXtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5zdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuc3RhdGUpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBwdWJsaXNoIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIi5jb25jYXQodGhpcy5zdGF0ZSkpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZnYuVU5QVUJMSVNILHtzdHJlYW1faWQ6dCxvcnRjOmV9LCEwKX1jYXRjaChlKXtXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSB1bnB1Ymxpc2ggd2FybmluZzogXCIpLGUpfX1hc3luYyB1bnB1Ymxpc2hEYXRhQ2hhbm5lbChlKXt0cnl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLnN0YXRlKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIuY29uY2F0KHRoaXMuc3RhdGUpKTthd2FpdCB0Zy5hbGwoZS5tYXAoKGU9PnRoaXMuc2lnbmFsLnJlcXVlc3QoZnYuVU5QVUJMSVNIX0RBVEFTVFJFQU0se2NoYW5uZWxfaWQ6ZX0sITApKSkpfWNhdGNoKGUpe1dDLndhcm5pbmcoXCJ1bnB1Ymxpc2ggZGF0YWNoYW5uZWxzIHdhcm5pbmc6IFwiLGUpfX1hc3luYyBzdWJzY3JpYmUoZSx0LGkpe2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLnN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5zdGF0ZSl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHN1YnNjcmliZSB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIuY29uY2F0KHRoaXMuc3RhdGUpKTtjb25zdCBuPXtzdHJlYW1faWQ6ZSxzdHJlYW1fdHlwZTp0LnN0cmVhbV90eXBlLG1vZGU6dGhpcy5zcGVjLm1vZGUsY29kZWM6dGhpcy5zcGVjLmNvZGVjLHAycF9pZDp0aGlzLnN0b3JlLnAycElkLHR3Y2M6ISFrQyhcIlNVQlNDUklCRV9UV0NDXCIpLHJ0eDohIWtDKFwiVVNFX1NVQl9SVFhcIiksZXh0ZW5kOmtDKFwiU1VCX0VYVEVORFwiKSxzc3JjSWQ6dC5zc3JjSWQsc3ZjOkFycmF5LmlzQXJyYXkoa0MoXCJTVkNcIikpJiYwIT09a0MoXCJTVkNcIikubGVuZ3RoP2tDKFwiU1ZDXCIpOnZvaWQgMH07dHJ5e3JldHVybihhd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGZ2LlNVQlNDUklCRSxuLCEwKSkuX21lc3NhZ2V9Y2F0Y2gobil7aWYoaSYmbi5kYXRhJiZuLmRhdGEuY29kZT09PV92LkVSUl9TVUJTQ1JJQkVfUkVRVUVTVF9JTlZBTElEKXJldHVybiBXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSByZWNlaXZlciBzdWJzY3JpYmUgZXJyb3IgY29kZSwgcmV0cnlcIiksbi50b1N0cmluZygpKSxhd2FpdCB0aGlzLnRyeVVuc3ViQmVmb3JlUmVzdWIoZSx0KSxhd2FpdCB0aGlzLnN1YnNjcmliZShlLHQsITEpO3Rocm93IG59fWFzeW5jIHN1YnNjcmliZURhdGFDaGFubmVsKGUsdCxpKXtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5zdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuc3RhdGUpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBzdWJzY3JpYmUgZGF0YWNoYW5uZWwgd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7Y29uc3Qgbj17dWlkOmUsc3RyZWFtX2lkOnQuaWQsY2hhbm5lbF9pZDp0LmRhdGFjaGFubmVsSWR9O3RyeXtyZXR1cm4gdm9pZCBhd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGZ2LlNVQlNDUklCRV9EQVRBU1RSRUFNLG4sITApfWNhdGNoKG4pe2lmKGkmJm4uZGF0YSYmbi5kYXRhLmNvZGU9PT1fdi5FUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRClyZXR1cm4gV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gcmVjZWl2ZXIgc3Vic2NyaWJlIGRhdGFjaGFubmVsIGVycm9yIGNvZGUsIHJldHJ5XCIpLG4udG9TdHJpbmcoKSksYXdhaXQgdGhpcy50cnlVbnN1YkRhdGFDaGFubmVsQmVmb3JlUmVzdWIoZSx0KSxhd2FpdCB0aGlzLnN1YnNjcmliZURhdGFDaGFubmVsKGUsdCwhMSk7dGhyb3cgbn19YXN5bmMgc3Vic2NyaWJlQWxsKGUsdCl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLnN0YXRlKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgbWFzc1N1YnNjcmliZSB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIuY29uY2F0KHRoaXMuc3RhdGUpKTtjb25zdCBpPXtwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCx1c2VyczplLGR0eDohMSxydHg6ISFrQyhcIlVTRV9TVUJfUlRYXCIpfTt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZnYuU1VCU0NSSUJFX1NUUkVBTVMsaSwhMCl9Y2F0Y2goaSl7aWYodCYmaS5kYXRhJiZpLmRhdGEuY29kZT09PV92LkVSUl9TVUJTQ1JJQkVfUkVRVUVTVF9JTlZBTElEKXJldHVybiBXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSByZWNlaXZlciBtYXNzU3Vic2NyaWJlIGVycm9yIGNvZGUsIHJldHJ5XCIpLGkudG9TdHJpbmcoKSksYXdhaXQgdGhpcy50cnlNYXNzVW5zdWJCZWZvcmVSZXN1YihlKSxhd2FpdCB0aGlzLnN1YnNjcmliZUFsbChlLCExKTt0aHJvdyBpfX1hc3luYyBzZXRWaWRlb1Byb2ZpbGUoZSl7Y29uc3QgdD1mdW5jdGlvbihlKXtpZighKGUuYml0cmF0ZU1heCYmZS5iaXRyYXRlTWluJiZlLmZyYW1lUmF0ZSYmZS5oZWlnaHQmJmUud2lkdGgpKXJldHVybjtsZXQgdD1lLmZyYW1lUmF0ZSxpPWUud2lkdGgsbj1lLmhlaWdodCxyPSEwO3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiB0JiYodD10LmV4YWN0fHx0LmlkZWFsfHx0Lm1heHx8dC5taW58fDAsdHx8KHI9ITEpKSxcIm51bWJlclwiIT10eXBlb2YgaSYmKGk9aS5leGFjdHx8aS5pZGVhbHx8aS5tYXh8fGkubWlufHwwLGl8fChyPSExKSksXCJudW1iZXJcIiE9dHlwZW9mIG4mJihuPW4uZXhhY3R8fG4uaWRlYWx8fG4ubWF4fHxuLm1pbnx8MCx0fHwocj0hMSkpLHI/e3N0cmVhbV90eXBlOjAsd2lkdGg6aSxoZWlnaHQ6bixmcHM6dCxzdGFydF9icHM6MWUzKmUuYml0cmF0ZU1heCxtaW5fYnBzOjFlMyplLmJpdHJhdGVNaW4sdGFyZ2V0X2JwczoxZTMqZS5iaXRyYXRlTWF4fTp2b2lkIDB9KGUpO2lmKHQpcmV0dXJuIHRoaXMuc2lnbmFsLnJlcXVlc3QoZnYuU0VUX1ZJREVPX1BST0ZJTEUsdCk7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGVuY29kZXIgY29uZmlnIGlzIG5vdCBjb21wbGV0ZSwgZG8gbm90IHJlcG9ydCB0byBnYXRld2F5XCIpKX1hc3luYyB1bnN1YnNjcmliZShlLHQpe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGZ2LlVOU1VCU0NSSUJFLHtwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxvcnRjOmUsc3RyZWFtX2lkOnR9LCEwKX1jYXRjaChlKXtXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSB1bnN1YnNjcmliZSB3YXJuaW5nOiBcIiksZSl9fWFzeW5jIHVuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSx0KXt0cnl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLnN0YXRlKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIuY29uY2F0KHRoaXMuc3RhdGUpKTthd2FpdCB0Zy5hbGwoZS5tYXAoKGU9PnRoaXMuc2lnbmFsLnJlcXVlc3QoZnYuVU5TVUJTQ1JJQkVfREFUQVNUUkVBTSx7c3RyZWFtX2lkOmUsdWlkOnR9LCEwKSkpKX1jYXRjaChlKXtXQy53YXJuaW5nKFwidW5zdWJzY3JpYmVEYXRhQ2hhbm5lbCB3YXJuaW5nOiBcIixlKX19YXN5bmMgbWFzc1Vuc3Vic2NyaWJlKGUpe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGZ2LlVOU1VCU0NSSUJFX1NUUkVBTVMsZSwhMCl9Y2F0Y2goZSl7V0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gbWFzc1Vuc3Vic2NyaWJlQWxsIHdhcm5pbmc6IFwiKSxlKX19YXN5bmMgcmVjb25uZWN0UEMoZSl7Y29uc3R7aWNlUGFyYW1ldGVyczp0LGR0bHNQYXJhbWV0ZXJzOmkscnRwQ2FwYWJpbGl0aWVzOm59PWU7cmV0dXJue2dhdGV3YXlFc3RhYmxpc2hQYXJhbXM6YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChmdi5DT05ORUNUX1BDLHtwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzdHJlYW1faWQ6dGhpcy5zdG9yZS51aWQsb3J0Yzp7aWNlUGFyYW1ldGVyczp0LGR0bHNQYXJhbWV0ZXJzOmkscnRwQ2FwYWJpbGl0aWVzOm59fSwhMCksZ2F0ZXdheUFkZHJlc3M6dGhpcy5nZXRDdXJyZW50R2F0ZXdheUFkZHJlc3MoKX19Z2V0R2F0ZXdheUluZm8oKXtyZXR1cm4gdGhpcy5zaWduYWwucmVxdWVzdChmdi5HQVRFV0FZX0lORk8pfWFzeW5jIHJlbmV3VG9rZW4oZSl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChmdi5SRU5FV19UT0tFTixlKSx0aGlzLmtleT1lLnRva2VufWFzeW5jIHNldENsaWVudFJvbGUoZSx0KXtpZih0JiYodGhpcy5fY2xpZW50Um9sZU9wdGlvbnM9T2JqZWN0LmFzc2lnbih7fSx0KSksXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUpcmV0dXJuIHZvaWQodGhpcy5yb2xlPWUpO2xldCBpLG49MDtcImF1ZGllbmNlXCI9PT1lP3RoaXMuX2NsaWVudFJvbGVPcHRpb25zJiZ0aGlzLl9jbGllbnRSb2xlT3B0aW9ucy5kZWxheT8oaT10aGlzLl9jbGllbnRSb2xlT3B0aW9ucy5kZWxheSxuPTEpOm49dGhpcy5fY2xpZW50Um9sZU9wdGlvbnMmJnRoaXMuX2NsaWVudFJvbGVPcHRpb25zLmxldmVsP3RoaXMuX2NsaWVudFJvbGVPcHRpb25zLmxldmVsOjI6bj0wLGF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZnYuU0VUX0NMSUVOVF9ST0xFLHtyb2xlOmUsbGV2ZWw6bixkZWxheTppLGNsaWVudF90czpEYXRlLm5vdygpfSksdGhpcy5yb2xlPWV9YXN5bmMgc2V0UmVtb3RlVmlkZW9TdHJlYW1UeXBlKGUsdCl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChmdi5TV0lUQ0hfVklERU9fU1RSRUFNLHtzdHJlYW1faWQ6ZSxzdHJlYW1fdHlwZTp0fSl9YXN5bmMgc2V0RGVmYXVsdFJlbW90ZVZpZGVvU3RyZWFtVHlwZShlKXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGZ2LkRFRkFVTFRfVklERU9fU1RSRUFNLHtzdHJlYW1fdHlwZTplfSl9YXN5bmMgc2V0U3RyZWFtRmFsbGJhY2tPcHRpb24oZSx0KXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGZ2LlNFVF9GQUxMQkFDS19PUFRJT04se3N0cmVhbV9pZDplLGZhbGxiYWNrX3R5cGU6dH0pfWFzeW5jIHBpY2tTVkNMYXllcihlLHQpe2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZnYuUElDS19TVkNfTEFZRVIse3N0cmVhbV9pZDplLHNwYXRpYWxfbGF5ZXI6dC5zcGF0aWFsTGF5ZXIsdGVtcG9yYWxfbGF5ZXI6dC50ZW1wb3JhbExheWVyfSl9YXN5bmMgc2V0UlRNMkZsYWcoZSl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChmdi5TRVRfUlRNMl9GTEFHLHtydG0yX2ZsYWc6ZX0pfWFzeW5jIHNlbmRFeHRlbnNpb25NZXNzYWdlKGUsdCxpKXtpZih0aGlzLnNpZ25hbCBpbnN0YW5jZW9mIHdEKXJldHVybiB0aGlzLnNpZ25hbC5zZW5kRXh0ZW5zaW9uTWVzc2FnZShlLHQsaSl9Z2V0SW5DaGFubmVsSW5mbygpe3JldHVybiB0aGlzLmluQ2hhbm5lbEluZm8uam9pbkF0JiYodGhpcy5pbkNoYW5uZWxJbmZvLmR1cmF0aW9uPURhdGUubm93KCktdGhpcy5pbkNoYW5uZWxJbmZvLmpvaW5BdCksTkQoe30sdGhpcy5pbkNoYW5uZWxJbmZvKX1hc3luYyBnZXRHYXRld2F5VmVyc2lvbigpe3JldHVybihhd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGZ2LkdBVEVXQVlfSU5GTykpLnZlcnNpb259cmVzZXQoKXtpZih0aGlzLmluQ2hhbm5lbEluZm8uam9pbkF0JiYodGhpcy5pbkNoYW5uZWxJbmZvLmR1cmF0aW9uPURhdGUubm93KCktdGhpcy5pbkNoYW5uZWxJbmZvLmpvaW5BdCx0aGlzLmluQ2hhbm5lbEluZm8uam9pbkF0PW51bGwpLHRoaXMudHJhZmZpY1N0YXRzSW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRyYWZmaWNTdGF0c0ludGVydmFsKSx0aGlzLnRyYWZmaWNTdGF0c0ludGVydmFsPXZvaWQgMCksdGhpcy5qb2luSW5mbyl7Y29uc3QgZT1ERC5nZXQodGhpcy5qb2luSW5mby5jbmFtZSk7ZSYmZS5kZWxldGUodGhpcy5qb2luSW5mby51aWQpfXRoaXMuam9pbkluZm89dm9pZCAwLHRoaXMua2V5PXZvaWQgMCx0aGlzLm5ldHdvcmtRdWFsaXR5SW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLm5ldHdvcmtRdWFsaXR5SW50ZXJ2YWwpLHRoaXMubmV0d29ya1F1YWxpdHlJbnRlcnZhbD12b2lkIDApfXVwZGF0ZVR1cm5Db25maWdGcm9tU2lnbmFsKCl7aWYoIXRoaXMuam9pbkluZm8pcmV0dXJuO2NvbnN0IGU9ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuIHQ9ZS5zdGFydHNXaXRoKFwiZGNcIik/ZS5tYXRjaCgvKGRjXFw6XFwvXFwvKT8oW146XSspOihcXGQrKS8pOmUubWF0Y2goLyh3c3NcXDpcXC9cXC8pPyhbXjpdKyk6KFxcZCspLyksdD97dXNlcm5hbWU6cnYudXNlcm5hbWUscGFzc3dvcmQ6cnYucGFzc3dvcmQsdHVyblNlcnZlclVSTDp0WzJdLHRjcHBvcnQ6cGFyc2VJbnQodFszXSkrMzAsdWRwcG9ydDpwYXJzZUludCh0WzNdKSszMCxmb3JjZXR1cm46ITF9Om51bGx9KChcImRpc2FibGVkXCI9PT10aGlzLmpvaW5JbmZvLmNsb3VkUHJveHlTZXJ2ZXI/dGhpcy5zaWduYWwudXJsOnRoaXMuam9pbkluZm8uZ2F0ZXdheUFkZHJzW3RoaXMuc2lnbmFsLmN1cnJlbnRVUkxJbmRleF0uYWRkcmVzcyl8fFwiXCIpO3RoaXMuam9pbkluZm8udHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXk9W10sZSYmXCJvZmZcIiE9PXRoaXMuam9pbkluZm8udHVyblNlcnZlci5tb2RlJiZcImRpc2FibGVkXCI9PT10aGlzLmpvaW5JbmZvLmNsb3VkUHJveHlTZXJ2ZXImJnRoaXMuam9pbkluZm8udHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkucHVzaChORChORCh7fSxydikse30se3R1cm5TZXJ2ZXJVUkw6ZS50dXJuU2VydmVyVVJMLHRjcHBvcnQ6ZS50Y3Bwb3J0LHVkcHBvcnQ6ZS51ZHBwb3J0LHVzZXJuYW1lOnRoaXMuam9pbkluZm8udWlkLnRvU3RyaW5nKCkscGFzc3dvcmQ6dGhpcy5qb2luSW5mby50b2tlbn0pKX1hc3luYyB1cGRhdGVUcmFmZmljU3RhdHMoKXtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5zdGF0ZSlyZXR1cm47Y29uc3QgZT1hd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGZ2LlRSQUZGSUNfU1RBVFMsdm9pZCAwLCEwKTtlLnRpbWVzdGFtcD1EYXRlLm5vdygpLG51bGwhPWUubnRwX29mZnNldCYmKHRoaXMubnRwT2Zmc2V0PWUubnRwX29mZnNldCksZS5wZWVyX2RlbGF5LmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMuX3N0YXRzQ29sbGVjdG9yLnRyYWZmaWNTdGF0cyYmdGhpcy5fc3RhdHNDb2xsZWN0b3IudHJhZmZpY1N0YXRzLnBlZXJfZGVsYXkuZmluZCgodD0+dC5wZWVyX3VpZD09PWUucGVlcl91aWQpKTt0JiZ0LkJfc3QhPT1lLkJfc3QmJkFTKCgoKT0+e3RoaXMuZW1pdChadi5TVFJFQU1fVFlQRV9DSEFOR0UsZS5wZWVyX3VpZCxlLkJfc3QpfSkpfSkpLHRoaXMuX3N0YXRzQ29sbGVjdG9yLnVwZGF0ZVRyYWZmaWNTdGF0cyhlKX1nZXRKb2luTWVzc2FnZShlKXtpZighdGhpcy5qb2luSW5mb3x8IXRoaXMua2V5KXRocm93IG5ldyBNdih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBnZW5lcmF0ZSBqb2luIG1lc3NhZ2UsIG5vIGpvaW4gaW5mb1wiKTtjb25zdCB0PU9iamVjdC5hc3NpZ24oe30sdGhpcy5qb2luSW5mby5hcFJlc3BvbnNlKTtsZXQgaT1rQyhcIlJFUE9SVF9BUFBfU0NFTkFSSU9cIik7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGkpdHJ5e2k9SlNPTi5zdHJpbmdpZnkoaSl9Y2F0Y2goZSl7aT12b2lkIDB9aSYmaS5sZW5ndGg+MTI4JiYoaT12b2lkIDApO2NvbnN0IG49TkQoe2xpY2Vuc2U6dGhpcy5qb2luSW5mby5saWNlbnNlLHAycF9pZDp0aGlzLnN0b3JlLnAycElkLHNlc3Npb25faWQ6dGhpcy5qb2luSW5mby5zaWQsYXBwX2lkOnRoaXMuam9pbkluZm8uYXBwSWQsY2hhbm5lbF9rZXk6dGhpcy5rZXksY2hhbm5lbF9uYW1lOnRoaXMuam9pbkluZm8uY25hbWUsc2RrX3ZlcnNpb246T0MsYnJvd3NlcjpuYXZpZ2F0b3IudXNlckFnZW50LHByb2Nlc3NfaWQ6a0MoXCJQUk9DRVNTX0lEXCIpLG1vZGU6dGhpcy5zdG9yZS51c2VQMlA/XCJwMnBcIjp0aGlzLnNwZWMubW9kZSxjb2RlYzp0aGlzLnNwZWMuY29kZWMscm9sZTp0aGlzLnJvbGUsaGFzX2NoYW5nZWRfZ2F0ZXdheTp0aGlzLmhhc0NoYW5nZUJHUEFkZHJlc3MsYXBfcmVzcG9uc2U6dCxleHRlbmQ6a0MoXCJKT0lOX0VYVEVORFwiKSxkZXRhaWxzOns2OnRoaXMuam9pbkluZm8uc3RyaW5nVWlkLGNzZXJ2aWNlX21hcDpcInByb3h5M1wiPT09dGhpcy5qb2luSW5mby5jbG91ZFByb3h5U2VydmVyP1wiMVwiOlwicHJveHk1XCI9PT10aGlzLmpvaW5JbmZvLmNsb3VkUHJveHlTZXJ2ZXI/XCIyXCI6dm9pZCAwfSxmZWF0dXJlczp7cmVqb2luOiEwfSxvcHRpb25hbEluZm86dGhpcy5qb2luSW5mby5vcHRpb25hbEluZm8sYXBwU2NlbmFyaW86aSxhdHRyaWJ1dGVzOnt1c2VyQXR0cmlidXRlczp7ZW5hYmxlUHVibGlzaGVkVXNlckxpc3Q6a0MoXCJFTkFCTEVfUFVCTElTSEVEX1VTRVJfTElTVFwiKSxtYXhTdWJzY3JpcHRpb246a0MoXCJNQVhfU1VCU0NSSVBUSU9OXCIpLHN1YnNjcmliZUF1ZGlvRmlsdGVyVG9wTjpcIm51bWJlclwiPT10eXBlb2Yga0MoXCJTVUJTQ1JJQkVfQVVESU9fRklMVEVSX1RPUE5cIik/a0MoXCJTVUJTQ1JJQkVfQVVESU9fRklMVEVSX1RPUE5cIik6dm9pZCAwLGVuYWJsZVB1Ymxpc2hBdWRpb0ZpbHRlcjpcImJvb2xlYW5cIj09dHlwZW9mIGtDKFwiRU5BQkxFX1BVQkxJU0hfQVVESU9fRklMVEVSXCIpP2tDKFwiRU5BQkxFX1BVQkxJU0hfQVVESU9fRklMVEVSXCIpOnZvaWQgMCxlbmFibGVVc2VyTGljZW5zZUNoZWNrOlwiYm9vbGVhblwiPT10eXBlb2Yga0MoXCJFTkFCTEVfVVNFUl9MSUNFTlNFX0NIRUNLXCIpP2tDKFwiRU5BQkxFX1VTRVJfTElDRU5TRV9DSEVDS1wiKTp2b2lkIDAsZW5hYmxlUlRYOiEwPT09a0MoXCJVU0VfUFVCX1JUWFwiKXx8ITA9PT1rQyhcIlVTRV9TVUJfUlRYXCIpfHx2b2lkIDAsZGlzYWJsZUZFQzprQyhcIkRJU0FCTEVfRkVDXCIpLGVuYWJsZU5UUFJlcG9ydDohIWtDKFwiRU5BQkxFX05UUF9SRVBPUlRcIil8fHZvaWQgMCxlbmFibGVJbnN0YW50VmlkZW86ISFrQyhcIkVOQUJMRV9JTlNUQU5UX1ZJREVPXCIpfHx2b2lkIDAsZW5hYmxlRGF0YVN0cmVhbTI6XCJib29sZWFuXCI9PXR5cGVvZiBrQyhcIkVOQUJMRV9EQVRBU1RSRUFNXzJcIik/a0MoXCJFTkFCTEVfREFUQVNUUkVBTV8yXCIpOnZvaWQgMCxydG0yRmxhZzpcIm51bWJlclwiPT10eXBlb2Yga0MoXCJSVE0yX0ZMQUdcIik/a0MoXCJSVE0yX0ZMQUdcIik6dm9pZCAwLGVuYWJsZVVzZXJBdXRvUmViYWxhbmNlQ2hlY2s6ISFrQyhcIkVOQUJMRV9VU0VSX0FVVE9fUkVCQUxBTkNFX0NIRUNLXCIpLGVuYWJsZVhSOlwiYm9vbGVhblwiPT10eXBlb2Yga0MoXCJVU0VfWFJcIik/a0MoXCJVU0VfWFJcIik6dm9pZCAwfX0sam9pbl90czp0aGlzLmpvaW5HYXRld2F5U3RhcnRUaW1lfSxlKTtyZXR1cm4gdGhpcy5qb2luSW5mby5zdHJpbmdVaWQmJihuLnN0cmluZ191aWQ9dGhpcy5qb2luSW5mby5zdHJpbmdVaWQpLHRoaXMuam9pbkluZm8uYWVzbW9kZSYmdGhpcy5qb2luSW5mby5hZXNwYXNzd29yZCYmKG4uYWVzX21vZGU9dGhpcy5qb2luSW5mby5hZXNtb2RlLGtDKFwiRU5DUllQVF9BRVNcIik/KG4uYWVzX3NlY3JldD10aGlzLmpvaW5JbmZvLmFlc3Bhc3N3b3JkLG4uYWVzX2VuY3J5cHQ9ITApOm4uYWVzX3NlY3JldD10aGlzLmpvaW5JbmZvLmFlc3Bhc3N3b3JkLHRoaXMuam9pbkluZm8uYWVzc2FsdCYmKG4uYWVzX3NhbHQ9dGhpcy5qb2luSW5mby5hZXNzYWx0KSksdC5hZGRyZXNzZXNbdGhpcy5zaWduYWwud2Vic29ja2V0LmN1cnJlbnRVUkxJbmRleF0mJihuLmFwX3Jlc3BvbnNlLnRpY2tldD10LmFkZHJlc3Nlc1t0aGlzLnNpZ25hbC53ZWJzb2NrZXQuY3VycmVudFVSTEluZGV4XS50aWNrZXQsZGVsZXRlIHQuYWRkcmVzc2VzKSx2b2lkIDAhPT10aGlzLmpvaW5JbmZvLmRlZmF1bHRWaWRlb1N0cmVhbSYmKG4uZGVmYXVsdF92aWRlb19zdHJlYW09dGhpcy5qb2luSW5mby5kZWZhdWx0VmlkZW9TdHJlYW0pLG59Z2V0UmVqb2luTWVzc2FnZSgpe2lmKCF0aGlzLmpvaW5JbmZvKXRocm93IG5ldyBNdih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBnZW5lcmF0ZSByZWpvaW4gbWVzc2FnZSwgbm8gam9pbiBpbmZvXCIpO3JldHVybntzZXNzaW9uX2lkOnRoaXMuam9pbkluZm8uc2lkLGNoYW5uZWxfbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLGNpZDp0aGlzLmpvaW5JbmZvLmNpZCx1aWQ6dGhpcy5qb2luSW5mby51aWQsdmlkOk51bWJlcih0aGlzLmpvaW5JbmZvLnZpZCl9fWhhbmRsZVNpZ25hbEV2ZW50cygpe3RoaXMuc2lnbmFsLm9uKG12LldTX1JFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsKGU9Pnt2YXIgdDtQcih0PVtcInRyeU5leHRcIixcInJlY292ZXJcIl0pLmNhbGwodCxlKSYmdGhpcy5qb2luSW5mbyYmaXYuYWRqdXN0U2Vzc2lvblN0YXJ0VGltZSh0aGlzLmpvaW5JbmZvLnNpZCl9KSksdGhpcy5zaWduYWwub24obXYuV1NfUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OLChlPT57dGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZT1EYXRlLm5vdygpfSkpLHRoaXMuc2lnbmFsLm9uKG12LldTX1JFQ09OTkVDVElORywoZT0+e3RoaXMuam9pbkluZm8mJml2LldlYlNvY2tldFF1aXQodGhpcy5qb2luSW5mby5zaWQse2x0czpEYXRlLm5vdygpLHN1Y2M6LTEsY25hbWU6dGhpcy5qb2luSW5mby5jbmFtZSx1aWQ6dGhpcy5qb2luSW5mby51aWQsY2lkOnRoaXMuam9pbkluZm8uY2lkLGVycm9yQ29kZTplfHxsUy5ORVRXT1JLX0VSUk9SfSksdGhpcy5qb2luSW5mbyYmKHRoaXMuc3RhdGU9XCJSRUNPTk5FQ1RJTkdcIixpdi5zZXNzaW9uSW5pdCh0aGlzLmpvaW5JbmZvLnNpZCx7bHRzOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGV4dGVuZDp0aGlzLmlzU2lnbmFsUmVjb3Zlcj97cmVjb3ZlcjohMH06e3Jlam9pbjohMH0sY25hbWU6dGhpcy5qb2luSW5mby5jbmFtZSxhcHBpZDp0aGlzLmpvaW5JbmZvLmFwcElkLG1vZGU6dGhpcy5zcGVjLm1vZGV9KSx0aGlzLmlzU2lnbmFsUmVjb3Zlcj0hMSx0aGlzLmpvaW5HYXRld2F5U3RhcnRUaW1lPURhdGUubm93KCkpfSkpLHRoaXMuc2lnbmFsLm9uKG12LldTX0NMT1NFRCwoZT0+e2xldCB0O3N3aXRjaChlKXtjYXNlIGNTLkxFQVZFOnQ9bFMuTEVBVkU7YnJlYWs7Y2FzZSBjUy5VSURfQkFOTkVEOmNhc2UgY1MuSVBfQkFOTkVEOmNhc2UgY1MuQ0hBTk5FTF9CQU5ORUQ6Y2FzZSBjUy5TRVJWRVJfRVJST1I6dD1sUy5TRVJWRVJfRVJST1I7YnJlYWs7Y2FzZSBjUy5GQUxMQkFDSzp0PWxTLkZBTExCQUNLO2JyZWFrO2Nhc2UgY1MuTElDRU5TRV9NSVNTSU5HOmNhc2UgY1MuTElDRU5TRV9FWFBJUkVEOmNhc2UgY1MuTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEOmNhc2UgY1MuTElDRU5TRV9QRVJJT0RfSU5WQUxJRDpjYXNlIGNTLkxJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0U6Y2FzZSBjUy5MSUNFTlNFX0lMTEVHQUw6Y2FzZSBjUy5UT0tFTl9FWFBJUkU6dD1lO2JyZWFrO2RlZmF1bHQ6dD1sUy5ORVRXT1JLX0VSUk9SfVdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbc2lnbmFsXSB3ZWJzb2NrZXQgY2xvc2VkLCByZWFzb246IFwiKS5jb25jYXQodHx8XCJ1bmRlZmluZWQgLT4gXCIrbFMuTkVUV09SS19FUlJPUikpLHRoaXMuam9pbkluZm8mJml2LldlYlNvY2tldFF1aXQodGhpcy5qb2luSW5mby5zaWQse2x0czpEYXRlLm5vdygpLHN1Y2M6ZT09PWNTLkxFQVZFPzE6LTEsY25hbWU6dGhpcy5qb2luSW5mby5jbmFtZSx1aWQ6dGhpcy5qb2luSW5mby51aWQsY2lkOnRoaXMuam9pbkluZm8uY2lkLGVycm9yQ29kZTp0fSksdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uPWUsZSE9PWNTLkZBTExCQUNLJiYodGhpcy5zdGF0ZT1cIkRJU0NPTk5FQ1RFRFwiKSx0aGlzLnJlc2V0KCl9KSksdGhpcy5zaWduYWwub24obXYuV1NfQ09OTkVDVEVELCgoKT0+e2lmKHRoaXMudXBkYXRlVHVybkNvbmZpZ0Zyb21TaWduYWwoKSx0aGlzLnN0YXRlPVwiQ09OTkVDVEVEXCIsdGhpcy5qb2luSW5mbyYmKFwiYXVkaWVuY2VcIj09PXRoaXMucm9sZSYmdGhpcy5fY2xpZW50Um9sZU9wdGlvbnMmJih0aGlzLl9jbGllbnRSb2xlT3B0aW9ucy5sZXZlbHx8dGhpcy5fY2xpZW50Um9sZU9wdGlvbnMuZGVsYXkpJiYoV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHBhdGNoIHRvIHNlbmQgc2V0IGNsaWVudCByb2xlLCByb2xlOiBcIikuY29uY2F0KHRoaXMucm9sZSxcIiwgbW9kZTogXCIpLmNvbmNhdCh0aGlzLnNwZWMubW9kZSxcIiwgbGV2ZWw6IFwiKS5jb25jYXQodGhpcy5fY2xpZW50Um9sZU9wdGlvbnMubGV2ZWwsXCIsIGRlbGF5OiBcIikuY29uY2F0KHRoaXMuX2NsaWVudFJvbGVPcHRpb25zLmRlbGF5KSksdGhpcy5zZXRDbGllbnRSb2xlKHRoaXMucm9sZSx0aGlzLl9jbGllbnRSb2xlT3B0aW9ucykpLGl2LmpvaW5HYXRld2F5KHRoaXMuam9pbkluZm8uc2lkLHtsdHM6dGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZSxzdWNjOiEwLGVjOm51bGwsdmlkOnRoaXMuam9pbkluZm8udmlkLGFkZHI6dGhpcy5zaWduYWwudXJsLHVpZDp0aGlzLmpvaW5JbmZvLnVpZCxjaWQ6dGhpcy5qb2luSW5mby5jaWQsZmlyc3RTdWNjZXNzOnRoaXMuX2lzUHJvYWN0aXZlSm9pbixhdm9pZEpvaW5TdGFydFRpbWU6dGhpcy5zdG9yZS5hdm9pZEpvaW5TdGFydCxpc1Byb3h5OiEhdGhpcy5qb2luSW5mby5wcm94eVNlcnZlcixzaWduYWxDaGFubmVsOnRoaXMuc2lnbmFsIGluc3RhbmNlb2YgQUQ/XCIxXCI6XCIwXCJ9KSx0aGlzLl9pc1Byb2FjdGl2ZUpvaW49ITEsdGhpcy5qb2luSW5mby51c2VMb2NhbEFjY2Vzc1BvaW50JiYxPT09dGhpcy5qb2luSW5mby5zZXRMb2NhbEFQVmVyc2lvbikpe2NvbnN0IGU9dGhpcy5zaWduYWwudXJsJiZ0aGlzLnNpZ25hbC51cmwubWF0Y2goL3dzc1xcOlxcL1xcLyhbXjpdKyk6KFxcZCspLyk7aWYoIWUpcmV0dXJuIHZvaWQgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHNldCBsb2NhbCBhY2Nlc3MgcG9pbnQgYWZ0ZXIgam9pbmVkIGZhaWxlZDogXCIpLmNvbmNhdChlKSk7TEMoXCJFVkVOVF9SRVBPUlRfRE9NQUlOXCIsZVsxXSksTEMoXCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiLGVbMV0pLExDKFwiTE9HX1VQTE9BRF9TRVJWRVJcIixcIlwiLmNvbmNhdChlWzFdLFwiOjY0NDRcIikpfX0pKSx0aGlzLnNpZ25hbC5vbihTdi5PTl9VUExJTktfU1RBVFMsKGU9Pnt0aGlzLl9zdGF0c0NvbGxlY3Rvci51cGRhdGVVcGxpbmtTdGF0cyhlKX0pKSx0aGlzLnNpZ25hbC5vbihtdi5SRVFVRVNUX1JFQ09WRVIsKChlLHQsaSk9PntpZighdGhpcy5qb2luSW5mbylyZXR1cm4gaShuZXcgTXYoeGcuVU5FWFBFQ1RFRF9FUlJPUixcImdhdGV3YXk6IGNhbiBub3QgcmVjb3Zlciwgbm8gam9pbiBpbmZvXCIpKTtlJiYodGhpcy5qb2luSW5mby5tdWx0aUlQPWUsdGhpcy5oYXNDaGFuZ2VCR1BBZGRyZXNzPSEwKSx0aGlzLmlzU2lnbmFsUmVjb3Zlcj0hMCxmUyh0aGlzLFp2LlJFUVVFU1RfTkVXX0dBVEVXQVlfTElTVCkudGhlbih0KS5jYXRjaChpKX0pKSx0aGlzLnNpZ25hbC5vbihtdi5SRVFVRVNUX0pPSU5fSU5GTywoYXN5bmMgZT0+e3ZhciB0O2lmKHRoaXMudXBkYXRlVHVybkNvbmZpZ0Zyb21TaWduYWwoKSx0aGlzLnN0b3JlLnVzZVAyUClyZXR1cm4gdm9pZCBlKHRoaXMuZ2V0Sm9pbk1lc3NhZ2Uoe29ydGM6e319KSk7Y29uc3R7aWNlUGFyYW1ldGVyczppLGR0bHNQYXJhbWV0ZXJzOm4scnRwQ2FwYWJpbGl0aWVzOnJ9PWF3YWl0IGZTKHRoaXMsWnYuUkVRVUVTVF9QMlBfQ09OTkVDVElPTl9QQVJBTVMse3R1cm5TZXJ2ZXI6bnVsbD09PSh0PXRoaXMuam9pbkluZm8pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnR1cm5TZXJ2ZXJ9KTtlKHRoaXMuZ2V0Sm9pbk1lc3NhZ2Uoe29ydGM6e2ljZVBhcmFtZXRlcnM6aSxkdGxzUGFyYW1ldGVyczpuLHJ0cENhcGFiaWxpdGllczpyLHZlcnNpb246XCIyXCJ9fSkpfSkpLHRoaXMuc2lnbmFsLm9uKG12LlJFUVVFU1RfUkVKT0lOX0lORk8sKGU9PntlKHRoaXMuZ2V0UmVqb2luTWVzc2FnZSgpKX0pKSx0aGlzLnNpZ25hbC5vbihtdi5SRVBPUlRfSk9JTl9HQVRFV0FZLCgoZSx0KT0+e3RoaXMuam9pbkluZm8mJihpdi5qb2luR2F0ZXdheSh0aGlzLmpvaW5JbmZvLnNpZCx7bHRzOnRoaXMuam9pbkdhdGV3YXlTdGFydFRpbWUsc3VjYzohMSxlYzplLGFkZHI6dCx1aWQ6dGhpcy5qb2luSW5mby51aWQsY2lkOnRoaXMuam9pbkluZm8uY2lkLGZpcnN0U3VjY2Vzczp0aGlzLl9pc1Byb2FjdGl2ZUpvaW4sYXZvaWRKb2luU3RhcnRUaW1lOnRoaXMuc3RvcmUuYXZvaWRKb2luU3RhcnQsaXNQcm94eTohIXRoaXMuam9pbkluZm8ucHJveHlTZXJ2ZXIsc2lnbmFsQ2hhbm5lbDp0aGlzLnNpZ25hbCBpbnN0YW5jZW9mIEFEP1wiMVwiOlwiMFwifSksdGhpcy5faXNQcm9hY3RpdmVKb2luPSExKX0pKSx0aGlzLnNpZ25hbC5vbihtdi5JU19QMlBfRElTQ09OTkVDVEVELChlPT57ZShUUyh0aGlzLFp2LklTX1AyUF9ESVNDT05ORUNURUQpKX0pKSx0aGlzLnNpZ25hbC5vbihtdi5ESVNDT05ORUNUX1AyUCwoKCk9Pnt0aGlzLmVtaXQoWnYuRElTQ09OTkVDVF9QMlApfSkpLHRoaXMuc2lnbmFsLm9uKG12Lk5FRURfUkVORVdfU0VTU0lPTiwoKCk9Pnt0aGlzLmVtaXQoWnYuTkVFRF9SRU5FV19TRVNTSU9OKX0pKSx0aGlzLnNpZ25hbC5vbihtdi5SRVFVRVNUX1NVQ0NFU1MsKCgpPT57dGhpcy5fc2lnbmFsVGltZW91dD0hMX0pKSx0aGlzLnNpZ25hbC5vbihtdi5SRVFVRVNUX1RJTUVPVVQsKCgpPT57dGhpcy5fc2lnbmFsVGltZW91dD0hMH0pKSx0aGlzLnNpZ25hbC5vbihtdi5KT0lOX1JFU1BPTlNFLChlPT57Y29uc3QgdD10aGlzLmdldEN1cnJlbnRHYXRld2F5QWRkcmVzcygpO3RoaXMuZW1pdChadi5KT0lOX1JFU1BPTlNFLGUsdCl9KSksdGhpcy5zaWduYWwub24obXYuREFUQUNIQU5ORUxfUFJFQ09OTkVDVCwoYXN5bmMoZSx0LGkpPT57dGhpcy51cGRhdGVUdXJuQ29uZmlnRnJvbVNpZ25hbCgpO2NvbnN0IG49dGhpcy5nZXRDdXJyZW50R2F0ZXdheUFkZHJlc3MoKTtyZXR1cm4gZlModGhpcyxadi5EQVRBQ0hBTk5FTF9QUkVDT05ORUNULGUsbikudGhlbih0KS5jYXRjaChpKX0pKSx0aGlzLnNpZ25hbC5vbihtdi5EQVRBQ0hBTk5FTF9DT05ORUNUSU5HLChhc3luYyBlPT57Y29uc3R7aWNlUGFyYW1ldGVyczp0LGR0bHNQYXJhbWV0ZXJzOmkscnRwQ2FwYWJpbGl0aWVzOm59PWF3YWl0IGZTKHRoaXMsWnYuUkVRVUVTVF9EQ19DT05ORUNUSU9OX1BBUkFNUyk7ZSh0aGlzLmdldEpvaW5NZXNzYWdlKHtvcnRjOntpY2VQYXJhbWV0ZXJzOnQsZHRsc1BhcmFtZXRlcnM6aSxydHBDYXBhYmlsaXRpZXM6bix2ZXJzaW9uOlwiMlwifX0pKX0pKSx0aGlzLnNpZ25hbC5vbihtdi5EQVRBQ0hBTk5FTF9GQUlMQkFDSywoKCk9PntXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBVc2VyIGpvaW4gZGF0YWNoYW5uZWwgZmFpbGVkXCIpKSx0aGlzLnJlc2V0KCksdGhpcy5yZXNldFNpZ25hbCgpLHRoaXMuZW1pdChadi5EQVRBQ0hBTk5FTF9GQUlMQkFDSyl9KSl9YXN5bmMgdHJ5VW5zdWJCZWZvcmVSZXN1YihlLHQpe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGZ2LlVOU1VCU0NSSUJFLHtwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzdHJlYW1faWQ6ZSxvcnRjOlt0XX0sITApfWNhdGNoKGUpe3Rocm93IFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHRyeVVuc3ViQmVmb3JlUmVzdWIgd2FybmluZ1wiKSxlKSxlfX1hc3luYyB0cnlVbnN1YkRhdGFDaGFubmVsQmVmb3JlUmVzdWIoZSx0KXt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChmdi5VTlNVQlNDUklCRSx7c3RyZWFtX2lkOnQuaWR9LCEwKX1jYXRjaChlKXt0aHJvdyBXQy53YXJuaW5nKFwidW5zdWJzY3JpYmUgZGF0YWNoYW5uZWwgd2FybmluZ1wiLGUpLGV9fWFzeW5jIHRyeVVucHViQmVmb3JlUmVwdWIoZSx0KXt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChmdi5VTlBVQkxJU0gse3N0cmVhbV9pZDplLG9ydGM6dH0sITApfWNhdGNoKGUpe3Rocm93IFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHRyeVVucHViQmVmb3JlUmVwdWIgd2FybmluZzogXCIpLGUpLGV9fWFzeW5jIHRyeVVucHViRGF0YUNoYW5uZWxCZWZvcmVSZXB1YihlLHQpe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGZ2LlVOUFVCTElTSF9EQVRBU1RSRUFNLHtjaGFubm5lbF9pZDp0LmNoYW5uZWxJZH0sITApfWNhdGNoKGUpe3Rocm93IFdDLndhcm5pbmcoXCJ1bnB1Ymxpc2ggZGF0YXN0cmVhbSB3YXJuaW5nOiBcIixlKSxlfX1hc3luYyB0cnlNYXNzVW5zdWJCZWZvcmVSZXN1YihlKXtjb25zdCB0PXt1c2VyczplLm1hcCgoZT0+KHtzdHJlYW1faWQ6ZS5zdHJlYW1faWQsc3RyZWFtX3R5cGU6ZS5zdHJlYW1fdHlwZX0pKSl9O3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGZ2LlVOU1VCU0NSSUJFX1NUUkVBTVMsdCwhMCl9Y2F0Y2goZSl7dGhyb3cgV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gdHJ5TWFzc1Vuc3ViQmVmb3JlUmVzdWIgd2FybmluZ1wiKSxlKSxlfX1hc3luYyBtdXRlTG9jYWwoZSx0KXtjb25zdCBpPXthY3Rpb246ZS5maW5kKChlPT5lLnN0cmVhbV90eXBlPT09UXYuQXVkaW8pKT9cIm11dGVfbG9jYWxfYXVkaW9cIjpcIm11dGVfbG9jYWxfdmlkZW9cIixwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxvcnRjOmUsc3RyZWFtX2lkOnR9O3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGZ2LkNPTlRST0wsaSwhMCwhMCl9Y2F0Y2goZSl7dGhyb3cgV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gZ2F0ZXdheSBtdXRlTG9jYWwgd2FybmluZzogXCIpLGUpLGV9fWFzeW5jIHVubXV0ZUxvY2FsKGUsdCl7Y29uc3QgaT17YWN0aW9uOmUuZmluZCgoZT0+ZS5zdHJlYW1fdHlwZT09PVF2LkF1ZGlvKSk/XCJ1bm11dGVfbG9jYWxfYXVkaW9cIjpcInVubXV0ZV9sb2NhbF92aWRlb1wiLHAycF9pZDp0aGlzLnN0b3JlLnAycElkLG9ydGM6ZSxzdHJlYW1faWQ6dH07dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZnYuQ09OVFJPTCxpLCEwLCEwKX1jYXRjaChlKXt0aHJvdyBXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBnYXRld2F5IHVubXV0ZUxvY2FsIHdhcm5pbmc6IFwiKSxlKSxlfX1hc3luYyBtdXRlUmVtb3RlKGUsdCl7Y29uc3QgaT17YWN0aW9uOmU9PT1kSS5BVURJTz9cIm11dGVfcmVtb3RlX2F1ZGlvXCI6XCJtdXRlX3JlbW90ZV92aWRlb1wiLHAycF9pZDp0aGlzLnN0b3JlLnAycElkLHN0cmVhbV9pZDp0fTt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChmdi5DT05UUk9MLGksITAsITApfWNhdGNoKGUpe3Rocm93IFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGdhdGV3YXkgbXV0ZVJlbW90ZSB3YXJuaW5nOiBcIiksZSksZX19YXN5bmMgdW5tdXRlUmVtb3RlKGUsdCl7Y29uc3QgaT17YWN0aW9uOmU9PT1kSS5BVURJTz9cInVubXV0ZV9yZW1vdGVfYXVkaW9cIjpcInVubXV0ZV9yZW1vdGVfdmlkZW9cIixwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzdHJlYW1faWQ6dH07dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZnYuQ09OVFJPTCxpLCEwLCEwKX1jYXRjaChlKXt0aHJvdyBXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBnYXRld2F5IHVubXV0ZVJlbW90ZSB3YXJuaW5nOiBcIiksZSksZX19dXBsb2FkU3RhdHMoZSx0KXt0aGlzLnNpZ25hbC51cGxvYWQoZSx0KX1nZXRTaWduYWxSVFQoKXtyZXR1cm4gdGhpcy5zaWduYWwucnR0fWFzeW5jIHJlc3RhcnRJQ0UoZSl7Y29uc3QgdD17cDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsc3RyZWFtX2lkOnRoaXMuc3RvcmUudWlkLG9ydGM6ZX07dHJ5e3JldHVybiBhd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGZ2LlJFU1RBUlRfSUNFLHQsITApfWNhdGNoKGUpe3Rocm93IFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwucmVzdGFydElDRSB3YXJuaW5nOiBcIiksZSksZX19cmVjb25uZWN0KCl7XCJDT05ORUNURURcIj09PXRoaXMuc3RhdGUmJnRoaXMuc2lnbmFsLnJlY29ubmVjdCh2b2lkIDAsbFMuUDJQX0ZBSUxFRCl9Z2V0Q3VycmVudEdhdGV3YXlBZGRyZXNzKCl7dmFyIGU7aWYoIWtDKFwiR0FURVdBWV9XU1NfQUREUkVTU1wiKSlyZXR1cm4gbnVsbCE9PShlPXRoaXMuam9pbkluZm8pJiZ2b2lkIDAhPT1lJiZlLmdhdGV3YXlBZGRycz90aGlzLmpvaW5JbmZvLmdhdGV3YXlBZGRyc1t0aGlzLnNpZ25hbC5jdXJyZW50VVJMSW5kZXhdOnZvaWQgMH1hc3luYyBzZXRQdWJsaXNoQXVkaW9GaWx0ZXJFbmFibGVkKGUpe2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZnYuU0VUX1BBUkFNRVRFUix7ZW5hYmxlUHVibGlzaEF1ZGlvRmlsdGVyOmV9KX1yZXNldFNpZ25hbCgpe3RoaXMuc2lnbmFsJiYodGhpcy5zaWduYWwucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5zaWduYWwuY2xvc2UoY1MuRkFMTEJBQ0spKSx0aGlzLnN0b3JlLnVzZURhdGFDaGFubmVsPSExLHRoaXMuc2lnbmFsPW5ldyB6SShORChORCh7fSx0aGlzLnNwZWMpLHt9LHtyZXRyeUNvbmZpZzp0aGlzLnNwZWMud2Vic29ja2V0UmV0cnlDb25maWd9KSx0aGlzLnN0b3JlKSx0aGlzLmhhbmRsZVNpZ25hbEV2ZW50cygpLHRoaXMuZW1pdChadi5SRVNFVF9TSUdOQUwsdEkud2Vic29ja2V0KX19bGV0IExEPTAsa0Q9MDtmdW5jdGlvbiBNRChlLHQsaSxuKXtyZXR1cm4gbmV3IHRnKCgocixzKT0+e3QudGltZW91dD10LnRpbWVvdXR8fGtDKFwiSFRUUF9DT05ORUNUX1RJTUVPVVRcIiksdC5yZXNwb25zZVR5cGU9dC5yZXNwb25zZVR5cGV8fFwianNvblwiLHQuZGF0YSYmIWk/KHQuZGF0YT1KU09OLnN0cmluZ2lmeSh0LmRhdGEpLExEKz1MUyh0LmRhdGEpKTppJiYodC5kYXRhLnNpemU/TEQrPXQuZGF0YS5zaXplOnQuZGF0YSBpbnN0YW5jZW9mIEZvcm1EYXRhP0xEKz1rUyh0LmRhdGEpOkxEKz1MUyhKU09OLnN0cmluZ2lmeSh0LmRhdGEpKSksdC5oZWFkZXJzPXQuaGVhZGVyc3x8e30sdC5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdPXQuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXXx8XCJhcHBsaWNhdGlvbi9qc29uXCIsdC5tZXRob2Q9XCJQT1NUXCIsdC51cmw9ZSxFQy5yZXF1ZXN0KHQpLnRoZW4oKGU9PntcInN0cmluZ1wiPT10eXBlb2YgZS5kYXRhP2tEKz1MUyhlLmRhdGEpOmUuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxlLmRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5P2tEKz1lLmRhdGEuYnl0ZUxlbmd0aDprRCs9TFMoSlNPTi5zdHJpbmdpZnkoZS5kYXRhKSksbiYmcih7ZGF0YTplLmRhdGEsaGVhZGVyczplLmhlYWRlcnN9KSxyKGUuZGF0YSl9KSkuY2F0Y2goKGU9PntFQy5pc0NhbmNlbChlKT9zKG5ldyBNdih4Zy5PUEVSQVRJT05fQUJPUlRFRCxcImNhbmNlbCB0b2tlbiBjYW5jZWxlZFwiKSk6XCJFQ09OTkFCT1JURURcIj09PWUuY29kZT9zKG5ldyBNdih4Zy5ORVRXT1JLX1RJTUVPVVQsZS5tZXNzYWdlKSk6ZS5yZXNwb25zZT9zKG5ldyBNdih4Zy5ORVRXT1JLX1JFU1BPTlNFX0VSUk9SLGUucmVzcG9uc2Uuc3RhdHVzKSk6cyhuZXcgTXYoeGcuTkVUV09SS19FUlJPUixlLm1lc3NhZ2UpKX0pKX0pKX1cbi8qISBmb3JtZGF0YS1wb2x5ZmlsbC4gTUlUIExpY2Vuc2UuIEppbW15IFc/cnRpbmcgPGh0dHBzOi8vamltbXkud2FydGluZy5zZS9vcGVuc291cmNlPiAqLyFmdW5jdGlvbigpe3ZhciBlO2Z1bmN0aW9uIHQoZSl7dmFyIHQ9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdDxlLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTplW3QrK119Ontkb25lOiEwfX19dmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnRpZXM/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZT09QXJyYXkucHJvdG90eXBlfHxlPT1PYmplY3QucHJvdG90eXBlfHwoZVt0XT1pLnZhbHVlKSxlfTt2YXIgbixyPWZ1bmN0aW9uKGUpe2U9W1wib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzLGUsXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93LFwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmLFwib2JqZWN0XCI9PXR5cGVvZiBxJiZxXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoOysrdCl7dmFyIGk9ZVt0XTtpZihpJiZpLk1hdGg9PU1hdGgpcmV0dXJuIGl9dGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCBnbG9iYWwgb2JqZWN0XCIpfSh0aGlzKTtmdW5jdGlvbiBzKGUsdCl7aWYodCllOnt2YXIgbj1yO2U9ZS5zcGxpdChcIi5cIik7Zm9yKHZhciBzPTA7czxlLmxlbmd0aC0xO3MrKyl7dmFyIG89ZVtzXTtpZighKG8gaW4gbikpYnJlYWsgZTtuPW5bb119KHQ9dChzPW5bZT1lW2UubGVuZ3RoLTFdXSkpIT1zJiZudWxsIT10JiZpKG4sZSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KX19ZnVuY3Rpb24gbyhlKXtyZXR1cm4oZT17bmV4dDplfSlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlfWZ1bmN0aW9uIGEoZSl7dmFyIGk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yJiZlW1N5bWJvbC5pdGVyYXRvcl07cmV0dXJuIGk/aS5jYWxsKGUpOntuZXh0OnQoZSl9fWlmKHMoXCJTeW1ib2xcIiwoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe3RoaXMuQT1lLGkodGhpcyxcImRlc2NyaXB0aW9uXCIse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSl9aWYoZSlyZXR1cm4gZTt0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkF9O3ZhciBuPVwianNjb21wX3N5bWJvbF9cIisoMWU5Kk1hdGgucmFuZG9tKCk+Pj4wKStcIl9cIixyPTA7cmV0dXJuIGZ1bmN0aW9uIGUoaSl7aWYodGhpcyBpbnN0YW5jZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKTtyZXR1cm4gbmV3IHQobisoaXx8XCJcIikrXCJfXCIrcisrLGkpfX0pKSxzKFwiU3ltYm9sLml0ZXJhdG9yXCIsKGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIGU7ZT1TeW1ib2woXCJTeW1ib2wuaXRlcmF0b3JcIik7Zm9yKHZhciBuPVwiQXJyYXkgSW50OEFycmF5IFVpbnQ4QXJyYXkgVWludDhDbGFtcGVkQXJyYXkgSW50MTZBcnJheSBVaW50MTZBcnJheSBJbnQzMkFycmF5IFVpbnQzMkFycmF5IEZsb2F0MzJBcnJheSBGbG9hdDY0QXJyYXlcIi5zcGxpdChcIiBcIikscz0wO3M8bi5sZW5ndGg7cysrKXt2YXIgYT1yW25bc11dO1wiZnVuY3Rpb25cIj09dHlwZW9mIGEmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGEucHJvdG90eXBlW2VdJiZpKGEucHJvdG90eXBlLGUse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBvKHQodGhpcykpfX0pfXJldHVybiBlfSkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5zZXRQcm90b3R5cGVPZiluPU9iamVjdC5zZXRQcm90b3R5cGVPZjtlbHNle3ZhciBjO2U6e3ZhciBkPXt9O3RyeXtkLl9fcHJvdG9fXz17YTohMH0sYz1kLmE7YnJlYWsgZX1jYXRjaChlKXt9Yz0hMX1uPWM/ZnVuY3Rpb24oZSx0KXtpZihlLl9fcHJvdG9fXz10LGUuX19wcm90b19fIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKGUrXCIgaXMgbm90IGV4dGVuc2libGVcIik7cmV0dXJuIGV9Om51bGx9dmFyIGw9bjtmdW5jdGlvbiBoKCl7dGhpcy5tPSExLHRoaXMuaj1udWxsLHRoaXMudj12b2lkIDAsdGhpcy5oPTEsdGhpcy51PXRoaXMuQz0wLHRoaXMubD1udWxsfWZ1bmN0aW9uIHUoZSl7aWYoZS5tKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2UubT0hMH1mdW5jdGlvbiBwKGUsdCl7cmV0dXJuIGUuaD0zLHt2YWx1ZTp0fX1mdW5jdGlvbiBfKGUpe3RoaXMuZz1uZXcgaCx0aGlzLkc9ZX1mdW5jdGlvbiBFKGUsdCxpLG4pe3RyeXt2YXIgcj10LmNhbGwoZS5nLmosaSk7aWYoIShyIGluc3RhbmNlb2YgT2JqZWN0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSXRlcmF0b3IgcmVzdWx0IFwiK3IrXCIgaXMgbm90IGFuIG9iamVjdFwiKTtpZighci5kb25lKXJldHVybiBlLmcubT0hMSxyO3ZhciBzPXIudmFsdWV9Y2F0Y2godCl7cmV0dXJuIGUuZy5qPW51bGwsZS5nLnModCksbShlKX1yZXR1cm4gZS5nLmo9bnVsbCxuLmNhbGwoZS5nLHMpLG0oZSl9ZnVuY3Rpb24gbShlKXtmb3IoO2UuZy5oOyl0cnl7dmFyIHQ9ZS5HKGUuZyk7aWYodClyZXR1cm4gZS5nLm09ITEse3ZhbHVlOnQudmFsdWUsZG9uZTohMX19Y2F0Y2godCl7ZS5nLnY9dm9pZCAwLGUuZy5zKHQpfWlmKGUuZy5tPSExLGUuZy5sKXtpZih0PWUuZy5sLGUuZy5sPW51bGwsdC5GKXRocm93IHQuRDtyZXR1cm57dmFsdWU6dC5yZXR1cm4sZG9uZTohMH19cmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOiEwfX1mdW5jdGlvbiBmKGUpe3RoaXMubmV4dD1mdW5jdGlvbih0KXtyZXR1cm4gZS5vKHQpfSx0aGlzLnRocm93PWZ1bmN0aW9uKHQpe3JldHVybiBlLnModCl9LHRoaXMucmV0dXJuPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHQpe3UoZS5nKTt2YXIgaT1lLmcuajtyZXR1cm4gaT9FKGUsXCJyZXR1cm5cImluIGk/aS5yZXR1cm46ZnVuY3Rpb24oZSl7cmV0dXJue3ZhbHVlOmUsZG9uZTohMH19LHQsZS5nLnJldHVybik6KGUuZy5yZXR1cm4odCksbShlKSl9KGUsdCl9LHRoaXNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfX1mdW5jdGlvbiBnKGUsdCl7cmV0dXJuIHQ9bmV3IGYobmV3IF8odCkpLGwmJmUucHJvdG90eXBlJiZsKHQsZS5wcm90b3R5cGUpLHR9aWYoaC5wcm90b3R5cGUubz1mdW5jdGlvbihlKXt0aGlzLnY9ZX0saC5wcm90b3R5cGUucz1mdW5jdGlvbihlKXt0aGlzLmw9e0Q6ZSxGOiEwfSx0aGlzLmg9dGhpcy5DfHx0aGlzLnV9LGgucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihlKXt0aGlzLmw9e3JldHVybjplfSx0aGlzLmg9dGhpcy51fSxfLnByb3RvdHlwZS5vPWZ1bmN0aW9uKGUpe3JldHVybiB1KHRoaXMuZyksdGhpcy5nLmo/RSh0aGlzLHRoaXMuZy5qLm5leHQsZSx0aGlzLmcubyk6KHRoaXMuZy5vKGUpLG0odGhpcykpfSxfLnByb3RvdHlwZS5zPWZ1bmN0aW9uKGUpe3JldHVybiB1KHRoaXMuZyksdGhpcy5nLmo/RSh0aGlzLHRoaXMuZy5qLnRocm93LGUsdGhpcy5nLm8pOih0aGlzLmcucyhlKSxtKHRoaXMpKX0scyhcIkFycmF5LnByb3RvdHlwZS5lbnRyaWVzXCIsKGZ1bmN0aW9uKGUpe3JldHVybiBlfHxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe2UgaW5zdGFuY2VvZiBTdHJpbmcmJihlKz1cIlwiKTt2YXIgaT0wLG49ITEscj17bmV4dDpmdW5jdGlvbigpe2lmKCFuJiZpPGUubGVuZ3RoKXt2YXIgcj1pKys7cmV0dXJue3ZhbHVlOnQocixlW3JdKSxkb25lOiExfX1yZXR1cm4gbj0hMCx7ZG9uZTohMCx2YWx1ZTp2b2lkIDB9fX07cmV0dXJuIHJbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiByfSxyfSh0aGlzLChmdW5jdGlvbihlLHQpe3JldHVybltlLHRdfSkpfX0pKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgQmxvYiYmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBGb3JtRGF0YXx8IUZvcm1EYXRhLnByb3RvdHlwZS5rZXlzKSl7dmFyIFM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl0KGVbaV0pfSxUPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xccj9cXG58XFxyL2csXCJcXHJcXG5cIil9LFI9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiB0IGluc3RhbmNlb2YgQmxvYj8oaT12b2lkIDAhPT1pP1N0cmluZyhpK1wiXCIpOlwic3RyaW5nXCI9PXR5cGVvZiB0Lm5hbWU/dC5uYW1lOlwiYmxvYlwiLHQubmFtZT09PWkmJlwiW29iamVjdCBCbG9iXVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfHwodD1uZXcgRmlsZShbdF0saSkpLFtTdHJpbmcoZSksdF0pOltTdHJpbmcoZSksU3RyaW5nKHQpXX0sQz1mdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoPHQpdGhyb3cgbmV3IFR5cGVFcnJvcih0K1wiIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSBcIitlLmxlbmd0aCtcIiBwcmVzZW50LlwiKX0sdj1cIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOlwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3c/d2luZG93Olwib2JqZWN0XCI9PXR5cGVvZiBzZWxmP3NlbGY6dGhpcyxJPXYuRm9ybURhdGEseT12LlhNTEh0dHBSZXF1ZXN0JiZ2LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kLEE9di5SZXF1ZXN0JiZ2LmZldGNoLGI9di5uYXZpZ2F0b3ImJnYubmF2aWdhdG9yLnNlbmRCZWFjb24sdz12LkVsZW1lbnQmJnYuRWxlbWVudC5wcm90b3R5cGUsTz12LlN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnO08mJihCbG9iLnByb3RvdHlwZVtPXXx8KEJsb2IucHJvdG90eXBlW09dPVwiQmxvYlwiKSxcIkZpbGVcImluIHYmJiFGaWxlLnByb3RvdHlwZVtPXSYmKEZpbGUucHJvdG90eXBlW09dPVwiRmlsZVwiKSk7dHJ5e25ldyBGaWxlKFtdLFwiXCIpfWNhdGNoKGUpe3YuRmlsZT1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGU9bmV3IEJsb2IoZSxpfHx7fSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSx7bmFtZTp7dmFsdWU6dH0sbGFzdE1vZGlmaWVkOnt2YWx1ZTorKGkmJnZvaWQgMCE9PWkubGFzdE1vZGlmaWVkP25ldyBEYXRlKGkubGFzdE1vZGlmaWVkKTpuZXcgRGF0ZSl9LHRvU3RyaW5nOnt2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBGaWxlXVwifX19KSxPJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxPLHt2YWx1ZTpcIkZpbGVcIn0pLGV9fXZhciBOPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xcbi9nLFwiJTBBXCIpLnJlcGxhY2UoL1xcci9nLFwiJTBEXCIpLnJlcGxhY2UoL1wiL2csXCIlMjJcIil9LEQ9ZnVuY3Rpb24oZSl7dGhpcy5pPVtdO3ZhciB0PXRoaXM7ZSYmUyhlLmVsZW1lbnRzLChmdW5jdGlvbihlKXtpZihlLm5hbWUmJiFlLmRpc2FibGVkJiZcInN1Ym1pdFwiIT09ZS50eXBlJiZcImJ1dHRvblwiIT09ZS50eXBlJiYhZS5tYXRjaGVzKFwiZm9ybSBmaWVsZHNldFtkaXNhYmxlZF0gKlwiKSlpZihcImZpbGVcIj09PWUudHlwZSl7dmFyIGk9ZS5maWxlcyYmZS5maWxlcy5sZW5ndGg/ZS5maWxlczpbbmV3IEZpbGUoW10sXCJcIix7dHlwZTpcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifSldO1MoaSwoZnVuY3Rpb24oaSl7dC5hcHBlbmQoZS5uYW1lLGkpfSkpfWVsc2VcInNlbGVjdC1tdWx0aXBsZVwiPT09ZS50eXBlfHxcInNlbGVjdC1vbmVcIj09PWUudHlwZT9TKGUub3B0aW9ucywoZnVuY3Rpb24oaSl7IWkuZGlzYWJsZWQmJmkuc2VsZWN0ZWQmJnQuYXBwZW5kKGUubmFtZSxpLnZhbHVlKX0pKTpcImNoZWNrYm94XCI9PT1lLnR5cGV8fFwicmFkaW9cIj09PWUudHlwZT9lLmNoZWNrZWQmJnQuYXBwZW5kKGUubmFtZSxlLnZhbHVlKTooaT1cInRleHRhcmVhXCI9PT1lLnR5cGU/VChlLnZhbHVlKTplLnZhbHVlLHQuYXBwZW5kKGUubmFtZSxpKSl9KSl9O2lmKChlPUQucHJvdG90eXBlKS5hcHBlbmQ9ZnVuY3Rpb24oZSx0LGkpe0MoYXJndW1lbnRzLDIpLHRoaXMuaS5wdXNoKFIoZSx0LGkpKX0sZS5kZWxldGU9ZnVuY3Rpb24oZSl7Qyhhcmd1bWVudHMsMSk7dmFyIHQ9W107ZT1TdHJpbmcoZSksUyh0aGlzLmksKGZ1bmN0aW9uKGkpe2lbMF0hPT1lJiZ0LnB1c2goaSl9KSksdGhpcy5pPXR9LGUuZW50cmllcz1mdW5jdGlvbiBlKCl7dmFyIHQsaT10aGlzO3JldHVybiBnKGUsKGZ1bmN0aW9uKGUpe2lmKDE9PWUuaCYmKHQ9MCksMyE9ZS5oKXJldHVybiB0PGkuaS5sZW5ndGg/ZT1wKGUsaS5pW3RdKTooZS5oPTAsZT12b2lkIDApLGU7dCsrLGUuaD0yfSkpfSxlLmZvckVhY2g9ZnVuY3Rpb24oZSx0KXtDKGFyZ3VtZW50cywxKTtmb3IodmFyIGk9YSh0aGlzKSxuPWkubmV4dCgpOyFuLmRvbmU7bj1pLm5leHQoKSl7dmFyIHI9YShuLnZhbHVlKTtuPXIubmV4dCgpLnZhbHVlLHI9ci5uZXh0KCkudmFsdWUsZS5jYWxsKHQscixuLHRoaXMpfX0sZS5nZXQ9ZnVuY3Rpb24oZSl7Qyhhcmd1bWVudHMsMSk7dmFyIHQ9dGhpcy5pO2U9U3RyaW5nKGUpO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV1bMF09PT1lKXJldHVybiB0W2ldWzFdO3JldHVybiBudWxsfSxlLmdldEFsbD1mdW5jdGlvbihlKXtDKGFyZ3VtZW50cywxKTt2YXIgdD1bXTtyZXR1cm4gZT1TdHJpbmcoZSksUyh0aGlzLmksKGZ1bmN0aW9uKGkpe2lbMF09PT1lJiZ0LnB1c2goaVsxXSl9KSksdH0sZS5oYXM9ZnVuY3Rpb24oZSl7Qyhhcmd1bWVudHMsMSksZT1TdHJpbmcoZSk7Zm9yKHZhciB0PTA7dDx0aGlzLmkubGVuZ3RoO3QrKylpZih0aGlzLmlbdF1bMF09PT1lKXJldHVybiEwO3JldHVybiExfSxlLmtleXM9ZnVuY3Rpb24gZSgpe3ZhciB0LGksbixyLHM9dGhpcztyZXR1cm4gZyhlLChmdW5jdGlvbihlKXtpZigxPT1lLmgmJih0PWEocyksaT10Lm5leHQoKSksMyE9ZS5oKXJldHVybiBpLmRvbmU/dm9pZChlLmg9MCk6KG49aS52YWx1ZSxyPWEobikscChlLHIubmV4dCgpLnZhbHVlKSk7aT10Lm5leHQoKSxlLmg9Mn0pKX0sZS5zZXQ9ZnVuY3Rpb24oZSx0LGkpe0MoYXJndW1lbnRzLDIpLGU9U3RyaW5nKGUpO3ZhciBuPVtdLHI9UihlLHQsaSkscz0hMDtTKHRoaXMuaSwoZnVuY3Rpb24odCl7dFswXT09PWU/cyYmKHM9IW4ucHVzaChyKSk6bi5wdXNoKHQpfSkpLHMmJm4ucHVzaChyKSx0aGlzLmk9bn0sZS52YWx1ZXM9ZnVuY3Rpb24gZSgpe3ZhciB0LGksbixyLHM9dGhpcztyZXR1cm4gZyhlLChmdW5jdGlvbihlKXtpZigxPT1lLmgmJih0PWEocyksaT10Lm5leHQoKSksMyE9ZS5oKXJldHVybiBpLmRvbmU/dm9pZChlLmg9MCk6KG49aS52YWx1ZSwocj1hKG4pKS5uZXh0KCkscChlLHIubmV4dCgpLnZhbHVlKSk7aT10Lm5leHQoKSxlLmg9Mn0pKX0sRC5wcm90b3R5cGUuX2FzTmF0aXZlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBJLHQ9YSh0aGlzKSxpPXQubmV4dCgpOyFpLmRvbmU7aT10Lm5leHQoKSl7dmFyIG49YShpLnZhbHVlKTtpPW4ubmV4dCgpLnZhbHVlLG49bi5uZXh0KCkudmFsdWUsZS5hcHBlbmQoaSxuKX1yZXR1cm4gZX0sRC5wcm90b3R5cGUuX2Jsb2I9ZnVuY3Rpb24oKXt2YXIgZT1cIi0tLS1mb3JtZGF0YS1wb2x5ZmlsbC1cIitNYXRoLnJhbmRvbSgpLHQ9W10saT1cIi0tXCIrZSsnXFxyXFxuQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPVwiJztyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihlLG4pe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP3QucHVzaChpK04oVChuKSkrJ1wiXFxyXFxuXFxyXFxuJytUKGUpK1wiXFxyXFxuXCIpOnQucHVzaChpK04oVChuKSkrJ1wiOyBmaWxlbmFtZT1cIicrTihlLm5hbWUpKydcIlxcclxcbkNvbnRlbnQtVHlwZTogJysoZS50eXBlfHxcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKStcIlxcclxcblxcclxcblwiLGUsXCJcXHJcXG5cIil9KSksdC5wdXNoKFwiLS1cIitlK1wiLS1cIiksbmV3IEJsb2IodCx7dHlwZTpcIm11bHRpcGFydC9mb3JtLWRhdGE7IGJvdW5kYXJ5PVwiK2V9KX0sRC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVudHJpZXMoKX0sRC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgRm9ybURhdGFdXCJ9LHcmJiF3Lm1hdGNoZXMmJih3Lm1hdGNoZXM9dy5tYXRjaGVzU2VsZWN0b3J8fHcubW96TWF0Y2hlc1NlbGVjdG9yfHx3Lm1zTWF0Y2hlc1NlbGVjdG9yfHx3Lm9NYXRjaGVzU2VsZWN0b3J8fHcud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9KGU9KHRoaXMuZG9jdW1lbnR8fHRoaXMub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChlKSkubGVuZ3RoOzA8PS0tdCYmZS5pdGVtKHQpIT09dGhpczspO3JldHVybi0xPHR9KSxPJiYoRC5wcm90b3R5cGVbT109XCJGb3JtRGF0YVwiKSx5KXt2YXIgUD12LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZXRSZXF1ZXN0SGVhZGVyO3YuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXI9ZnVuY3Rpb24oZSx0KXtQLmNhbGwodGhpcyxlLHQpLFwiY29udGVudC10eXBlXCI9PT1lLnRvTG93ZXJDYXNlKCkmJih0aGlzLkI9ITApfSx2LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe2UgaW5zdGFuY2VvZiBEPyhlPWUuX2Jsb2IoKSx0aGlzLkJ8fHRoaXMuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLGUudHlwZSkseS5jYWxsKHRoaXMsZSkpOnkuY2FsbCh0aGlzLGUpfX1BJiYodi5mZXRjaD1mdW5jdGlvbihlLHQpe3JldHVybiB0JiZ0LmJvZHkmJnQuYm9keSBpbnN0YW5jZW9mIEQmJih0LmJvZHk9dC5ib2R5Ll9ibG9iKCkpLEEuY2FsbCh0aGlzLGUsdCl9KSxiJiYodi5uYXZpZ2F0b3Iuc2VuZEJlYWNvbj1mdW5jdGlvbihlLHQpe3JldHVybiB0IGluc3RhbmNlb2YgRCYmKHQ9dC5fYXNOYXRpdmUoKSksYi5jYWxsKHRoaXMsZSx0KX0pLHYuRm9ybURhdGE9RH19KCk7Y29uc3QgVUQ9KCk9Pntjb25zdCBlPWtDKFwiQVJFQVNcIik7MD09PWUubGVuZ3RoJiZlLnB1c2goaUkuR0xPQkFMKTtyZXR1cm4gY1QoZSkuY2FsbChlLCgoZSx0LGkpPT57Y29uc3Qgbj14RCh0KTtyZXR1cm4gbj8wPT09aT9uOlwiXCIuY29uY2F0KGUsXCIsXCIpLmNvbmNhdChuKTplfSksXCJcIil9LHhEPWU9PmU9PT1pSS5PVkVSU0VBP1wiXCIuY29uY2F0KHNJLkFTSUEsXCIsXCIpLmNvbmNhdChzSS5FVVJPUEUsXCIsXCIpLmNvbmNhdChzSS5BRlJJQ0EsXCIsXCIpLmNvbmNhdChzSS5OT1JUSF9BTUVSSUNBLFwiLFwiKS5jb25jYXQoc0kuU09VVEhfQU1FUklDQSxcIixcIikuY29uY2F0KHNJLk9DRUFOSUEpOnNJW2VdLFZEPWU9Pntjb25zdCB0PXtDT0RFOlwiXCIsV0VCQ1NfRE9NQUlOOltdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXSxQUk9YWV9DUzpbXSxDRFNfQVA6W10sQUNDT1VOVF9SRUdJU1RFUjpbXSxVQVBfQVA6W10sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXSxMT0dfVVBMT0FEX1NFUlZFUjpbXSxQUk9YWV9TRVJWRVJfVFlQRTM6W119O3JldHVybiBlLm1hcCgoZT0+e2NvbnN0IGk9b0lbZV0sbj1PYmplY3Qua2V5cyhpKTtuJiZuLm1hcCgoZT0+e1wiQ09ERVwiIT09ZSYmKHRbZV09dFtlXS5jb25jYXQoaVtlXSkpfSkpfSkpLHR9LEZEPXtHTE9CQUw6e0FTSUE6W2lJLkNISU5BLGlJLkpBUEFOLGlJLklORElBLGlJLktPUkVBLGlJLkhLTUNdLEVVUk9QRTpbXSxOT1JUSF9BTUVSSUNBOltpSS5VU10sU09VVEhfQU1FUklDQTpbXSxPQ0VBTklBOltdLEFGUklDQTpbXX19LEJEPU9iamVjdC5rZXlzKEZEW2lJLkdMT0JBTF0pLGpEPVtpSS5DSElOQSxpSS5OT1JUSF9BTUVSSUNBLGlJLkVVUk9QRSxpSS5BU0lBLGlJLkpBUEFOLGlJLklORElBLGlJLk9DRUFOSUEsaUkuU09VVEhfQU1FUklDQSxpSS5BRlJJQ0EsaUkuS09SRUEsaUkuSEtNQyxpSS5VU10sR0Q9ZnVuY3Rpb24oZSx0KXtsZXQgaT1bXTtpZihQcihlKS5jYWxsKGUsaUkuR0xPQkFMKSl7Y29uc3Qgcz1baUkuR0xPQkFMLGlJLk9WRVJTRUFdLG89T2JqZWN0LmtleXMob0kpO2lmKHQ9PT1pSS5HTE9CQUwpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfUEFSQU1TLFwiR0xPQkFMIGlzIGFuIGludmFsaWQgZXhjbHVkZWRBcmVhIHZhbHVlXCIpO2lmKHQ9PT1pSS5DSElOQSlpPVtpSS5PVkVSU0VBXTtlbHNlIGlmKHI9dCxQcihCRCkuY2FsbChCRCxyKSl7Y29uc3QgZT0obj10LEZEW2lJLkdMT0JBTF1bbl18fFtdKSxyPVsuLi5zLHQsLi4uZV07aT1vLmZpbHRlcigoZT0+IVByKHIpLmNhbGwocixlKSkpfWVsc2UgaWYoZnVuY3Rpb24oZSl7bGV0IHQ9ITE7cmV0dXJuIEJELmZvckVhY2goKGk9Pnt2YXIgbjtQcihuPUZEW2lJLkdMT0JBTF1baV0pLmNhbGwobixlKSYmKHQ9ITApfSkpLHR9KHQpKXtjb25zdCBlPWZ1bmN0aW9uKGUpe2xldCB0O3JldHVybiBCRC5mb3JFYWNoKChpPT57dmFyIG47UHIobj1GRFtpSS5HTE9CQUxdW2ldKS5jYWxsKG4sZSkmJih0PWkpfSkpLHR9KHQpLG49Wy4uLnMsZSx0XTtpPW8uZmlsdGVyKChlPT4hUHIobikuY2FsbChuLGUpKSl9ZWxzZSBpPWU7aT1mdW5jdGlvbihlKXtjb25zdCB0PVtdO3JldHVybiBqRC5mb3JFYWNoKChpPT57UHIoZSkuY2FsbChlLGkpJiZ0LnB1c2goaSl9KSksdC5jb25jYXQoZS5maWx0ZXIoKGU9PiFQcihqRCkuY2FsbChqRCxlKSkpKX0oaSl9ZWxzZSBpPWU7dmFyIG4scjtyZXR1cm4gaX07ZnVuY3Rpb24gV0QoZSl7dmFyIHQsaTtpZighZSYmUHIodD1rQyhcIkFSRUFTXCIpKS5jYWxsKHQsaUkuRVhURU5TSU9OUykpcmV0dXJuIFdDLmRlYnVnKFwidXBkYXRlIGFyZWEgZnJvbSBhcCA6IHJlc2V0XCIpLHZvaWQgSEQobnYsITApO2lmKCFQcihpPWtDKFwiQVJFQVNcIikpLmNhbGwoaSxpSS5HTE9CQUwpfHwhZSlyZXR1cm47bGV0IG49b0kuRVhURU5TSU9OUztuJiYobj17Q09ERTp4RChpSS5FWFRFTlNJT05TKSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIildLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1cIi5jb25jYXQoZSxcIi5hcC5zZC1ydG4uY29tXCIpXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIildLENEU19BUDpbXCJjZHMtYXAtd2ViLTEtXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIiksXCJjZHMtYXAtd2ViLTItXCIuY29uY2F0KGUsXCIuYXAuc2QtcnRuLmNvbVwiKV0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLTEtXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIiksXCJzdWEtYXAtd2ViLTItXCIuY29uY2F0KGUsXCIuYXAuc2QtcnRuLmNvbVwiKV0sVUFQX0FQOltcInVhcC1hcC13ZWItMS1cIi5jb25jYXQoZSxcIi5hZ29yYS5pb1wiKSxcInVhcC1hcC13ZWItMi1cIi5jb25jYXQoZSxcIi5hcC5zZC1ydG4uY29tXCIpXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIildLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIildLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIildLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJ3ZWJydGMtY2xvdWQtcHJveHktXCIuY29uY2F0KGUsXCIuYWdvcmEuaW9cIildfSxXQy5kZWJ1ZyhcInVwZGF0ZSBhcmVhIGZyb20gYXAgc3VjY2VzczogXCIuY29uY2F0KGUsXCIsY29uZmlnIGlzIFwiKSxuKSxMQyhcIkFSRUFTXCIsW2lJLkVYVEVOU0lPTlNdLCEwKSxPYmplY3Qua2V5cyhuKS5tYXAoKGU9PntpZihcIkxPR19VUExPQURfU0VSVkVSXCI9PT1lfHxcIkVWRU5UX1JFUE9SVF9ET01BSU5cIj09PWV8fFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIj09PWV8fFwiUFJPWFlfU0VSVkVSX1RZUEUzXCI9PT1lKXtMQyhlLG5bZV1bMF0pfWVsc2UgTEMoZSxuW2VdKX0pKSl9ZnVuY3Rpb24gSEQoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtjb25zdCBpPWl2LnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOnNTLlNFVF9BUkVBLG9wdGlvbnM6ZSx0YWc6b1MuVFJBQ0VSfSk7dHJ5e2xldCBuPVtdO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYobj1bZV0pLEFycmF5LmlzQXJyYXkoZSkmJihlLmZvckVhY2goKGU9PntpZighUHIockkpLmNhbGwockksZSkpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfUEFSQU1TLFwiaW52YWxpZCBhcmVhIGNvZGVcIil9KSksbj1lKSxcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXtjb25zdHthcmVhQ29kZTp0LGV4Y2x1ZGVkQXJlYTppfT1lO2lmKCF0KXRocm93IG5ldyBNdih4Zy5JTlZBTElEX1BBUkFNUyxcImFyZWEgY29kZSBpcyBuZWVkZWRcIik7bGV0IHI9dDtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHI9W3RdKSxuPWk/R0QocixpKTpyfWlmKCF0KXtpZihNQy5BUkVBUyl7Y29uc3QgZT1uZXcgTXYoeGcuUFJPSElCSVRFRF9PUEVSQVRJT04sXCJzZXRBcmVhIGlzIHByb2hpYml0ZWQgYmVjYXVzZSBvZiBjb25maWctZGlzdHJpYnV0ZVwiKTtyZXR1cm4gaS5vbkVycm9yKGUpLHZvaWQgV0Mud2FybmluZyhcInNldEFyZWEgaXMgcHJvaGliaXRlZCBiZWNhdXNlIG9mIGNvbmZpZy1kaXN0cmlidXRlXCIpfWlmKFByKG4pLmNhbGwobixpSS5HTE9CQUwpJiZrQyhcIkFSRUFTXCIpPT09aUkuRVhURU5TSU9OUyl7Y29uc3QgZT1uZXcgTXYoeGcuUFJPSElCSVRFRF9PUEVSQVRJT04sXCJzZXRBcmVhIGlzIHByb2hpYml0ZWQgYmVjYXVzZSBvZiBhcCBleHRlbnNpb25zXCIpO3JldHVybiBpLm9uRXJyb3IoZSksdm9pZCBXQy53YXJuaW5nKFwic2V0QXJlYSBpcyBwcm9oaWJpdGVkIGJlY2F1c2Ugb2YgYXAgZXh0ZW5zaW9uc1wiKX19TEMoXCJBUkVBU1wiLG4sdCk7Y29uc3Qgcj1WRChuKTtPYmplY3Qua2V5cyhyKS5tYXAoKGU9PntpZihcIkxPR19VUExPQURfU0VSVkVSXCI9PT1lfHxcIkVWRU5UX1JFUE9SVF9ET01BSU5cIj09PWV8fFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIj09PWV8fFwiUFJPWFlfU0VSVkVSX1RZUEUzXCI9PT1lKXtMQyhlLHJbZV1bMF0pfWVsc2UgTEMoZSxyW2VdKX0pKSxXQy5kZWJ1ZyhcInNldCBhcmVhIHN1Y2Nlc3M6XCIsbi5qb2luKFwiLFwiKSl9Y2F0Y2goZSl7dGhyb3cgaS5vbkVycm9yKGUpLGV9aS5vblN1Y2Nlc3MoKX1mdW5jdGlvbiBLRChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gWUQoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/S0QoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6S0QoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9bGV0IHFEPTE7ZnVuY3Rpb24gSkQoZSx0LGksbixyKXtxRCs9MTtjb25zdCBzPXtzaWQ6aS5zaWQsY29tbWFuZDpcImNvbnZlcmdlQWxsb2NhdGVFZGdlXCIsdWlkOlwiNjY2XCIsYXBwSWQ6aS5hcHBJZCx0czpNYXRoLmZsb29yKERhdGUubm93KCkvMWUzKSxzZXE6cUQscmVxdWVzdElkOnFELHZlcnNpb246T0MsY25hbWU6aS5jbmFtZX0sbz17c2VydmljZV9uYW1lOnQsanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KHMpfTtsZXQgYSxjLGQ9ZVswXTtyZXR1cm4gWFMoKGFzeW5jKCk9PnthPURhdGUubm93KCk7Y29uc3QgZT1hd2FpdCBNRChkLHtkYXRhOm8sY2FuY2VsVG9rZW46bixoZWFkZXJzOntcIlgtUGFja2V0LVNlcnZpY2UtVHlwZVwiOlwiMFwiLFwiWC1QYWNrZXQtVVJJXCI6XCI2MVwifX0pO2lmKGM9RGF0ZS5ub3coKS1hLDAhPT1lLmNvZGUpe2NvbnN0IHQ9bmV3IE12KHhnLlVORVhQRUNURURfUkVTUE9OU0UsXCJsaXZlIHN0cmVhbWluZyBhcCBlcnJvciwgY29kZVwiK2UuY29kZSx7cmV0cnk6ITAscmVzcG9uc2VUaW1lOmN9KTt0aHJvdyBXQy5lcnJvcih0LnRvU3RyaW5nKCkpLHR9Y29uc3QgaT1KU09OLnBhcnNlKGUuanNvbl9ib2R5KTtpZigyMDAhPT1pLmNvZGUpe2NvbnN0IGU9bmV3IE12KHhnLlVORVhQRUNURURfUkVTUE9OU0UsXCJsaXZlIHN0cmVhbWluZyBhcHAgY2VudGVyIGVycm9yLCBjb2RlOiBcIi5jb25jYXQoaS5jb2RlLFwiLCByZWFzb246IFwiKS5jb25jYXQoaS5yZWFzb24pLHtjb2RlOmkuY29kZSxyZXNwb25zZVRpbWU6Y30pO3Rocm93IFdDLmVycm9yKGUudG9TdHJpbmcoKSksZX1pZighaS5zZXJ2ZXJzfHwwPT09aS5zZXJ2ZXJzLmxlbmd0aCl7Y29uc3QgZT1uZXcgTXYoeGcuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImxpdmUgc3RyZWFtaW5nIGFwcCBjZW50ZXIgZW1wdHkgc2VydmVyXCIse2NvZGU6aS5jb2RlLHJlc3BvbnNlVGltZTpjfSk7dGhyb3cgV0MuZXJyb3IoZS50b1N0cmluZygpKSxlfWNvbnN0IHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm57YWRkcmVzc0xpc3Q6ZS5zZXJ2ZXJzLm1hcCgoZT0+XCJ3c3M6Ly9cIi5jb25jYXQoZS5hZGRyZXNzLnJlcGxhY2UoL1xcLi9nLFwiLVwiKSxcIi5cIikuY29uY2F0KGtDKFwiV09SS0VSX0RPTUFJTlwiKSxcIjpcIikuY29uY2F0KGUud3NzLFwiP3NlcnZpY2VOYW1lPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHQpKSkpLHdvcmtlclRva2VuOmUud29ya2VyVG9rZW4sdmlkOmUudmlkfX0oaSx0KTtyZXR1cm4ga0MoXCJMSVZFX1NUUkVBTUlOR19BRERSRVNTXCIpJiYoci5hZGRyZXNzTGlzdD1rQyhcIkxJVkVfU1RSRUFNSU5HX0FERFJFU1NcIilpbnN0YW5jZW9mIEFycmF5P2tDKFwiTElWRV9TVFJFQU1JTkdfQUREUkVTU1wiKTpba0MoXCJMSVZFX1NUUkVBTUlOR19BRERSRVNTXCIpXSksWUQoWUQoe30scikse30se3Jlc3BvbnNlVGltZTpjfSl9KSwoKG4scik9Pihpdi5hcHdvcmtlckV2ZW50KGkuc2lkLHtzdWNjZXNzOiEwLHNjOjIwMCxzZXJ2aWNlTmFtZTp0LHJlc3BvbnNlRGV0YWlsOkpTT04uc3RyaW5naWZ5KG4uYWRkcmVzc0xpc3QpLGZpcnN0U3VjY2VzczowPT09cixyZXNwb25zZVRpbWU6YyxzZXJ2ZXJJcDplW3IlZS5sZW5ndGhdfSksITEpKSwoKG4scik9Pihpdi5hcHdvcmtlckV2ZW50KGkuc2lkLHtzdWNjZXNzOiExLHNjOm4uZGF0YSYmbi5kYXRhLmNvZGV8fDIwMCxzZXJ2aWNlTmFtZTp0LHJlc3BvbnNlVGltZTpjLHNlcnZlcklwOmVbciVlLmxlbmd0aF19KSwhIShuLmNvZGUhPT14Zy5PUEVSQVRJT05fQUJPUlRFRCYmbi5jb2RlIT09eGcuVU5FWFBFQ1RFRF9SRVNQT05TRXx8bi5kYXRhJiZuLmRhdGEucmV0cnkpJiYoZD1lWyhyKzEpJWUubGVuZ3RoXSwhMCkpKSxyKX1sZXQgekQ9MTtmdW5jdGlvbiBYRChlLHQsaSxuKXtsZXR7dXJsOnIsYXJlYUNvZGU6c309ZTtjb25zdCBvPURhdGUubm93KCk7bGV0IGE7Y29uc3RbYyxkXT10UCh0LHMsW2R5LkNIT09TRV9TRVJWRVJdKTtsZXQgbD1SUy5uZXR3b3JrU3RhdGU7cmV0dXJuIFhTKChhc3luYygpPT57bCYmUlMubmV0d29ya1N0YXRlPT09aFMuT0ZGTElORSYmUlMub25saW5lV2FpdGVyJiZhd2FpdCB0Zy5yYWNlKFtSUy5vbmxpbmVXYWl0ZXIsVVMobiYmbi5tYXhSZXRyeVRpbWVvdXR8fEpTLm1heFJldHJ5VGltZW91dCldKSxsPVJTLm5ldHdvcmtTdGF0ZTtjb25zdHtkYXRhOmUsaGVhZGVyczpzfT1hd2FpdCBNRChyLHtkYXRhOmMsY2FuY2VsVG9rZW46aSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwibXVsdGlwYXJ0L2Zvcm0tZGF0YTtcIn19LCEwLCEwKTthPVwiMVwiPT09cy5odHRwMz8xOi0xLGl2LnJlcG9ydFJlc291cmNlVGltaW5nKHIsdC5zaWQpLFpEKGUscix0LG8sW2R5LkNIT09TRV9TRVJWRVJdLGEpO2NvbnN0IGQ9ZkQoZSxkeS5DSE9PU0VfU0VSVkVSKTtyZXR1cm4gJEQoZCksdUQoZCxyKX0pLChlPT4oZSYmaXYuam9pbkNob29zZVNlcnZlcih0LnNpZCx7bHRzOm8sc3VjYzohMCxjc0FkZHI6cixvcGlkOmQsc2VydmVyTGlzdDplLmdhdGV3YXlBZGRycy5tYXAoKGU9PmUuYWRkcmVzcykpLGVjOm51bGwsY2lkOmUuY2lkLnRvU3RyaW5nKCksdWlkOmUudWlkLnRvU3RyaW5nKCksY3NJcDplLmNzSXAsdW5pbGJzU2VydmVySWRzOltkeS5DSE9PU0VfU0VSVkVSXS50b1N0cmluZygpLGlzSHR0cDM6YX0pLCExKSksKGU9PmUuY29kZSE9PXhnLk9QRVJBVElPTl9BQk9SVEVEJiYoZS5jb2RlPT09eGcuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVI/ZS5kYXRhLnJldHJ5Oihpdi5qb2luQ2hvb3NlU2VydmVyKHQuc2lkLHtsdHM6byxzdWNjOiExLGNzQWRkcjpyLHNlcnZlckxpc3Q6bnVsbCxvcGlkOmQsZWM6ZS5jb2RlLGNzSXA6ZS5kYXRhJiZlLmRhdGEuY3NJcCx1bmlsYnNTZXJ2ZXJJZHM6W2R5LkNIT09TRV9TRVJWRVJdLnRvU3RyaW5nKCksZXh0ZW5kOkpTT04uc3RyaW5naWZ5KHtuZXR3b3JrU3RhdGU6bH0pLGlzSHR0cDM6YX0pLFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIENob29zZSBzZXJ2ZXIgbmV0d29yayBlcnJvciwgcmV0cnlcIiksZSksITApKSksbil9ZnVuY3Rpb24gUUQoZSx0LGksbil7bGV0IHIse3VybDpzLGFyZWFDb2RlOm8sc2VydmljZUlkczphfT1lO2NvbnN0IGM9RGF0ZS5ub3coKSxbZCxsXT10UCh0LG8sYSk7bGV0IGg7cmV0dXJuIFhTKChhc3luYygpPT57aCYmUlMubmV0d29ya1N0YXRlPT09aFMuT0ZGTElORSYmUlMub25saW5lV2FpdGVyJiZhd2FpdCB0Zy5yYWNlKFtSUy5vbmxpbmVXYWl0ZXIsVVMobiYmbi5tYXhSZXRyeVRpbWVvdXR8fEpTLm1heFJldHJ5VGltZW91dCldKSxoPVJTLm5ldHdvcmtTdGF0ZTtjb25zdHtkYXRhOmUsaGVhZGVyczpvfT1hd2FpdCBNRChzLHtkYXRhOmQsY2FuY2VsVG9rZW46aSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwibXVsdGlwYXJ0L2Zvcm0tZGF0YTtcIn19LCEwLCEwKTtyPVwiMVwiPT09by5odHRwMz8xOi0xLGl2LnJlcG9ydFJlc291cmNlVGltaW5nKHMsdC5zaWQpLFpEKGUscyx0LGMsYSxyKTtjb25zdCBsPWZEKGUsZHkuQ0hPT1NFX1NFUlZFUiksdT1mRChlLFwicHJveHk1XCI9PT10LmNsb3VkUHJveHlTZXJ2ZXI/ZHkuQ0xPVURfUFJPWFlfNTpcInByb3h5M1wiPT09dC5jbG91ZFByb3h5U2VydmVyfHxcInByb3h5NFwiPT09dC5jbG91ZFByb3h5U2VydmVyP2R5LkNMT1VEX1BST1hZOmR5LkNMT1VEX1BST1hZX0ZBTExCQUNLKTtyZXR1cm4gJEQobCkse2dhdGV3YXlJbmZvOnVEKGwscykscHJveHlJbmZvOnUsdXJsOnN9fSksKGU9PihlLmdhdGV3YXlJbmZvJiZpdi5qb2luQ2hvb3NlU2VydmVyKHQuc2lkLHtsdHM6YyxzdWNjOiEwLGNzQWRkcjpzLHNlcnZlckxpc3Q6ZS5nYXRld2F5SW5mby5nYXRld2F5QWRkcnMubWFwKChlPT5lLmFkZHJlc3MpKSxlYzpudWxsLG9waWQ6bCxjaWQ6ZS5nYXRld2F5SW5mby5jaWQudG9TdHJpbmcoKSx1aWQ6ZS5nYXRld2F5SW5mby51aWQudG9TdHJpbmcoKSxjc0lwOmUuZ2F0ZXdheUluZm8uY3NJcCx1bmlsYnNTZXJ2ZXJJZHM6YS50b1N0cmluZygpLGlzSHR0cDM6cn0pLGUucHJveHlJbmZvJiZpdi5qb2luV2ViUHJveHlBUCh0LnNpZCx7bHRzOmMsc3VjZXNzOjEsYXBTZXJ2ZXJBZGRyOnMsdHVyblNlcnZlckFkZHJMaXN0OmUucHJveHlJbmZvLmFkZHJlc3Nlcy5tYXAoKGU9PmUuaXApKS5qb2luKFwiLFwiKSxlcnJvckNvZGU6bnVsbCxldmVudFR5cGU6dC5jbG91ZFByb3h5U2VydmVyLHVuaWxic1NlcnZlcklkczphLnRvU3RyaW5nKCl9KSwhMSkpLChlPT5lLmNvZGUhPT14Zy5PUEVSQVRJT05fQUJPUlRFRCYmKGUuY29kZT09PXhnLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSP2UuZGF0YS5yZXRyeTooaXYuam9pbldlYlByb3h5QVAodC5zaWQse2x0czpjLHN1Y2VzczowLGFwU2VydmVyQWRkcjpzLHR1cm5TZXJ2ZXJBZGRyTGlzdDpudWxsLGVycm9yQ29kZTplLmNvZGUsZXZlbnRUeXBlOnQuY2xvdWRQcm94eVNlcnZlcix1bmlsYnNTZXJ2ZXJJZHM6YS50b1N0cmluZygpLGV4dGVuZDpKU09OLnN0cmluZ2lmeSh7bmV0d29ya1N0YXRlOmh9KX0pLFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHQuY2xpZW50SWQsXCJdIG11bHRpIHVuaWxicyBuZXR3b3JrIGVycm9yLCByZXRyeVwiKSxlKSwhMCkpKSxuKX1jb25zdCBaRD0oZSx0LGksbixyLHMpPT57Y29uc3Qgbz1bXSxhPW89Pns0MDk2PT09by5mbGFnP2l2LmpvaW5DaG9vc2VTZXJ2ZXIoaS5zaWQse2x0czpuLHN1Y2M6ITEsY3NBZGRyOnQsb3BpZDplLm9waWQsc2VydmVyTGlzdDpudWxsLGVjOm8uZXJyb3IubWVzc2FnZSxjc0lwOm8uZXJyb3IuZGF0YSYmby5lcnJvci5kYXRhLmNzSXAsdW5pbGJzU2VydmVySWRzOnIudG9TdHJpbmcoKSxpc0h0dHAzOnN9KToxMDQ4NTc2IT09by5mbGFnJiY0MTk0MzA0IT09by5mbGFnJiY0MTk0MzEwIT09by5mbGFnfHxpdi5qb2luV2ViUHJveHlBUChpLnNpZCx7bHRzOm4sc3VjZXNzOjAsYXBTZXJ2ZXJBZGRyOnQsdHVyblNlcnZlckFkZHJMaXN0Om51bGwsZXJyb3JDb2RlOm8uZXJyb3IuY29kZSxldmVudFR5cGU6aS5jbG91ZFByb3h5U2VydmVyLHVuaWxic1NlcnZlcklkczpyLnRvU3RyaW5nKCl9KX07aWYoZS5yZXNwb25zZV9ib2R5LmZvckVhY2goKHQ9Pntjb25zdCBpPXQuYnVmZmVyLmNvZGU7aWYoMjM9PT10LnVyaSYmMD09PWkmJiF0LmJ1ZmZlci5lZGdlc19zZXJ2aWNlcylpZig0MTk0MzEwPT09dC5idWZmZXIuZmxhZylXQy53YXJuaW5nKFwibm8gZWRnZSBzZXJ2aWNlcyBpbiBhcCByZXNwb25zZSBvZiBwcm94eSBmYWxsYmFjaywgd2lsbCBub3Qgc2V0IHByb3h5IGluIGljZVNlcnZlcnNcIiksdC5idWZmZXIuZWRnZXNfc2VydmljZXM9W107ZWxzZXtjb25zdCBpPXtlcnJvcjpuZXcgTXYoeGcuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVIsXCJubyBlZGdlIHNlcnZpY2VzIGluIGFwIHJlc3BvbnNlXCIse3JldHJ5OiEwLGNzSXA6ZS5kZXRhaWxbNTAyXX0pLGZsYWc6dC5idWZmZXIuZmxhZ307by5wdXNoKGkpLGEoaSl9aWYoMCE9PWkpe2NvbnN0IG49UEkoaSkscj17ZXJyb3I6bmV3IE12KHhnLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSLG4uZGVzYyx7ZGVzYzpuLmRlc2MscmV0cnk6bi5yZXRyeSxjc0lwOmUuZGV0YWlsWzUwMl19KSxmbGFnOnQuYnVmZmVyLmZsYWd9OzQxOTQzMTA9PT10LmJ1ZmZlci5mbGFnP1dDLndhcm5pbmcoci5lcnJvci50b1N0cmluZygpKTpvLnB1c2gociksYShyKX19KSksby5sZW5ndGgpdGhyb3cgV0Mud2FybmluZyhcIltcIi5jb25jYXQoaS5jbGllbnRJZCxcIl0gbXVsdGkgdW5pbGJzIFwiKS5jb25jYXQodCxcIiBmYWlsZWQsIFwiKS5jb25jYXQoby5tYXAoKGU9PlwiZmxhZzogXCIuY29uY2F0KGUuZmxhZyxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdChlLmVycm9yLm1lc3NhZ2UsXCIsIHJldHJ5OiBcIikuY29uY2F0KGUuZXJyb3IuZGF0YS5yZXRyeSkpKS5qb2luKFwiIHwgXCIpKSksbmV3IE12KHhnLkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSLG8ubWFwKChlPT5cImZsYWc6IFwiLmNvbmNhdChlLmZsYWcsXCIsIG1lc3NhZ2U6IFwiKS5jb25jYXQoZS5lcnJvci5tZXNzYWdlKSkpLmpvaW4oXCIgfCBcIikse3JldHJ5OiEhby5maW5kKChlPT5lLmVycm9yLmRhdGEucmV0cnkpKSxjc0lwOmUuZGV0YWlsWzUwMl0sZGVzYzpbLi4ubmV3IFNldChvLm1hcCgoZT0+e3ZhciB0O3JldHVybiBudWxsPT1lfHxudWxsPT09KHQ9ZS5lcnJvcil8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LmRhdGEpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmRlc2N9KSkuZmlsdGVyKChlPT4hIWUpKSldfSl9LCREPWU9Pnt2YXIgdCxpLG4scjtpZihlLmFkZHJlc3NlcyYmMD09PWUuYWRkcmVzc2VzLmxlbmd0aCYmMD09PWUuY29kZSl0aHJvdyBuZXcgTXYoeGcuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVIsXCJ2b2lkIGdhdGV3YXkgYWRkcmVzc1wiLHtyZXRyeTohMCxjc0lwOmUuZGV0YWlsJiZlLmRldGFpbFs1MDJdfSk7a0MoXCJBUF9BUkVBXCIpJiYobnVsbCE9PShuPWUuZGV0YWlsKSYmdm9pZCAwIT09biYmblsyM10mJlwic3RyaW5nXCI9PXR5cGVvZihudWxsPT09KHI9ZS5kZXRhaWwpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyWzIzXSk/V0QoZS5kZXRhaWxbMjNdLnRvTG93ZXJDYXNlKCkpOldEKCkpO2lmKG51bGwhPT0odD1lLmRldGFpbCkmJnZvaWQgMCE9PXQmJnRbMTldJiZcInN0cmluZ1wiPT10eXBlb2YobnVsbD09PShpPWUuZGV0YWlsKXx8dm9pZCAwPT09aT92b2lkIDA6aVsxOV0pKXtjb25zdCB0PWUuZGV0YWlsWzE5XSxpPW51bGw9PXQ/dm9pZCAwOnQuc3BsaXQoXCI7XCIpO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKXt2YXIgcztjb25zdCBuPUV5KHM9aVt0XSkuY2FsbChzKTtlLmFkZHJlc3Nlc1t0XSYmaSYmKGUuYWRkcmVzc2VzW3RdLmZpbmdlcnByaW50PW4pfX1pZihrQyhcIkdBVEVXQVlfQUREUkVTU1wiKSYma0MoXCJHQVRFV0FZX0FERFJFU1NcIikubGVuZ3RoPjApe1dDLmRlYnVnKFwiYXNzaWduIGdhdGV3YXkgYWRkcmVzcyB0b1wiLGtDKFwiR0FURVdBWV9BRERSRVNTXCIpKTtjb25zdCB0PWtDKFwiR0FURVdBWV9BRERSRVNTXCIpLm1hcCgodD0+e3ZhciBpLG47Y29uc3Qgcj1udWxsIT09KGk9bnVsbD09PShuPWUuYWRkcmVzc2VzLmZpbmQoKGU9PmUuaXA9PT10LmlwJiZlLnBvcnQ9PT10LnBvcnQpKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZmluZ2VycHJpbnQpJiZ2b2lkIDAhPT1pP2k6XCJcIjtyZXR1cm57aXA6dC5pcCxwb3J0OnQucG9ydCx0aWNrZXQ6ZS5hZGRyZXNzZXNbMF0mJmUuYWRkcmVzc2VzWzBdLnRpY2tldCxmaW5nZXJwcmludDpyfX0pKTtlLmFkZHJlc3Nlcz10fX0sZVA9KGUsdCk9PntpZihlLnJlc3BvbnNlX2JvZHkmJmUucmVzcG9uc2VfYm9keS5sZW5ndGgpe2NvbnN0IHQ9ZS5yZXNwb25zZV9ib2R5WzBdO2lmKDAhPT10LmJ1ZmZlci5jb2RlKXtjb25zdCBlPVBJKHQuYnVmZmVyLmNvZGUpO3Rocm93IG5ldyBNdih4Zy5VUERBVEVfVElDS0VUX0ZBSUxFRCxcIltcIi5jb25jYXQodC5idWZmZXIuY29kZSxcIl06IFwiKS5jb25jYXQoZS5kZXNjKSx7cmV0cnk6ZS5yZXRyeX0pfXJldHVybiB0LmJ1ZmZlci50aWNrZXR9dGhyb3cgV0MuZGVidWcoXCJ1cGRhdGUgdGlja2V0IHJlcXVlc3QgcmVjZWl2ZWQgYXAgcmVzcG9uc2Ugd2l0aG91dCByZXNwb25zZSBib2R5OlwiLHQpLG5ldyBNdih4Zy5VUERBVEVfVElDS0VUX0ZBSUxFRCxcImNhbm5vdCBmaW5kIHJlc3BvbnNlIGJvZHkgZnJvbSBhcCByZXNwb25zZVwiLHtyZXRyeTohMX0pfSx0UD0oZSx0LGkpPT57Y29uc3Qgbj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAqKjEyKSxyPXthcHBpZDplLmFwcElkLGNsaWVudF90czpEYXRlLm5vdygpLG9waWQ6bixzaWQ6ZS5zaWQscmVxdWVzdF9ib2RpZXM6W3t1cmk6MjIsYnVmZmVyOntjbmFtZTplLmNuYW1lLGRldGFpbDpZRCh7NjplLnN0cmluZ1VpZCwxMTp0LDEyOmtDKFwiVVNFX05FV19UT0tFTlwiKT9cIjFcIjp2b2lkIDAsMjI6dH0sa0MoXCJBUF9SVE1cIik/ezI2OlwiUlRNMlwifTp7fSksa2V5OmUudG9rZW4sc2VydmljZV9pZHM6aSx1aWQ6ZS51aWR8fDB9fV19O3IucmVxdWVzdF9ib2RpZXMuZm9yRWFjaCgodD0+e2UubXVsdGlJUCYmZS5tdWx0aUlQLmdhdGV3YXlfaXAmJih0LmJ1ZmZlci5kZXRhaWxbNV09SlNPTi5zdHJpbmdpZnkoe3ZvY3NfaXA6W2UubXVsdGlJUC51bmlfbGJzX2lwXSx2b3NfaXA6W2UubXVsdGlJUC5nYXRld2F5X2lwXX0pKX0pKTtjb25zdCBzPW5ldyBGb3JtRGF0YTtyZXR1cm4gcy5hcHBlbmQoXCJyZXF1ZXN0XCIsSlNPTi5zdHJpbmdpZnkocikpLFtzLG5dfSxpUD0oZSx0KT0+e2NvbnN0IGk9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwKioxMiksbj17YXBwaWQ6ZS5hcHBJZCxjbGllbnRfdHM6RGF0ZS5ub3coKSxvcGlkOmksc2lkOmUuc2lkLHJlcXVlc3RfYm9kaWVzOlt7dXJpOjI4LGJ1ZmZlcjp7Y25hbWU6ZS5jbmFtZSxkZXRhaWw6ezE6XCJcIiw2OmUuc3RyaW5nVWlkLDEyOlwiMVwifSx0b2tlbjplLnRva2VuLHNlcnZpY2VfaWRzOnQsdWlkOmUudWlkfHwwLGVkZ2VzX3NlcnZpY2VzOmUuYXBSZXNwb25zZS5hZGRyZXNzZXMubWFwKChlPT4oe2lwOmUuaXAscG9ydDplLnBvcnR9KSkpfX1dfSxyPW5ldyBGb3JtRGF0YTtyZXR1cm4gci5hcHBlbmQoXCJyZXF1ZXN0XCIsSlNPTi5zdHJpbmdpZnkobikpLFtyLGldfTtsZXQgblA9MDtmdW5jdGlvbiByUChlKXtyZXR1cm4gdGcuYWxsKGUubWFwKChlPT5lLnRoZW4oKGU9Pnt0aHJvdyBlfSksKGU9PmUpKSkpKS50aGVuKChlPT57dGhyb3cgZX0pLChlPT5lKSl9Y29uc3Qgc1A9YXN5bmMgZT0+e2xldHtmcmFnZW1lbnRMZW5ndGg6dCxyZWZlcmVuY2VMaXN0OmksYXN5bmNNYXBIYW5kbGVyOm4sYWxsRmFpbGVkaGFuZGxlcjpyLHByb21pc2VzQ29sbGVjdG9yOnN9PWUsbz0wO2NvbnN0IGE9dDtsZXQgYyxkPTA7Y29uc3QgbD1hc3luYygpPT57Y29uc3QgZT0oKCk9Pntjb25zdCBlPW8qYSx0PWUrYTtyZXR1cm4gaS5zbGljZShlLHQpLm1hcChuKX0pKCk7cyYmcy5wdXNoKC4uLmUpO3RyeXtjPWF3YWl0IHJQKGUpfWNhdGNoKGUpe2lmKGQrPWEsbysrLCEoZD49aS5sZW5ndGgpKXJldHVybiB2b2lkIGF3YWl0IGwoKTtyKGUpfWUuZm9yRWFjaCgoZT0+ZS5jYW5jZWwoKSkpfTtyZXR1cm4gYXdhaXQgbCgpLGN9O2FzeW5jIGZ1bmN0aW9uIG9QKGUsdCxpLG4pe2NvbnN0IHI9YXN5bmMgZnVuY3Rpb24oZSx0LGksbil7bGV0IHI9bnVsbDtjb25zdCBzPVtdLG89YXN5bmMoKT0+e2NvbnN0IHI9a0MoXCJXRUJDU19ET01BSU5cIikuc2xpY2UoMCxrQyhcIkFKQVhfUkVRVUVTVF9DT05DVVJSRU5UXCIpKS5tYXAoKHQ9Pih7dXJsOmUucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdChlLnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdCh0K1wiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKTpcImh0dHBzOi8vXCIuY29uY2F0KHQsXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpLGFyZWFDb2RlOlVEKCl9KSkpLG89bi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3N0YXJ0VHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJwZW5kaW5nXCIsc2VydmljZTpcImNob29zZVNlcnZlclwiLHVybHM6ci5tYXAoKGU9PmUudXJsKSl9KSxhPWF3YWl0IHNQKHtmcmFnZW1lbnRMZW5ndGg6a0MoXCJGUkFHRU1FTlRfTEVOR1RIXCIpLHJlZmVyZW5jZUxpc3Q6cixhc3luY01hcEhhbmRsZXI6bj0+KFdDLmRlYnVnKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSBDb25uZWN0IHRvIGNob29zZV9zZXJ2ZXI6XCIpLG4udXJsKSxYRChuLGUsdCxpKSksYWxsRmFpbGVkaGFuZGxlcjplPT57dGhyb3cgbi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwiZXJyb3JcIixlcnJvcnM6ZX0sbyksZVswXX0scHJvbWlzZXNDb2xsZWN0b3I6c30pO3JldHVybiBuLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJzdWNjZXNzXCJ9LG8pLGF9LGE9YXN5bmMoKT0+e2lmKGF3YWl0IFVTKDFlMyksbnVsbCE9PXIpcmV0dXJuIHI7Y29uc3Qgbz1rQyhcIldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVFwiKS5tYXAoKHQ9Pih7dXJsOmUucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdChlLnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdCh0K1wiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKTpcImh0dHBzOi8vXCIuY29uY2F0KHQsXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpLGFyZWFDb2RlOlVEKCl9KSkpLGE9bi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOnZvaWQgMCxzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJjaG9vc2VTZXJ2ZXJcIix1cmxzOm8ubWFwKChlPT5lLnVybCkpfSksYz1hd2FpdCBzUCh7ZnJhZ2VtZW50TGVuZ3RoOmtDKFwiRlJBR0VNRU5UX0xFTkdUSFwiKSxyZWZlcmVuY2VMaXN0Om8sYXN5bmNNYXBIYW5kbGVyOm49PihXQy5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gQ29ubmVjdCB0byBiYWNrdXAgY2hvb3NlX3NlcnZlcjpcIiksbi51cmwpLFhEKG4sZSx0LGkpKSxhbGxGYWlsZWRoYW5kbGVyOmU9Pnt0aHJvdyBuLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJlcnJvclwiLGVycm9yczplfSxhKSxlWzBdfSxwcm9taXNlc0NvbGxlY3RvcjpzfSk7cmV0dXJuIG4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcInN1Y2Nlc3NcIn0sYSksY307dHJ5e3JldHVybiByPWF3YWl0IHJQKFtvKCksYSgpXSkscy5sZW5ndGgmJnMuZm9yRWFjaCgoZT0+ZS5jYW5jZWwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY2FuY2VsJiZlLmNhbmNlbCgpKSkscn1jYXRjaChlKXt0aHJvdyBlWzBdfX0oZSx0LGksbik7cmV0dXJue2dhdGV3YXlJbmZvOmF3YWl0IHJ9fWFzeW5jIGZ1bmN0aW9uIGFQKGUsdCxpLG4scil7Y29uc3Qgcz1lLmNsb3VkUHJveHlTZXJ2ZXI7aWYoXCJkaXNhYmxlZFwiPT09cyl7aWYoIW4pcmV0dXJuO2lmKGUudXNlTG9jYWxBY2Nlc3NQb2ludClyZXR1cm4gYXdhaXQgb1AoZSx0LGkscik7aWYoa0MoXCJKT0lOX1dJVEhfRkFMTEJBQ0tfTUVESUFfUFJPWFlcIikpe2NvbnN0e2dhdGV3YXlJbmZvOm4scHJveHlJbmZvOnN9PWF3YWl0IGxQKGUsdCxpLHIpO3JldHVybiBlLnR1cm5TZXJ2ZXImJlwiYXV0b1wiIT09ZS50dXJuU2VydmVyLm1vZGV8fChlLnR1cm5TZXJ2ZXI9e21vZGU6XCJtYW51YWxcIixzZXJ2ZXJzOnMubWFwKChlPT4oe3R1cm5TZXJ2ZXJVUkw6ZS5hZGRyZXNzLHRjcHBvcnQ6ZS50Y3Bwb3J0fHxydi50Y3Bwb3J0LHVkcHBvcnQ6ZS51ZHBwb3J0fHxydi51ZHBwb3J0LHVzZXJuYW1lOmUudXNlcm5hbWV8fHJ2LnVzZXJuYW1lLHBhc3N3b3JkOmUucGFzc3dvcmR8fHJ2LnBhc3N3b3JkLGZvcmNldHVybjohMSxzZWN1cml0eTohMH0pKSl9KSx7Z2F0ZXdheUluZm86bn19cmV0dXJuIGF3YWl0IG9QKGUsdCxpLHIpfWNvbnN0e3Byb3h5SW5mbzpvLGdhdGV3YXlJbmZvOmF9PWF3YWl0IGxQKGUsdCxpLHIpLGM9e2dhdGV3YXlJbmZvOmF9O3JldHVybiBlLnR1cm5TZXJ2ZXI9e21vZGU6XCJtYW51YWxcIixzZXJ2ZXJzOm8ubWFwKChlPT4oe3R1cm5TZXJ2ZXJVUkw6ZS5hZGRyZXNzLHRjcHBvcnQ6XCJwcm94eTNcIj09PXM/dm9pZCAwOmUudGNwcG9ydD9lLnRjcHBvcnQ6cnYudGNwcG9ydCx1ZHBwb3J0OlwicHJveHk0XCI9PT1zP3ZvaWQgMDplLnVkcHBvcnQ/ZS51ZHBwb3J0OnJ2LnVkcHBvcnQsdXNlcm5hbWU6ZS51c2VybmFtZXx8cnYudXNlcm5hbWUscGFzc3dvcmQ6ZS5wYXNzd29yZHx8cnYucGFzc3dvcmQsZm9yY2V0dXJuOlwicHJveHk0XCIhPT1zLHNlY3VyaXR5OlwicHJveHk1XCI9PT1zfSkpKX0sV0MuZGVidWcoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIHNldCBwcm94eSBzZXJ2ZXI6IFwiKS5jb25jYXQoZS5wcm94eVNlcnZlcixcIiwgbW9kZTogXCIpLmNvbmNhdChzKSksY31hc3luYyBmdW5jdGlvbiBjUChlLHQsaSxuLHIpe2NvbnN0IHM9a0MoXCJBQ0NPVU5UX1JFR0lTVEVSXCIpLnNsaWNlKDAsa0MoXCJBSkFYX1JFUVVFU1RfQ09OQ1VSUkVOVFwiKSk7bGV0IG89W107bz10LnByb3h5U2VydmVyP3MubWFwKChlPT5cImh0dHBzOi8vXCIuY29uY2F0KHQucHJveHlTZXJ2ZXIsXCIvYXAvP3VybD1cIikuY29uY2F0KGUrXCIvYXBpL3YxXCIpKSk6cy5tYXAoKGU9PlwiaHR0cHM6Ly9cIi5jb25jYXQoZSxcIi9hcGkvdjFcIikpKTtjb25zdCBhPW51bGw9PXI/dm9pZCAwOnIucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJzdHJpbmdVSURcIix1cmxzOm99KTt0cnl7Y29uc3Qgcz1hd2FpdCBhc3luYyBmdW5jdGlvbihlLHQsaSxuLHIpe2NvbnN0IHM9RGF0ZS5ub3coKSxvPXtzaWQ6aS5zaWQsb3BpZDoxMCxhcHBpZDppLmFwcElkLHN0cmluZ191aWQ6dH07bGV0IGE9ZVswXTtjb25zdCBjPWF3YWl0IFhTKCgoKT0+TUQoYStcIlwiLmNvbmNhdCgtMT09PWEuaW5kZXhPZihcIj9cIik/XCI/XCI6XCImXCIsXCJhY3Rpb249c3RyaW5ndWlkXCIpLHtkYXRhOm8sY2FuY2VsVG9rZW46bixoZWFkZXJzOntcIlgtUGFja2V0LVNlcnZpY2UtVHlwZVwiOjAsXCJYLVBhY2tldC1VUklcIjo3Mn19KSksKChpLG4pPT57aWYoMD09PWkuY29kZSl7aWYoaS51aWQ8PTB8fGkudWlkPj1NYXRoLnBvdygyLDMyKSl0aHJvdyBXQy5lcnJvcihcIkludmFsaWQgVWludCBVaWQgXCIuY29uY2F0KHQsXCIgPT4gXCIpLmNvbmNhdChpLnVpZCksaSksaXYucmVxVXNlckFjY291bnQoby5zaWQse2x0czpzLHN1Y2Nlc3M6ITEsc2VydmVyQWRkcjphLHN0cmluZ1VpZDpvLnN0cmluZ191aWQsdWlkOmkudWlkLGVycm9yQ29kZTp4Zy5JTlZBTElEX1VJTlRfVUlEX0ZST01fU1RSSU5HX1VJRCxleHRlbmQ6b30pLG5ldyBNdih4Zy5JTlZBTElEX1VJTlRfVUlEX0ZST01fU1RSSU5HX1VJRCk7cmV0dXJuIGl2LnJlcVVzZXJBY2NvdW50KG8uc2lkLHtsdHM6cyxzdWNjZXNzOiEwLHNlcnZlckFkZHI6YSxzdHJpbmdVaWQ6by5zdHJpbmdfdWlkLHVpZDppLnVpZCxlcnJvckNvZGU6bnVsbCxleHRlbmQ6b30pLCExfWNvbnN0IHI9UEkoaS5jb2RlKTtyZXR1cm4gci5yZXRyeSYmKGE9ZVsobisxKSVlLmxlbmd0aF0pLGl2LnJlcVVzZXJBY2NvdW50KG8uc2lkLHtsdHM6cyxzdWNjZXNzOiExLHNlcnZlckFkZHI6YSxzdHJpbmdVaWQ6by5zdHJpbmdfdWlkLHVpZDppLnVpZCxlcnJvckNvZGU6ci5kZXNjLGV4dGVuZDpvfSksci5yZXRyeX0pLCgodCxpKT0+dC5jb2RlIT09eGcuT1BFUkFUSU9OX0FCT1JURUQmJihpdi5yZXFVc2VyQWNjb3VudChvLnNpZCx7bHRzOnMsc3VjY2VzczohMSxzZXJ2ZXJBZGRyOmEsc3RyaW5nVWlkOm8uc3RyaW5nX3VpZCx1aWQ6bnVsbCxlcnJvckNvZGU6dC5jb2RlLGV4dGVuZDpvfSksYT1lWyhpKzEpJWUubGVuZ3RoXSwhMCkpLHIpO2lmKDAhPT1jLmNvZGUpe2NvbnN0IGU9UEkoYy5jb2RlKTt0aHJvdyBuZXcgTXYoeGcuVU5FWFBFQ1RFRF9SRVNQT05TRSxlLmRlc2MpfXJldHVybiBjfShvLGUsdCxpLG4pO3JldHVybiBudWxsPT1yfHxyLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhdHVzOlwic3VjY2Vzc1wiLGVuZFRzOkRhdGUubm93KCl9LGEpLHMudWlkfWNhdGNoKGUpe3Rocm93IG51bGw9PXJ8fHIucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGF0dXM6XCJlcnJvclwiLGVuZFRzOkRhdGUubm93KCksZXJyb3JzOltlXX0sYSksZX19YXN5bmMgZnVuY3Rpb24gZFAoZSx0LGkpe2NvbnN0IG49a0MoXCJDRFNfQVBcIikuc2xpY2UoMCxrQyhcIkFKQVhfUkVRVUVTVF9DT05DVVJSRU5UXCIpKS5tYXAoKHQ9PmUucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdChlLnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdCh0K1wiL2FwaS92MVwiKTpcImh0dHBzOi8vXCIuY29uY2F0KHQsXCIvYXBpL3YxP2FjdGlvbj1jb25maWdcIikpKS5tYXAoKG49PmZ1bmN0aW9uKGUsdCxpLG4pe2NvbnN0IHI9cGcoKSxzPXtmbGFnOjY0LGNpcGhlcl9tZXRob2Q6MCxmZWF0dXJlczp7ZGV2aWNlOnIubmFtZSxzeXN0ZW06ci5vcyxzeXN0ZW1fZ2VuZXJhbDpuYXZpZ2F0b3IudXNlckFnZW50LHZlbmRvcjp0LmFwcElkLHZlcnNpb246T0MsY25hbWU6dC5jbmFtZSxzaWQ6dC5zaWQsc2Vzc2lvbl9pZDp0LnNpZCxkZXRhaWw6XCJcIixwcm94eVNlcnZlcjp0LnByb3h5U2VydmVyfX07cmV0dXJuIFhTKCgoKT0+TUQoZSx7ZGF0YTpzLHRpbWVvdXQ6MWUzLGNhbmNlbFRva2VuOmksaGVhZGVyczp7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjowLFwiWC1QYWNrZXQtVVJJXCI6NTR9fSkpLHZvaWQgMCwoZT0+ZS5jb2RlIT09eGcuT1BFUkFUSU9OX0FCT1JURUQpLG4pfShuLGUsdCxpKSkpO2xldCByPW51bGwscz1udWxsLG89e307dHJ5e3I9YXdhaXQgclAobil9Y2F0Y2goZSl7aWYoZS5jb2RlPT09eGcuT1BFUkFUSU9OX0FCT1JURUQpdGhyb3cgZTtzPWV9bi5mb3JFYWNoKChlPT5lLmNhbmNlbCgpKSk7aWYoaXYucmVwb3J0QXBpSW52b2tlKGUuc2lkLHtuYW1lOnNTLlJFUVVFU1RfQ09ORklHX0RJU1RSSUJVVEUsb3B0aW9uczp7ZXJyb3I6cyxyZXM6cn19KS5vblN1Y2Nlc3MoKSxyJiZyLnRlc3RfdGFncyl0cnl7bz1mdW5jdGlvbihlKXtpZighZS50ZXN0X3RhZ3MpcmV0dXJue307Y29uc3QgdD1lLnRlc3RfdGFncyxpPU9iamVjdC5rZXlzKHQpLG49e307cmV0dXJuIGkuZm9yRWFjaCgoZT0+e3ZhciBpO2NvbnN0IHI9RXkoaT1lLnNsaWNlKDQpKS5jYWxsKGkpLHM9SlNPTi5wYXJzZSh0W2VdKVsxXTtuW3JdPXN9KSksbn0ocil9Y2F0Y2goZSl7fXJldHVybiBvfWFzeW5jIGZ1bmN0aW9uIGxQKGUsdCxpLG4pe2NvbnN0IHI9a0MoXCJQUk9YWV9TRVJWRVJfVFlQRTNcIikscz0oZSx0LGkpPT57bGV0IG49aXx8cjtyZXR1cm4gQXJyYXkuaXNBcnJheShuKSYmKG49dCUyPT0wP3JbMV06clswXSksXCJodHRwczovL1wiLmNvbmNhdChuLFwiL2FwLz91cmw9XCIpLmNvbmNhdChlKX07bGV0IG89bnVsbDtjb25zdCBhPVtdLGM9YXN5bmMoKT0+e2NvbnN0IHI9a0MoXCJXRUJDU19ET01BSU5cIikuc2xpY2UoMCxrQyhcIkFKQVhfUkVRVUVTVF9DT05DVVJSRU5UXCIpKS5tYXAoKCh0LGkpPT57bGV0IG47cmV0dXJuIG49XCJkaXNhYmxlZFwiPT09ZS5jbG91ZFByb3h5U2VydmVyJiZlLnByb3h5U2VydmVyP3MoXCJcIi5jb25jYXQodCxcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIiksaSxlLnByb3h5U2VydmVyKTpcImRpc2FibGVkXCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXJ8fFwiZmFsbGJhY2tcIj09PWUuY2xvdWRQcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KHQsXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpOnMoXCJcIi5jb25jYXQodCxcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIiksaSkse3VybDpuLGFyZWFDb2RlOlVEKCksc2VydmljZUlkczpbZHkuQ0hPT1NFX1NFUlZFUixcInByb3h5NVwiPT09ZS5jbG91ZFByb3h5U2VydmVyP2R5LkNMT1VEX1BST1hZXzU6XCJwcm94eTNcIj09PWUuY2xvdWRQcm94eVNlcnZlcnx8XCJwcm94eTRcIj09PWUuY2xvdWRQcm94eVNlcnZlcj9keS5DTE9VRF9QUk9YWTpkeS5DTE9VRF9QUk9YWV9GQUxMQkFDS119fSkpLG89bi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3N0YXJ0VHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJwZW5kaW5nXCIsc2VydmljZTpcImNob29zZVNlcnZlclwiLHVybHM6ci5tYXAoKGU9PmUudXJsKSl9KSxjPWF3YWl0IHNQKHtmcmFnZW1lbnRMZW5ndGg6a0MoXCJGUkFHRU1FTlRfTEVOR1RIXCIpLHJlZmVyZW5jZUxpc3Q6cixhc3luY01hcEhhbmRsZXI6bj0+KFdDLmRlYnVnKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSBDb25uZWN0IHRvIGNob29zZV9zZXJ2ZXI6XCIpLG4udXJsKSxRRChuLGUsdCxpKSksYWxsRmFpbGVkaGFuZGxlcjplPT57dGhyb3cgbi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwiZXJyb3JcIixlcnJvcnM6ZX0sbyksZVswXX0scHJvbWlzZXNDb2xsZWN0b3I6YX0pO3JldHVybiBuLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJzdWNjZXNzXCJ9LG8pLGN9LGQ9YXN5bmMoKT0+e2lmKGF3YWl0IFVTKDFlMyksbnVsbCE9PW8pcmV0dXJuIG87Y29uc3Qgcj1rQyhcIldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVFwiKS5tYXAoKCh0LGkpPT57bGV0IG47cmV0dXJuIG49XCJkaXNhYmxlZFwiPT09ZS5jbG91ZFByb3h5U2VydmVyJiZlLnByb3h5U2VydmVyP3MoXCJcIi5jb25jYXQodCxcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIiksaSxlLnByb3h5U2VydmVyKTpcImRpc2FibGVkXCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXJ8fFwiZmFsbGJhY2tcIj09PWUuY2xvdWRQcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KHQsXCIvYXBpL3YyL3RyYW5zcG9uZC93ZWJydGM/dj0yXCIpOnMoXCJcIi5jb25jYXQodCxcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIiksaSkse3VybDpuLGFyZWFDb2RlOlVEKCksc2VydmljZUlkczpbZHkuQ0hPT1NFX1NFUlZFUixcInByb3h5NVwiPT09ZS5jbG91ZFByb3h5U2VydmVyP2R5LkNMT1VEX1BST1hZXzU6XCJwcm94eTNcIj09PWUuY2xvdWRQcm94eVNlcnZlcnx8XCJwcm94eTRcIj09PWUuY2xvdWRQcm94eVNlcnZlcj9keS5DTE9VRF9QUk9YWTpkeS5DTE9VRF9QUk9YWV9GQUxMQkFDS119fSkpLGM9bi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3N0YXJ0VHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJwZW5kaW5nXCIsc2VydmljZTpcImNob29zZVNlcnZlclwiLHVybHM6ci5tYXAoKGU9PmUudXJsKSl9KSxkPWF3YWl0IHNQKHtmcmFnZW1lbnRMZW5ndGg6a0MoXCJGUkFHRU1FTlRfTEVOR1RIXCIpLHJlZmVyZW5jZUxpc3Q6cixhc3luY01hcEhhbmRsZXI6bj0+KFdDLmRlYnVnKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSBDb25uZWN0IHRvIGJhY2t1cCBjaG9vc2Vfc2VydmVyOlwiKSxuLnVybCksUUQobixlLHQsaSkpLGFsbEZhaWxlZGhhbmRsZXI6ZT0+e3Rocm93IG4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcImVycm9yXCIsZXJyb3JzOmV9LGMpLGVbMF19LHByb21pc2VzQ29sbGVjdG9yOmF9KTtyZXR1cm4gbi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwic3VjY2Vzc1wifSxjKSxkfTtsZXQgbCxoLHU7dHJ5eyh7Z2F0ZXdheUluZm86bCxwcm94eUluZm86aCx1cmw6dX09YXdhaXQgclAoW2MoKSxkKCldKSl9Y2F0Y2goZSl7dGhyb3cgZVswXX1pZihhLmxlbmd0aCYmYS5mb3JFYWNoKChlPT5lLmNhbmNlbCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jYW5jZWwmJmUuY2FuY2VsKCkpKSwhbHx8IWgpdGhyb3cgbmV3IE12KHhnLlVORVhQRUNURURfRVJST1IsXCJtaXNzaW5nIGdhdGV3YXkgb3IgcHJveHkgcmVzcG9uc2VcIikucHJpbnQoKTtpZihlLmFwVXJsPXUsXCJkaXNhYmxlZFwiIT09ZS5jbG91ZFByb3h5U2VydmVyJiZBcnJheS5pc0FycmF5KHIpJiZ1KXtjb25zdCB0PS9eaHR0cHM/OlxcL1xcLyguKz8pKFxcLy4qKT8kLy5leGVjKHUpWzFdO1ByKHIpLmNhbGwocix0KSYmKGUucHJveHlTZXJ2ZXI9dCxXQy5zZXRQcm94eVNlcnZlcih0KSxpdi5zZXRQcm94eVNlcnZlcih0KSl9cmV0dXJuIG89e2dhdGV3YXlJbmZvOmwscHJveHlJbmZvOmF3YWl0IGdEKGgsbC51aWQpfSxvfWFzeW5jIGZ1bmN0aW9uIGhQKGUsdCxpLG4pe2NvbnN0IHI9a0MoXCJVQVBfQVBcIikuc2xpY2UoMCxrQyhcIkFKQVhfUkVRVUVTVF9DT05DVVJSRU5UXCIpKS5tYXAoKGU9PnQucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdCh0LnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdChlK1wiL2FwaS92MT9hY3Rpb249dWFwXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQoZSxcIi9hcGkvdjE/YWN0aW9uPXVhcFwiKSkpO3JldHVybiBhd2FpdCBKRChyLGUsdCxpLG4pfWFzeW5jIGZ1bmN0aW9uIHVQKGUsdCxpKXtjb25zdCBuPWtDKFwiVUFQX0FQXCIpLnNsaWNlKDAsa0MoXCJBSkFYX1JFUVVFU1RfQ09OQ1VSUkVOVFwiKSkubWFwKCh0PT5lLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQoZS5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQodCtcIi9hcGkvdjE/YWN0aW9uPXVhcFwiKTpcImh0dHBzOi8vXCIuY29uY2F0KHQsXCIvYXBpL3YxP2FjdGlvbj11YXBcIikpKS5tYXAoKG49PmZ1bmN0aW9uKGUsdCxpLG4pe2NvbnN0IHI9e2NvbW1hbmQ6XCJjb252ZXJnZUFsbG9jYXRlRWRnZVwiLHNpZDp0LnNpZCxhcHBJZDp0LmFwcElkLHRva2VuOnQudG9rZW4sdHM6RGF0ZS5ub3coKSx2ZXJzaW9uOk9DLGNuYW1lOnQuY25hbWUsdWlkOnQudWlkLnRvU3RyaW5nKCkscmVxdWVzdElkOnpELHNlcTp6RH07ekQrPTE7Y29uc3Qgcz17c2VydmljZV9uYW1lOlwidGVsZV9jaGFubmVsXCIsanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KHIpfTtyZXR1cm4gWFMoKGFzeW5jKCk9Pntjb25zdCB0PWF3YWl0IE1EKGUse2RhdGE6cyxjYW5jZWxUb2tlbjppLGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6MCxcIlgtUGFja2V0LVVSSVwiOjYxfX0pO2lmKDAhPT10LmNvZGUpe2NvbnN0IGU9bmV3IE12KHhnLlVORVhQRUNURURfUkVTUE9OU0UsXCJjcm9zcyBjaGFubmVsIGFwIGVycm9yLCBjb2RlXCIrdC5jb2RlLHtyZXRyeTohMH0pO3Rocm93IFdDLmVycm9yKGUudG9TdHJpbmcoKSksZX1jb25zdCBuPUpTT04ucGFyc2UodC5qc29uX2JvZHkpO2lmKDIwMCE9PW4uY29kZSl7Y29uc3QgZT1uZXcgTXYoeGcuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImNyb3NzIGNoYW5uZWwgYXBwIGNlbnRlciBlcnJvciwgY29kZTogXCIuY29uY2F0KG4uY29kZSxcIiwgcmVhc29uOiBcIikuY29uY2F0KG4ucmVhc29uKSk7dGhyb3cgV0MuZXJyb3IoZS50b1N0cmluZygpKSxlfWlmKCFuLnNlcnZlcnN8fDA9PT1uLnNlcnZlcnMubGVuZ3RoKXtjb25zdCBlPW5ldyBNdih4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiY3Jvc3MgY2hhbm5lbCBhcHAgY2VudGVyIGVtcHR5IHNlcnZlclwiKTt0aHJvdyBXQy5lcnJvcihlLnRvU3RyaW5nKCkpLGV9cmV0dXJue3ZpZDpuLnZpZCx3b3JrZXJUb2tlbjpuLndvcmtlclRva2VuLGFkZHJlc3NMaXN0OihrQyhcIkNIQU5ORUxfTUVESUFfUkVMQVlfU0VSVkVSU1wiKXx8bi5zZXJ2ZXJzKS5tYXAoKGU9Plwid3NzOi8vXCIuY29uY2F0KGUuYWRkcmVzcy5yZXBsYWNlKC9cXC4vZyxcIi1cIiksXCIuXCIpLmNvbmNhdChrQyhcIldPUktFUl9ET01BSU5cIiksXCI6XCIpLmNvbmNhdChlLndzcykpKX19KSx2b2lkIDAsKGU9PiEhKGUuY29kZSE9PXhnLk9QRVJBVElPTl9BQk9SVEVEJiZlLmNvZGUhPT14Zy5VTkVYUEVDVEVEX1JFU1BPTlNFfHxlLmRhdGEmJmUuZGF0YS5yZXRyeSkpLG4pfShuLGUsdCxpKSkpO3RyeXtjb25zdCBlPWF3YWl0IHJQKG4pO3JldHVybiBuLmZvckVhY2goKGU9PmUuY2FuY2VsKCkpKSxlfWNhdGNoKGUpe3Rocm93IGVbMF19fWFzeW5jIGZ1bmN0aW9uIHBQKGUsdCxpKXtsZXQgbj1udWxsO2NvbnN0IHI9W10scz1hc3luYyBzPT57Y29uc3Qgbz1rQyhzP1wiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCI6XCJXRUJDU19ET01BSU5cIikubWFwKCh0PT5lLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQoZS5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQodCtcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6XCJodHRwczovL1wiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSkpO3JldHVybiBzJiYoYXdhaXQgVVMoMWUzKSxudWxsIT09bik/bjphd2FpdCBzUCh7ZnJhZ2VtZW50TGVuZ3RoOmtDKFwiRlJBR0VNRU5UX0xFTkdUSFwiKSxyZWZlcmVuY2VMaXN0Om8sYXN5bmNNYXBIYW5kbGVyOm49PihXQy5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gdXBkYXRlIHRpY2tldCwgQ29ubmVjdCB0byBcIikuY29uY2F0KHM/XCJiYWNrdXBcIjpcIlwiLFwiIGNob29zZV9zZXJ2ZXI6XCIpLG4pLGZ1bmN0aW9uKGUsdCxpLG4pe2NvbnN0W3JdPWlQKHQsW2R5LkNIT09TRV9TRVJWRVJdKTtsZXQgcz1SUy5uZXR3b3JrU3RhdGU7cmV0dXJuIFhTKChhc3luYygpPT57cyYmUlMubmV0d29ya1N0YXRlPT09aFMuT0ZGTElORSYmUlMub25saW5lV2FpdGVyJiZhd2FpdCB0Zy5yYWNlKFtSUy5vbmxpbmVXYWl0ZXIsVVMobiYmbi5tYXhSZXRyeVRpbWVvdXR8fEpTLm1heFJldHJ5VGltZW91dCldKSxzPVJTLm5ldHdvcmtTdGF0ZTtjb25zdCB0PWF3YWl0IE1EKGUse2RhdGE6cixjYW5jZWxUb2tlbjppLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJtdWx0aXBhcnQvZm9ybS1kYXRhO1wifX0sITApO3JldHVybiBlUCh0LGUpfSksKCgpPT4hMSksKGU9PmUuY29kZSE9PXhnLk9QRVJBVElPTl9BQk9SVEVEJiYoZS5jb2RlPT09eGcuVVBEQVRFX1RJQ0tFVF9GQUlMRUQ/ZS5kYXRhLnJldHJ5OihXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSB1cGRhdGUgdGlja2V0IG5ldHdvcmsgZXJyb3IsIHJldHJ5XCIpLGUpLCEwKSkpLG4pfShuLGUsdCxpKSksYWxsRmFpbGVkaGFuZGxlcjplPT57dGhyb3cgZVswXX0scHJvbWlzZXNDb2xsZWN0b3I6cn0pfTt0cnl7cmV0dXJuIG49YXdhaXQgclAoW3MoITEpLHMoITApXSksci5sZW5ndGgmJnIuZm9yRWFjaCgoZT0+ZS5jYW5jZWwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY2FuY2VsJiZlLmNhbmNlbCgpKSksbn1jYXRjaChlKXt0aHJvdyBlWzBdfX1mdW5jdGlvbiBfUChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gRVAoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/X1AoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6X1AoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3MgbVAgZXh0ZW5kcyBpU3tjb25zdHJ1Y3Rvcigpe3N1cGVyKCksbnUodGhpcyxcImNvbmZpZ3NcIix2b2lkIDApLG51KHRoaXMsXCJqb2luSW5mb1wiLHZvaWQgMCksbnUodGhpcyxcImNhbmNlbFRva2VuXCIsdm9pZCAwKSxudSh0aGlzLFwicmV0cnlDb25maWdcIix7dGltZW91dDozZTMsdGltZW91dEZhY3RvcjoxLjUsbWF4UmV0cnlDb3VudDoxLG1heFJldHJ5VGltZW91dDoxZTR9KSxudSh0aGlzLFwiaW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJtdXRleFwiLG5ldyBZUyhcImNvbmZpZy1kaXN0cmlidXRlXCIpKSxudSh0aGlzLFwibXV0YWJsZVBhcmFtc1JlYWRcIiwhMSl9c3RhcnRHZXRDb25maWdEaXN0cmlidXRlKGUsdCl7dGhpcy5qb2luSW5mbz1lLHRoaXMuY2FuY2VsVG9rZW49dCx0aGlzLmludGVydmFsJiZ0aGlzLnN0b3BHZXRDb25maWdEaXN0cmlidXRlKCksa0MoXCJFTkFCTEVfQ09ORklHX0RJU1RSSUJVVEVcIikmJih0aGlzLnVwZGF0ZUNvbmZpZ0Rpc3RyaWJ1dGUoKSx0aGlzLmludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLnVwZGF0ZUNvbmZpZ0Rpc3RyaWJ1dGUoKX0pLGtDKFwiQ09ORklHX0RJU1RSSUJVVEVfSU5URVJWQUxcIikpKX1zdG9wR2V0Q29uZmlnRGlzdHJpYnV0ZSgpe3RoaXMuaW50ZXJ2YWwmJmNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCksdGhpcy5pbnRlcnZhbD12b2lkIDAsdGhpcy5qb2luSW5mbz12b2lkIDAsdGhpcy5jYW5jZWxUb2tlbj12b2lkIDB9YXN5bmMgYXdhaXRDb25maWdEaXN0cmlidXRlQ29tcGxldGUoKXtpZighdGhpcy5tdXRleC5pc0xvY2tlZClyZXR1cm47KGF3YWl0IHRoaXMubXV0ZXgubG9jaygpKSgpfWFzeW5jIHVwZGF0ZUNvbmZpZ0Rpc3RyaWJ1dGUoKXtpZighdGhpcy5tdXRhYmxlUGFyYW1zUmVhZCl7dGhpcy5tdXRhYmxlUGFyYW1zUmVhZD0hMDtpdi5yZXBvcnRBcGlJbnZva2UobnVsbCx7b3B0aW9uczp2b2lkIDAsbmFtZTpzUy5MT0FEX0NPTkZJR19GUk9NX0xPQ0FMU1RPUkFHRSx0YWc6b1MuVFJBQ0VSfSkub25TdWNjZXNzKEpTT04uc3RyaW5naWZ5KE1DKSl9aWYoIXRoaXMuam9pbkluZm98fCF0aGlzLmNhbmNlbFRva2VufHwhdGhpcy5yZXRyeUNvbmZpZylyZXR1cm4gdm9pZCBXQy5kZWJ1ZyhcIltjb25maWctZGlzdHJpYnV0ZV0gZ2V0IGNvbmZpZyBkaXN0cmlidXRlIGludGVycnVwdGVkIGhhdmUgbm8gam9pbmluZm9cIik7bGV0IGU7Y29uc3QgdD1hd2FpdCB0aGlzLm11dGV4LmxvY2soKTt0cnl7ZT1hd2FpdCBkUCh0aGlzLmpvaW5JbmZvLHRoaXMuY2FuY2VsVG9rZW4sdGhpcy5yZXRyeUNvbmZpZyksV0MuZGVidWcoXCJbY29uZmlnLWRpc3RyaWJ1dGVdIGdldCBjb25maWcgZGlzdHJpYnV0ZVwiLEpTT04uc3RyaW5naWZ5KGUpKSxlLmxpbWl0X2JpdHJhdGUmJnRoaXMuaGFuZGxlQml0cmF0ZUxpbWl0KGUubGltaXRfYml0cmF0ZSksdGhpcy5jYWNoZUdsb2JhbFBhcmFtZXRlckNvbmZpZyhlKSx0aGlzLmNvbmZpZ3M9ZX1jYXRjaChlKXtjb25zdCB0PW5ldyBNdih4Zy5ORVRXT1JLX1JFU1BPTlNFX0VSUk9SLGUpO1dDLndhcm5pbmcoXCJbY29uZmlnLWRpc3RyaWJ1dGVdIFwiLmNvbmNhdCh0LnRvU3RyaW5nKCkpKX1maW5hbGx5e3QoKX19Z2V0Qml0cmF0ZUxpbWl0KCl7cmV0dXJuIHRoaXMuY29uZmlncz90aGlzLmNvbmZpZ3MubGltaXRfYml0cmF0ZTp2b2lkIDB9aGFuZGxlQml0cmF0ZUxpbWl0KGUpe3ZhciB0Oyh0PWUpJiZ0LnVwbGluayYmdC5pZCYmdm9pZCAwIT09dC51cGxpbmsubWF4X2JpdHJhdGUmJnZvaWQgMCE9PXQudXBsaW5rLm1pbl9iaXRyYXRlJiYodGhpcy5jb25maWdzJiZ0aGlzLmNvbmZpZ3MubGltaXRfYml0cmF0ZT90aGlzLmNvbmZpZ3MmJnRoaXMuY29uZmlncy5saW1pdF9iaXRyYXRlJiZ0aGlzLmNvbmZpZ3MubGltaXRfYml0cmF0ZS5pZCE9PWUuaWQmJnRoaXMuZW1pdChhSS5VUERBVEVfQklUUkFURV9MSU1JVCxlKTp0aGlzLmVtaXQoYUkuVVBEQVRFX0JJVFJBVEVfTElNSVQsZSkpfWdldExvd1N0cmVhbUNvbmZpZ0Rpc3RyaWJ1dGUoKXtyZXR1cm4gdGhpcy5jb25maWdzJiZ0aGlzLmNvbmZpZ3MubGltaXRfYml0cmF0ZSYmRVAoe30sdGhpcy5jb25maWdzLmxpbWl0X2JpdHJhdGUubG93X3N0cmVhbV91cGxpbmspfWNhY2hlR2xvYmFsUGFyYW1ldGVyQ29uZmlnKGUpe3ZhciB0O2NvbnN0IGk9WnUodD1PYmplY3Qua2V5cyhlKS5maWx0ZXIoKGU9Pi9ed2VicnRjX25nX2dsb2JhbF9wYXJhbWV0ZXIvLnRlc3QoZSkpKSkuY2FsbCh0KTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKylmb3IobGV0IG49aS5sZW5ndGgtMTtuPnQ7bi0tKXtjb25zdCB0PWlbbl07aWYoXCJudW1iZXJcIj09dHlwZW9mIGVbdF0uX19wcmlvcml0eSl7Y29uc3Qgcj1lW3RdLl9fcHJpb3JpdHkscz1pW24tMV07aWYoXCJudW1iZXJcIj09dHlwZW9mIGVbc10uX19wcmlvcml0eSl7aWYoIShyPmVbc10uX19wcmlvcml0eSkpY29udGludWU7e2NvbnN0IGU9dDtpW25dPWlbbi0xXSxpW24tMV09ZX19ZWxzZXtjb25zdCBlPXQ7aVtuXT1pW24tMV0saVtuLTFdPWV9fX1jb25zdCBuPXt9O2kuZm9yRWFjaCgodD0+e2NvbnN0IGk9ZVt0XSxyPWkuX19leHBpcmVzO09iamVjdC5rZXlzKGkpLmZvckVhY2goKGU9PntcIl9fcHJpb3JpdHlcIj09PWV8fFwiX19leHBpcmVzXCI9PT1lfHxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixlKXx8KG5bZV09RVAoe3ZhbHVlOmlbZV19LHImJntleHBpcmVzOnJ9KSl9KSl9KSk7dHJ5eyFmdW5jdGlvbihlKXt0cnl7Y29uc3QgdD1EYXRlLm5vdygpO09iamVjdC5rZXlzKGUpLmZvckVhY2goKGk9Pntzd2l0Y2goaSl7Y2FzZVwiRU5BQkxFX0VWRU5UX1JFUE9SVFwiOmNhc2VcIlVQTE9BRF9MT0dcIjppZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoUEMsaSkpe2NvbnN0e3ZhbHVlOm4sZXhwaXJlczpyfT1lW2ldO2lmKHImJnI8PXQpcmV0dXJuO01DW2ldPW4sUENbaV09bixXQy5kZWJ1ZyhcIlVwZGF0ZSBnbG9iYWwgcGFyYW1ldGVycyBmcm9tIGNvbmZpZyBkaXN0cmlidXRlXCIsaSxuKX19fSkpfWNhdGNoKHQpe1dDLmVycm9yKFwiRXJyb3IgdXBkYXRlIGNvbmZpZyBpbW1lZGlhdGVseTogXCIuY29uY2F0KGUpLHQubWVzc2FnZSl9fShuKTtjb25zdCBlPUpTT04uc3RyaW5naWZ5KG4pLHQ9d2luZG93LmJ0b2EoZSk7d2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwid2Vic2RrX25nX2dsb2JhbF9wYXJhbWV0ZXJcIix0KSxXQy5kZWJ1ZyhcIkNhY2hpbmcgZ2xvYmFsIHBhcmFtZXRlcnMgXCIuY29uY2F0KGUpKX1jYXRjaChlKXtXQy5lcnJvcihcIkVycm9yIGNhY2hpbmcgZ2xvYmFsIHBhcmFtZXRlcnM6XCIsZS5tZXNzYWdlKX19fWZ1bmN0aW9uIGZQKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBnUChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9mUChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpmUChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jbGFzcyBTUCBleHRlbmRzIGlTe2NvbnN0cnVjdG9yKGUsdCxpLG4pe3N1cGVyKCksbnUodGhpcyxcInNwZWNcIix2b2lkIDApLG51KHRoaXMsXCJ0b2tlblwiLHZvaWQgMCksbnUodGhpcyxcIndlYnNvY2tldFwiLHZvaWQgMCksbnUodGhpcyxcInBpbmdwb25nVGltZXJcIix2b2lkIDApLG51KHRoaXMsXCJyZWNvbm5lY3RNb2RlXCIsXCJyZXRyeVwiKSxudSh0aGlzLFwic2VydmljZU1vZGVcIix2b2lkIDApLG51KHRoaXMsXCJyZXFJZFwiLDApLG51KHRoaXMsXCJjb21tYW5kUmVxSWRcIiwwKSxudSh0aGlzLFwiaGFuZGxlV2ViU29ja2V0T3BlblwiLCgoKT0+e3RoaXMucmVjb25uZWN0TW9kZT1cInJldHJ5XCIsdGhpcy5zdGFydFBpbmdQb25nKCl9KSksbnUodGhpcyxcImhhbmRsZVdlYlNvY2tldE1lc3NhZ2VcIiwoZT0+e2lmKCFlLmRhdGEpcmV0dXJuO2NvbnN0IHQ9SlNPTi5wYXJzZShlLmRhdGEpO3QucmVxdWVzdElkP3RoaXMuZW1pdChcIkBcIi5jb25jYXQodC5yZXF1ZXN0SWQsXCItXCIpLmNvbmNhdCh0LnNpZCksdCk6dGhpcy5zZXJ2aWNlTW9kZT09PXZ2LklOSkVDVD90aGlzLmVtaXQoV3YuSU5KRUNUX1NUUkVBTV9TVEFUVVMsdCk6KGl2LndvcmtlckV2ZW50KHRoaXMuc3BlYy5zaWQse2FjdGlvblR5cGU6XCJzdGF0dXNcIixzZXJ2ZXJDb2RlOnQuY29kZSx3b3JrZXJUeXBlOnRoaXMuc2VydmljZU1vZGU9PT12di5UUkFOU0NPREU/MToyfSksdGhpcy5lbWl0KFd2LlBVQkxJU0hfU1RSRUFNX1NUQVRVUyx0KSl9KSksdGhpcy5zcGVjPXQsdGhpcy50b2tlbj1lLHRoaXMuc2VydmljZU1vZGU9bix0aGlzLndlYnNvY2tldD1uZXcgSkkoXCJsaXZlLXN0cmVhbWluZ1wiLGkpLHRoaXMud2Vic29ja2V0Lm9uKEN2LkNPTk5FQ1RFRCx0aGlzLmhhbmRsZVdlYlNvY2tldE9wZW4pLHRoaXMud2Vic29ja2V0Lm9uKEN2Lk9OX01FU1NBR0UsdGhpcy5oYW5kbGVXZWJTb2NrZXRNZXNzYWdlKSx0aGlzLndlYnNvY2tldC5vbihDdi5SRVFVRVNUX05FV19VUkxTLCgoZSx0KT0+e2ZTKHRoaXMsV3YuUkVRVUVTVF9ORVdfQUREUkVTUykudGhlbihlKS5jYXRjaCh0KX0pKSx0aGlzLndlYnNvY2tldC5vbihDdi5SRUNPTk5FQ1RJTkcsKCgpPT57dGhpcy53ZWJzb2NrZXQucmVjb25uZWN0TW9kZT10aGlzLnJlY29ubmVjdE1vZGV9KSl9aW5pdChlKXtyZXR1cm4gdGhpcy53ZWJzb2NrZXQuaW5pdChlKX1hc3luYyByZXF1ZXN0KGUsdCxpLG4pe3RoaXMucmVxSWQrPTEsXCJyZXF1ZXN0XCI9PT1lJiYodGhpcy5jb21tYW5kUmVxSWQrPTEpO2NvbnN0IHI9dGhpcy5jb21tYW5kUmVxSWQscz10aGlzLnJlcUlkO2lmKCFzfHwhdGhpcy53ZWJzb2NrZXQpdGhyb3cgbmV3IE12KHhnLlVORVhQRUNURURfRVJST1IpO2NvbnN0IG89Z1Aoe2NvbW1hbmQ6ZSxzZGtWZXJzaW9uOlwiNC4xOS4xXCI9PT1PQz9cIjAuMC4xXCI6T0Msc2VxOnMscmVxdWVzdElkOnMsYWxsb2NhdGU6aSxjbmFtZTp0aGlzLnNwZWMuY25hbWUsYXBwSWQ6dGhpcy5zcGVjLmFwcElkLHNpZDp0aGlzLnNwZWMuc2lkLHVpZDp0aGlzLnNwZWMudWlkLnRvU3RyaW5nKCksdHM6TWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMyl9LHQpO2lmKFwiY2xvc2VkXCI9PT10aGlzLndlYnNvY2tldC5zdGF0ZSl0aHJvdyBuZXcgTXYoeGcuV1NfRElTQ09OTkVDVCk7Y29uc3QgYT0oKT0+bmV3IHRnKCgoZSx0KT0+e3RoaXMud2Vic29ja2V0Lm9uY2UoQ3YuQ0xPU0VELCgoKT0+dChuZXcgTXYoeGcuV1NfQUJPUlQpKSkpLHRoaXMud2Vic29ja2V0Lm9uY2UoQ3YuQ09OTkVDVEVELGUpfSkpO1wiY29ubmVjdGVkXCIhPT10aGlzLndlYnNvY2tldC5zdGF0ZSYmYXdhaXQgYSgpLG8uY2xpZW50UmVxdWVzdCYmKG8uY2xpZW50UmVxdWVzdC53b3JrZXJUb2tlbj10aGlzLnRva2VuKTtjb25zdCBjPW5ldyB0ZygoKGUsdCk9Pntjb25zdCBpPSgpPT57dChuZXcgTXYoeGcuV1NfQUJPUlQpKX07dGhpcy53ZWJzb2NrZXQub25jZShDdi5SRUNPTk5FQ1RJTkcsaSksdGhpcy53ZWJzb2NrZXQub25jZShDdi5DTE9TRUQsaSksdGhpcy5vbmNlKFwiQFwiLmNvbmNhdChzLFwiLVwiKS5jb25jYXQodGhpcy5zcGVjLnNpZCksKHQ9PntlKHQpfSkpfSkpO24mJml2LndvcmtlckV2ZW50KHRoaXMuc3BlYy5zaWQsZ1AoZ1Aoe30sbikse30se3JlcXVlc3RJZDpyLGFjdGlvblR5cGU6XCJyZXF1ZXN0XCIscGF5bG9hZDpKU09OLnN0cmluZ2lmeSh0LmNsaWVudFJlcXVlc3QpLHNlcnZlckNvZGU6MCxjb2RlOjB9KSk7Y29uc3QgZD1EYXRlLm5vdygpO3RoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKG8pO2xldCBsPW51bGw7dHJ5e2w9YXdhaXQgY31jYXRjaChuKXtpZihcImNsb3NlZFwiPT09dGhpcy53ZWJzb2NrZXQuc3RhdGUpdGhyb3cgbjtyZXR1cm4gYXdhaXQgYSgpLGF3YWl0IHRoaXMucmVxdWVzdChlLHQsaSl9cmV0dXJuIG4mJml2LndvcmtlckV2ZW50KHRoaXMuc3BlYy5zaWQsZ1AoZ1Aoe30sbikse30se3JlcXVlc3RJZDpyLGFjdGlvblR5cGU6XCJyZXNwb25zZVwiLHBheWxvYWQ6SlNPTi5zdHJpbmdpZnkobC5zZXJ2ZXJSZXNwb25zZSksc2VydmVyQ29kZTpsLmNvZGUsc3VjY2VzczoyMDA9PT1sLmNvZGUscmVzcG9uc2VUaW1lOkRhdGUubm93KCktZH0pKSwyMDAhPT1sLmNvZGUmJnRoaXMuaGFuZGxlUmVzcG9uc2VFcnJvcihsKSxsfXRyeU5leHRBZGRyZXNzKCl7dGhpcy5yZWNvbm5lY3RNb2RlPVwidHJ5TmV4dFwiLHRoaXMud2Vic29ja2V0LnJlY29ubmVjdChcInRyeU5leHRcIil9Y2xvc2UoKXtjb25zdCBlPVwiNC4xOS4xXCI9PT1PQz9cIjAuMC4xXCI6T0M7dGhpcy5yZXFJZCs9MSxcImNvbm5lY3RlZFwiPT09dGhpcy53ZWJzb2NrZXQuc3RhdGU/KHRoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKHtjb21tYW5kOlwicmVxdWVzdFwiLGFwcElkOnRoaXMuc3BlYy5hcHBJZCxjbmFtZTp0aGlzLnNwZWMuY25hbWUsdWlkOnRoaXMuc3BlYy51aWQudG9TdHJpbmcoKSxzZGtWZXJzaW9uOmUsc2lkOnRoaXMuc3BlYy5zaWQsc2VxOnRoaXMucmVxSWQsdHM6TWF0aC5mbG9vcihEYXRlLm5vdygpLzFlMykscmVxdWVzdElkOnRoaXMucmVxSWQsY2xpZW50UmVxdWVzdDp7Y29tbWFuZDpcIkRlc3Ryb3lXb3JrZXJcIn19KSx0aGlzLndlYnNvY2tldC5jbG9zZSghMSwhMCkpOnRoaXMud2Vic29ja2V0LmNsb3NlKCExKSx0aGlzLnBpbmdwb25nVGltZXImJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApfWhhbmRsZVJlc3BvbnNlRXJyb3IoZSl7c3dpdGNoKGUuY29kZSl7Y2FzZSBLdi5MSVZFX1NUUkVBTV9SRVNQT05TRV9BTFJFQURZX0VYSVNUU19TVFJFQU06cmV0dXJuIHZvaWQgV0Mud2FybmluZyhcImxpdmUgc3RyZWFtIHJlc3BvbnNlIGFscmVhZHkgZXhpc3RzIHN0cmVhbVwiKTtjYXNlIEt2LkxJVkVfU1RSRUFNX1JFU1BPTlNFX1RSQU5TQ09ESU5HX1BBUkFNRVRFUl9FUlJPUjpjYXNlIEt2LkxJVkVfU1RSRUFNX1JFU1BPTlNFX0JBRF9TVFJFQU06Y2FzZSBLdi5MSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9QQVJBTUVURVJfRVJST1I6cmV0dXJuIG5ldyBNdih4Zy5MSVZFX1NUUkVBTUlOR19JTlZBTElEX0FSR1VNRU5ULFwiXCIse2NvZGU6ZS5jb2RlfSkudGhyb3coKTtjYXNlIEt2LkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dNX1dPUktFUl9OT1RfRVhJU1Q6aWYoXCJVbnB1Ymxpc2hTdHJlYW1cIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZHx8XCJVbmluamVjdFN0cmVhbVwiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kKXJldHVybjt0aHJvdyBuZXcgTXYoeGcuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwibGl2ZSBzdHJlYW0gcmVzcG9uc2Ugd20gd29ya2VyIG5vdCBleGlzdFwiLHtyZXRyeTohMH0pO2Nhc2UgS3YuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0FVVEhPUklaRUQ6cmV0dXJuIG5ldyBNdih4Zy5MSVZFX1NUUkVBTUlOR19QVUJMSVNIX1NUUkVBTV9OT1RfQVVUSE9SSVpFRCxcIlwiLHtjb2RlOmUuY29kZX0pLnRocm93KCk7Y2FzZSBLdi5MSVZFX1NUUkVBTV9SRVNQT05TRV9GQUlMRURfTE9BRF9JTUFHRTp7Y29uc3QgdD1uZXcgTXYoeGcuTElWRV9TVFJFQU1JTkdfV0FSTl9GQUlMRURfTE9BRF9JTUFHRSk7cmV0dXJuIHRoaXMuZW1pdChXdi5XQVJOSU5HLHQsZS5zZXJ2ZXJSZXNwb25zZS51cmwpfWNhc2UgS3YuTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVRVUVTVF9UT09fT0ZURU46e2NvbnN0IHQ9bmV3IE12KHhnLkxJVkVfU1RSRUFNSU5HX1dBUk5fRlJFUVVFTlRfUkVRVUVTVCk7cmV0dXJuIHRoaXMuZW1pdChXdi5XQVJOSU5HLHQsZS5zZXJ2ZXJSZXNwb25zZS51cmwpfWNhc2UgS3YuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0ZPVU5EX1BVQkxJU0g6dGhyb3cgbmV3IE12KHhnLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcImxpdmUgc3RyZWFtIHJlc3BvbnNlIHdtIHdvcmtlciBub3QgZXhpc3RcIix7cmV0cnk6ITB9KTtjYXNlIEt2LkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9TVVBQT1JURUQ6cmV0dXJuIG5ldyBNdih4Zy5MSVZFX1NUUkVBTUlOR19UUkFOU0NPRElOR19OT1RfU1VQUE9SVEVELFwiXCIse2NvZGU6ZS5jb2RlfSkudGhyb3coKTtjYXNlIEt2LkxJVkVfU1RSRUFNX1JFU1BPTlNFX01BWF9TVFJFQU1fTlVNOntjb25zdCB0PW5ldyBNdih4Zy5MSVZFX1NUUkVBTUlOR19XQVJOX1NUUkVBTV9OVU1fUkVBQ0hfTElNSVQpO3JldHVybiB0aGlzLmVtaXQoV3YuV0FSTklORyx0LGUuc2VydmVyUmVzcG9uc2UudXJsKX1jYXNlIEt2LkxJVkVfU1RSRUFNX1JFU1BPTlNFX0lOVEVSTkFMX1NFUlZFUl9FUlJPUjpyZXR1cm4gbmV3IE12KHhnLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcIlwiLHtjb2RlOmUuY29kZX0pLnRocm93KCk7Y2FzZSBLdi5MSVZFX1NUUkVBTV9SRVNQT05TRV9SRVNPVVJDRV9MSU1JVDp0aHJvdyBuZXcgTXYoeGcuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwibGl2ZSBzdHJlYW0gcmVzb3VyY2UgbGltaXRcIix7cmV0cnk6ITAsY2hhbmdlQWRkcmVzczohMH0pO2Nhc2UgS3YuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX0xPU1Q6Y2FzZSBLdi5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfUVVJVDppZihcIlVucHVibGlzaFN0cmVhbVwiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kfHxcIlVuaW5qZWN0U3RyZWFtXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQpcmV0dXJuO3Rocm93IG5ldyBNdih4Zy5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJlcnJvciBmYWlsIHNlbmQgbWVzc2FnZVwiLHtyZXRyeTohMCxjaGFuZ2VBZGRyZXNzOiEwfSk7Y2FzZSBLdi5FUlJPUl9GQUlMX1NFTkRfTUVTU0FHRTppZihcIlVucHVibGlzaFN0cmVhbVwiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kfHxcIlVuaW5qZWN0U3RyZWFtXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQpcmV0dXJuO2lmKFwiVXBkYXRlVHJhbnNjb2RpbmdcIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZHx8XCJDb250cm9sU3RyZWFtXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQpcmV0dXJuIG5ldyBNdih4Zy5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJlcnJvciBmYWlsIHNlbmQgbWVzc2FnZVwiLHtjb2RlOmUuY29kZX0pLnRocm93KCk7dGhyb3cgbmV3IE12KHhnLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUixcImVycm9yIGZhaWwgc2VuZCBtZXNzYWdlXCIse3JldHJ5OiEwLGNoYW5nZUFkZHJlc3M6ITB9KTtjYXNlIEt2LlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9QVUJMSVNIX0JST0tFTjpjYXNlIEt2LlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0NPTk5FQ1Q6Y2FzZSBLdi5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9IQU5EU0hBS0U6Y2FzZSBLdi5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9QVUJMSVNIOnJldHVybiBuZXcgTXYoeGcuTElWRV9TVFJFQU1JTkdfQ0ROX0VSUk9SLFwiXCIse2NvZGU6ZS5jb2RlfSkudGhyb3coKX19c3RhcnRQaW5nUG9uZygpe3RoaXMucGluZ3BvbmdUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9d2luZG93LnNldEludGVydmFsKCgoKT0+e1wiY29ubmVjdGVkXCI9PT10aGlzLndlYnNvY2tldC5zdGF0ZSYmdGhpcy5yZXF1ZXN0KFwicGluZ1wiLHt9KS5jYXRjaChGUyl9KSw2ZTMpfX1mdW5jdGlvbiBUUChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gUlAoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/VFAoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6VFAoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3MgQ1AgZXh0ZW5kcyBpU3tjb25zdHJ1Y3RvcihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06SlMsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06SlM7c3VwZXIoKSxudSh0aGlzLFwib25MaXZlU3RyZWFtV2FybmluZ1wiLHZvaWQgMCksbnUodGhpcyxcIm9uTGl2ZVN0cmVhbUVycm9yXCIsdm9pZCAwKSxudSh0aGlzLFwib25JbmplY3RTdGF0dXNDaGFuZ2VcIix2b2lkIDApLG51KHRoaXMsXCJzcGVjXCIsdm9pZCAwKSxudSh0aGlzLFwicmV0cnlUaW1lb3V0XCIsMWU0KSxudSh0aGlzLFwiY29ubmVjdGlvblwiLHZvaWQgMCksbnUodGhpcyxcImh0dHBSZXRyeUNvbmZpZ1wiLHZvaWQgMCksbnUodGhpcyxcIndzUmV0cnlDb25maWdcIix2b2lkIDApLG51KHRoaXMsXCJzdHJlYW1pbmdUYXNrc1wiLG5ldyBNYXApLG51KHRoaXMsXCJpc1N0YXJ0aW5nU3RyZWFtaW5nVGFza1wiLCExKSxudSh0aGlzLFwidGFza011dGV4XCIsbmV3IFlTKFwibGl2ZS1zdHJlYW1pbmdcIikpLG51KHRoaXMsXCJjYW5jZWxUb2tlblwiLEVDLkNhbmNlbFRva2VuLnNvdXJjZSgpKSxudSh0aGlzLFwidHJhbnNjb2RpbmdDb25maWdcIix2b2lkIDApLG51KHRoaXMsXCJpbmplY3RDb25maWdcIixSUCh7fSxHdikpLG51KHRoaXMsXCJpbmplY3RMb29wVGltZXNcIiwwKSxudSh0aGlzLFwidWFwUmVzcG9uc2VcIix2b2lkIDApLG51KHRoaXMsXCJsYXN0VGFza0lkXCIsMSksbnUodGhpcyxcInN0YXR1c0Vycm9yXCIsbmV3IE1hcCksdGhpcy5zcGVjPWUsdGhpcy5odHRwUmV0cnlDb25maWc9aSx0aGlzLndzUmV0cnlDb25maWc9dH1hc3luYyBzZXRUcmFuc2NvZGluZ0NvbmZpZyhlKXtjb25zdCB0PVJQKFJQKHt9LGp2KSxlKTs2NiE9PXQudmlkZW9Db2RlY1Byb2ZpbGUmJjc3IT09dC52aWRlb0NvZGVjUHJvZmlsZSYmMTAwIT09dC52aWRlb0NvZGVjUHJvZmlsZSYmKFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIHNldCB0cmFuc2NvZGluZyBjb25maWcsIGZpeCB2aWRlbyBjb2RlYyBwcm9maWxlOiBcIikuY29uY2F0KHQudmlkZW9Db2RlY1Byb2ZpbGUsXCIgLT4gMTAwXCIpKSx0LnZpZGVvQ29kZWNQcm9maWxlPTEwMCksdC50cmFuc2NvZGluZ1VzZXJzfHwodC50cmFuc2NvZGluZ1VzZXJzPXQudXNlckNvbmZpZ3MpLHQudHJhbnNjb2RpbmdVc2VycyYmKHQudHJhbnNjb2RpbmdVc2Vycz10LnRyYW5zY29kaW5nVXNlcnMubWFwKChlPT5SUChSUChSUCh7fSxWdiksZSkse30se3pPcmRlcjplLnpPcmRlcj9lLnpPcmRlcisxOjF9KSkpKSxmdW5jdGlvbihlKXtLZyhlLndpZHRoKXx8amcoZS53aWR0aCxcImNvbmZpZy53aWR0aFwiLDAsMWU0KSxLZyhlLmhlaWdodCl8fGpnKGUuaGVpZ2h0LFwiY29uZmlnLmhlaWdodFwiLDAsMWU0KSxLZyhlLnZpZGVvQml0cmF0ZSl8fGpnKGUudmlkZW9CaXRyYXRlLFwiY29uZmlnLnZpZGVvQml0cmF0ZVwiLDEsMWU2KSxLZyhlLnZpZGVvRnJhbWVSYXRlKXx8amcoZS52aWRlb0ZyYW1lUmF0ZSxcImNvbmZpZy52aWRlb0ZyYW1lUmF0ZVwiKSxLZyhlLmxvd0xhdGVuY3kpfHxGZyhlLmxvd0xhdGVuY3ksXCJjb25maWcubG93TGF0ZW5jeVwiKSxLZyhlLmF1ZGlvU2FtcGxlUmF0ZSl8fEJnKGUuYXVkaW9TYW1wbGVSYXRlLFwiY29uZmlnLmF1ZGlvU2FtcGxlUmF0ZVwiLFszMmUzLDQ0MTAwLDQ4ZTNdKSxLZyhlLmF1ZGlvQml0cmF0ZSl8fGpnKGUuYXVkaW9CaXRyYXRlLFwiY29uZmlnLmF1ZGlvQml0cmF0ZVwiLDEsMTI4KSxLZyhlLmF1ZGlvQ2hhbm5lbHMpfHxCZyhlLmF1ZGlvQ2hhbm5lbHMsXCJjb25maWcuYXVkaW9DaGFubmVsc1wiLFsxLDIsMyw0LDVdKSxLZyhlLnZpZGVvR29wKXx8amcoZS52aWRlb0dvcCxcImNvbmZpZy52aWRlb0dvcFwiKSxLZyhlLnZpZGVvQ29kZWNQcm9maWxlKXx8QmcoZS52aWRlb0NvZGVjUHJvZmlsZSxcImNvbmZpZy52aWRlb0NvZGVjUHJvZmlsZVwiLFs2Niw3NywxMDBdKSxLZyhlLnVzZXJDb3VudCl8fGpnKGUudXNlckNvdW50LFwiY29uZmlnLnVzZXJDb3VudFwiLDAsMTcpLEtnKGUuYmFja2dyb3VuZENvbG9yKXx8amcoZS5iYWNrZ3JvdW5kQ29sb3IsXCJjb25maWcuYmFja2dyb3VuZENvbG9yXCIsMCwxNjc3NzIxNSksS2coZS51c2VyQ29uZmlnRXh0cmFJbmZvKXx8V2coZS51c2VyQ29uZmlnRXh0cmFJbmZvLFwiY29uZmlnLnVzZXJDb25maWdFeHRyYUluZm9cIiwwLDQwOTYsITEpLGUudHJhbnNjb2RpbmdVc2VycyYmIUtnKGUudHJhbnNjb2RpbmdVc2VycykmJihIZyhlLnRyYW5zY29kaW5nVXNlcnMsXCJjb25maWcudHJhbnNjb2RpbmdVc2Vyc1wiKSxlLnRyYW5zY29kaW5nVXNlcnMuZm9yRWFjaCgoKGUsdCk9Pnt4dihlLnVpZCksS2coZS54KXx8amcoZS54LFwidHJhbnNjb2RpbmdVc2VyW1wiLmNvbmNhdCh0LFwiXS54XCIpLDAsMWU0KSxLZyhlLnkpfHxqZyhlLnksXCJ0cmFuc2NvZGluZ1VzZXJbXCIuY29uY2F0KHQsXCJdLnlcIiksMCwxZTQpLEtnKGUud2lkdGgpfHxqZyhlLndpZHRoLFwidHJhbnNjb2RpbmdVc2VyW1wiLmNvbmNhdCh0LFwiXS53aWR0aFwiKSwwLDFlNCksS2coZS5oZWlnaHQpfHxqZyhlLmhlaWdodCxcInRyYW5zY29kaW5nVXNlcltcIi5jb25jYXQodCxcIl0uaGVpZ2h0XCIpLDAsMWU0KSxLZyhlLnpPcmRlcil8fGpnKGUuek9yZGVyLTEsXCJ0cmFuc2NvZGluZ1VzZXJbXCIuY29uY2F0KHQsXCJdLnpPcmRlclwiKSwwLDEwMCksS2coZS5hbHBoYSl8fGpnKGUuYWxwaGEsXCJ0cmFuc2NvZGluZ1VzZXJbXCIuY29uY2F0KHQsXCJdLmFscGhhXCIpLDAsMSwhMSl9KSkpLEtnKGUud2F0ZXJtYXJrKXx8QnYoZS53YXRlcm1hcmssXCJ3YXRlcm1hcmtcIiksS2coZS5iYWNrZ3JvdW5kSW1hZ2UpfHxCdihlLmJhY2tncm91bmRJbWFnZSxcImJhY2tncm91bmRJbWFnZVwiKSxlLmltYWdlcyYmIUtnKGUuaW1hZ2VzKSYmKEhnKGUuaW1hZ2VzLFwiY29uZmlnLmltYWdlc1wiKSxlLmltYWdlcy5mb3JFYWNoKCgoZSx0KT0+e0J2KGUsXCJpbWFnZXNbXCIuY29uY2F0KHQsXCJdXCIpKX0pKSl9KHQpO2NvbnN0IGk9W107dC5pbWFnZXMmJmkucHVzaCguLi50LmltYWdlcy5tYXAoKGU9PlJQKFJQKFJQKHt9LEZ2KSxlKSx7fSx7ek9yZGVyOjI1NX0pKSkpLHQuYmFja2dyb3VuZEltYWdlJiYoaS5wdXNoKFJQKFJQKFJQKHt9LEZ2KSx0LmJhY2tncm91bmRJbWFnZSkse30se3pPcmRlcjowfSkpLGRlbGV0ZSB0LmJhY2tncm91bmRJbWFnZSksdC53YXRlcm1hcmsmJihpLnB1c2goUlAoUlAoUlAoe30sRnYpLHQud2F0ZXJtYXJrKSx7fSx7ek9yZGVyOjI1NX0pKSxkZWxldGUgdC53YXRlcm1hcmspLHQuaW1hZ2VzPWksdC50cmFuc2NvZGluZ1VzZXJzJiYodC51c2VyQ29uZmlncz10LnRyYW5zY29kaW5nVXNlcnMubWFwKChlPT5SUCh7fSxlKSkpLHQudXNlckNvdW50PXQudHJhbnNjb2RpbmdVc2Vycy5sZW5ndGgsZGVsZXRlIHQudHJhbnNjb2RpbmdVc2Vycyk7Y29uc3Qgbj0odC51c2VyQ29uZmlnc3x8W10pLm1hcCgoZT0+XCJudW1iZXJcIj09dHlwZW9mIGUudWlkP3RnLnJlc29sdmUoZS51aWQpOmNQKGUudWlkLHRoaXMuc3BlYyx0aGlzLmNhbmNlbFRva2VuLnRva2VuLHRoaXMuaHR0cFJldHJ5Q29uZmlnKSkpO2lmKChhd2FpdCB0Zy5hbGwobikpLmZvckVhY2goKChlLGkpPT57dC51c2VyQ29uZmlncyYmdC51c2VyQ29uZmlnc1tpXSYmKHQudXNlckNvbmZpZ3NbaV0udWlkPWUpfSkpLHRoaXMudHJhbnNjb2RpbmdDb25maWc9dCx0aGlzLmNvbm5lY3Rpb24pdHJ5e3ZhciByO2NvbnN0IGU9YXdhaXQgdGhpcy5jb25uZWN0aW9uLnJlcXVlc3QoXCJyZXF1ZXN0XCIse2NsaWVudFJlcXVlc3Q6e2NvbW1hbmQ6XCJVcGRhdGVUcmFuc2NvZGluZ1wiLHRyYW5zY29kaW5nQ29uZmlnOnRoaXMudHJhbnNjb2RpbmdDb25maWd9fSwhMSx7Y29tbWFuZDpcIlVwZGF0ZVRyYW5zY29kaW5nXCIsd29ya2VyVHlwZToxLHJlcXVlc3RCeVVzZXI6ITAsdGlkOkFycmF5LmZyb20oUHYocj10aGlzLnN0cmVhbWluZ1Rhc2tzKS5jYWxsKHIpKS5tYXAoKGU9PmUudGFza0lkKSkuam9pbihcIiNcIil9KTtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSB1cGRhdGUgbGl2ZSB0cmFuc2NvZGluZyBjb25maWcgc3VjY2VzcywgY29kZTogXCIpLmNvbmNhdChlLmNvZGUsXCIsIGNvbmZpZzpcIiksSlNPTi5zdHJpbmdpZnkodGhpcy50cmFuc2NvZGluZ0NvbmZpZykpfWNhdGNoKGUpe2lmKCFlLmRhdGF8fCFlLmRhdGEucmV0cnkpdGhyb3cgZTtlLmRhdGEuY2hhbmdlQWRkcmVzcyYmdGhpcy5jb25uZWN0aW9uLnRyeU5leHRBZGRyZXNzKCksdGhpcy5zdHJlYW1pbmdUYXNrcy5mb3JFYWNoKCh0PT57V0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBsaXZlIHN0cmVhbWluZyByZWNlaXZlIGVycm9yXCIpLGUudG9TdHJpbmcoKSxcInRyeSB0byByZXB1Ymxpc2hcIix0LnVybCksdGhpcy5zdGFydExpdmVTdHJlYW1pbmdUYXNrKHQudXJsLHQubW9kZSxlKS50aGVuKCgoKT0+e1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIGxpdmUgc3RyZWFtaW5nIHJlcHVibGlzaCBcIikuY29uY2F0KHQudXJsLFwiIHN1Y2Nlc3NcIikpfSkpLmNhdGNoKChlPT57V0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gbGl2ZSBzdHJlYW1pbmcgcmVwdWJsaXNoIGZhaWxlZFwiKSx0LnVybCxlLnRvU3RyaW5nKCkpLHRoaXMub25MaXZlU3RyZWFtRXJyb3ImJnRoaXMub25MaXZlU3RyZWFtRXJyb3IodC51cmwsZSl9KSl9KSl9fXNldEluamVjdFN0cmVhbUNvbmZpZyhlLHQpe3RoaXMuaW5qZWN0Q29uZmlnPU9iamVjdC5hc3NpZ24oe30sdGhpcy5pbmplY3RDb25maWcsZSksdGhpcy5pbmplY3RMb29wVGltZXM9dH1hc3luYyBzdGFydExpdmVTdHJlYW1pbmdUYXNrKGUsdCxpKXt2YXIgbjtpZihBcnJheS5mcm9tKFB2KG49dGhpcy5zdHJlYW1pbmdUYXNrcykuY2FsbChuKSkuZmluZCgoZT0+ZS5tb2RlPT09dnYuSU5KRUNUKSkmJnQ9PT12di5JTkpFQ1QpcmV0dXJuIG5ldyBNdih4Zy5MSVZFX1NUUkVBTUlOR19UQVNLX0NPTkZMSUNULFwiaW5qZWN0IHN0cmVhbSBvdmVyIGxpbWl0XCIpLnRocm93KCk7aWYoIXRoaXMudHJhbnNjb2RpbmdDb25maWcmJnQ9PT12di5UUkFOU0NPREUpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiW0xpdmVTdHJlYW1pbmddIG5vIHRyYW5zY29kaW5nIGNvbmZpZyBmb3VuZCwgY2FuIG5vdCBzdGFydCB0cmFuc2NvZGluZyBzdHJlYW1pbmcgdGFza1wiKTtsZXQgcj17Y29tbWFuZDpcIlB1Ymxpc2hTdHJlYW1cIix0czpEYXRlLm5vdygpLHVybDplLHVpZDp0aGlzLnNwZWMudWlkLnRvU3RyaW5nKCksYXV0b0Rlc3Ryb3lUaW1lOjEwMCxhY2NlcHRJbWFnZVRpbWVvdXQ6ITB9O1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIHN0YXJ0IGxpdmUgc3RyZWFtaW5nIFwiKS5jb25jYXQoZSxcIiwgbW9kZTogXCIpLmNvbmNhdCh0KSk7Y29uc3Qgcz1hd2FpdCB0aGlzLnRhc2tNdXRleC5sb2NrKCk7aWYoIXRoaXMuY29ubmVjdGlvbiYmaSlyZXR1cm4gdm9pZCBzKCk7aWYodGhpcy5zdHJlYW1pbmdUYXNrcy5nZXQoZSkmJiFpKXJldHVybiBzKCksbmV3IE12KHhnLkxJVkVfU1RSRUFNSU5HX1RBU0tfQ09ORkxJQ1QpLnRocm93KCk7dHJ5e3RoaXMuY29ubmVjdGlvbnx8KHRoaXMuY29ubmVjdGlvbj1hd2FpdCB0aGlzLmNvbm5lY3QodCkpfWNhdGNoKGUpe3Rocm93IHMoKSxlfXN3aXRjaCh0KXtjYXNlIHZ2LlRSQU5TQ09ERTpyLnRyYW5zY29kaW5nQ29uZmlnPVJQKHt9LHRoaXMudHJhbnNjb2RpbmdDb25maWcpO2JyZWFrO2Nhc2UgdnYuUkFXOmJyZWFrO2Nhc2UgdnYuSU5KRUNUOnI9e2NuYW1lOnRoaXMuc3BlYy5jbmFtZSxjb21tYW5kOlwiSW5qZWN0U3RyZWFtXCIsc2lkOnRoaXMuc3BlYy5zaWQsdHJhbnNjb2RpbmdDb25maWc6dGhpcy5pbmplY3RDb25maWcsdHM6RGF0ZS5ub3coKSx1cmw6ZSxsb29wVGltZXM6dGhpcy5pbmplY3RMb29wVGltZXN9fXRoaXMudWFwUmVzcG9uc2UmJnRoaXMudWFwUmVzcG9uc2UudmlkJiYoci52aWQ9dGhpcy51YXBSZXNwb25zZS52aWQpLHRoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2s9ITA7Y29uc3Qgbz10aGlzLmxhc3RUYXNrSWQrKzt0cnl7Y29uc3Qgbj1uZXcgdGcoKCh0LG4pPT57VVModGhpcy5yZXRyeVRpbWVvdXQpLnRoZW4oKCgpPT57aWYoaSlyZXR1cm4gbihpKTtjb25zdCB0PXRoaXMuc3RhdHVzRXJyb3IuZ2V0KGUpO3JldHVybiB0Pyh0aGlzLnN0YXR1c0Vycm9yLmRlbGV0ZShlKSxuKHQpKTp2b2lkIDB9KSl9KSksYT1hd2FpdCB0Zy5yYWNlKFt0aGlzLmNvbm5lY3Rpb24ucmVxdWVzdChcInJlcXVlc3RcIix7Y2xpZW50UmVxdWVzdDpyfSwhMCx7dXJsOmUsY29tbWFuZDpcIlB1Ymxpc2hTdHJlYW1cIix3b3JrZXJUeXBlOnQ9PT12di5UUkFOU0NPREU/MToyLHJlcXVlc3RCeVVzZXI6IWksdGlkOm8udG9TdHJpbmcoKX0pLG5dKTt0aGlzLmlzU3RhcnRpbmdTdHJlYW1pbmdUYXNrPSExLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIGxpdmUgc3RyZWFtaW5nIHN0YXJ0ZWQsIGNvZGU6IFwiKS5jb25jYXQoYS5jb2RlKSksdGhpcy5zdHJlYW1pbmdUYXNrcy5zZXQoZSx7Y2xpZW50UmVxdWVzdDpyLG1vZGU6dCx1cmw6ZSx0YXNrSWQ6b30pLHMoKX1jYXRjaChuKXtpZihzKCksdGhpcy5pc1N0YXJ0aW5nU3RyZWFtaW5nVGFzaz0hMSwhbi5kYXRhfHwhbi5kYXRhLnJldHJ5fHxpKXRocm93IG47cmV0dXJuIG4uZGF0YS5jaGFuZ2VBZGRyZXNzPyh0aGlzLmNvbm5lY3Rpb24udHJ5TmV4dEFkZHJlc3MoKSxhd2FpdCB0aGlzLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2soZSx0LG4pKTphd2FpdCB0aGlzLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2soZSx0LG4pfX1zdG9wTGl2ZVN0cmVhbWluZ1Rhc2soZSl7cmV0dXJuIG5ldyB0ZygoKHQsaSk9Pntjb25zdCBuPXRoaXMuc3RyZWFtaW5nVGFza3MuZ2V0KGUpO2lmKCFufHwhdGhpcy5jb25uZWN0aW9uKXJldHVybiBuZXcgTXYoeGcuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCBzdHJlYW1pbmcgdGFzayB0byBzdG9wXCIpLnRocm93KCk7Y29uc3Qgcj1uLm1vZGU7bi5hYm9ydFRhc2s9KCk9PntXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBzdG9wIGxpdmUgc3RyZWFtaW5nIHN1Y2Nlc3Mod29ya2VyIGV4Y2VwdGlvbilcIikpLHRoaXMuc3RyZWFtaW5nVGFza3MuZGVsZXRlKGUpLHQoKX0sdGhpcy5jb25uZWN0aW9uLnJlcXVlc3QoXCJyZXF1ZXN0XCIse2NsaWVudFJlcXVlc3Q6e2NvbW1hbmQ6cj09PXZ2LklOSkVDVD9cIlVuaW5qZWN0U3RyZWFtXCI6XCJVbnB1Ymxpc2hTdHJlYW1cIix1cmw6bi51cmx9fSwhMSx7dXJsOmUsY29tbWFuZDpcIlVuUHVibGlzaFN0cmVhbVwiLHdvcmtlclR5cGU6cj09PXZ2LlRSQU5TQ09ERT8xOjIscmVxdWVzdEJ5VXNlcjohMCx0aWQ6KHRoaXMubGFzdFRhc2tJZCsrKS50b1N0cmluZygpfSkudGhlbigoaT0+e1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIHN0b3AgbGl2ZSBzdHJlYW1pbmcgc3VjY2VzcywgY29kZTogXCIpLmNvbmNhdChpLmNvZGUpKSx0aGlzLnN0cmVhbWluZ1Rhc2tzLmRlbGV0ZShlKSwwPT09dGhpcy5zdHJlYW1pbmdUYXNrcy5zaXplJiZyIT09dnYuSU5KRUNUJiYodGhpcy5jb25uZWN0aW9uJiZ0aGlzLmNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLmNvbm5lY3Rpb249dm9pZCAwKSx0KCkscj09PXZ2LklOSkVDVCYmdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZSYmdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZShJdi5JTkpFQ1RfU1RSRUFNX1NUQVRVU19TVE9QX1NVQ0NFU1MsdGhpcy5zcGVjLnVpZCxlKX0pKS5jYXRjaChpKX0pKX1hc3luYyBjb250cm9sSW5qZWN0U3RyZWFtKGUsdCxpLG4pe2NvbnN0IHI9dGhpcy5zdHJlYW1pbmdUYXNrcy5nZXQoZSk7aWYoIXJ8fCF0aGlzLmNvbm5lY3Rpb258fHIubW9kZSE9PXZ2LklOSkVDVCl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IGZpbmQgaW5qZWN0IHN0cmVhbSB0YXNrIHRvIGNvbnRyb2xcIik7cmV0dXJuKGF3YWl0IHRoaXMuY29ubmVjdGlvbi5yZXF1ZXN0KFwicmVxdWVzdFwiLHtjbGllbnRSZXF1ZXN0Ontjb21tYW5kOlwiQ29udHJvbFN0cmVhbVwiLHVybDplLGNvbnRyb2w6dCxhdWRpb1ZvbHVtZTppLHBvc2l0aW9uOm59fSkpLnNlcnZlclJlc3BvbnNlfXJlc2V0QWxsVGFzaygpe3ZhciBlO2NvbnN0IHQ9QXJyYXkuZnJvbShQdihlPXRoaXMuc3RyZWFtaW5nVGFza3MpLmNhbGwoZSkpO3RoaXMudGVybWluYXRlKCk7Zm9yKGNvbnN0IGUgb2YgdCl0aGlzLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2soZS51cmwsZS5tb2RlKS5jYXRjaCgodD0+e3RoaXMub25MaXZlU3RyZWFtRXJyb3ImJnRoaXMub25MaXZlU3RyZWFtRXJyb3IoZS51cmwsdCl9KSl9dGVybWluYXRlKCl7dGhpcy5jYW5jZWxUb2tlbiYmdGhpcy5jYW5jZWxUb2tlbi5jYW5jZWwoKSx0aGlzLnN0cmVhbWluZ1Rhc2tzPW5ldyBNYXAsdGhpcy5pc1N0YXJ0aW5nU3RyZWFtaW5nVGFzaz0hMSx0aGlzLnN0YXR1c0Vycm9yPW5ldyBNYXAsdGhpcy5jYW5jZWxUb2tlbj1FQy5DYW5jZWxUb2tlbi5zb3VyY2UoKSx0aGlzLnVhcFJlc3BvbnNlPXZvaWQgMCx0aGlzLmNvbm5lY3Rpb24mJnRoaXMuY29ubmVjdGlvbi5jbG9zZSgpLHRoaXMuY29ubmVjdGlvbj12b2lkIDB9YXN5bmMgY29ubmVjdChlKXtpZih0aGlzLmNvbm5lY3Rpb24pdGhyb3cgbmV3IE12KHhnLlVORVhQRUNURURfRVJST1IsXCJsaXZlIHN0cmVhbWluZyBjb25uZWN0aW9uIGhhcyBhbHJlYWR5IGNvbm5lY3RlZFwiKTtjb25zdCB0PWF3YWl0IGZTKHRoaXMsSHYuUkVRVUVTVF9XT1JLRVJfTUFOQUdFUl9MSVNULGUpO3JldHVybiB0aGlzLnVhcFJlc3BvbnNlPXQsdGhpcy5jb25uZWN0aW9uPW5ldyBTUCh0LndvcmtlclRva2VuLHRoaXMuc3BlYyx0aGlzLndzUmV0cnlDb25maWcsZSksdGhpcy5jb25uZWN0aW9uLm9uKFd2LldBUk5JTkcsKChlLHQpPT50aGlzLm9uTGl2ZVN0cmVhbVdhcm5pbmcmJnRoaXMub25MaXZlU3RyZWFtV2FybmluZyh0LGUpKSksdGhpcy5jb25uZWN0aW9uLm9uKFd2LlBVQkxJU0hfU1RSRUFNX1NUQVRVUywoZT0+dGhpcy5oYW5kbGVQdWJsaXNoU3RyZWFtU2VydmVyKGUpKSksdGhpcy5jb25uZWN0aW9uLm9uKFd2LklOSkVDVF9TVFJFQU1fU1RBVFVTLChlPT50aGlzLmhhbmRsZUluamVjdFN0cmVhbVNlcnZlclN0YXR1cyhlKSkpLHRoaXMuY29ubmVjdGlvbi5vbihXdi5SRVFVRVNUX05FV19BRERSRVNTLCgodCxpKT0+e2lmKCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuIGkobmV3IE12KHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGdldCBuZXcgbGl2ZSBzdHJlYW1pbmcgYWRkcmVzcyBsaXN0XCIpKTtmUyh0aGlzLEh2LlJFUVVFU1RfV09SS0VSX01BTkFHRVJfTElTVCxlKS50aGVuKChlPT57dGhpcy51YXBSZXNwb25zZT1lLHQoZS5hZGRyZXNzTGlzdCl9KSkuY2F0Y2goaSl9KSksYXdhaXQgdGhpcy5jb25uZWN0aW9uLmluaXQodC5hZGRyZXNzTGlzdCksdGhpcy5jb25uZWN0aW9ufWhhbmRsZVB1Ymxpc2hTdHJlYW1TZXJ2ZXIoZSl7Y29uc3QgdD1lLnNlcnZlclN0YXR1cyYmZS5zZXJ2ZXJTdGF0dXMudXJsfHxcImVtcHR5X3VybFwiLGk9dGhpcy5zdHJlYW1pbmdUYXNrcy5nZXQodCksbj1lLnJlYXNvbjtzd2l0Y2goZS5jb2RlKXtjYXNlIEt2LlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9QVUJMSVNIX0JST0tFTjpjYXNlIEt2LlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0NPTk5FQ1Q6Y2FzZSBLdi5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9IQU5EU0hBS0U6Y2FzZSBLdi5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9QVUJMSVNIOntjb25zdCBuPW5ldyBNdih4Zy5MSVZFX1NUUkVBTUlOR19DRE5fRVJST1IsXCJcIix7Y29kZTplLmNvZGV9KTtpZihpKXJldHVybiBXQy5lcnJvcihuLnRvU3RyaW5nKCkpLHRoaXMub25MaXZlU3RyZWFtRXJyb3ImJnRoaXMub25MaXZlU3RyZWFtRXJyb3IodCxuKTtpZighdGhpcy5pc1N0YXJ0aW5nU3RyZWFtaW5nVGFzaylyZXR1cm47dGhpcy5zdGF0dXNFcnJvci5zZXQodCxuKX1jYXNlIEt2LkxJVkVfU1RSRUFNX1JFU1BPTlNFX0ZBSUxFRF9MT0FEX0lNQUdFOntjb25zdCBlPW5ldyBNdih4Zy5MSVZFX1NUUkVBTUlOR19XQVJOX0ZBSUxFRF9MT0FEX0lNQUdFLG4pO3JldHVybiB0aGlzLm9uTGl2ZVN0cmVhbVdhcm5pbmcmJnRoaXMub25MaXZlU3RyZWFtV2FybmluZyh0LGUpfWNhc2UgS3YuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX0xPU1Q6Y2FzZSBLdi5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfUVVJVDp7dmFyIHI7aWYoIXRoaXMuY29ubmVjdGlvbilyZXR1cm47dGhpcy5jb25uZWN0aW9uLnRyeU5leHRBZGRyZXNzKCk7Y29uc3QgdD1BcnJheS5mcm9tKFB2KHI9dGhpcy5zdHJlYW1pbmdUYXNrcykuY2FsbChyKSk7Zm9yKGNvbnN0IGkgb2YgdClpLmFib3J0VGFzaz9pLmFib3J0VGFzaygpOihXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIHB1Ymxpc2ggc3RyZWFtIHN0YXR1cyBjb2RlXCIpLGUuY29kZSxcInRyeSB0byByZXB1Ymxpc2hcIixpLnVybCksdGhpcy5zdGFydExpdmVTdHJlYW1pbmdUYXNrKGkudXJsLGkubW9kZSxuZXcgTXYoeGcuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiXCIse2NvZGU6ZS5jb2RlfSkpLnRoZW4oKCgpPT57V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gcmVwdWJsaXNoIGxpdmUgc3RyZWFtIHN1Y2Nlc3NcIiksaS51cmwpfSkpLmNhdGNoKChlPT57V0MuZXJyb3IoZS50b1N0cmluZygpKSx0aGlzLm9uTGl2ZVN0cmVhbUVycm9yJiZ0aGlzLm9uTGl2ZVN0cmVhbUVycm9yKGkudXJsLGUpfSkpKTtyZXR1cm59fX1oYW5kbGVJbmplY3RTdHJlYW1TZXJ2ZXJTdGF0dXMoZSl7Y29uc3QgdD1OdW1iZXIoZS51aWQpLGk9ZS5zZXJ2ZXJTdGF0dXMmJmUuc2VydmVyU3RhdHVzLnVybDtzd2l0Y2goZS5jb2RlKXtjYXNlIDIwMDpyZXR1cm4gdm9pZCh0aGlzLm9uSW5qZWN0U3RhdHVzQ2hhbmdlJiZ0aGlzLm9uSW5qZWN0U3RhdHVzQ2hhbmdlKEl2LklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUQVJUX1NVQ0NFU1MsdCxpKSk7Y2FzZSA0NTE6cmV0dXJuIHRoaXMub25JbmplY3RTdGF0dXNDaGFuZ2UmJnRoaXMub25JbmplY3RTdGF0dXNDaGFuZ2UoSXYuSU5KRUNUX1NUUkVBTV9TVEFUVVNfU1RBUlRfQUxSRUFEWV9FWElTVFMsdCxpKSx2b2lkIHRoaXMuc3RyZWFtaW5nVGFza3MuZGVsZXRlKGkpO2Nhc2UgNDUzOnJldHVybiB0aGlzLm9uSW5qZWN0U3RhdHVzQ2hhbmdlJiZ0aGlzLm9uSW5qZWN0U3RhdHVzQ2hhbmdlKEl2LklOSkVDVF9TVFJFQU1fU1RBVFVTX1NUQVJUX1VOQVVUSE9SSVpFRCx0LGkpLHZvaWQgdGhpcy5zdHJlYW1pbmdUYXNrcy5kZWxldGUoaSk7Y2FzZSA0NzA6cmV0dXJuIHRoaXMub25JbmplY3RTdGF0dXNDaGFuZ2UmJnRoaXMub25JbmplY3RTdGF0dXNDaGFuZ2UoSXYuSU5KRUNUX1NUUkVBTV9TVEFUVVNfQlJPS0VOLHQsaSksdm9pZCB0aGlzLnN0cmVhbWluZ1Rhc2tzLmRlbGV0ZShpKTtjYXNlIDQ5OTpyZXR1cm4gdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZSYmdGhpcy5vbkluamVjdFN0YXR1c0NoYW5nZShJdi5JTkpFQ1RfU1RSRUFNX1NUQVRVU19TVEFSVF9USU1FT1VULHQsaSksdm9pZCB0aGlzLnN0cmVhbWluZ1Rhc2tzLmRlbGV0ZShpKTtkZWZhdWx0OnJldHVybiB2b2lkIFdDLmRlYnVnKFwiaW5qZWN0IHN0cmVhbSBzZXJ2ZXIgc3RhdHVzXCIsZSl9fWhhc1VybChlKXtyZXR1cm4gdGhpcy5zdHJlYW1pbmdUYXNrcy5oYXMoZSl9fWNsYXNzIHZQe2NvbnN0cnVjdG9yKCl7bnUodGhpcyxcImRlc3RDaGFubmVsTWVkaWFJbmZvc1wiLG5ldyBNYXApLG51KHRoaXMsXCJzcmNDaGFubmVsTWVkaWFJbmZvXCIsdm9pZCAwKX1zZXRTcmNDaGFubmVsSW5mbyhlKXtuSShlKSx0aGlzLnNyY0NoYW5uZWxNZWRpYUluZm89ZX1hZGREZXN0Q2hhbm5lbEluZm8oZSl7bkkoZSksdGhpcy5kZXN0Q2hhbm5lbE1lZGlhSW5mb3Muc2V0KGUuY2hhbm5lbE5hbWUsZSl9cmVtb3ZlRGVzdENoYW5uZWxJbmZvKGUpe1V2KGUpLHRoaXMuZGVzdENoYW5uZWxNZWRpYUluZm9zLmRlbGV0ZShlKX1nZXRTcmNDaGFubmVsTWVkaWFJbmZvKCl7cmV0dXJuIHRoaXMuc3JjQ2hhbm5lbE1lZGlhSW5mb31nZXREZXN0Q2hhbm5lbE1lZGlhSW5mbygpe3JldHVybiB0aGlzLmRlc3RDaGFubmVsTWVkaWFJbmZvc319ZnVuY3Rpb24gSVAoZSl7aWYoIShlIGluc3RhbmNlb2YgdlApKXtyZXR1cm4gbmV3IE12KHhnLklOVkFMSURfUEFSQU1TLFwiQ29uZmlnIHNob3VsZCBiZSBpbnN0YW5jZSBvZiBbQ2hhbm5lbE1lZGlhUmVsYXlDb25maWd1cmF0aW9uXVwiKS50aHJvdygpfWNvbnN0IHQ9ZS5nZXRTcmNDaGFubmVsTWVkaWFJbmZvKCksaT1lLmdldERlc3RDaGFubmVsTWVkaWFJbmZvKCk7aWYoIXQpe3JldHVybiBuZXcgTXYoeGcuSU5WQUxJRF9QQVJBTVMsXCJzcmNDaGFubmVsTWVkaWFJbmZvIHNob3VsZCBub3QgYmUgZW1wdHlcIikudGhyb3coKX1pZigwPT09aS5zaXplKXtyZXR1cm4gbmV3IE12KHhnLklOVkFMSURfUEFSQU1TLFwiZGVzdENoYW5uZWxNZWRpYUluZm8gc2hvdWxkIG5vdCBiZSBlbXB0eVwiKS50aHJvdygpfX1jbGFzcyB5UCBleHRlbmRzIGlTe2NvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcigpLG51KHRoaXMsXCJ3c1wiLHZvaWQgMCksbnUodGhpcyxcInJlcXVlc3RJZFwiLDEpLG51KHRoaXMsXCJoZWFydEJlYXRUaW1lclwiLHZvaWQgMCksbnUodGhpcyxcImpvaW5JbmZvXCIsdm9pZCAwKSxudSh0aGlzLFwiY2xpZW50SWRcIix2b2lkIDApLG51KHRoaXMsXCJvbk9wZW5cIiwoKCk9Pnt0aGlzLmVtaXQoXCJvcGVuXCIpLHRoaXMuc3RhcnRIZWFydEJlYXRDaGVjaygpfSkpLG51KHRoaXMsXCJvbkNsb3NlXCIsKGU9Pnt0aGlzLmVtaXQoXCJjbG9zZVwiKSx0aGlzLmRpc3Bvc2UoKX0pKSxudSh0aGlzLFwib25NZXNzYWdlXCIsKGU9Pntjb25zdCB0PUpTT04ucGFyc2UoZS5kYXRhKTtpZighdHx8XCJzZXJ2ZXJSZXNwb25zZVwiIT09dC5jb21tYW5kfHwhdC5yZXF1ZXN0SWQpcmV0dXJuIHQmJlwic2VydmVyU3RhdHVzXCI9PT10LmNvbW1hbmQmJnQuc2VydmVyU3RhdHVzJiZ0LnNlcnZlclN0YXR1cy5jb21tYW5kPyh0aGlzLmVtaXQoXCJzdGF0dXNcIix0LnNlcnZlclN0YXR1cyksdm9pZCB0aGlzLmVtaXQodC5zZXJ2ZXJTdGF0dXMuY29tbWFuZCx0LnNlcnZlclN0YXR1cykpOnZvaWQgMDt0aGlzLmVtaXQoXCJyZXFfXCIuY29uY2F0KHQucmVxdWVzdElkKSx0KX0pKSx0aGlzLmpvaW5JbmZvPWUsdGhpcy5jbGllbnRJZD10LHRoaXMud3M9bmV3IEpJKFwiY3Jvc3MtY2hhbm5lbC1cIi5jb25jYXQodGhpcy5jbGllbnRJZCksaSksdGhpcy53cy5vbihDdi5SRUNPTk5FQ1RJTkcsKCgpPT57dGhpcy53cy5yZWNvbm5lY3RNb2RlPVwicmV0cnlcIix0aGlzLmVtaXQoXCJyZWNvbm5lY3RpbmdcIil9KSksdGhpcy53cy5vbihDdi5DT05ORUNURUQsdGhpcy5vbk9wZW4pLHRoaXMud3Mub24oQ3YuT05fTUVTU0FHRSx0aGlzLm9uTWVzc2FnZSksdGhpcy53cy5vbihDdi5DTE9TRUQsdGhpcy5vbkNsb3NlKX1pc0Nvbm5lY3QoKXtyZXR1cm5cImNvbm5lY3RlZFwiPT09dGhpcy53cy5zdGF0ZX1zZW5kTWVzc2FnZShlKXtjb25zdCB0PXRoaXMucmVxdWVzdElkKys7cmV0dXJuIGUucmVxdWVzdElkPXQsZS5zZXE9dCx0aGlzLndzLnNlbmRNZXNzYWdlKGUpLHR9d2FpdFN0YXR1cyhlKXtyZXR1cm4gbmV3IHRnKCgodCxpKT0+e2NvbnN0IG49d2luZG93LnNldFRpbWVvdXQoKCgpPT57aShuZXcgTXYoeGcuVElNRU9VVCxcIndhaXQgc3RhdHVzIHRpbWVvdXQsIHN0YXR1czogXCIuY29uY2F0KGUpKSl9KSw1ZTMpO3RoaXMub25jZShlLChyPT57d2luZG93LmNsZWFyVGltZW91dChuKSxyLnN0YXRlJiYwIT09ci5zdGF0ZT9pKG5ldyBNdih4Zy5DUk9TU19DSEFOTkVMX1dBSVRfU1RBVFVTX0VSUk9SLFwid2FpdCBzdGF0dXMgZXJyb3IsIHN0YXR1czogXCIuY29uY2F0KGUpKSk6dCh2b2lkIDApfSkpLHRoaXMub25jZShcImRpc3Bvc2VcIiwoKCk9Pnt3aW5kb3cuY2xlYXJUaW1lb3V0KG4pLGkobmV3IE12KHhnLldTX0FCT1JUKSl9KSl9KSl9YXN5bmMgcmVxdWVzdChlKXtpZihcImNsb3NlZFwiPT09dGhpcy53cy5zdGF0ZSl0aHJvdyBuZXcgTXYoeGcuV1NfRElTQ09OTkVDVCk7Y29uc3QgdD0oKT0+bmV3IHRnKCgoZSx0KT0+e3RoaXMud3Mub25jZShDdi5DTE9TRUQsKCgpPT50KG5ldyBNdih4Zy5XU19BQk9SVCkpKSksdGhpcy53cy5vbmNlKEN2LkNPTk5FQ1RFRCxlKX0pKTtcImNvbm5lY3RlZFwiIT09dGhpcy53cy5zdGF0ZSYmYXdhaXQgdCgpO2NvbnN0IGk9dGhpcy5zZW5kTWVzc2FnZShlKSxuPW5ldyB0ZygoKGUsdCk9Pntjb25zdCBuPSgpPT57dChuZXcgTXYoeGcuV1NfQUJPUlQpKX07dGhpcy53cy5vbmNlKEN2LlJFQ09OTkVDVElORyxuKSx0aGlzLndzLm9uY2UoQ3YuQ0xPU0VELG4pLHRoaXMub25jZShcInJlcV9cIi5jb25jYXQoaSksZSksVVMoM2UzKS50aGVuKCgoKT0+e3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVxX1wiLmNvbmNhdChpKSksdGhpcy53cy5vZmYoQ3YuUkVDT05ORUNUSU5HLG4pLHRoaXMud3Mub2ZmKEN2LkNMT1NFRCxuKSx0KG5ldyBNdih4Zy5USU1FT1VULFwiY3Jvc3MgY2hhbm5lbCB3cyByZXF1ZXN0IHRpbWVvdXRcIikpfSkpfSkpLHI9YXdhaXQgbjtpZighcnx8MjAwIT09ci5jb2RlKXRocm93IG5ldyBNdih4Zy5DUk9TU19DSEFOTkVMX1NFUlZFUl9FUlJPUl9SRVNQT05TRSxcInJlc3BvbnNlOiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkocikpKTtyZXR1cm4gcn1hc3luYyBjb25uZWN0KGUpe3RoaXMud3MucmVtb3ZlQWxsTGlzdGVuZXJzKEN2LlJFUVVFU1RfTkVXX1VSTFMpLHRoaXMud3Mub24oQ3YuUkVRVUVTVF9ORVdfVVJMUywodD0+e3QoZSl9KSksYXdhaXQgdGhpcy53cy5pbml0KGUpfWRpc3Bvc2UoKXt0aGlzLmNsZWFySGVhcnRCZWF0Q2hlY2soKSx0aGlzLmVtaXQoXCJkaXNwb3NlXCIpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy53cy5jbG9zZSgpfXNlbmRQaW5nKGUpe2NvbnN0IHQ9dGhpcy5yZXF1ZXN0SWQrKztyZXR1cm4gZS5yZXF1ZXN0SWQ9dCx0aGlzLndzLnNlbmRNZXNzYWdlKGUpLHR9c3RhcnRIZWFydEJlYXRDaGVjaygpe3RoaXMuaGVhcnRCZWF0VGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaGVhcnRCZWF0VGltZXIpLHRoaXMuaGVhcnRCZWF0VGltZXI9d2luZG93LnNldEludGVydmFsKCgoKT0+e3RoaXMuc2VuZFBpbmcoe2NvbW1hbmQ6XCJwaW5nXCIsYXBwSWQ6dGhpcy5qb2luSW5mby5hcHBJZCxjbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLHVpZDp0aGlzLmpvaW5JbmZvLnVpZC50b1N0cmluZygpLHNpZDp0aGlzLmpvaW5JbmZvLnNpZCx0czorbmV3IERhdGUscmVxdWVzdElkOjB9KX0pLDNlMyl9Y2xlYXJIZWFydEJlYXRDaGVjaygpe3dpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaGVhcnRCZWF0VGltZXIpLHRoaXMuaGVhcnRCZWF0VGltZXI9dm9pZCAwfX1jbGFzcyBBUCBleHRlbmRzIGlTe3NldCBzdGF0ZShlKXtlIT09dGhpcy5fc3RhdGUmJihlIT09enYuUkVMQVlfU1RBVEVfRkFJTFVSRSYmKHRoaXMuZXJyb3JDb2RlPVh2LlJFTEFZX09LKSx0aGlzLmVtaXQoXCJzdGF0ZVwiLGUsdGhpcy5lcnJvckNvZGUpLHRoaXMuX3N0YXRlPWUpfWdldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1jb25zdHJ1Y3RvcihlLHQsaSxuLHIpe3N1cGVyKCksbnUodGhpcyxcImpvaW5JbmZvXCIsdm9pZCAwKSxudSh0aGlzLFwic2lkXCIsdm9pZCAwKSxudSh0aGlzLFwiY2xpZW50SWRcIix2b2lkIDApLG51KHRoaXMsXCJjYW5jZWxUb2tlblwiLEVDLkNhbmNlbFRva2VuLnNvdXJjZSgpKSxudSh0aGlzLFwid29ya2VyVG9rZW5cIix2b2lkIDApLG51KHRoaXMsXCJyZXF1ZXN0SWRcIiwwKSxudSh0aGlzLFwic2lnbmFsXCIsdm9pZCAwKSxudSh0aGlzLFwicHJldkNoYW5uZWxNZWRpYUNvbmZpZ1wiLHZvaWQgMCksbnUodGhpcyxcImh0dHBSZXRyeUNvbmZpZ1wiLHZvaWQgMCksbnUodGhpcyxcIl9yZXNvbHV0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwiX3N0YXRlXCIsenYuUkVMQVlfU1RBVEVfSURMRSksbnUodGhpcyxcImVycm9yQ29kZVwiLFh2LlJFTEFZX09LKSxudSh0aGlzLFwib25TdGF0dXNcIiwoZT0+e1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBDaGFubmVsTWVkaWFTdGF0dXM6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSkpKSxlJiZlLmNvbW1hbmQmJihcIm9uQXVkaW9QYWNrZXRSZWNlaXZlZFwiPT09ZS5jb21tYW5kJiZ0aGlzLmVtaXQoXCJldmVudFwiLEp2LlBBQ0tFVF9SRUNFSVZFRF9BVURJT19GUk9NX1NSQyksXCJvblZpZGVvUGFja2V0UmVjZWl2ZWRcIj09PWUuY29tbWFuZCYmdGhpcy5lbWl0KFwiZXZlbnRcIixKdi5QQUNLRVRfUkVDRUlWRURfVklERU9fRlJPTV9TUkMpLFwib25TcmNUb2tlblByaXZpbGVnZURpZEV4cGlyZVwiPT09ZS5jb21tYW5kJiYodGhpcy5lcnJvckNvZGU9WHYuU1JDX1RPS0VOX0VYUElSRUQsdGhpcy5zdGF0ZT16di5SRUxBWV9TVEFURV9GQUlMVVJFKSxcIm9uRGVzdFRva2VuUHJpdmlsZWdlRGlkRXhwaXJlXCI9PT1lLmNvbW1hbmQmJih0aGlzLmVycm9yQ29kZT1Ydi5ERVNUX1RPS0VOX0VYUElSRUQsdGhpcy5zdGF0ZT16di5SRUxBWV9TVEFURV9GQUlMVVJFKSl9KSksbnUodGhpcyxcIm9uUmVjb25uZWN0XCIsKGFzeW5jKCk9PntXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gQ2hhbm5lbE1lZGlhU29ja2V0IGRpc2Nvbm5lY3QsIHJlY29ubmVjdGluZ1wiKSksdGhpcy5lbWl0KFwiZXZlbnRcIixKdi5ORVRXT1JLX0RJU0NPTk5FQ1RFRCksdGhpcy5zdGF0ZT16di5SRUxBWV9TVEFURV9JRExFLHRoaXMucHJldkNoYW5uZWxNZWRpYUNvbmZpZyYmdGhpcy5zZW5kU3RhcnRSZWxheU1lc3NhZ2UodGhpcy5wcmV2Q2hhbm5lbE1lZGlhQ29uZmlnKS5jYXRjaCgoZT0+e3RoaXMuc3RhdGUhPT16di5SRUxBWV9TVEFURV9JRExFJiYoV0MuZXJyb3IoXCJhdXRvIHJlc3RhcnQgY2hhbm5lbCBtZWRpYSByZWxheSBmYWlsZWRcIixlLnRvU3RyaW5nKCkpLHRoaXMuZXJyb3JDb2RlPVh2LlNFUlZFUl9DT05ORUNUSU9OX0xPU1QsdGhpcy5zdGF0ZT16di5SRUxBWV9TVEFURV9GQUlMVVJFKX0pKX0pKSx0aGlzLmpvaW5JbmZvPWUsdGhpcy5jbGllbnRJZD10LHRoaXMuc2lkPVZTKCksdGhpcy5zaWduYWw9bmV3IHlQKHRoaXMuam9pbkluZm8sdGhpcy5jbGllbnRJZCxpKSx0aGlzLmh0dHBSZXRyeUNvbmZpZz1uLHRoaXMuX3Jlc29sdXRpb249cn1hc3luYyBzdGFydENoYW5uZWxNZWRpYVJlbGF5KGUpe2lmKHRoaXMuc3RhdGUhPT16di5SRUxBWV9TVEFURV9JRExFKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTik7dGhpcy5zdGF0ZT16di5SRUxBWV9TVEFURV9DT05ORUNUSU5HLGF3YWl0IHRoaXMuY29ubmVjdCgpLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBjb25uZWN0IHN1Y2Nlc3NcIikpO3RyeXthd2FpdCB0aGlzLnNlbmRTdGFydFJlbGF5TWVzc2FnZShlKX1jYXRjaChlKXtpZihlLmRhdGEmJmUuZGF0YS5zZXJ2ZXJSZXNwb25zZSYmXCJTZXRTb3VyY2VDaGFubmVsXCI9PT1lLmRhdGEuc2VydmVyUmVzcG9uc2UuY29tbWFuZCl0aHJvdyBuZXcgTXYoeGcuQ1JPU1NfQ0hBTk5FTF9GQUlMRURfSk9JTl9TUkMpO2lmKGUuZGF0YSYmZS5kYXRhLnNlcnZlclJlc3BvbnNlJiZcIlNldERlc3RDaGFubmVsU3RhdHVzXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQpdGhyb3cgbmV3IE12KHhnLkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fREVTVCk7aWYoZS5kYXRhJiZlLmRhdGEuc2VydmVyUmVzcG9uc2UmJlwiU3RhcnRQYWNrZXRUcmFuc2ZlclwiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kKXRocm93IG5ldyBNdih4Zy5DUk9TU19DSEFOTkVMX0ZBSUxFRF9QQUNLRVRfU0VOVF9UT19ERVNUKTt0aHJvdyBlfXRoaXMucHJldkNoYW5uZWxNZWRpYUNvbmZpZz1lfWFzeW5jIHVwZGF0ZUNoYW5uZWxNZWRpYVJlbGF5KGUpe2lmKHRoaXMuc3RhdGUhPT16di5SRUxBWV9TVEFURV9SVU5OSU5HKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTik7YXdhaXQgdGhpcy5zZW5kVXBkYXRlTWVzc2FnZShlKSx0aGlzLnByZXZDaGFubmVsTWVkaWFDb25maWc9ZX1hc3luYyBzZXRWaWRlb1Byb2ZpbGUoZSl7aWYodGhpcy5fcmVzb2x1dGlvbj1lLHRoaXMuc3RhdGUhPT16di5SRUxBWV9TVEFURV9SVU5OSU5HKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTik7Y29uc3QgdD10aGlzLmdlbk1lc3NhZ2UocXYuU2V0VmlkZW9Qcm9maWxlKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KHQpLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBzZXRWaWRlb1Byb2ZpbGUgc3VjY2Vzc1wiKSl9YXN5bmMgc3RvcENoYW5uZWxNZWRpYVJlbGF5KCl7YXdhaXQgdGhpcy5zZW5kU3RvcFJlbGF5TWVzc2FnZSgpLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdG9wQ2hhbm5lbE1lZGlhUmVsYXk6IHNlbmQgc3RvcCBtZXNzYWdlIHN1Y2Nlc3NcIikpLHRoaXMuc3RhdGU9enYuUkVMQVlfU1RBVEVfSURMRSx0aGlzLmRpc3Bvc2UoKX1kaXNwb3NlKCl7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGRpc3Bvc2VDaGFubmVsTWVkaWFSZWxheVwiKSksdGhpcy5jYW5jZWxUb2tlbi5jYW5jZWwoKSx0aGlzLmNhbmNlbFRva2VuPUVDLkNhbmNlbFRva2VuLnNvdXJjZSgpLHRoaXMuc3RhdGU9enYuUkVMQVlfU1RBVEVfSURMRSx0aGlzLmVtaXQoXCJkaXNwb3NlXCIpLHRoaXMuc2lnbmFsLmRpc3Bvc2UoKSx0aGlzLnByZXZDaGFubmVsTWVkaWFDb25maWc9dm9pZCAwfWFzeW5jIGNvbm5lY3QoKXtjb25zdCBlPWF3YWl0IHVQKHRoaXMuam9pbkluZm8sdGhpcy5jYW5jZWxUb2tlbi50b2tlbix0aGlzLmh0dHBSZXRyeUNvbmZpZyk7dGhpcy53b3JrZXJUb2tlbj1lLndvcmtlclRva2VuLGF3YWl0IHRoaXMuc2lnbmFsLmNvbm5lY3QoZS5hZGRyZXNzTGlzdCksdGhpcy5lbWl0KFwiZXZlbnRcIixKdi5ORVRXT1JLX0NPTk5FQ1RFRCksdGhpcy5zaWduYWwub24oXCJzdGF0dXNcIix0aGlzLm9uU3RhdHVzKSx0aGlzLnNpZ25hbC5vbihcInJlY29ubmVjdGluZ1wiLHRoaXMub25SZWNvbm5lY3QpfWFzeW5jIHNlbmRTdGFydFJlbGF5TWVzc2FnZShlKXtjb25zdCB0PXRoaXMuZ2VuTWVzc2FnZShxdi5TdG9wUGFja2V0VHJhbnNmZXIpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QodCksYXdhaXQgdGhpcy5zaWduYWwud2FpdFN0YXR1cyhcIk5vcm1hbCBRdWl0XCIpLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTdG9wUGFja2V0VHJhbnNmZXIgc3VjY2Vzc1wiKSk7Y29uc3QgaT10aGlzLmdlbk1lc3NhZ2UocXYuU2V0U2RrUHJvZmlsZSxlKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KGkpLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTZXRTZGtQcm9maWxlIHN1Y2Nlc3NcIikpO2NvbnN0IG49dGhpcy5nZW5NZXNzYWdlKHF2LlNldFNvdXJjZUNoYW5uZWwsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChuKSxhd2FpdCB0aGlzLnNpZ25hbC53YWl0U3RhdHVzKFwiU2V0U291cmNlQ2hhbm5lbFN0YXR1c1wiKSx0aGlzLmVtaXQoXCJldmVudFwiLEp2LlBBQ0tFVF9KT0lORURfU1JDX0NIQU5ORUwpLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTZXRTb3VyY2VDaGFubmVsIHN1Y2Nlc3NcIikpO2NvbnN0IHI9dGhpcy5nZW5NZXNzYWdlKHF2LlNldFNvdXJjZVVzZXJJZCxlKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KHIpLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTZXRTb3VyY2VVc2VySWQgc3VjY2Vzc1wiKSk7Y29uc3Qgcz10aGlzLmdlbk1lc3NhZ2UocXYuU2V0RGVzdENoYW5uZWwsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChzKSxhd2FpdCB0aGlzLnNpZ25hbC53YWl0U3RhdHVzKFwiU2V0RGVzdENoYW5uZWxTdGF0dXNcIiksdGhpcy5lbWl0KFwiZXZlbnRcIixKdi5QQUNLRVRfSk9JTkVEX0RFU1RfQ0hBTk5FTCksV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXk6IFNldERlc3RDaGFubmVsIHN1Y2Nlc3NcIikpO2NvbnN0IG89dGhpcy5nZW5NZXNzYWdlKHF2LlN0YXJ0UGFja2V0VHJhbnNmZXIsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChvKSx0aGlzLmVtaXQoXCJldmVudFwiLEp2LlBBQ0tFVF9TRU5UX1RPX0RFU1RfQ0hBTk5FTCksdGhpcy5zdGF0ZT16di5SRUxBWV9TVEFURV9SVU5OSU5HLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTdGFydFBhY2tldFRyYW5zZmVyIHN1Y2Nlc3NcIikpLHRoaXMuc2V0VmlkZW9Qcm9maWxlKHRoaXMuX3Jlc29sdXRpb24pfWFzeW5jIHNlbmRVcGRhdGVNZXNzYWdlKGUpe2NvbnN0IHQ9dGhpcy5nZW5NZXNzYWdlKHF2LlVwZGF0ZURlc3RDaGFubmVsLGUpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QodCksdGhpcy5lbWl0KFwiZXZlbnRcIixKdi5QQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTCksV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHNlbmRVcGRhdGVNZXNzYWdlOiBVcGRhdGVEZXN0Q2hhbm5lbCBzdWNjZXNzXCIpKX1hc3luYyBzZW5kU3RvcFJlbGF5TWVzc2FnZSgpe2NvbnN0IGU9dGhpcy5nZW5NZXNzYWdlKHF2LlN0b3BQYWNrZXRUcmFuc2Zlcik7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChlKSxXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc2VuZFN0b3BSZWxheU1lc3NhZ2U6IFN0b3BQYWNrZXRUcmFuc2ZlciBzdWNjZXNzXCIpKX1nZW5NZXNzYWdlKGUsdCl7Y29uc3QgaT1bXSxuPVtdLHI9W107dGhpcy5yZXF1ZXN0SWQrPTE7Y29uc3Qgcz17YXBwSWQ6dGhpcy5qb2luSW5mby5hcHBJZCxjbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLHVpZDp0aGlzLmpvaW5JbmZvLnVpZC50b1N0cmluZygpLHNka1ZlcnNpb246T0Msc2lkOnRoaXMuc2lkLHRzOkRhdGUubm93KCkscmVxdWVzdElkOnRoaXMucmVxdWVzdElkLHNlcTp0aGlzLnJlcXVlc3RJZCxhbGxvY2F0ZTohMCxjbGllbnRSZXF1ZXN0Ont9fTtcIjQuMTkuMVwiPT09cy5zZGtWZXJzaW9uJiYocy5zZGtWZXJzaW9uPVwiMC4wLjFcIik7bGV0IG89bnVsbCxhPW51bGw7c3dpdGNoKGUpe2Nhc2UgcXYuU2V0U2RrUHJvZmlsZTpyZXR1cm4gcy5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU2V0U2RrUHJvZmlsZVwiLHR5cGU6XCJtdWx0aV9jaGFubmVsXCJ9LHM7Y2FzZSBxdi5TZXRTb3VyY2VDaGFubmVsOmlmKGE9dCYmdC5nZXRTcmNDaGFubmVsTWVkaWFJbmZvKCksIWEpdGhyb3cgbmV3IE12KHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgc291cmNlIGNvbmZpZ1wiKTtyZXR1cm4gcy5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU2V0U291cmNlQ2hhbm5lbFwiLHVpZDpcIjBcIixjaGFubmVsTmFtZTphLmNoYW5uZWxOYW1lLHRva2VuOmEudG9rZW58fHRoaXMuam9pbkluZm8uYXBwSWR9LHM7Y2FzZSBxdi5TZXRTb3VyY2VVc2VySWQ6aWYoYT10JiZ0LmdldFNyY0NoYW5uZWxNZWRpYUluZm8oKSwhYSl0aHJvdyBuZXcgTXYoeGcuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCBzb3VyY2UgY29uZmlnXCIpO3JldHVybiBzLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTZXRTb3VyY2VVc2VySWRcIix1aWQ6YS51aWQrXCJcIn0scztjYXNlIHF2LlNldERlc3RDaGFubmVsOmlmKG89dCYmdC5nZXREZXN0Q2hhbm5lbE1lZGlhSW5mbygpLCFvKXRocm93IG5ldyBNdih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIGRlc3QgY29uZmlnXCIpO3JldHVybiBvLmZvckVhY2goKGU9PntpLnB1c2goZS5jaGFubmVsTmFtZSksbi5wdXNoKGUudWlkK1wiXCIpLHIucHVzaChlLnRva2VufHx0aGlzLmpvaW5JbmZvLmFwcElkKX0pKSxzLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTZXREZXN0Q2hhbm5lbFwiLGNoYW5uZWxOYW1lOmksdWlkOm4sdG9rZW46cn0scztjYXNlIHF2LlN0YXJ0UGFja2V0VHJhbnNmZXI6cmV0dXJuIHMuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlN0YXJ0UGFja2V0VHJhbnNmZXJcIn0scztjYXNlIHF2LlJlY29ubmVjdDpyZXR1cm4gcy5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiUmVjb25uZWN0XCJ9LHM7Y2FzZSBxdi5TdG9wUGFja2V0VHJhbnNmZXI6cmV0dXJuIHMuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlN0b3BQYWNrZXRUcmFuc2ZlclwifSxzO2Nhc2UgcXYuVXBkYXRlRGVzdENoYW5uZWw6aWYobz10JiZ0LmdldERlc3RDaGFubmVsTWVkaWFJbmZvKCksIW8pdGhyb3cgbmV3IE12KHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgZGVzdCBjb25maWdcIik7cmV0dXJuIG8uZm9yRWFjaCgoZT0+e2kucHVzaChlLmNoYW5uZWxOYW1lKSxuLnB1c2goZS51aWQrXCJcIiksci5wdXNoKGUudG9rZW58fHRoaXMuam9pbkluZm8uYXBwSWQpfSkpLHMuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlVwZGF0ZURlc3RDaGFubmVsXCIsY2hhbm5lbE5hbWU6aSx1aWQ6bix0b2tlbjpyfSxzO2Nhc2UgcXYuU2V0VmlkZW9Qcm9maWxlOnMuY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlNldFZpZGVvUHJvZmlsZVwiLHdpZHRoOnRoaXMuX3Jlc29sdXRpb24ud2lkdGgsaGVpZ2h0OnRoaXMuX3Jlc29sdXRpb24uaGVpZ2h0fX1yZXR1cm4gc319Y2xhc3MgYlB7Z2V0IGhhc1ZpZGVvKCl7cmV0dXJuIHRoaXMuX3ZpZGVvX2VuYWJsZWRfJiYhdGhpcy5fdmlkZW9fbXV0ZWRfJiZ0aGlzLl92aWRlb19hZGRlZF99Z2V0IGhhc0F1ZGlvKCl7cmV0dXJuIHRoaXMuX2F1ZGlvX2VuYWJsZWRfJiYhdGhpcy5fYXVkaW9fbXV0ZWRfJiZ0aGlzLl9hdWRpb19hZGRlZF99Z2V0IGF1ZGlvVHJhY2soKXtpZih0aGlzLmhhc0F1ZGlvKXJldHVybiB0aGlzLl9hdWRpb1RyYWNrfWdldCB2aWRlb1RyYWNrKCl7aWYodGhpcy5oYXNWaWRlbylyZXR1cm4gdGhpcy5fdmlkZW9UcmFja31nZXQgZGF0YUNoYW5uZWxzKCl7cmV0dXJuIHRoaXMuX2RhdGFDaGFubmVsc31jb25zdHJ1Y3RvcihlLHQpe251KHRoaXMsXCJ1aWRcIix2b2lkIDApLG51KHRoaXMsXCJfdWludGlkXCIsdm9pZCAwKSxudSh0aGlzLFwiX3RydXN0X2luX3Jvb21fXCIsITApLG51KHRoaXMsXCJfdHJ1c3RfYXVkaW9fZW5hYmxlZF9zdGF0ZV9cIiwhMCksbnUodGhpcyxcIl90cnVzdF92aWRlb19lbmFibGVkX3N0YXRlX1wiLCEwKSxudSh0aGlzLFwiX3RydXN0X2F1ZGlvX211dGVfc3RhdGVfXCIsITApLG51KHRoaXMsXCJfdHJ1c3RfdmlkZW9fbXV0ZV9zdGF0ZV9cIiwhMCksbnUodGhpcyxcIl9hdWRpb19tdXRlZF9cIiwhMSksbnUodGhpcyxcIl92aWRlb19tdXRlZF9cIiwhMSksbnUodGhpcyxcIl9hdWRpb19lbmFibGVkX1wiLCEwKSxudSh0aGlzLFwiX3ZpZGVvX2VuYWJsZWRfXCIsITApLG51KHRoaXMsXCJfYXVkaW9fYWRkZWRfXCIsITEpLG51KHRoaXMsXCJfdmlkZW9fYWRkZWRfXCIsITEpLG51KHRoaXMsXCJfdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlX1wiLCEwKSxudSh0aGlzLFwiX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV9cIiwhMCksbnUodGhpcyxcIl9hdWRpb1RyYWNrXCIsdm9pZCAwKSxudSh0aGlzLFwiX3ZpZGVvVHJhY2tcIix2b2lkIDApLG51KHRoaXMsXCJfZGF0YUNoYW5uZWxzXCIsW10pLG51KHRoaXMsXCJfYXVkaW9TU1JDXCIsdm9pZCAwKSxudSh0aGlzLFwiX3ZpZGVvU1NSQ1wiLHZvaWQgMCksbnUodGhpcyxcIl9hdWRpb09ydGNcIix2b2lkIDApLG51KHRoaXMsXCJfdmlkZW9PcnRjXCIsdm9pZCAwKSxudSh0aGlzLFwiX2NuYW1lXCIsdm9pZCAwKSxudSh0aGlzLFwiX3J0eFNzcmNJZFwiLHZvaWQgMCksdGhpcy51aWQ9ZSx0aGlzLl91aW50aWQ9dH19dmFyIHdQPWVnLE9QPXJtO2tuKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6ITB9LHt3aXRoUmVzb2x2ZXJzOmZ1bmN0aW9uKCl7dmFyIGU9T1AuZih0aGlzKTtyZXR1cm57cHJvbWlzZTplLnByb21pc2UscmVzb2x2ZTplLnJlc29sdmUscmVqZWN0OmUucmVqZWN0fX19KTt2YXIgTlA9cm0sRFA9RkU7a24oe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDohMH0se3RyeTpmdW5jdGlvbihlKXt2YXIgdD1OUC5mKHRoaXMpLGk9RFAoZSk7cmV0dXJuKGkuZXJyb3I/dC5yZWplY3Q6dC5yZXNvbHZlKShpLnZhbHVlKSx0LnByb21pc2V9fSk7dmFyIFBQPUood1ApLExQPUZvLmYoXCJhc3luY0l0ZXJhdG9yXCIpLGtQPUooTFApO2Z1bmN0aW9uIE1QKGUsdCl7dGhpcy52PWUsdGhpcy5rPXR9ZnVuY3Rpb24gVVAoZSl7dmFyIHQsaTtmdW5jdGlvbiBuKHQsaSl7dHJ5e3ZhciBzPWVbdF0oaSksbz1zLnZhbHVlLGE9byBpbnN0YW5jZW9mIE1QO1BQLnJlc29sdmUoYT9vLnY6bykudGhlbigoZnVuY3Rpb24oaSl7aWYoYSl7dmFyIGM9XCJyZXR1cm5cIj09PXQ/XCJyZXR1cm5cIjpcIm5leHRcIjtpZighby5rfHxpLmRvbmUpcmV0dXJuIG4oYyxpKTtpPWVbY10oaSkudmFsdWV9cihzLmRvbmU/XCJyZXR1cm5cIjpcIm5vcm1hbFwiLGkpfSksKGZ1bmN0aW9uKGUpe24oXCJ0aHJvd1wiLGUpfSkpfWNhdGNoKGUpe3IoXCJ0aHJvd1wiLGUpfX1mdW5jdGlvbiByKGUscil7c3dpdGNoKGUpe2Nhc2VcInJldHVyblwiOnQucmVzb2x2ZSh7dmFsdWU6cixkb25lOiEwfSk7YnJlYWs7Y2FzZVwidGhyb3dcIjp0LnJlamVjdChyKTticmVhaztkZWZhdWx0OnQucmVzb2x2ZSh7dmFsdWU6cixkb25lOiExfSl9KHQ9dC5uZXh0KT9uKHQua2V5LHQuYXJnKTppPW51bGx9dGhpcy5faW52b2tlPWZ1bmN0aW9uKGUscil7cmV0dXJuIG5ldyBQUCgoZnVuY3Rpb24ocyxvKXt2YXIgYT17a2V5OmUsYXJnOnIscmVzb2x2ZTpzLHJlamVjdDpvLG5leHQ6bnVsbH07aT9pPWkubmV4dD1hOih0PWk9YSxuKGUscikpfSkpfSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLnJldHVybiYmKHRoaXMucmV0dXJuPXZvaWQgMCl9ZnVuY3Rpb24geFAoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBVUChlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fWZ1bmN0aW9uIFZQKGUpe3JldHVybiBuZXcgTVAoZSwwKX1mdW5jdGlvbiBGUChlKXt2YXIgdD17fSxpPSExO2Z1bmN0aW9uIG4odCxuKXtyZXR1cm4gaT0hMCx7ZG9uZTohMSx2YWx1ZTpuZXcgTVAobj1uZXcgUFAoKGZ1bmN0aW9uKGkpe2koZVt0XShuKSl9KSksMSl9fXJldHVybiB0W3ZvaWQgMCE9PVVoJiYkaHx8XCJAQGl0ZXJhdG9yXCJdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHQubmV4dD1mdW5jdGlvbihlKXtyZXR1cm4gaT8oaT0hMSxlKTpuKFwibmV4dFwiLGUpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRocm93JiYodC50aHJvdz1mdW5jdGlvbihlKXtpZihpKXRocm93IGk9ITEsZTtyZXR1cm4gbihcInRocm93XCIsZSl9KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJldHVybiYmKHQucmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybiBpPyhpPSExLGUpOm4oXCJyZXR1cm5cIixlKX0pLHR9VVAucHJvdG90eXBlW1wiZnVuY3Rpb25cIj09dHlwZW9mIFVoJiZrUHx8XCJAQGFzeW5jSXRlcmF0b3JcIl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sVVAucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZShcIm5leHRcIixlKX0sVVAucHJvdG90eXBlLnRocm93PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UoXCJ0aHJvd1wiLGUpfSxVUC5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UoXCJyZXR1cm5cIixlKX07dmFyIEJQPUooTFApLGpQPXtleHBvcnRzOnt9fTshZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9KCgpPT57dmFyIGU9ezg6KGUsdCxpKT0+e2kucih0KSxpLmQodCx7UGFyc2VyOigpPT5DLFByaW50ZXI6KCk9PmIscGFyc2U6KCk9PkQscHJpbnQ6KCk9PlB9KTtjb25zdCBuPVwiXFxuXCIscj1cIlwiLmNvbmNhdChcIlxcclwiKS5jb25jYXQobikscz1cIiBcIjtsZXQgbztmdW5jdGlvbiBhKGUpe3JldHVybiBlPj1cIjBcIiYmZTw9XCI5XCJ9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZT49XCIhXCImJmU8PVwiflwifWZ1bmN0aW9uIGQoZSl7cmV0dXJuIGMoZSl8fGU+PVwiwoBcIiYmZTw9XCLDv1wifWZ1bmN0aW9uIGwoZSl7cmV0dXJuXCIhXCI9PT1lfHxlPj1cIiNcIiYmZTw9XCInXCJ8fGU+PVwiKlwiJiZlPD1cIitcInx8ZT49XCItXCImJmU8PVwiLlwifHxlPj1cIjBcIiYmZTw9XCI5XCJ8fGU+PVwiQVwiJiZlPD1cIlpcInx8ZT49XCJeXCImJmU8PVwiflwifWZ1bmN0aW9uIGgoZSl7cmV0dXJuIGU+PVwiMVwiJiZlPD1cIjlcIn1mdW5jdGlvbiB1KGUpe3JldHVybiBlPj1cIkFcIiYmZTw9XCJaXCJ8fGU+PVwiYVwiJiZlPD1cInpcIn1mdW5jdGlvbiBwKGUpe3JldHVyblwiZFwiPT09ZXx8XCJoXCI9PT1lfHxcIm1cIj09PWV8fFwic1wiPT09ZX1mdW5jdGlvbiBfKGUpe3JldHVybiBlPlwiXHUwMDAxXCImJmU8XCJcXHRcInx8ZT5cIlxcdlwiJiZlPFwiXFxmXCJ8fGU+XCJcdTAwMGVcIiYmZTxcIsO/XCJ9ZnVuY3Rpb24gRShlKXtyZXR1cm4gdShlKXx8YShlKXx8XCIrXCI9PT1lfHxcIi9cIj09PWV9ZnVuY3Rpb24gbShlKXtyZXR1cm4gYShlKXx8dShlKXx8XCIrXCI9PT1lfHxcIi9cIj09PWV8fFwiLVwiPT09ZXx8XCJfXCI9PT1lfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIHUoZSl8fGEoZSl8fFwiK1wiPT09ZXx8XCIvXCI9PT1lfWZ1bmN0aW9uIGcoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIFMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/ZyhPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe1QoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOmcoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gVChlLHQsaSl7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTppLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1pLGV9IWZ1bmN0aW9uKGUpe2UuVkVSU0lPTj1cInZcIixlLk9SSUdJTj1cIm9cIixlLlNFU1NJT05fTkFNRT1cInNcIixlLklORk9STUFUSU9OPVwiaVwiLGUuVVJJPVwidVwiLGUuRU1BSUw9XCJlXCIsZS5QSE9ORT1cInBcIixlLkNPTk5FQ1RJT049XCJjXCIsZS5CQU5EV0lEVEg9XCJiXCIsZS5USU1FPVwidFwiLGUuUkVQRUFUPVwiclwiLGUuWk9ORV9BREpVU1RNRU5UUz1cInpcIixlLktFWT1cImtcIixlLkFUVFJJQlVURT1cImFcIixlLk1FRElBPVwibVwifShvfHwobz17fSkpO2NsYXNzIFJ7Y29uc3VtZVRleHQoZSx0KXtsZXQgaT10O2Zvcig7aTxlLmxlbmd0aDspe2NvbnN0IHQ9ZVtpXTtpZihcIlxcMFwiPT09dHx8XCJcXHJcIj09PXR8fHQ9PT1uKWJyZWFrO2krPTF9aWYoaS10PT0wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdGV4dCwgYXQgXCIuY29uY2F0KGUpKTtyZXR1cm4gaX1jb25zdW1lVW5pY2FzdEFkZHJlc3MoZSx0LGkpe3JldHVybiB0aGlzLmNvbnN1bWVUaWxsKGUsdCxzKX1jb25zdW1lT25lT3JNb3JlKGUsdCxpKXtsZXQgbj10O2Zvcig7aShlW25dKTspbisrO2lmKG4tdD09MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJ1bGUgYXQgXCIuY29uY2F0KHQsXCIuXCIpKTtyZXR1cm4gbn1jb25zdW1lU3BhY2UoZSx0KXtpZihlW3RdPT09cylyZXR1cm4gdCsxO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3BhY2UgYXQgXCIuY29uY2F0KHQsXCIuXCIpKX1jb25zdW1lSVA0QWRkcmVzcyhlLHQpe2xldCBpPXQ7Zm9yKGxldCB0PTA7dDw0O3QrKylpZihpPXRoaXMuY29uc3VtZURlY2ltYWxVQ2hhcihlLGkpLDMhPT10KXtpZihcIi5cIiE9PWVbaV0pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBJUDQgYWRkcmVzcy5cIik7aSsrfXJldHVybiBpfWNvbnN1bWVEZWNpbWFsVUNoYXIoZSx0KXtsZXQgaT10O2ZvcihsZXQgdD0wO3Q8MyYmYShlW2ldKTt0KyssaSsrKTtpZihpLXQ9PTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkZWNpbWFsIHVjaGFyLlwiKTtjb25zdCBuPXBhcnNlSW50KGUuc2xpY2UodCxpKSk7aWYobj49MCYmbjw9MjU1KXJldHVybiBpO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGVjaW1hbCB1Y2hhclwiKX1jb25zdW1lSVA2QWRkcmVzcyhlLHQpe2xldCBpPXRoaXMuY29uc3VtZUhleHBhcnQoZSx0KTtyZXR1cm5cIjpcIj09PWVbaV0/KGkrPTEsaT10aGlzLmNvbnN1bWVJUDRBZGRyZXNzKGUsaSksaSk6aX1jb25zdW1lSGV4cGFydChlLHQpe2xldCBpPXQ7aWYoXCI6XCI9PT1lW2ldJiZcIjpcIj09PWVbaSsxXSl7aSs9Mjt0cnl7aT10aGlzLmNvbnN1bWVIZXhzZXEoZSxpKX1jYXRjaChlKXt9cmV0dXJuIGl9aWYoaT10aGlzLmNvbnN1bWVIZXhzZXEoZSxpKSxcIjpcIj09PWVbaV0mJlwiOlwiPT09ZVtpKzFdKXtpKz0yO3RyeXtpPXRoaXMuY29uc3VtZUhleHNlcShlLGkpfWNhdGNoKGUpe31yZXR1cm4gaX1yZXR1cm4gaX1jb25zdW1lSGV4c2VxKGUsdCl7bGV0IGk9dDtmb3IoO2k9dGhpcy5jb25zdW1lSGV4NChlLGkpLFwiOlwiPT09ZVtpXSYmXCI6XCIhPT1lW2krMV07KWkrPTE7cmV0dXJuIGl9Y29uc3VtZUhleDQoZSx0KXtsZXQgaT0wO2Zvcig7aTw0O2krKylpZighKChuPWVbdCtpXSk+PVwiMFwiJiZuPD1cIjlcInx8bj49XCJhXCImJm48PVwiZlwifHxuPj1cIkFcIiYmbjw9XCJGXCIpKXtpZigwPT09aSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGhleCA0XCIpO2JyZWFrfXZhciBuO3JldHVybiB0K2l9Y29uc3VtZUZRRE4oZSx0KXtsZXQgaT10O2Zvcig7YShlW2ldKXx8dShlW2ldKXx8XCItXCI9PT1lW2ldfHxcIi5cIj09PWVbaV07KWkrPTE7aWYoaS10PDQpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBGUUROXCIpO3JldHVybiBpfWNvbnN1bWVFeHRuQWRkcihlLHQpe3JldHVybiB0aGlzLmNvbnN1bWVPbmVPck1vcmUoZSx0LGQpfWNvbnN1bWVNdWx0aWNhc3RBZGRyZXNzKGUsdCxpKXtzd2l0Y2goaSl7Y2FzZVwiSVA0XCI6Y2FzZVwiaXA0XCI6cmV0dXJuIHRoaXMuY29uc3VtZUlQNE11bHRpY2FzdEFkZHJlc3MoZSx0KTtjYXNlXCJJUDZcIjpjYXNlXCJpcDZcIjpyZXR1cm4gdGhpcy5jb25zdW1lSVA2TXVsdGljYXN0QWRkcmVzcyhlLHQpO2RlZmF1bHQ6dHJ5e3JldHVybiB0aGlzLmNvbnN1bWVGUUROKGUsdCl9Y2F0Y2goaSl7cmV0dXJuIHRoaXMuY29uc3VtZUV4dG5BZGRyKGUsdCl9fX1jb25zdW1lSVA2TXVsdGljYXN0QWRkcmVzcyhlLHQpe2NvbnN0IGk9dGhpcy5jb25zdW1lSGV4cGFydChlLHQpO3JldHVyblwiL1wiPT09ZVtpXT90aGlzLmNvbnN1bWVJbnRlZ2VyKGUsaSsxKTppfWNvbnN1bWVJUDRNdWx0aWNhc3RBZGRyZXNzKGUsdCl7bGV0IGk9dCszO2NvbnN0IG49ZS5zbGljZSh0LGkpLHI9cGFyc2VJbnQobik7aWYocjwyMjR8fHI+MjM5KXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSVA0IG11bHRpY2FzdCBhZGRyZXNzLCBJUHY0IG11bHRpY2FzdCBhZGRyZXNzZXMgbWF5IGJlIGluIHRoZSByYW5nZSAyMjQuMC4wLjAgdG8gMjM5LjI1NS4yNTUuMjU1LlwiKTtmb3IobGV0IHQ9MDt0PDM7dCsrKXtpZihcIi5cIiE9PWVbaV0pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBJUDQgbXVsdGljYXN0IGFkZHJlc3MuXCIpO2krPTEsaT10aGlzLmNvbnN1bWVEZWNpbWFsVUNoYXIoZSxpKX1yZXR1cm5cIi9cIj09PWVbaV0mJihpKz0xKSxpPXRoaXMuY29uc3VtZVRUTChlLGkpLFwiL1wiPT09ZVtpXSYmKGk9dGhpcy5jb25zdW1lSW50ZWdlcihlLGkpKSxpfWNvbnN1bWVJbnRlZ2VyKGUsdCl7aWYoIWgoZVt0XSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnRlZ2VyLlwiKTtmb3IodCs9MTthKGVbdF0pOyl0Kz0xO3JldHVybiB0fWNvbnN1bWVUVEwoZSx0KXtpZihcIjBcIj09PWVbdF0pcmV0dXJuIHQrMTtpZighaChlW3RdKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFRUTC5cIik7dCs9MTtmb3IobGV0IGk9MDtpPDImJmEoZVt0XSk7aSsrKXQrPTE7cmV0dXJuIHR9Y29uc3VtZVRva2VuKGUsdCl7cmV0dXJuIHRoaXMuY29uc3VtZU9uZU9yTW9yZShlLHQsbCl9Y29uc3VtZVRpbWUoZSx0KXtsZXQgaT10O2lmKFwiMFwiPT09ZVtpXSlyZXR1cm4gaSsxO2ZvcihoKGVbaV0pJiYoaSs9MSk7YShlW2ldKTspaSsrO2lmKGktdDwxMCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHRpbWVcIik7cmV0dXJuIGl9Y29uc3VtZUFkZHJlc3MoZSx0KXtyZXR1cm4gdGhpcy5jb25zdW1lVGlsbChlLHQscyl9Y29uc3VtZVR5cGVkVGltZShlLHQpe2xldCBpPXQ7cmV0dXJuIGk9dGhpcy5jb25zdW1lT25lT3JNb3JlKGUsaSxhKSxwKGVbaV0pP2krMTppfWNvbnN1bWVSZXBlYXRJbnRlcnZhbChlLHQpe2lmKCFoKGVbdF0pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcmVwZWF0IGludGVydmFsXCIpO2Zvcih0Kz0xO2EoZVt0XSk7KXQrPTE7cmV0dXJuIHAoZVt0XSkmJih0Kz0xKSx0fWNvbnN1bWVQb3J0KGUsdCl7cmV0dXJuIHRoaXMuY29uc3VtZU9uZU9yTW9yZShlLHQsYSl9Y29uc3VtZShlLHQsaSl7Zm9yKGxldCBuPTA7bjxpLmxlbmd0aDtuKyspe2lmKHQrbj49ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiY29uc3VtZSBleGNlZWRpbmcgdmFsdWUgbGVuZ3RoXCIpO2lmKGVbdCtuXSE9PWlbbl0pdGhyb3cgbmV3IEVycm9yKFwiY29uc3VtZSBcIi5jb25jYXQoaSxcIiBmYWlsZWQgYXQgXCIpLmNvbmNhdChuKSl9cmV0dXJuIHQraS5sZW5ndGh9Y29uc3VtZVRpbGwoZSx0LGkpe2xldCBuPXQ7Zm9yKDtuPGUubGVuZ3RoJiYoXCJzdHJpbmdcIiE9dHlwZW9mIGl8fGVbbl0hPT1pKSYmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGl8fCFpKGVbbl0pKTspbisrO3JldHVybiBufX1jbGFzcyBDIGV4dGVuZHMgUntjb25zdHJ1Y3Rvcigpe3N1cGVyKCksVCh0aGlzLFwicmVjb3Jkc1wiLFtdKSxUKHRoaXMsXCJjdXJyZW50TGluZVwiLDApfXBhcnNlKGUpe2NvbnN0IHQ9dGhpcy5wcm9iZUVPTChlKTt0aGlzLnJlY29yZHM9ZS5zcGxpdCh0KS5maWx0ZXIoKGU9PiEhZS50cmltKCkpKS5tYXAodGhpcy5wYXJzZUxpbmUpLHRoaXMuY3VycmVudExpbmU9MDtjb25zdCBpPXRoaXMucGFyc2VWZXJzaW9uKCksbj10aGlzLnBhcnNlT3JpZ2luKCkscj10aGlzLnBhcnNlU2Vzc2lvbk5hbWUoKSxzPXRoaXMucGFyc2VJbmZvcm1hdGlvbigpLG89dGhpcy5wYXJzZVVyaSgpLGE9dGhpcy5wYXJzZUVtYWlsKCksYz10aGlzLnBhcnNlUGhvbmUoKSxkPXRoaXMucGFyc2VDb25uZWN0aW9uKCksbD10aGlzLnBhcnNlQmFuZFdpZHRoKCksaD10aGlzLnBhcnNlVGltZUZpZWxkcygpLHU9dGhpcy5wYXJzZUtleSgpLHA9dGhpcy5wYXJzZVNlc3Npb25BdHRyaWJ1dGUoKSxfPXRoaXMucGFyc2VNZWRpYURlc2NyaXB0aW9uKCk7aWYodGhpcy5jdXJyZW50TGluZSE9PXRoaXMucmVjb3Jkcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwicGFyc2luZyBmYWlsZWQsIG5vbiBleGhhdXN0aXZlIHNkcCBsaW5lcy5cIik7cmV0dXJue3ZlcnNpb246aSxvcmlnaW46bixzZXNzaW9uTmFtZTpyLGluZm9ybWF0aW9uOnMsdXJpOm8sZW1haWxzOmEscGhvbmVzOmMsY29ubmVjdGlvbjpkLGJhbmR3aWR0aHM6bCx0aW1lRmllbGRzOmgsa2V5OnUsYXR0cmlidXRlczpwLG1lZGlhRGVzY3JpcHRpb25zOl99fWdldEN1cnJlbnRSZWNvcmQoKXtjb25zdCBlPXRoaXMucmVjb3Jkc1t0aGlzLmN1cnJlbnRMaW5lXTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJSZWNvcmQgZG9lc24ndCBleGl0LlwiKTtyZXR1cm4gZX1wcm9iZUVPTChlKXtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylpZihlW3RdPT09bilyZXR1cm5cIlxcclwiPT09ZVt0LTFdP3I6bjt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG5ld2xpbmUgY2hhcmFjdGVyLlwiKX1wYXJzZUxpbmUoZSx0KXtpZihlLmxlbmd0aDwyKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2RwIGxpbmUsIHNkcCBsaW5lIHNob3VsZCBiZSBvZiBmb3JtIDx0eXBlPj08dmFsdWU+LlwiKTtjb25zdCBpPWVbMF07aWYoXCI9XCIhPT1lWzFdKXRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZHAgbGluZSwgPHR5cGU+IHNob3VsZCBiZSBhIHNpbmdsZSBjaGFyYWN0ZXIgZm9sbG93ZWQgYnkgYW4gXCI9XCIgc2lnbi4nKTtyZXR1cm57dHlwZTppLHZhbHVlOmUuc2xpY2UoMiksbGluZTp0LGN1cjowfX1wYXJzZVNlc3Npb25BdHRyaWJ1dGUoKXtjb25zdCBlPW5ldyBJO2Zvcig7dGhpcy5jdXJyZW50TGluZTx0aGlzLnJlY29yZHMubGVuZ3RoOyl7Y29uc3QgdD10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZih0LnR5cGUhPT1vLkFUVFJJQlVURSlicmVhaztjb25zdCBpPXthdHRGaWVsZDp0aGlzLmV4dHJhY3RPbmVPck1vcmUodCwoZT0+bChlKSYmXCI6XCIhPT1lKSksX2N1cjowfTtcIjpcIj09PXQudmFsdWVbdC5jdXJdJiYodC5jdXIrPTEsaS5hdHRWYWx1ZT10aGlzLmV4dHJhY3RPbmVPck1vcmUodCxfKSksZS5wYXJzZShpKSx0aGlzLmN1cnJlbnRMaW5lKyt9cmV0dXJuIGUuZGlnZXN0KCl9cGFyc2VNZWRpYUF0dHJpYnV0ZXMoZSl7Y29uc3QgdD1uZXcgeShlKTtmb3IoO3RoaXMuY3VycmVudExpbmU8dGhpcy5yZWNvcmRzLmxlbmd0aDspe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoZS50eXBlIT09by5BVFRSSUJVVEUpYnJlYWs7Y29uc3QgaT17YXR0RmllbGQ6dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsKGU9PmwoZSkmJlwiOlwiIT09ZSkpLF9jdXI6MH07XCI6XCI9PT1lLnZhbHVlW2UuY3VyXSYmKGUuY3VyKz0xLGkuYXR0VmFsdWU9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsXykpLHQucGFyc2UoaSksdGhpcy5jdXJyZW50TGluZSsrfXJldHVybiB0LmRpZ2VzdCgpfXBhcnNlS2V5KCl7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihlLnR5cGU9PT1vLktFWSl7aWYoXCJwcm9tcHRcIj09PWUudmFsdWV8fFwiY2xlYXI6XCI9PT1lLnZhbHVlfHxcImJhc2U2NDpcIj09PWUudmFsdWV8fFwidXJpOlwiPT09ZS52YWx1ZSlyZXR1cm4gZS52YWx1ZTt0aHJvdyB0aGlzLmN1cnJlbnRMaW5lKyssbmV3IEVycm9yKFwiSW52YWxpZCBrZXkuXCIpfX1wYXJzZVpvbmUoKXtjb25zdCBlPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKGUudHlwZT09PW8uWk9ORV9BREpVU1RNRU5UUyl7Y29uc3QgdD1bXTtmb3IoOzspdHJ5e2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGltZSk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSk7bGV0IG49ITE7XCItXCI9PT1lLnZhbHVlW2UuY3VyXSYmKG49ITAsZS5jdXIrPTEpO2NvbnN0IHI9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVHlwZWRUaW1lKTt0LnB1c2goe3RpbWU6aSx0eXBlZFRpbWU6cixiYWNrOm59KX1jYXRjaChlKXticmVha31pZigwPT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB6b25lIGFkanVzdG1lbnRzXCIpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKyssdH1yZXR1cm5bXX1wYXJzZVJlcGVhdCgpe2NvbnN0IGU9W107Zm9yKDs7KXtjb25zdCB0PXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKHQudHlwZSE9PW8uUkVQRUFUKWJyZWFrO3tjb25zdCBpPXRoaXMuZXh0cmFjdCh0LHRoaXMuY29uc3VtZVJlcGVhdEludGVydmFsKSxuPXRoaXMucGFyc2VUeXBlZFRpbWUodCk7ZS5wdXNoKHtyZXBlYXRJbnRlcnZhbDppLHR5cGVkVGltZXM6bn0pLHRoaXMuY3VycmVudExpbmUrK319cmV0dXJuIGV9cGFyc2VUeXBlZFRpbWUoZSl7Y29uc3QgdD1bXTtmb3IoOzspdHJ5e3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpLHQucHVzaCh0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUeXBlZFRpbWUpKX1jYXRjaChlKXticmVha31pZigwPT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0eXBlZCB0aW1lLlwiKTtyZXR1cm4gdH1wYXJzZVRpbWUoKXtjb25zdCBlPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpLHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGltZSk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSk7Y29uc3QgaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaW1lKTtyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLHtzdGFydFRpbWU6dCxzdG9wVGltZTppfX1wYXJzZUJhbmRXaWR0aCgpe2NvbnN0IGU9W107Zm9yKDt0aGlzLmN1cnJlbnRMaW5lPHRoaXMucmVjb3Jkcy5sZW5ndGg7KXtjb25zdCB0PXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKHQudHlwZSE9PW8uQkFORFdJRFRIKWJyZWFrO3tjb25zdCBpPXRoaXMuZXh0cmFjdE9uZU9yTW9yZSh0LGwpO2lmKFwiOlwiIT09dC52YWx1ZVt0LmN1cl0pdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYW5kd2lkdGggZmllbGQuXCIpO3QuY3VyKys7Y29uc3Qgbj10aGlzLmV4dHJhY3RPbmVPck1vcmUodCxhKTtlLnB1c2goe2J3dHlwZTppLGJhbmR3aWR0aDpufSksdGhpcy5jdXJyZW50TGluZSsrfX1yZXR1cm4gZX1wYXJzZVZlcnNpb24oKXtjb25zdCBlPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKGUudHlwZSE9PW8uVkVSU0lPTil0aHJvdyBuZXcgRXJyb3IoXCJmaXJzdCBzZHAgcmVjb3JkIG11c3QgYmUgdmVyc2lvblwiKTtjb25zdCB0PWUudmFsdWUuc2xpY2UoMCx0aGlzLmNvbnN1bWVPbmVPck1vcmUoZS52YWx1ZSwwLGEpKTtpZih0Lmxlbmd0aCE9PWUudmFsdWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcignaW52YWxpZCBwcm90byB2ZXJzaW9uLCBcInY9Jy5jb25jYXQoZS52YWx1ZSwnXCInKSk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyx0fXBhcnNlT3JpZ2luKCl7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihlLnR5cGUhPT1vLk9SSUdJTil0aHJvdyBuZXcgRXJyb3IoXCJzZWNvbmQgbGluZSBvZiBzZHAgbXVzdCBiZSBvcmlnaW5cIik7Y29uc3QgdD10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxkKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKTtjb25zdCBpPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGEpO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpO2NvbnN0IG49dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsYSk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSk7Y29uc3Qgcj10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxsKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKTtjb25zdCBzPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGwpO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpO2NvbnN0IGM9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVW5pY2FzdEFkZHJlc3MpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKysse3VzZXJuYW1lOnQsc2Vzc0lkOmksc2Vzc1ZlcnNpb246bixuZXR0eXBlOnIsYWRkcnR5cGU6cyx1bmljYXN0QWRkcmVzczpjfX1wYXJzZVNlc3Npb25OYW1lKCl7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihlLnR5cGU9PT1vLlNFU1NJT05fTkFNRSl7Y29uc3QgdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUZXh0KTtyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLHR9fXBhcnNlSW5mb3JtYXRpb24oKXtjb25zdCBlPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKGUudHlwZSE9PW8uSU5GT1JNQVRJT04pcmV0dXJuO2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGV4dCk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyx0fXBhcnNlVXJpKCl7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihlLnR5cGU9PT1vLlVSSSlyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLGUudmFsdWV9cGFyc2VFbWFpbCgpe2NvbnN0IGU9W107Zm9yKDs7KXtjb25zdCB0PXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKHQudHlwZSE9PW8uRU1BSUwpYnJlYWs7ZS5wdXNoKHQudmFsdWUpLHRoaXMuY3VycmVudExpbmUrK31yZXR1cm4gZX1wYXJzZVBob25lKCl7Y29uc3QgZT1bXTtmb3IoOzspe2NvbnN0IHQ9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYodC50eXBlIT09by5QSE9ORSlicmVhaztlLnB1c2godC52YWx1ZSksdGhpcy5jdXJyZW50TGluZSsrfXJldHVybiBlfXBhcnNlQ29ubmVjdGlvbigpe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoZS50eXBlPT09by5DT05ORUNUSU9OKXtjb25zdCB0PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGwpO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpO2NvbnN0IGk9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsbCk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSk7Y29uc3Qgbj10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVBZGRyZXNzKTtyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLHtuZXR0eXBlOnQsYWRkcnR5cGU6aSxhZGRyZXNzOm59fX1wYXJzZU1lZGlhKCl7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKSx0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKTtsZXQgaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVQb3J0KTtcIi9cIj09PWUudmFsdWVbZS5jdXJdJiYoZS5jdXIrPTEsaSs9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lSW50ZWdlcikpLHRoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpO2NvbnN0IG49W107Zm9yKG4ucHVzaCh0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbikpO1wiL1wiPT09ZS52YWx1ZVtlLmN1cl07KWUuY3VyKz0xLG4ucHVzaCh0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbikpO2lmKDA9PT1uLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHByb3RvXCIpO2NvbnN0IHI9dGhpcy5wYXJzZUZtdChlKTtyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLHttZWRpYVR5cGU6dCxwb3J0OmkscHJvdG9zOm4sZm10czpyfX1wYXJzZVRpbWVGaWVsZHMoKXtjb25zdCBlPVtdO2Zvcig7dGhpcy5nZXRDdXJyZW50UmVjb3JkKCkudHlwZT09PW8uVElNRTspe2NvbnN0IHQ9dGhpcy5wYXJzZVRpbWUoKSxpPXRoaXMucGFyc2VSZXBlYXQoKSxuPXRoaXMucGFyc2Vab25lKCk7ZS5wdXNoKHt0aW1lOnQscmVwZWF0czppLHpvbmVzOm59KX1yZXR1cm4gZX1wYXJzZU1lZGlhRGVzY3JpcHRpb24oKXtjb25zdCBlPVtdO2Zvcig7dGhpcy5jdXJyZW50TGluZTx0aGlzLnJlY29yZHMubGVuZ3RoJiZ0aGlzLmdldEN1cnJlbnRSZWNvcmQoKS50eXBlPT09by5NRURJQTspe2NvbnN0IHQ9dGhpcy5wYXJzZU1lZGlhKCksaT10aGlzLnBhcnNlSW5mb3JtYXRpb24oKSxuPXRoaXMucGFyc2VDb25uZWN0aW9ucygpLHI9dGhpcy5wYXJzZUJhbmRXaWR0aCgpLHM9dGhpcy5wYXJzZUtleSgpLG89dGhpcy5wYXJzZU1lZGlhQXR0cmlidXRlcyh0KTtlLnB1c2goe21lZGlhOnQsaW5mb3JtYXRpb246aSxjb25uZWN0aW9uczpuLGJhbmR3aWR0aHM6cixrZXk6cyxhdHRyaWJ1dGVzOm99KX1yZXR1cm4gZX1wYXJzZUNvbm5lY3Rpb25zKCl7Y29uc3QgZT1bXTtmb3IoO3RoaXMuY3VycmVudExpbmU8dGhpcy5yZWNvcmRzLmxlbmd0aCYmdGhpcy5nZXRDdXJyZW50UmVjb3JkKCkudHlwZT09PW8uQ09OTkVDVElPTjspZS5wdXNoKHRoaXMucGFyc2VDb25uZWN0aW9uKCkpO3JldHVybiBlfXBhcnNlRm10KGUpe2NvbnN0IHQ9W107Zm9yKDs7KXRyeXt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKSx0LnB1c2godGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pKX1jYXRjaChlKXticmVha31pZigwPT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBmbXRzXCIpO3JldHVybiB0fWV4dHJhY3QoZSx0LC4uLmkpe2NvbnN0IG49dC5jYWxsKHRoaXMsZS52YWx1ZSxlLmN1ciwuLi5pKSxyPWUudmFsdWUuc2xpY2UoZS5jdXIsbik7cmV0dXJuIGUuY3VyPW4scn1leHRyYWN0T25lT3JNb3JlKGUsdCl7Y29uc3QgaT10aGlzLmNvbnN1bWVPbmVPck1vcmUoZS52YWx1ZSxlLmN1cix0KSxuPWUudmFsdWUuc2xpY2UoZS5jdXIsaSk7cmV0dXJuIGUuY3VyPWksbn1jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSl7aWYoZS52YWx1ZVtlLmN1cl0hPT1zKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3BhY2UgYXQgXCIuY29uY2F0KGUuY3VyLFwiLlwiKSk7ZS5jdXIrPTF9fWNsYXNzIHYgZXh0ZW5kcyBSe2NvbnN0cnVjdG9yKC4uLmUpe3N1cGVyKC4uLmUpLFQodGhpcyxcImF0dHJpYnV0ZXNcIix2b2lkIDApLFQodGhpcyxcImRpZ2VzdGVkXCIsITEpfWV4dHJhY3RPbmVPck1vcmUoZSx0LGkpe2NvbnN0IG49dGhpcy5jb25zdW1lT25lT3JNb3JlKGUuYXR0VmFsdWUsZS5fY3VyLHQpLHI9ZS5hdHRWYWx1ZS5zbGljZShlLl9jdXIsbiksW3Msb109aXx8W107aWYoXCJudW1iZXJcIj09dHlwZW9mIHMmJnIubGVuZ3RoPHMpdGhyb3cgbmV3IEVycm9yKFwiZXJyb3IgaW4gbGVuZ3RoLCBzaG91bGQgYmUgbW9yZSBvciBlcXVhbCB0aGFuIFwiLmNvbmNhdChzLFwiIGNoYXJhY3RlcnMuXCIpKTtpZihcIm51bWJlclwiPT10eXBlb2YgbyYmci5sZW5ndGg+byl0aHJvdyBuZXcgRXJyb3IoXCJlcnJvciBpbiBsZW5ndGgsIHNob3VsZCBiZSBsZXNzIG9yIGVxdWFsIHRoYW4gXCIuY29uY2F0KG8sXCIgY2hhcmFjdGVycy5cIikpO3JldHVybiBlLl9jdXI9bixyfWNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKXtpZihlLmF0dFZhbHVlW2UuX2N1cl0hPT1zKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3BhY2UgYXQgXCIuY29uY2F0KGUuX2N1cixcIi5cIikpO2UuX2N1cis9MX1leHRyYWN0KGUsdCwuLi5pKXtpZighZS5hdHRWYWx1ZSl0aHJvdyBuZXcgRXJyb3IoXCJOb3RoaW5nIHRvIGV4dHJhY3QgZnJvbSBhdHRWYWx1ZS5cIik7Y29uc3Qgbj10LmNhbGwodGhpcyxlLmF0dFZhbHVlLGUuX2N1ciwuLi5pKSxyPWUuYXR0VmFsdWUuc2xpY2UoZS5fY3VyLG4pO3JldHVybiBlLl9jdXI9bixyfWF0RW5kKGUpe2lmKCFlLmF0dFZhbHVlKXRocm93IG5ldyBFcnJvcjtyZXR1cm4gZS5fY3VyPj1lLmF0dFZhbHVlLmxlbmd0aH1wZWVrQ2hhcihlKXtpZighZS5hdHRWYWx1ZSl0aHJvdyBuZXcgRXJyb3I7cmV0dXJuIGUuYXR0VmFsdWVbZS5fY3VyXX1wZWVrKGUsdCl7aWYoIWUuYXR0VmFsdWUpdGhyb3cgbmV3IEVycm9yO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0hPT1lLmF0dFZhbHVlW2UuX2N1citpXSlyZXR1cm4hMTtyZXR1cm4hMH1wYXJzZUljZVVmcmFnKGUpe2lmKHRoaXMuYXR0cmlidXRlcy5pY2VVZnJhZyl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGljZS11ZnJhZywgc2hvdWxkIGJlIG9ubHkgYSBzaW5nbGUgbGluZSBpZiAnYT1pY2UtdWZyYWcnXCIpO3RoaXMuYXR0cmlidXRlcy5pY2VVZnJhZz10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxFLFs0LDI1Nl0pfXBhcnNlSWNlUHdkKGUpe2lmKHRoaXMuYXR0cmlidXRlcy5pY2VQd2QpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpY2UtcHdkLCBzaG91bGQgYmUgb25seSBhIHNpbmdsZSBsaW5lIGlmICdhPWljZS1wd2QnXCIpO3RoaXMuYXR0cmlidXRlcy5pY2VQd2Q9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsRSxbMjIsMjU2XSl9cGFyc2VJY2VPcHRpb25zKGUpe2lmKHRoaXMuYXR0cmlidXRlcy5pY2VPcHRpb25zKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaWNlLW9wdGlvbnMsIHNob3VsZCBiZSBvbmx5IG9uZSAnaWNlLW9wdGlvbnMnIGxpbmVcIik7Y29uc3QgdD1bXTtmb3IoOyF0aGlzLmF0RW5kKGUpOyl7dC5wdXNoKHRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLEUpKTt0cnl7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSl9Y2F0Y2godCl7aWYodGhpcy5hdEVuZChlKSlicmVhazt0aHJvdyB0fX10aGlzLmF0dHJpYnV0ZXMuaWNlT3B0aW9ucz10fXBhcnNlRmluZ2VycHJpbnQoZSl7Y29uc3QgdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbik7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3QgaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsKTt0aGlzLmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzLnB1c2goe2hhc2hGdW5jdGlvbjp0LGZpbmdlcnByaW50Oml9KX1wYXJzZUV4dG1hcChlKXtjb25zdCB0PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGEpO2xldCBpO1wiL1wiPT09dGhpcy5wZWVrQ2hhcihlKSYmKHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcIi9cIiksaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbikpLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IG49dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxzKSxyPVMoUyh7ZW50cnk6cGFyc2VJbnQodCwxMCl9LGkmJntkaXJlY3Rpb246aX0pLHt9LHtleHRlbnNpb25OYW1lOm59KTt0aGlzLnBlZWtDaGFyKGUpPT09cyYmKHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLHIuZXh0ZW5zaW9uQXR0cmlidXRlcz10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsKSksdGhpcy5hdHRyaWJ1dGVzLmV4dG1hcHMucHVzaChyKX1wYXJzZVNldHVwKGUpe2lmKHRoaXMuYXR0cmlidXRlcy5zZXR1cCl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IG9ubHkgYmUgb25lIHNpbmdsZSAnYT1zZXR1cCcgbGluZS5cIik7Y29uc3QgdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsKTtpZihcImFjdGl2ZVwiIT09dCYmXCJwYXNzaXZlXCIhPT10JiZcImFjdHBhc3NcIiE9PXQmJlwiaG9sZGNvbm5cIiE9PXQpdGhyb3cgbmV3IEVycm9yKFwicm9sZSBtdXN0IGJlIG9uZSBvZiAnYWN0aXZlJywgJ3Bhc3NpdmUnLCAnYWN0cGFzcycsICdob2xkY29ubicuXCIpO3RoaXMuYXR0cmlidXRlcy5zZXR1cD10fX1jbGFzcyBJIGV4dGVuZHMgdntjb25zdHJ1Y3RvciguLi5lKXtzdXBlciguLi5lKSxUKHRoaXMsXCJhdHRyaWJ1dGVzXCIse3VucmVjb2duaXplZDpbXSxncm91cHM6W10sZXh0bWFwczpbXSxmaW5nZXJwcmludHM6W10saWRlbnRpdGllczpbXX0pfXBhcnNlKGUpe2lmKHRoaXMuZGlnZXN0ZWQpdGhyb3cgbmV3IEVycm9yKFwiYWxyZWFkeSBkaWdlc3RlZFwiKTt0cnl7c3dpdGNoKGUuYXR0RmllbGQpe2Nhc2VcImdyb3VwXCI6dGhpcy5wYXJzZUdyb3VwKGUpO2JyZWFrO2Nhc2VcImljZS1saXRlXCI6dGhpcy5wYXJzZUljZUxpdGUoKTticmVhaztjYXNlXCJpY2UtdWZyYWdcIjp0aGlzLnBhcnNlSWNlVWZyYWcoZSk7YnJlYWs7Y2FzZVwiaWNlLXB3ZFwiOnRoaXMucGFyc2VJY2VQd2QoZSk7YnJlYWs7Y2FzZVwiaWNlLW9wdGlvbnNcIjp0aGlzLnBhcnNlSWNlT3B0aW9ucyhlKTticmVhaztjYXNlXCJmaW5nZXJwcmludFwiOnRoaXMucGFyc2VGaW5nZXJwcmludChlKTticmVhaztjYXNlXCJzZXR1cFwiOnRoaXMucGFyc2VTZXR1cChlKTticmVhaztjYXNlXCJ0bHMtaWRcIjp0aGlzLnBhcnNlVGxzSWQoZSk7YnJlYWs7Y2FzZVwiaWRlbnRpdHlcIjp0aGlzLnBhcnNlSWRlbnRpdHkoZSk7YnJlYWs7Y2FzZVwiZXh0bWFwXCI6dGhpcy5wYXJzZUV4dG1hcChlKTticmVhaztjYXNlXCJtc2lkLXNlbWFudGljXCI6dGhpcy5wYXJzZU1zaWRTZW1hbnRpYyhlKTticmVhaztkZWZhdWx0OmUuaWdub3JlZD0hMCx0aGlzLmF0dHJpYnV0ZXMudW5yZWNvZ25pemVkLnB1c2goZSl9fWNhdGNoKHQpe3Rocm93IGNvbnNvbGUuZXJyb3IoXCJwYXJzaW5nIHNlc3Npb24gYXR0cmlidXRlIFwiLmNvbmNhdChlLmF0dEZpZWxkLCcgZXJyb3IsIFwiYT0nKS5jb25jYXQoZS5hdHRGaWVsZCxcIjpcIikuY29uY2F0KGUuYXR0VmFsdWUsJ1wiJykpLHR9aWYoIWUuaWdub3JlZCYmZS5hdHRWYWx1ZSYmIXRoaXMuYXRFbmQoZSkpdGhyb3cgbmV3IEVycm9yKFwiYXR0cmlidXRlIHBhcnNpbmcgZXJyb3JcIil9ZGlnZXN0KCl7cmV0dXJuIHRoaXMuZGlnZXN0ZWQ9ITAsdGhpcy5hdHRyaWJ1dGVzfXBhcnNlR3JvdXAoZSl7Y29uc3QgdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbiksaT1bXTtmb3IoOyF0aGlzLmF0RW5kKGUpJiZ0aGlzLnBlZWtDaGFyKGUpPT09czspdGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSksaS5wdXNoKHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKSk7dGhpcy5hdHRyaWJ1dGVzLmdyb3Vwcy5wdXNoKHtzZW1hbnRpYzp0LGlkZW50aWZpY2F0aW9uVGFnOml9KX1wYXJzZUljZUxpdGUoKXtpZih0aGlzLmF0dHJpYnV0ZXMuaWNlTGl0ZSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGljZS1saXRlLCBzaG91bGQgYmUgb25seSBhIHNpbmdsZSBsaW5lIG9mICdhPWljZS1saXRlJ1wiKTt0aGlzLmF0dHJpYnV0ZXMuaWNlTGl0ZT0hMH1wYXJzZVRsc0lkKGUpe2lmKHRoaXMuYXR0cmlidXRlcy50bHNJZCl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIG9ubHkgb25lIHRsZC1pZCBsaW5lXCIpO3RoaXMuYXR0cmlidXRlcy50bHNJZD10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxtKX1wYXJzZUlkZW50aXR5KGUpe2NvbnN0IHQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsZiksaT1bXTtmb3IoOyF0aGlzLmF0RW5kKGUpJiZ0aGlzLnBlZWtDaGFyKGUpPT09czspe3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pO3RoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcIj1cIik7Y29uc3Qgbj10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSwoZT0+ZSE9PXMmJl8oZSkpKTtpLnB1c2goe25hbWU6dCx2YWx1ZTpufSl9dGhpcy5hdHRyaWJ1dGVzLmlkZW50aXRpZXMucHVzaCh7YXNzZXJ0aW9uVmFsdWU6dCxleHRlbnNpb25zOml9KX1wYXJzZU1zaWRTZW1hbnRpYyhlKXt0aGlzLnBlZWtDaGFyKGUpPT09cyYmdGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3QgdD17c2VtYW50aWM6dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pLGlkZW50aWZpZXJMaXN0OltdfTtmb3IoOzspe3RyeXt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKX1jYXRjaChlKXticmVha31pZihcIipcIj09PXRoaXMucGVla0NoYXIoZSkpe3RoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcIipcIiksdC5hcHBseUZvckFsbD0hMDticmVha317Y29uc3QgaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsLHMpO3QuaWRlbnRpZmllckxpc3QucHVzaChpKX19dGhpcy5hdHRyaWJ1dGVzLm1zaWRTZW1hbnRpYz10fX1jbGFzcyB5IGV4dGVuZHMgdntjb25zdHJ1Y3RvcihlKXtzdXBlcigpLFQodGhpcyxcImF0dHJpYnV0ZXNcIix2b2lkIDApLC0xIT09ZS5wcm90b3MuaW5kZXhPZihcIlJUUFwiKXx8ZS5wcm90b3MuaW5kZXhPZihcInJ0cFwiKSx0aGlzLmF0dHJpYnV0ZXM9e3VucmVjb2duaXplZDpbXSxjYW5kaWRhdGVzOltdLGV4dG1hcHM6W10sZmluZ2VycHJpbnRzOltdLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOltdLHNzcmNHcm91cHM6W10scnRjcEZlZWRiYWNrV2lsZGNhcmRzOltdLHBheWxvYWRzOltdfX1wYXJzZShlKXtpZih0aGlzLmRpZ2VzdGVkKXRocm93IG5ldyBFcnJvcihcImFscmVhZHkgZGlnZXN0ZWRcIik7dHJ5e3N3aXRjaChlLmF0dEZpZWxkKXtjYXNlXCJleHRtYXBcIjp0aGlzLnBhcnNlRXh0bWFwKGUpO2JyZWFrO2Nhc2VcInNldHVwXCI6dGhpcy5wYXJzZVNldHVwKGUpO2JyZWFrO2Nhc2VcImljZS11ZnJhZ1wiOnRoaXMucGFyc2VJY2VVZnJhZyhlKTticmVhaztjYXNlXCJpY2UtcHdkXCI6dGhpcy5wYXJzZUljZVB3ZChlKTticmVhaztjYXNlXCJpY2Utb3B0aW9uc1wiOnRoaXMucGFyc2VJY2VPcHRpb25zKGUpO2JyZWFrO2Nhc2VcImNhbmRpZGF0ZVwiOnRoaXMucGFyc2VDYW5kaWRhdGUoZSk7YnJlYWs7Y2FzZVwicmVtb3RlLWNhbmRpZGF0ZVwiOnRoaXMucGFyc2VSZW1vdGVDYW5kaWRhdGUoZSk7YnJlYWs7Y2FzZVwiZW5kLW9mLWNhbmRpZGF0ZXNcIjp0aGlzLnBhcnNlRW5kT2ZDYW5kaWRhdGVzKCk7YnJlYWs7Y2FzZVwiZmluZ2VycHJpbnRcIjp0aGlzLnBhcnNlRmluZ2VycHJpbnQoZSk7YnJlYWs7Y2FzZVwicnRwbWFwXCI6dGhpcy5wYXJzZVJ0cG1hcChlKTticmVhaztjYXNlXCJwdGltZVwiOnRoaXMucGFyc2VQdGltZShlKTticmVhaztjYXNlXCJtYXhwdGltZVwiOnRoaXMucGFyc2VNYXhQdGltZShlKTticmVhaztjYXNlXCJzZW5kcmVjdlwiOmNhc2VcInJlY3Zvbmx5XCI6Y2FzZVwic2VuZG9ubHlcIjpjYXNlXCJpbmFjdGl2ZVwiOnRoaXMucGFyc2VEaXJlY3Rpb24oZSk7YnJlYWs7Y2FzZVwic3NyY1wiOnRoaXMucGFyc2VTU1JDKGUpO2JyZWFrO2Nhc2VcImZtdHBcIjp0aGlzLnBhcnNlRm10cChlKTticmVhaztjYXNlXCJydGNwLWZiXCI6dGhpcy5wYXJzZVJ0Y3BGYihlKTticmVhaztjYXNlXCJydGNwLW11eFwiOnRoaXMucGFyc2VSVENQTXV4KCk7YnJlYWs7Y2FzZVwicnRjcC1tdXgtb25seVwiOnRoaXMucGFyc2VSVENQTXV4T25seSgpO2JyZWFrO2Nhc2VcInJ0Y3AtcnNpemVcIjp0aGlzLnBhcnNlUlRDUFJzaXplKCk7YnJlYWs7Y2FzZVwicnRjcFwiOnRoaXMucGFyc2VSVENQKGUpO2JyZWFrO2Nhc2VcIm1pZFwiOnRoaXMucGFyc2VNaWQoZSk7YnJlYWs7Y2FzZVwibXNpZFwiOnRoaXMucGFyc2VNc2lkKGUpO2JyZWFrO2Nhc2VcImltYWdlYXR0clwiOnRoaXMucGFyc2VJbWFnZUF0dHIoZSk7YnJlYWs7Y2FzZVwicmlkXCI6dGhpcy5wYXJzZVJpZChlKTticmVhaztjYXNlXCJzaW11bGNhc3RcIjp0aGlzLnBhcnNlU2ltdWxjYXN0KGUpO2JyZWFrO2Nhc2VcInNjdHAtcG9ydFwiOnRoaXMucGFyc2VTY3RwUG9ydChlKTticmVhaztjYXNlXCJtYXgtbWVzc2FnZS1zaXplXCI6dGhpcy5wYXJzZU1heE1lc3NhZ2VTaXplKGUpO2JyZWFrO2Nhc2VcInNzcmMtZ3JvdXBcIjp0aGlzLnBhcnNlU1NSQ0dyb3VwKGUpO2JyZWFrO2RlZmF1bHQ6ZS5pZ25vcmVkPSEwLHRoaXMuYXR0cmlidXRlcy51bnJlY29nbml6ZWQucHVzaChlKX19Y2F0Y2godCl7dGhyb3cgY29uc29sZS5lcnJvcihcInBhcnNpbmcgbWVkaWEgYXR0cmlidXRlIFwiLmNvbmNhdChlLmF0dEZpZWxkLCcgZXJyb3IsIFwiYT0nKS5jb25jYXQoZS5hdHRGaWVsZCxcIjpcIikuY29uY2F0KGUuYXR0VmFsdWUsJ1wiJykpLHR9aWYoIWUuaWdub3JlZCYmZS5hdHRWYWx1ZSYmIXRoaXMuYXRFbmQoZSkpdGhyb3cgbmV3IEVycm9yKFwiYXR0cmlidXRlIHBhcnNpbmcgZXJyb3JcIil9cGFyc2VDYW5kaWRhdGUoZSl7Y29uc3QgdD10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxFLFsxLDMyXSk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3QgaT10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxhLFsxLDVdKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBuPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCByPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGEsWzEsMTBdKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBvPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZUFkZHJlc3MpO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IGQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lUG9ydCk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSksdGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwidHlwXCIpLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IGw9e2ZvdW5kYXRpb246dCxjb21wb25lbnRJZDppLHRyYW5zcG9ydDpuLHByaW9yaXR5OnIsY29ubmVjdGlvbkFkZHJlc3M6byxwb3J0OmQsdHlwZTp0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbiksZXh0ZW5zaW9uOnt9fTtmb3IodGhpcy5wZWVrKGUsXCIgcmFkZHJcIikmJih0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCIgcmFkZHJcIiksdGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSksbC5yZWxBZGRyPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZUFkZHJlc3MpKSx0aGlzLnBlZWsoZSxcIiBycG9ydFwiKSYmKHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcIiBycG9ydFwiKSx0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSxsLnJlbFBvcnQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lUG9ydCkpO3RoaXMucGVla0NoYXIoZSk9PT1zOyl7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3QgdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbik7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSksbC5leHRlbnNpb25bdF09dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsYyl9dGhpcy5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXMucHVzaChsKX1wYXJzZVJlbW90ZUNhbmRpZGF0ZShlKXtjb25zdCB0PVtdO2Zvcig7Oyl7Y29uc3QgaT10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxhLFsxLDVdKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBuPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZUFkZHJlc3MpO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IHI9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lUG9ydCk7dC5wdXNoKHtjb21wb25lbnRJZDppLGNvbm5lY3Rpb25BZGRyZXNzOm4scG9ydDpyfSk7dHJ5e3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpfWNhdGNoKGUpe2JyZWFrfX10aGlzLmF0dHJpYnV0ZXMucmVtb3RlQ2FuZGlkYXRlc0xpc3QucHVzaCh0KX1wYXJzZUVuZE9mQ2FuZGlkYXRlcygpe2lmKHRoaXMuYXR0cmlidXRlcy5lbmRPZkNhbmRpZGF0ZXMpdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBvbmx5IG9uZSBsaW5lIG9mIGVuZC1vZi1jYW5kaWRhdGVzXCIpO3RoaXMuYXR0cmlidXRlcy5lbmRPZkNhbmRpZGF0ZXM9ITB9cGFyc2VSdHBtYXAoZSl7Y29uc3QgdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbik7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3QgaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsLFwiL1wiKTt0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCIvXCIpO2NvbnN0IG49e2VuY29kaW5nTmFtZTppLGNsb2NrUmF0ZTp0aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxhKX07dGhpcy5hdEVuZChlKXx8XCIvXCIhPT10aGlzLnBlZWtDaGFyKGUpfHwodGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiL1wiKSxuLmVuY29kaW5nUGFyYW1ldGVycz1wYXJzZUludCh0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsKSwxMCkpO2NvbnN0IHI9dGhpcy5hdHRyaWJ1dGVzLnBheWxvYWRzLmZpbmQoKGU9PmUucGF5bG9hZFR5cGU9PT1wYXJzZUludCh0LDEwKSkpO3I/ci5ydHBNYXA9bjp0aGlzLmF0dHJpYnV0ZXMucGF5bG9hZHMucHVzaCh7cGF5bG9hZFR5cGU6cGFyc2VJbnQodCwxMCkscnRwTWFwOm4scnRjcEZlZWRiYWNrczpbXX0pfXBhcnNlUHRpbWUoZSl7aWYodGhpcy5hdHRyaWJ1dGVzLnB0aW1lKXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgb25seSBvbmUgbGluZSBvZiBwdGltZVwiKTt0aGlzLmF0dHJpYnV0ZXMucHRpbWU9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCl9cGFyc2VNYXhQdGltZShlKXtpZih0aGlzLmF0dHJpYnV0ZXMubWF4UHRpbWUpdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBvbmx5IG9uZSBsaW5lIG9mIHB0aW1lXCIpO3RoaXMuYXR0cmlidXRlcy5tYXhQdGltZT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsKX1wYXJzZURpcmVjdGlvbihlKXtpZih0aGlzLmF0dHJpYnV0ZXMuZGlyZWN0aW9uKXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgb25seSBvbmUgbGluZSBvZiBkaXJlY3Rpb24gaW5mb1wiKTt0aGlzLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPWUuYXR0RmllbGR9cGFyc2VTU1JDKGUpe2NvbnN0IHQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsYSk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3QgaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsLFwiOlwiKTtsZXQgbjtcIjpcIj09PXRoaXMucGVla0NoYXIoZSkmJih0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCI6XCIpLG49dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCkpO2NvbnN0IHI9dGhpcy5hdHRyaWJ1dGVzLnNzcmNzLmZpbmQoKGU9PmUuc3NyY0lkPT09cGFyc2VJbnQodCwxMCkpKTtyP3IuYXR0cmlidXRlc1tpXT1uOnRoaXMuYXR0cmlidXRlcy5zc3Jjcy5wdXNoKHtzc3JjSWQ6cGFyc2VJbnQodCwxMCksYXR0cmlidXRlczp7W2ldOm59fSl9cGFyc2VGbXRwKGUpe2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxzKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBpPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwpLG49e307aS5zcGxpdChcIjtcIikuZm9yRWFjaCgoZT0+e2xldFt0LGldPWUuc3BsaXQoXCI9XCIpO3Q9dC50cmltKCk7Y29uc3Qgcj1cInN0cmluZ1wiPT10eXBlb2YgaT9pLnRyaW0oKTpudWxsO1wic3RyaW5nXCI9PXR5cGVvZiB0JiZ0Lmxlbmd0aD4wJiYoblt0XT1yKX0pKTtjb25zdCByPXRoaXMuYXR0cmlidXRlcy5wYXlsb2Fkcy5maW5kKChlPT5lLnBheWxvYWRUeXBlPT09cGFyc2VJbnQodCwxMCkpKTtyP3IuZm10cD17cGFyYW1ldGVyczpufTp0aGlzLmF0dHJpYnV0ZXMucGF5bG9hZHMucHVzaCh7cGF5bG9hZFR5cGU6cGFyc2VJbnQodCwxMCkscnRjcEZlZWRiYWNrczpbXSxmbXRwOntwYXJhbWV0ZXJzOm59fSl9cGFyc2VGbXRQYXJhbWV0ZXJzKGUpe2NvbnN0IHQ9e30saT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsLFwiPVwiKTtlLl9jdXIrKztjb25zdCBuPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwsXCI7XCIpO2Zvcih0W2ldPW47XCI7XCI9PT1lLmF0dFZhbHVlW2UuX2N1cl07KXtjb25zdCBpPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwsXCI9XCIpO2UuX2N1cisrO2NvbnN0IG49dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxcIjtcIik7dFtpXT1ufXJldHVybiB0fXBhcnNlUnRjcEZiKGUpe2xldCB0PVwiXCI7dD1cIipcIj09PXRoaXMucGVla0NoYXIoZSk/dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiKlwiKTp0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsLHMpLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxzKTtsZXQgbjtpZihcInRyci1pbnRcIj09PWkpbj17dHlwZTppLGludGVydmFsOnRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwpfTtlbHNle2NvbnN0IHQ9e3R5cGU6aX07dGhpcy5wZWVrQ2hhcihlKT09PXMmJih0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSx0LnBhcmFtZXRlcj10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbiksdGhpcy5wZWVrQ2hhcihlKT09PXMmJih0LmFkZGl0aW9uYWw9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCkpKSxuPXR9aWYoXCIqXCI9PT10KXRoaXMuYXR0cmlidXRlcy5ydGNwRmVlZGJhY2tXaWxkY2FyZHMucHVzaChuKTtlbHNle2NvbnN0IGU9dGhpcy5hdHRyaWJ1dGVzLnBheWxvYWRzLmZpbmQoKGU9PmUucGF5bG9hZFR5cGU9PT1wYXJzZUludCh0LDEwKSkpO2U/ZS5ydGNwRmVlZGJhY2tzLnB1c2gobik6dGhpcy5hdHRyaWJ1dGVzLnBheWxvYWRzLnB1c2goe3BheWxvYWRUeXBlOnBhcnNlSW50KHQsMTApLHJ0Y3BGZWVkYmFja3M6W25dfSl9fXBhcnNlUlRDUE11eCgpe2lmKHRoaXMuYXR0cmlidXRlcy5ydGNwTXV4KXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgc2luZ2xlIGxpbmUgb2YgcnRjcC1tdXhcIik7dGhpcy5hdHRyaWJ1dGVzLnJ0Y3BNdXg9ITB9cGFyc2VSVENQTXV4T25seSgpe2lmKHRoaXMuYXR0cmlidXRlcy5ydGNwTXV4T25seSl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIHNpbmdsZSBsaW5lIG9mIHJ0Y3Atb25seVwiKTt0aGlzLmF0dHJpYnV0ZXMucnRjcE11eE9ubHk9ITB9cGFyc2VSVENQUnNpemUoKXtpZih0aGlzLmF0dHJpYnV0ZXMucnRjcFJzaXplKXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgc2luZ2xlIGxpbmUgb2YgcnRjcC1yc2l6ZVwiKTt0aGlzLmF0dHJpYnV0ZXMucnRjcFJzaXplPSEwfXBhcnNlUlRDUChlKXtpZih0aGlzLmF0dHJpYnV0ZXMucnRjcCl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIHNpbmdsZSBsaW5lIG9mIHJ0Y3BcIik7Y29uc3QgdD17cG9ydDp0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVQb3J0KX07dGhpcy5wZWVrQ2hhcihlKT09PXMmJih0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSx0Lm5ldFR5cGU9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsbCksdGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSksdC5hZGRyZXNzVHlwZT10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxsKSx0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSx0LmFkZHJlc3M9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lQWRkcmVzcykpLHRoaXMuYXR0cmlidXRlcy5ydGNwPXR9cGFyc2VNc2lkKGUpe2NvbnN0IHQ9e2lkOnRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGwsWzEsNjRdKX07dGhpcy5wZWVrQ2hhcihlKT09PXMmJih0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSx0LmFwcGRhdGE9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsbCxbMSw2NF0pKSx0aGlzLmF0dHJpYnV0ZXMubXNpZHMucHVzaCh0KX1wYXJzZUltYWdlQXR0cihlKXt0aGlzLmF0dHJpYnV0ZXMuaW1hZ2VhdHRyLnB1c2goZS5hdHRWYWx1ZSl9cGFyc2VSaWQoZSl7Y29uc3QgdD10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSwoZT0+dShlKXx8YShlKXx8XCJfXCI9PT1lfHxcIi1cIj09PWUpKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBpPXtpZDp0LGRpcmVjdGlvbjp0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbikscGFyYW1zOltdfTtpZih0aGlzLnBlZWtDaGFyKGUpPT09cyl7aWYodGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSksdGhpcy5wZWVrKGUsXCJwdD1cIikpe3RoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcInB0PVwiKTtjb25zdCB0PVtdO2Zvcig7Oyl7Y29uc3QgaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbik7dC5wdXNoKGkpO3RyeXt0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCIsXCIpfWNhdGNoKGUpe2JyZWFrfX1pLnBheWxvYWRzPXQsdGhpcy5wZWVrQ2hhcihlKT09PXMmJnRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxzKX1mb3IoOzspe2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pO3N3aXRjaCh0KXtjYXNlXCJkZXBlbmRcIjp7Y29uc3Qgbj17dHlwZTp0LHJpZHM6dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiPVwiKS5zcGxpdChcIixcIil9O2kucGFyYW1zLnB1c2gobik7YnJlYWt9ZGVmYXVsdDp7Y29uc3Qgbj17dHlwZTp0fTtcIj1cIj09PXRoaXMucGVla0NoYXIoZSkmJih0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCI9XCIpLG4udmFsPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwsXCI7XCIpKSxpLnBhcmFtcy5wdXNoKG4pfX10cnl7dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiO1wiKX1jYXRjaChlKXticmVha319fXRoaXMuYXR0cmlidXRlcy5yaWRzLnB1c2goaSl9cGFyc2VTaW11bGNhc3QoZSl7aWYodGhpcy5hdHRyaWJ1dGVzLnNpbXVsY2FzdCl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIHNpbmdsZSBsaW5lIG9mIHNpbXVsY2FzdFwiKTt0aGlzLmF0dHJpYnV0ZXMuc2ltdWxjYXN0PWUuYXR0VmFsdWUsdGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCl9cGFyc2VTY3RwUG9ydChlKXt0aGlzLmF0dHJpYnV0ZXMuc2N0cFBvcnQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsYSxbMSw1XSl9cGFyc2VNYXhNZXNzYWdlU2l6ZShlKXt0aGlzLmF0dHJpYnV0ZXMubWF4TWVzc2FnZVNpemU9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsYSxbMSx2b2lkIDBdKX1kaWdlc3QoKXtyZXR1cm4gdGhpcy5kaWdlc3RlZD0hMCx0aGlzLmF0dHJpYnV0ZXN9cGFyc2VNaWQoZSl7dGhpcy5hdHRyaWJ1dGVzLm1pZD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbil9cGFyc2VTU1JDR3JvdXAoZSl7Y29uc3QgdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbiksaT1bXTtmb3IoOzspdHJ5e3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lSW50ZWdlcik7aS5wdXNoKHBhcnNlSW50KHQsMTApKX1jYXRjaChlKXticmVha310aGlzLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5wdXNoKHtzZW1hbnRpYzp0LHNzcmNJZHM6aX0pfX1mdW5jdGlvbiBBKGUsdCxpKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOmksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPWksZX1jbGFzcyBie2NvbnN0cnVjdG9yKCl7QSh0aGlzLFwiZW9sXCIscil9cHJpbnQoZSx0KXtsZXQgaT1cIlwiO3JldHVybiB0JiYodGhpcy5lb2w9dCksaSs9dGhpcy5wcmludFZlcnNpb24oZS52ZXJzaW9uKSxpKz10aGlzLnByaW50T3JpZ2luKGUub3JpZ2luKSxpKz10aGlzLnByaW50U2Vzc2lvbk5hbWUoZS5zZXNzaW9uTmFtZSksaSs9dGhpcy5wcmludEluZm9ybWF0aW9uKGUuaW5mb3JtYXRpb24pLGkrPXRoaXMucHJpbnRVcmkoZS51cmkpLGkrPXRoaXMucHJpbnRFbWFpbChlLmVtYWlscyksaSs9dGhpcy5wcmludFBob25lKGUucGhvbmVzKSxpKz10aGlzLnByaW50Q29ubmVjdGlvbihlLmNvbm5lY3Rpb24pLGkrPXRoaXMucHJpbnRCYW5kd2lkdGgoZS5iYW5kd2lkdGhzKSxpKz10aGlzLnByaW50VGltZUZpZWxkcyhlLnRpbWVGaWVsZHMpLGkrPXRoaXMucHJpbnRLZXkoZS5rZXkpLGkrPXRoaXMucHJpbnRTZXNzaW9uQXR0cmlidXRlcyhlLmF0dHJpYnV0ZXMpLGkrPXRoaXMucHJpbnRNZWRpYURlc2NyaXB0aW9uKGUubWVkaWFEZXNjcmlwdGlvbnMpLGl9cHJpbnRWZXJzaW9uKGUpe3JldHVyblwidj1cIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKX1wcmludE9yaWdpbihlKXtyZXR1cm5cIm89XCIuY29uY2F0KGUudXNlcm5hbWUsXCIgXCIpLmNvbmNhdChlLnNlc3NJZCxcIiBcIikuY29uY2F0KGUuc2Vzc1ZlcnNpb24sXCIgXCIpLmNvbmNhdChlLm5ldHR5cGUsXCIgXCIpLmNvbmNhdChlLmFkZHJ0eXBlLFwiIFwiKS5jb25jYXQoZS51bmljYXN0QWRkcmVzcykuY29uY2F0KHRoaXMuZW9sKX1wcmludFNlc3Npb25OYW1lKGUpe3JldHVybiBlP1wicz1cIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKTpcIlwifXByaW50SW5mb3JtYXRpb24oZSl7cmV0dXJuIGU/XCJpPVwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRVcmkoZSl7cmV0dXJuIGU/XCJ1PVwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRFbWFpbChlKXtsZXQgdD1cIlwiO2Zvcihjb25zdCBpIG9mIGUpdCs9XCJlPVwiLmNvbmNhdChpKS5jb25jYXQodGhpcy5lb2wpO3JldHVybiB0fXByaW50UGhvbmUoZSl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgaSBvZiBlKXQrPVwiZT1cIi5jb25jYXQoaSkuY29uY2F0KHRoaXMuZW9sKTtyZXR1cm4gdH1wcmludENvbm5lY3Rpb24oZSl7cmV0dXJuIGU/XCJjPVwiLmNvbmNhdChlLm5ldHR5cGUsXCIgXCIpLmNvbmNhdChlLmFkZHJ0eXBlLFwiIFwiKS5jb25jYXQoZS5hZGRyZXNzKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRCYW5kd2lkdGgoZSl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgaSBvZiBlKXQrPVwiYj1cIi5jb25jYXQoaS5id3R5cGUsXCI6XCIpLmNvbmNhdChpLmJhbmR3aWR0aCkuY29uY2F0KHRoaXMuZW9sKTtyZXR1cm4gdH1wcmludFRpbWVGaWVsZHMoZSl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgaSBvZiBlKXt0Kz1cInQ9XCIuY29uY2F0KGkudGltZS5zdGFydFRpbWUsXCIgXCIpLmNvbmNhdChpLnRpbWUuc3RhcnRUaW1lKS5jb25jYXQodGhpcy5lb2wpO2Zvcihjb25zdCBlIG9mIGkucmVwZWF0cyl0Kz1cInI9XCIuY29uY2F0KGUucmVwZWF0SW50ZXJ2YWwsXCIgXCIpLmNvbmNhdChlLnR5cGVkVGltZXMuam9pbihcIiBcIikpLmNvbmNhdCh0aGlzLmVvbCk7aS56b25lQWRqdXN0bWVudHMmJih0Kz1cIno9XCIsdCs9XCJ6PVwiLmNvbmNhdChpLnpvbmVBZGp1c3RtZW50cy5tYXAoKGU9PlwiXCIuY29uY2F0KGUudGltZSxcIiBcIikuY29uY2F0KGUuYmFjaz9cIi1cIjpcIlwiLFwiIFwiKS5jb25jYXQoZS50eXBlZFRpbWUpKSkuam9pbihcIiBcIikpLmNvbmNhdCh0aGlzLmVvbCksdCs9dGhpcy5lb2wpfXJldHVybiB0fXByaW50S2V5KGUpe3JldHVybiBlP1wiaz1cIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKTpcIlwifXByaW50QXR0cmlidXRlcyhlKXtsZXQgdD1cIlwiO2Zvcihjb25zdCBpIG9mIGUpdCs9XCJhPVwiLmNvbmNhdChpLmF0dEZpZWxkKS5jb25jYXQoaS5hdHRWYWx1ZT9cIjpcIi5jb25jYXQoaS5hdHRWYWx1ZSk6XCJcIikuY29uY2F0KHRoaXMuZW9sKTtyZXR1cm4gdH1wcmludE1lZGlhRGVzY3JpcHRpb24oZSl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgaSBvZiBlKXQrPXRoaXMucHJpbnRNZWRpYShpLm1lZGlhKSx0Kz10aGlzLnByaW50SW5mb3JtYXRpb24oaS5pbmZvcm1hdGlvbiksdCs9dGhpcy5wcmludENvbm5lY3Rpb25zKGkuY29ubmVjdGlvbnMpLHQrPXRoaXMucHJpbnRCYW5kd2lkdGgoaS5iYW5kd2lkdGhzKSx0Kz10aGlzLnByaW50S2V5KGkua2V5KSx0Kz10aGlzLnByaW50TWVkaWFBdHRyaWJ1dGVzKGkpO3JldHVybiB0fXByaW50Q29ubmVjdGlvbnMoZSl7bGV0IHQ9XCJcIjtmb3IoY29uc3QgaSBvZiBlKXQrPXRoaXMucHJpbnRDb25uZWN0aW9uKGkpO3JldHVybiB0fXByaW50TWVkaWEoZSl7cmV0dXJuXCJtPVwiLmNvbmNhdChlLm1lZGlhVHlwZSxcIiBcIikuY29uY2F0KGUucG9ydCxcIiBcIikuY29uY2F0KGUucHJvdG9zLmpvaW4oXCIvXCIpLFwiIFwiKS5jb25jYXQoZS5mbXRzLmpvaW4oXCIgXCIpKS5jb25jYXQodGhpcy5lb2wpfXByaW50U2Vzc2lvbkF0dHJpYnV0ZXMoZSl7cmV0dXJuIG5ldyBPKHRoaXMuZW9sKS5wcmludChlKX1wcmludE1lZGlhQXR0cmlidXRlcyhlKXtyZXR1cm4gbmV3IE4odGhpcy5lb2wpLnByaW50KGUpfX1jbGFzcyB3e2NvbnN0cnVjdG9yKGUpe0EodGhpcyxcImVvbFwiLHZvaWQgMCksdGhpcy5lb2w9ZX1wcmludEljZVVmcmFnKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPWljZS11ZnJhZzpcIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKX1wcmludEljZVB3ZChlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1pY2UtcHdkOlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50SWNlT3B0aW9ucyhlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1pY2Utb3B0aW9uczpcIi5jb25jYXQoZS5qb2luKHMpKS5jb25jYXQodGhpcy5lb2wpfXByaW50RmluZ2VycHJpbnRzKGUpe3JldHVybiBlLmxlbmd0aD4wP2UubWFwKChlPT5cImE9ZmluZ2VycHJpbnQ6XCIuY29uY2F0KGUuaGFzaEZ1bmN0aW9uKS5jb25jYXQocykuY29uY2F0KGUuZmluZ2VycHJpbnQpKSkuam9pbih0aGlzLmVvbCkrdGhpcy5lb2w6XCJcIn1wcmludEV4dG1hcChlKXtyZXR1cm4gZS5tYXAoKGU9PlwiYT1leHRtYXA6XCIuY29uY2F0KGUuZW50cnkpLmNvbmNhdChlLmRpcmVjdGlvbj9cIi9cIi5jb25jYXQoZS5kaXJlY3Rpb24pOlwiXCIpLmNvbmNhdChzKS5jb25jYXQoZS5leHRlbnNpb25OYW1lKS5jb25jYXQoZS5leHRlbnNpb25BdHRyaWJ1dGVzP1wiXCIuY29uY2F0KHMpLmNvbmNhdChlLmV4dGVuc2lvbkF0dHJpYnV0ZXMpOlwiXCIpLmNvbmNhdCh0aGlzLmVvbCkpKS5qb2luKFwiXCIpfXByaW50U2V0dXAoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9c2V0dXA6XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRVbnJlY29nbml6ZWQoZSl7cmV0dXJuIGUubWFwKChlPT5cImE9XCIuY29uY2F0KGUuYXR0RmllbGQpLmNvbmNhdChlLmF0dFZhbHVlP1wiOlwiLmNvbmNhdChlLmF0dFZhbHVlKTpcIlwiKS5jb25jYXQodGhpcy5lb2wpKSkuam9pbihcIlwiKX19Y2xhc3MgTyBleHRlbmRzIHd7cHJpbnQoZSl7bGV0IHQ9XCJcIjtyZXR1cm4gdCs9dGhpcy5wcmludEdyb3VwcyhlLmdyb3VwcyksdCs9dGhpcy5wcmludE1zaWRTZW1hbnRpYyhlLm1zaWRTZW1hbnRpYyksdCs9dGhpcy5wcmludEljZUxpdGUoZS5pY2VMaXRlKSx0Kz10aGlzLnByaW50SWNlVWZyYWcoZS5pY2VVZnJhZyksdCs9dGhpcy5wcmludEljZVB3ZChlLmljZVB3ZCksdCs9dGhpcy5wcmludEljZU9wdGlvbnMoZS5pY2VPcHRpb25zKSx0Kz10aGlzLnByaW50RmluZ2VycHJpbnRzKGUuZmluZ2VycHJpbnRzKSx0Kz10aGlzLnByaW50U2V0dXAoZS5zZXR1cCksdCs9dGhpcy5wcmludFRsc0lkKGUudGxzSWQpLHQrPXRoaXMucHJpbnRJZGVudGl0eShlLmlkZW50aXRpZXMpLHQrPXRoaXMucHJpbnRFeHRtYXAoZS5leHRtYXBzKSx0Kz10aGlzLnByaW50VW5yZWNvZ25pemVkKGUudW5yZWNvZ25pemVkKSx0fXByaW50R3JvdXBzKGUpe2xldCB0PVwiXCI7cmV0dXJuIGUubGVuZ3RoPjAmJih0Kz1lLm1hcCgoZT0+XCJhPWdyb3VwOlwiLmNvbmNhdChlLnNlbWFudGljKS5jb25jYXQoZS5pZGVudGlmaWNhdGlvblRhZy5tYXAoKGU9PlwiXCIuY29uY2F0KHMpLmNvbmNhdChlKSkpLmpvaW4oXCJcIikpLmNvbmNhdCh0aGlzLmVvbCkpKS5qb2luKFwiXCIpKSx0fXByaW50SWNlTGl0ZShlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1pY2UtbGl0ZVwiK3RoaXMuZW9sfXByaW50VGxzSWQoZSl7cmV0dXJuIGU/XCJhPXRscy1pZDpcIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKTpcIlwifXByaW50SWRlbnRpdHkoZSl7cmV0dXJuIDA9PT1lLmxlbmd0aD9cIlwiOmUubWFwKChlPT5cImE9aWRlbnRpdHk6XCIuY29uY2F0KGUuYXNzZXJ0aW9uVmFsdWUpLmNvbmNhdChlLmV4dGVuc2lvbnMubWFwKChlPT5cIlwiLmNvbmNhdChzKS5jb25jYXQoZS5uYW1lKS5jb25jYXQoZS52YWx1ZT9cIj1cIi5jb25jYXQoZS52YWx1ZSk6XCJcIikpKSkpKS5qb2luKHRoaXMuZW9sKSt0aGlzLmVvbH1wcmludE1zaWRTZW1hbnRpYyhlKXtpZighZSlyZXR1cm5cIlwiO2xldCB0PVwiYT1tc2lkLXNlbWFudGljOlwiLmNvbmNhdChlLnNlbWFudGljKTtyZXR1cm4gZS5hcHBseUZvckFsbD90Kz1cIlwiLmNvbmNhdChzLFwiKlwiKTplLmlkZW50aWZpZXJMaXN0Lmxlbmd0aD4wJiYodCs9ZS5pZGVudGlmaWVyTGlzdC5tYXAoKGU9PlwiXCIuY29uY2F0KHMpLmNvbmNhdChlKSkpKSx0K3RoaXMuZW9sfX1jbGFzcyBOIGV4dGVuZHMgd3twcmludChlKXtjb25zdCB0PWUuYXR0cmlidXRlcztsZXQgaT1cIlwiO3JldHVybiBpKz10aGlzLnByaW50UlRDUCh0LnJ0Y3ApLGkrPXRoaXMucHJpbnRJY2VVZnJhZyh0LmljZVVmcmFnKSxpKz10aGlzLnByaW50SWNlUHdkKHQuaWNlUHdkKSxpKz10aGlzLnByaW50SWNlT3B0aW9ucyh0LmljZU9wdGlvbnMpLGkrPXRoaXMucHJpbnRDYW5kaWRhdGVzKHQuY2FuZGlkYXRlcyksaSs9dGhpcy5wcmludFJlbW90ZUNhbmRpZGF0ZXNMaXN0KHQucmVtb3RlQ2FuZGlkYXRlc0xpc3QpLGkrPXRoaXMucHJpbnRFbmRPZkNhbmRpZGF0ZXModC5lbmRPZkNhbmRpZGF0ZXMpLGkrPXRoaXMucHJpbnRGaW5nZXJwcmludHModC5maW5nZXJwcmludHMpLGkrPXRoaXMucHJpbnRTZXR1cCh0LnNldHVwKSxpKz10aGlzLnByaW50TWlkKHQubWlkKSxpKz10aGlzLnByaW50RXh0bWFwKHQuZXh0bWFwcyksaSs9dGhpcy5wcmludFJUUFJlbGF0ZWQodCksaSs9dGhpcy5wcmludFB0aW1lKHQucHRpbWUpLGkrPXRoaXMucHJpbnRNYXhQdGltZSh0Lm1heFB0aW1lKSxpKz10aGlzLnByaW50RGlyZWN0aW9uKHQuZGlyZWN0aW9uKSxpKz10aGlzLnByaW50U1NSQ0dyb3Vwcyh0LnNzcmNHcm91cHMpLGkrPXRoaXMucHJpbnRTU1JDKHQuc3NyY3MpLGkrPXRoaXMucHJpbnRSVENQTXV4KHQucnRjcE11eCksaSs9dGhpcy5wcmludFJUQ1BNdXhPbmx5KHQucnRjcE11eE9ubHkpLGkrPXRoaXMucHJpbnRSVENQUnNpemUodC5ydGNwUnNpemUpLGkrPXRoaXMucHJpbnRNU0lkKHQubXNpZHMpLGkrPXRoaXMucHJpbnRJbWFnZWF0dHIodC5pbWFnZWF0dHIpLGkrPXRoaXMucHJpbnRSaWQodC5yaWRzKSxpKz10aGlzLnByaW50U2ltdWxjYXN0KHQuc2ltdWxjYXN0KSxpKz10aGlzLnByaW50U0NUUFBvcnQodC5zY3RwUG9ydCksaSs9dGhpcy5wcmludE1heE1lc3NhZ2VTaXplKHQubWF4TWVzc2FnZVNpemUpLGkrPXRoaXMucHJpbnRVbnJlY29nbml6ZWQodC51bnJlY29nbml6ZWQpLGl9cHJpbnRDYW5kaWRhdGVzKGUpe3JldHVybiBlLm1hcCgoZT0+XCJhPWNhbmRpZGF0ZTpcIi5jb25jYXQoZS5mb3VuZGF0aW9uKS5jb25jYXQocykuY29uY2F0KGUuY29tcG9uZW50SWQpLmNvbmNhdChzKS5jb25jYXQoZS50cmFuc3BvcnQpLmNvbmNhdChzKS5jb25jYXQoZS5wcmlvcml0eSkuY29uY2F0KHMpLmNvbmNhdChlLmNvbm5lY3Rpb25BZGRyZXNzKS5jb25jYXQocykuY29uY2F0KGUucG9ydCkuY29uY2F0KHMsXCJ0eXBcIikuY29uY2F0KHMpLmNvbmNhdChlLnR5cGUpLmNvbmNhdChlLnJlbEFkZHI/XCJcIi5jb25jYXQocyxcInJhZGRyXCIpLmNvbmNhdChzKS5jb25jYXQoZS5yZWxBZGRyKTpcIlwiKS5jb25jYXQoZS5yZWxQb3J0P1wiXCIuY29uY2F0KHMsXCJycG9ydFwiKS5jb25jYXQocykuY29uY2F0KGUucmVsUG9ydCk6XCJcIikuY29uY2F0KE9iamVjdC5rZXlzKGUuZXh0ZW5zaW9uKS5tYXAoKHQ9PlwiXCIuY29uY2F0KHMpLmNvbmNhdCh0KS5jb25jYXQocykuY29uY2F0KGUuZXh0ZW5zaW9uW3RdKSkpLmpvaW4oXCJcIikpLmNvbmNhdCh0aGlzLmVvbCkpKS5qb2luKFwiXCIpfXByaW50UmVtb3RlQ2FuZGlkYXRlc0xpc3QoZSl7cmV0dXJuIGUubWFwKChlPT5cImE9cmVtb3RlLWNhbmRpZGF0ZXM6XCIuY29uY2F0KGUuam9pbihzKSkuY29uY2F0KHRoaXMuZW9sKSkpLmpvaW4oXCJcIil9cHJpbnRFbmRPZkNhbmRpZGF0ZXMoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9ZW5kLW9mLWNhbmRpZGF0ZXNcIit0aGlzLmVvbH1wcmludFJUUFJlbGF0ZWQoZSl7aWYoIWUucGF5bG9hZHMpcmV0dXJuXCJcIjtjb25zdCB0PWUucGF5bG9hZHM7bGV0IGk9XCJcIjtpKz1lLnJ0Y3BGZWVkYmFja1dpbGRjYXJkcy5tYXAoKGU9PnRoaXMucHJpbnRSVENQRmVlZGJhY2soXCIqXCIsZSkpKS5qb2luKFwiXCIpO2Zvcihjb25zdCBlIG9mIHQpaSs9dGhpcy5wcmludFJ0cE1hcChlLnBheWxvYWRUeXBlLGUucnRwTWFwKSxpKz10aGlzLnByaW50Rm10cChlLnBheWxvYWRUeXBlLGUuZm10cCksaSs9ZS5ydGNwRmVlZGJhY2tzLm1hcCgodD0+dGhpcy5wcmludFJUQ1BGZWVkYmFjayhlLnBheWxvYWRUeXBlLHQpKSkuam9pbihcIlwiKTtyZXR1cm4gaX1wcmludEZtdHAoZSx0KXtpZighdClyZXR1cm5cIlwiO2NvbnN0IGk9T2JqZWN0LmtleXModC5wYXJhbWV0ZXJzKTtyZXR1cm4gMT09PWkubGVuZ3RoJiZudWxsPT09dC5wYXJhbWV0ZXJzW2lbMF1dP1wiYT1mbXRwOlwiLmNvbmNhdChlKS5jb25jYXQocykuY29uY2F0KGlbMF0pLmNvbmNhdCh0aGlzLmVvbCk6XCJhPWZtdHA6XCIuY29uY2F0KGUpLmNvbmNhdChzKS5jb25jYXQoT2JqZWN0LmtleXModC5wYXJhbWV0ZXJzKS5tYXAoKGU9PlwiXCIuY29uY2F0KGUsXCI9XCIpLmNvbmNhdCh0LnBhcmFtZXRlcnNbZV0pKSkuam9pbihcIjtcIikpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRSdHBNYXAoZSx0KXtyZXR1cm4gdD9cImE9cnRwbWFwOlwiLmNvbmNhdChlKS5jb25jYXQocykuY29uY2F0KHQuZW5jb2RpbmdOYW1lLFwiL1wiKS5jb25jYXQodC5jbG9ja1JhdGUpLmNvbmNhdCh0LmVuY29kaW5nUGFyYW1ldGVycz9cIi9cIi5jb25jYXQodC5lbmNvZGluZ1BhcmFtZXRlcnMpOlwiXCIpLmNvbmNhdCh0aGlzLmVvbCk6XCJcIn1wcmludFJUQ1BGZWVkYmFjayhlLHQpe2xldCBpPVwiYT1ydGNwLWZiOlwiLmNvbmNhdChlKS5jb25jYXQocyksbj10O3JldHVyblwidHJyLWludFwiPT09bi50eXBlP2krPVwidHRyLWludFwiLmNvbmNhdChzKS5jb25jYXQobi5pbnRlcnZhbCk6KGkrPVwiXCIuY29uY2F0KG4udHlwZSksbi5wYXJhbWV0ZXImJihpKz1cIlwiLmNvbmNhdChzKS5jb25jYXQobi5wYXJhbWV0ZXIpLG4uYWRkaXRpb25hbCYmKGkrPVwiXCIuY29uY2F0KHMpLmNvbmNhdChuLmFkZGl0aW9uYWwpKSkpLGkrdGhpcy5lb2x9cHJpbnRQdGltZShlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1wdGltZTpcIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKX1wcmludE1heFB0aW1lKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPW1heHB0aW1lOlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50RGlyZWN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPVwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50U1NSQyhlKXtyZXR1cm4gZS5tYXAoKGU9Pk9iamVjdC5rZXlzKGUuYXR0cmlidXRlcykubWFwKCh0PT5cImE9c3NyYzpcIi5jb25jYXQoZS5zc3JjSWQudG9TdHJpbmcoMTApKS5jb25jYXQocykuY29uY2F0KHQpLmNvbmNhdChlLmF0dHJpYnV0ZXNbdF0/XCI6XCIuY29uY2F0KGUuYXR0cmlidXRlc1t0XSk6XCJcIikuY29uY2F0KHRoaXMuZW9sKSkpLmpvaW4oXCJcIikpKS5qb2luKFwiXCIpfXByaW50UlRDUE11eChlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1ydGNwLW11eFwiLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRSVENQTXV4T25seShlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1ydGNwLW11eC1vbmx5XCIuY29uY2F0KHRoaXMuZW9sKX1wcmludFJUQ1BSc2l6ZShlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1ydGNwLXJzaXplXCIuY29uY2F0KHRoaXMuZW9sKX1wcmludFJUQ1AoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm5cIlwiO2xldCB0PVwiYT1ydGNwOlwiLmNvbmNhdChlLnBvcnQpO3JldHVybiBlLm5ldFR5cGUmJih0Kz1cIlwiLmNvbmNhdChzKS5jb25jYXQoZS5uZXRUeXBlKSksZS5hZGRyZXNzVHlwZSYmKHQrPVwiXCIuY29uY2F0KHMpLmNvbmNhdChlLmFkZHJlc3NUeXBlKSksZS5hZGRyZXNzJiYodCs9XCJcIi5jb25jYXQocykuY29uY2F0KGUuYWRkcmVzcykpLHQrdGhpcy5lb2x9cHJpbnRNU0lkKGUpe3JldHVybiBlLm1hcCgoZT0+XCJhPW1zaWQ6XCIuY29uY2F0KGUuaWQpLmNvbmNhdChlLmFwcGRhdGE/XCJcIi5jb25jYXQocykuY29uY2F0KGUuYXBwZGF0YSk6XCJcIikuY29uY2F0KHRoaXMuZW9sKSkpLmpvaW4oXCJcIil9cHJpbnRJbWFnZWF0dHIoZSl7cmV0dXJuIGUubWFwKChlPT5cImE9aW1hZ2VhdHRyOlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpKSkuam9pbihcIlwiKX1wcmludFJpZChlKXtyZXR1cm4gZS5tYXAoKGU9PntsZXQgdD1cImE9cmlkOlwiLmNvbmNhdChlLmlkKS5jb25jYXQocykuY29uY2F0KGUuZGlyZWN0aW9uKTtyZXR1cm4gZS5wYXlsb2FkcyYmKHQrPVwiXCIuY29uY2F0KHMsXCJwdD1cIikuY29uY2F0KGUucGF5bG9hZHMuam9pbihcIixcIikpKSxlLnBhcmFtcy5sZW5ndGg+MCYmKHQrPVwiXCIuY29uY2F0KHMpLmNvbmNhdChlLnBhcmFtcy5tYXAoKGU9PlwiZGVwZW5kXCI9PT1lLnR5cGU/XCJkZXBlbmQ9XCIuY29uY2F0KGUucmlkcy5qb2luKFwiLFwiKSk6XCJcIi5jb25jYXQoZS50eXBlLFwiPVwiKS5jb25jYXQoZS52YWwpKSkuam9pbihcIjtcIikpKSx0K3RoaXMuZW9sfSkpLmpvaW4oXCJcIil9cHJpbnRTaW11bGNhc3QoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9c2ltdWxjYXN0OlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50U0NUUFBvcnQoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9c2N0cC1wb3J0OlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50TWF4TWVzc2FnZVNpemUoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9bWF4LW1lc3NhZ2Utc2l6ZTpcIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKX1wcmludE1pZChlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1taWQ6XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRTU1JDR3JvdXBzKGUpe3JldHVybiBlLm1hcCgoZT0+XCJhPXNzcmMtZ3JvdXA6XCIuY29uY2F0KGUuc2VtYW50aWMpLmNvbmNhdChlLnNzcmNJZHMubWFwKChlPT5cIlwiLmNvbmNhdChzKS5jb25jYXQoZS50b1N0cmluZygxMCkpKSkuam9pbihcIlwiKSkuY29uY2F0KHRoaXMuZW9sKSkpLmpvaW4oXCJcIil9fWZ1bmN0aW9uIEQoZSl7cmV0dXJuKG5ldyBDKS5wYXJzZShlKX1mdW5jdGlvbiBQKGUsdCl7cmV0dXJuKG5ldyBiKS5wcmludChlLHQpfX19LHQ9e307ZnVuY3Rpb24gaShuKXtpZih0W25dKXJldHVybiB0W25dLmV4cG9ydHM7dmFyIHI9dFtuXT17ZXhwb3J0czp7fX07cmV0dXJuIGVbbl0ocixyLmV4cG9ydHMsaSksci5leHBvcnRzfXJldHVybiBpLmQ9KGUsdCk9Pntmb3IodmFyIG4gaW4gdClpLm8odCxuKSYmIWkubyhlLG4pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHtlbnVtZXJhYmxlOiEwLGdldDp0W25dfSl9LGkubz0oZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCksaS5yPWU9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxpKDgpfSkoKX0oalApO3ZhciBHUD1qUC5leHBvcnRzO2Z1bmN0aW9uIFdQKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBIUChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9XUChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpXUChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBLUChlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30saT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj1hcmd1bWVudHMubGVuZ3RoPjM/YXJndW1lbnRzWzNdOnZvaWQgMDtjb25zdHtmaWx0ZXJSVFg6cixmaWx0ZXJWaWRlb0ZlYzpzLGZpbHRlckF1ZGlvRmVjOm8sZmlsdGVyQXVkaW9Db2RlYzphLGZpbHRlclZpZGVvQ29kZWM6Y309dCx7dXNlWFI6ZH09aTtsZXQgbD1bXSxoPVtdLHU9W10scD1bXSxfPSExLEU9ITE7aWYoR1AucGFyc2UoZSkubWVkaWFEZXNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+e24mJm4hPT1lLmF0dHJpYnV0ZXMuZGlyZWN0aW9ufHwoXCJ2aWRlb1wiIT09ZS5tZWRpYS5tZWRpYVR5cGV8fF98fChoPWUuYXR0cmlidXRlcy5wYXlsb2FkcyxwPWUuYXR0cmlidXRlcy5leHRtYXBzLF89ITApLFwiYXVkaW9cIiE9PWUubWVkaWEubWVkaWFUeXBlfHxFfHwobD1lLmF0dHJpYnV0ZXMucGF5bG9hZHMsdT1lLmF0dHJpYnV0ZXMuZXh0bWFwcyxFPSEwKSl9KSksIXB8fDA9PT1oLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHZpZGVvIGNhcGFiaWxpdGllcyBmcm9tIFNEUC5cIik7aWYoIXV8fDA9PT1sLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGF1ZGlvIGNhcGFiaWxpdGllcyBmcm9tIFNEUC5cIik7cmV0dXJuIGguZm9yRWFjaCgoZT0+e3ZhciB0O251bGwhPT0odD1lLnJ0cE1hcCkmJnZvaWQgMCE9PXQmJnQuY2xvY2tSYXRlJiYoZS5ydHBNYXAuY2xvY2tSYXRlPXBhcnNlSW50KGUucnRwTWFwLmNsb2NrUmF0ZSkpLGQmJmUucnRjcEZlZWRiYWNrcy5wdXNoKHt0eXBlOlwicnJ0clwifSl9KSksbC5mb3JFYWNoKChlPT57dmFyIHQ7bnVsbCE9PSh0PWUucnRwTWFwKSYmdm9pZCAwIT09dCYmdC5jbG9ja1JhdGUmJihlLnJ0cE1hcC5jbG9ja1JhdGU9cGFyc2VJbnQoZS5ydHBNYXAuY2xvY2tSYXRlKSksZCYmZS5ydGNwRmVlZGJhY2tzLnB1c2goe3R5cGU6XCJycnRyXCJ9KX0pKSxyJiYobD1sLmZpbHRlcigoZT0+e3ZhciB0O3JldHVyblwicnR4XCIhPT0obnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSl9KSksaD1oLmZpbHRlcigoZT0+e3ZhciB0O3JldHVyblwicnR4XCIhPT0obnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSl9KSkpLHMmJihoPWguZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuIS8ocmVkKXwodWxwZmVjKXwoZmxleGZlYykvaS50ZXN0KChudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZSl8fFwiXCIpfSkpKSxvJiYobD1sLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiEvKHJlZCl8KHVscGZlYyl8KGZsZXhmZWMpL2kudGVzdCgobnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUpfHxcIlwiKX0pKSksYSYmKG51bGw9PWE/dm9pZCAwOmEubGVuZ3RoKT4wJiYobD1sLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiBQcihhKS5jYWxsKGEsKG51bGw9PT0odD1lLnJ0cE1hcCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpfHxcIlwiKX0pKSksYyYmKG51bGw9PWM/dm9pZCAwOmMubGVuZ3RoKT4wJiYoaD1oLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiBQcihjKS5jYWxsKGMsKG51bGw9PT0odD1lLnJ0cE1hcCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpfHxcIlwiKX0pKSkse2F1ZGlvQ29kZWNzOmwsdmlkZW9Db2RlY3M6aCxhdWRpb0V4dGVuc2lvbnM6dSx2aWRlb0V4dGVuc2lvbnM6cH19ZnVuY3Rpb24gWVAoZSl7Y29uc3QgdD1HUC5wYXJzZShlKTtsZXQgaSxuO2Zvcihjb25zdCBlIG9mIHQubWVkaWFEZXNjcmlwdGlvbnMpe2lmKCFpKXtjb25zdCB0PWUuYXR0cmlidXRlcy5pY2VVZnJhZyxuPWUuYXR0cmlidXRlcy5pY2VQd2Q7aWYoIXR8fCFuKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgaWNlVWZyYWcgb3IgaWNlUHdkIGZyb20gU0RQLlwiKTtpPXtpY2VVZnJhZzp0LGljZVB3ZDpufX1pZighbil7Y29uc3QgdD1lLmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzO3QubGVuZ3RoPjAmJihuPXtmaW5nZXJwcmludHM6dH0pfX1pZighbiYmdC5hdHRyaWJ1dGVzLmZpbmdlcnByaW50cy5sZW5ndGg+MCYmKG49e2ZpbmdlcnByaW50czp0LmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzfSksIW58fCFpKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgaWNlUGFyYW1ldGVycyBvciBkdGxzUGFyYW1ldGVycyBmcm9tIFNEUC5cIik7cmV0dXJue2ljZVBhcmFtZXRlcnM6aSxkdGxzUGFyYW1ldGVyczpufX1mdW5jdGlvbiBxUChlLHQpe2NvbnN0IGk9W10sbj1lLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5maWx0ZXIoKGU9PlwiRklEXCI9PT1lLnNlbWFudGljKSkscj1lLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5maW5kKChlPT5cIlNJTVwiPT09ZS5zZW1hbnRpYykpLHM9ZS5hdHRyaWJ1dGVzLnNzcmNzO2lmKHIpci5zc3JjSWRzLmZvckVhY2goKGU9Pnt2YXIgcjtjb25zdCBzPW51bGw9PT0ocj1uLmZpbmQoKHQ9PnQuc3NyY0lkc1swXT09PWUpKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuc3NyY0lkc1sxXTtpLnB1c2goe3NzcmNJZDplLHJ0eDp0P3M6dm9pZCAwfSl9KSk7ZWxzZSBpZihuLmxlbmd0aD4wKXtjb25zdCBlPW5bMF0uc3NyY0lkc1swXSxyPW5bMF0uc3NyY0lkc1sxXTtpLnB1c2goe3NzcmNJZDplLHJ0eDp0P3I6dm9pZCAwfSl9ZWxzZXtpZigwPT09cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiTm8gc3NyY3MgZm91bmQgb24gbG9jYWwgbWVkaWEgZGVzY3JpcHRpb24uXCIpO2kucHVzaCh7c3NyY0lkOnNbMF0uc3NyY0lkfSl9cmV0dXJuIGl9ZnVuY3Rpb24gSlAoZSx0KXtjb25zdHtjbmFtZTppfT1lO2xldCBuO3QmJnQuaXAmJlwibnVtYmVyXCI9PXR5cGVvZiB0LnBvcnQ/KG49W3tmb3VuZGF0aW9uOlwidWRwY2FuZGlkYXRlXCIsY29tcG9uZW50SWQ6XCIxXCIsdHJhbnNwb3J0OlwidWRwXCIscHJpb3JpdHk6XCIyMTAzMjY2MzIzXCIsY29ubmVjdGlvbkFkZHJlc3M6dC5pcCxwb3J0OnQucG9ydC50b1N0cmluZygpLHR5cGU6XCJob3N0XCIsZXh0ZW5zaW9uOnt9fV0sV0MuZGVidWcoXCJVc2luZyByZW1vdGUgY2FuZGlkYXRlIGZyb20gQVAgXCIuY29uY2F0KHQuaXAsXCI6XCIpLmNvbmNhdCh0LnBvcnQpKSx0LmlwNiYmKG4ucHVzaCh7Zm91bmRhdGlvbjpcInVkcGNhbmRpZGF0ZVwiLGNvbXBvbmVudElkOlwiMVwiLHRyYW5zcG9ydDpcInVkcFwiLHByaW9yaXR5OlwiMjEwMzI2NjMyM1wiLGNvbm5lY3Rpb25BZGRyZXNzOnQuaXA2LHBvcnQ6dC5wb3J0LnRvU3RyaW5nKCksdHlwZTpcImhvc3RcIixleHRlbnNpb246e319KSxXQy5kZWJ1ZyhcIlVzaW5nIElQVjYgcmVtb3RlIGNhbmRpZGF0ZSBmcm9tIEFQIFwiLmNvbmNhdCh0LmlwNixcIjpcIikuY29uY2F0KHQucG9ydCkpKSk6bj1lLmljZVBhcmFtZXRlcnMuY2FuZGlkYXRlcy5tYXAoKGU9Pih7Zm91bmRhdGlvbjplLmZvdW5kYXRpb24sY29tcG9uZW50SWQ6XCIxXCIsdHJhbnNwb3J0OmUucHJvdG9jb2wscHJpb3JpdHk6ZS5wcmlvcml0eS50b1N0cmluZygpLGNvbm5lY3Rpb25BZGRyZXNzOmUuaXAscG9ydDplLnBvcnQudG9TdHJpbmcoKSx0eXBlOmUudHlwZSxleHRlbnNpb246e319KSkpO2NvbnN0IHI9e2ZpbmdlcnByaW50czplLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cy5tYXAoKGU9Pih7aGFzaEZ1bmN0aW9uOmUuYWxnb3JpdGhtLGZpbmdlcnByaW50OmUuZmluZ2VycHJpbnR9KSkpfSxzPXtpY2VVZnJhZzplLmljZVBhcmFtZXRlcnMuaWNlVWZyYWcsaWNlUHdkOmUuaWNlUGFyYW1ldGVycy5pY2VQd2R9O2xldCBvO3N3aXRjaChlLmR0bHNQYXJhbWV0ZXJzLnJvbGUpe2Nhc2VcInNlcnZlclwiOm89XCJwYXNzaXZlXCI7YnJlYWs7Y2FzZVwiY2xpZW50XCI6bz1cImFjdGl2ZVwiO2JyZWFrO2Nhc2VcImF1dG9cIjpvPVwiYWN0cGFzc1wifXJldHVybntkdGxzUGFyYW1ldGVyczpyLGljZVBhcmFtZXRlcnM6cyxjYW5kaWRhdGVzOm4scnRwQ2FwYWJpbGl0aWVzOnJMKGUucnRwQ2FwYWJpbGl0aWVzKSxzZXR1cDpvLGNuYW1lOml9fWZ1bmN0aW9uIHpQKGUsdCxpKXtjb25zdCBuPVtdLHI9W107cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2xldHtzc3JjSWQ6cyxydHg6b309ZTtjb25zdCBhPXhTKDgsXCJ0cmFjay1cIiksYz17c3NyY0lkOnMsYXR0cmlidXRlczpIUCh7bGFiZWw6YSxtc2xhYmVsOmk9aXx8eFMoMTAsXCJcIiksbXNpZDpcIlwiLmNvbmNhdChpLFwiIFwiKS5jb25jYXQoYSl9LHQmJntjbmFtZTp0fSl9O2lmKG4ucHVzaChjKSx2b2lkIDAhPT1vKXtjb25zdCBlPXtzc3JjSWQ6byxhdHRyaWJ1dGVzOkhQKHtsYWJlbDphLG1zbGFiZWw6aSxtc2lkOlwiXCIuY29uY2F0KGksXCIgXCIpLmNvbmNhdChhKX0sdCYme2NuYW1lOnR9KX07bi5wdXNoKGUpLHIucHVzaCh7c2VtYW50aWM6XCJGSURcIixzc3JjSWRzOltzLG9dfSl9fSkpLGUubGVuZ3RoPjEmJnIucHVzaCh7c2VtYW50aWM6XCJTSU1cIixzc3JjSWRzOmUubWFwKChlPT57bGV0e3NzcmNJZDp0fT1lO3JldHVybiB0fSkpfSkse3NzcmNzOm4sc3NyY0dyb3VwczpyfX1mdW5jdGlvbiBYUChlLHQpe3QgaW5zdGFuY2VvZiB6QSYmZS5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2goKGU9Pnt2YXIgaTtjb25zdCBuPW51bGw9PT0oaT1lLnJ0cE1hcCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCk7aWYoIW58fC0xPT09W1wib3B1c1wiLFwicGNtdVwiLFwicGNtYVwiLFwiZzcyMlwiXS5pbmRleE9mKG4pKXJldHVybjtlLmZtdHB8fChlLmZtdHA9e3BhcmFtZXRlcnM6e319KSxlLmZtdHAucGFyYW1ldGVycy5taW5wdGltZT1cIjEwXCIsZS5mbXRwLnBhcmFtZXRlcnMudXNlaW5iYW5kZmVjPVwiMVwiO2NvbnN0IHI9dC5fZW5jb2RlckNvbmZpZztyJiZcInBjbXVcIiE9PW4mJlwicGNtYVwiIT09biYmXCJnNzIyXCIhPT1uJiYoci5iaXRyYXRlJiYhUmcoKSYmKGUuZm10cC5wYXJhbWV0ZXJzLm1heGF2ZXJhZ2ViaXRyYXRlPVwiXCIuY29uY2F0KE1hdGguZmxvb3IoMWUzKnIuYml0cmF0ZSkpKSxyLnNhbXBsZVJhdGUmJihlLmZtdHAucGFyYW1ldGVycy5tYXhwbGF5YmFja3JhdGU9XCJcIi5jb25jYXQoci5zYW1wbGVSYXRlKSxlLmZtdHAucGFyYW1ldGVyc1tcInNwcm9wLW1heGNhcHR1cmVyYXRlXCJdPVwiXCIuY29uY2F0KHIuc2FtcGxlUmF0ZSkpLHIuc3RlcmVvJiYoZS5mbXRwLnBhcmFtZXRlcnMuc3RlcmVvPVwiMVwiLGUuZm10cC5wYXJhbWV0ZXJzW1wic3Byb3Atc3RlcmVvXCJdPVwiMVwiKSl9KSl9ZnVuY3Rpb24gUVAoZSl7Y29uc3QgdD1lLmF0dHJpYnV0ZXMudW5yZWNvZ25pemVkLmZpbmRJbmRleCgoZT0+XCJ4LWdvb2dsZS1mbGFnXCI9PT1lLmF0dEZpZWxkJiZcImNvbmZlcmVuY2VcIj09PWUuYXR0VmFsdWUpKTstMSE9PXQmJmUuYXR0cmlidXRlcy51bnJlY29nbml6ZWQuc3BsaWNlKHQsMSl9ZnVuY3Rpb24gWlAoZSx0KXt2YXIgaTtpZighKHQgaW5zdGFuY2VvZiBmYiYmdC5fZW5jb2RlckNvbmZpZyYmLTE9PT10Ll9oaW50cy5pbmRleE9mKER5LlNDUkVFTl9UUkFDSykpKXJldHVybjtjb25zdCBuPXQuX2VuY29kZXJDb25maWc7aEEoKS5zdXBwb3J0TWluQml0cmF0ZSYmbi5iaXRyYXRlTWluJiZlLmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaCgoZT0+e3ZhciB0LGk7UHIodD1bXCJoMjY0XCIsXCJoMjY1XCIsXCJ2cDhcIixcInZwOVwiLFwiYXYxXCJdKS5jYWxsKHQsKG51bGw9PT0oaT1lLnJ0cE1hcCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpfHxcIlwiKSYmKGUuZm10cHx8KGUuZm10cD17cGFyYW1ldGVyczp7fX0pLGUuZm10cC5wYXJhbWV0ZXJzW1wieC1nb29nbGUtbWluLWJpdHJhdGVcIl09XCJcIi5jb25jYXQobi5iaXRyYXRlTWluKSl9KSksaEEoKS5zdXBwb3J0TWluQml0cmF0ZSYmIVByKGk9dC5faGludHMpLmNhbGwoaSxEeS5MT1dfU1RSRUFNKSYmbi5iaXRyYXRlTWF4JiZlLmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaCgoZT0+e3ZhciB0LGk7UHIodD1bXCJoMjY0XCIsXCJoMjY1XCIsXCJ2cDhcIixcInZwOVwiLFwiYXYxXCJdKS5jYWxsKHQsKG51bGw9PT0oaT1lLnJ0cE1hcCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpfHxcIlwiKSYmKGUuZm10cHx8KGUuZm10cD17cGFyYW1ldGVyczp7fX0pLGUuZm10cC5wYXJhbWV0ZXJzW1wieC1nb29nbGUtc3RhcnQtYml0cmF0ZVwiXT1cIlwiLmNvbmNhdChrQyhcIlhfR09PR0xFX1NUQVJUX0JJVFJBVEVcIil8fE1hdGguZmxvb3Iobi5iaXRyYXRlTWF4KSkpfSkpfWZ1bmN0aW9uICRQKGUpe2lmKFwidmlkZW9cIiE9PWUubWVkaWEubWVkaWFUeXBlKXJldHVybjtjb25zdCB0PXBnKCk7aWYodC5uYW1lIT09Y2cuU0FGQVJJJiZ0Lm9zIT09YWcuSU9TKXJldHVybjtjb25zdCBpPWUuYXR0cmlidXRlcy5leHRtYXBzLmZpbmRJbmRleCgoZT0+L3ZpZGVvLW9yaWVudGF0aW9uL2cudGVzdChlLmV4dGVuc2lvbk5hbWUpKSk7LTEhPT1pJiZlLmF0dHJpYnV0ZXMuZXh0bWFwcy5zcGxpY2UoaSwxKX1mdW5jdGlvbiBlTChlLHQsaSl7aWYoIXQpcmV0dXJuO2xldCBuLHI7aWYoXCJ2aWRlb1wiPT09ZS5tZWRpYS5tZWRpYVR5cGU/KG49aS52aWRlb0V4dGVuc2lvbnMscj1pLnZpZGVvQ29kZWNzKToobj1pLmF1ZGlvRXh0ZW5zaW9ucyxyPWkuYXVkaW9Db2RlY3MpLCEwPT09dC50d2NjKXtjb25zdCB0PW4uZmluZCgoZT0+XCJodHRwOi8vd3d3LmlldGYub3JnL2lkL2RyYWZ0LWhvbG1lci1ybWNhdC10cmFuc3BvcnQtd2lkZS1jYy1leHRlbnNpb25zLTAxXCI9PT1lLmV4dGVuc2lvbk5hbWUpKTtpZih0KXtlLmF0dHJpYnV0ZXMuZXh0bWFwcy5maW5kKChlPT5cImh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDFcIj09PWUuZXh0ZW5zaW9uTmFtZSkpfHxlLmF0dHJpYnV0ZXMuZXh0bWFwcy5wdXNoKHtlbnRyeTp0LmVudHJ5LGV4dGVuc2lvbk5hbWU6XCJodHRwOi8vd3d3LmlldGYub3JnL2lkL2RyYWZ0LWhvbG1lci1ybWNhdC10cmFuc3BvcnQtd2lkZS1jYy1leHRlbnNpb25zLTAxXCJ9KTtjb25zdCBpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZmlsdGVyKCh0PT4hIWUuZmluZCgoZT0+ZS5wYXlsb2FkVHlwZT09PXQucGF5bG9hZFR5cGUmJiEhZS5ydGNwRmVlZGJhY2tzLmZpbmQoKGU9PlwidHJhbnNwb3J0LWNjXCI9PT1lLnR5cGUpKSkpKSl9KHIsZS5hdHRyaWJ1dGVzLnBheWxvYWRzKTtpLmZvckVhY2goKGU9PntlLnJ0Y3BGZWVkYmFja3MuZmluZCgoZT0+XCJ0cmFuc3BvcnQtY2NcIj09PWUudHlwZSkpfHxlLnJ0Y3BGZWVkYmFja3MucHVzaCh7dHlwZTpcInRyYW5zcG9ydC1jY1wifSl9KSl9fWVsc2UgaWYoITE9PT10LnR3Y2Mpe2NvbnN0IHQ9ZS5hdHRyaWJ1dGVzLmV4dG1hcHMuZmluZEluZGV4KChlPT5cImh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDFcIj09PWUuZXh0ZW5zaW9uTmFtZSkpOy0xIT09dCYmZS5hdHRyaWJ1dGVzLmV4dG1hcHMuc3BsaWNlKHQsMSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2goKGU9Pntjb25zdCB0PWUucnRjcEZlZWRiYWNrcy5maW5kSW5kZXgoKGU9PlwidHJhbnNwb3J0LWNjXCI9PT1lLnR5cGUpKTstMSE9PXQmJmUucnRjcEZlZWRiYWNrcy5zcGxpY2UodCwxKX0pKX1pZighMD09PXQucmVtYil7Y29uc3QgdD1uLmZpbmQoKGU9PlwiaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvYWJzLXNlbmQtdGltZVwiPT09ZS5leHRlbnNpb25OYW1lKSk7aWYodCl7ZS5hdHRyaWJ1dGVzLmV4dG1hcHMuZmluZCgoZT0+XCJodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC9hYnMtc2VuZC10aW1lXCI9PT1lLmV4dGVuc2lvbk5hbWUpKXx8ZS5hdHRyaWJ1dGVzLmV4dG1hcHMucHVzaCh7ZW50cnk6dC5lbnRyeSxleHRlbnNpb25OYW1lOlwiaHR0cDovL3d3dy53ZWJydGMub3JnL2V4cGVyaW1lbnRzL3J0cC1oZHJleHQvYWJzLXNlbmQtdGltZVwifSk7Y29uc3QgaT1mdW5jdGlvbihlLHQpe3JldHVybiB0LmZpbHRlcigodD0+ISFlLmZpbmQoKGU9PmUucGF5bG9hZFR5cGU9PT10LnBheWxvYWRUeXBlJiYhIWUucnRjcEZlZWRiYWNrcy5maW5kKChlPT5cImdvb2ctcmVtYlwiPT09ZS50eXBlKSkpKSkpfShyLGUuYXR0cmlidXRlcy5wYXlsb2Fkcyk7aS5mb3JFYWNoKChlPT57ZS5ydGNwRmVlZGJhY2tzLmZpbmQoKGU9PlwiZ29vZy1yZW1iXCI9PT1lLnR5cGUpKXx8ZS5ydGNwRmVlZGJhY2tzLnB1c2goe3R5cGU6XCJnb29nLXJlbWJcIn0pfSkpfX1lbHNlIGlmKCExPT09dC5yZW1iKXtjb25zdCB0PWUuYXR0cmlidXRlcy5leHRtYXBzLmZpbmRJbmRleCgoZT0+XCJodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC9hYnMtc2VuZC10aW1lXCI9PT1lLmV4dGVuc2lvbk5hbWUpKTstMSE9PXQmJmUuYXR0cmlidXRlcy5leHRtYXBzLnNwbGljZSh0LDEpLGUuYXR0cmlidXRlcy5wYXlsb2Fkcy5mb3JFYWNoKChlPT57Y29uc3QgdD1lLnJ0Y3BGZWVkYmFja3MuZmluZEluZGV4KChlPT5cImdvb2ctcmVtYlwiPT09ZS50eXBlKSk7LTEhPT10JiZlLnJ0Y3BGZWVkYmFja3Muc3BsaWNlKHQsMSl9KSl9fWZ1bmN0aW9uIHRMKGUsdCxpKXtpZihSZygpKXJldHVybjtpZihcInZpZGVvXCIhPT1lLm1lZGlhLm1lZGlhVHlwZSlyZXR1cm47aWYoISh0IGluc3RhbmNlb2YgZmIpKXJldHVybjtpZihcInZwOVwiIT09aSYmXCJ2cDhcIiE9PWkpcmV0dXJuO2lmKFwidnA4XCI9PT1pJiYha0MoXCJTSU1VTENBU1RcIikpcmV0dXJuO2lmKHZvaWQgMD09PXQuX3NjYWxhYmlsaXR5TW9kZXx8dC5fc2NhbGFiaWxpdHlNb2RlLm51bVNwYXRpYWxMYXllcnM8PTEpcmV0dXJuO2NvbnN0IG49XCJ2cDhcIj09PWk/Mjp0Ll9zY2FsYWJpbGl0eU1vZGUubnVtU3BhdGlhbExheWVycyxyPWUuYXR0cmlidXRlcy5zc3Jjc1swXSxzPWUuYXR0cmlidXRlcy5zc3JjR3JvdXBzLmZpbmQoKGU9PlwiRklEXCI9PT1lLnNlbWFudGljJiZlLnNzcmNJZHNbMF09PT1yLnNzcmNJZCkpLG89e3NlbWFudGljOlwiU0lNXCIsc3NyY0lkczpbci5zc3JjSWRdfTtmb3IobGV0IHQ9MTt0PG47dCsrKWUuYXR0cmlidXRlcy5zc3Jjcy5wdXNoKHtzc3JjSWQ6ci5zc3JjSWQrdCxhdHRyaWJ1dGVzOmJTKHIuYXR0cmlidXRlcyl9KSxvLnNzcmNJZHMucHVzaChyLnNzcmNJZCt0KSxzJiYoZS5hdHRyaWJ1dGVzLnNzcmNzLnB1c2goe3NzcmNJZDpzLnNzcmNJZHNbMV0rdCxhdHRyaWJ1dGVzOmJTKHIuYXR0cmlidXRlcyl9KSxlLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5wdXNoKHtzZW1hbnRpYzpcIkZJRFwiLHNzcmNJZHM6W3Iuc3NyY0lkK3Qscy5zc3JjSWRzWzFdK3RdfSkpO2UuYXR0cmlidXRlcy5zc3JjR3JvdXBzLnVuc2hpZnQobyl9YXN5bmMgZnVuY3Rpb24gaUwoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307Y29uc3R7ZmlsdGVyUlRYOmksZmlsdGVyVmlkZW9GZWM6bixmaWx0ZXJBdWRpb0ZlYzpyLGZpbHRlckF1ZGlvQ29kZWM6cyxmaWx0ZXJWaWRlb0NvZGVjOm99PWUse3VzZVhSOmF9PXQsYz1uZXcgUlRDUGVlckNvbm5lY3Rpb247Yy5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIse2RpcmVjdGlvbjpcInNlbmRvbmx5XCJ9KSxjLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIix7ZGlyZWN0aW9uOlwic2VuZG9ubHlcIn0pLGMuYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiLHtkaXJlY3Rpb246XCJyZWN2b25seVwifSksYy5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KTtjb25zdCBkPShhd2FpdCBjLmNyZWF0ZU9mZmVyKCkpLnNkcCxsPUtQKGQse2ZpbHRlclJUWDppLGZpbHRlclZpZGVvRmVjOm4sZmlsdGVyQXVkaW9GZWM6cixmaWx0ZXJBdWRpb0NvZGVjOnMsZmlsdGVyVmlkZW9Db2RlYzpvfSx7dXNlWFI6YX0sXCJzZW5kb25seVwiKSxoPUtQKGQse2ZpbHRlclJUWDppLGZpbHRlclZpZGVvRmVjOm4sZmlsdGVyQXVkaW9GZWM6cixmaWx0ZXJBdWRpb0NvZGVjOnMsZmlsdGVyVmlkZW9Db2RlYzpvfSx7dXNlWFI6YX0sXCJyZWN2b25seVwiKSx1PXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxwPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxfPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfTtpZihuTChsLGgsXCJ2aWRlb0V4dGVuc2lvbnNcIix1LHAsXyksbkwobCxoLFwidmlkZW9Db2RlY3NcIix1LHAsXyksbkwobCxoLFwiYXVkaW9FeHRlbnNpb25zXCIsdSxwLF8pLG5MKGwsaCxcImF1ZGlvQ29kZWNzXCIsdSxwLF8pLGtDKFwiUkFJU0VfSDI2NF9CQVNFTElORV9QUklPUklUWVwiKSl7Y29uc3QgZT1fLnZpZGVvQ29kZWNzLmZpbmRJbmRleCgoZT0+e3ZhciB0LGk7cmV0dXJuXCJoMjY0XCI9PT0obnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSkmJlwiNDIwMDFmXCI9PT0obnVsbD09PShpPWUuZm10cCl8fHZvaWQgMD09PWk/dm9pZCAwOmkucGFyYW1ldGVyc1tcInByb2ZpbGUtbGV2ZWwtaWRcIl0pfSkpO2lmKC0xIT09ZSl7Y29uc3QgdD1fLnZpZGVvQ29kZWNzLmZpbmRJbmRleCgoZT0+e3ZhciB0O3JldHVyblwiaDI2NFwiPT09KG51bGw9PT0odD1lLnJ0cE1hcCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkpfSkpO2lmKHQ8ZSl7V0MuZGVidWcoXCJyYWlzaW5nIEgyNjQgYmFzZWxpbmUgcHJvZmlsZSBwcmlvcml0eVwiKTtjb25zdCBpPV8udmlkZW9Db2RlY3NbZV07Xy52aWRlb0NvZGVjcy5zcGxpY2UoZSwxKSxfLnZpZGVvQ29kZWNzLnNwbGljZSh0LDAsaSl9LTEhPT10JiYocC52aWRlb0NvZGVjcz1wLnZpZGVvQ29kZWNzLmZpbHRlcigoZT0+e3ZhciB0LGk7cmV0dXJuIShcImgyNjRcIj09PShudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpKSYmXCI0MjAwMWZcIiE9PShudWxsPT09KGk9ZS5mbXRwKXx8dm9pZCAwPT09aT92b2lkIDA6aS5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXSkpfSkpKSwtMSE9PXQmJmtDKFwiRklMVEVSX1NFTkRfSDI2NF9CQVNFTElORVwiKSYmKHUudmlkZW9Db2RlY3M9dS52aWRlb0NvZGVjcy5maWx0ZXIoKGU9Pnt2YXIgdCxpO3JldHVybiEoXCJoMjY0XCI9PT0obnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSkmJlwiNDIwMDFmXCIhPT0obnVsbD09PShpPWUuZm10cCl8fHZvaWQgMD09PWk/dm9pZCAwOmkucGFyYW1ldGVyc1tcInByb2ZpbGUtbGV2ZWwtaWRcIl0pKX0pKSl9fXRyeXtjLmNsb3NlKCl9Y2F0Y2goZSl7fXJldHVybntzZW5kOnUscmVjdjpwLHNlbmRyZWN2Ol99fWZ1bmN0aW9uIG5MKGUsdCxpLG4scixzKXtpZihcInZpZGVvRXh0ZW5zaW9uc1wiPT09aXx8XCJhdWRpb0V4dGVuc2lvbnNcIj09PWkpe2NvbnN0IG89W107cmV0dXJuIGVbaV0uZm9yRWFjaCgoZT0+e3RbaV0uc29tZSgoKHQsaSk9PntpZihlLmVudHJ5PT09dC5lbnRyeSYmZS5leHRlbnNpb25OYW1lPT09dC5leHRlbnNpb25OYW1lKXJldHVybiBvLnB1c2goaSksITB9KSk/c1tpXS5wdXNoKGUpOm5baV0ucHVzaChlKX0pKSx2b2lkIHRbaV0uZm9yRWFjaCgoKGUsdCk9PnstMT09PW8uaW5kZXhPZih0KSYmcltpXS5wdXNoKGUpfSkpfWlmKFwidmlkZW9Db2RlY3NcIj09PWl8fFwiYXVkaW9Db2RlY3NcIj09PWkpe2NvbnN0IG89W107cmV0dXJuIGVbaV0uZm9yRWFjaCgoZT0+e3RbaV0uc29tZSgoKHQsaSk9PntpZihlLnBheWxvYWRUeXBlPT09dC5wYXlsb2FkVHlwZSYmSlNPTi5zdHJpbmdpZnkoZSk9PT1KU09OLnN0cmluZ2lmeSh0KSlyZXR1cm4gby5wdXNoKGkpLCEwfSkpP3NbaV0ucHVzaChlKTpuW2ldLnB1c2goZSl9KSksdm9pZCB0W2ldLmZvckVhY2goKChlLHQpPT57LTE9PT1vLmluZGV4T2YodCkmJnJbaV0ucHVzaChlKX0pKX19ZnVuY3Rpb24gckwoZSl7Y29uc3R7c2VuZDp0LHJlY3Y6aSxzZW5kcmVjdjpufT1lO2lmKCFuKXtpZighdHx8IWkpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IG1lcmdlIHJ0cCBjYXBhYmlsaXRpZXMgYmVjYXVzZSBvbmUgb2Ygc2VuZCBvciByZWN2IGlzIGVtcHR5IVwiKTtyZXR1cm57c2VuZDp0LHJlY3Y6aX19bGV0IHIscztyZXR1cm4gdD8ocj17YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0sci5hdWRpb0NvZGVjcz1bLi4udC5hdWRpb0NvZGVjcywuLi5uLmF1ZGlvQ29kZWNzXSxyLnZpZGVvQ29kZWNzPVsuLi50LnZpZGVvQ29kZWNzLC4uLm4udmlkZW9Db2RlY3NdLHIuYXVkaW9FeHRlbnNpb25zPVsuLi50LmF1ZGlvRXh0ZW5zaW9ucywuLi5uLmF1ZGlvRXh0ZW5zaW9uc10sci52aWRlb0V4dGVuc2lvbnM9Wy4uLnQudmlkZW9FeHRlbnNpb25zLC4uLm4udmlkZW9FeHRlbnNpb25zXSk6cj1uLGk/KHM9e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHMuYXVkaW9Db2RlY3M9Wy4uLmkuYXVkaW9Db2RlY3MsLi4ubi5hdWRpb0NvZGVjc10scy52aWRlb0NvZGVjcz1bLi4uaS52aWRlb0NvZGVjcywuLi5uLnZpZGVvQ29kZWNzXSxzLmF1ZGlvRXh0ZW5zaW9ucz1bLi4uaS5hdWRpb0V4dGVuc2lvbnMsLi4ubi5hdWRpb0V4dGVuc2lvbnNdLHMudmlkZW9FeHRlbnNpb25zPVsuLi5pLnZpZGVvRXh0ZW5zaW9ucywuLi5uLnZpZGVvRXh0ZW5zaW9uc10pOnM9bix7c2VuZDpyLHJlY3Y6c319ZnVuY3Rpb24gc0woZSl7aWYoXCJhdWRpb1wiIT09ZS5tZWRpYS5tZWRpYVR5cGUpcmV0dXJuO2UuYXR0cmlidXRlcy5wYXlsb2Fkcy5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm5cIm9wdXNcIj09PShudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKX0pKS5mb3JFYWNoKChlPT57ZS5mbXRwfHwoZS5mbXRwPXtwYXJhbWV0ZXJzOnt9fSksZS5mbXRwLnBhcmFtZXRlcnMuc3RlcmVvPVwiMVwiLGUuZm10cC5wYXJhbWV0ZXJzW1wic3Byb3Atc3RlcmVvXCJdPVwiMVwifSkpfWZ1bmN0aW9uIG9MKGUpe2UubWVkaWFEZXNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+e1widmlkZW9cIiE9PWUubWVkaWEubWVkaWFUeXBlJiZcImF1ZGlvXCIhPT1lLm1lZGlhLm1lZGlhVHlwZXx8ZS5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2goKGU9PnstMT09PWUucnRjcEZlZWRiYWNrcy5maW5kSW5kZXgoKGU9PlwicnJ0clwiPT09ZS50eXBlKSkmJmUucnRjcEZlZWRiYWNrcy5wdXNoKHt0eXBlOlwicnJ0clwifSl9KSl9KSl9ZnVuY3Rpb24gYUwoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIGNMKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2FMKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOmFMKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGRMKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGUubWFwKChlPT5lKSk7aWYoIWxMKGUpKXJldHVybiBlO2NvbnN0IHQ9e307Zm9yKGNvbnN0IGkgaW4gZSl7Y29uc3Qgbj1lW2ldO2xMKG4pfHxBcnJheS5pc0FycmF5KG4pP3RbaV09ZEwobik6dFtpXT1ufXJldHVybiB0fWZ1bmN0aW9uIGxMKGUpe3JldHVybiEoXCJvYmplY3RcIiE9dHlwZW9mIGV8fEFycmF5LmlzQXJyYXkoZSl8fCFlKX1jbGFzcyBoTHtjb25zdHJ1Y3RvcihlKXtudSh0aGlzLFwiaW5wdXRcIixbXSksbnUodGhpcyxcInNpemVcIix2b2lkIDApLHRoaXMuc2l6ZT1lfWFkZChlKXt0aGlzLmlucHV0LnB1c2goZSksdGhpcy5pbnB1dC5sZW5ndGg+dGhpcy5zaXplJiZ0aGlzLmlucHV0LnNwbGljZSgwLDEpfWRpZmZNZWFuKCl7cmV0dXJuIDA9PT10aGlzLmlucHV0Lmxlbmd0aD8wOih0aGlzLmlucHV0W3RoaXMuaW5wdXQubGVuZ3RoLTFdLXRoaXMuaW5wdXRbMF0pL3RoaXMuaW5wdXQubGVuZ3RofX1jb25zdCB1TD17YWRkcmVzczpcInVua25vd25cIixjYW5kaWRhdGVUeXBlOlwidW5rbm93blwiLGlkOlwidW5rbm93blwiLHBvcnQ6MCxwcmlvcml0eTowLHByb3RvY29sOlwidW5rbm93blwiLHR5cGU6XCJ1bmtub3duXCJ9LHBMPXt0aW1lc3RhbXA6MCxiaXRyYXRlOnthY3R1YWxFbmNvZGVkOjAsdHJhbnNtaXQ6MH0sc2VuZFBhY2tldExvc3NSYXRlOjAscmVjdlBhY2tldExvc3NSYXRlOjAsdmlkZW9SZWN2OltdLHZpZGVvU2VuZDpbXSxhdWRpb1JlY3Y6W10sYXVkaW9TZW5kOltdLHNlbGVjdGVkQ2FuZGlkYXRlUGFpcjp7aWQ6XCJ1bmtub3duXCIsbG9jYWxDYW5kaWRhdGU6dUwscmVtb3RlQ2FuZGlkYXRlOnVMfX0sX0w9e2ZpcnNDb3VudDowLG5hY2tzQ291bnQ6MCxwbGlzQ291bnQ6MCxmcmFtZXNEZWNvZGVDb3VudDowLGZyYW1lc0RlY29kZUludGVydmFsOjAsZnJhbWVzRGVjb2RlRnJlZXplVGltZTowLGRlY29kZUZyYW1lUmF0ZTowLGJ5dGVzOjAscGFja2V0c0xvc3Q6MCxwYWNrZXRMb3N0UmF0ZTowLHBhY2tldHM6MCxzc3JjOjAscXBTdW1QZXJGcmFtZTowfSxFTD17Zmlyc0NvdW50OjAsbmFja3NDb3VudDowLHBsaXNDb3VudDowLGZyYW1lQ291bnQ6MCxieXRlczowLHBhY2tldHM6MCxwYWNrZXRzTG9zdDowLHBhY2tldExvc3RSYXRlOjAsc3NyYzowLHJ0dE1zOjAsaml0dGVyTXM6MCxxcFN1bVBlckZyYW1lOjB9LG1MPXtieXRlczowLHBhY2tldHM6MCxwYWNrZXRzTG9zdDowLHBhY2tldExvc3RSYXRlOjAsc3NyYzowLHJ0dE1zOjAsaml0dGVyTXM6MH0sZkw9e2ppdHRlckJ1ZmZlck1zOjAsaml0dGVyTXM6MCxieXRlczowLHBhY2tldHNMb3N0OjAscGFja2V0TG9zdFJhdGU6MCxwYWNrZXRzOjAsc3NyYzowLHJlY2VpdmVkRnJhbWVzOjAsZHJvcHBlZEZyYW1lczowLGNvbmNlYWxlZFNhbXBsZXM6MH07ZnVuY3Rpb24gZ0woZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIFNMKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2dMKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOmdMKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWNsYXNzIFRMe2NvbnN0cnVjdG9yKGUsdCl7bnUodGhpcyxcIm9uRmlyc3RWaWRlb1JlY2VpdmVkXCIsdm9pZCAwKSxudSh0aGlzLFwib25GaXJzdFZpZGVvRGVjb2RlZFwiLHZvaWQgMCksbnUodGhpcyxcIm9uRmlyc3RBdWRpb1JlY2VpdmVkXCIsdm9pZCAwKSxudSh0aGlzLFwib25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXRcIix2b2lkIDApLG51KHRoaXMsXCJvbkZpcnN0QXVkaW9EZWNvZGVkXCIsdm9pZCAwKSxudSh0aGlzLFwib25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZFwiLHZvaWQgMCksbnUodGhpcyxcIm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkXCIsdm9pZCAwKSxudSh0aGlzLFwidmlkZW9Jc1JlYWR5XCIsITEpLG51KHRoaXMsXCJ2aWRlb0lzUmVhZHkyXCIse30pLG51KHRoaXMsXCJwY1wiLHZvaWQgMCksbnUodGhpcyxcIm9wdGlvbnNcIix2b2lkIDApLG51KHRoaXMsXCJpbnRlcnZhbFRpbWVyXCIsdm9pZCAwKSxudSh0aGlzLFwic3RhdHNcIixkTChwTCkpLG51KHRoaXMsXCJpc0ZpcnN0VmlkZW9SZWNlaXZlZFwiLHt9KSxudSh0aGlzLFwiaXNGaXJzdFZpZGVvRGVjb2RlZFwiLHt9KSxudSh0aGlzLFwiaXNGaXJzdEF1ZGlvUmVjZWl2ZWRcIix7fSksbnUodGhpcyxcImlzRmlyc3RBdWRpb0RlY29kZWRcIix7fSksbnUodGhpcyxcImlzRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0XCIse30pLG51KHRoaXMsXCJsb3NzUmF0ZVdpbmRvd1N0YXRzXCIsW10pLHRoaXMucGM9ZSx0aGlzLm9wdGlvbnM9dCx0aGlzLmludGVydmFsVGltZXI9d2luZG93LnNldEludGVydmFsKChhc3luYygpPT57dGhpcy51cGRhdGVTdGF0cygpfSksdGhpcy5vcHRpb25zLnVwZGF0ZUludGVydmFsKX1nZXRTdGF0cygpe3JldHVybiB0aGlzLnN0YXRzfWdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpe3JldHVybiBuZXcgdGcoKGU9PntlKHtsb2NhbDpTTCh7fSx1TCkscmVtb3RlOlNMKHt9LHVMKX0pfSkpfXNldFZpZGVvSXNSZWFkeShlKXt0aGlzLnZpZGVvSXNSZWFkeT1lfXNldFZpZGVvSXNSZWFkeTIoZSx0KXt0aGlzLnZpZGVvSXNSZWFkeTJbZV09dH1nZXRWaWRlb0lzUmVhZHkoZSl7cmV0dXJuIHRoaXMudmlkZW9Jc1JlYWR5MltlXXx8ITF9c2V0SXNGaXJzdEF1ZGlvRGVjb2RlZChlKXt9ZGVzdHJveSgpe3dpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxUaW1lciksdGhpcy5wYz12b2lkIDB9Y2FsY0xvc3NSYXRlKGUpe3RoaXMubG9zc1JhdGVXaW5kb3dTdGF0cy5wdXNoKGUpLHRoaXMubG9zc1JhdGVXaW5kb3dTdGF0cy5sZW5ndGg+dGhpcy5vcHRpb25zLmxvc3NSYXRlSW50ZXJ2YWwmJnRoaXMubG9zc1JhdGVXaW5kb3dTdGF0cy5zcGxpY2UoMCwxKTtjb25zdCB0PXRoaXMubG9zc1JhdGVXaW5kb3dTdGF0cy5sZW5ndGgsaT1bXCJ2aWRlb1NlbmRcIixcImF1ZGlvU2VuZFwiLFwidmlkZW9SZWN2XCIsXCJhdWRpb1JlY3ZcIl07bGV0IG49MCxyPTAscz0wLG89MDtmb3IoY29uc3QgYSBvZiBpKWVbYV0uZm9yRWFjaCgoKGUsaSk9PntpZighdGhpcy5sb3NzUmF0ZVdpbmRvd1N0YXRzW3QtMV1bYV1baV18fCF0aGlzLmxvc3NSYXRlV2luZG93U3RhdHNbMF1bYV1baV0pcmV0dXJuO2NvbnN0IGM9dGhpcy5sb3NzUmF0ZVdpbmRvd1N0YXRzW3QtMV1bYV1baV0ucGFja2V0cy10aGlzLmxvc3NSYXRlV2luZG93U3RhdHNbMF1bYV1baV0ucGFja2V0cyxkPXRoaXMubG9zc1JhdGVXaW5kb3dTdGF0c1t0LTFdW2FdW2ldLnBhY2tldHNMb3N0LXRoaXMubG9zc1JhdGVXaW5kb3dTdGF0c1swXVthXVtpXS5wYWNrZXRzTG9zdDtcInZpZGVvU2VuZFwiPT09YXx8XCJhdWRpb1NlbmRcIj09PWE/KG4rPWMscys9ZCk6KHIrPWMsbys9ZCksTnVtYmVyLmlzTmFOKGMpfHxOdW1iZXIuaXNOYU4oYyk/ZS5wYWNrZXRMb3N0UmF0ZT0wOmUucGFja2V0TG9zdFJhdGU9Yzw9MHx8ZDw9MD8wOmQvKGMrZCl9KSk7ZS5zZW5kUGFja2V0TG9zc1JhdGU9bjw9MHx8czw9MD8wOnMvKG4rcyksZS5yZWN2UGFja2V0TG9zc1JhdGU9cjw9MHx8bzw9MD8wOm8vKHIrbyl9fWZ1bmN0aW9uIFJMKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBDTChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9STChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpSTChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jbGFzcyB2TCBleHRlbmRzIFRMe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSxudSh0aGlzLFwiX3N0YXRzXCIscEwpLG51KHRoaXMsXCJsYXN0RGVjb2RlVmlkZW9SZWNlaXZlclN0YXRzXCIsbmV3IE1hcCl9YXN5bmMgdXBkYXRlU3RhdHMoKXtjb25zdCBlPWF3YWl0IHRoaXMuX2dldFN0YXRzKCksdD10aGlzLnN0YXRzUmVzcG9uc2VzVG9PYmplY3RzKGUpO3RoaXMuX3N0YXRzPWRMKHBMKTtjb25zdCBpPXQuZmlsdGVyKChlPT5cInNzcmNcIj09PWUudHlwZSkpO3RoaXMucHJvY2Vzc1NTUkNTdGF0cyhpKTtjb25zdCBuPXQuZmluZCgoZT0+XCJWaWRlb0J3ZVwiPT09ZS50eXBlKSk7biYmdGhpcy5wcm9jZXNzQmFuZHdpZHRoU3RhdHMobiksdGhpcy5fc3RhdHMudGltZXN0YW1wPURhdGUubm93KCksdGhpcy5jYWxjTG9zc1JhdGUodGhpcy5fc3RhdHMpLHRoaXMuc3RhdHM9dGhpcy5fc3RhdHN9cHJvY2Vzc0JhbmR3aWR0aFN0YXRzKGUpe3RoaXMuX3N0YXRzLmJpdHJhdGU9e2FjdHVhbEVuY29kZWQ6TnVtYmVyKGUuZ29vZ0FjdHVhbEVuY0JpdHJhdGUpLHRhcmdldEVuY29kZWQ6TnVtYmVyKGUuZ29vZ1RhcmdldEVuY0JpdHJhdGUpLHJldHJhbnNtaXQ6TnVtYmVyKGUuZ29vZ1JldHJhbnNtaXRCaXRyYXRlKSx0cmFuc21pdDpOdW1iZXIoZS5nb29nVHJhbnNtaXRCaXRyYXRlKX0sdGhpcy5fc3RhdHMuc2VuZEJhbmR3aWR0aD1OdW1iZXIoZS5nb29nQXZhaWxhYmxlU2VuZEJhbmR3aWR0aCl9cHJvY2Vzc1NTUkNTdGF0cyhlKXtlLmZvckVhY2goKGU9Pnt2YXIgdDtjb25zdCBpPVByKHQ9ZS5pZCkuY2FsbCh0LFwic2VuZFwiKTtzd2l0Y2goXCJcIi5jb25jYXQoZS5tZWRpYVR5cGUsXCJfXCIpLmNvbmNhdChpP1wic2VuZFwiOlwicmVjdlwiKSl7Y2FzZVwidmlkZW9fc2VuZFwiOntjb25zdCB0PWRMKEVMKTt0LmNvZGVjPWUuZ29vZ0NvZGVjTmFtZSx0LmFkYXB0aW9uQ2hhbmdlUmVhc29uPVwibm9uZVwiLGUuZ29vZ0NwdUxpbWl0ZWRSZXNvbHV0aW9uJiYodC5hZGFwdGlvbkNoYW5nZVJlYXNvbj1cImNwdVwiKSxlLmdvb2dCYW5kd2lkdGhMaW1pdGVkUmVzb2x1dGlvbiYmKHQuYWRhcHRpb25DaGFuZ2VSZWFzb249XCJiYW5kd2lkdGhcIiksdC5hdmdFbmNvZGVNcz1OdW1iZXIoZS5nb29nQXZnRW5jb2RlTXMpLHQuaW5wdXRGcmFtZT17d2lkdGg6TnVtYmVyKGUuZ29vZ0ZyYW1lV2lkdGhJbnB1dCl8fE51bWJlcihlLmdvb2dGcmFtZVdpZHRoU2VudCksaGVpZ2h0Ok51bWJlcihlLmdvb2dGcmFtZUhlaWdodElucHV0KXx8TnVtYmVyKGUuZ29vZ0ZyYW1lSGVpZ2h0U2VudCksZnJhbWVSYXRlOk51bWJlcihlLmdvb2dGcmFtZVJhdGVJbnB1dCl9LHQuc2VudEZyYW1lPXt3aWR0aDpOdW1iZXIoZS5nb29nRnJhbWVXaWR0aFNlbnQpLGhlaWdodDpOdW1iZXIoZS5nb29nRnJhbWVIZWlnaHRTZW50KSxmcmFtZVJhdGU6TnVtYmVyKGUuZ29vZ0ZyYW1lUmF0ZUlucHV0KX0sdC5maXJzQ291bnQ9TnVtYmVyKGUuZ29vZ0ZpclJlY2VpdmVkKSx0Lm5hY2tzQ291bnQ9TnVtYmVyKGUuZ29vZ05hY2tzUmVjZWl2ZWQpLHQucGxpc0NvdW50PU51bWJlcihlLmdvb2dQbGlzUmVjZWl2ZWQpLHQuZnJhbWVDb3VudD1OdW1iZXIoZS5mcmFtZXNFbmNvZGVkKSx0LmJ5dGVzPU51bWJlcihlLmJ5dGVzU2VudCksdC5wYWNrZXRzPU51bWJlcihlLnBhY2tldHNTZW50KSx0LnBhY2tldHNMb3N0PU51bWJlcihlLnBhY2tldHNMb3N0KSx0LnNzcmM9TnVtYmVyKGUuc3NyYyksdC5ydHRNcz1OdW1iZXIoZS5nb29nUnR0fHwwKSx0aGlzLl9zdGF0cy52aWRlb1NlbmQucHVzaCh0KSx0aGlzLl9zdGF0cy5ydHQ9dC5ydHRNczticmVha31jYXNlXCJ2aWRlb19yZWN2XCI6e2NvbnN0IHQ9ZEwoX0wpLGk9dGhpcy5sYXN0RGVjb2RlVmlkZW9SZWNlaXZlclN0YXRzLmdldChOdW1iZXIoZS5zc3JjKSk7aWYodC5jb2RlYz1lLmdvb2dDb2RlY05hbWUsdC50YXJnZXREZWxheU1zPU51bWJlcihlLmdvb2dUYXJnZXREZWxheU1zKSx0LnJlbmRlckRlbGF5TXM9TnVtYmVyKGUuZ29vZ1JlbmRlckRlbGF5TXMpLHQuY3VycmVudERlbGF5TXM9TnVtYmVyKGUuZ29vZ0N1cnJlbnREZWxheU1zKSx0Lm1pblBsYXlvdXREZWxheU1zPU51bWJlcihlLmdvb2dNaW5QbGF5b3V0RGVsYXlNcyksdC5kZWNvZGVNcz1OdW1iZXIoZS5nb29nRGVjb2RlTXMpLHQubWF4RGVjb2RlTXM9TnVtYmVyKGUuZ29vZ01heERlY29kZU1zKSx0LnJlY2VpdmVkRnJhbWU9e3dpZHRoOk51bWJlcihlLmdvb2dGcmFtZVdpZHRoUmVjZWl2ZWQpLGhlaWdodDpOdW1iZXIoZS5nb29nRnJhbWVIZWlnaHRSZWNlaXZlZCksZnJhbWVSYXRlOk51bWJlcihlLmdvb2dGcmFtZVJhdGVSZWNlaXZlZCl9LHQuZGVjb2RlZEZyYW1lPXt3aWR0aDpOdW1iZXIoZS5nb29nRnJhbWVXaWR0aFJlY2VpdmVkKSxoZWlnaHQ6TnVtYmVyKGUuZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQpLGZyYW1lUmF0ZTpOdW1iZXIoZS5nb29nRnJhbWVSYXRlRGVjb2RlZCl9LHQuZGVjb2RlRnJhbWVSYXRlPU51bWJlcihlLmdvb2dGcmFtZVJhdGVEZWNvZGVkKSx0Lm91dHB1dEZyYW1lPXt3aWR0aDpOdW1iZXIoZS5nb29nRnJhbWVXaWR0aFJlY2VpdmVkKSxoZWlnaHQ6TnVtYmVyKGUuZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQpLGZyYW1lUmF0ZTpOdW1iZXIoZS5nb29nRnJhbWVSYXRlT3V0cHV0KX0sdC5qaXR0ZXJCdWZmZXJNcz1OdW1iZXIoZS5nb29nSml0dGVyQnVmZmVyTXMpLHQuZmlyc0NvdW50PU51bWJlcihlLmdvb2dGaXJzU2VudCksdC5uYWNrc0NvdW50PU51bWJlcihlLmdvb2dOYWNrc1NlbnQpLHQucGxpc0NvdW50PU51bWJlcihlLmdvb2dQbGlzU2VudCksdC5mcmFtZXNEZWNvZGVDb3VudD1OdW1iZXIoZS5mcmFtZXNEZWNvZGVkKSx0LmJ5dGVzPU51bWJlcihlLmJ5dGVzUmVjZWl2ZWQpLHQucGFja2V0cz1OdW1iZXIoZS5wYWNrZXRzUmVjZWl2ZWQpLHQucGFja2V0c0xvc3Q9TnVtYmVyKGUucGFja2V0c0xvc3QpLHQuc3NyYz1OdW1iZXIoZS5zc3JjKSx0LnBhY2tldHM+MCYmIXRoaXMuaXNGaXJzdFZpZGVvUmVjZWl2ZWRbdC5zc3JjXSYmKHRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQmJnRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQodC5zc3JjKSx0aGlzLmlzRmlyc3RWaWRlb1JlY2VpdmVkW3Quc3NyY109ITApLHQuZnJhbWVzRGVjb2RlQ291bnQ+MCYmIXRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFt0LnNzcmNdJiYodGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkJiZ0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWQodC5zc3JjLHQuZGVjb2RlZEZyYW1lLndpZHRoLHQuZGVjb2RlZEZyYW1lLmhlaWdodCksdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkW3Quc3NyY109ITApLGkpe2NvbnN0IG49aS5zdGF0cyxyPURhdGUubm93KCktaS5sdHM7dC5mcmFtZXNEZWNvZGVGcmVlemVUaW1lPW4uZnJhbWVzRGVjb2RlRnJlZXplVGltZSx0LmZyYW1lc0RlY29kZUludGVydmFsPW4uZnJhbWVzRGVjb2RlSW50ZXJ2YWwsdC5mcmFtZXNEZWNvZGVDb3VudD5uLmZyYW1lc0RlY29kZUNvdW50JiZ0aGlzLmlzRmlyc3RWaWRlb0RlY29kZWRbdC5zc3JjXT8oaS5sdHM9RGF0ZS5ub3coKSx0LmZyYW1lc0RlY29kZUludGVydmFsPXIsdC5mcmFtZXNEZWNvZGVJbnRlcnZhbD49dGhpcy5vcHRpb25zLmZyZWV6ZVJhdGVMaW1pdCYmKHRoaXMuZ2V0VmlkZW9Jc1JlYWR5KHBhcnNlSW50KGUuc3NyYywxMCkpP3QuZnJhbWVzRGVjb2RlRnJlZXplVGltZSs9dC5mcmFtZXNEZWNvZGVJbnRlcnZhbDp0aGlzLnNldFZpZGVvSXNSZWFkeTIocGFyc2VJbnQoZS5zc3JjLDEwKSwhMCkpKTp0LmZyYW1lc0RlY29kZUNvdW50PGkuc3RhdHMuZnJhbWVzRGVjb2RlQ291bnQmJih0LmZyYW1lc0RlY29kZUludGVydmFsPTApfXRoaXMubGFzdERlY29kZVZpZGVvUmVjZWl2ZXJTdGF0cy5zZXQodC5zc3JjLHtzdGF0czpDTCh7fSx0KSxsdHM6RGF0ZS5ub3coKX0pLHRoaXMuX3N0YXRzLnZpZGVvUmVjdi5wdXNoKHQpO2JyZWFrfWNhc2VcImF1ZGlvX3JlY3ZcIjp7Y29uc3QgdD1kTChmTCk7dC5jb2RlYz1lLmdvb2dDb2RlY05hbWUsdC5vdXRwdXRMZXZlbD1NYXRoLmFicyhOdW1iZXIoZS5hdWRpb091dHB1dExldmVsKSkvMzI3NjcsdC5kZWNvZGluZ0NORz1OdW1iZXIoZS5nb29nRGVjb2RpbmdDTkcpLHQuZGVjb2RpbmdDVE49TnVtYmVyKGUuZ29vZ0RlY29kaW5nQ1ROKSx0LmRlY29kaW5nQ1RTRz1OdW1iZXIoZS5nb29nRGVjb2RpbmdDVFNHKSx0LmRlY29kaW5nTm9ybWFsPU51bWJlcihlLmdvb2dEZWNvZGluZ05vcm1hbCksdC5kZWNvZGluZ1BMQz1OdW1iZXIoZS5nb29nRGVjb2RpbmdQTEMpLHQuZGVjb2RpbmdQTENDTkc9TnVtYmVyKGUuZ29vZ0RlY29kaW5nUExDQ05HKSx0LmV4cGFuZFJhdGU9TnVtYmVyKGUuZ29vZ0V4cGFuZFJhdGUpLHQuYWNjZWxlcmF0ZVJhdGU9TnVtYmVyKGUuZ29vZ0FjY2VsZXJhdGVSYXRlKSx0LnByZWVtcHRpdmVFeHBhbmRSYXRlPU51bWJlcihlLmdvb2dQcmVlbXB0aXZlRXhwYW5kUmF0ZSksdC5zZWNvbmRhcnlEZWNvZGVkUmF0ZT1OdW1iZXIoZS5nb29nU2Vjb25kYXJ5RGVjb2RlZFJhdGUpLHQuc3BlZWNoRXhwYW5kUmF0ZT1OdW1iZXIoZS5nb29nU3BlZWNoRXhwYW5kUmF0ZSksdC5wcmVmZXJyZWRKaXR0ZXJCdWZmZXJNcz1OdW1iZXIoZS5nb29nUHJlZmVycmVkSml0dGVyQnVmZmVyTXMpLHQuaml0dGVyQnVmZmVyTXM9TnVtYmVyKGUuZ29vZ0ppdHRlckJ1ZmZlck1zKSx0LmppdHRlck1zPU51bWJlcihlLmdvb2dKaXR0ZXJSZWNlaXZlZCksdC5ieXRlcz1OdW1iZXIoZS5ieXRlc1JlY2VpdmVkKSx0LnBhY2tldHM9TnVtYmVyKGUucGFja2V0c1JlY2VpdmVkKSx0LnBhY2tldHNMb3N0PU51bWJlcihlLnBhY2tldHNMb3N0KSx0LnNzcmM9TnVtYmVyKGUuc3NyYyksdC5yZWNlaXZlZEZyYW1lcz1OdW1iZXIoZS5nb29nRGVjb2RpbmdDVE4pfHxOdW1iZXIoZS5wYWNrZXRzUmVjZWl2ZWQpLHQuZHJvcHBlZEZyYW1lcz1OdW1iZXIoZS5nb29nRGVjb2RpbmdQTEMpK051bWJlcihlLmdvb2dEZWNvZGluZ1BMQ0NORyl8fE51bWJlcihlLnBhY2tldHNMb3N0KSx0LnJlY2VpdmVkRnJhbWVzPjAmJiF0aGlzLmlzRmlyc3RBdWRpb1JlY2VpdmVkW3Quc3NyY10mJih0aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkJiZ0aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkKHQuc3NyYyksdGhpcy5pc0ZpcnN0QXVkaW9SZWNlaXZlZFt0LnNzcmNdPSEwKSx0LmRlY29kaW5nTm9ybWFsPjAmJiF0aGlzLmlzRmlyc3RBdWRpb0RlY29kZWRbdC5zc3JjXSYmKHRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCYmdGhpcy5vbkZpcnN0QXVkaW9EZWNvZGVkKHQuc3NyYyksdGhpcy5pc0ZpcnN0QXVkaW9EZWNvZGVkW3Quc3NyY109ITApLHRoaXMuX3N0YXRzLmF1ZGlvUmVjdi5wdXNoKHQpO2JyZWFrfWNhc2VcImF1ZGlvX3NlbmRcIjp7Y29uc3QgdD1kTChtTCk7dC5jb2RlYz1lLmdvb2dDb2RlY05hbWUsdC5pbnB1dExldmVsPU1hdGguYWJzKE51bWJlcihlLmF1ZGlvSW5wdXRMZXZlbCkpLzMyNzY3LHQuYWVjUmV0dXJuTG9zcz1OdW1iZXIoZS5nb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3N8fDApLHQuYWVjUmV0dXJuTG9zc0VuaGFuY2VtZW50PU51bWJlcihlLmdvb2dFY2hvQ2FuY2VsbGF0aW9uUmV0dXJuTG9zc0VuaGFuY2VtZW50fHwwKSx0LnJlc2lkdWFsRWNob0xpa2VsaWhvb2Q9TnVtYmVyKGUuZ29vZ1Jlc2lkdWFsRWNob0xpa2VsaWhvb2R8fDApLHQucmVzaWR1YWxFY2hvTGlrZWxpaG9vZFJlY2VudE1heD1OdW1iZXIoZS5nb29nUmVzaWR1YWxFY2hvTGlrZWxpaG9vZFJlY2VudE1heHx8MCksdC5ieXRlcz1OdW1iZXIoZS5ieXRlc1NlbnQpLHQucGFja2V0cz1OdW1iZXIoZS5wYWNrZXRzU2VudCksdC5wYWNrZXRzTG9zdD1OdW1iZXIoZS5wYWNrZXRzTG9zdCksdC5zc3JjPU51bWJlcihlLnNzcmMpLHQucnR0TXM9TnVtYmVyKGUuZ29vZ1J0dHx8MCksdGhpcy5fc3RhdHMucnR0PXQucnR0TXMsdGhpcy5fc3RhdHMuYXVkaW9TZW5kLnB1c2godCk7YnJlYWt9fX0pKX1fZ2V0U3RhdHMoKXtyZXR1cm4gbmV3IHRnKCgoZSx0KT0+e3RoaXMucGMuZ2V0U3RhdHMoZSx0KX0pKX1zdGF0c1Jlc3BvbnNlc1RvT2JqZWN0cyhlKXtjb25zdCB0PVtdO3JldHVybiBlLnJlc3VsdCgpLmZvckVhY2goKGU9Pntjb25zdCBpPXtpZDplLmlkLHRpbWVzdGFtcDplLnRpbWVzdGFtcC52YWx1ZU9mKCkudG9TdHJpbmcoKSx0eXBlOmUudHlwZX07ZS5uYW1lcygpLmZvckVhY2goKHQ9PntpW3RdPWUuc3RhdCh0KX0pKSx0LnB1c2goaSl9KSksdH19ZnVuY3Rpb24gSUwoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIHlMKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP0lMKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOklMKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWNsYXNzIEFMIGV4dGVuZHMgVEx7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLG51KHRoaXMsXCJfc3RhdHNcIixwTCksbnUodGhpcyxcInJlcG9ydFwiLHZvaWQgMCksbnUodGhpcyxcImxhc3REZWNvZGVWaWRlb1JlY2VpdmVyU3RhdHNcIixuZXcgTWFwKSxudSh0aGlzLFwibGFzdFZpZGVvRnJhbWVzUmVjdlwiLG5ldyBNYXApLG51KHRoaXMsXCJsYXN0VmlkZW9GcmFtZXNTZW50XCIsbmV3IE1hcCksbnUodGhpcyxcImxhc3RWaWRlb0ZyYW1lc0RlY29kZVwiLG5ldyBNYXApLG51KHRoaXMsXCJsYXN0VmlkZW9KQkRlbGF5XCIsbmV3IE1hcCksbnUodGhpcyxcImxhc3RBdWRpb0pCRGVsYXlcIixuZXcgTWFwKSxudSh0aGlzLFwibWVkaWFCeXRlc1NlbnRcIixuZXcgTWFwKSxudSh0aGlzLFwibWVkaWFCeXRlc1JldHJhbnNtaXRcIixuZXcgTWFwKSxudSh0aGlzLFwibWVkaWFCeXRlc1RhcmdldEVuY29kZVwiLG5ldyBNYXApLG51KHRoaXMsXCJsYXN0RW5jb2Rlck1zXCIsbmV3IE1hcCl9YXN5bmMgdXBkYXRlU3RhdHMoKXt0aGlzLnJlcG9ydD1hd2FpdCB0aGlzLnBjLmdldFN0YXRzKCksdGhpcy5fc3RhdHM9ZEwocEwpLHRoaXMucmVwb3J0LmZvckVhY2goKGU9Pntzd2l0Y2goZS50eXBlKXtjYXNlIGR2Lk9VVEJPVU5EOmNhc2UgZHYuSU5CT1VORDp7Y29uc3QgdD1lLm1lZGlhVHlwZXx8ZS5raW5kLGk9IXQmJlwiZnJhbWVXaWR0aFwiaW4gZSxuPSF0JiYhKFwiZnJhbWVXaWR0aFwiaW4gZSk7ZS50eXBlPT09ZHYuT1VUQk9VTkQ/XCJhdWRpb1wiPT09dHx8bj90aGlzLnByb2Nlc3NBdWRpb091dGJvdW5kU3RhdHMoZSk6KFwidmlkZW9cIj09PXR8fGkpJiZ0aGlzLnByb2Nlc3NWaWRlb091dGJvdW5kU3RhdHMoZSk6ZS50eXBlPT09ZHYuSU5CT1VORCYmKFwiYXVkaW9cIj09PXR8fG4/dGhpcy5wcm9jZXNzQXVkaW9JbmJvdW5kU3RhdHMoZSk6KFwidmlkZW9cIj09PXR8fGkpJiZ0aGlzLnByb2Nlc3NWaWRlb0luYm91bmRTdGF0cyhlKSk7YnJlYWt9Y2FzZSBkdi5UUkFOU1BPUlQ6e2NvbnN0IHQ9dGhpcy5yZXBvcnQuZ2V0KGUuc2VsZWN0ZWRDYW5kaWRhdGVQYWlySWQpO3QmJnRoaXMucHJvY2Vzc0NhbmRpZGF0ZVBhaXJTdGF0cyh0KTticmVha31jYXNlIGR2LkNBTkRJREFURV9QQUlSOmUuc2VsZWN0ZWQmJnRoaXMucHJvY2Vzc0NhbmRpZGF0ZVBhaXJTdGF0cyhlKX19KSksdGhpcy51cGRhdGVTZW5kQml0cmF0ZSgpLHRoaXMuX3N0YXRzLnRpbWVzdGFtcD1EYXRlLm5vdygpLHRoaXMuY2FsY0xvc3NSYXRlKHRoaXMuX3N0YXRzKSx0aGlzLnN0YXRzPXRoaXMuX3N0YXRzfWFzeW5jIGdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpe2NvbnN0IGU9YXdhaXQgdGhpcy5wYy5nZXRTdGF0cygpLHQ9e2xvY2FsOnlMKHt9LHVMKSxyZW1vdGU6eUwoe30sdUwpfTtyZXR1cm4gZS5mb3JFYWNoKChpPT57bGV0IG47aWYoaS50eXBlPT09ZHYuVFJBTlNQT1JUJiYobj1lLmdldChpLnNlbGVjdGVkQ2FuZGlkYXRlUGFpcklkKSksaS50eXBlPT09ZHYuQ0FORElEQVRFX1BBSVImJmkuc2VsZWN0ZWQmJihuPWkpLG4pe2NvbnN0IGk9KGUsdCk9PntlLnR5cGU9dC50eXBlLGUuaWQ9dC5pZCx0LmFkZHJlc3MmJihlLmFkZHJlc3M9dC5hZGRyZXNzKSx0LmNhbmRpZGF0ZVR5cGUmJihlLmNhbmRpZGF0ZVR5cGU9dC5jYW5kaWRhdGVUeXBlKSx0LnBvcnQmJihlLnBvcnQ9dC5wb3J0KSx0LnByaW9yaXR5JiYoZS5wcmlvcml0eT10LnByaW9yaXR5KSx0LnByb3RvY29sJiYoZS5wcm90b2NvbD10LnByb3RvY29sKSx0LnJlbGF5UHJvdG9jb2wmJihlLnJlbGF5UHJvdG9jb2w9dC5yZWxheVByb3RvY29sKX07aWYobi5sb2NhbENhbmRpZGF0ZUlkKXtjb25zdCByPWUuZ2V0KG4ubG9jYWxDYW5kaWRhdGVJZCk7ciYmaSh0LmxvY2FsLHIpfWlmKG4ucmVtb3RlQ2FuZGlkYXRlSWQpe2NvbnN0IHI9ZS5nZXQobi5yZW1vdGVDYW5kaWRhdGVJZCk7ciYmaSh0LnJlbW90ZSxyKX19fSkpLHR9cHJvY2Vzc0NhbmRpZGF0ZVBhaXJTdGF0cyhlKXtpZih0aGlzLl9zdGF0cy5zZW5kQmFuZHdpZHRoPWUuYXZhaWxhYmxlT3V0Z29pbmdCaXRyYXRlfHwwLGUuY3VycmVudFJvdW5kVHJpcFRpbWUmJih0aGlzLl9zdGF0cy5ydHQ9MWUzKmUuY3VycmVudFJvdW5kVHJpcFRpbWUpLHRoaXMuX3N0YXRzLnZpZGVvU2VuZC5mb3JFYWNoKCh0PT57ZS5jdXJyZW50Um91bmRUcmlwVGltZSYmKHQucnR0TXM9MWUzKmUuY3VycmVudFJvdW5kVHJpcFRpbWUpfSkpLHRoaXMuX3N0YXRzLmF1ZGlvU2VuZC5mb3JFYWNoKCh0PT57ZS5jdXJyZW50Um91bmRUcmlwVGltZSYmKHQucnR0TXM9MWUzKmUuY3VycmVudFJvdW5kVHJpcFRpbWUpfSkpLHRoaXMuX3N0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5pZD1lLmlkLGUubG9jYWxDYW5kaWRhdGVJZCl7Y29uc3QgdD10aGlzLnJlcG9ydC5nZXQoZS5sb2NhbENhbmRpZGF0ZUlkKTt0JiZ0aGlzLnByb2Nlc3NDYW5kaWRhdGVTdGF0cyh0KX1pZihlLnJlbW90ZUNhbmRpZGF0ZUlkKXtjb25zdCB0PXRoaXMucmVwb3J0LmdldChlLnJlbW90ZUNhbmRpZGF0ZUlkKTt0JiZ0aGlzLnByb2Nlc3NDYW5kaWRhdGVTdGF0cyh0KX19cHJvY2Vzc0NhbmRpZGF0ZVN0YXRzKGUpe2xldCB0O2UudHlwZT09PWR2LkxPQ0FMX0NBTkRJREFURSYmKHQ9dGhpcy5fc3RhdHMuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLmxvY2FsQ2FuZGlkYXRlKSxlLnR5cGU9PT1kdi5SRU1PVEVfQ0FORElEQVRFJiYodD10aGlzLl9zdGF0cy5zZWxlY3RlZENhbmRpZGF0ZVBhaXIucmVtb3RlQ2FuZGlkYXRlKSx0JiYodC50eXBlPWUudHlwZSx0LmlkPWUuaWQsZS5hZGRyZXNzJiYodC5hZGRyZXNzPWUuYWRkcmVzcyksZS5jYW5kaWRhdGVUeXBlJiYodC5jYW5kaWRhdGVUeXBlPWUuY2FuZGlkYXRlVHlwZSksZS5wb3J0JiYodC5wb3J0PWUucG9ydCksZS5wcmlvcml0eSYmKHQucHJpb3JpdHk9ZS5wcmlvcml0eSksZS5wcm90b2NvbCYmKHQucHJvdG9jb2w9ZS5wcm90b2NvbCksZS5yZWxheVByb3RvY29sJiYodC5yZWxheVByb3RvY29sPWUucmVsYXlQcm90b2NvbCksZS50eXBlPT09ZHYuTE9DQUxfQ0FORElEQVRFJiZ0aGlzLnN0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5sb2NhbENhbmRpZGF0ZS5pZCE9PXQuaWQmJnRoaXMub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZCYmdGhpcy5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKHlMKHt9LHQpLHlMKHt9LHRoaXMuc3RhdHMuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLmxvY2FsQ2FuZGlkYXRlKSksZS50eXBlPT09ZHYuUkVNT1RFX0NBTkRJREFURSYmdGhpcy5zdGF0cy5zZWxlY3RlZENhbmRpZGF0ZVBhaXIucmVtb3RlQ2FuZGlkYXRlLmlkIT09dC5pZCYmdGhpcy5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZCYmdGhpcy5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZCh5TCh7fSx0KSx5TCh7fSx0aGlzLnN0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5yZW1vdGVDYW5kaWRhdGUpKSl9cHJvY2Vzc0F1ZGlvSW5ib3VuZFN0YXRzKGUpe2xldCB0PXRoaXMuX3N0YXRzLmF1ZGlvUmVjdi5maW5kKCh0PT50LnNzcmM9PT1lLnNzcmMpKTt0fHwodD1kTChmTCksdGhpcy5fc3RhdHMuYXVkaW9SZWN2LnB1c2godCkpLHQuc3NyYz1lLnNzcmMsdC5wYWNrZXRzPWUucGFja2V0c1JlY2VpdmVkLHQucGFja2V0c0xvc3Q9ZS5wYWNrZXRzTG9zdCx0LmJ5dGVzPWUuYnl0ZXNSZWNlaXZlZCx0LmppdHRlck1zPTFlMyplLmppdHRlcix0aGlzLnByb2Nlc3NBdWRpb1RyYWNrUmVjZWl2ZXJTdGF0cyhlLGUudHJhY2tJZCx0KSxlLmNvZGVjSWQmJih0LmNvZGVjPXRoaXMuZ2V0Q29kZWNGcm9tQ29kZWNTdGF0cyhlLmNvZGVjSWQpKSx0LnJlY2VpdmVkRnJhbWVzfHwodC5yZWNlaXZlZEZyYW1lcz1lLnBhY2tldHNSZWNlaXZlZCksdC5kcm9wcGVkRnJhbWVzfHwodC5kcm9wcGVkRnJhbWVzPWUucGFja2V0c0xvc3QpLHQucmVjZWl2ZWRGcmFtZXM+MCYmIXRoaXMuaXNGaXJzdEF1ZGlvUmVjZWl2ZWRbdC5zc3JjXSYmKHRoaXMub25GaXJzdEF1ZGlvUmVjZWl2ZWQmJnRoaXMub25GaXJzdEF1ZGlvUmVjZWl2ZWQodC5zc3JjKSx0aGlzLmlzRmlyc3RBdWRpb1JlY2VpdmVkW3Quc3NyY109ITApLHQub3V0cHV0TGV2ZWwmJnQub3V0cHV0TGV2ZWw+MCYmIXRoaXMuaXNGaXJzdEF1ZGlvRGVjb2RlZFt0LnNzcmNdJiYodGhpcy5vbkZpcnN0QXVkaW9EZWNvZGVkJiZ0aGlzLm9uRmlyc3RBdWRpb0RlY29kZWQodC5zc3JjKSx0aGlzLmlzRmlyc3RBdWRpb0RlY29kZWRbdC5zc3JjXT0hMCksXCJudW1iZXJcIj09dHlwZW9mIGUuY29uY2VhbGVkU2FtcGxlcyYmKHQuY29uY2VhbGVkU2FtcGxlcz1lLmNvbmNlYWxlZFNhbXBsZXMpfXByb2Nlc3NWaWRlb0luYm91bmRTdGF0cyhlKXtsZXQgdD10aGlzLl9zdGF0cy52aWRlb1JlY3YuZmluZCgodD0+dC5zc3JjPT09ZS5zc3JjKSk7dHx8KHQ9ZEwoX0wpLHRoaXMuX3N0YXRzLnZpZGVvUmVjdi5wdXNoKHQpKSx0LnNzcmM9ZS5zc3JjLHQucGFja2V0cz1lLnBhY2tldHNSZWNlaXZlZCx0LnBhY2tldHNMb3N0PWUucGFja2V0c0xvc3QsdC5ieXRlcz1lLmJ5dGVzUmVjZWl2ZWQsdC5maXJzQ291bnQ9ZS5maXJDb3VudCx0Lm5hY2tzQ291bnQ9ZS5uYWNrQ291bnQsdC5wbGlzQ291bnQ9ZS5wbGlDb3VudCx0LmZyYW1lc0RlY29kZUNvdW50PWUuZnJhbWVzRGVjb2RlZCx0LnRvdGFsSW50ZXJGcmFtZURlbGF5PWUudG90YWxJbnRlckZyYW1lRGVsYXksdC50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXk9ZS50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXk7Y29uc3QgaT10aGlzLmxhc3REZWNvZGVWaWRlb1JlY2VpdmVyU3RhdHMuZ2V0KHQuc3NyYyksbj10aGlzLmxhc3RWaWRlb0ZyYW1lc0RlY29kZS5nZXQodC5zc3JjKSxyPURhdGUubm93KCk7aWYodC5mcmFtZXNEZWNvZGVDb3VudD4wJiYhdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkW3Quc3NyY10pe2NvbnN0IGU9dC5kZWNvZGVkRnJhbWU/dC5kZWNvZGVkRnJhbWUud2lkdGg6MCxpPXQuZGVjb2RlZEZyYW1lP3QuZGVjb2RlZEZyYW1lLmhlaWdodDowO3RoaXMub25GaXJzdFZpZGVvRGVjb2RlZCYmdGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkKHQuc3NyYyxlLGkpLHRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFt0LnNzcmNdPSEwfWlmKGkpe2NvbnN0IG49aS5zdGF0cyxzPXItaS5sdHM7dC5mcmFtZXNEZWNvZGVGcmVlemVUaW1lPW4uZnJhbWVzRGVjb2RlRnJlZXplVGltZSx0LmZyYW1lc0RlY29kZUludGVydmFsPW4uZnJhbWVzRGVjb2RlSW50ZXJ2YWwsIXRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFt0LnNzcmNdJiZzPnRoaXMub3B0aW9ucy5maXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQmJiF0aGlzLmlzRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0W3Quc3NyY10mJih0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0JiZ0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0KHQuc3NyYyksdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkVGltZW91dFt0LnNzcmNdPSEwKSx0LmZyYW1lc0RlY29kZUNvdW50Pm4uZnJhbWVzRGVjb2RlQ291bnQmJnRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFt0LnNzcmNdPyhpLmx0cz1EYXRlLm5vdygpLHQuZnJhbWVzRGVjb2RlSW50ZXJ2YWw9cyx0LmZyYW1lc0RlY29kZUludGVydmFsPj10aGlzLm9wdGlvbnMuZnJlZXplUmF0ZUxpbWl0JiYodGhpcy5nZXRWaWRlb0lzUmVhZHkocGFyc2VJbnQoZS5zc3JjKSk/dC5mcmFtZXNEZWNvZGVGcmVlemVUaW1lKz10LmZyYW1lc0RlY29kZUludGVydmFsOnRoaXMuc2V0VmlkZW9Jc1JlYWR5MihwYXJzZUludChlLnNzcmMsMTApLCEwKSkpOnQuZnJhbWVzRGVjb2RlQ291bnQ8bi5mcmFtZXNEZWNvZGVDb3VudCYmKHQuZnJhbWVzRGVjb2RlSW50ZXJ2YWw9MCksZS5mcmFtZXNEZWNvZGVkJiZlLnFwU3VtJiYoaS5zdGF0cy5mcmFtZXNEZWNvZGVDb3VudD5lLmZyYW1lc0RlY29kZWQ/dC5xcFN1bVBlckZyYW1lPWUucXBTdW0vZS5mcmFtZXNEZWNvZGVkOnQucXBTdW1QZXJGcmFtZT0oZS5xcFN1bS1pLnFwU3VtKS8oZS5mcmFtZXNEZWNvZGVkLWkuc3RhdHMuZnJhbWVzRGVjb2RlQ291bnQpKX1uJiZyLW4ubHRzPj04MDA/KHQuZGVjb2RlRnJhbWVSYXRlPU1hdGgucm91bmQoKHQuZnJhbWVzRGVjb2RlQ291bnQtbi5jb3VudCkvKChyLW4ubHRzKS8xZTMpKSx0aGlzLmxhc3RWaWRlb0ZyYW1lc0RlY29kZS5zZXQodC5zc3JjLHtjb3VudDp0LmZyYW1lc0RlY29kZUNvdW50LGx0czpyLHJhdGU6dC5kZWNvZGVGcmFtZVJhdGV9KSk6bj90LmRlY29kZUZyYW1lUmF0ZT1uLnJhdGU6dGhpcy5sYXN0VmlkZW9GcmFtZXNEZWNvZGUuc2V0KHQuc3NyYyx7Y291bnQ6dC5mcmFtZXNEZWNvZGVDb3VudCxsdHM6cixyYXRlOjB9KSxlLnRvdGFsRGVjb2RlVGltZSYmKHQuZGVjb2RlTXM9MWUzKmUudG90YWxEZWNvZGVUaW1lKSx0aGlzLnByb2Nlc3NWaWRlb1RyYWNrUmVjZWl2ZXJTdGF0cyhlLGUudHJhY2tJZCx0KSxlLmNvZGVjSWQmJih0LmNvZGVjPXRoaXMuZ2V0Q29kZWNGcm9tQ29kZWNTdGF0cyhlLmNvZGVjSWQpKSxlLmZyYW1lcmF0ZU1lYW4mJih0LmZyYW1lc1JhdGVGaXJlZm94PWUuZnJhbWVyYXRlTWVhbiksdC5wYWNrZXRzPjAmJiF0aGlzLmlzRmlyc3RWaWRlb1JlY2VpdmVkW3Quc3NyY10mJih0aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkJiZ0aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkKHQuc3NyYyksdGhpcy5pc0ZpcnN0VmlkZW9SZWNlaXZlZFt0LnNzcmNdPSEwKSx0aGlzLmxhc3REZWNvZGVWaWRlb1JlY2VpdmVyU3RhdHMuc2V0KHQuc3NyYyx7c3RhdHM6eUwoe30sdCksbHRzOmk/aS5sdHM6RGF0ZS5ub3coKSxxcFN1bTplLnFwU3VtfSl9cHJvY2Vzc1ZpZGVvT3V0Ym91bmRTdGF0cyhlKXtsZXQgdD10aGlzLl9zdGF0cy52aWRlb1NlbmQuZmluZCgodD0+dC5zc3JjPT09ZS5zc3JjKSk7dHx8KHQ9ZEwoRUwpLHRoaXMuX3N0YXRzLnZpZGVvU2VuZC5wdXNoKHQpKTtjb25zdCBpPXRoaXMubWVkaWFCeXRlc1NlbnQuZ2V0KGUuc3NyYyk7aWYoaSlpLmFkZChlLmJ5dGVzU2VudCk7ZWxzZXtjb25zdCB0PW5ldyBoTCgxMCk7dC5hZGQoZS5ieXRlc1NlbnQpLHRoaXMubWVkaWFCeXRlc1NlbnQuc2V0KGUuc3NyYyx0KX1pZih2b2lkIDAhPT1lLnJldHJhbnNtaXR0ZWRCeXRlc1NlbnQpe2NvbnN0IHQ9dGhpcy5tZWRpYUJ5dGVzUmV0cmFuc21pdC5nZXQoZS5zc3JjKTtpZih0KXQuYWRkKGUucmV0cmFuc21pdHRlZEJ5dGVzU2VudCk7ZWxzZXtjb25zdCB0PW5ldyBoTCgxMCk7dC5hZGQoZS5yZXRyYW5zbWl0dGVkQnl0ZXNTZW50KSx0aGlzLm1lZGlhQnl0ZXNSZXRyYW5zbWl0LnNldChlLnNzcmMsdCl9fWlmKGUudG90YWxFbmNvZGVkQnl0ZXNUYXJnZXQpe2NvbnN0IHQ9dGhpcy5tZWRpYUJ5dGVzVGFyZ2V0RW5jb2RlLmdldChlLnNzcmMpO2lmKHQpdC5hZGQoZS50b3RhbEVuY29kZWRCeXRlc1RhcmdldCk7ZWxzZXtjb25zdCB0PW5ldyBoTCgxMCk7dC5hZGQoZS50b3RhbEVuY29kZWRCeXRlc1RhcmdldCksdGhpcy5tZWRpYUJ5dGVzVGFyZ2V0RW5jb2RlLnNldChlLnNzcmMsdCl9fWlmKHQuc3NyYz1lLnNzcmMsdC5ieXRlcz1lLmJ5dGVzU2VudCx0LnBhY2tldHM9ZS5wYWNrZXRzU2VudCx0LmZpcnNDb3VudD1lLmZpckNvdW50LHQubmFja3NDb3VudD1lLm5hY2tDb3VudCx0LnBsaXNDb3VudD1lLnBsaUNvdW50LHQuZnJhbWVDb3VudD1lLmZyYW1lc0VuY29kZWQsdC5hZGFwdGlvbkNoYW5nZVJlYXNvbj1lLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uLHQuc2NhbGFiaWxpdHlNb2RlPWUuc2NhbGFiaWxpdHlNb2RlLGUudG90YWxFbmNvZGVUaW1lJiZlLmZyYW1lc0VuY29kZWQpe2NvbnN0IGk9dGhpcy5sYXN0RW5jb2Rlck1zLmdldChlLnNzcmMpO2lmKCFpfHxpLmxhc3RGcmFtZUNvdW50PmUuZnJhbWVzRW5jb2RlZCl0LmF2Z0VuY29kZU1zPTFlMyplLnRvdGFsRW5jb2RlVGltZS9lLmZyYW1lc0VuY29kZWQ7ZWxzZXtjb25zdCBuPWUuZnJhbWVzRW5jb2RlZC1pLmxhc3RGcmFtZUNvdW50LHI9ZS50b3RhbEVuY29kZVRpbWUtaS5sYXN0RW5jb2RlclRpbWU7dC5hdmdFbmNvZGVNcz0xZTMqci9ufX1pZihlLmZyYW1lc0VuY29kZWQmJmUucXBTdW0pe2NvbnN0IGk9dGhpcy5sYXN0RW5jb2Rlck1zLmdldChlLnNzcmMpOyFpfHxpLmxhc3RGcmFtZUNvdW50PmUuZnJhbWVzRW5jb2RlZD90LnFwU3VtUGVyRnJhbWU9ZS5xcFN1bS9lLmZyYW1lc0VuY29kZWQ6dC5xcFN1bVBlckZyYW1lPShlLnFwU3VtLWkubGFzdFFwU3VtKS8oZS5mcmFtZXNFbmNvZGVkLWkubGFzdEZyYW1lQ291bnQpfWlmKHRoaXMubGFzdEVuY29kZXJNcy5zZXQoZS5zc3JjLHtsYXN0RnJhbWVDb3VudDplLmZyYW1lc0VuY29kZWQsbGFzdEVuY29kZXJUaW1lOmUudG90YWxFbmNvZGVUaW1lLGxhc3RRcFN1bTplLnFwU3VtLGx0czpEYXRlLm5vdygpfSksZS5jb2RlY0lkJiYodC5jb2RlYz10aGlzLmdldENvZGVjRnJvbUNvZGVjU3RhdHMoZS5jb2RlY0lkKSksZS5tZWRpYVNvdXJjZUlkJiZ0aGlzLnByb2Nlc3NWaWRlb01lZGlhU291cmNlKGUubWVkaWFTb3VyY2VJZCx0KSx0aGlzLnByb2Nlc3NWaWRlb1RyYWNrU2VuZGVyU3RhdHMoZSxlLnRyYWNrSWQsdCksZS5yZW1vdGVJZCl0aGlzLnByb2Nlc3NSZW1vdGVJbmJvdW5kU3RhdHMoZS5yZW1vdGVJZCx0KTtlbHNle2NvbnN0IGk9dGhpcy5maW5kUmVtb3RlU3RhdHNJZChlLnNzcmMsZHYuUkVNT1RFX0lOQk9VTkQpO2kmJnRoaXMucHJvY2Vzc1JlbW90ZUluYm91bmRTdGF0cyhpLHQpfX1wcm9jZXNzQXVkaW9PdXRib3VuZFN0YXRzKGUpe2xldCB0PXRoaXMuX3N0YXRzLmF1ZGlvU2VuZC5maW5kKCh0PT50LnNzcmM9PT1lLnNzcmMpKTtpZih0fHwodD1kTChtTCksdGhpcy5fc3RhdHMuYXVkaW9TZW5kLnB1c2godCkpLHQuc3NyYz1lLnNzcmMsdC5wYWNrZXRzPWUucGFja2V0c1NlbnQsdC5ieXRlcz1lLmJ5dGVzU2VudCxlLm1lZGlhU291cmNlSWQmJnRoaXMucHJvY2Vzc0F1ZGlvTWVkaWFTb3VyY2UoZS5tZWRpYVNvdXJjZUlkLHQpLGUuY29kZWNJZCYmKHQuY29kZWM9dGhpcy5nZXRDb2RlY0Zyb21Db2RlY1N0YXRzKGUuY29kZWNJZCkpLHRoaXMucHJvY2Vzc0F1ZGlvVHJhY2tTZW5kZXJTdGF0cyhlLGUudHJhY2tJZCx0KSxlLnJlbW90ZUlkKXRoaXMucHJvY2Vzc1JlbW90ZUluYm91bmRTdGF0cyhlLnJlbW90ZUlkLHQpO2Vsc2V7Y29uc3QgaT10aGlzLmZpbmRSZW1vdGVTdGF0c0lkKGUuc3NyYyxkdi5SRU1PVEVfSU5CT1VORCk7aSYmdGhpcy5wcm9jZXNzUmVtb3RlSW5ib3VuZFN0YXRzKGksdCl9fWZpbmRSZW1vdGVTdGF0c0lkKGUsdCl7dmFyIGk7Y29uc3Qgbj1BcnJheS5mcm9tKFB2KGk9dGhpcy5yZXBvcnQpLmNhbGwoaSkpLmZpbmQoKGk9PmkudHlwZT09PXQmJmkuc3NyYz09PWUpKTtyZXR1cm4gbj9uLmlkOm51bGx9cHJvY2Vzc1ZpZGVvTWVkaWFTb3VyY2UoZSx0KXtjb25zdCBpPXRoaXMucmVwb3J0LmdldChlKTtpJiZpLndpZHRoJiZpLmhlaWdodCYmaS5mcmFtZXNQZXJTZWNvbmQmJih0LmlucHV0RnJhbWU9e3dpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0LGZyYW1lUmF0ZTppLmZyYW1lc1BlclNlY29uZH0pfXByb2Nlc3NBdWRpb01lZGlhU291cmNlKGUsdCl7Y29uc3QgaT10aGlzLnJlcG9ydC5nZXQoZSk7aSYmKHQuaW5wdXRMZXZlbD1pLmF1ZGlvTGV2ZWwpfXByb2Nlc3NWaWRlb1RyYWNrU2VuZGVyU3RhdHMoZSx0LGkpe3ZhciBuLHIscyxvO2NvbnN0IGE9dD90aGlzLnJlcG9ydC5nZXQodCk6dm9pZCAwLGM9bnVsbCE9PShuPW51bGw9PWE/dm9pZCAwOmEuZnJhbWVzU2VudCkmJnZvaWQgMCE9PW4/bjplLmZyYW1lc1NlbnQ7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGMpcmV0dXJuO2xldCBkPW51bGwhPT0ocj1udWxsPT1hP3ZvaWQgMDphLmZyYW1lV2lkdGgpJiZ2b2lkIDAhPT1yP3I6ZS5mcmFtZVdpZHRoLGw9bnVsbCE9PShzPW51bGw9PWE/dm9pZCAwOmEuZnJhbWVIZWlnaHQpJiZ2b2lkIDAhPT1zP3M6ZS5mcmFtZUhlaWdodCxoPW51bGwhPT0obz1udWxsPT1hP3ZvaWQgMDphLmZyYW1lc1BlclNlY29uZCkmJnZvaWQgMCE9PW8/bzplLmZyYW1lc1BlclNlY29uZDtpZihcIm51bWJlclwiPT10eXBlb2YgZCYmXCJudW1iZXJcIj09dHlwZW9mIGx8fChkPTAsbD0wKSxudWxsPT1oKXtjb25zdCBlPURhdGUubm93KCksdD10aGlzLmxhc3RWaWRlb0ZyYW1lc1NlbnQuZ2V0KGkuc3NyYyk7dCYmZS10Lmx0cz49ODAwPyhoPU1hdGgucm91bmQoKGMtdC5jb3VudCkvKChlLXQubHRzKS8xZTMpKSx0aGlzLmxhc3RWaWRlb0ZyYW1lc1NlbnQuc2V0KGkuc3NyYyx7Y291bnQ6YyxsdHM6ZSxyYXRlOmh9KSk6dD9oPXQucmF0ZTp0aGlzLmxhc3RWaWRlb0ZyYW1lc1NlbnQuc2V0KGkuc3NyYyx7Y291bnQ6YyxsdHM6ZSxyYXRlOjB9KX1pLnNlbnRGcmFtZT17d2lkdGg6ZCxoZWlnaHQ6bCxmcmFtZVJhdGU6TWF0aC5tYXgoMCxoKX19cHJvY2Vzc1ZpZGVvVHJhY2tSZWNlaXZlclN0YXRzKGUsdCxpKXt2YXIgbixyLHMsbyxhO2NvbnN0IGM9dD90aGlzLnJlcG9ydC5nZXQodCk6dm9pZCAwLGQ9bnVsbCE9PShuPW51bGw9PWM/dm9pZCAwOmMuZnJhbWVzUmVjZWl2ZWQpJiZ2b2lkIDAhPT1uP246ZS5mcmFtZXNSZWNlaXZlZCxsPW51bGwhPT0ocj1udWxsPT1jP3ZvaWQgMDpjLmZyYW1lV2lkdGgpJiZ2b2lkIDAhPT1yP3I6ZS5mcmFtZVdpZHRoLGg9bnVsbCE9PShzPW51bGw9PWM/dm9pZCAwOmMuZnJhbWVIZWlnaHQpJiZ2b2lkIDAhPT1zP3M6ZS5mcmFtZUhlaWdodCx1PW51bGwhPT0obz1udWxsPT1jP3ZvaWQgMDpjLmppdHRlckJ1ZmZlckRlbGF5KSYmdm9pZCAwIT09bz9vOmUuaml0dGVyQnVmZmVyRGVsYXkscD1udWxsIT09KGE9bnVsbD09Yz92b2lkIDA6Yy5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQpJiZ2b2lkIDAhPT1hP2E6ZS5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ7aWYoXCJudW1iZXJcIj09dHlwZW9mIGQpe2NvbnN0IGU9dGhpcy5sYXN0VmlkZW9GcmFtZXNSZWN2LmdldChpLnNzcmMpLHQ9RGF0ZS5ub3coKTtpLmZyYW1lc1JlY2VpdmVkQ291bnQ9ZDtsZXQgbj0wO2UmJnQtZS5sdHM+PTgwMD8obj1NYXRoLnJvdW5kKChkLWUuY291bnQpLygodC1lLmx0cykvMWUzKSksdGhpcy5sYXN0VmlkZW9GcmFtZXNSZWN2LnNldChpLnNzcmMse2NvdW50OmQsbHRzOnQscmF0ZTpufSkpOmU/bj1lLnJhdGU6dGhpcy5sYXN0VmlkZW9GcmFtZXNSZWN2LnNldChpLnNzcmMse2NvdW50OmQsbHRzOnQscmF0ZTowfSksaS5yZWNlaXZlZEZyYW1lPXt3aWR0aDpsfHwwLGhlaWdodDpofHwwLGZyYW1lUmF0ZTpufHwwfSxpLmRlY29kZWRGcmFtZT17d2lkdGg6bHx8MCxoZWlnaHQ6aHx8MCxmcmFtZVJhdGU6aS5kZWNvZGVGcmFtZVJhdGV8fDB9LGkub3V0cHV0RnJhbWU9e3dpZHRoOmx8fDAsaGVpZ2h0Omh8fDAsZnJhbWVSYXRlOmkuZGVjb2RlRnJhbWVSYXRlfHwwfX1pZih1JiZwKXtjb25zdCBlPXRoaXMubGFzdFZpZGVvSkJEZWxheS5nZXQoaS5zc3JjKXx8e2ppdHRlckJ1ZmZlckRlbGF5OjAsaml0dGVyQnVmZmVyRW1pdHRlZENvdW50OjAsaml0dGVyQnVmZmVyTXM6MH07bGV0IHQ9ZS5qaXR0ZXJCdWZmZXJNcztjb25zdCBuPXAtZS5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ7bj4wJiYodD0xZTMqKHUtZS5qaXR0ZXJCdWZmZXJEZWxheSkvbiksaS5qaXR0ZXJCdWZmZXJNcz10LGkuY3VycmVudERlbGF5TXM9TWF0aC5yb3VuZCh0KSx0aGlzLmxhc3RWaWRlb0pCRGVsYXkuc2V0KGkuc3NyYyx7aml0dGVyQnVmZmVyRGVsYXk6dSxqaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ6cCxqaXR0ZXJCdWZmZXJNczppLmN1cnJlbnREZWxheU1zfSl9fXByb2Nlc3NBdWRpb1RyYWNrU2VuZGVyU3RhdHMoZSx0LGkpe3ZhciBuLHIscyxvO2NvbnN0IGE9dD90aGlzLnJlcG9ydC5nZXQodCk6dm9pZCAwLGM9bnVsbCE9PShuPW51bGwhPT0ocj1udWxsPT1hP3ZvaWQgMDphLmVjaG9SZXR1cm5Mb3NzKSYmdm9pZCAwIT09cj9yOmUuZWNob1JldHVybkxvc3MpJiZ2b2lkIDAhPT1uP246MCxkPW51bGwhPT0ocz1udWxsIT09KG89bnVsbD09YT92b2lkIDA6YS5lY2hvUmV0dXJuTG9zc0VuaGFuY2VtZW50KSYmdm9pZCAwIT09bz9vOmUuZWNob1JldHVybkxvc3NFbmhhbmNlbWVudCkmJnZvaWQgMCE9PXM/czowO2kuYWVjUmV0dXJuTG9zcz1jLGkuYWVjUmV0dXJuTG9zc0VuaGFuY2VtZW50PWR9cHJvY2Vzc0F1ZGlvVHJhY2tSZWNlaXZlclN0YXRzKGUsdCxpKXt2YXIgbixyLHMsbyxhLGMsZDtjb25zdCBsPXQ/dGhpcy5yZXBvcnQuZ2V0KHQpOnZvaWQgMCxoPW51bGwhPT0obj1udWxsPT1sP3ZvaWQgMDpsLnJlbW92ZWRTYW1wbGVzRm9yQWNjZWxlcmF0aW9uKSYmdm9pZCAwIT09bj9uOmUucmVtb3ZlZFNhbXBsZXNGb3JBY2NlbGVyYXRpb24sdT1udWxsIT09KHI9bnVsbD09bD92b2lkIDA6bC50b3RhbFNhbXBsZXNSZWNlaXZlZCkmJnZvaWQgMCE9PXI/cjplLnRvdGFsU2FtcGxlc1JlY2VpdmVkLHA9bnVsbCE9PShzPW51bGw9PWw/dm9pZCAwOmwuaml0dGVyQnVmZmVyRGVsYXkpJiZ2b2lkIDAhPT1zP3M6ZS5qaXR0ZXJCdWZmZXJEZWxheSxfPW51bGwhPT0obz1udWxsPT1sP3ZvaWQgMDpsLmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudCkmJnZvaWQgMCE9PW8/bzplLmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudCxFPW51bGwhPT0oYT1udWxsPT1sP3ZvaWQgMDpsLmF1ZGlvTGV2ZWwpJiZ2b2lkIDAhPT1hP2E6bnVsbD09ZT92b2lkIDA6ZS5hdWRpb0xldmVsLG09bnVsbCE9PShjPW51bGw9PWw/dm9pZCAwOmwudG90YWxTYW1wbGVzRHVyYXRpb24pJiZ2b2lkIDAhPT1jP2M6bnVsbD09ZT92b2lkIDA6ZS50b3RhbFNhbXBsZXNEdXJhdGlvbixmPW51bGwhPT0oZD1udWxsPT1sP3ZvaWQgMDpsLmNvbmNlYWxlZFNhbXBsZXMpJiZ2b2lkIDAhPT1kP2Q6ZS5jb25jZWFsZWRTYW1wbGVzO2lmKGgmJnUmJihpLmFjY2VsZXJhdGVSYXRlPWgvdSkscCYmXyl7Y29uc3QgZT10aGlzLmxhc3RBdWRpb0pCRGVsYXkuZ2V0KGkuc3NyYyl8fHtqaXR0ZXJCdWZmZXJEZWxheTowLGppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudDowLGppdHRlckJ1ZmZlck1zOjB9O2xldCB0PWUuaml0dGVyQnVmZmVyTXM7Y29uc3Qgbj1fLWUuaml0dGVyQnVmZmVyRW1pdHRlZENvdW50O24+MCYmKHQ9MWUzKihwLWUuaml0dGVyQnVmZmVyRGVsYXkpL24pLGkuaml0dGVyQnVmZmVyTXM9TWF0aC5yb3VuZCh0KSx0aGlzLmxhc3RBdWRpb0pCRGVsYXkuc2V0KGkuc3NyYyx7aml0dGVyQnVmZmVyRGVsYXk6cCxqaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ6XyxqaXR0ZXJCdWZmZXJNczppLmppdHRlckJ1ZmZlck1zfSl9aS5vdXRwdXRMZXZlbD1FO2xldCBnPTE5MjA7bSYmdSYmKGc9dS9tLzUwLGkucmVjZWl2ZWRGcmFtZXM9TWF0aC5yb3VuZCh1L2cpKSxmJiYoaS5kcm9wcGVkRnJhbWVzPU1hdGgucm91bmQoZi9nKSl9cHJvY2Vzc1JlbW90ZUluYm91bmRTdGF0cyhlLHQpe2NvbnN0IGk9dGhpcy5yZXBvcnQuZ2V0KGUpO2kmJih0LnBhY2tldHNMb3N0PWkucGFja2V0c0xvc3QsaS5yb3VuZFRyaXBUaW1lJiYodC5ydHRNcz0xZTMqaS5yb3VuZFRyaXBUaW1lKSxpLmppdHRlciYmKHQuaml0dGVyTXM9MWUzKmkuaml0dGVyKSxpLnRpbWVzdGFtcCYmKHQudGltZXN0YW1wPWkudGltZXN0YW1wKSl9Z2V0Q29kZWNGcm9tQ29kZWNTdGF0cyhlKXtjb25zdCB0PXRoaXMucmVwb3J0LmdldChlKTtpZighdClyZXR1cm5cIlwiO2NvbnN0IGk9dC5taW1lVHlwZS5tYXRjaCgvXFwvKC4qKSQvKTtyZXR1cm4gaSYmaVsxXT9pWzFdOlwiXCJ9dXBkYXRlU2VuZEJpdHJhdGUoKXtsZXQgZT0wLHQ9bnVsbCxpPW51bGw7dGhpcy5tZWRpYUJ5dGVzU2VudC5mb3JFYWNoKCh0PT57ZSs9dC5kaWZmTWVhbigpfSkpLHRoaXMubWVkaWFCeXRlc1JldHJhbnNtaXQuZm9yRWFjaCgoZT0+e3Q9bnVsbD09PXQ/ZS5kaWZmTWVhbigpOnQrZS5kaWZmTWVhbigpfSkpLHRoaXMubWVkaWFCeXRlc1RhcmdldEVuY29kZS5mb3JFYWNoKChlPT57aT1udWxsPT09aT9lLmRpZmZNZWFuKCk6aStlLmRpZmZNZWFuKCl9KSk7Y29uc3Qgbj1udWxsIT09dD9lLXQ6ZTt0aGlzLl9zdGF0cy5iaXRyYXRlPXthY3R1YWxFbmNvZGVkOjgqbi8odGhpcy5vcHRpb25zLnVwZGF0ZUludGVydmFsLzFlMyksdHJhbnNtaXQ6OCplLyh0aGlzLm9wdGlvbnMudXBkYXRlSW50ZXJ2YWwvMWUzKX0sbnVsbCE9PXQmJih0aGlzLl9zdGF0cy5iaXRyYXRlLnJldHJhbnNtaXQ9OCp0Lyh0aGlzLm9wdGlvbnMudXBkYXRlSW50ZXJ2YWwvMWUzKSksbnVsbCE9PWkmJih0aGlzLl9zdGF0cy5iaXRyYXRlLnRhcmdldEVuY29kZWQ9OCppLyh0aGlzLm9wdGlvbnMudXBkYXRlSW50ZXJ2YWwvMWUzKSl9fWNsYXNzIGJMIGV4dGVuZHMgVEx7dXBkYXRlU3RhdHMoKXtyZXR1cm4gdGcucmVzb2x2ZSgpfX1mdW5jdGlvbiB3TChlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MjUwLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjgsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106NTAwLHI9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOjFlNDtjb25zdCBzPWZ1bmN0aW9uKCl7Y29uc3QgZT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG9jYWxlTG93ZXJDYXNlKCkubWF0Y2goL2Nocm9tZVxcL1tcXGRdKi9pKTtyZXR1cm4gZSYmZVswXT9OdW1iZXIoZVswXS5zcGxpdChcIi9cIilbMV0pOm51bGx9KCk7cmV0dXJuIHM/czw3Nj9uZXcgdkwoZSx7dXBkYXRlSW50ZXJ2YWw6dCxsb3NzUmF0ZUludGVydmFsOmksZnJlZXplUmF0ZUxpbWl0Om4sZmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0OnJ9KTpuZXcgQUwoZSx7dXBkYXRlSW50ZXJ2YWw6dCxsb3NzUmF0ZUludGVydmFsOmksZnJlZXplUmF0ZUxpbWl0Om4sZmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0OnJ9KTpmdW5jdGlvbihlKXtyZXR1cm4hIXdpbmRvdy5SVENTdGF0c1JlcG9ydCYmZS5nZXRTdGF0cygpaW5zdGFuY2VvZiB0Z30oZSk/bmV3IEFMKGUse3VwZGF0ZUludGVydmFsOnQsbG9zc1JhdGVJbnRlcnZhbDppLGZyZWV6ZVJhdGVMaW1pdDpuLGZpcnN0VmlkZW9EZWNvZGVkVGltZW91dDpyfSk6bmV3IGJMKGUse3VwZGF0ZUludGVydmFsOnQsbG9zc1JhdGVJbnRlcnZhbDppLGZyZWV6ZVJhdGVMaW1pdDpuLGZpcnN0VmlkZW9EZWNvZGVkVGltZW91dDpyfSl9ZnVuY3Rpb24gT0woZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIE5MKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP09MKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOk9MKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWNsYXNzIERMIGV4dGVuZHMgTkl7Z2V0IHBlZXJDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGV9Z2V0IGljZUNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZX1nZXQgY3VycmVudExvY2FsRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50TG9jYWxEZXNjcmlwdGlvbn1nZXQgY3VycmVudFJlbW90ZURlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudFJlbW90ZURlc2NyaXB0aW9ufWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSxudSh0aGlzLFwic3RvcmVcIix2b2lkIDApLG51KHRoaXMsXCJwZWVyQ29ubmVjdGlvblwiLHZvaWQgMCksbnUodGhpcyxcInJlbW90ZVNEUFwiLHZvaWQgMCksbnUodGhpcyxcImluaXRpYWxPZmZlclwiLHZvaWQgMCksbnUodGhpcyxcInN0YXRzRmlsdGVyXCIsdm9pZCAwKSxudSh0aGlzLFwidXNlUlRYXCIsITEpLG51KHRoaXMsXCJsb2NhbENhcGFiaWxpdGllc1wiLHZvaWQgMCksbnUodGhpcyxcImxvY2FsQ2FuZGlkYXRlQ291bnRcIiwwKSxudSh0aGlzLFwiYWxsQ2FuZGlkYXRlc1JlY2VpdmVkXCIsITEpLG51KHRoaXMsXCJlc3RhYmxpc2hQcm9taXNlXCIsdm9pZCAwKSxudSh0aGlzLFwibXV0ZXhcIixuZXcgWVMoXCJQMlBDb25uZWN0aW9uLW11dGV4XCIpKSx0aGlzLnN0b3JlPXQsdGhpcy5wZWVyQ29ubmVjdGlvbj1uZXcgUlRDUGVlckNvbm5lY3Rpb24oREwucmVzb2x2ZVBDQ29uZmlndXJhdGlvbihlKSx7b3B0aW9uYWw6W3tnb29nRHNjcDohMH1dfSksdGhpcy5zdGF0c0ZpbHRlcj13TCh0aGlzLnBlZXJDb25uZWN0aW9uLGtDKFwiU1RBVFNfVVBEQVRFX0lOVEVSVkFMXCIpLHZvaWQgMCxSZygpPzEyMDA6dm9pZCAwKSx0aGlzLmJpbmRQQ0V2ZW50cygpLHRoaXMuYmluZFN0YXRzRXZlbnRzKCksdGhpcy5zdG9yZS5wMnBJZD10aGlzLnN0b3JlLnAycElkKzEsdGhpcy5lc3RhYmxpc2hQcm9taXNlPXRoaXMuZXN0YWJsaXNoKCl9YXN5bmMgZXN0YWJsaXNoKCl7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcih7b2ZmZXJUb1JlY2VpdmVBdWRpbzohMCxvZmZlclRvUmVjZWl2ZVZpZGVvOiEwfSk7aWYoIWUuc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgaW5pdGlhbE9mZmVyLnNkcCB3aGVuIHRyeWluZyB0byBlc3RhYmxpc2ggUGVlckNvbm5lY3Rpb24uXCIpO2NvbnN0IHQ9WVAoZS5zZHApLGk9S1AoZS5zZHAse2ZpbHRlclJUWDohdGhpcy51c2VSVFgsZmlsdGVyVmlkZW9GZWM6a0MoXCJGSUxURVJfVklERU9fRkVDXCIpLGZpbHRlckF1ZGlvRmVjOmtDKFwiRklMVEVSX0FVRElPX0ZFQ1wiKSxmaWx0ZXJBdWRpb0NvZGVjOltcIm9wdXNcIl19KTtyZXR1cm4gdGhpcy5sb2NhbENhcGFiaWxpdGllcz1pLHRoaXMuaW5pdGlhbE9mZmVyPWUsTkwoTkwoe30sdCkse30se3J0cENhcGFiaWxpdGllczp7c2VuZDp7YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0scmVjdjp7YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0sc2VuZHJlY3Y6aX0sb2ZmZXJTRFA6ZS5zZHB9KX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuR0VUX0xPQ0FMX0NPTk5FQ1RJT05fUEFSQU1TX0ZBSUxFRCxlLnRvU3RyaW5nKCkpfX1hc3luYyBjb25uZWN0KGUsdCxpLG4scixzKXt0cnl7aWYoIXRoaXMuaW5pdGlhbE9mZmVyKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBlc3RhYmxpc2ggUDJQQ29ubmVjdGlvbiB3aXRob3V0IGluaXRpYWwgb2ZmZXIuXCIpO3RoaXMucmVtb3RlU0RQPW5ldyBjbGFzc3tjb25zdHJ1Y3RvcihlKXtudSh0aGlzLFwic2Vzc2lvbkRlc2NcIix2b2lkIDApLG51KHRoaXMsXCJsb2NhbENhcGFiaWxpdGllc1wiLHZvaWQgMCksbnUodGhpcyxcInJ0cENhcGFiaWxpdGllc1wiLHZvaWQgMCksbnUodGhpcyxcImNhbmRpZGF0ZXNcIix2b2lkIDApLG51KHRoaXMsXCJpY2VQYXJhbWV0ZXJzXCIsdm9pZCAwKSxudSh0aGlzLFwiZHRsc1BhcmFtZXRlcnNcIix2b2lkIDApLG51KHRoaXMsXCJzZXR1cFwiLHZvaWQgMCksbnUodGhpcyxcImN1cnJlbnRNaWRJbmRleFwiLHZvaWQgMCksbnUodGhpcyxcImNuYW1lXCIsdm9pZCAwKSxlPWJTKGUpO2NvbnN0e3JlbW90ZUljZVBhcmFtZXRlcnM6dCxyZW1vdGVEdGxzUGFyYW1ldGVyczppLGNhbmRpZGF0ZXM6bixyZW1vdGVSVFBDYXBhYmlsaXRpZXM6cixyZW1vdGVTZXR1cDpzLGxvY2FsQ2FwYWJpbGl0aWVzOm8sc2RrQ29kZWM6YSxjbmFtZTpjfT1lLGQ9R1AucGFyc2UoXCJ2PTBcXG5vPS0gMCAwIElOIElQNCAxMjcuMC4wLjFcXG5zPUFnb3JhR2F0ZXdheVxcbnQ9MCAwXFxuYT1ncm91cDpCVU5ETEUgYXVkaW8gdmlkZW9cXG5hPW1zaWQtc2VtYW50aWM6IFdNU1xcbmE9aWNlLWxpdGVcXG5tPWF1ZGlvIDkgVURQL1RMUy9SVFAvU0FWUEYgMFxcbmM9SU4gSVA0IDEyNy4wLjAuMVxcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXFxuYT1zZW5kcmVjdlxcbmE9cnRjcC1tdXhcXG5hPXJ0Y3AtcnNpemVcXG5hPW1pZDphdWRpb1xcbm09dmlkZW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXFxuYz1JTiBJUDQgMTI3LjAuMC4xXFxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXG5hPXNlbmRyZWN2XFxuYT1ydGNwLW11eFxcbmE9cnRjcC1yc2l6ZVxcbmE9bWlkOnZpZGVvXFxuXCIpO3RoaXMucnRwQ2FwYWJpbGl0aWVzPXIsdGhpcy5jYW5kaWRhdGVzPW4sdGhpcy5pY2VQYXJhbWV0ZXJzPXQsdGhpcy5kdGxzUGFyYW1ldGVycz1pLHRoaXMuc2V0dXA9cyx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzPW8sdGhpcy5jbmFtZT1jO2ZvcihsZXQgZT0wO2U8ZC5tZWRpYURlc2NyaXB0aW9ucy5sZW5ndGg7ZSsrKXtjb25zdCBvPWQubWVkaWFEZXNjcmlwdGlvbnNbZV07by5hdHRyaWJ1dGVzLmljZVVmcmFnPXQuaWNlVWZyYWcsby5hdHRyaWJ1dGVzLmljZVB3ZD10LmljZVB3ZCxvLmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzPWkuZmluZ2VycHJpbnRzLG8uYXR0cmlidXRlcy5jYW5kaWRhdGVzPW4sby5hdHRyaWJ1dGVzLnNldHVwPXMsXCJ2aWRlb1wiPT09by5tZWRpYS5tZWRpYVR5cGUmJihvLm1lZGlhLmZtdHM9ci52aWRlb0NvZGVjcy5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSksby5hdHRyaWJ1dGVzLnBheWxvYWRzPXIudmlkZW9Db2RlY3Msby5hdHRyaWJ1dGVzLmV4dG1hcHM9ci52aWRlb0V4dGVuc2lvbnMpLFwiYXVkaW9cIj09PW8ubWVkaWEubWVkaWFUeXBlJiYoby5tZWRpYS5mbXRzPXIuYXVkaW9Db2RlY3MubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpLG8uYXR0cmlidXRlcy5wYXlsb2Fkcz1yLmF1ZGlvQ29kZWNzLG8uYXR0cmlidXRlcy5leHRtYXBzPXIuYXVkaW9FeHRlbnNpb25zKSxkLm1lZGlhRGVzY3JpcHRpb25zW2VdPXRoaXMubXVuZ01lZGlhRGVzYyhvKX10aGlzLnNlc3Npb25EZXNjPWQsdGhpcy5jdXJyZW50TWlkSW5kZXg9ZC5tZWRpYURlc2NyaXB0aW9ucy5sZW5ndGgtMX10b1N0cmluZygpe3JldHVybiBHUC5wcmludCh0aGlzLnNlc3Npb25EZXNjKX1zZW5kKGUsdCxpKXtjb25zdHtzc3JjczpuLHNzcmNHcm91cHM6cn09elAodCx0aGlzLmNuYW1lKSxzPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+ZT09PWRJLlZJREVPP1widmlkZW9cIj09PXQubWVkaWEubWVkaWFUeXBlOlwiYXVkaW9cIj09PXQubWVkaWEubWVkaWFUeXBlKSksbz1uWzBdLmF0dHJpYnV0ZXMubGFiZWwsYT1uWzBdLmF0dHJpYnV0ZXMubXNsYWJlbDtyZXR1cm4gcy5hdHRyaWJ1dGVzLnNzcmNzPXMuYXR0cmlidXRlcy5zc3Jjcy5jb25jYXQobikscy5hdHRyaWJ1dGVzLnNzcmNHcm91cHM9cy5hdHRyaWJ1dGVzLnNzcmNHcm91cHMuY29uY2F0KHIpLHtpZDpvLG1zbGFiZWw6YX19YmF0Y2hTZW5kKGUpe3JldHVybiBlLm1hcCgoZT0+e2xldHtraW5kOnQsc3NyY01zZzppfT1lO3JldHVybiB0aGlzLnNlbmQodCxpLHZvaWQgMCl9KSl9c3RvcFNlbmRpbmcoZSl7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5mb3JFYWNoKCh0PT57Y29uc3QgaT1bXSxuPVtdLHI9W107dC5hdHRyaWJ1dGVzLnNzcmNzLmZvckVhY2goKHQ9PntQcihlKS5jYWxsKGUsdC5hdHRyaWJ1dGVzLmxhYmVsfHxcIlwiKT9yLnB1c2godCk6aS5wdXNoKHQpfSkpLHQuYXR0cmlidXRlcy5zc3JjR3JvdXBzLmZvckVhY2goKGU9Pnt2YXIgdDtQcih0PXIubWFwKChlPT5lLnNzcmNJZCkpKS5jYWxsKHQsZS5zc3JjSWRzWzBdKXx8bi5wdXNoKGUpfSkpLHQuYXR0cmlidXRlcy5zc3Jjcz1pLHQuYXR0cmlidXRlcy5zc3JjR3JvdXBzPW59KSl9bXV0ZShlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9uIG5vdCBmb3VuZCB3aXRoIFwiLmNvbmNhdChlLFwiIGluIHJlbW90ZSBTRFAgd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5tdXRlLlwiKSk7dC5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCJ9dW5tdXRlKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT50LmF0dHJpYnV0ZXMubWlkPT09ZSkpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb24gbm90IGZvdW5kIHdpdGggXCIuY29uY2F0KGUsXCIgaW4gcmVtb3RlIFNEUCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLnVubXV0ZS5cIikpO3QuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJzZW5kb25seVwifXJlY2VpdmUoZSx0LGkpe2UuZm9yRWFjaCgoKGUsdCk9Pntjb25zdCBpPWUuX21lZGlhU3RyZWFtVHJhY2ssbj10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmRJbmRleCgoZT0+ZS5hdHRyaWJ1dGVzLm1pZD09PWkua2luZCkpLHI9dGhpcy5tdW5nUmVjdk1lZGlhRHNlYyh0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW25dLGUpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbbl09cn0pKX1zdG9wUmVjZWl2aW5nKGUpe311cGRhdGVDYW5kaWRhdGVzKGUpe2U9PT1sSS5UQ1A/dGhpcy5jYW5kaWRhdGVzLmZvckVhY2goKGU9PnstMT09PXRoaXMuY2FuZGlkYXRlcy5maW5kSW5kZXgoKHQ9PlwidGNwXCI9PT10LnRyYW5zcG9ydCYmdC5jb25uZWN0aW9uQWRkcmVzcz09PWUuY29ubmVjdGlvbkFkZHJlc3MmJnQucG9ydD09PWUucG9ydCkpJiZ0aGlzLmNhbmRpZGF0ZXMucHVzaChjTChjTCh7fSxlKSx7fSx7Zm91bmRhdGlvbjpcInRjcGNhbmRpZGF0ZVwiLHByaW9yaXR5Ok51bWJlcihlLnByaW9yaXR5KS0xK1wiXCIsdHJhbnNwb3J0OlwidGNwXCIscG9ydDpOdW1iZXIoZS5wb3J0KSs5MCtcIlwifSkpfSkpOnRoaXMuY2FuZGlkYXRlcz10aGlzLmNhbmRpZGF0ZXMuZmlsdGVyKChlPT5cInRjcFwiIT09ZS50cmFuc3BvcnQpKTtmb3IoY29uc3QgZSBvZiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zKWUuYXR0cmlidXRlcy5jYW5kaWRhdGVzPXRoaXMuY2FuZGlkYXRlc31yZXN0YXJ0SUNFKGUpe2U9YlMoZSksdGhpcy5pY2VQYXJhbWV0ZXJzPWUsdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5mb3JFYWNoKCh0PT57dC5hdHRyaWJ1dGVzLmljZVVmcmFnPWUuaWNlVWZyYWcsdC5hdHRyaWJ1dGVzLmljZVB3ZD1lLmljZVB3ZH0pKX1wcmVkaWN0UmVjZWl2aW5nTWlkcyhlKXtjb25zdCB0PVtdO2ZvcihsZXQgaT0wO2k8ZTtpKyspdC5wdXNoKCh0aGlzLmN1cnJlbnRNaWRJbmRleCtpKzEpLnRvU3RyaW5nKDEwKSk7cmV0dXJuIHR9bXVuZ1JlY3ZNZWRpYURzZWMoZSx0KXtjb25zdCBpPWJTKGUpO3JldHVybiBYUChpLHQpLFpQKGksdCksaX11cGRhdGVSZWN2TWVkaWEoZSx0KXtjb25zdCBpPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZEluZGV4KCh0PT50LmF0dHJpYnV0ZXMubWlkPT09ZSkpO2lmKC0xIT09aSl7Y29uc3QgZT10aGlzLm11bmdSZWN2TWVkaWFEc2VjKHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbaV0sdCk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tpXT1lfX1idW1wTWlkKGUpe3RoaXMuY3VycmVudE1pZEluZGV4Kz1lfXVwZGF0ZVRyYWNrTGFiZWwoZSx0LGkpe2NvbnN0IG49dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT5lPT09ZEkuVklERU8/XCJ2aWRlb1wiPT09dC5hdHRyaWJ1dGVzLm1pZDpcImF1ZGlvXCI9PT10LmF0dHJpYnV0ZXMubWlkKSk7aWYobil7Y29uc3QgZT1uLmF0dHJpYnV0ZXMuc3NyY3MuZmluZCgoZT0+ZS5hdHRyaWJ1dGVzLmxhYmVsPT09dCkpO3ZhciByO2UmJihlLmF0dHJpYnV0ZXMubGFiZWw9aSxudWxsPT09KHI9ZS5hdHRyaWJ1dGVzLm1zaWQpfHx2b2lkIDA9PT1yfHxyLnJlcGxhY2UodCxpKSl9fW11bmdNZWRpYURlc2MoZSl7Y29uc3QgdD1iUyhlKTtyZXR1cm4gUVAodCksZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmF0dHJpYnV0ZXMuZXh0bWFwcy5maW5kKChlPT5cImh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDFcIj09PWUuZXh0ZW5zaW9uTmFtZSkpO3QmJmUuYXR0cmlidXRlcy5leHRtYXBzLnNwbGljZShlLmF0dHJpYnV0ZXMuZXh0bWFwcy5pbmRleE9mKHQpLDEpLGUuYXR0cmlidXRlcy5wYXlsb2Fkcy5mb3JFYWNoKChlPT57Y29uc3QgdD1lLnJ0Y3BGZWVkYmFja3MuZmluZEluZGV4KChlPT5cInRyYW5zcG9ydC1jY1wiPT09ZS50eXBlKSk7LTEhPT10JiZlLnJ0Y3BGZWVkYmFja3Muc3BsaWNlKHQsMSl9KSl9KHQpLHR9Z2V0U1NSQyhlKXtmb3IoY29uc3QgdCBvZiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zKWZvcihjb25zdCBpIG9mIHQuYXR0cmlidXRlcy5zc3JjcylpZihpLmF0dHJpYnV0ZXMubGFiZWw9PT1lKXJldHVybltpXX19KHtyZW1vdGVJY2VQYXJhbWV0ZXJzOmUscmVtb3RlRHRsc1BhcmFtZXRlcnM6dCxjYW5kaWRhdGVzOmkscmVtb3RlUlRQQ2FwYWJpbGl0aWVzOm4uc2VuZCxyZW1vdGVTZXR1cDpyLGxvY2FsQ2FwYWJpbGl0aWVzOnRoaXMubG9jYWxDYXBhYmlsaXRpZXMsc2RrQ29kZWM6dGhpcy5zdG9yZS5jb2RlYyxjbmFtZTpzfSk7Y29uc3Qgbz10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih0aGlzLmluaXRpYWxPZmZlciksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpvfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLmNvbm5lY3QgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fXNlbmQoZSx0KXt2YXIgaT10aGlzO3JldHVybiB4UCgoZnVuY3Rpb24qKCl7Y29uc3Qgbj15aWVsZCBWUChpLm11dGV4LmxvY2soKSk7dHJ5e2lmKCFpLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnNlbmQgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtjb25zdCByPWUubWFwKChlPT5pLnBlZXJDb25uZWN0aW9uLmFkZFRyYWNrKGUuX21lZGlhU3RyZWFtVHJhY2spKSkscz15aWVsZCBWUChpLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkpLG89R1AucGFyc2Uocy5zZHApLGE9ZS5tYXAoKGU9Pntjb25zdCB0PWUuX21lZGlhU3RyZWFtVHJhY2ssbj1vLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKGU9PmUuYXR0cmlidXRlcy5taWQ9PT10LmtpbmQpKTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZXh0cmFjdCBzc3JjIGZyb20gbWVkaWFEZXNjcmlwdGlvbi5cIik7cmV0dXJuIGZ1bmN0aW9uKGUsdCxpKXtjb25zdCBuPWUuYXR0cmlidXRlcy5zc3Jjcy5maWx0ZXIoKGU9PmUuYXR0cmlidXRlcy5sYWJlbD09PXQpKSxyPWUuYXR0cmlidXRlcy5zc3JjR3JvdXBzO2lmKDA9PT1uLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZXh0cmFjdCBzc3JjIGZyb20gcGxhbi1iIFNEUC5cIik7aWYociYmbi5sZW5ndGg+MSl7Y29uc3QgZT1yLmZpbmQoKGU9Pi0xIT09ZS5zc3JjSWRzLmluZGV4T2YoblswXS5zc3JjSWQpKSk7cmV0dXJuIGU/W3tzc3JjSWQ6ZS5zc3JjSWRzWzBdLHJ0eDppP2Uuc3NyY0lkc1sxXTp2b2lkIDB9XTpbe3NzcmNJZDpuWzBdLnNzcmNJZH1dfXJldHVyblt7c3NyY0lkOm5bMF0uc3NyY0lkfV19KG4sdC5pZCxpLnVzZVJUWCl9KSk7bGV0IGM7dHJ5e2M9eWllbGQgYX1jYXRjaChlKXt0aHJvdyByLmZvckVhY2goKGU9PntUZygpJiZlLnJlcGxhY2VUcmFjayhudWxsKSxpLnBlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrKGUpfSkpLGV9Y29uc3QgZD1pLm11bmdTZW5kT2ZmZXJTRFAocy5zZHAsZSk7aS5yZW1vdGVTRFAucmVjZWl2ZShlLHQsYyk7Y29uc3QgbD1pLnJlbW90ZVNEUC50b1N0cmluZygpO3JldHVybiB5aWVsZCBWUChpLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpkfSkpLHlpZWxkIFZQKGkuYXBwbHlTZW5kRW5jb2RpbmdzKHIsZSkpLHlpZWxkIFZQKGkucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6bH0pKSxlLm1hcCgoKGUsdCk9Pntjb25zdCBpPWUuX21lZGlhU3RyZWFtVHJhY2suaWQ7cmV0dXJue2xvY2FsU1NSQzphW3RdLGlkOml9fSkpfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zZW5kIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfWZpbmFsbHl7bigpfX0pKSgpfWFzeW5jIHN0b3BTZW5kaW5nKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmlsdGVyKCh0PT57dmFyIGk7cmV0dXJuLTEhPT1lLmluZGV4T2YoKG51bGw9PT0oaT10LnRyYWNrKXx8dm9pZCAwPT09aT92b2lkIDA6aS5pZCl8fFwiXCIpfSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiB0cnlpbmcgdG8gY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nLlwiKTt0Lm1hcCgoZT0+e1RnKCkmJmUucmVwbGFjZVRyYWNrKG51bGwpLHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2soZSl9KSk7Y29uc3QgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLHRoaXMucmVtb3RlU0RQLnN0b3BSZWNlaXZpbmcoZSk7Y29uc3Qgbj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6bn0pfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgcmVjZWl2ZShlLHQsaSxuKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24ucmVjZWl2ZSBcIi5jb25jYXQoZSxcIiBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpKTtjb25zdHtpZDppLG1zbGFiZWw6cn09dGhpcy5yZW1vdGVTRFAuc2VuZChlLHQsbikscz1uZXcgdGcoKCh0LG4pPT57Y29uc3Qgcz1zZXRUaW1lb3V0KCgoKT0+e24obmV3IEVycm9yKFwiQ2Fubm90IHJlY2VpdmUgdHJhY2ssIGlkOiBcIi5jb25jYXQoaSkpKX0pLDFlNCksbz1uPT57Y29uc3QgYT1wZygpO2lmKChcIlNhZmFyaVwiPT09YS5uYW1lJiYxMT09PU51bWJlcihhLnZlcnNpb24pfHxDZygpKSYmbi50cmFjay5pZCE9PWkmJm4uc3RyZWFtc1swXS5pZD09PXIpe3ZhciBjO2NvbnN0IHI9bi5zdHJlYW1zWzBdLmdldFRyYWNrcygpWzBdO3JldHVybiBudWxsPT09KGM9dGhpcy5yZW1vdGVTRFApfHx2b2lkIDA9PT1jfHxjLnVwZGF0ZVRyYWNrTGFiZWwoZSxpLG4udHJhY2suaWQpLHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsbyksY2xlYXJUaW1lb3V0KHMpLHZvaWQgdChyKX1pZihuLnRyYWNrLmlkPT09aSlyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIixvKSxjbGVhclRpbWVvdXQocyksdm9pZCB0KG4udHJhY2spfTt0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLG8pfSkpLG89dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6b30pO2NvbnN0IGE9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oYSk7cmV0dXJue3RyYWNrOmF3YWl0IHMsaWQ6aX19Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnJlY2VpdmUgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHN0b3BSZWNlaXZpbmcoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BSZWNlaXZpbmcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7dGhpcy5yZW1vdGVTRFAuc3RvcFNlbmRpbmcoZSk7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3QgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24gc3RvcFJlY2VpdmluZyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgbXV0ZVJlbW90ZShlKXt9YXN5bmMgdW5tdXRlUmVtb3RlKGUpe31hc3luYyBtdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLm11dGVMb2NhbCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtjb25zdCB0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbHRlcigodD0+e3ZhciBpO3JldHVybi0xIT09ZS5pbmRleE9mKChudWxsPT09KGk9dC50cmFjayl8fHZvaWQgMD09PWk/dm9pZCAwOmkuaWQpfHxcIlwiKX0pKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInNlbmRlcicgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoLlwiKTt0Lm1hcCgoZT0+e2lmKFRnKCkmJmUudHJhY2spZS50cmFjay5lbmFibGVkPSExO2Vsc2V7Y29uc3QgdD1lLmdldFBhcmFtZXRlcnMoKTt0LmVuY29kaW5ncy5mb3JFYWNoKChlPT5lLmFjdGl2ZT0hMSkpLGUuc2V0UGFyYW1ldGVycyh0KX19KSl9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLm11dGVMb2NhbCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgdW5tdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmlsdGVyKCh0PT57dmFyIGk7cmV0dXJuLTEhPT1lLmluZGV4T2YoKG51bGw9PT0oaT10LnRyYWNrKXx8dm9pZCAwPT09aT92b2lkIDA6aS5pZCl8fFwiXCIpfSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiU2VuZGVycycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoLlwiKTt0Lm1hcCgoYXN5bmMgZT0+e2lmKFRnKCkmJmUudHJhY2spZS50cmFjay5lbmFibGVkPSEwO2Vsc2V7Y29uc3QgdD1lLmdldFBhcmFtZXRlcnMoKTt0LmVuY29kaW5ncy5mb3JFYWNoKChlPT5lLmFjdGl2ZT0hMCkpLGF3YWl0IGUuc2V0UGFyYW1ldGVycyh0KX19KSk7Y29uc3QgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpO2NvbnN0IG49dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm59KX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24udW5tdXRlTG9jYWwgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fXJlc3RhcnRJQ0UoZSl7dmFyIHQ9dGhpcztyZXR1cm4geFAoKGZ1bmN0aW9uKigpe2NvbnN0IGk9eWllbGQgVlAodC5tdXRleC5sb2NrKFwiRnJvbSBQMlBDb25uZWN0aW9uLnJlc3RhcnRJQ0VcIikpO3RyeXtpZighdC5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc3RhcnRJQ0UgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKTtpZihoQSgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24pe2NvbnN0IGk9dC5wZWVyQ29ubmVjdGlvbi5nZXRDb25maWd1cmF0aW9uKCksbj1lPT09bEkuUkVMQVk/XCJyZWxheVwiOlwiYWxsXCI7aS5pY2VUcmFuc3BvcnRQb2xpY3khPT1uJiYoV0MuZGVidWcoXCJbXCIuY29uY2F0KHQuc3RvcmUuY2xpZW50SWQsXCJdIHJlc3RhcnRJQ0UgY2hhbmdlIGljZVRyYW5zcG9ydFBvbGljeSBmcm9tIFtcIikuY29uY2F0KGkuaWNlVHJhbnNwb3J0UG9saWN5LFwiXSB0byBbXCIpLmNvbmNhdChuLFwiXVwiKSksaS5pY2VUcmFuc3BvcnRQb2xpY3k9bix0LnBlZXJDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24oaSkpfWVsc2UgaWYoZT09PWxJLlJFTEFZKXJldHVybjtlIT09bEkuUkVMQVkmJnQucmVtb3RlU0RQLnVwZGF0ZUNhbmRpZGF0ZXMoZSk7Y29uc3Qgbj15aWVsZCBWUCh0LnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKHtpY2VSZXN0YXJ0OiEwfSkpO2lmKCFuLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzdGFydElDRSBiZWNhdXNlIHJlc3RhcnQgb2ZmZXIgU0RQIGRvZXMgbm90IGV4aXN0LlwiKTtjb25zdCByPVlQKG4uc2RwKSx7cmVtb3RlSWNlUGFyYW1ldGVyczpzfT15aWVsZCByLmljZVBhcmFtZXRlcnM7dC5yZW1vdGVTRFAucmVzdGFydElDRShzKTtjb25zdCBvPXQucmVtb3RlU0RQLnRvU3RyaW5nKCk7eWllbGQgVlAodC5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pKSx5aWVsZCBWUCh0LnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm99KSl9Y2F0Y2goZSl7V0Mud2FybmluZyhcIltcIi5jb25jYXQodC5zdG9yZS5jbGllbnRJZCxcIl0gcmVzdGFydCBJQ0UgZmFpbGVkLCBhYm9ydCBvcGVyYXRpb25cIiksZSl9ZmluYWxseXtpKCl9fSkpKCl9Y2xvc2UoKXt2YXIgZTt0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCksbnVsbD09PShlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyxcImNsb3NlZFwiKSx0aGlzLnVuYmluZFBDRXZlbnRzKCksdGhpcy51bmJpbmRTdGF0c0V2ZW50cygpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5zdGF0c0ZpbHRlci5kZXN0cm95KCl9Z2V0U3RhdHMoKXtyZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRTdGF0cygpfWdldFJlbW90ZVZpZGVvSXNSZWFkeShlKXtyZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRWaWRlb0lzUmVhZHkoZSl9YXN5bmMgdXBkYXRlRW5jb2RlckNvbmZpZyhlLHQpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi51cGRhdGVFbmNvZGVyQ29uZmlnIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IGU9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLGk9dGhpcy5tdW5nU2VuZE9mZmVyU0RQKGUuc2RwLFt0XSk7dGhpcy5yZW1vdGVTRFAudXBkYXRlUmVjdk1lZGlhKHQuX21lZGlhU3RyZWFtVHJhY2sua2luZCx0KTtjb25zdCBuPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6aX0pLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6bn0pfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELGUudG9TdHJpbmcoKSl9fWFzeW5jIHVwZGF0ZVNlbmRQYXJhbWV0ZXJzKGUsdCl7Y29uc3QgaT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maWx0ZXIoKHQ9Pnt2YXIgaTtyZXR1cm4obnVsbD09PShpPXQudHJhY2spfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmlkKT09PWV9KSk7MT09PWkubGVuZ3RoJiZhd2FpdCB0aGlzLmFwcGx5U2VuZEVuY29kaW5ncyhpLFt0XSl9c2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkoZSx0KXt0aGlzLnN0YXRzRmlsdGVyLnNldFZpZGVvSXNSZWFkeTIoZSx0KX1hc3luYyByZXBsYWNlVHJhY2soZSx0KXtjb25zdCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbmQoKGU9Pnt2YXIgaTtyZXR1cm4obnVsbD09PShpPWUudHJhY2spfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmlkKT09PXR9KSk7aSYmYXdhaXQgaS5yZXBsYWNlVHJhY2soZS5fbWVkaWFTdHJlYW1UcmFjayl9Y3JlYXRlRGF0YUNoYW5uZWxzKGUsdCl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJQbGFuYiBtb2RlIGRvZXMgbm90IHN1cHBvcnQgY3JlYXRlRGF0YUNoYW5uZWxzLlwiKX1zdG9wRGF0YUNoYW5uZWxzKGUpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiUGxhbmIgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IHN0b3BEYXRhQ2hhbm5lbHMuXCIpfWJpbmRQQ0V2ZW50cygpe3RoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9KCk9Pnt2YXIgZTtudWxsPT09KGU9dGhpcy5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKX0sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlO251bGw9PT0oZT10aGlzLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGUpfSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPWU9PntlLmNhbmRpZGF0ZT90aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQrPTE6KHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZD0hMCxXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCkpfSxzZXRUaW1lb3V0KCgoKT0+e3RoaXMuYWxsQ2FuZGlkYXRlc1JlY2VpdmVkfHwodGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWQ9ITAsV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwYy1cIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIG9uaWNlY2FuZGlkYXRlIHRpbWVvdXQsIGxvY2FsIGNhbmRpZGF0ZSBjb3VudFwiKSx0aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQpKX0pLGtDKFwiQ0FORElEQVRFX1RJTUVPVVRcIikpfXVuYmluZFBDRXZlbnRzKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25jb25uZWN0aW9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlZXJyb3I9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbnRyYWNrPW51bGx9c3RhdGljIHJlc29sdmVQQ0NvbmZpZ3VyYXRpb24oZSl7Y29uc3QgdD17aWNlU2VydmVyczpbXSxzZHBTZW1hbnRpY3M6XCJwbGFuLWJcIn07cmV0dXJuIGUuaWNlU2VydmVycz90LmljZVNlcnZlcnM9ZS5pY2VTZXJ2ZXJzOmUudHVyblNlcnZlciYmXCJvZmZcIiE9PWUudHVyblNlcnZlci5tb2RlJiYoX1MoZS50dXJuU2VydmVyLnNlcnZlcnMpP3QuaWNlU2VydmVycz1lLnR1cm5TZXJ2ZXIuc2VydmVyczoodC5pY2VTZXJ2ZXJzJiZ0LmljZVNlcnZlcnMucHVzaCguLi5ETC50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUudHVyblNlcnZlci5zZXJ2ZXJzKSksa0MoXCJVU0VfVFVSTl9TRVJWRVJfT0ZfR0FURVdBWVwiKSYmdC5pY2VTZXJ2ZXJzJiZlLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5JiZ0LmljZVNlcnZlcnMucHVzaCguLi5ETC50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkpKSxlLnR1cm5TZXJ2ZXIuc2VydmVycy5jb25jYXQoZS50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheXx8W10pLmZvckVhY2goKGU9PntlLmZvcmNldHVybiYmKHQuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIil9KSkpKSx0fXN0YXRpYyB0dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUpe2NvbnN0IHQ9W107cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2Uuc2VjdXJpdHk/ZS50Y3Bwb3J0JiZ0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybnM6XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGUudGNwcG9ydCxcIj90cmFuc3BvcnQ9dGNwXCIpfSk6KGUudWRwcG9ydCYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGUudWRwcG9ydCxcIj90cmFuc3BvcnQ9dWRwXCIpfSksZS50Y3Bwb3J0JiZ0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoZS50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoZS50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KSl9KSksdH1hc3luYyB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MoZSx0KXt2YXIgaTtpZighdCl7dD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maW5kKCh0PT57dmFyIGk7cmV0dXJuKG51bGw9PT0oaT10LnRyYWNrKXx8dm9pZCAwPT09aT92b2lkIDA6aS5pZCk9PT1lLl9tZWRpYVN0cmVhbVRyYWNrLmlkfSkpfWlmKCF0KXJldHVybiBXQy53YXJuKFwiW1wiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gbm8gcnRwU2VuZGVyIGZvdW5kfVwiKSk7aWYoIWhBKCkuc3VwcG9ydFNldFJ0cFNlbmRlclBhcmFtZXRlcnMpcmV0dXJuIFdDLndhcm4oXCJCcm93c2VyIG5vdCBzdXBwb3J0IHNldCBydHAtc2VuZGVyIHBhcmFtZXRlcnNcIik7Y29uc3Qgbj17fSxyPXt9O2lmKGUgaW5zdGFuY2VvZiBmYilzd2l0Y2goZS5fb3B0aW1pemF0aW9uTW9kZSl7Y2FzZVwibW90aW9uXCI6bi5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1mcmFtZXJhdGVcIjticmVhaztjYXNlXCJkZXRhaWxcIjpuLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cIm1haW50YWluLXJlc29sdXRpb25cIjticmVhaztkZWZhdWx0Om4uZGVncmFkYXRpb25QcmVmZXJlbmNlPVwiYmFsYW5jZWRcIn1pZihrQyhcIkRTQ1BfVFlQRVwiKSYma2coKSl7dmFyIHM7Y29uc3QgZT1rQyhcIkRTQ1BfVFlQRVwiKTtQcihzPVtcInZlcnktbG93XCIsXCJsb3dcIixcIm1lZGl1bVwiLFwiaGlnaFwiXSkuY2FsbChzLGUpJiYoci5uZXR3b3JrUHJpb3JpdHk9ZSl9Y29uc3Qgbz10LmdldFBhcmFtZXRlcnMoKSxhPW51bGw9PT0oaT1vLmVuY29kaW5ncyl8fHZvaWQgMD09PWk/dm9pZCAwOmlbMF07YSYmT2JqZWN0LmFzc2lnbihhLHIpLE9iamVjdC5hc3NpZ24obyxuKSxXQy5kZWJ1ZyhcIltcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5nczogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShvLmVuY29kaW5ncykpKSxhd2FpdCB0LnNldFBhcmFtZXRlcnMobyl9YXN5bmMgYXBwbHlTZW5kRW5jb2RpbmdzKGUsdCl7dHJ5e2lmKCFoQSgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybjtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybjtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbj1lW2ldLHI9dFtpXTtuJiZyJiZhd2FpdCB0aGlzLnVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhyLG4pfX1jYXRjaChlKXtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gQXBwbHkgUlRQU2VuZEVuY29kaW5ncyBmYWlsZWQuXCIpKX19bXVuZ1NlbmRPZmZlclNEUChlLHQpe2NvbnN0IGk9R1AucGFyc2UoZSk7cmV0dXJuIHQuZm9yRWFjaCgoKGUsdCk9Pntjb25zdCBuPWUuX21lZGlhU3RyZWFtVHJhY2sscj1pLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKGU9PmUuYXR0cmlidXRlcy5taWQ9PT1uLmtpbmQpKTtyJiZYUChyLGUpfSkpLEdQLnByaW50KGkpfWJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvRGVjb2RlZD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWQ9KGUsdCxpKT0+e3ZhciBuO251bGw9PT0obj10aGlzLm9uRmlyc3RWaWRlb0RlY29kZWQpfHx2b2lkIDA9PT1ufHxuLmNhbGwodGhpcyxlLHQsaSl9LHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO251bGw9PT0oaT10aGlzLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyxlLHQpfSx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPShlLHQpPT57dmFyIGk7bnVsbD09PShpPXRoaXMub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyxlLHQpfX11bmJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwfWFzeW5jIGJhdGNoUmVjZWl2ZShlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uYmF0Y2hSZWNlaXZlIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIik7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC5iYXRjaFNlbmQoZSkubWFwKCgodCxpKT0+e2xldHtpZDpuLG1zbGFiZWw6cn09dDtjb25zdHtraW5kOnN9PWVbaV07cmV0dXJuIG5ldyB0ZygoKGUsdCk9Pntjb25zdCBpPXNldFRpbWVvdXQoKCgpPT57dChuZXcgRXJyb3IoXCJDYW5ub3QgcmVjZWl2ZSB0cmFjaywgaWQ6IFwiLmNvbmNhdChuKSkpfSksMWU0KSxvPXQ9Pntjb25zdCBhPXBnKCk7aWYoXCJTYWZhcmlcIj09PWEubmFtZSYmMTE9PT1OdW1iZXIoYS52ZXJzaW9uKSYmdC50cmFjay5pZCE9PW4mJnQuc3RyZWFtc1swXS5pZD09PXIpe3ZhciBjO2NvbnN0IHI9dC5zdHJlYW1zWzBdLmdldFRyYWNrcygpWzBdO3JldHVybiBudWxsPT09KGM9dGhpcy5yZW1vdGVTRFApfHx2b2lkIDA9PT1jfHxjLnVwZGF0ZVRyYWNrTGFiZWwocyxuLHQudHJhY2suaWQpLHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsbyksY2xlYXJUaW1lb3V0KGkpLHZvaWQgZSh7dHJhY2s6cixpZDpufSl9aWYodC50cmFjay5pZD09PW4pcmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsbyksY2xlYXJUaW1lb3V0KGkpLHZvaWQgZSh7dHJhY2s6dC50cmFjayxpZDpufSl9O3RoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsbyl9KSl9KSksaT10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDppfSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO3JldHVybiBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obiksYXdhaXQgdGcuYWxsKHQpfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5yZWNlaXZlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBnZXRSZW1vdGVTU1JDKGUpe2lmKCF0aGlzLnJlbW90ZVNEUClyZXR1cm47Y29uc3QgdD10aGlzLnJlbW90ZVNEUC5nZXRTU1JDKGUpO3JldHVybiBudWxsPT10P3ZvaWQgMDp0WzBdLnNzcmNJZH1zZXRDb25maWd1cmF0aW9uKGUpe2lmKGhBKCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbil7Y29uc3QgdD1ETC5yZXNvbHZlUENDb25maWd1cmF0aW9uKGUpO3RoaXMucGVlckNvbm5lY3Rpb24uc2V0Q29uZmlndXJhdGlvbih0KX19fWZ1bmN0aW9uIFBMKGUsdCxpKXtjb25zdCBuPWVbdF07aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIG11dGV4IG9uIG9iamVjdCBwcm9wZXJ0eS5cIik7cmV0dXJuIGkudmFsdWU9YXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMubXV0ZXgsaT1hd2FpdCBlLmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ29ubmVjdGlvbi5cIi5jb25jYXQodCkpO3RyeXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxzPW5ldyBBcnJheShyKSxvPTA7bzxyO28rKylzW29dPWFyZ3VtZW50c1tvXTtyZXR1cm4gYXdhaXQgbi5hcHBseSh0aGlzLHMpfWZpbmFsbHl7aSgpfX0saX1mdW5jdGlvbiBMTChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24ga0woZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/TEwoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6TEwoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9THYoW1BMLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsT2JqZWN0LEFycmF5LE9iamVjdCxTdHJpbmcsU3RyaW5nXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sREwucHJvdG90eXBlLFwiY29ubmVjdFwiLG51bGwpLEx2KFtQTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxETC5wcm90b3R5cGUsXCJzdG9wU2VuZGluZ1wiLG51bGwpLEx2KFtQTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nLEFycmF5LFN0cmluZyxPYmplY3RdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxETC5wcm90b3R5cGUsXCJyZWNlaXZlXCIsbnVsbCksTHYoW1BMLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLERMLnByb3RvdHlwZSxcInN0b3BSZWNlaXZpbmdcIixudWxsKSxMdihbUEwsa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLERMLnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIixudWxsKSxMdihbUEwsa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLERMLnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiLG51bGwpLEx2KFtQTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxETC5wcm90b3R5cGUsXCJtdXRlTG9jYWxcIixudWxsKSxMdihbUEwsa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sREwucHJvdG90eXBlLFwidW5tdXRlTG9jYWxcIixudWxsKSxMdihbUEwsa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxETC5wcm90b3R5cGUsXCJjbG9zZVwiLG51bGwpLEx2KFtQTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nLCR5XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sREwucHJvdG90eXBlLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiLG51bGwpLEx2KFtQTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nLCR5XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sREwucHJvdG90eXBlLFwidXBkYXRlU2VuZFBhcmFtZXRlcnNcIixudWxsKSxMdihbUEwsa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsWyR5LFN0cmluZ10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLERMLnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiLG51bGwpLEx2KFtQTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sREwucHJvdG90eXBlLFwiZ2V0UmVtb3RlU1NSQ1wiLG51bGwpO2NvbnN0IE1MPVwiOVwiLFVMPTRlNDtmdW5jdGlvbiB4TChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gVkwoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/eEwoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6eEwoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9bGV0IEZMPWNsYXNzIGUgZXh0ZW5kcyBOSXtnZXQgY3VycmVudExvY2FsRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50TG9jYWxEZXNjcmlwdGlvbn1nZXQgY3VycmVudFJlbW90ZURlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudFJlbW90ZURlc2NyaXB0aW9ufWdldCBwZWVyQ29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlfWdldCBpY2VDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGV9Z2V0IGR0bHNUcmFuc3BvcnRTdGF0ZSgpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRSZWNlaXZlcnMoKVswXSl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LnRyYW5zcG9ydCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc3RhdGUpJiZ2b2lkIDAhPT1lP2U6bnVsbH1jb25zdHJ1Y3Rvcih0LGkpe3N1cGVyKHQsaSksbnUodGhpcyxcInN0b3JlXCIsdm9pZCAwKSxudSh0aGlzLFwicGVlckNvbm5lY3Rpb25cIix2b2lkIDApLG51KHRoaXMsXCJyZW1vdGVTRFBcIix2b2lkIDApLG51KHRoaXMsXCJpbml0aWFsT2ZmZXJcIix2b2lkIDApLG51KHRoaXMsXCJ0cmFuc3BvcnRFdmVudFJlY2VpdmVyXCIsdm9pZCAwKSxudSh0aGlzLFwic3RhdHNGaWx0ZXJcIix2b2lkIDApLG51KHRoaXMsXCJ1c2VYUlwiLGtDKFwiVVNFX1hSXCIpKSxudSh0aGlzLFwibG9jYWxDYXBhYmlsaXRpZXNcIix2b2lkIDApLG51KHRoaXMsXCJsb2NhbENhbmRpZGF0ZUNvdW50XCIsMCksbnUodGhpcyxcImFsbENhbmRpZGF0ZXNSZWNlaXZlZFwiLCExKSxudSh0aGlzLFwiZGF0YVN0cmVhbUNoYW5uZWxNYXBcIixuZXcgTWFwKSxudSh0aGlzLFwiZXN0YWJsaXNoUHJvbWlzZVwiLHZvaWQgMCksbnUodGhpcyxcIm11dGV4XCIsbmV3IFlTKFwiUDJQQ29ubmVjdGlvbi1tdXRleFwiKSksdGhpcy5zdG9yZT1pLHRoaXMucGVlckNvbm5lY3Rpb249bmV3IFJUQ1BlZXJDb25uZWN0aW9uKGUucmVzb2x2ZVBDQ29uZmlndXJhdGlvbih0KSx7b3B0aW9uYWw6W3tnb29nRHNjcDohMH1dfSksdGhpcy5zdGF0c0ZpbHRlcj13TCh0aGlzLnBlZXJDb25uZWN0aW9uLGtDKFwiU1RBVFNfVVBEQVRFX0lOVEVSVkFMXCIpLHZvaWQgMCxSZygpPzEyMDA6dm9pZCAwKSx0aGlzLmJpbmRQQ0V2ZW50cygpLHRoaXMuYmluZFN0YXRzRXZlbnRzKCksdGhpcy5zdG9yZS5wMnBJZD10aGlzLnN0b3JlLnAycElkKzEsdGhpcy5lc3RhYmxpc2hQcm9taXNlPXRoaXMuZXN0YWJsaXNoKCl9YXN5bmMgZXN0YWJsaXNoKCl7dHJ5e3RoaXMucGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiLHtkaXJlY3Rpb246XCJyZWN2b25seVwifSksdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KTtjb25zdCBlPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKTtpZighZS5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBpbml0aWFsT2ZmZXIuc2RwIHdoZW4gdHJ5aW5nIHRvIGVzdGFibGlzaCBQZWVyQ29ubmVjdGlvbi5cIik7Y29uc3QgdD1ZUChlLnNkcCksaT1hd2FpdCBpTCh7ZmlsdGVyUlRYOiFrQyhcIlVTRV9QVUJfUlRYXCIpJiYha0MoXCJVU0VfU1VCX1JUWFwiKSxmaWx0ZXJWaWRlb0ZlYzprQyhcIkZJTFRFUl9WSURFT19GRUNcIiksZmlsdGVyQXVkaW9GZWM6a0MoXCJGSUxURVJfQVVESU9fRkVDXCIpfSx7dXNlWFI6dGhpcy51c2VYUn0pO3JldHVybiB0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzPXJMKGkpLHRoaXMuaW5pdGlhbE9mZmVyPWUsVkwoVkwoe30sdCkse30se3J0cENhcGFiaWxpdGllczppLG9mZmVyU0RQOmUuc2RwfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkdFVF9MT0NBTF9DT05ORUNUSU9OX1BBUkFNU19GQUlMRUQsZS50b1N0cmluZygpKX19YXN5bmMgY29ubmVjdChlLHQsaSxuLHIscyl7dHJ5e2lmKCF0aGlzLmluaXRpYWxPZmZlcil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZXN0YWJsaXNoIFAyUENvbm5lY3Rpb24gd2l0aG91dCBpbml0aWFsIG9mZmVyLlwiKTt0aGlzLnJlbW90ZVNEUD1uZXcgY2xhc3N7Z2V0IGxvY2FsQ2FwYWJpbGl0aWVzKCl7cmV0dXJuIGJTKHRoaXMuX2xvY2FsQ2FwYWJpbGl0aWVzKX1nZXQgcnRwQ2FwYWJpbGl0aWVzKCl7cmV0dXJuIGJTKHRoaXMuX3J0cENhcGFiaWxpdGllcyl9Z2V0IGNhbmRpZGF0ZXMoKXtyZXR1cm4gYlModGhpcy5fY2FuZGlkYXRlcyl9Z2V0IGljZVBhcmFtZXRlcnMoKXtyZXR1cm4gYlModGhpcy5faWNlUGFyYW1ldGVycyl9Z2V0IGR0bHNQYXJhbWV0ZXJzKCl7cmV0dXJuIGJTKHRoaXMuX2R0bHNQYXJhbWV0ZXJzKX1jb25zdHJ1Y3RvcihlKXtudSh0aGlzLFwic2Vzc2lvbkRlc2NcIix2b2lkIDApLG51KHRoaXMsXCJfbG9jYWxDYXBhYmlsaXRpZXNcIix2b2lkIDApLG51KHRoaXMsXCJfcnRwQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxudSh0aGlzLFwiX2NhbmRpZGF0ZXNcIix2b2lkIDApLG51KHRoaXMsXCJfaWNlUGFyYW1ldGVyc1wiLHZvaWQgMCksbnUodGhpcyxcIl9kdGxzUGFyYW1ldGVyc1wiLHZvaWQgMCksbnUodGhpcyxcInNldHVwXCIsdm9pZCAwKSxudSh0aGlzLFwiY3VycmVudE1pZEluZGV4XCIsdm9pZCAwKSxudSh0aGlzLFwiY25hbWVcIix2b2lkIDApLG51KHRoaXMsXCJmaXJlZm94U3NyY01pZE1hcFwiLG5ldyBNYXApLGU9YlMoZSk7Y29uc3R7cmVtb3RlSWNlUGFyYW1ldGVyczp0LHJlbW90ZUR0bHNQYXJhbWV0ZXJzOmksY2FuZGlkYXRlczpuLHJlbW90ZVJUUENhcGFiaWxpdGllczpyLHJlbW90ZVNldHVwOnMsbG9jYWxDYXBhYmlsaXRpZXM6byxjbmFtZTphfT1lLGM9R1AucGFyc2UoXCJ2PTBcXG5vPS0gMCAwIElOIElQNCAxMjcuMC4wLjFcXG5zPUFnb3JhR2F0ZXdheVxcbnQ9MCAwXFxuYT1ncm91cDpCVU5ETEUgMCAxXFxuYT1tc2lkLXNlbWFudGljOiBXTVNcXG5hPWljZS1saXRlXFxubT12aWRlbyA5IFVEUC9UTFMvUlRQL1NBVlBGIDBcXG5jPUlOIElQNCAxMjcuMC4wLjFcXG5hPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxcbmE9c2VuZG9ubHlcXG5hPXJ0Y3AtbXV4XFxuYT1ydGNwLXJzaXplXFxuYT1taWQ6MFxcbm09YXVkaW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXFxuYz1JTiBJUDQgMTI3LjAuMC4xXFxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXG5hPXNlbmRvbmx5XFxuYT1ydGNwLW11eFxcbmE9cnRjcC1yc2l6ZVxcbmE9bWlkOjFcXG5cIik7dGhpcy5fcnRwQ2FwYWJpbGl0aWVzPXIsdGhpcy5fY2FuZGlkYXRlcz1uLHRoaXMuX2ljZVBhcmFtZXRlcnM9dCx0aGlzLl9kdGxzUGFyYW1ldGVycz1pLHRoaXMuX2xvY2FsQ2FwYWJpbGl0aWVzPW8sdGhpcy5zZXR1cD1zLHRoaXMuY25hbWU9YTtjb25zdCBkPXRoaXMucnRwQ2FwYWJpbGl0aWVzLnNlbmQ7Zm9yKGNvbnN0IGUgb2YgYy5tZWRpYURlc2NyaXB0aW9ucyl7aWYoZS5hdHRyaWJ1dGVzLmljZVVmcmFnPXQuaWNlVWZyYWcsZS5hdHRyaWJ1dGVzLmljZVB3ZD10LmljZVB3ZCxlLmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzPWkuZmluZ2VycHJpbnRzLGUuYXR0cmlidXRlcy5jYW5kaWRhdGVzPW4sZS5hdHRyaWJ1dGVzLnNldHVwPXMsXCJ2aWRlb1wiPT09ZS5tZWRpYS5tZWRpYVR5cGUmJihlLm1lZGlhLmZtdHM9ZC52aWRlb0NvZGVjcy5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzPWQudmlkZW9Db2RlY3MsZS5hdHRyaWJ1dGVzLmV4dG1hcHM9ZC52aWRlb0V4dGVuc2lvbnMsa0MoXCJQUkVMT0FEX01FRElBX0NPVU5UXCIpPjApKXtjb25zdHtzc3Jjczp0LHNzcmNHcm91cHM6aX09elAoW3tzc3JjSWQ6VUwscnR4OmtDKFwiVVNFX1NVQl9SVFhcIik/NDAwMDE6dm9pZCAwfV0sdGhpcy5jbmFtZSk7ZS5hdHRyaWJ1dGVzLnNzcmNzPXQsZS5hdHRyaWJ1dGVzLnNzcmNHcm91cHM9aX1pZihcImF1ZGlvXCI9PT1lLm1lZGlhLm1lZGlhVHlwZSYmKGUubWVkaWEuZm10cz1kLmF1ZGlvQ29kZWNzLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKSxlLmF0dHJpYnV0ZXMucGF5bG9hZHM9ZC5hdWRpb0NvZGVjcyxlLmF0dHJpYnV0ZXMuZXh0bWFwcz1kLmF1ZGlvRXh0ZW5zaW9ucyxzTChlKSxrQyhcIlBSRUxPQURfTUVESUFfQ09VTlRcIik+MCkpe2NvbnN0e3NzcmNzOnQsc3NyY0dyb3VwczppfT16UChbe3NzcmNJZDoyZTR9XSx0aGlzLmNuYW1lKTtlLmF0dHJpYnV0ZXMuc3NyY3M9dCxlLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1pfX10aGlzLnNlc3Npb25EZXNjPWMsdGhpcy5jdXJyZW50TWlkSW5kZXg9Yy5tZWRpYURlc2NyaXB0aW9ucy5sZW5ndGgtMX1wcmVsb2FkUmVtb3RlTWVkaWEoKXtjb25zdCBlPWtDKFwiUFJFTE9BRF9NRURJQV9DT1VOVFwiKTt0aGlzLnJ0cENhcGFiaWxpdGllcztjb25zdCB0PXRoaXMuY2FuZGlkYXRlcyxpPXRoaXMuZHRsc1BhcmFtZXRlcnMsbj10aGlzLmljZVBhcmFtZXRlcnMscj10aGlzLnJ0cENhcGFiaWxpdGllcy5zZW5kO2ZvcihsZXQgcz0xO3M8ZTtzKyspe2NvbnN0IGU9MipzKzJlNCxvPTIqcytVTCx7c3NyY3M6YSxzc3JjR3JvdXBzOmN9PXpQKFt7c3NyY0lkOmV9XSx0aGlzLmNuYW1lKSx7c3NyY3M6ZCxzc3JjR3JvdXBzOmx9PXpQKFt7c3NyY0lkOm8scnR4OmtDKFwiVVNFX1NVQl9SVFhcIik/bysxOnZvaWQgMH1dLHRoaXMuY25hbWUpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMucHVzaCh7bWVkaWE6e21lZGlhVHlwZTpcInZpZGVvXCIscG9ydDpNTCxwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czpyLnZpZGVvQ29kZWNzLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6bi5pY2VVZnJhZyxpY2VQd2Q6bi5pY2VQd2QsdW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6dCxleHRtYXBzOnIudmlkZW9FeHRlbnNpb25zLGZpbmdlcnByaW50czppLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczpkLHNzcmNHcm91cHM6bCxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6ci52aWRlb0NvZGVjcyxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246XCJzZW5kb25seVwiLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpcIlwiLmNvbmNhdCgyKnMpfX0pLHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMucHVzaCh7bWVkaWE6e21lZGlhVHlwZTpcImF1ZGlvXCIscG9ydDpNTCxwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czpyLmF1ZGlvQ29kZWNzLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6bi5pY2VVZnJhZyxpY2VQd2Q6bi5pY2VQd2QsdW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6dCxleHRtYXBzOnIuYXVkaW9FeHRlbnNpb25zLGZpbmdlcnByaW50czppLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczphLHNzcmNHcm91cHM6YyxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6ci5hdWRpb0NvZGVjcyxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246XCJzZW5kb25seVwiLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpcIlwiLmNvbmNhdCgyKnMrMSl9fSksdGhpcy5jdXJyZW50TWlkSW5kZXgrPTJ9dGhpcy51cGRhdGVCdW5kbGVNaWRzKCl9dG9TdHJpbmcoKXtyZXR1cm4gR1AucHJpbnQodGhpcy5zZXNzaW9uRGVzYyl9c2VuZChlLHQsaSxuKXtjb25zdHtzc3JjczpyLHNzcmNHcm91cHM6c309elAodCx0aGlzLmNuYW1lLGtDKFwiU1lOQ19HUk9VUFwiKT9pOnZvaWQgMCksbz10aGlzLmZpbmRQcmVsb2FkTWVkaWFEZXNjKHIpO2lmKG8pe2lmKFJnKCkmJnRoaXMuZmlyZWZveFNzcmNNaWRNYXAuc2V0KHJbMF0uc3NyY0lkLG8uYXR0cmlidXRlcy5taWQpLG4mJihuLnR3Y2N8fG4ucmVtYikpe2NvbnN0IGU9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5pbmRleE9mKG8pO3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2VdPXRoaXMubXVuZ1NlbmRNZWRpYURlc2MobyxuKSx7bWlkOm8uYXR0cmlidXRlcy5taWQsbmVlZEV4Y2hhbmdlU0RQOiEwfX1yZXR1cm57bWlkOm8uYXR0cmlidXRlcy5taWQsbmVlZEV4Y2hhbmdlU0RQOiExfX17Y29uc3QgdD10aGlzLmZpbmRBdmFpbGFibGVNZWRpYUluZGV4KGUscik7bGV0IGk7cmV0dXJuLTE9PT10fHwxPT09dCYmKFRnKCl8fEFnKCkpfHwwPT09dCYma0MoXCJVU0VfU1VCX1JUWFwiKXx8YmcoKT8oaT10aGlzLmNyZWF0ZU9yUmVjeWNsZVNlbmRNZWRpYShlLHIscyxcInNlbmRvbmx5XCIsbiksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCkpOihpPWJTKHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbdF0pLGkuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJzZW5kb25seVwiLGkuYXR0cmlidXRlcy5zc3Jjcz1yLGkuYXR0cmlidXRlcy5zc3JjR3JvdXBzPXMsdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1t0XT10aGlzLm11bmdTZW5kTWVkaWFEZXNjKGksbikpLFJnKCkmJnRoaXMuZmlyZWZveFNzcmNNaWRNYXAuc2V0KHJbMF0uc3NyY0lkLGkuYXR0cmlidXRlcy5taWQpLHttaWQ6aS5hdHRyaWJ1dGVzLm1pZCxuZWVkRXhjaGFuZ2VTRFA6ITB9fX1zZW5kRGF0YUNoYW5uZWwoKXtjb25zdHttZWRpYURlc2M6ZSxuZWVkRXhjaGFuZ2VTRFA6dH09dGhpcy5jcmVhdGVPclJlY3ljbGVEYXRhQ2hhbm5lbCgpO3JldHVybiB0aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKSx7bWlkOmUuYXR0cmlidXRlcy5taWQsbmVlZEV4Y2hhbmdlU0RQOnR9fWJhdGNoU2VuZChlKXtjb25zdCB0PWUubWFwKChlPT57bGV0e2tpbmQ6dCxzc3JjTXNnOmksbXNsYWJlbDpufT1lO3JldHVybiB0aGlzLnNlbmQodCxpLG4pfSkpLGk9W107bGV0IG49ITE7cmV0dXJuIHQuZm9yRWFjaCgoZT0+e2xldHttaWQ6dCxuZWVkRXhjaGFuZ2VTRFA6cn09ZTtyJiYobj0hMCksaS5wdXNoKHQpfSkpLHttaWRzOmksbmVlZEV4Y2hhbmdlU0RQOm59fXN0b3BTZW5kaW5nKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoKHQ9PnQuYXR0cmlidXRlcy5taWQmJi0xIT09ZS5pbmRleE9mKHQuYXR0cmlidXRlcy5taWQpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAuc3RvcFNlbmRpbmcuXCIpO3QuZm9yRWFjaCgoZT0+e1wiMFwiPT09ZS5hdHRyaWJ1dGVzLm1pZHx8UmcoKXx8YmcoKT9lLmF0dHJpYnV0ZXMuc3NyY3M9W106KGUuYXR0cmlidXRlcy5zc3Jjcz1bXSxlLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIixlLm1lZGlhLnBvcnQ9XCIwXCIpfSkpLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpfW11dGUoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbiBub3QgZm91bmQgd2l0aCBcIi5jb25jYXQoZSxcIiBpbiByZW1vdGUgU0RQIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAubXV0ZS5cIikpO3QuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwifXVubXV0ZShlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9uIG5vdCBmb3VuZCB3aXRoIFwiLmNvbmNhdChlLFwiIGluIHJlbW90ZSBTRFAgd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC51bm11dGUuXCIpKTt0LmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwic2VuZG9ubHlcIn1tdXRlUmVtb3RlKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoKHQ9PlByKGUpLmNhbGwoZSx0LmF0dHJpYnV0ZXMubWlkfHxcIlwiKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLm11dGVSZW1vdGUuXCIpO3QuZm9yRWFjaCgoZT0+e2UuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwifSkpfXVubXV0ZVJlbW90ZShlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKCh0PT5QcihlKS5jYWxsKGUsdC5hdHRyaWJ1dGVzLm1pZHx8XCJcIikpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5tdXRlUmVtb3RlLlwiKTt0LmZvckVhY2goKGU9PntlLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwicmVjdm9ubHlcIn0pKX1yZWNlaXZlKGUsdCxpLG4pe2UuZm9yRWFjaCgoKGUscik9Pnt0aGlzLmNyZWF0ZU9yUmVjeWNsZVJlY3ZNZWRpYShlLFtdLFwicmVjdm9ubHlcIix0LGksbltyXSl9KSksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCl9c3RvcFJlY2VpdmluZyhlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKCh0PT4tMSE9PWUuaW5kZXhPZih0LmF0dHJpYnV0ZXMubWlkKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiTWVkaWFEZXNjcmlwdGlvbnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMncyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5yZWNlaXZlLlwiKTt0LmZvckVhY2goKGU9PntlLm1lZGlhLnBvcnQ9XCIwXCIsZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCJ9KSksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCl9dXBkYXRlQ2FuZGlkYXRlcyhlKXtjb25zdCB0PXRoaXMuX2NhbmRpZGF0ZXMuZmlsdGVyKChlPT5cInVkcFwiPT09ZS50cmFuc3BvcnQpKTtpZihlPT09bEkuVENQKXtpZigwPT09dC5sZW5ndGgpcmV0dXJuO2lmKGtDKFwiVENQX0NBTkRJREFURV9PTkxZXCIpKXtjb25zdCBlPXRoaXMuX2NhbmRpZGF0ZXMuZmlsdGVyKChlPT5cInRjcFwiPT09ZS50cmFuc3BvcnQpKTt0LmZvckVhY2goKHQ9PnstMT09PWUuZmluZEluZGV4KChlPT5lLmNvbm5lY3Rpb25BZGRyZXNzPT09dC5jb25uZWN0aW9uQWRkcmVzcykpJiZlLnB1c2goa0woa0woe30sdCkse30se2ZvdW5kYXRpb246XCJ0Y3BjYW5kaWRhdGVcIixwcmlvcml0eTpOdW1iZXIodC5wcmlvcml0eSktMStcIlwiLHRyYW5zcG9ydDpcInRjcFwiLHBvcnQ6TnVtYmVyKHQucG9ydCkrOTArXCJcIn0pKX0pKSx0aGlzLl9jYW5kaWRhdGVzPWV9ZWxzZXtjb25zdCBlPVtdO3QuZm9yRWFjaCgodD0+e2UucHVzaChrTChrTCh7fSx0KSx7fSx7Zm91bmRhdGlvbjpcInRjcGNhbmRpZGF0ZVwiLHByaW9yaXR5Ok51bWJlcih0LnByaW9yaXR5KS0xK1wiXCIsdHJhbnNwb3J0OlwidGNwXCIscG9ydDpOdW1iZXIodC5wb3J0KSs5MCtcIlwifSkpfSkpLHRoaXMuX2NhbmRpZGF0ZXM9Wy4uLnQsLi4uZV19fWVsc2UgaWYoZT09PWxJLlJFTEFZKXtpZigwIT09dC5sZW5ndGgpcmV0dXJuO3tjb25zdCBlPXRoaXMuX2NhbmRpZGF0ZXMuZmlsdGVyKChlPT5cInRjcFwiPT09ZS50cmFuc3BvcnQpKTtlLmZvckVhY2goKGU9Pnt0LnB1c2goa0woa0woe30sZSkse30se2ZvdW5kYXRpb246XCJ1ZHBjYW5kaWRhdGVcIixwcmlvcml0eTpOdW1iZXIoZS5wcmlvcml0eSkrMStcIlwiLHRyYW5zcG9ydDpcInVkcFwiLHBvcnQ6TnVtYmVyKGUucG9ydCktOTArXCJcIn0pKX0pKSx0aGlzLl9jYW5kaWRhdGVzPVsuLi50LC4uLmVdfX1lbHNlIDA9PT10Lmxlbmd0aD8odGhpcy5fY2FuZGlkYXRlcy5maWx0ZXIoKGU9PlwidGNwXCI9PT1lLnRyYW5zcG9ydCkpLmZvckVhY2goKGU9Pnt0LnB1c2goa0woa0woe30sZSkse30se2ZvdW5kYXRpb246XCJ1ZHBjYW5kaWRhdGVcIixwcmlvcml0eTpOdW1iZXIoZS5wcmlvcml0eSkrMStcIlwiLHRyYW5zcG9ydDpcInVkcFwiLHBvcnQ6TnVtYmVyKGUucG9ydCktOTArXCJcIn0pKX0pKSx0aGlzLl9jYW5kaWRhdGVzPXQpOnRoaXMuX2NhbmRpZGF0ZXM9dGhpcy5fY2FuZGlkYXRlcy5maWx0ZXIoKGU9PlwidGNwXCIhPT1lLnRyYW5zcG9ydCkpO2Zvcihjb25zdCBlIG9mIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMpZS5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9dGhpcy5jYW5kaWRhdGVzfXJlc3RhcnRJQ0UoZSl7ZT1iUyhlKSx0aGlzLl9pY2VQYXJhbWV0ZXJzPWUsdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5mb3JFYWNoKCh0PT57dC5hdHRyaWJ1dGVzLmljZVVmcmFnPWUuaWNlVWZyYWcsdC5hdHRyaWJ1dGVzLmljZVB3ZD1lLmljZVB3ZH0pKX1wcmVkaWN0UmVjZWl2aW5nTWlkcyhlKXtjb25zdCB0PVtdO2ZvcihsZXQgaT0wO2k8ZTtpKyspdC5wdXNoKCh0aGlzLmN1cnJlbnRNaWRJbmRleCtpKzEpLnRvU3RyaW5nKDEwKSk7cmV0dXJuIHR9ZmluZEF2YWlsYWJsZU1lZGlhSW5kZXgoZSx0KXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kSW5kZXgoKGk9Pntjb25zdCBuPWkubWVkaWEubWVkaWFUeXBlPT09ZSYmXCIwXCIhPT1pLm1lZGlhLnBvcnQmJihcInNlbmRvbmx5XCI9PT1pLmF0dHJpYnV0ZXMuZGlyZWN0aW9ufHxcInNlbmRyZWN2XCI9PT1pLmF0dHJpYnV0ZXMuZGlyZWN0aW9uKSYmMD09PWkuYXR0cmlidXRlcy5zc3Jjcy5sZW5ndGg7aWYoUmcoKSl7aWYobil7Y29uc3QgZT10aGlzLmZpcmVmb3hTc3JjTWlkTWFwLmdldCh0WzBdLnNzcmNJZCk7cmV0dXJuIShlfHxcIjBcIiE9PWkuYXR0cmlidXRlcy5taWQmJlwiMVwiIT09aS5hdHRyaWJ1dGVzLm1pZCl8fCEoIWV8fGUhPT1pLmF0dHJpYnV0ZXMubWlkKX1yZXR1cm4hMX1yZXR1cm4gbn0pKX1jcmVhdGVPclJlY3ljbGVEYXRhQ2hhbm5lbCgpe2Zvcihjb25zdCBlIG9mIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMpaWYoXCJhcHBsaWNhdGlvblwiPT09ZS5tZWRpYS5tZWRpYVR5cGUpcmV0dXJue21lZGlhRGVzYzplLG5lZWRFeGNoYW5nZVNEUDohMX07dGhpcy5jdXJyZW50TWlkSW5kZXgrPTE7Y29uc3QgZT1cIlwiLmNvbmNhdCh0aGlzLmN1cnJlbnRNaWRJbmRleCksdD17bWVkaWE6e21lZGlhVHlwZTpcImFwcGxpY2F0aW9uXCIscG9ydDpNTCxwcm90b3M6W1wiVURQXCIsXCJEVExTXCIsXCJTQ1RQXCJdLGZtdHM6W1wid2VicnRjLWRhdGFjaGFubmVsXCJdfSxjb25uZWN0aW9uczpbe25ldHR5cGU6XCJJTlwiLGFkZHJ0eXBlOlwiSVA0XCIsYWRkcmVzczpcIjEyNy4wLjAuMVwifV0sYmFuZHdpZHRoczpbXSxhdHRyaWJ1dGVzOntpY2VVZnJhZzp0aGlzLmljZVBhcmFtZXRlcnMuaWNlVWZyYWcsaWNlUHdkOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VQd2QsdW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6dGhpcy5jYW5kaWRhdGVzLGV4dG1hcHM6W10sZmluZ2VycHJpbnRzOnRoaXMuZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOltdLHNzcmNHcm91cHM6W10scnRjcEZlZWRiYWNrV2lsZGNhcmRzOltdLHBheWxvYWRzOltdLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLG1pZDpcIlwiLmNvbmNhdChlKSxzY3RwUG9ydDpcIjUwMDBcIn19O3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnB1c2godCkse21lZGlhRGVzYzp0LG5lZWRFeGNoYW5nZVNEUDohMH19Y3JlYXRlT3JSZWN5Y2xlUmVjdk1lZGlhKGUsdCxpLG4scixzKXtjb25zdCBvPWUuX21lZGlhU3RyZWFtVHJhY2sua2luZCxhPXRoaXMucnRwQ2FwYWJpbGl0aWVzLnJlY3YsYz10aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnNlbmQ7bGV0IGQ9W107aWYobz09PWRJLlZJREVPKXt2YXIgbCxoO2lmKGtDKFwiSDI2NF9QUk9GSUxFX0xFVkVMX0lEXCIpJiZcImgyNjRcIj09PW4mJihkPWEudmlkZW9Db2RlY3MuZmlsdGVyKChlPT57dmFyIHQsaSxyO3JldHVybiBQcih0PShudWxsPT09KGk9ZS5ydHBNYXApfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKXx8XCJcIikuY2FsbCh0LG4pJiYobnVsbD09ZXx8bnVsbD09PShyPWUuZm10cCl8fHZvaWQgMD09PXI/dm9pZCAwOnIucGFyYW1ldGVyc1tcInByb2ZpbGUtbGV2ZWwtaWRcIl0pPT09a0MoXCJIMjY0X1BST0ZJTEVfTEVWRUxfSURcIil9KSkpLCFkfHwwPT09KG51bGw9PT0obD1kKXx8dm9pZCAwPT09bD92b2lkIDA6bC5sZW5ndGgpKXtjb25zdCBlPWMudmlkZW9Db2RlY3MuZmlsdGVyKChlPT57dmFyIHQsaTtyZXR1cm4gUHIodD0obnVsbD09PShpPWUucnRwTWFwKXx8dm9pZCAwPT09aT92b2lkIDA6aS5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSl8fFwiXCIpLmNhbGwodCxuKX0pKTswIT09ZS5sZW5ndGgmJihkPWEudmlkZW9Db2RlY3MuZmlsdGVyKCh0PT5lLnNvbWUoKGU9PmUucGF5bG9hZFR5cGU9PT10LnBheWxvYWRUeXBlKSkpKSl9aWYoa0MoXCJVU0VfUFVCX1JUWFwiKSl7Y29uc3QgZT1kLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygpKSksdD1hLnZpZGVvQ29kZWNzLmZpbHRlcigodD0+e3ZhciBpLG47cmV0dXJuXCJydHhcIj09PShudWxsPT09KGk9dC5ydHBNYXApfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmVuY29kaW5nTmFtZSkmJlByKGUpLmNhbGwoZSwobnVsbD09PShuPXQuZm10cCl8fHZvaWQgMD09PW4/dm9pZCAwOm4ucGFyYW1ldGVycy5hcHQpfHxcIlwiKX0pKTtkPVsuLi5kLC4uLnRdfTA9PT1kLmxlbmd0aCYmKFdDLndhcm5pbmcoXCJjb2RlYyBcIi5jb25jYXQobixcIiBub3QgaW5jbHVkZWQgaW4gcnRwQ2FwYWJpbGl0aWVzLCBmYWxsYmFjayB0byBkZWZhdWx0IHBheWxvYWRzOiBcIikuY29uY2F0KG51bGw9PT0oaD1hLnZpZGVvQ29kZWNzWzBdLnJ0cE1hcCl8fHZvaWQgMD09PWg/dm9pZCAwOmguZW5jb2RpbmdOYW1lKSksZD1hLnZpZGVvQ29kZWNzKX1lbHNlIGQ9YS5hdWRpb0NvZGVjcy5maWx0ZXIoKGU9Pnt2YXIgdCxpO3JldHVybiBQcih0PShudWxsPT09KGk9ZS5ydHBNYXApfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKXx8XCJcIikuY2FsbCh0LHIpfSkpLDA9PT1kLmxlbmd0aCYmKFdDLndhcm5pbmcoXCJjb2RlYyBcIi5jb25jYXQocixcIiBub3QgaW5jbHVkZWQgaW4gcnRwQ2FwYWJpbGl0aWVzLCBmYWxsYmFjayB0byBvcHVzXCIpKSxkPWEuYXVkaW9Db2RlY3MuZmlsdGVyKChlPT57dmFyIHQsaTtyZXR1cm4gUHIodD0obnVsbD09PShpPWUucnRwTWFwKXx8dm9pZCAwPT09aT92b2lkIDA6aS5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSl8fFwiXCIpLmNhbGwodCxcIm9wdXNcIil9KSkpO2NvbnN0IHU9bz09PWRJLlZJREVPP2EudmlkZW9FeHRlbnNpb25zOmEuYXVkaW9FeHRlbnNpb25zO3RoaXMuY3VycmVudE1pZEluZGV4Kz0xO2NvbnN0IHA9XCJcIi5jb25jYXQodGhpcy5jdXJyZW50TWlkSW5kZXgpO2xldCBfPXttZWRpYTp7bWVkaWFUeXBlOm8scG9ydDpNTCxwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czpkLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVVmcmFnLGljZVB3ZDp0aGlzLmljZVBhcmFtZXRlcnMuaWNlUHdkLHVucmVjb2duaXplZDpbXSxjYW5kaWRhdGVzOnRoaXMuY2FuZGlkYXRlcyxleHRtYXBzOnUsZmluZ2VycHJpbnRzOnRoaXMuZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOnQsc3NyY0dyb3VwczpbXSxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6ZCxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246aSxydGNwTXV4OiEwLHJ0Y3BSc2l6ZTohMCxtaWQ6XCJcIi5jb25jYXQocCl9fTtfPXRoaXMubXVuZ1JlY3ZNZWRpYURzZWMoXyxlLHMpO2NvbnN0IEU9dGhpcy5maW5kRmlyc3RDbG9zZWRNZWRpYShvKTtpZihFKXtjb25zdCBlPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuaW5kZXhPZihFKTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2VdPV99ZWxzZSB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnB1c2goXyk7cmV0dXJuIF99Y3JlYXRlT3JSZWN5Y2xlU2VuZE1lZGlhKGUsdCxpLG4scil7Y29uc3Qgcz10aGlzLnJ0cENhcGFiaWxpdGllcy5zZW5kLG89ZT09PWRJLlZJREVPP3MudmlkZW9Db2RlY3M6cy5hdWRpb0NvZGVjcyxhPWU9PT1kSS5WSURFTz9zLnZpZGVvRXh0ZW5zaW9uczpzLmF1ZGlvRXh0ZW5zaW9uczt0aGlzLmN1cnJlbnRNaWRJbmRleCs9MTtjb25zdCBjPVwiXCIuY29uY2F0KHRoaXMuY3VycmVudE1pZEluZGV4KTtsZXQgZD17bWVkaWE6e21lZGlhVHlwZTplLHBvcnQ6TUwscHJvdG9zOltcIlVEUFwiLFwiVExTXCIsXCJSVFBcIixcIlNBVlBGXCJdLGZtdHM6by5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSl9LGNvbm5lY3Rpb25zOlt7bmV0dHlwZTpcIklOXCIsYWRkcnR5cGU6XCJJUDRcIixhZGRyZXNzOlwiMTI3LjAuMC4xXCJ9XSxiYW5kd2lkdGhzOltdLGF0dHJpYnV0ZXM6e2ljZVVmcmFnOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VVZnJhZyxpY2VQd2Q6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczp0aGlzLmNhbmRpZGF0ZXMsZXh0bWFwczphLGZpbmdlcnByaW50czp0aGlzLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3Jjczp0LHNzcmNHcm91cHM6aSxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6byxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246bixydGNwTXV4OiEwLHJ0Y3BSc2l6ZTohMCxtaWQ6XCJcIi5jb25jYXQoYyl9fTtkPXRoaXMubXVuZ1NlbmRNZWRpYURlc2MoZCxyKTtjb25zdCBsPXRoaXMuZmluZEZpcnN0Q2xvc2VkTWVkaWEoZSk7aWYobCl7Y29uc3QgZT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmluZGV4T2YobCk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tlXT1kfWVsc2UgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKGQpO3JldHVybiBkfXVwZGF0ZUJ1bmRsZU1pZHMoKXt0aGlzLnNlc3Npb25EZXNjLmF0dHJpYnV0ZXMuZ3JvdXBzWzBdLmlkZW50aWZpY2F0aW9uVGFnPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKChlPT5cIjBcIiE9PWUubWVkaWEucG9ydCkpLm1hcCgoZT0+ZS5hdHRyaWJ1dGVzLm1pZCkpfW11bmdSZWN2TWVkaWFEc2VjKGUsdCxpKXtjb25zdCBuPWJTKGUpO3JldHVybiBRUChuKSxYUChuLHQpLFpQKG4sdCksJFAobiksZUwobixpLHRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZCksbn1tdW5nU2VuZE1lZGlhRGVzYyhlLHQpe2NvbnN0IGk9YlMoZSk7cmV0dXJuIGVMKGksdCx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnJlY3YpLHNMKGkpLGl9dXBkYXRlUmVjdk1lZGlhKGUsdCl7Y29uc3QgaT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmRJbmRleCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKTtpZigtMSE9PWkpe2NvbnN0IGU9dGhpcy5tdW5nUmVjdk1lZGlhRHNlYyh0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2ldLHQpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbaV09ZX19YnVtcE1pZChlKXt0aGlzLmN1cnJlbnRNaWRJbmRleCs9ZX1maW5kRmlyc3RDbG9zZWRNZWRpYShlKXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT5SZygpP1wiMFwiPT09dC5tZWRpYS5wb3J0JiZ0Lm1lZGlhLm1lZGlhVHlwZT09PWU6XCIwXCI9PT10Lm1lZGlhLnBvcnQpKX1maW5kUHJlbG9hZE1lZGlhRGVzYyhlKXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT57dmFyIGk7cmV0dXJuKG51bGw9PT0oaT10LmF0dHJpYnV0ZXMpfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS5zc3Jjc1swXSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc3NyY0lkKT09PWVbMF0uc3NyY0lkfSkpfWdldFNTUkMoZSl7dmFyIHQ7cmV0dXJuIG51bGw9PT0odD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmF0dHJpYnV0ZXMuc3NyY3N9fSh7cmVtb3RlSWNlUGFyYW1ldGVyczplLHJlbW90ZUR0bHNQYXJhbWV0ZXJzOnQsY2FuZGlkYXRlczppLHJlbW90ZVJUUENhcGFiaWxpdGllczpuLHJlbW90ZVNldHVwOnIsbG9jYWxDYXBhYmlsaXRpZXM6dGhpcy5sb2NhbENhcGFiaWxpdGllcyxjbmFtZTpzfSk7Y29uc3Qgbz10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGE9R1AucGFyc2UodGhpcy5pbml0aWFsT2ZmZXIuc2RwKSxjPWEubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgoZT0+XCJhdWRpb1wiPT09ZS5tZWRpYS5tZWRpYVR5cGUpKTtjJiZzTChjKSx0aGlzLnVzZVhSJiZvTChhKTtjb25zdCBkPUdQLnByaW50KGEpLGw9dGhpcy5sb2dTRFBFeGNoYW5nZShkfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJjb25uZWN0XCIpO3RoaXMuc3RvcmUuZGVzY3JpcHRpb25TdGFydCgpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmR9KSxudWxsPT1sfHxsKG8pLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6b30pO2NvbnN0IGg9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKVswXTtpZihudWxsIT1oJiZoLnJlY2VpdmVyJiZ0aGlzLnRyeUJpbmRUcmFuc3BvcnRFdmVudHMoaC5yZWNlaXZlciksa0MoXCJQUkVMT0FEX01FRElBX0NPVU5UXCIpPjApe3RoaXMucmVtb3RlU0RQLnByZWxvYWRSZW1vdGVNZWRpYSgpO2NvbnN0IGU9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6ZX0pO2NvbnN0IHQ9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24odCl9fWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5jb25uZWN0IGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1zZW5kKGUsdCxpKXt2YXIgbj10aGlzO3JldHVybiB4UCgoZnVuY3Rpb24qKCl7Y29uc3Qgcj15aWVsZCBWUChuLm11dGV4LmxvY2soXCJGcm9tIFAyUENvbm5lY3Rpb24uc2VuZFwiKSk7dHJ5e2lmKCFuLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnNlbmQgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtjb25zdCBzPVtdO2UuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9bi5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihlLl9tZWRpYVN0cmVhbVRyYWNrLHtkaXJlY3Rpb246XCJzZW5kb25seVwifSk7cy5wdXNoKHQpLGUuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKHQpfSkpLFJnKCkmJiEwPT09a0MoXCJTSU1VTENBU1RcIikmJih5aWVsZCBWUChuLmFwcGx5U2ltdWxjYXN0Rm9yRmlyZWZveChzLGUpKSk7Y29uc3Qgbz15aWVsZCBWUChuLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkpLGE9bi5yZW1vdGVTRFAucHJlZGljdFJlY2VpdmluZ01pZHMoZS5sZW5ndGgpLGM9bi5tdW5nU2VuZE9mZmVyU0RQKG8uc2RwLGUsYSksZD1HUC5wYXJzZShjKSxsPWEubWFwKChlPT57Y29uc3QgdD1kLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGV4dHJhY3Qgc3NyYyBmcm9tIG1lZGlhRGVzY3JpcHRpb24uXCIpO3JldHVybiBxUCh0LGtDKFwiVVNFX1BVQl9SVFhcIikpfSkpO2xldCBoO3RyeXtoPXlpZWxkIGx9Y2F0Y2gocil7aD1bXSxuLnJlbW90ZVNEUC5yZWNlaXZlKGUsdCxpLGgpO2NvbnN0IHM9bi5yZW1vdGVTRFAudG9TdHJpbmcoKTt0aHJvdyB5aWVsZCBWUChuLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpjfSkpLHlpZWxkIFZQKG4ucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6c30pKSx5aWVsZCBWUChuLnN0b3BTZW5kaW5nKGEsITApKSxyfW4ucmVtb3RlU0RQLnJlY2VpdmUoZSx0LGksaCk7Y29uc3QgdT1uLnJlbW90ZVNEUC50b1N0cmluZygpLHA9bi5sb2dTRFBFeGNoYW5nZShjLFwib2ZmZXJcIixcImxvY2FsXCIsXCJzZW5kXCIpO3JldHVybiB5aWVsZCBWUChuLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpjfSkpLHlpZWxkIFZQKG4uYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MocyxlKSkseWllbGQgVlAobi5hcHBseVNlbmRFbmNvZGluZ3MocyxlKSksbnVsbD09cHx8cCh1KSx5aWVsZCBWUChuLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnV9KSkscy5tYXAoKChlLHQpPT57Y29uc3QgaT1hW3RdO3JldHVybntsb2NhbFNTUkM6bFt0XSxpZDppLHRyYW5zY2VpdmVyOmV9fSkpfWNhdGNoKGUpe3Rocm93IGUgaW5zdGFuY2VvZiBWZz9lOm5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zZW5kIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfWZpbmFsbHl7cigpfX0pKSgpfWFzeW5jIGNyZWF0ZURhdGFDaGFubmVscyhlLHQpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbHMgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtsZXQgaT10aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmdldChlKTtpJiZcIm9wZW5cIj09PWkucmVhZHlTdGF0ZT9XQy5kZWJ1ZyhcIltQMlBDb25uZWN0aW9uXSBDaGFubmVscyBhcmUgYWxyZWFkeSBhdmFpbGFibGUgYW5kIGNhbiBiZSByZXVzZWQgZGlyZWN0bHkuXCIpOihpPXRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwoXCJkYXRhc3RyZWFtLWNoYW5uZWxcIix7b3JkZXJlZDohMSxtYXhSZXRyYW5zbWl0czprQyhcIkRBVEFTVFJFQU1fTUFYX1JFVFJBTlNNSVRTXCIpfSksaS5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIix0aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLnNldChlLGkpKSx0LmZvckVhY2goKGU9PntlLl91cGRhdGVPcmlnaW5EYXRhQ2hhbm5lbChpKX0pKTtjb25zdHtuZWVkRXhjaGFuZ2VTRFA6bn09dGhpcy5yZW1vdGVTRFAuc2VuZERhdGFDaGFubmVsKCk7aWYobil7Y29uc3QgZT10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDplfSk7Y29uc3QgdD1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih0KSxXQy5kZWJ1ZyhcIltQMlBDb25uZWN0aW9uXSBjcmVhdGVEYXRhQ2hhbm5lbHMgYnkgZXhjaGFuZ2luZyBTRFAuXCIpfWVsc2UgV0MuZGVidWcoXCJbUDJQQ29ubmVjdGlvbl0gY3JlYXRlRGF0YUNoYW5uZWxzIG5vIG5lZWQgdG8gZXhjaGFuZ2UgU0RQLlwiKTtyZXR1cm59Y2F0Y2goZSl7dGhyb3cgZSBpbnN0YW5jZW9mIFZnP2U6bmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVscyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgc3RvcERhdGFDaGFubmVscyhlKXt0cnl7Y29uc3QgdD10aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmdldChlKTtyZXR1cm4gbnVsbD09dHx8dC5jbG9zZSgpLHZvaWQgdGhpcy5kYXRhU3RyZWFtQ2hhbm5lbE1hcC5kZWxldGUoZSl9Y2F0Y2goZSl7dGhyb3cgZSBpbnN0YW5jZW9mIFZnP2U6bmV3IFZnKHhnLkRBVEFDSEFOTkVMX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uc3RvcERhdGFDaGFubmVscyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgc3RvcFNlbmRpbmcoZSx0KXtjb25zdCBpPXQ/dm9pZCAwOmF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZ1wiKTt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtjb25zdCB0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKCh0PT4tMSE9PWUuaW5kZXhPZih0Lm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRyYW5zY2VpdmVycycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gdHJ5aW5nIHRvIGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZy5cIik7dC5tYXAoKGU9Pnt2YXIgdDtlLmRpcmVjdGlvbj1cImluYWN0aXZlXCIsbnVsbD09PSh0PWUuc3RvcCl8fHZvaWQgMD09PXR8fHQuY2FsbChlKX0pKTtjb25zdCBuPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxyPXRoaXMubG9nU0RQRXhjaGFuZ2Uobi5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcInN0b3BTZW5kaW5nXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKSx0aGlzLnJlbW90ZVNEUC5zdG9wUmVjZWl2aW5nKGUpO2NvbnN0IHM9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTtudWxsPT1yfHxyKHMpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6c30pfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX1maW5hbGx5e2kmJmkoKX19YXN5bmMgcmVjZWl2ZShlLHQsaSxuKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24ucmVjZWl2ZSBcIi5jb25jYXQoZSxcIiBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpKTtjb25zdHttaWQ6cixuZWVkRXhjaGFuZ2VTRFA6c309dGhpcy5yZW1vdGVTRFAuc2VuZChlLHQsaSxuKTtpZihzKXtjb25zdCB0PXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT10aGlzLmxvZ1NEUEV4Y2hhbmdlKHQsXCJvZmZlclwiLFwicmVtb3RlXCIsXCJyZWNlaXZlXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpLHM9dGhpcy5tdW5nUmVjZWl2ZUFuc3dlclNEUChuLnNkcCxyLGUpO251bGw9PWl8fGkoc3x8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnN9KSxXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENvbm5lY3Rpb25dIHJlY2VpdmUgXCIpLmNvbmNhdChlLFwiIGJ5IGV4Y2hhbmdpbmcgU0RQLlwiKSl9ZWxzZSBXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENvbm5lY3Rpb25dIHJlY2VpdmUgXCIpLmNvbmNhdChlLFwiIG5vIG5lZWQgdG8gZXhjaGFuZ2UgU0RQLlwiKSk7Y29uc3Qgbz10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGU9PmUubWlkPT09cikpO2lmKCFvKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdHJhbnNjZWl2ZXIgYWZ0ZXIgc2V0TG9jYWxEZXNjcmlwdGlvbi5cIik7cmV0dXJue3RyYWNrOm8ucmVjZWl2ZXIudHJhY2ssaWQ6cix0cmFuc2NlaXZlcjpvfX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ucmVjZWl2ZSBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgYmF0Y2hSZWNlaXZlKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5iYXRjaFJlY2VpdmUgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKTtjb25zdHttaWRzOnQsbmVlZEV4Y2hhbmdlU0RQOml9PXRoaXMucmVtb3RlU0RQLmJhdGNoU2VuZChlKTtpZihpKXtjb25zdCBlPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksdD10aGlzLmxvZ1NEUEV4Y2hhbmdlKGUsXCJvZmZlclwiLFwicmVtb3RlXCIsXCJyZWNlaXZlXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDplfSk7Y29uc3QgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO251bGw9PXR8fHQoaS5zZHB8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKSxXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENvbm5lY3Rpb25dIGJhdGNoUmVjZWl2ZSBieSBleGNoYW5naW5nIFNEUC5cIikpfWVsc2UgV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDb25uZWN0aW9uXSBiYXRjaFJlY2VpdmUgbm8gbmVlZCB0byBleGNoYW5nZSBTRFAuXCIpKTtyZXR1cm4gdC5tYXAoKGU9Pntjb25zdCB0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgodD0+dC5taWQ9PT1lKSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB0cmFuc2NlaXZlciBhZnRlciBzZXRMb2NhbERlc2NyaXB0aW9uLlwiKTtyZXR1cm57dHJhY2s6dC5yZWNlaXZlci50cmFjayxpZDplLHRyYW5zY2VpdmVyOnR9fSkpfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5yZWNlaXZlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBzdG9wUmVjZWl2aW5nKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wUmVjZWl2aW5nIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO3RoaXMucmVtb3RlU0RQLnN0b3BTZW5kaW5nKGUpO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxpPXRoaXMubG9nU0RQRXhjaGFuZ2UodCxcIm9mZmVyXCIsXCJyZW1vdGVcIixcInN0b3BSZWNlaXZpbmdcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnR9KTtjb25zdCBuPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7bnVsbD09aXx8aShuLnNkcHx8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbiBzdG9wUmVjZWl2aW5nIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBtdXRlUmVtb3RlKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5tdXRlUmVtb3RlIG1pZD1cIi5jb25jYXQoZSxcIiBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKSk7dGhpcy5yZW1vdGVTRFAubXV0ZShlKTtjb25zdCB0PXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT10aGlzLmxvZ1NEUEV4Y2hhbmdlKHQsXCJvZmZlclwiLFwicmVtb3RlXCIsXCJtdXRlUmVtb3RlXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO251bGw9PWl8fGkobi5zZHB8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ubXV0ZVJlbW90ZSBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgdW5tdXRlUmVtb3RlKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi51bm11dGVSZW1vdGUgbWlkPVwiLmNvbmNhdChlLFwiIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpKTt0aGlzLnJlbW90ZVNEUC51bm11dGUoZSk7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGk9dGhpcy5sb2dTRFBFeGNoYW5nZSh0LFwib2ZmZXJcIixcInJlbW90ZVwiLFwidW5tdXRlUmVtb3RlXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO251bGw9PWl8fGkobi5zZHB8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24udW5tdXRlUmVtb3RlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBtdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLm11dGVMb2NhbCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtjb25zdCB0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKCh0PT50Lm1pZCYmLTEhPT1lLmluZGV4T2YodC5taWQpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aC5cIik7dC5tYXAoKGU9PntlLmRpcmVjdGlvbj1cImluYWN0aXZlXCJ9KSk7Y29uc3QgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCksbj10aGlzLmxvZ1NEUEV4Y2hhbmdlKGkuc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJtdXRlTG9jYWxcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLHRoaXMucmVtb3RlU0RQLm11dGVSZW1vdGUoZSk7Y29uc3Qgcj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO251bGw9PW58fG4ociksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpyfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLm11dGVMb2NhbCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgdW5tdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9PnQubWlkJiYtMSE9PWUuaW5kZXhPZih0Lm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRyYW5zY2VpdmVycycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoLlwiKTt0Lm1hcCgoYXN5bmMoZSx0KT0+e2UuZGlyZWN0aW9uPVwic2VuZG9ubHlcIn0pKTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxuPXRoaXMubG9nU0RQRXhjaGFuZ2UoaS5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcInVubXV0ZUxvY2FsXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKSx0aGlzLnJlbW90ZVNEUC51bm11dGVSZW1vdGUoZSk7Y29uc3Qgcj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO251bGw9PW58fG4ociksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpyfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1yZXN0YXJ0SUNFKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHhQKChmdW5jdGlvbiooKXtjb25zdCBpPXlpZWxkIFZQKHQubXV0ZXgubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5yZXN0YXJ0SUNFXCIpKTt0cnl7aWYoIXQucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXN0YXJ0SUNFIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIik7aWYoaEEoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uKXtjb25zdCBpPXQucGVlckNvbm5lY3Rpb24uZ2V0Q29uZmlndXJhdGlvbigpLG49ZT09PWxJLlJFTEFZP1wicmVsYXlcIjpcImFsbFwiO2kuaWNlVHJhbnNwb3J0UG9saWN5IT09biYmKFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0LnN0b3JlLmNsaWVudElkLFwiXSByZXN0YXJ0SUNFIGNoYW5nZSBpY2VUcmFuc3BvcnRQb2xpY3kgZnJvbSBbXCIpLmNvbmNhdChpLmljZVRyYW5zcG9ydFBvbGljeSxcIl0gdG8gW1wiKS5jb25jYXQobixcIl1cIikpLGkuaWNlVHJhbnNwb3J0UG9saWN5PW4sdC5wZWVyQ29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKGkpKX1lbHNlIGlmKGU9PT1sSS5SRUxBWSlyZXR1cm47dC5yZW1vdGVTRFAudXBkYXRlQ2FuZGlkYXRlcyhlKTtjb25zdCBuPXlpZWxkIFZQKHQucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoe2ljZVJlc3RhcnQ6ITB9KSk7aWYoIW4uc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXN0YXJ0SUNFIGJlY2F1c2UgcmVzdGFydCBvZmZlciBTRFAgZG9lcyBub3QgZXhpc3QuXCIpO2NvbnN0IHI9WVAobi5zZHApLHtyZW1vdGVJY2VQYXJhbWV0ZXJzOnN9PXlpZWxkIHIuaWNlUGFyYW1ldGVyczt0LnJlbW90ZVNEUC5yZXN0YXJ0SUNFKHMpO2NvbnN0IG89dC5yZW1vdGVTRFAudG9TdHJpbmcoKSxhPXQubG9nU0RQRXhjaGFuZ2Uobi5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcInJlc3RhcnRJQ0VcIik7dC5zdG9yZS5kZXNjcmlwdGlvblN0YXJ0KCkseWllbGQgVlAodC5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pKSxudWxsPT1hfHxhKG8pLHlpZWxkIFZQKHQucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6b30pKX1jYXRjaChlKXtXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LnN0b3JlLmNsaWVudElkLFwiXSByZXN0YXJ0IElDRSBmYWlsZWQsIGFib3J0IG9wZXJhdGlvblwiKSxlKX1maW5hbGx5e2koKX19KSkoKX1jbG9zZSgpe3ZhciBlO3RoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKSxudWxsPT09KGU9dGhpcy5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLFwiY2xvc2VkXCIpLHRoaXMudHJ5VW5iaW5kVHJhbnNwb3J0RXZlbnRzKCksdGhpcy51bmJpbmRQQ0V2ZW50cygpLHRoaXMudW5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlcj12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5kZXN0cm95KCksdGhpcy5kYXRhU3RyZWFtQ2hhbm5lbE1hcC5jbGVhcigpfWdldFN0YXRzKCl7cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0U3RhdHMoKX1nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZSl7cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0VmlkZW9Jc1JlYWR5KGUpfWFzeW5jIHVwZGF0ZUVuY29kZXJDb25maWcoZSx0KXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udXBkYXRlRW5jb2RlckNvbmZpZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxuPXRoaXMubXVuZ1NlbmRPZmZlclNEUChpLnNkcCxbdF0sW2VdKTt0aGlzLnJlbW90ZVNEUC51cGRhdGVSZWN2TWVkaWEoZSx0KTtjb25zdCByPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCkscz10aGlzLmxvZ1NEUEV4Y2hhbmdlKG4sXCJvZmZlclwiLFwibG9jYWxcIixcInVwZGF0ZUVuY29kZXJDb25maWdcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6bn0pLG51bGw9PXN8fHMociksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpyfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsZS50b1N0cmluZygpKX19YXN5bmMgdXBkYXRlU2VuZFBhcmFtZXRlcnMoZSx0KXtjb25zdCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKCh0PT50Lm1pZD09PWUpKTsxPT09aS5sZW5ndGgmJih0aGlzLmlzVlA4U2ltdWxjYXN0KHQpP1JnKCl8fGF3YWl0IHRoaXMuYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MoaSxbdF0pOmF3YWl0IHRoaXMuYXBwbHlTZW5kRW5jb2RpbmdzKGksW3RdKSl9c2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkoZSx0KXt0aGlzLnN0YXRzRmlsdGVyLnNldFZpZGVvSXNSZWFkeTIoZSx0KX1hc3luYyByZXBsYWNlVHJhY2soZSx0KXtjb25zdCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZT0+ZS5taWQ9PT10KSk7aSYmYXdhaXQgaS5zZW5kZXIucmVwbGFjZVRyYWNrKGUuX21lZGlhU3RyZWFtVHJhY2spfWFzeW5jIGdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpe2NvbnN0IGU9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRSZWNlaXZlcnMoKTtpZihlLmxlbmd0aD4wJiZlWzBdLnRyYW5zcG9ydCYmZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0JiZlWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyJiZlWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCkpe2NvbnN0IHQ9ZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0LHtsb2NhbDppLHJlbW90ZTpufT10LmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpO3JldHVybntsb2NhbDpWTChWTCh7fSx1TCkse30se2NhbmRpZGF0ZVR5cGU6aS50eXBlLHByb3RvY29sOmkucHJvdG9jb2wsYWRkcmVzczppLmFkZHJlc3MscG9ydDppLnBvcnR9KSxyZW1vdGU6VkwoVkwoe30sdUwpLHt9LHtjYW5kaWRhdGVUeXBlOm4udHlwZSxwcm90b2NvbDpuLnByb3RvY29sLGFkZHJlc3M6bi5hZGRyZXNzLHBvcnQ6bi5wb3J0fSl9fXJldHVybiB0aGlzLnN0YXRzRmlsdGVyLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpfWJpbmRQQ0V2ZW50cygpe3RoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9KCk9Pnt2YXIgZTtudWxsPT09KGU9dGhpcy5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKX0sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlO251bGw9PT0oZT10aGlzLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGUpfSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPWU9PntlLmNhbmRpZGF0ZT90aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQrPTE6KHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZD0hMCxXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCkpfSxzZXRUaW1lb3V0KCgoKT0+e3RoaXMuYWxsQ2FuZGlkYXRlc1JlY2VpdmVkfHwodGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWQ9ITAsV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwYy1cIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIG9uaWNlY2FuZGlkYXRlIHRpbWVvdXQsIGxvY2FsIGNhbmRpZGF0ZSBjb3VudFwiKSx0aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQpKX0pLGtDKFwiQ0FORElEQVRFX1RJTUVPVVRcIikpfXVuYmluZFBDRXZlbnRzKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25jb25uZWN0aW9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlZXJyb3I9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbnRyYWNrPW51bGx9c3RhdGljIHJlc29sdmVQQ0NvbmZpZ3VyYXRpb24odCl7Y29uc3QgaT17aWNlU2VydmVyczpbXX07cmV0dXJuIHQuaWNlU2VydmVycz9pLmljZVNlcnZlcnM9dC5pY2VTZXJ2ZXJzOnQudHVyblNlcnZlciYmXCJvZmZcIiE9PXQudHVyblNlcnZlci5tb2RlJiYoX1ModC50dXJuU2VydmVyLnNlcnZlcnMpP2kuaWNlU2VydmVycz10LnR1cm5TZXJ2ZXIuc2VydmVyczooaS5pY2VTZXJ2ZXJzJiZpLmljZVNlcnZlcnMucHVzaCguLi5lLnR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnModC50dXJuU2VydmVyLnNlcnZlcnMpKSxrQyhcIlVTRV9UVVJOX1NFUlZFUl9PRl9HQVRFV0FZXCIpJiZpLmljZVNlcnZlcnMmJnQudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkmJmkuaWNlU2VydmVycy5wdXNoKC4uLmUudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyh0LnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5KSksa0MoXCJGT1JDRV9UVVJOX1RDUFwiKT9pLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCI6dC50dXJuU2VydmVyLnNlcnZlcnMuY29uY2F0KHQudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXl8fFtdKS5mb3JFYWNoKChlPT57ZS5mb3JjZXR1cm4mJihpLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCIpfSkpKSksa0MoXCJFTkFCTEVfRU5DT0RFRF9UUkFOU0ZPUk1cIikmJmhBKCkuc3VwcG9ydFdlYlJUQ0VuY29kZWRUcmFuc2Zvcm0mJihpLmVuY29kZWRJbnNlcnRhYmxlU3RyZWFtcz0hMCksaX1zdGF0aWMgdHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlKXtjb25zdCB0PVtdO3JldHVybiBlLmZvckVhY2goKGU9PntlLnNlY3VyaXR5P2UudGNwcG9ydCYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChoRChlLnR1cm5TZXJ2ZXJVUkwpLFwiOlwiKS5jb25jYXQoZS50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KTooZS51ZHBwb3J0JiYha0MoXCJGT1JDRV9UVVJOX1RDUFwiKSYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGUudWRwcG9ydCxcIj90cmFuc3BvcnQ9dWRwXCIpfSksZS50Y3Bwb3J0JiZ0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoZS50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoZS50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KSl9KSksdH10cnlCaW5kVHJhbnNwb3J0RXZlbnRzKGUpe2NvbnN0IHQ9ZS50cmFuc3BvcnQ7aWYodCl7dGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyPWUsdC5vbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7bnVsbCE9dCYmdC5zdGF0ZSYmKG51bGw9PT0oZT10aGlzLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdC5zdGF0ZSkpfSx0Lm9uZXJyb3I9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRFRMU1RyYW5zcG9ydEVycm9yKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsXCJlcnJvclwiaW4gZT9lLmVycm9yOmUpfTtjb25zdCBpPXQuaWNlVHJhbnNwb3J0O2kmJihpLm9uc3RhdGVjaGFuZ2U9KCk9Pntjb25zdCBlPW51bGw9PXQ/dm9pZCAwOnQuaWNlVHJhbnNwb3J0LnN0YXRlO3ZhciBpO2UmJihudWxsPT09KGk9dGhpcy5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsZSkpfSxpLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpciYmKGkub25zZWxlY3RlZGNhbmRpZGF0ZXBhaXJjaGFuZ2U9KCk9PntpZihpLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpKXtjb25zdHtsb2NhbDplLHJlbW90ZTp0fT1pLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpO1dDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwYy1cIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIHNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZTogbG9jYWwgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh7Y2FuZGlkYXRlVHlwZTplLnR5cGUscHJvdG9jb2w6ZS5wcm90b2NvbH0pLFwiLCByZW1vdGUgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh7Y2FuZGlkYXRlVHlwZTp0LnR5cGUscHJvdG9jb2w6dC5wcm90b2NvbCxhZGRyZXNzOnQuYWRkcmVzcyxwb3J0OnQucG9ydH0pLFwiIClcIikpfX0pKX19dHJ5VW5iaW5kVHJhbnNwb3J0RXZlbnRzKCl7dGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyJiZ0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0JiYodGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5vbnN0YXRlY2hhbmdlPW51bGwsdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5vbmVycm9yPW51bGwsdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQmJih0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0LmljZVRyYW5zcG9ydC5vbnN0YXRlY2hhbmdlPW51bGwpKX1hc3luYyB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MoZSx0KXt2YXIgaTtpZighdCl7dD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maW5kKCh0PT50LnRyYWNrPT09ZS5fbWVkaWFTdHJlYW1UcmFjaykpfWlmKCF0KXJldHVybiBXQy53YXJuKFwiW1wiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gbm8gcnRwU2VuZGVyIGZvdW5kfVwiKSk7aWYodGhpcy5pc1ZQOFNpbXVsY2FzdChlKSlyZXR1cm4gV0Mud2FybihcIlt1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3NdIFRyYWNrIGlzIFZQOCBzaW11bGNhc3QsIHBsZWFzZSBhcHBseSBzaW11bGNhc3QgZW5jb2RpbmdzXCIpO2lmKCFoQSgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybiBXQy53YXJuKFwiW3VwZGF0ZVJ0cFNlbmRlckVuY29kaW5nc10gQnJvd3NlciBub3Qgc3VwcG9ydCBzZXQgcnRwLXNlbmRlciBwYXJhbWV0ZXJzXCIpO2NvbnN0IG49e30scj17fTtzd2l0Y2goZS5fb3B0aW1pemF0aW9uTW9kZSl7Y2FzZVwibW90aW9uXCI6bi5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1mcmFtZXJhdGVcIjticmVhaztjYXNlXCJkZXRhaWxcIjpuLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cIm1haW50YWluLXJlc29sdXRpb25cIjticmVhaztkZWZhdWx0Om4uZGVncmFkYXRpb25QcmVmZXJlbmNlPVwiYmFsYW5jZWRcIn1pZihlLl9lbmNvZGVyQ29uZmlnKXt2YXIgcztjb25zdHtiaXRyYXRlTWF4OnQsZnJhbWVSYXRlOmksc2NhbGVSZXNvbHV0aW9uRG93bkJ5Om59PWUuX2VuY29kZXJDb25maWc7dCYmKHIubWF4Qml0cmF0ZT0xZTMqdCksUHIocz1lLl9oaW50cykuY2FsbChzLER5LkxPV19TVFJFQU0pJiYoaSYmKHIubWF4RnJhbWVyYXRlPXBEKGkpKSxuJiZuPj0xJiYoci5zY2FsZVJlc29sdXRpb25Eb3duQnk9bikpfWlmKGtDKFwiRFNDUF9UWVBFXCIpJiZrZygpKXt2YXIgbztjb25zdCBlPWtDKFwiRFNDUF9UWVBFXCIpO1ByKG89W1widmVyeS1sb3dcIixcImxvd1wiLFwibWVkaXVtXCIsXCJoaWdoXCJdKS5jYWxsKG8sZSkmJihyLm5ldHdvcmtQcmlvcml0eT1lKX1jb25zdCBhPXQuZ2V0UGFyYW1ldGVycygpLGM9bnVsbD09PShpPWEuZW5jb2RpbmdzKXx8dm9pZCAwPT09aT92b2lkIDA6aVswXTtSZygpJiYhYyYmKG4uZW5jb2RpbmdzPVtyXSksYyYmT2JqZWN0LmFzc2lnbihjLHIpLE9iamVjdC5hc3NpZ24oYSxuKSxXQy5kZWJ1ZyhcIltcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5nczogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShhLmVuY29kaW5ncykpKSxhd2FpdCB0LnNldFBhcmFtZXRlcnMoYSl9YXN5bmMgYXBwbHlTZW5kRW5jb2RpbmdzKGUsdCl7dHJ5e2lmKCFoQSgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybjtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybjtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbj1lW2ldLHI9dFtpXTtyIGluc3RhbmNlb2YgZmImJiF0aGlzLmlzVlA4U2ltdWxjYXN0KHIpJiZhd2FpdCB0aGlzLnVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhyLG4uc2VuZGVyKX19Y2F0Y2goZSl7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIEFwcGx5IFJUUFNlbmRFbmNvZGluZ3MgZmFpbGVkLlwiKSl9fW11bmdTZW5kT2ZmZXJTRFAoZSx0LGkpe2NvbnN0IG49R1AucGFyc2UoZSk7cmV0dXJuIHQuZm9yRWFjaCgoKGUsdCk9Pntjb25zdCByPWlbdF0scz1uLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKGU9PmUuYXR0cmlidXRlcy5taWQ9PT1yKSk7cyYmKFhQKHMsZSksdEwocyxlLHRoaXMuc3RvcmUuY29kZWMpKX0pKSxHUC5wcmludChuKX1tdW5nUmVjZWl2ZUFuc3dlclNEUChlLHQsaSl7Y29uc3Qgbj1HUC5wYXJzZShlKSxyPW4ubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgoZT0+ZS5hdHRyaWJ1dGVzLm1pZD09PXQpKTtyZXR1cm4gciYmKGk9PT1kSS5BVURJTyYmXCJhdWRpb1wiPT09ci5tZWRpYS5tZWRpYVR5cGUmJnNMKHIpLHRoaXMudXNlWFImJm9MKG4pKSxHUC5wcmludChuKX1iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0QXVkaW9SZWNlaXZlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0VmlkZW9SZWNlaXZlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RBdWRpb0RlY29kZWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkPShlLHQsaSk9Pnt2YXIgbjtudWxsPT09KG49dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkKXx8dm9pZCAwPT09bnx8bi5jYWxsKHRoaXMsZSx0LGkpfSx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9Pnt2YXIgaTtudWxsPT09KGk9dGhpcy5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsZSx0KX0sdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO251bGw9PT0oaT10aGlzLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsZSx0KX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX19dW5iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PXZvaWQgMH1hc3luYyBhcHBseVNpbXVsY2FzdEZvckZpcmVmb3goZSx0KXtpZihlLmxlbmd0aD09PXQubGVuZ3RoKWZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgaSxuLHIscyxvO2NvbnN0IGM9ZVthXSxkPXRbYV07aWYoZCBpbnN0YW5jZW9mIGZiJiYhUHIoaT1kLl9oaW50cykuY2FsbChpLER5LkxPV19TVFJFQU0pJiZudWxsIT09KG49ZC5fZW5jb2RlckNvbmZpZykmJnZvaWQgMCE9PW4mJm4uYml0cmF0ZU1heCYmKG51bGw9PT0ocj1kLl9lbmNvZGVyQ29uZmlnKXx8dm9pZCAwPT09cj92b2lkIDA6ci5iaXRyYXRlTWF4KT4yMDAmJm51bGwhPT0ocz1kLl9zY2FsYWJpbGl0eU1vZGUpJiZ2b2lkIDAhPT1zJiZzLm51bVNwYXRpYWxMYXllcnMmJihudWxsPT09KG89ZC5fc2NhbGFiaWxpdHlNb2RlKXx8dm9pZCAwPT09bz92b2lkIDA6by5udW1TcGF0aWFsTGF5ZXJzKT4xJiZcInZwOFwiPT09dGhpcy5zdG9yZS5jb2RlYyl7Y29uc3QgZT17fSx0PXtoaWdoOjFlMyooZC5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LTUwKSxtZWRpdW06NWU0fTtlLmVuY29kaW5ncz1be3JpZDpcIm1cIixhY3RpdmU6ITAsbWF4Qml0cmF0ZTp0Lm1lZGl1bSxzY2FsZVJlc29sdXRpb25Eb3duQnk6NH0se3JpZDpcImhcIixhY3RpdmU6ITAsbWF4Qml0cmF0ZTp0LmhpZ2h9XTtjb25zdCBpPWMuc2VuZGVyLmdldFBhcmFtZXRlcnMoKTthd2FpdCBjLnNlbmRlci5zZXRQYXJhbWV0ZXJzKE9iamVjdC5hc3NpZ24oaSxlKSl9fX1hc3luYyBhcHBseVNpbXVsY2FzdEVuY29kaW5ncyhlLHQpe2lmKCFSZygpJiZlLmxlbmd0aD09PXQubGVuZ3RoKWZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBuPXRbaV07aWYobiBpbnN0YW5jZW9mIGZiJiZ0aGlzLmlzVlA4U2ltdWxjYXN0KG4pKXtjb25zdCB0PWVbaV0scj17fSxzPXtoaWdoOjFlMyoobi5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LTUwKSxtZWRpdW06NWU0fTtyLmVuY29kaW5ncz1be2FjdGl2ZTohMCxhZGFwdGl2ZVB0aW1lOiExLG5ldHdvcmtQcmlvcml0eTpcImhpZ2hcIixwcmlvcml0eTpcImhpZ2hcIixtYXhCaXRyYXRlOnMuaGlnaH0se2FjdGl2ZTohMCxhZGFwdGl2ZVB0aW1lOiExLG5ldHdvcmtQcmlvcml0eTpcImxvd1wiLHByaW9yaXR5OlwibG93XCIsbWF4Qml0cmF0ZTpzLm1lZGl1bSxzY2FsZVJlc29sdXRpb25Eb3duQnk6NH1dO2NvbnN0IG89dC5zZW5kZXIuZ2V0UGFyYW1ldGVycygpO2F3YWl0IHQuc2VuZGVyLnNldFBhcmFtZXRlcnMoT2JqZWN0LmFzc2lnbihvLHIpKX19fWlzVlA4U2ltdWxjYXN0KGUpe3ZhciB0LGksbixyLHM7cmV0dXJuISEoZSBpbnN0YW5jZW9mIGZiJiZrQyhcIlNJTVVMQ0FTVFwiKSYmXCJ2cDhcIj09PXRoaXMuc3RvcmUuY29kZWMmJiFQcih0PWUuX2hpbnRzKS5jYWxsKHQsRHkuTE9XX1NUUkVBTSkmJm51bGwhPT0oaT1lLl9lbmNvZGVyQ29uZmlnKSYmdm9pZCAwIT09aSYmaS5iaXRyYXRlTWF4JiYobnVsbD09PShuPWUuX2VuY29kZXJDb25maWcpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmJpdHJhdGVNYXgpPjIwMCYmbnVsbCE9PShyPWUuX3NjYWxhYmlsaXR5TW9kZSkmJnZvaWQgMCE9PXImJnIubnVtU3BhdGlhbExheWVycyYmKG51bGw9PT0ocz1lLl9zY2FsYWJpbGl0eU1vZGUpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLm51bVNwYXRpYWxMYXllcnMpPjEpfWxvZ1NEUEV4Y2hhbmdlKGUsdCxpLG4pe2lmKGtDKFwiU0RQX0xPR0dJTkdcIikpcmV0dXJuIFdDLnVwbG9hZChcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gZXhjaGFuZ2luZyBcIikuY29uY2F0KGksXCIgXCIpLmNvbmNhdCh0LFwiIFNEUCBkdXJpbmcgUDJQQ29ubmVjdGlvbi5cIikuY29uY2F0KG4sXCJcXG5cIiksZSksXCJvZmZlclwiPT09dD9lPT57dGhpcy5sb2dTRFBFeGNoYW5nZShlLFwiYW5zd2VyXCIsXCJsb2NhbFwiPT09aT9cInJlbW90ZVwiOlwibG9jYWxcIixuKX06dm9pZCAwfWFzeW5jIGdldFJlbW90ZVNTUkMoZSl7aWYoIXRoaXMucmVtb3RlU0RQKXJldHVybjtjb25zdCB0PXRoaXMucmVtb3RlU0RQLmdldFNTUkMoZSk7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOnRbMF0uc3NyY0lkfXNldENvbmZpZ3VyYXRpb24odCl7aWYoaEEoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uKXtjb25zdCBpPWUucmVzb2x2ZVBDQ29uZmlndXJhdGlvbih0KTt0aGlzLnBlZXJDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24oaSl9fX07ZnVuY3Rpb24gQkwoZSx0LGkpe2NvbnN0IG49ZVt0XTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgbXV0ZXggb24gb2JqZWN0IHByb3BlcnR5LlwiKTtyZXR1cm4gaS52YWx1ZT1hc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5tdXRleCxpPWF3YWl0IGUubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5cIi5jb25jYXQodCkpO3RyeXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxzPW5ldyBBcnJheShyKSxvPTA7bzxyO28rKylzW29dPWFyZ3VtZW50c1tvXTtyZXR1cm4gYXdhaXQgbi5hcHBseSh0aGlzLHMpfWZpbmFsbHl7aSgpfX0saX1mdW5jdGlvbiBqTChlLHQpe2xldCBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7aS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiZGlzcGxheTpub25lXCIpLG4uc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImRpc3BsYXk6bm9uZVwiKSxpLnNldEF0dHJpYnV0ZShcIm11dGVkXCIsXCJcIiksaS5tdXRlZD0hMCxpLnNldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIsXCJcIiksaS5hdXRvcGxheT0hMCxpLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksbi53aWR0aD1wRCh0LndpZHRoKSxuLmhlaWdodD1wRCh0LmhlaWdodCk7Y29uc3Qgcj1wRCh0LmZyYW1lcmF0ZXx8MTUpO2RvY3VtZW50LmJvZHkuYXBwZW5kKGkpLGRvY3VtZW50LmJvZHkuYXBwZW5kKG4pO2xldCBzPWUuX21lZGlhU3RyZWFtVHJhY2s7aS5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFtzXSksaS5wbGF5KCk7Y29uc3Qgbz1uLmdldENvbnRleHQoXCIyZFwiKTtpZighbyl0aHJvdyBuZXcgTXYoeGcuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZ2V0IGNhbnZhcyBjb250ZXh0XCIpO2NvbnN0IGE9aEEoKSxjPW4uY2FwdHVyZVN0cmVhbShhLnN1cHBvcnRSZXF1ZXN0RnJhbWU/MDpyKS5nZXRWaWRlb1RyYWNrcygpWzBdO2MuY2FudmFzfHwoYy5jYW52YXM9biksbi5zdGFydENhcHR1cmU9KCk9PntpZighaSlyZXR1cm4gbi5zdG9wQ2FwdHVyZSYmbi5zdG9wQ2FwdHVyZSgpO2lmKGkucGF1c2VkJiZpLnBsYXkoKSxpLnZpZGVvSGVpZ2h0PjImJmkudmlkZW9XaWR0aD4yKXtjb25zdCBlPWkudmlkZW9XaWR0aCx0PWkudmlkZW9IZWlnaHQvZSxyPW4ud2lkdGgqdDtNYXRoLmFicyhyLW4uaGVpZ2h0KT49MiYmKFdDLmRlYnVnKFwiYWRqdXN0IGxvdyBzdHJlYW0gcmVzb2x1dGlvblwiLFwiXCIuY29uY2F0KG4ud2lkdGgsXCJ4XCIpLmNvbmNhdChuLmhlaWdodCxcIiAtPiBcIikuY29uY2F0KG4ud2lkdGgsXCJ4XCIpLmNvbmNhdChyKSksbi5oZWlnaHQ9cil9by5kcmF3SW1hZ2UoaSwwLDAsbi53aWR0aCxuLmhlaWdodCksYy5yZXF1ZXN0RnJhbWUmJmMucmVxdWVzdEZyYW1lKCkscyE9PWUuX21lZGlhU3RyZWFtVHJhY2smJihzPWUuX21lZGlhU3RyZWFtVHJhY2ssaS5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFtzXSkpfSxuLnN0b3BDYXB0dXJlPWRBKCgoKT0+bi5zdGFydENhcHR1cmUmJm4uc3RhcnRDYXB0dXJlKCkpLHIpO2NvbnN0IGQ9Yy5zdG9wO3JldHVybiBjLnN0b3A9KCk9PntkLmNhbGwoYyksaSYmKGkucmVtb3ZlKCksaS5zcmNPYmplY3Q9bnVsbCxpPW51bGwpLG4mJihuLndpZHRoPTAsbi5yZW1vdmUoKSxuLnN0b3BDYXB0dXJlJiZuLnN0b3BDYXB0dXJlKCksbi5zdGFydENhcHR1cmU9dm9pZCAwLG4uc3RvcENhcHR1cmU9dm9pZCAwLG49bnVsbCksV0MuZGVidWcoXCJjbGVhbiBsb3cgc3RyZWFtIHJlbmRlcmVyXCIpfSxjfWZ1bmN0aW9uIEdMKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBXTChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9HTChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpHTChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1MdihbQkwsa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdCxPYmplY3QsQXJyYXksT2JqZWN0LFN0cmluZyxTdHJpbmddKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxGTC5wcm90b3R5cGUsXCJjb25uZWN0XCIsbnVsbCksTHYoW0JMLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsQXJyYXldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxGTC5wcm90b3R5cGUsXCJjcmVhdGVEYXRhQ2hhbm5lbHNcIixudWxsKSxMdihbQkwsa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxBcnJheSxTdHJpbmcsT2JqZWN0XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sRkwucHJvdG90eXBlLFwicmVjZWl2ZVwiLG51bGwpLEx2KFtCTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxGTC5wcm90b3R5cGUsXCJiYXRjaFJlY2VpdmVcIixudWxsKSxMdihbQkwsa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sRkwucHJvdG90eXBlLFwic3RvcFJlY2VpdmluZ1wiLG51bGwpLEx2KFtCTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sRkwucHJvdG90eXBlLFwibXV0ZVJlbW90ZVwiLG51bGwpLEx2KFtCTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sRkwucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIsbnVsbCksTHYoW0JMLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLEZMLnByb3RvdHlwZSxcIm11dGVMb2NhbFwiLG51bGwpLEx2KFtCTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxGTC5wcm90b3R5cGUsXCJ1bm11dGVMb2NhbFwiLG51bGwpLEx2KFtCTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLEZMLnByb3RvdHlwZSxcImNsb3NlXCIsbnVsbCksTHYoW0JMLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmcsJHldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxGTC5wcm90b3R5cGUsXCJ1cGRhdGVFbmNvZGVyQ29uZmlnXCIsbnVsbCksTHYoW0JMLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmcsJHldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxGTC5wcm90b3R5cGUsXCJ1cGRhdGVTZW5kUGFyYW1ldGVyc1wiLG51bGwpLEx2KFtCTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbJHksU3RyaW5nXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sRkwucHJvdG90eXBlLFwicmVwbGFjZVRyYWNrXCIsbnVsbCksTHYoW0JMLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmddKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxGTC5wcm90b3R5cGUsXCJnZXRSZW1vdGVTU1JDXCIsbnVsbCk7Y29uc3QgSEw9XCJ2PTBcXG5vPS0gMCAwIElOIElQNCAxMjcuMC4wLjFcXG5zPUFnb3JhR2F0ZXdheVxcbnQ9MCAwXFxuYT1ncm91cDpCVU5ETEUgMFxcbmE9bXNpZC1zZW1hbnRpYzogV01TXFxuYT1pY2UtbGl0ZVxcbm09YXBwbGljYXRpb24gOSBVRFAvRFRMUy9TQ1RQIHdlYnJ0Yy1kYXRhY2hhbm5lbFxcbmM9SU4gSVA0IDEyNy4wLjAuMVxcbmE9bWlkOjBcXG5cIixLTD1cIjlcIixZTD0yZTQscUw9NGU0O2NsYXNzIEpMe2dldCBsb2NhbENhcGFiaWxpdGllcygpe3JldHVybiBiUyh0aGlzLl9sb2NhbENhcGFiaWxpdGllcyl9Z2V0IHJ0cENhcGFiaWxpdGllcygpe3JldHVybiBiUyh0aGlzLl9ydHBDYXBhYmlsaXRpZXMpfWdldCBjYW5kaWRhdGVzKCl7cmV0dXJuIGJTKHRoaXMuX2NhbmRpZGF0ZXMpfWdldCBpY2VQYXJhbWV0ZXJzKCl7cmV0dXJuIGJTKHRoaXMuX2ljZVBhcmFtZXRlcnMpfWdldCBkdGxzUGFyYW1ldGVycygpe3JldHVybiBiUyh0aGlzLl9kdGxzUGFyYW1ldGVycyl9Y29uc3RydWN0b3IoZSl7bnUodGhpcyxcInNlc3Npb25EZXNjXCIsdm9pZCAwKSxudSh0aGlzLFwiX2xvY2FsQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxudSh0aGlzLFwiX3J0cENhcGFiaWxpdGllc1wiLHZvaWQgMCksbnUodGhpcyxcIl9jYW5kaWRhdGVzXCIsdm9pZCAwKSxudSh0aGlzLFwiX2ljZVBhcmFtZXRlcnNcIix2b2lkIDApLG51KHRoaXMsXCJfZHRsc1BhcmFtZXRlcnNcIix2b2lkIDApLG51KHRoaXMsXCJzZXR1cFwiLHZvaWQgMCksbnUodGhpcyxcImN1cnJlbnRNaWRJbmRleFwiLHZvaWQgMCksbnUodGhpcyxcImNuYW1lXCIsdm9pZCAwKSxudSh0aGlzLFwiZmlyZWZveFNzcmNNaWRNYXBcIixuZXcgTWFwKSxlPWJTKGUpO2NvbnN0e3JlbW90ZUljZVBhcmFtZXRlcnM6dCxyZW1vdGVEdGxzUGFyYW1ldGVyczppLGNhbmRpZGF0ZXM6bixyZW1vdGVSVFBDYXBhYmlsaXRpZXM6cixyZW1vdGVTZXR1cDpzLGxvY2FsQ2FwYWJpbGl0aWVzOm8sY25hbWU6YX09ZSxjPUdQLnBhcnNlKEhMKTt0aGlzLl9ydHBDYXBhYmlsaXRpZXM9cix0aGlzLl9jYW5kaWRhdGVzPW4sdGhpcy5faWNlUGFyYW1ldGVycz10LHRoaXMuX2R0bHNQYXJhbWV0ZXJzPWksdGhpcy5fbG9jYWxDYXBhYmlsaXRpZXM9byx0aGlzLnNldHVwPXMsdGhpcy5jbmFtZT1hO2NvbnN0IGQ9dGhpcy5ydHBDYXBhYmlsaXRpZXMuc2VuZDtmb3IoY29uc3QgZSBvZiBjLm1lZGlhRGVzY3JpcHRpb25zKXtpZihlLmF0dHJpYnV0ZXMuaWNlVWZyYWc9dC5pY2VVZnJhZyxlLmF0dHJpYnV0ZXMuaWNlUHdkPXQuaWNlUHdkLGUuYXR0cmlidXRlcy5maW5nZXJwcmludHM9aS5maW5nZXJwcmludHMsZS5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9bixlLmF0dHJpYnV0ZXMuc2V0dXA9cyxcImFwcGxpY2F0aW9uXCI9PT1lLm1lZGlhLm1lZGlhVHlwZSYmKGUuYXR0cmlidXRlcy5zY3RwUG9ydD1cIjUwMDBcIiksXCJ2aWRlb1wiPT09ZS5tZWRpYS5tZWRpYVR5cGUmJihlLm1lZGlhLmZtdHM9ZC52aWRlb0NvZGVjcy5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzPWQudmlkZW9Db2RlY3MsZS5hdHRyaWJ1dGVzLmV4dG1hcHM9ZC52aWRlb0V4dGVuc2lvbnMsa0MoXCJQUkVMT0FEX01FRElBX0NPVU5UXCIpPjApKXtjb25zdHtzc3Jjczp0LHNzcmNHcm91cHM6aX09elAoW3tzc3JjSWQ6cUwscnR4OmtDKFwiVVNFX1NVQl9SVFhcIik/NDAwMDE6dm9pZCAwfV0sdGhpcy5jbmFtZSk7ZS5hdHRyaWJ1dGVzLnNzcmNzPXQsZS5hdHRyaWJ1dGVzLnNzcmNHcm91cHM9aX1pZihcImF1ZGlvXCI9PT1lLm1lZGlhLm1lZGlhVHlwZSYmKGUubWVkaWEuZm10cz1kLmF1ZGlvQ29kZWNzLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKSxlLmF0dHJpYnV0ZXMucGF5bG9hZHM9ZC5hdWRpb0NvZGVjcyxlLmF0dHJpYnV0ZXMuZXh0bWFwcz1kLmF1ZGlvRXh0ZW5zaW9ucyxzTChlKSxrQyhcIlBSRUxPQURfTUVESUFfQ09VTlRcIik+MCkpe2NvbnN0e3NzcmNzOnQsc3NyY0dyb3VwczppfT16UChbe3NzcmNJZDpZTH1dLHRoaXMuY25hbWUpO2UuYXR0cmlidXRlcy5zc3Jjcz10LGUuYXR0cmlidXRlcy5zc3JjR3JvdXBzPWl9fXRoaXMuc2Vzc2lvbkRlc2M9Yyx0aGlzLmN1cnJlbnRNaWRJbmRleD1jLm1lZGlhRGVzY3JpcHRpb25zLmxlbmd0aC0xfXVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlKXtjb25zdCB0PUdQLnBhcnNlKEhMKTt0aGlzLl9ydHBDYXBhYmlsaXRpZXM9ZTtjb25zdCBpPXRoaXMucnRwQ2FwYWJpbGl0aWVzLnNlbmQ7Zm9yKGNvbnN0IGUgb2YgdC5tZWRpYURlc2NyaXB0aW9ucyl7aWYoZS5hdHRyaWJ1dGVzLmljZVVmcmFnPXRoaXMuX2ljZVBhcmFtZXRlcnMuaWNlVWZyYWcsZS5hdHRyaWJ1dGVzLmljZVB3ZD10aGlzLl9pY2VQYXJhbWV0ZXJzLmljZVB3ZCxlLmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzPXRoaXMuX2R0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cyxlLmF0dHJpYnV0ZXMuY2FuZGlkYXRlcz10aGlzLl9jYW5kaWRhdGVzLGUuYXR0cmlidXRlcy5zZXR1cD10aGlzLnNldHVwLFwiYXBwbGljYXRpb25cIj09PWUubWVkaWEubWVkaWFUeXBlJiYoZS5hdHRyaWJ1dGVzLnNjdHBQb3J0PVwiNTAwMFwiKSxcInZpZGVvXCI9PT1lLm1lZGlhLm1lZGlhVHlwZSYmKGUubWVkaWEuZm10cz1pLnZpZGVvQ29kZWNzLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKSxlLmF0dHJpYnV0ZXMucGF5bG9hZHM9aS52aWRlb0NvZGVjcyxlLmF0dHJpYnV0ZXMuZXh0bWFwcz1pLnZpZGVvRXh0ZW5zaW9ucyxrQyhcIlBSRUxPQURfTUVESUFfQ09VTlRcIik+MCkpe2NvbnN0e3NzcmNzOnQsc3NyY0dyb3VwczppfT16UChbe3NzcmNJZDpxTCxydHg6a0MoXCJVU0VfU1VCX1JUWFwiKT80MDAwMTp2b2lkIDB9XSx0aGlzLmNuYW1lKTtlLmF0dHJpYnV0ZXMuc3NyY3M9dCxlLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1pfWlmKFwiYXVkaW9cIj09PWUubWVkaWEubWVkaWFUeXBlJiYoZS5tZWRpYS5mbXRzPWkuYXVkaW9Db2RlY3MubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpLGUuYXR0cmlidXRlcy5wYXlsb2Fkcz1pLmF1ZGlvQ29kZWNzLGUuYXR0cmlidXRlcy5leHRtYXBzPWkuYXVkaW9FeHRlbnNpb25zLGtDKFwiUFJFTE9BRF9NRURJQV9DT1VOVFwiKT4wKSl7Y29uc3R7c3NyY3M6dCxzc3JjR3JvdXBzOml9PXpQKFt7c3NyY0lkOllMfV0sdGhpcy5jbmFtZSk7ZS5hdHRyaWJ1dGVzLnNzcmNzPXQsZS5hdHRyaWJ1dGVzLnNzcmNHcm91cHM9aX19dGhpcy5zZXNzaW9uRGVzYz10LHRoaXMuY3VycmVudE1pZEluZGV4PXQubWVkaWFEZXNjcmlwdGlvbnMubGVuZ3RoLTF9cHJlbG9hZFJlbW90ZU1lZGlhKGUpe3RoaXMucnRwQ2FwYWJpbGl0aWVzO2NvbnN0IHQ9dGhpcy5jYW5kaWRhdGVzLGk9dGhpcy5kdGxzUGFyYW1ldGVycyxuPXRoaXMuaWNlUGFyYW1ldGVycyxyPXRoaXMucnRwQ2FwYWJpbGl0aWVzLnNlbmQ7Zm9yKGxldCBzPTE7czxlO3MrKyl7Y29uc3QgZT0yKnMrWUwsbz0yKnMrcUwse3NzcmNzOmEsc3NyY0dyb3VwczpjfT16UChbe3NzcmNJZDplfV0sdGhpcy5jbmFtZSkse3NzcmNzOmQsc3NyY0dyb3VwczpsfT16UChbe3NzcmNJZDpvLHJ0eDprQyhcIlVTRV9TVUJfUlRYXCIpP28rMTp2b2lkIDB9XSx0aGlzLmNuYW1lKTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnB1c2goe21lZGlhOnttZWRpYVR5cGU6XCJ2aWRlb1wiLHBvcnQ6S0wscHJvdG9zOltcIlVEUFwiLFwiVExTXCIsXCJSVFBcIixcIlNBVlBGXCJdLGZtdHM6ci52aWRlb0NvZGVjcy5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSl9LGNvbm5lY3Rpb25zOlt7bmV0dHlwZTpcIklOXCIsYWRkcnR5cGU6XCJJUDRcIixhZGRyZXNzOlwiMTI3LjAuMC4xXCJ9XSxiYW5kd2lkdGhzOltdLGF0dHJpYnV0ZXM6e2ljZVVmcmFnOm4uaWNlVWZyYWcsaWNlUHdkOm4uaWNlUHdkLHVucmVjb2duaXplZDpbXSxjYW5kaWRhdGVzOnQsZXh0bWFwczpyLnZpZGVvRXh0ZW5zaW9ucyxmaW5nZXJwcmludHM6aS5maW5nZXJwcmludHMsaW1hZ2VhdHRyOltdLG1zaWRzOltdLHJlbW90ZUNhbmRpZGF0ZXNMaXN0OltdLHJpZHM6W10sc3NyY3M6ZCxzc3JjR3JvdXBzOmwscnRjcEZlZWRiYWNrV2lsZGNhcmRzOltdLHBheWxvYWRzOnIudmlkZW9Db2RlY3MscnRjcDp7cG9ydDpcIjlcIixuZXRUeXBlOlwiSU5cIixhZGRyZXNzVHlwZTpcIklQNFwiLGFkZHJlc3M6XCIwLjAuMC4wXCJ9LHNldHVwOnRoaXMuc2V0dXAsZGlyZWN0aW9uOlwic2VuZG9ubHlcIixydGNwTXV4OiEwLHJ0Y3BSc2l6ZTohMCxtaWQ6XCJcIi5jb25jYXQoMipzLTEpfX0pLHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMucHVzaCh7bWVkaWE6e21lZGlhVHlwZTpcImF1ZGlvXCIscG9ydDpLTCxwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czpyLmF1ZGlvQ29kZWNzLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6bi5pY2VVZnJhZyxpY2VQd2Q6bi5pY2VQd2QsdW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6dCxleHRtYXBzOnIuYXVkaW9FeHRlbnNpb25zLGZpbmdlcnByaW50czppLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczphLHNzcmNHcm91cHM6YyxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6ci5hdWRpb0NvZGVjcyxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246XCJzZW5kb25seVwiLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpcIlwiLmNvbmNhdCgyKnMpfX0pLHRoaXMuY3VycmVudE1pZEluZGV4Kz0yfXRoaXMudXBkYXRlQnVuZGxlTWlkcygpfXRvU3RyaW5nKCl7cmV0dXJuIEdQLnByaW50KHRoaXMuc2Vzc2lvbkRlc2MpfXNlbmQoZSx0LGksbil7Y29uc3R7c3NyY3M6cixzc3JjR3JvdXBzOnN9PXpQKHQsdGhpcy5jbmFtZSxrQyhcIlNZTkNfR1JPVVBcIik/aTp2b2lkIDApLG89dGhpcy5maW5kUHJlbG9hZE1lZGlhRGVzYyhyKTtpZihvKXtpZihSZygpJiZ0aGlzLmZpcmVmb3hTc3JjTWlkTWFwLnNldChyWzBdLnNzcmNJZCxvLmF0dHJpYnV0ZXMubWlkKSxuJiYobi50d2NjfHxuLnJlbWIpKXtjb25zdCBlPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuaW5kZXhPZihvKTtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tlXT10aGlzLm11bmdTZW5kTWVkaWFEZXNjKG8sbikse21pZDpvLmF0dHJpYnV0ZXMubWlkLG5lZWRFeGNoYW5nZVNEUDohMH19cmV0dXJue21pZDpvLmF0dHJpYnV0ZXMubWlkLG5lZWRFeGNoYW5nZVNEUDohMX19e2NvbnN0IHQ9dGhpcy5maW5kQXZhaWxhYmxlTWVkaWFJbmRleChlLHIpO2xldCBpO3JldHVybi0xPT09dHx8VGcoKXx8Q2coKXx8QWcoKXx8MD09PXQmJmtDKFwiVVNFX1NVQl9SVFhcIik/KGk9dGhpcy5jcmVhdGVPclJlY3ljbGVTZW5kTWVkaWEoZSxyLHMsXCJzZW5kb25seVwiLG4pLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpKTooaT1iUyh0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW3RdKSxpLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwic2VuZG9ubHlcIixpLmF0dHJpYnV0ZXMuc3NyY3M9cixpLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1zLHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbdF09dGhpcy5tdW5nU2VuZE1lZGlhRGVzYyhpLG4pKSxSZygpJiZ0aGlzLmZpcmVmb3hTc3JjTWlkTWFwLnNldChyWzBdLnNzcmNJZCxpLmF0dHJpYnV0ZXMubWlkKSx7bWlkOmkuYXR0cmlidXRlcy5taWQsbmVlZEV4Y2hhbmdlU0RQOiEwfX19YmF0Y2hTZW5kKGUpe2NvbnN0IHQ9ZS5tYXAoKGU9PntsZXR7a2luZDp0LHNzcmNNc2c6aSxtc2xhYmVsOm59PWU7cmV0dXJuIHRoaXMuc2VuZCh0LGksbil9KSksaT1bXTtsZXQgbj0hMTtyZXR1cm4gdC5mb3JFYWNoKChlPT57bGV0e21pZDp0LG5lZWRFeGNoYW5nZVNEUDpyfT1lO3ImJihuPSEwKSxpLnB1c2godCl9KSkse21pZHM6aSxuZWVkRXhjaGFuZ2VTRFA6bn19c3RvcFNlbmRpbmcoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcigodD0+dC5hdHRyaWJ1dGVzLm1pZCYmLTEhPT1lLmluZGV4T2YodC5hdHRyaWJ1dGVzLm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5zdG9wU2VuZGluZy5cIik7dC5mb3JFYWNoKChlPT57XCIwXCI9PT1lLmF0dHJpYnV0ZXMubWlkfHxSZygpfHxUZygpfHxDZygpP2UuYXR0cmlidXRlcy5zc3Jjcz1bXTooZS5hdHRyaWJ1dGVzLnNzcmNzPVtdLGUuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiLGUubWVkaWEucG9ydD1cIjBcIil9KSksdGhpcy51cGRhdGVCdW5kbGVNaWRzKCl9bXV0ZShlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9uIG5vdCBmb3VuZCB3aXRoIFwiLmNvbmNhdChlLFwiIGluIHJlbW90ZSBTRFAgd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5tdXRlLlwiKSk7dC5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCJ9dW5tdXRlKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT50LmF0dHJpYnV0ZXMubWlkPT09ZSkpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb24gbm90IGZvdW5kIHdpdGggXCIuY29uY2F0KGUsXCIgaW4gcmVtb3RlIFNEUCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLnVubXV0ZS5cIikpO3QuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJzZW5kb25seVwifW11dGVSZW1vdGUoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcigodD0+UHIoZSkuY2FsbChlLHQuYXR0cmlidXRlcy5taWR8fFwiXCIpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAubXV0ZVJlbW90ZS5cIik7dC5mb3JFYWNoKChlPT57ZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCJ9KSl9dW5tdXRlUmVtb3RlKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoKHQ9PlByKGUpLmNhbGwoZSx0LmF0dHJpYnV0ZXMubWlkfHxcIlwiKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLm11dGVSZW1vdGUuXCIpO3QuZm9yRWFjaCgoZT0+e2UuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJyZWN2b25seVwifSkpfXJlY2VpdmUoZSx0LGksbil7ZS5mb3JFYWNoKCgoZSxyKT0+e3RoaXMuY3JlYXRlT3JSZWN5Y2xlUmVjdk1lZGlhKGUsW10sXCJyZWN2b25seVwiLHQsaSxuW3JdKX0pKSx0aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKX1zdG9wUmVjZWl2aW5nKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoKHQ9Pi0xIT09ZS5pbmRleE9mKHQuYXR0cmlidXRlcy5taWQpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJNZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcydzIGxlbmd0aCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLnJlY2VpdmUuXCIpO3QuZm9yRWFjaCgoZT0+e2UubWVkaWEucG9ydD1cIjBcIixlLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIn0pKSx0aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKX11cGRhdGVDYW5kaWRhdGVzKGUpe2U9PT1sSS5UQ1A/dGhpcy5fY2FuZGlkYXRlcy5mb3JFYWNoKChlPT57LTE9PT10aGlzLl9jYW5kaWRhdGVzLmZpbmRJbmRleCgodD0+XCJ0Y3BcIj09PXQudHJhbnNwb3J0JiZ0LmNvbm5lY3Rpb25BZGRyZXNzPT09ZS5jb25uZWN0aW9uQWRkcmVzcyYmdC5wb3J0PT09ZS5wb3J0KSkmJnRoaXMuX2NhbmRpZGF0ZXMucHVzaChXTChXTCh7fSxlKSx7fSx7Zm91bmRhdGlvbjpcInRjcGNhbmRpZGF0ZVwiLHByaW9yaXR5Ok51bWJlcihlLnByaW9yaXR5KS0xK1wiXCIsdHJhbnNwb3J0OlwidGNwXCIscG9ydDpOdW1iZXIoZS5wb3J0KSs5MCtcIlwifSkpfSkpOnRoaXMuX2NhbmRpZGF0ZXM9dGhpcy5fY2FuZGlkYXRlcy5maWx0ZXIoKGU9PlwidGNwXCIhPT1lLnRyYW5zcG9ydCkpO2Zvcihjb25zdCBlIG9mIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMpZS5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9dGhpcy5jYW5kaWRhdGVzfXJlc3RhcnRJQ0UoZSl7ZT1iUyhlKSx0aGlzLl9pY2VQYXJhbWV0ZXJzPWUsdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5mb3JFYWNoKCh0PT57dC5hdHRyaWJ1dGVzLmljZVVmcmFnPWUuaWNlVWZyYWcsdC5hdHRyaWJ1dGVzLmljZVB3ZD1lLmljZVB3ZH0pKX1wcmVkaWN0UmVjZWl2aW5nTWlkcyhlKXtjb25zdCB0PVtdO2ZvcihsZXQgaT0wO2k8ZTtpKyspdC5wdXNoKCh0aGlzLmN1cnJlbnRNaWRJbmRleCtpKzEpLnRvU3RyaW5nKDEwKSk7cmV0dXJuIHR9ZmluZEF2YWlsYWJsZU1lZGlhSW5kZXgoZSx0KXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kSW5kZXgoKGk9Pntjb25zdCBuPWkubWVkaWEubWVkaWFUeXBlPT09ZSYmXCIwXCIhPT1pLm1lZGlhLnBvcnQmJihcInNlbmRvbmx5XCI9PT1pLmF0dHJpYnV0ZXMuZGlyZWN0aW9ufHxcInNlbmRyZWN2XCI9PT1pLmF0dHJpYnV0ZXMuZGlyZWN0aW9uKSYmMD09PWkuYXR0cmlidXRlcy5zc3Jjcy5sZW5ndGg7aWYoUmcoKSl7aWYobil7Y29uc3QgZT10aGlzLmZpcmVmb3hTc3JjTWlkTWFwLmdldCh0WzBdLnNzcmNJZCk7cmV0dXJuIShlfHxcIjBcIiE9PWkuYXR0cmlidXRlcy5taWQmJlwiMVwiIT09aS5hdHRyaWJ1dGVzLm1pZCl8fCEoIWV8fGUhPT1pLmF0dHJpYnV0ZXMubWlkKX1yZXR1cm4hMX1yZXR1cm4gbn0pKX1jcmVhdGVPclJlY3ljbGVSZWN2TWVkaWEoZSx0LGksbixyLHMpe2NvbnN0IG89ZS5fbWVkaWFTdHJlYW1UcmFjay5raW5kLGE9dGhpcy5ydHBDYXBhYmlsaXRpZXMucmVjdixjPXRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZDtsZXQgZD1bXTtpZihvPT09ZEkuVklERU8pe3ZhciBsLGg7aWYoa0MoXCJIMjY0X1BST0ZJTEVfTEVWRUxfSURcIikmJlwiaDI2NFwiPT09biYmKGQ9YS52aWRlb0NvZGVjcy5maWx0ZXIoKGU9Pnt2YXIgdCxpLHI7cmV0dXJuIFByKHQ9KG51bGw9PT0oaT1lLnJ0cE1hcCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpfHxcIlwiKS5jYWxsKHQsbikmJihudWxsPT1lfHxudWxsPT09KHI9ZS5mbXRwKXx8dm9pZCAwPT09cj92b2lkIDA6ci5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXSk9PT1rQyhcIkgyNjRfUFJPRklMRV9MRVZFTF9JRFwiKX0pKSksIWR8fDA9PT0obnVsbD09PShsPWQpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLmxlbmd0aCkpe2NvbnN0IGU9Yy52aWRlb0NvZGVjcy5maWx0ZXIoKGU9Pnt2YXIgdCxpO3JldHVybiBQcih0PShudWxsPT09KGk9ZS5ydHBNYXApfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKXx8XCJcIikuY2FsbCh0LG4pfSkpOzAhPT1lLmxlbmd0aCYmKGQ9YS52aWRlb0NvZGVjcy5maWx0ZXIoKHQ9PmUuc29tZSgoZT0+ZS5wYXlsb2FkVHlwZT09PXQucGF5bG9hZFR5cGUpKSkpKX1pZihrQyhcIlVTRV9QVUJfUlRYXCIpKXtjb25zdCBlPWQubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKCkpKSx0PWEudmlkZW9Db2RlY3MuZmlsdGVyKCh0PT57dmFyIGksbjtyZXR1cm5cInJ0eFwiPT09KG51bGw9PT0oaT10LnJ0cE1hcCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZW5jb2RpbmdOYW1lKSYmUHIoZSkuY2FsbChlLChudWxsPT09KG49dC5mbXRwKXx8dm9pZCAwPT09bj92b2lkIDA6bi5wYXJhbWV0ZXJzLmFwdCl8fFwiXCIpfSkpO2Q9Wy4uLmQsLi4udF19aWYoMD09PWQubGVuZ3RoKVdDLndhcm5pbmcoXCJjb2RlYyBcIi5jb25jYXQobixcIiBub3QgaW5jbHVkZWQgaW4gcnRwQ2FwYWJpbGl0aWVzLCBmYWxsYmFjayB0byBkZWZhdWx0IHBheWxvYWRzOiBcIikuY29uY2F0KG51bGw9PT0oaD1hLnZpZGVvQ29kZWNzWzBdLnJ0cE1hcCl8fHZvaWQgMD09PWg/dm9pZCAwOmguZW5jb2RpbmdOYW1lKSksZD1hLnZpZGVvQ29kZWNzfWVsc2UgZD1hLmF1ZGlvQ29kZWNzLmZpbHRlcigoZT0+e3ZhciB0LGk7cmV0dXJuIFByKHQ9KG51bGw9PT0oaT1lLnJ0cE1hcCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpfHxcIlwiKS5jYWxsKHQscil9KSksMD09PWQubGVuZ3RoJiYoV0Mud2FybmluZyhcImNvZGVjIFwiLmNvbmNhdChyLFwiIG5vdCBpbmNsdWRlZCBpbiBydHBDYXBhYmlsaXRpZXMsIGZhbGxiYWNrIHRvIG9wdXNcIikpLGQ9YS5hdWRpb0NvZGVjcy5maWx0ZXIoKGU9Pnt2YXIgdCxpO3JldHVybiBQcih0PShudWxsPT09KGk9ZS5ydHBNYXApfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKXx8XCJcIikuY2FsbCh0LFwib3B1c1wiKX0pKSk7Y29uc3QgdT1vPT09ZEkuVklERU8/YS52aWRlb0V4dGVuc2lvbnM6YS5hdWRpb0V4dGVuc2lvbnM7dGhpcy5jdXJyZW50TWlkSW5kZXgrPTE7Y29uc3QgcD1cIlwiLmNvbmNhdCh0aGlzLmN1cnJlbnRNaWRJbmRleCk7bGV0IF89e21lZGlhOnttZWRpYVR5cGU6byxwb3J0OktMLHByb3RvczpbXCJVRFBcIixcIlRMU1wiLFwiUlRQXCIsXCJTQVZQRlwiXSxmbXRzOmQubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpfSxjb25uZWN0aW9uczpbe25ldHR5cGU6XCJJTlwiLGFkZHJ0eXBlOlwiSVA0XCIsYWRkcmVzczpcIjEyNy4wLjAuMVwifV0sYmFuZHdpZHRoczpbXSxhdHRyaWJ1dGVzOntpY2VVZnJhZzp0aGlzLmljZVBhcmFtZXRlcnMuaWNlVWZyYWcsaWNlUHdkOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VQd2QsdW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6dGhpcy5jYW5kaWRhdGVzLGV4dG1hcHM6dSxmaW5nZXJwcmludHM6dGhpcy5kdGxzUGFyYW1ldGVycy5maW5nZXJwcmludHMsaW1hZ2VhdHRyOltdLG1zaWRzOltdLHJlbW90ZUNhbmRpZGF0ZXNMaXN0OltdLHJpZHM6W10sc3NyY3M6dCxzc3JjR3JvdXBzOltdLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczpkLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLGRpcmVjdGlvbjppLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpcIlwiLmNvbmNhdChwKX19O189dGhpcy5tdW5nUmVjdk1lZGlhRHNlYyhfLGUscyk7Y29uc3QgRT10aGlzLmZpbmRGaXJzdENsb3NlZE1lZGlhKG8pO2lmKEUpe2NvbnN0IGU9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5pbmRleE9mKEUpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbZV09X31lbHNlIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMucHVzaChfKTtyZXR1cm4gX31jcmVhdGVPclJlY3ljbGVTZW5kTWVkaWEoZSx0LGksbixyKXtjb25zdCBzPXRoaXMucnRwQ2FwYWJpbGl0aWVzLnNlbmQsbz1lPT09ZEkuVklERU8/cy52aWRlb0NvZGVjczpzLmF1ZGlvQ29kZWNzLGE9ZT09PWRJLlZJREVPP3MudmlkZW9FeHRlbnNpb25zOnMuYXVkaW9FeHRlbnNpb25zO3RoaXMuY3VycmVudE1pZEluZGV4Kz0xO2NvbnN0IGM9XCJcIi5jb25jYXQodGhpcy5jdXJyZW50TWlkSW5kZXgpO2xldCBkPXttZWRpYTp7bWVkaWFUeXBlOmUscG9ydDpLTCxwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czpvLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVVmcmFnLGljZVB3ZDp0aGlzLmljZVBhcmFtZXRlcnMuaWNlUHdkLHVucmVjb2duaXplZDpbXSxjYW5kaWRhdGVzOnRoaXMuY2FuZGlkYXRlcyxleHRtYXBzOmEsZmluZ2VycHJpbnRzOnRoaXMuZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOnQsc3NyY0dyb3VwczppLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczpvLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLGRpcmVjdGlvbjpuLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpcIlwiLmNvbmNhdChjKX19O2Q9dGhpcy5tdW5nU2VuZE1lZGlhRGVzYyhkLHIpO2NvbnN0IGw9dGhpcy5maW5kRmlyc3RDbG9zZWRNZWRpYShlKTtpZihsKXtjb25zdCBlPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuaW5kZXhPZihsKTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2VdPWR9ZWxzZSB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnB1c2goZCk7cmV0dXJuIGR9dXBkYXRlQnVuZGxlTWlkcygpe3RoaXMuc2Vzc2lvbkRlc2MuYXR0cmlidXRlcy5ncm91cHNbMF0uaWRlbnRpZmljYXRpb25UYWc9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoKGU9PlwiMFwiIT09ZS5tZWRpYS5wb3J0KSkubWFwKChlPT5lLmF0dHJpYnV0ZXMubWlkKSl9bXVuZ1JlY3ZNZWRpYURzZWMoZSx0LGkpe2NvbnN0IG49YlMoZSk7cmV0dXJuIFFQKG4pLFhQKG4sdCksWlAobix0KSwkUChuKSxlTChuLGksdGhpcy5sb2NhbENhcGFiaWxpdGllcy5zZW5kKSxufW11bmdTZW5kTWVkaWFEZXNjKGUsdCl7Y29uc3QgaT1iUyhlKTtyZXR1cm4gZUwoaSx0LHRoaXMubG9jYWxDYXBhYmlsaXRpZXMucmVjdiksc0woaSksaX11cGRhdGVSZWN2TWVkaWEoZSx0KXtjb25zdCBpPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZEluZGV4KCh0PT50LmF0dHJpYnV0ZXMubWlkPT09ZSkpO2lmKC0xIT09aSl7Y29uc3QgZT10aGlzLm11bmdSZWN2TWVkaWFEc2VjKHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbaV0sdCk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tpXT1lfX1idW1wTWlkKGUpe3RoaXMuY3VycmVudE1pZEluZGV4Kz1lfWZpbmRGaXJzdENsb3NlZE1lZGlhKGUpe3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PlJnKCk/XCIwXCI9PT10Lm1lZGlhLnBvcnQmJnQubWVkaWEubWVkaWFUeXBlPT09ZTpcIjBcIj09PXQubWVkaWEucG9ydCkpfWZpbmRQcmVsb2FkTWVkaWFEZXNjKGUpe3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9Pnt2YXIgaTtyZXR1cm4obnVsbD09PShpPXQuYXR0cmlidXRlcyl8fHZvaWQgMD09PWl8fG51bGw9PT0oaT1pLnNzcmNzWzBdKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zc3JjSWQpPT09ZVswXS5zc3JjSWR9KSl9Z2V0U1NSQyhlKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuYXR0cmlidXRlcy5zc3Jjc319ZnVuY3Rpb24gekwoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIFhMKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3pMKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOnpMKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWNsYXNzIFFMIGV4dGVuZHMgTkl7Z2V0IGN1cnJlbnRMb2NhbERlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudExvY2FsRGVzY3JpcHRpb259Z2V0IGN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbn1nZXQgcGVlckNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZX1nZXQgaWNlQ29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlfWNvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcihlLHQpLG51KHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksbnUodGhpcyxcInBlZXJDb25uZWN0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwicmVtb3RlU0RQXCIsdm9pZCAwKSxudSh0aGlzLFwiaW5pdGlhbE9mZmVyXCIsdm9pZCAwKSxudSh0aGlzLFwidHJhbnNwb3J0RXZlbnRSZWNlaXZlclwiLHZvaWQgMCksbnUodGhpcyxcInN0YXRzRmlsdGVyXCIsdm9pZCAwKSxudSh0aGlzLFwidXNlWFJcIixrQyhcIlVTRV9YUlwiKSksbnUodGhpcyxcImxvY2FsQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxudSh0aGlzLFwibG9jYWxDYW5kaWRhdGVDb3VudFwiLDApLG51KHRoaXMsXCJhbGxDYW5kaWRhdGVzUmVjZWl2ZWRcIiwhMSksbnUodGhpcyxcImRhdGFTdHJlYW1DaGFubmVsTWFwXCIsbmV3IE1hcCksbnUodGhpcyxcImVzdGFibGlzaFByb21pc2VcIix2b2lkIDApLG51KHRoaXMsXCJtdXRleFwiLG5ldyBZUyhcIk5WRXh0ZW50aW9uc0Nvbm5lY3Rpb24tbXV0ZXhcIikpLG51KHRoaXMsXCJydGNNZWRpYVwiLHZvaWQgMCksdGhpcy5zdG9yZT10LHRoaXMucGVlckNvbm5lY3Rpb249aSx0aGlzLnN0YXRzRmlsdGVyPXdMKHRoaXMucGVlckNvbm5lY3Rpb24sa0MoXCJTVEFUU19VUERBVEVfSU5URVJWQUxcIiksdm9pZCAwLFJnKCk/MTIwMDp2b2lkIDApLHRoaXMuYmluZFBDRXZlbnRzKCksdGhpcy5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnN0b3JlLnAycElkPXRoaXMuc3RvcmUucDJwSWQrMSx0aGlzLmVzdGFibGlzaFByb21pc2U9dGhpcy5lc3RhYmxpc2goKX1hc3luYyBlc3RhYmxpc2goZSl7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpO2lmKCFlLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGluaXRpYWxPZmZlci5zZHAgd2hlbiB0cnlpbmcgdG8gZXN0YWJsaXNoIFBlZXJDb25uZWN0aW9uLlwiKTtjb25zdCB0PVlQKGUuc2RwKSxpPWF3YWl0IGlMKHtmaWx0ZXJSVFg6IWtDKFwiVVNFX1BVQl9SVFhcIikmJiFrQyhcIlVTRV9TVUJfUlRYXCIpLGZpbHRlclZpZGVvRmVjOmtDKFwiRklMVEVSX1ZJREVPX0ZFQ1wiKSxmaWx0ZXJBdWRpb0ZlYzprQyhcIkZJTFRFUl9BVURJT19GRUNcIil9LHt1c2VYUjp0aGlzLnVzZVhSfSk7cmV0dXJuIHRoaXMubG9jYWxDYXBhYmlsaXRpZXM9aSx0aGlzLmluaXRpYWxPZmZlcj1lLFhMKFhMKHt9LHQpLHt9LHtydHBDYXBhYmlsaXRpZXM6aSxvZmZlclNEUDplLnNkcH0pfWNhdGNoKGUpe3Rocm93IG5ldyBNdih4Zy5HRVRfTE9DQUxfQ09OTkVDVElPTl9QQVJBTVNfRkFJTEVELGUudG9TdHJpbmcoKSl9fWFzeW5jIGNvbm5lY3QoZSx0LGksbixyLHMpe3RyeXtpZighdGhpcy5pbml0aWFsT2ZmZXIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGVzdGFibGlzaCBOVkNvbm5lY3Rpb24gd2l0aG91dCBpbml0aWFsIG9mZmVyLlwiKTt0aGlzLnJlbW90ZVNEUD1uZXcgSkwoe3JlbW90ZUljZVBhcmFtZXRlcnM6ZSxyZW1vdGVEdGxzUGFyYW1ldGVyczp0LGNhbmRpZGF0ZXM6aSxyZW1vdGVSVFBDYXBhYmlsaXRpZXM6bixyZW1vdGVTZXR1cDpyLGxvY2FsQ2FwYWJpbGl0aWVzOnJMKHRoaXMubG9jYWxDYXBhYmlsaXRpZXMpLGNuYW1lOnN9KTtjb25zdCBvPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksYT1HUC5wYXJzZSh0aGlzLmluaXRpYWxPZmZlci5zZHApLGM9YS5tZWRpYURlc2NyaXB0aW9ucy5maW5kKChlPT5cImF1ZGlvXCI9PT1lLm1lZGlhLm1lZGlhVHlwZSkpO2MmJnNMKGMpLHRoaXMudXNlWFImJm9MKGEpO2NvbnN0IGQ9R1AucHJpbnQoYSksbD10aGlzLmxvZ1NEUEV4Y2hhbmdlKGR8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcImNvbm5lY3RcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6ZH0pLG51bGw9PWx8fGwobyksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpvfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IE12KHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJOVi5jb25uZWN0IGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyB1cGRhdGVSZW1vdGVDb25uZWN0KGUpe3ZhciB0LGksbjtudWxsPT09KHQ9dGhpcy5yZW1vdGVTRFApfHx2b2lkIDA9PT10fHx0LnVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlKSxudWxsPT09KGk9dGhpcy5yZW1vdGVTRFApfHx2b2lkIDA9PT1pfHxpLnByZWxvYWRSZW1vdGVNZWRpYSgyKTtjb25zdCByPW51bGw9PT0obj10aGlzLnJlbW90ZVNEUCl8fHZvaWQgMD09PW4/dm9pZCAwOm4udG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6cn0pO2NvbnN0IHM9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24ocyksV0MuZGVidWcoXCJbTlZFeHRlbnRpb25zQ29ubmVjdGlvbl0gdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzIGJ5IGV4Y2hhbmdpbmcgU0RQLlwiKX1zZW5kKGUsdCxpKXt2YXIgbj10aGlzO3JldHVybiB4UCgoZnVuY3Rpb24qKCl7Y29uc3Qgcj15aWVsZCBWUChuLm11dGV4LmxvY2soXCJGcm9tIE5WRXh0ZW50aW9uc0Nvbm5lY3Rpb24uc2VuZFwiKSk7dHJ5e2lmKCFuLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkV4dGVudGlvbnNDb25uZWN0aW9uLnNlbmQgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtjb25zdCBzPVtdO2UuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9bi5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihlLl9tZWRpYVN0cmVhbVRyYWNrLHtkaXJlY3Rpb246XCJzZW5kb25seVwifSk7cy5wdXNoKHQpfSkpLFJnKCkmJiEwPT09a0MoXCJTSU1VTENBU1RcIikmJih5aWVsZCBWUChuLmFwcGx5U2ltdWxjYXN0Rm9yRmlyZWZveChzLGUpKSk7Y29uc3Qgbz15aWVsZCBWUChuLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkpLGE9bi5yZW1vdGVTRFAucHJlZGljdFJlY2VpdmluZ01pZHMoZS5sZW5ndGgpLGM9bi5tdW5nU2VuZE9mZmVyU0RQKG8uc2RwLGUsYSksZD1HUC5wYXJzZShjKSxsPWEubWFwKChlPT57Y29uc3QgdD1kLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGV4dHJhY3Qgc3NyYyBmcm9tIG1lZGlhRGVzY3JpcHRpb24uXCIpO3JldHVybiBxUCh0LGtDKFwiVVNFX1BVQl9SVFhcIikpfSkpO2xldCBoO3RyeXtoPXlpZWxkIGx9Y2F0Y2gocil7aD1bXSxuLnJlbW90ZVNEUC5yZWNlaXZlKGUsdCxpLGgpO2NvbnN0IHM9bi5yZW1vdGVTRFAudG9TdHJpbmcoKTt0aHJvdyB5aWVsZCBWUChuLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpjfSkpLHlpZWxkIFZQKG4ucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6c30pKSx5aWVsZCBWUChuLnN0b3BTZW5kaW5nKGEsITApKSxyfW4ucmVtb3RlU0RQLnJlY2VpdmUoZSx0LGksaCk7Y29uc3QgdT1uLnJlbW90ZVNEUC50b1N0cmluZygpLHA9bi5sb2dTRFBFeGNoYW5nZShjLFwib2ZmZXJcIixcImxvY2FsXCIsXCJzZW5kXCIpO3JldHVybiB5aWVsZCBWUChuLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpjfSkpLHlpZWxkIFZQKG4uYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MocyxlKSkseWllbGQgVlAobi5hcHBseVNlbmRFbmNvZGluZ3MocyxlKSksbnVsbD09cHx8cCh1KSx5aWVsZCBWUChuLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnV9KSkscy5tYXAoKChlLHQpPT57Y29uc3QgaT1hW3RdO3JldHVybntsb2NhbFNTUkM6bFt0XSxpZDppLHRyYW5zY2VpdmVyOmV9fSkpfWNhdGNoKGUpe3Rocm93IGUgaW5zdGFuY2VvZiBNdj9lOm5ldyBNdih4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5zZW5kIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfWZpbmFsbHl7cigpfX0pKSgpfWFzeW5jIHN0b3BTZW5kaW5nKGUsdCl7Y29uc3QgaT10P3ZvaWQgMDphd2FpdCB0aGlzLm11dGV4LmxvY2soXCJGcm9tIE5WRXh0ZW50aW9uc0Nvbm5lY3Rpb24uc3RvcFNlbmRpbmdcIik7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkV4dGVudGlvbnNDb25uZWN0aW9uLnN0b3BTZW5kaW5nIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWRcIik7Y29uc3QgdD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbHRlcigodD0+LTEhPT1lLmluZGV4T2YodC5taWQpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIHRyeWluZyB0byBjYWxsIE5WRXh0ZW50aW9uc0Nvbm5lY3Rpb24uc3RvcFNlbmRpbmcuXCIpO3QubWFwKChlPT57dmFyIHQ7ZS5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiLG51bGw9PT0odD1lLnN0b3ApfHx2b2lkIDA9PT10fHx0LmNhbGwoZSl9KSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkscj10aGlzLmxvZ1NEUEV4Y2hhbmdlKG4uc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJzdG9wU2VuZGluZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obiksdGhpcy5yZW1vdGVTRFAuc3RvcFJlY2VpdmluZyhlKTtjb25zdCBzPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7bnVsbD09cnx8cihzKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnN9KX1jYXRjaChlKXt0aHJvdyBuZXcgTXYoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIk5WRXh0ZW50aW9uc0Nvbm5lY3Rpb24uc3RvcFNlbmRpbmcgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9ZmluYWxseXtpJiZpKCl9fWFzeW5jIGNyZWF0ZURhdGFDaGFubmVscyhlLHQpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbHMgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtsZXQgaT10aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmdldChlKTtyZXR1cm4gaSYmXCJvcGVuXCI9PT1pLnJlYWR5U3RhdGU/V0MuZGVidWcoXCJbUDJQQ29ubmVjdGlvbl0gQ2hhbm5lbHMgYXJlIGFscmVhZHkgYXZhaWxhYmxlIGFuZCBjYW4gYmUgcmV1c2VkIGRpcmVjdGx5LlwiKTooaT10aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVsKFwiZGF0YXN0cmVhbS1jaGFubmVsXCIse29yZGVyZWQ6ITEsbWF4UmV0cmFuc21pdHM6a0MoXCJEQVRBU1RSRUFNX01BWF9SRVRSQU5TTUlUU1wiKX0pLGkuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIsdGhpcy5kYXRhU3RyZWFtQ2hhbm5lbE1hcC5zZXQoZSxpKSksdm9pZCB0LmZvckVhY2goKGU9PntlLl91cGRhdGVPcmlnaW5EYXRhQ2hhbm5lbChpKX0pKX1jYXRjaChlKXt0aHJvdyBlIGluc3RhbmNlb2YgTXY/ZTpuZXcgTXYoeGcuREFUQUNIQU5ORUxfRkFJTEVELFwiTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbHMgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHN0b3BEYXRhQ2hhbm5lbHMoZSl7dHJ5e2NvbnN0IHQ9dGhpcy5kYXRhU3RyZWFtQ2hhbm5lbE1hcC5nZXQoZSk7cmV0dXJuIG51bGw9PXR8fHQuY2xvc2UoKSx2b2lkIHRoaXMuZGF0YVN0cmVhbUNoYW5uZWxNYXAuZGVsZXRlKGUpfWNhdGNoKGUpe3Rocm93IGUgaW5zdGFuY2VvZiBNdj9lOm5ldyBNdih4Zy5EQVRBQ0hBTk5FTF9GQUlMRUQsXCJOVkV4dGVudGlvbnNDb25uZWN0aW9uLnN0b3BEYXRhQ2hhbm5lbHMgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHJlY2VpdmUoZSx0LGksbil7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkV4dGVudGlvbnNDb25uZWN0aW9uLnJlY2VpdmUgXCIuY29uY2F0KGUsXCIgYmVmb3JlIHJlbW90ZVNEUCBjcmVhdGVkLlwiKSk7Y29uc3R7bWlkOnIsbmVlZEV4Y2hhbmdlU0RQOnN9PXRoaXMucmVtb3RlU0RQLnNlbmQoZSx0LGksbik7aWYocyl7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGk9dGhpcy5sb2dTRFBFeGNoYW5nZSh0LFwib2ZmZXJcIixcInJlbW90ZVwiLFwicmVjZWl2ZVwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6dH0pO2NvbnN0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKSxzPXRoaXMubXVuZ1JlY2VpdmVBbnN3ZXJTRFAobi5zZHAscixlKTtudWxsPT1pfHxpKHN8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpzfSksV0MuZGVidWcoXCJbTlZFeHRlbnRpb25zQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIi5jb25jYXQoZSxcIiBieSBleGNoYW5naW5nIFNEUC5cIikpfWVsc2UgV0MuZGVidWcoXCJbTlZFeHRlbnRpb25zQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIi5jb25jYXQoZSxcIiBubyBuZWVkIHRvIGV4Y2hhbmdlIFNEUC5cIikpO2NvbnN0IG89dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChlPT5lLm1pZD09PXIpKTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRyYW5zY2VpdmVyIGFmdGVyIHNldExvY2FsRGVzY3JpcHRpb24uXCIpO3JldHVybnt0cmFjazpvLnJlY2VpdmVyLnRyYWNrLGlkOnJ9fWNhdGNoKGUpe3Rocm93IG5ldyBNdih4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5yZWNlaXZlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBiYXRjaFJlY2VpdmUoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkV4dGVudGlvbnNDb25uZWN0aW9uLmJhdGNoUmVjZWl2ZSBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpO2NvbnN0e21pZHM6dCxuZWVkRXhjaGFuZ2VTRFA6aX09dGhpcy5yZW1vdGVTRFAuYmF0Y2hTZW5kKGUpO2lmKGkpe2NvbnN0IGU9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSx0PXRoaXMubG9nU0RQRXhjaGFuZ2UoZSxcIm9mZmVyXCIsXCJyZW1vdGVcIixcInJlY2VpdmVcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmV9KTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7bnVsbD09dHx8dChpLnNkcHx8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLFdDLmRlYnVnKFwiW05WRXh0ZW50aW9uc0Nvbm5lY3Rpb25dIGJhdGNoUmVjZWl2ZSBieSBleGNoYW5naW5nIFNEUC5cIil9ZWxzZSBXQy5kZWJ1ZyhcIltOVkV4dGVudGlvbnNDb25uZWN0aW9uXSBiYXRjaFJlY2VpdmUgbm8gbmVlZCB0byBleGNoYW5nZSBTRFAuXCIpO3JldHVybiB0Lm1hcCgoZT0+e2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKCh0PT50Lm1pZD09PWUpKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRyYW5zY2VpdmVyIGFmdGVyIHNldExvY2FsRGVzY3JpcHRpb24uXCIpO3JldHVybnt0cmFjazp0LnJlY2VpdmVyLnRyYWNrLGlkOmV9fSkpfWNhdGNoKGUpe3Rocm93IG5ldyBNdih4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5yZWNlaXZlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBzdG9wUmVjZWl2aW5nKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5zdG9wUmVjZWl2aW5nIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO3RoaXMucmVtb3RlU0RQLnN0b3BTZW5kaW5nKGUpO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxpPXRoaXMubG9nU0RQRXhjaGFuZ2UodCxcIm9mZmVyXCIsXCJyZW1vdGVcIixcInN0b3BSZWNlaXZpbmdcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnR9KTtjb25zdCBuPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7bnVsbD09aXx8aShuLnNkcHx8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pfWNhdGNoKGUpe3Rocm93IG5ldyBNdih4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiTlZFeHRlbnRpb25zQ29ubmVjdGlvbiBzdG9wUmVjZWl2aW5nIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBtdXRlUmVtb3RlKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5tdXRlUmVtb3RlIG1pZD1cIi5jb25jYXQoZSxcIiBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKSk7dGhpcy5yZW1vdGVTRFAubXV0ZShlKTtjb25zdCB0PXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT10aGlzLmxvZ1NEUEV4Y2hhbmdlKHQsXCJvZmZlclwiLFwicmVtb3RlXCIsXCJtdXRlUmVtb3RlXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO251bGw9PWl8fGkobi5zZHB8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKX1jYXRjaChlKXt0aHJvdyBuZXcgTXYoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIk5WRXh0ZW50aW9uc0Nvbm5lY3Rpb24ubXV0ZVJlbW90ZSBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgdW5tdXRlUmVtb3RlKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgTlZFeHRlbnRpb25zQ29ubmVjdGlvbi51bm11dGVSZW1vdGUgbWlkPVwiLmNvbmNhdChlLFwiIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpKTt0aGlzLnJlbW90ZVNEUC51bm11dGUoZSk7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGk9dGhpcy5sb2dTRFBFeGNoYW5nZSh0LFwib2ZmZXJcIixcInJlbW90ZVwiLFwidW5tdXRlUmVtb3RlXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO251bGw9PWl8fGkobi5zZHB8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKX1jYXRjaChlKXt0aHJvdyBuZXcgTXYoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIk5WRXh0ZW50aW9uc0Nvbm5lY3Rpb24udW5tdXRlUmVtb3RlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBtdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkV4dGVudGlvbnNDb25uZWN0aW9uLm11dGVMb2NhbCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtjb25zdCB0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKCh0PT50Lm1pZCYmLTEhPT1lLmluZGV4T2YodC5taWQpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aC5cIik7dC5tYXAoKGU9PntlLmRpcmVjdGlvbj1cImluYWN0aXZlXCJ9KSk7Y29uc3QgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCksbj10aGlzLmxvZ1NEUEV4Y2hhbmdlKGkuc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJtdXRlTG9jYWxcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLHRoaXMucmVtb3RlU0RQLm11dGVSZW1vdGUoZSk7Y29uc3Qgcj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO251bGw9PW58fG4ociksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpyfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IE12KHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJOVkV4dGVudGlvbnNDb25uZWN0aW9uLm11dGVMb2NhbCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgdW5tdXRlTG9jYWwoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBOVkV4dGVudGlvbnNDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9PnQubWlkJiYtMSE9PWUuaW5kZXhPZih0Lm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRyYW5zY2VpdmVycycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoLlwiKTt0Lm1hcCgoYXN5bmMoZSx0KT0+e2UuZGlyZWN0aW9uPVwic2VuZG9ubHlcIn0pKTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxuPXRoaXMubG9nU0RQRXhjaGFuZ2UoaS5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcInVubXV0ZUxvY2FsXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKSx0aGlzLnJlbW90ZVNEUC51bm11dGVSZW1vdGUoZSk7Y29uc3Qgcj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO251bGw9PW58fG4ociksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpyfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IE12KHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJOVkV4dGVudGlvbnNDb25uZWN0aW9uLnVubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1yZXN0YXJ0SUNFKGUpe3ZhciB0PXRoaXM7cmV0dXJuIHhQKChmdW5jdGlvbiooKXtjb25zdCBpPXlpZWxkIFZQKHQubXV0ZXgubG9jayhcIkZyb20gTlZFeHRlbnRpb25zQ29ubmVjdGlvbi5yZXN0YXJ0SUNFXCIpKTt0cnl7aWYoIXQucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXN0YXJ0SUNFIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIik7aWYoaEEoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uKXtjb25zdCBpPXQucGVlckNvbm5lY3Rpb24uZ2V0Q29uZmlndXJhdGlvbigpLG49ZT09PWxJLlJFTEFZP1wicmVsYXlcIjpcImFsbFwiO2kuaWNlVHJhbnNwb3J0UG9saWN5IT09biYmKFdDLmRlYnVnKFwicmVzdGFydElDRSBjaGFuZ2UgaWNlVHJhbnNwb3J0UG9saWN5IGZyb20gW1wiLmNvbmNhdChpLmljZVRyYW5zcG9ydFBvbGljeSxcIl0gdG8gW1wiKS5jb25jYXQobixcIl1cIikpLGkuaWNlVHJhbnNwb3J0UG9saWN5PW4sdC5wZWVyQ29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKGkpKX1lbHNlIGlmKGU9PT1sSS5SRUxBWSlyZXR1cm47ZSE9PWxJLlJFTEFZJiZ0LnJlbW90ZVNEUC51cGRhdGVDYW5kaWRhdGVzKGUpO2NvbnN0IG49eWllbGQgVlAodC5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcih7aWNlUmVzdGFydDohMH0pKTtpZighbi5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc3RhcnRJQ0UgYmVjYXVzZSByZXN0YXJ0IG9mZmVyIFNEUCBkb2VzIG5vdCBleGlzdC5cIik7Y29uc3Qgcj1ZUChuLnNkcCkse3JlbW90ZUljZVBhcmFtZXRlcnM6c309eWllbGQgci5pY2VQYXJhbWV0ZXJzO3QucmVtb3RlU0RQLnJlc3RhcnRJQ0Uocyk7Y29uc3Qgbz10LnJlbW90ZVNEUC50b1N0cmluZygpLGE9dC5sb2dTRFBFeGNoYW5nZShuLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwicmVzdGFydElDRVwiKTt5aWVsZCBWUCh0LnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obikpLG51bGw9PWF8fGEobykseWllbGQgVlAodC5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpvfSkpfWNhdGNoKGUpe1dDLndhcm5pbmcoXCJyZXN0YXJ0IElDRSBmYWlsZWQsIGFib3J0IG9wZXJhdGlvblwiLGUpfWZpbmFsbHl7aSgpfX0pKSgpfWNsb3NlKCl7dmFyIGU7bnVsbD09PShlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyxcImNsb3NlZFwiKSx0aGlzLnVuYmluZFBDRXZlbnRzKCksdGhpcy51bmJpbmRTdGF0c0V2ZW50cygpLHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLmRlc3Ryb3koKSx0aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmNsZWFyKCl9Z2V0U3RhdHMoKXtyZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRTdGF0cygpfWdldFJlbW90ZVZpZGVvSXNSZWFkeShlKXtyZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRWaWRlb0lzUmVhZHkoZSl9YXN5bmMgdXBkYXRlRW5jb2RlckNvbmZpZyhlLHQpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgTlZFeHRlbnRpb25zQ29ubmVjdGlvbi51cGRhdGVFbmNvZGVyQ29uZmlnIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLG49dGhpcy5tdW5nU2VuZE9mZmVyU0RQKGkuc2RwLFt0XSxbZV0pO3RoaXMucmVtb3RlU0RQLnVwZGF0ZVJlY3ZNZWRpYShlLHQpO2NvbnN0IHI9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxzPXRoaXMubG9nU0RQRXhjaGFuZ2UobixcIm9mZmVyXCIsXCJsb2NhbFwiLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpufSksbnVsbD09c3x8cyhyKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnJ9KX1jYXRjaChlKXt0aHJvdyBuZXcgTXYoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxlLnRvU3RyaW5nKCkpfX1hc3luYyB1cGRhdGVTZW5kUGFyYW1ldGVycyhlLHQpe2NvbnN0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9PnQubWlkPT09ZSkpOzE9PT1pLmxlbmd0aCYmKHRoaXMuaXNWUDhTaW11bGNhc3QodCk/UmcoKXx8YXdhaXQgdGhpcy5hcHBseVNpbXVsY2FzdEVuY29kaW5ncyhpLFt0XSk6YXdhaXQgdGhpcy5hcHBseVNlbmRFbmNvZGluZ3MoaSxbdF0pKX1zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeShlLHQpe3RoaXMuc3RhdHNGaWx0ZXIuc2V0VmlkZW9Jc1JlYWR5MihlLHQpfWFzeW5jIHJlcGxhY2VUcmFjayhlLHQpe2NvbnN0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChlPT5lLm1pZD09PXQpKTtpJiZhd2FpdCBpLnNlbmRlci5yZXBsYWNlVHJhY2soZS5fbWVkaWFTdHJlYW1UcmFjayl9Z2V0UDJQQ29ubmVjdGlvblBhcmFtcygpe3ZhciBlO2lmKG51bGw9PT0oZT10aGlzLnBlZXJDb25uZWN0aW9uLmN1cnJlbnRMb2NhbERlc2NyaXB0aW9uKXx8dm9pZCAwPT09ZXx8IWUuc2RwfHwhdGhpcy5sb2NhbENhcGFiaWxpdGllcyl0aHJvdyBuZXcgRXJyb3I7cmV0dXJuIFhMKFhMKHt9LFlQKHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudExvY2FsRGVzY3JpcHRpb24uc2RwKSkse30se3J0cENhcGFiaWxpdGllczp0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzfSl9YmluZFBDRXZlbnRzKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlO251bGw9PT0oZT10aGlzLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpfSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7bnVsbD09PShlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyx0aGlzLnBlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZSl9LHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9ZT0+e2UuY2FuZGlkYXRlP3RoaXMubG9jYWxDYW5kaWRhdGVDb3VudCs9MToodGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1udWxsLHRoaXMuYWxsQ2FuZGlkYXRlc1JlY2VpdmVkPSEwLFdDLmRlYnVnKFwiW3BjLVwiLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBsb2NhbCBjYW5kaWRhdGUgY291bnRcIiksdGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50KSl9LHNldFRpbWVvdXQoKCgpPT57dGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWR8fCh0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZD0hMCxXQy5kZWJ1ZyhcIltwYy1cIi5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gb25pY2VjYW5kaWRhdGUgdGltZW91dCwgbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCkpfSksa0MoXCJDQU5ESURBVEVfVElNRU9VVFwiKSl9dW5iaW5kUENFdmVudHMoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25zaWduYWxpbmdzdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGVlcnJvcj1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9udHJhY2s9bnVsbH1zdGF0aWMgcmVzb2x2ZVBDQ29uZmlndXJhdGlvbihlKXtjb25zdCB0PXtpY2VTZXJ2ZXJzOltdfTtyZXR1cm4gZS5pY2VTZXJ2ZXJzP3QuaWNlU2VydmVycz1lLmljZVNlcnZlcnM6ZS50dXJuU2VydmVyJiZcIm9mZlwiIT09ZS50dXJuU2VydmVyLm1vZGUmJihfUyhlLnR1cm5TZXJ2ZXIuc2VydmVycyk/dC5pY2VTZXJ2ZXJzPWUudHVyblNlcnZlci5zZXJ2ZXJzOih0LmljZVNlcnZlcnMmJnQuaWNlU2VydmVycy5wdXNoKC4uLlFMLnR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZS50dXJuU2VydmVyLnNlcnZlcnMpKSxrQyhcIlVTRV9UVVJOX1NFUlZFUl9PRl9HQVRFV0FZXCIpJiZ0LmljZVNlcnZlcnMmJmUudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkmJnQuaWNlU2VydmVycy5wdXNoKC4uLlFMLnR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZS50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheSkpLGtDKFwiRk9SQ0VfVFVSTl9UQ1BcIik/dC5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiOmUudHVyblNlcnZlci5zZXJ2ZXJzLmNvbmNhdChlLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5fHxbXSkuZm9yRWFjaCgoZT0+e2UuZm9yY2V0dXJuJiYodC5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiKX0pKSkpLHR9c3RhdGljIHR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnMoZSl7Y29uc3QgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKChlPT57ZS5zZWN1cml0eT9lLnRjcHBvcnQmJnQucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuczpcIi5jb25jYXQoaEQoZS50dXJuU2VydmVyVVJMKSxcIjpcIikuY29uY2F0KGUudGNwcG9ydCxcIj90cmFuc3BvcnQ9dGNwXCIpfSk6KGUudWRwcG9ydCYmIWtDKFwiRk9SQ0VfVFVSTl9UQ1BcIikmJnQucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiLmNvbmNhdChlLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChlLnVkcHBvcnQsXCI/dHJhbnNwb3J0PXVkcFwiKX0pLGUudGNwcG9ydCYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGUudGNwcG9ydCxcIj90cmFuc3BvcnQ9dGNwXCIpfSkpfSkpLHR9YXN5bmMgYXBwbHlTZW5kRW5jb2RpbmdzKGUsdCl7dHJ5e2lmKCFoQSgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybjtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybjtmb3IobGV0IGw9MDtsPGUubGVuZ3RoO2wrKyl7Y29uc3QgaD1lW2xdLHU9dFtsXTtpZih1JiZ1IGluc3RhbmNlb2YgZmIpe3ZhciBpLG4scjtpZih0aGlzLmlzVlA4U2ltdWxjYXN0KHUpKWNvbnRpbnVlO2NvbnN0IGU9e30sdD17fTtzd2l0Y2godS5fb3B0aW1pemF0aW9uTW9kZSl7Y2FzZVwibW90aW9uXCI6ZS5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1mcmFtZXJhdGVcIjticmVhaztjYXNlXCJkZXRhaWxcIjplLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cIm1haW50YWluLXJlc29sdXRpb25cIjticmVhaztkZWZhdWx0OmUuZGVncmFkYXRpb25QcmVmZXJlbmNlPVwiYmFsYW5jZWRcIn12YXIgcyxvLGEsYztpZihudWxsIT09KGk9dS5fZW5jb2RlckNvbmZpZykmJnZvaWQgMCE9PWkmJmkuYml0cmF0ZU1heCl0Lm1heEJpdHJhdGU9MWUzKihudWxsPT09KHM9dS5fZW5jb2RlckNvbmZpZyl8fHZvaWQgMD09PXM/dm9pZCAwOnMuYml0cmF0ZU1heCk7aWYoUHIobj11Ll9oaW50cykuY2FsbChuLER5LkxPV19TVFJFQU0pKW51bGwhPT0obz11Ll9lbmNvZGVyQ29uZmlnKSYmdm9pZCAwIT09byYmby5mcmFtZVJhdGUmJih0Lm1heEZyYW1lcmF0ZT1wRCh1Ll9lbmNvZGVyQ29uZmlnLmZyYW1lUmF0ZSkpLG51bGwhPT0oYT11Ll9lbmNvZGVyQ29uZmlnKSYmdm9pZCAwIT09YSYmYS5zY2FsZVJlc29sdXRpb25Eb3duQnkmJihudWxsPT09KGM9dS5fZW5jb2RlckNvbmZpZyl8fHZvaWQgMD09PWM/dm9pZCAwOmMuc2NhbGVSZXNvbHV0aW9uRG93bkJ5KT4xJiYodC5zY2FsZVJlc29sdXRpb25Eb3duQnk9dS5fZW5jb2RlckNvbmZpZy5zY2FsZVJlc29sdXRpb25Eb3duQnkpO2lmKGtDKFwiRFNDUF9UWVBFXCIpJiZrZygpKXt2YXIgZDtjb25zdCBlPWtDKFwiRFNDUF9UWVBFXCIpO1ByKGQ9W1widmVyeS1sb3dcIixcImxvd1wiLFwibWVkaXVtXCIsXCJoaWdoXCJdKS5jYWxsKGQsZSkmJih0Lm5ldHdvcmtQcmlvcml0eT1lKX1jb25zdCBsPWguc2VuZGVyLmdldFBhcmFtZXRlcnMoKSxwPW51bGw9PT0ocj1sLmVuY29kaW5ncyl8fHZvaWQgMD09PXI/dm9pZCAwOnJbMF07UmcoKSYmIXAmJihlLmVuY29kaW5ncz1bdF0pLHAmJk9iamVjdC5hc3NpZ24ocCx0KSxPYmplY3QuYXNzaWduKGwsZSksYXdhaXQgaC5zZW5kZXIuc2V0UGFyYW1ldGVycyhsKX19fWNhdGNoKGUpe1dDLmRlYnVnKFwiQXBwbHkgUlRQU2VuZEVuY29kaW5ncyBmYWlsZWQuXCIpfX1tdW5nU2VuZE9mZmVyU0RQKGUsdCxpKXtjb25zdCBuPUdQLnBhcnNlKGUpO3JldHVybiB0LmZvckVhY2goKChlLHQpPT57Y29uc3Qgcj1pW3RdLHM9bi5tZWRpYURlc2NyaXB0aW9ucy5maW5kKChlPT5lLmF0dHJpYnV0ZXMubWlkPT09cikpO3MmJihYUChzLGUpLHRMKHMsZSx0aGlzLnN0b3JlLmNvZGVjKSl9KSksR1AucHJpbnQobil9bXVuZ1JlY2VpdmVBbnN3ZXJTRFAoZSx0LGkpe2NvbnN0IG49R1AucGFyc2UoZSkscj1uLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKGU9PmUuYXR0cmlidXRlcy5taWQ9PT10KSk7cmV0dXJuIHImJmk9PT1kSS5BVURJTyYmXCJhdWRpb1wiPT09ci5tZWRpYS5tZWRpYVR5cGUmJnNMKHIpLHRoaXMudXNlWFImJm9MKG4pLEdQLnByaW50KG4pfWJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvRGVjb2RlZD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWQ9KGUsdCxpKT0+e3ZhciBuO251bGw9PT0obj10aGlzLm9uRmlyc3RWaWRlb0RlY29kZWQpfHx2b2lkIDA9PT1ufHxuLmNhbGwodGhpcyxlLHQsaSl9LHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO251bGw9PT0oaT10aGlzLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyxlLHQpfSx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPShlLHQpPT57dmFyIGk7bnVsbD09PShpPXRoaXMub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyxlLHQpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfX11bmJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9dm9pZCAwfWFzeW5jIGFwcGx5U2ltdWxjYXN0Rm9yRmlyZWZveChlLHQpe2lmKGUubGVuZ3RoPT09dC5sZW5ndGgpZm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBpLG4scixzLG87Y29uc3QgYz1lW2FdLGQ9dFthXTtpZihkIGluc3RhbmNlb2YgZmImJiFQcihpPWQuX2hpbnRzKS5jYWxsKGksRHkuTE9XX1NUUkVBTSkmJm51bGwhPT0obj1kLl9lbmNvZGVyQ29uZmlnKSYmdm9pZCAwIT09biYmbi5iaXRyYXRlTWF4JiYobnVsbD09PShyPWQuX2VuY29kZXJDb25maWcpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmJpdHJhdGVNYXgpPjIwMCYmbnVsbCE9PShzPWQuX3NjYWxhYmlsaXR5TW9kZSkmJnZvaWQgMCE9PXMmJnMubnVtU3BhdGlhbExheWVycyYmKG51bGw9PT0obz1kLl9zY2FsYWJpbGl0eU1vZGUpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLm51bVNwYXRpYWxMYXllcnMpPjEmJlwidnA4XCI9PT10aGlzLnN0b3JlLmNvZGVjKXtjb25zdCBlPXt9LHQ9e2hpZ2g6MWUzKihkLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgtNTApLG1lZGl1bTo1ZTR9O2UuZW5jb2RpbmdzPVt7cmlkOlwibVwiLGFjdGl2ZTohMCxtYXhCaXRyYXRlOnQubWVkaXVtLHNjYWxlUmVzb2x1dGlvbkRvd25CeTo0fSx7cmlkOlwiaFwiLGFjdGl2ZTohMCxtYXhCaXRyYXRlOnQuaGlnaH1dO2NvbnN0IGk9Yy5zZW5kZXIuZ2V0UGFyYW1ldGVycygpO2F3YWl0IGMuc2VuZGVyLnNldFBhcmFtZXRlcnMoT2JqZWN0LmFzc2lnbihpLGUpKX19fWFzeW5jIGFwcGx5U2ltdWxjYXN0RW5jb2RpbmdzKGUsdCl7aWYoIVJnKCkmJmUubGVuZ3RoPT09dC5sZW5ndGgpZm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG49dFtpXTtpZihuIGluc3RhbmNlb2YgZmImJnRoaXMuaXNWUDhTaW11bGNhc3Qobikpe2NvbnN0IHQ9ZVtpXSxyPXt9LHM9e2hpZ2g6MWUzKihuLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgtNTApLG1lZGl1bTo1ZTR9O3IuZW5jb2RpbmdzPVt7YWN0aXZlOiEwLGFkYXB0aXZlUHRpbWU6ITEsbmV0d29ya1ByaW9yaXR5OlwiaGlnaFwiLHByaW9yaXR5OlwiaGlnaFwiLG1heEJpdHJhdGU6cy5oaWdofSx7YWN0aXZlOiEwLGFkYXB0aXZlUHRpbWU6ITEsbmV0d29ya1ByaW9yaXR5OlwibG93XCIscHJpb3JpdHk6XCJsb3dcIixtYXhCaXRyYXRlOnMubWVkaXVtLHNjYWxlUmVzb2x1dGlvbkRvd25CeTo0fV07Y29uc3Qgbz10LnNlbmRlci5nZXRQYXJhbWV0ZXJzKCk7YXdhaXQgdC5zZW5kZXIuc2V0UGFyYW1ldGVycyhPYmplY3QuYXNzaWduKG8scikpfX19aXNWUDhTaW11bGNhc3QoZSl7dmFyIHQsaSxuLHIscztyZXR1cm4hIShlIGluc3RhbmNlb2YgZmImJmtDKFwiU0lNVUxDQVNUXCIpJiZcInZwOFwiPT09dGhpcy5zdG9yZS5jb2RlYyYmIVByKHQ9ZS5faGludHMpLmNhbGwodCxEeS5MT1dfU1RSRUFNKSYmbnVsbCE9PShpPWUuX2VuY29kZXJDb25maWcpJiZ2b2lkIDAhPT1pJiZpLmJpdHJhdGVNYXgmJihudWxsPT09KG49ZS5fZW5jb2RlckNvbmZpZyl8fHZvaWQgMD09PW4/dm9pZCAwOm4uYml0cmF0ZU1heCk+MjAwJiZudWxsIT09KHI9ZS5fc2NhbGFiaWxpdHlNb2RlKSYmdm9pZCAwIT09ciYmci5udW1TcGF0aWFsTGF5ZXJzJiYobnVsbD09PShzPWUuX3NjYWxhYmlsaXR5TW9kZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMubnVtU3BhdGlhbExheWVycyk+MSl9bG9nU0RQRXhjaGFuZ2UoZSx0LGksbil7aWYoa0MoXCJTRFBfTE9HR0lOR1wiKSlyZXR1cm4gV0MudXBsb2FkKFwiZXhjaGFuZ2luZyBcIi5jb25jYXQoaSxcIiBcIikuY29uY2F0KHQsXCIgU0RQIGR1cmluZyBOVkV4dGVudGlvbnNDb25uZWN0aW9uLlwiKS5jb25jYXQobixcIlxcblwiKSxlKSxcIm9mZmVyXCI9PT10P2U9Pnt0aGlzLmxvZ1NEUEV4Y2hhbmdlKGUsXCJhbnN3ZXJcIixcImxvY2FsXCI9PT1pP1wicmVtb3RlXCI6XCJsb2NhbFwiLG4pfTp2b2lkIDB9YXN5bmMgZ2V0UmVtb3RlU1NSQyhlKXtpZighdGhpcy5yZW1vdGVTRFApcmV0dXJuO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAuZ2V0U1NSQyhlKTtyZXR1cm4gbnVsbD09dD92b2lkIDA6dFswXS5zc3JjSWR9c2V0Q29uZmlndXJhdGlvbihlKXtpZihoQSgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24pe2NvbnN0IHQ9UUwucmVzb2x2ZVBDQ29uZmlndXJhdGlvbihlKTt0aGlzLnBlZXJDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24odCl9fX1mdW5jdGlvbiBaTChlLHQsaSl7Y29uc3Qgbj1lW3RdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBtdXRleCBvbiBvYmplY3QgcHJvcGVydHkuXCIpO3JldHVybiBpLnZhbHVlPWFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLm11dGV4LGk9YXdhaXQgZS5sb2NrKFwiRnJvbSBOVkV4dGVudGlvbnNDb25uZWN0aW9uLlwiLmNvbmNhdCh0KSk7dHJ5e2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLHM9bmV3IEFycmF5KHIpLG89MDtvPHI7bysrKXNbb109YXJndW1lbnRzW29dO3JldHVybiBhd2FpdCBuLmFwcGx5KHRoaXMscyl9ZmluYWxseXtpKCl9fSxpfWZ1bmN0aW9uICRMKGUpe3ZhciB0LGksbixyPTI7Zm9yKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJihpPUJQLG49U3ltYm9sLml0ZXJhdG9yKTtyLS07KXtpZihpJiZudWxsIT0odD1lW2ldKSlyZXR1cm4gdC5jYWxsKGUpO2lmKG4mJm51bGwhPSh0PWVbbl0pKXJldHVybiBuZXcgZWsodC5jYWxsKGUpKTtpPVwiQEBhc3luY0l0ZXJhdG9yXCIsbj1cIkBAaXRlcmF0b3JcIn10aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGlzIG5vdCBhc3luYyBpdGVyYWJsZVwiKX1mdW5jdGlvbiBlayhlKXtmdW5jdGlvbiB0KGUpe2lmKE9iamVjdChlKSE9PWUpcmV0dXJuIHRnLnJlamVjdChuZXcgVHlwZUVycm9yKGUrXCIgaXMgbm90IGFuIG9iamVjdC5cIikpO3ZhciB0PWUuZG9uZTtyZXR1cm4gdGcucmVzb2x2ZShlLnZhbHVlKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm57dmFsdWU6ZSxkb25lOnR9fSkpfXJldHVybiBlaz1mdW5jdGlvbihlKXt0aGlzLnM9ZSx0aGlzLm49ZS5uZXh0fSxlay5wcm90b3R5cGU9e3M6bnVsbCxuOm51bGwsbmV4dDpmdW5jdGlvbigpe3JldHVybiB0KHRoaXMubi5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9LHJldHVybjpmdW5jdGlvbihlKXt2YXIgaT10aGlzLnMucmV0dXJuO3JldHVybiB2b2lkIDA9PT1pP3RnLnJlc29sdmUoe3ZhbHVlOmUsZG9uZTohMH0pOnQoaS5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9LHRocm93OmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMucy5yZXR1cm47cmV0dXJuIHZvaWQgMD09PWk/dGcucmVqZWN0KGUpOnQoaS5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9fSxuZXcgZWsoZSl9THYoW1pMLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsT2JqZWN0LEFycmF5LE9iamVjdCxTdHJpbmcsU3RyaW5nXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUUwucHJvdG90eXBlLFwiY29ubmVjdFwiLG51bGwpLEx2KFtaTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUUwucHJvdG90eXBlLFwidXBkYXRlUmVtb3RlQ29ubmVjdFwiLG51bGwpLEx2KFtaTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0LEFycmF5XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUUwucHJvdG90eXBlLFwiY3JlYXRlRGF0YUNoYW5uZWxzXCIsbnVsbCksTHYoW1pMLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmcsQXJyYXksU3RyaW5nLE9iamVjdF0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFFMLnByb3RvdHlwZSxcInJlY2VpdmVcIixudWxsKSxMdihbWkwsa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUUwucHJvdG90eXBlLFwiYmF0Y2hSZWNlaXZlXCIsbnVsbCksTHYoW1pMLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFFMLnByb3RvdHlwZSxcInN0b3BSZWNlaXZpbmdcIixudWxsKSxMdihbWkwsa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFFMLnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIixudWxsKSxMdihbWkwsa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFFMLnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiLG51bGwpLEx2KFtaTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxRTC5wcm90b3R5cGUsXCJtdXRlTG9jYWxcIixudWxsKSxMdihbWkwsa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUUwucHJvdG90eXBlLFwidW5tdXRlTG9jYWxcIixudWxsKSxMdihbWkwsa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxRTC5wcm90b3R5cGUsXCJjbG9zZVwiLG51bGwpLEx2KFtaTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nLCR5XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUUwucHJvdG90eXBlLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiLG51bGwpLEx2KFtaTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nLCR5XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUUwucHJvdG90eXBlLFwidXBkYXRlU2VuZFBhcmFtZXRlcnNcIixudWxsKSxMdihbWkwsa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsWyR5LFN0cmluZ10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLFFMLnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiLG51bGwpLEx2KFtaTCxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sUUwucHJvdG90eXBlLFwiZ2V0UmVtb3RlU1NSQ1wiLG51bGwpO2NsYXNzIHRrIGV4dGVuZHMgTkl7Z2V0IGN1cnJlbnRMb2NhbERlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudExvY2FsRGVzY3JpcHRpb259Z2V0IGN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbn1nZXQgcGVlckNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZX1nZXQgaWNlQ29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSxudSh0aGlzLFwic3RvcmVcIix2b2lkIDApLG51KHRoaXMsXCJwZWVyQ29ubmVjdGlvblwiLHZvaWQgMCksbnUodGhpcyxcImNuYW1lXCIsdm9pZCAwKSxudSh0aGlzLFwibXV0ZXhcIixuZXcgWVMoXCJEYXRhQ2hhbm5lbENvbm5lY3Rpb24tbXV0ZXhcIikpLG51KHRoaXMsXCJkYXRhQ2hhbm5lbFwiLHZvaWQgMCksbnUodGhpcyxcIl9wMnBDb25uZWN0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwiZXN0YWJsaXNoUHJvbWlzZVwiLHZvaWQgMCksbnUodGhpcyxcIl9udk1lZGlhXCIsdm9pZCAwKSx0aGlzLnN0b3JlPXQsdGhpcy5zdG9yZS5kY0lkPXRoaXMuc3RvcmUuZGNJZCsxLHRoaXMucGVlckNvbm5lY3Rpb249bmV3IFJUQ1BlZXJDb25uZWN0aW9uKHRrLnJlc29sdmVQQ0NvbmZpZ3VyYXRpb24oZSkse29wdGlvbmFsOlt7Z29vZ0RzY3A6ITB9XX0pLHRoaXMuZGF0YUNoYW5uZWw9dGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbChcImFnb3JhLXNpZ25hbFwiLHtvcmRlcmVkOiExLG1heFBhY2tldExpZmVUaW1lOjUwfSksdGhpcy5kYXRhQ2hhbm5lbC5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIix0aGlzLl9wMnBDb25uZWN0aW9uPW5ldyBRTChlLHQsdGhpcy5wZWVyQ29ubmVjdGlvbiksdGhpcy5iaW5kUENFdmVudHMoKSx0aGlzLmVzdGFibGlzaFByb21pc2U9dGhpcy5fcDJwQ29ubmVjdGlvbi5lc3RhYmxpc2hQcm9taXNlfWFzeW5jIGVzdGFibGlzaCgpe3ZhciBlO2NvbnN0IHQ9bnVsbD09PShlPXRoaXMuX252TWVkaWEpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldExvY2FsUnRwQ2FwYWJpbGl0aWVzKCk7cmV0dXJuIGF3YWl0IHRoaXMuX3AycENvbm5lY3Rpb24uZXN0YWJsaXNoKHQpfWdldFAyUENvbm5lY3Rpb25QYXJhbXMoKXtyZXR1cm4gdGhpcy5fcDJwQ29ubmVjdGlvbi5nZXRQMlBDb25uZWN0aW9uUGFyYW1zKCl9YXN5bmMgY29ubmVjdChlLHQsaSxuLHIscyl7cmV0dXJuIHRoaXMuY25hbWU9cyxhd2FpdCB0aGlzLl9wMnBDb25uZWN0aW9uLmNvbm5lY3QoZSx0LGksbixyLHMpLGF3YWl0IG5ldyB0ZygoKGUsdCk9Pntjb25zdCBuPXNldFRpbWVvdXQoKCgpPT57dGhpcy5jbG9zZVNpZ25hbCgpLHQobmV3IE12KHhnLkRBVEFDSEFOTkVMX0NPTk5FQ1RJT05fVElNRU9VVCxcIkRhdGFjaGFubmVsIGNvbm5lY3Rpb24gdGltZWQgb3V0LCBjYW5kaWRhdGVzOiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoaSkpKSl9KSwyZTMpO3RoaXMuZGF0YUNoYW5uZWwub25vcGVuPSgpPT57aWYoXCJvcGVuXCI9PT10aGlzLmRhdGFDaGFubmVsLnJlYWR5U3RhdGUpcmV0dXJuIGNsZWFyVGltZW91dChuKSx2b2lkIGUoKX0sdGhpcy5kYXRhQ2hhbm5lbC5vbmVycm9yPWU9Pnt0aGlzLmNsb3NlU2lnbmFsKCksdChlKX19KSkse3RyYW5zbWl0dGVyOnRoaXMuZGF0YUNoYW5uZWwsY2xvc2U6dGhpcy5jbG9zZVNpZ25hbC5iaW5kKHRoaXMpfX1zZW5kKGUsdCxpKXt2YXIgbj10aGlzO3JldHVybiB4UCgoZnVuY3Rpb24qKCl7Y29uc3Qgcj15aWVsZCBWUChuLm11dGV4LmxvY2soXCJGcm9tIERhdGFDaGFubmVsQ29ubmVjdGlvbi5zZW5kXCIpKTt0cnl7cmV0dXJuIHlpZWxkKkZQKCRMKG4uX3AycENvbm5lY3Rpb24uc2VuZChlLHQsaSkpKX1maW5hbGx5e3IoKX19KSkoKX1hc3luYyBzdG9wU2VuZGluZyhlLHQpe3JldHVybiB0aGlzLl9wMnBDb25uZWN0aW9uLnN0b3BTZW5kaW5nKGUsdCl9YXN5bmMgY3JlYXRlRGF0YUNoYW5uZWxzKGUsdCl7cmV0dXJuIHRoaXMuX3AycENvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWxzKGUsdCl9YXN5bmMgc3RvcERhdGFDaGFubmVscyhlKXtyZXR1cm4gdGhpcy5fcDJwQ29ubmVjdGlvbi5zdG9wRGF0YUNoYW5uZWxzKGUpfWFzeW5jIHJlY2VpdmUoZSx0LGksbil7cmV0dXJuIHRoaXMuX252TWVkaWE/KFdDLmRlYnVnKFwiW0RhdGFDaGFubmVsQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIi5jb25jYXQoZSxcIiBieSBEYXRhQ2hhbm5lbC5cIikpLGF3YWl0IHRoaXMuX252TWVkaWEucmV2ZWl2ZUJ5UlRDTWVkaWEoZSx0LHRoaXMuY25hbWUpKTooV0MuZGVidWcoXCJbRGF0YUNoYW5uZWxDb25uZWN0aW9uXSByZWNlaXZlIFwiLmNvbmNhdChlLFwiIGJ5IFdlYlJUQy5cIikpLGF3YWl0IHRoaXMuX3AycENvbm5lY3Rpb24ucmVjZWl2ZShlLHQsaSxuKSl9YXN5bmMgYmF0Y2hSZWNlaXZlKGUpe3JldHVyblsuLi5hd2FpdCB0aGlzLl9wMnBDb25uZWN0aW9uLmJhdGNoUmVjZWl2ZShlKV19YXN5bmMgc3RvcFJlY2VpdmluZyhlKXtyZXR1cm4gYXdhaXQgdGhpcy5fcDJwQ29ubmVjdGlvbi5zdG9wUmVjZWl2aW5nKGUpfWFzeW5jIG11dGVSZW1vdGUoZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3AycENvbm5lY3Rpb24ubXV0ZVJlbW90ZShlKX1hc3luYyB1bm11dGVSZW1vdGUoZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3AycENvbm5lY3Rpb24udW5tdXRlUmVtb3RlKGUpfWFzeW5jIG11dGVMb2NhbChlKXtyZXR1cm4gYXdhaXQgdGhpcy5fcDJwQ29ubmVjdGlvbi5tdXRlTG9jYWwoZSl9YXN5bmMgdW5tdXRlTG9jYWwoZSl7cmV0dXJuIGF3YWl0IHRoaXMuX3AycENvbm5lY3Rpb24udW5tdXRlTG9jYWwoZSl9cmVzdGFydElDRShlKXt2YXIgdD10aGlzO3JldHVybiB4UCgoZnVuY3Rpb24qKCl7cmV0dXJuIHlpZWxkKkZQKCRMKHQuX3AycENvbm5lY3Rpb24ucmVzdGFydElDRShlKSkpfSkpKCl9Y2xvc2UoKXt2YXIgZTtudWxsPT09KGU9dGhpcy5fbnZNZWRpYSl8fHZvaWQgMD09PWV8fGUuY2xvc2UoKSx0aGlzLl9wMnBDb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuX3AycENvbm5lY3Rpb24pfWdldFN0YXRzKCl7cmV0dXJuIHRoaXMuX3AycENvbm5lY3Rpb24uZ2V0U3RhdHMoKX1nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZSl7cmV0dXJuIHRoaXMuX3AycENvbm5lY3Rpb24uZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpfXVwZGF0ZVJlbW90ZUNvbm5lY3QoZSl7dmFyIHQ7bnVsbD09PSh0PXRoaXMuX252TWVkaWEpfHx2b2lkIDA9PT10fHx0LnNldFJlbW90ZVJ0cENhcGFiaWxpdGllcyhlKSx0aGlzLl9wMnBDb25uZWN0aW9uLnVwZGF0ZVJlbW90ZUNvbm5lY3QoZSl9YXN5bmMgdXBkYXRlRW5jb2RlckNvbmZpZyhlLHQpe3JldHVybiBhd2FpdCB0aGlzLl9wMnBDb25uZWN0aW9uLnVwZGF0ZUVuY29kZXJDb25maWcoZSx0KX1hc3luYyB1cGRhdGVTZW5kUGFyYW1ldGVycyhlLHQpe3JldHVybiBhd2FpdCB0aGlzLl9wMnBDb25uZWN0aW9uLnVwZGF0ZVNlbmRQYXJhbWV0ZXJzKGUsdCl9c2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkoZSx0KXt0aGlzLl9wMnBDb25uZWN0aW9uLnNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KGUsdCl9YXN5bmMgcmVwbGFjZVRyYWNrKGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMuX3AycENvbm5lY3Rpb24ucmVwbGFjZVRyYWNrKGUsdCl9YXN5bmMgZ2V0UmVtb3RlU1NSQyhlKXtyZXR1cm4gdGhpcy5fcDJwQ29ubmVjdGlvbi5nZXRSZW1vdGVTU1JDKGUpfWxvZ1NEUEV4Y2hhbmdlKGUsdCxpLG4pe2lmKGtDKFwiU0RQX0xPR0dJTkdcIikpcmV0dXJuIFdDLnVwbG9hZChcImV4Y2hhbmdpbmcgXCIuY29uY2F0KGksXCIgXCIpLmNvbmNhdCh0LFwiIFNEUCBkdXJpbmcgRGF0YUNoYW5uZWxDb25uZWN0aW9uLlwiKS5jb25jYXQobixcIlxcblwiKSxlKSxcIm9mZmVyXCI9PT10P2U9Pnt0aGlzLmxvZ1NEUEV4Y2hhbmdlKGUsXCJhbnN3ZXJcIixcImxvY2FsXCI9PT1pP1wicmVtb3RlXCI6XCJsb2NhbFwiLG4pfTp2b2lkIDB9c3RhdGljIHJlc29sdmVQQ0NvbmZpZ3VyYXRpb24oZSl7Y29uc3QgdD17aWNlU2VydmVyczpbXX07cmV0dXJuIGUuaWNlU2VydmVycz90LmljZVNlcnZlcnM9ZS5pY2VTZXJ2ZXJzOmUudHVyblNlcnZlciYmXCJvZmZcIiE9PWUudHVyblNlcnZlci5tb2RlJiYoX1MoZS50dXJuU2VydmVyLnNlcnZlcnMpP3QuaWNlU2VydmVycz1lLnR1cm5TZXJ2ZXIuc2VydmVyczoodC5pY2VTZXJ2ZXJzJiZ0LmljZVNlcnZlcnMucHVzaCguLi50ay50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUudHVyblNlcnZlci5zZXJ2ZXJzKSksa0MoXCJVU0VfVFVSTl9TRVJWRVJfT0ZfR0FURVdBWVwiKSYmdC5pY2VTZXJ2ZXJzJiZlLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5JiZ0LmljZVNlcnZlcnMucHVzaCguLi50ay50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkpKSxrQyhcIkZPUkNFX1RVUk5fVENQXCIpP3QuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIjplLnR1cm5TZXJ2ZXIuc2VydmVycy5jb25jYXQoZS50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheXx8W10pLmZvckVhY2goKGU9PntlLmZvcmNldHVybiYmKHQuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIil9KSkpKSx0fXN0YXRpYyB0dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUpe2NvbnN0IHQ9W107cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2Uuc2VjdXJpdHk/ZS50Y3Bwb3J0JiZ0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybnM6XCIuY29uY2F0KGhEKGUudHVyblNlcnZlclVSTCksXCI6XCIpLmNvbmNhdChlLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pOihlLnVkcHBvcnQmJiFrQyhcIkZPUkNFX1RVUk5fVENQXCIpJiZ0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoZS50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoZS51ZHBwb3J0LFwiP3RyYW5zcG9ydD11ZHBcIil9KSxlLnRjcHBvcnQmJnQucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiLmNvbmNhdChlLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChlLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pKX0pKSx0fWJpbmRQQ0V2ZW50cygpe3RoaXMuX3AycENvbm5lY3Rpb24ub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9ZT0+e3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbCh0aGlzLGUpfSx0aGlzLl9wMnBDb25uZWN0aW9uLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlPWU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbGwodGhpcyxlKX0sdGhpcy5fcDJwQ29ubmVjdGlvbi5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZT1lPT57dmFyIHQ7cmV0dXJuIG51bGw9PT0odD10aGlzLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYWxsKHRoaXMsZSl9LHRoaXMuX3AycENvbm5lY3Rpb24ub25EVExTVHJhbnNwb3J0RXJyb3I9ZT0+e3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5vbkRUTFNUcmFuc3BvcnRFcnJvcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbCh0aGlzLGUpfSx0aGlzLl9wMnBDb25uZWN0aW9uLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2U9ZT0+e3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYWxsKHRoaXMsZSl9LHRoaXMuX3AycENvbm5lY3Rpb24ub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9ZT0+e3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5vbkZpcnN0QXVkaW9SZWNlaXZlZCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbCh0aGlzLGUpfSx0aGlzLl9wMnBDb25uZWN0aW9uLm9uRmlyc3RWaWRlb1JlY2VpdmVkPWU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbGwodGhpcyxlKX0sdGhpcy5fcDJwQ29ubmVjdGlvbi5vbkZpcnN0QXVkaW9EZWNvZGVkPWU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbCh0aGlzLGUpfSx0aGlzLl9wMnBDb25uZWN0aW9uLm9uRmlyc3RWaWRlb0RlY29kZWQ9KGUsdCxpKT0+e3ZhciBuO3JldHVybiBudWxsPT09KG49dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkKXx8dm9pZCAwPT09bj92b2lkIDA6bi5jYWxsKHRoaXMsZSx0LGkpfSx0aGlzLl9wMnBDb25uZWN0aW9uLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PWU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbGwodGhpcyxlKX0sdGhpcy5fcDJwQ29ubmVjdGlvbi5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPShlLHQpPT57dmFyIGk7cmV0dXJuIG51bGw9PT0oaT10aGlzLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNhbGwodGhpcyxlLHQpfSx0aGlzLl9wMnBDb25uZWN0aW9uLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPShlLHQpPT57dmFyIGk7cmV0dXJuIG51bGw9PT0oaT10aGlzLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHRoaXMsZSx0KX19Y2xvc2VTaWduYWwoKXt0aGlzLmRhdGFDaGFubmVsLmNsb3NlKCksdGhpcy5wZWVyQ29ubmVjdGlvbi5jbG9zZSgpfXVuYmluZENvbm5lY3Rpb25FdmVudHMoZSl7ZS5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZT12b2lkIDAsZS5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZT12b2lkIDAsZS5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlPXZvaWQgMCxlLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlPXZvaWQgMCxlLm9uRFRMU1RyYW5zcG9ydEVycm9yPXZvaWQgMCxlLm9uRmlyc3RBdWRpb0RlY29kZWQ9dm9pZCAwLGUub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9dm9pZCAwLGUub25GaXJzdFZpZGVvRGVjb2RlZD12b2lkIDAsZS5vbkZpcnN0VmlkZW9SZWNlaXZlZD12b2lkIDAsZS5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCxlLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCxlLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PXZvaWQgMH1zZXRDb25maWd1cmF0aW9uKGUpe3RoaXMuX3AycENvbm5lY3Rpb24uc2V0Q29uZmlndXJhdGlvbihlKX19ZnVuY3Rpb24gaWsoZSx0LGkpe2NvbnN0IG49ZVt0XTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgbXV0ZXggb24gb2JqZWN0IHByb3BlcnR5LlwiKTtyZXR1cm4gaS52YWx1ZT1hc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5tdXRleCxpPWF3YWl0IGUubG9jayhcIkZyb20gRGF0YUNoYW5uZWxDb25uZWN0aW9uLlwiLmNvbmNhdCh0KSk7dHJ5e2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLHM9bmV3IEFycmF5KHIpLG89MDtvPHI7bysrKXNbb109YXJndW1lbnRzW29dO3JldHVybiBhd2FpdCBuLmFwcGx5KHRoaXMscyl9ZmluYWxseXtpKCl9fSxpfWZ1bmN0aW9uIG5rKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiByayhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9uayhPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpuayhPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1MdihbaWssa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdCxPYmplY3QsQXJyYXksT2JqZWN0LFN0cmluZyxTdHJpbmddKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx0ay5wcm90b3R5cGUsXCJjb25uZWN0XCIsbnVsbCksTHYoW2lrLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsQXJyYXldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx0ay5wcm90b3R5cGUsXCJjcmVhdGVEYXRhQ2hhbm5lbHNcIixudWxsKSxMdihbaWssa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxBcnJheSxTdHJpbmcsT2JqZWN0XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sdGsucHJvdG90eXBlLFwicmVjZWl2ZVwiLG51bGwpLEx2KFtpayxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx0ay5wcm90b3R5cGUsXCJzdG9wUmVjZWl2aW5nXCIsbnVsbCksTHYoW2lrLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmddKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx0ay5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIsbnVsbCksTHYoW2lrLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmddKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx0ay5wcm90b3R5cGUsXCJ1bm11dGVSZW1vdGVcIixudWxsKSxMdihbaWssa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sdGsucHJvdG90eXBlLFwibXV0ZUxvY2FsXCIsbnVsbCksTHYoW2lrLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHRrLnByb3RvdHlwZSxcInVubXV0ZUxvY2FsXCIsbnVsbCksTHYoW2lrLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sdGsucHJvdG90eXBlLFwiY2xvc2VcIixudWxsKSxMdihbaWssa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZywkeV0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHRrLnByb3RvdHlwZSxcInVwZGF0ZUVuY29kZXJDb25maWdcIixudWxsKSxMdihbaWssa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZywkeV0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHRrLnByb3RvdHlwZSxcInVwZGF0ZVNlbmRQYXJhbWV0ZXJzXCIsbnVsbCksTHYoW2lrLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFskeSxTdHJpbmddKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx0ay5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIixudWxsKSxMdihbaWssa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHRrLnByb3RvdHlwZSxcImdldFJlbW90ZVNTUkNcIixudWxsKTtjbGFzcyBzayBleHRlbmRzIGlTe2NvbnN0cnVjdG9yKCl7c3VwZXIoKSxudSh0aGlzLFwidXBsaW5rU3RhdHNVcGxvYWRJbnRlcnZhbFwiLHZvaWQgMCksbnUodGhpcyxcInVwbGlua1JlbGF0ZWRTdGF0c1VwbG9hZEludGVydmFsXCIsdm9pZCAwKSxudSh0aGlzLFwidXBsaW5rRGVub2lzZXJTdGF0c1VwbG9hZEludGVydmFsXCIsdm9pZCAwKSxudSh0aGlzLFwidHJhbnNwb3J0U3RhdHNVcGxvYWRJbnRlcnZhbFwiLHZvaWQgMCksbnUodGhpcyxcInVwbGlua0V4dGVuc2lvblN0YXRzVXBsb2FkSW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJkb3dubGlua0V4dGVuc2lvblN0YXRzVXBsb2FkSW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJleHRlbnNpb25Vc2FnZVN0YXRzVXBsb2FkSW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJkb3dubGlua1N0YXRzVXBsb2FkSW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJkb3dubGlua1JlbGF0ZWRTdGF0c1VwbG9hZEludGVydmFsXCIsdm9pZCAwKSxudSh0aGlzLFwibGFzdFN0YXRzXCIsdm9pZCAwKSxudSh0aGlzLFwidXBsb2FkVW5wbGlua1N0YXJ0ZWRcIiwhMSksbnUodGhpcyxcInVwbG9hZERvd25saW5rU3RhcnRlZFwiLCExKSxudSh0aGlzLFwidXBsb2FkVHJhbnNwb3J0U3RhcnRlZFwiLCExKSxudSh0aGlzLFwidXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGFydGVkXCIsITEpLG51KHRoaXMsXCJyZXF1ZXN0U3RhdHNcIix2b2lkIDApLG51KHRoaXMsXCJyZXF1ZXN0VHJhbnNwb3J0U3RhdHNcIix2b2lkIDApLG51KHRoaXMsXCJyZXF1ZXN0TG9jYWxNZWRpYVwiLHZvaWQgMCksbnUodGhpcyxcInJlcXVlc3RSZW1vdGVNZWRpYVwiLHZvaWQgMCksbnUodGhpcyxcInJlcXVlc3RBbGxUcmFja3NcIix2b2lkIDApLG51KHRoaXMsXCJyZXF1ZXN0VmlkZW9Jc1JlYWR5XCIsdm9pZCAwKSxudSh0aGlzLFwicmVxdWVzdFVwbG9hZFwiLHZvaWQgMCl9c3RhcnRVcGxvYWRUcmFuc3BvcnRTdGF0cyhlKXt0aGlzLnVwbG9hZFRyYW5zcG9ydFN0YXJ0ZWR8fCh0aGlzLnVwbG9hZFRyYW5zcG9ydFN0YXJ0ZWQ9ITAsdGhpcy50cmFuc3BvcnRTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRyYW5zcG9ydFN0YXRzVXBsb2FkSW50ZXJ2YWwpLHRoaXMudHJhbnNwb3J0U3RhdHNVcGxvYWRJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dmFyIHQ7Y29uc3QgaT1udWxsPT09KHQ9dGhpcy5yZXF1ZXN0U3RhdHMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbGwodGhpcyk7aWYoaSl7Y29uc3QgdD1FRChpKTtpZihlKXt2YXIgbjtjb25zdCBlPW51bGw9PT0obj10aGlzLnJlcXVlc3RTdGF0cyl8fHZvaWQgMD09PW4/dm9pZCAwOm4uY2FsbCh0aGlzLCEwKTtpZihlKXtjb25zdCBpPUVEKGUpO3QuY29ubmVjdGlvblR5cGUrPWkuY29ubmVjdGlvblR5cGU8PDN9dC5jb25uZWN0aW9uVHlwZSs9MTEwfWVsc2UgdC5jb25uZWN0aW9uVHlwZSs9MTAwO0FTKCgoKT0+e3ZhciBlO251bGw9PT0oZT10aGlzLnJlcXVlc3RVcGxvYWQpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyxndi5UUkFOU1BPUlRfU1RBVFMsdCl9KSl9fSksMWUzKSl9c3RhcnRVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCl7aWYodGhpcy51cGxvYWRFeHRlbnNpb25Vc2FnZVN0YXJ0ZWQpcmV0dXJuO3RoaXMudXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGFydGVkPSEwLHRoaXMuZXh0ZW5zaW9uVXNhZ2VTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmV4dGVuc2lvblVzYWdlU3RhdHNVcGxvYWRJbnRlcnZhbCk7Y29uc3QgZT1uZXcgTWFwO3RoaXMuZXh0ZW5zaW9uVXNhZ2VTdGF0c1VwbG9hZEludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoYXN5bmMoKT0+e3ZhciB0LGksbjtjb25zdCByPURhdGUubm93KCkscz17Y29ubmVjdGlvbkludGVydmFsOmtDKFwiRVhURU5TSU9OX1VTQUdFX1VQTE9BRF9JTlRFUlZBTFwiKS8xZTMsZGV0YWlsczpbXSxsdHM6cn07bGV0IG89W107Y29uc3QgYT0obnVsbD09PSh0PXRoaXMucmVxdWVzdEFsbFRyYWNrcyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2FsbCh0aGlzKSl8fFtdO2Zvcihjb25zdCBlIG9mIGEpIWUubXV0ZWQmJmUuZW5hYmxlZCYmKG89by5jb25jYXQoYXdhaXQgZS5nZXRQcm9jZXNzb3JVc2FnZSgpKSk7Y29uc3QgYz0obnVsbD09PShpPXRoaXMucmVxdWVzdFJlbW90ZU1lZGlhKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHRoaXMpKXx8W107Zm9yKGNvbnN0W2UsdF1vZiBjKXQuaGFzKGRJLlZJREVPKSYmZS52aWRlb1RyYWNrJiYobz1vLmNvbmNhdChhd2FpdCBlLnZpZGVvVHJhY2suZ2V0UHJvY2Vzc29yVXNhZ2UoKSkpLHQuaGFzKGRJLkFVRElPKSYmZS5hdWRpb1RyYWNrJiYobz1vLmNvbmNhdChhd2FpdCBlLmF1ZGlvVHJhY2suZ2V0UHJvY2Vzc29yVXNhZ2UoKSkpO2lmKDA9PT1vLmxlbmd0aClyZXR1cm47cy5kZXRhaWxzPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT17fTtmb3IoY29uc3R7aWQ6byx2YWx1ZTphLGxldmVsOmMsZGlyZWN0aW9uOmR9b2YgZSl7dmFyIG47Y29uc3QgZT1udWxsIT09KG49dC5nZXQobykpJiZ2b2lkIDAhPT1uP246MCxsPTI9PT1hP2Ura0MoXCJFWFRFTlNJT05fVVNBR0VfVVBMT0FEX0lOVEVSVkFMXCIpLzFlMzplO3ZhciByLHM7dC5zZXQobyxsKSxpW29dPygyPT09YSYmKGlbb10udmFsdWU9YSksYz5pW29dLmxldmVsJiYoaVtvXS5sZXZlbD1jKSxcInJlbW90ZVwiPT09ZCYmKGlbb10ucmVtb3RlVWlkQ291bnQrPTEpLGlbb10udG90YWxUcz1udWxsIT09KHI9dC5nZXQobykpJiZ2b2lkIDAhPT1yP3I6MCk6aVtvXT17dmFsdWU6YSxsZXZlbDpjLHJlbW90ZVVpZENvdW50OlwibG9jYWxcIj09PWQ/MDoxLHRvdGFsVHM6bnVsbCE9PShzPXQuZ2V0KG8pKSYmdm9pZCAwIT09cz9zOjB9fXJldHVybiBPYmplY3Qua2V5cyhpKS5tYXAoKGU9Pntjb25zdHtsZXZlbDp0LHZhbHVlOm4sdG90YWxUczpyfT1pW2VdO3JldHVybntpZDplLGxldmVsOnQsdmFsdWU6bix0b3RhbFRzOnJ9fSkpfShvLGUpO2NvbnN0IGQ9RGF0ZS5ub3coKSxsPWQ+cj9kOnIrMTtudWxsPT09KG49dGhpcy5yZXF1ZXN0VXBsb2FkKXx8dm9pZCAwPT09bnx8bi5jYWxsKHRoaXMsZ3YuRVhURU5TSU9OX1VTQUdFX1NUQVRTLHt1c2FnZVN0YXRzOnMsc2VuZFRzOmx9KX0pLGtDKFwiRVhURU5TSU9OX1VTQUdFX1VQTE9BRF9JTlRFUlZBTFwiKSl9c3RhcnRVcGxvYWRVcGxpbmtTdGF0cygpe3RoaXMudXBsb2FkVW5wbGlua1N0YXJ0ZWR8fCh0aGlzLnVwbG9hZFVucGxpbmtTdGFydGVkPSEwLHRoaXMudXBsaW5rU3RhdHNVcGxvYWRJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxpbmtTdGF0c1VwbG9hZEludGVydmFsKSx0aGlzLnVwbGlua1N0YXRzVXBsb2FkSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e3ZhciBlO2NvbnN0IHQ9bnVsbD09PShlPXRoaXMucmVxdWVzdFN0YXRzKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jYWxsKHRoaXMpO3QmJih0aGlzLnVwbG9hZFVwbGlua1N0YXRzKHQpLHRoaXMubGFzdFN0YXRzPXQpfSksM2UzKSx0aGlzLnVwbGlua1JlbGF0ZWRTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbGlua1JlbGF0ZWRTdGF0c1VwbG9hZEludGVydmFsKSx0aGlzLnVwbGlua1JlbGF0ZWRTdGF0c1VwbG9hZEludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt2YXIgZTtjb25zdCB0PW51bGw9PT0oZT10aGlzLnJlcXVlc3RTdGF0cyl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2FsbCh0aGlzKTt0JiZ0aGlzLnVwbG9hZFJlbGF0ZWRVcGxpbmtTdGF0cyh0LHRoaXMubGFzdFN0YXRzKSx0aGlzLmxhc3RTdGF0cz10fSksMWUzKSx0aGlzLnVwbGlua0Rlbm9pc2VyU3RhdHNVcGxvYWRJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxpbmtEZW5vaXNlclN0YXRzVXBsb2FkSW50ZXJ2YWwpLHRoaXMudXBsaW5rRGVub2lzZXJTdGF0c1VwbG9hZEludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt2YXIgZTtjb25zdCB0PW51bGw9PT0oZT10aGlzLnJlcXVlc3RBbGxUcmFja3MpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNhbGwodGhpcyk7dCYmdGhpcy51cGxvYWREZW5vaXNlclN0YXRzKHQpfSksMmUzKSx0aGlzLnVwbGlua0V4dGVuc2lvblN0YXRzVXBsb2FkSW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsaW5rRXh0ZW5zaW9uU3RhdHNVcGxvYWRJbnRlcnZhbCksdGhpcy51cGxpbmtFeHRlbnNpb25TdGF0c1VwbG9hZEludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt2YXIgZTtjb25zdCB0PW51bGw9PT0oZT10aGlzLnJlcXVlc3RBbGxUcmFja3MpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNhbGwodGhpcyk7dCYmdGhpcy51cGxvYWRFeHRlbnNpb25TdGF0cyh0KX0pLDJlMykpfXVwbG9hZFVwbGlua1N0YXRzKGUpe3ZhciB0OygobnVsbD09PSh0PXRoaXMucmVxdWVzdExvY2FsTWVkaWEpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbGwodGhpcykpfHxbXSkuZm9yRWFjaCgodD0+e2xldFtpLHt0cmFjazpuLHNzcmNzOnJ9XT10O3N3aXRjaChpKXtjYXNlIHVJLkxvY2FsVmlkZW9Mb3dUcmFjazpjYXNlIHVJLkxvY2FsVmlkZW9UcmFjazp7Y29uc3QgdD1mdW5jdGlvbihlLHQsaSl7dmFyIG47Y29uc3Qgcj10LnZpZGVvU2VuZC5maW5kKCh0PT50LnNzcmM9PT1lKSk7aWYoIXIpcmV0dXJuIG51bGw7Y29uc3Qgcz17aWQ6eFMoMTAsXCJcIiksdGltZXN0YW1wOm5ldyBEYXRlKHQudGltZXN0YW1wKS50b0lTT1N0cmluZygpLG1lZGlhVHlwZTpcInZpZGVvXCIsdHlwZTpcInNzcmNcIixzc3JjOnIuc3NyYy50b1N0cmluZygpfTtzd2l0Y2gocy5BX3ZzdGQ9aS5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmIWkuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZHx8aS5fbWVkaWFTdHJlYW1UcmFjayYmIWkuX21lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD9cIjFcIjpcIjBcIixyLnNlbnRGcmFtZSYmKHMuQV9maHM9ci5zZW50RnJhbWUuaGVpZ2h0LnRvU3RyaW5nKCkscy5BX2Zycz1yLnNlbnRGcmFtZS5mcmFtZVJhdGUudG9TdHJpbmcoKSxzLkFfZndzPXIuc2VudEZyYW1lLndpZHRoLnRvU3RyaW5nKCkpLHIuYWRhcHRpb25DaGFuZ2VSZWFzb24pe2Nhc2VcIm5vbmVcIjpzLkFfYWM9XCIwXCI7YnJlYWs7Y2FzZVwiY3B1XCI6cy5BX2FjPVwiMVwiO2JyZWFrO2Nhc2VcImJhbmR3aWR0aFwiOnMuQV9hYz1cIjJcIjticmVhaztjYXNlXCJvdGhlclwiOnMuQV9hYz1cIjNcIn1yZXR1cm4gcy5BX2x2cHM9WHlbaS5fcGxheWVyP2kuX3BsYXllci52aWRlb0VsZW1lbnRTdGF0dXM6XCJ1bmluaXRcIl0udG9TdHJpbmcoKSxzLkFfbnI9bnVsbD09PShuPXIubmFja3NDb3VudCl8fHZvaWQgMD09PW4/dm9pZCAwOm4udG9TdHJpbmcoKSxyLmF2Z0VuY29kZU1zJiYocy5BX2FlbT1yLmF2Z0VuY29kZU1zLnRvRml4ZWQoMCkudG9TdHJpbmcoKSksa0MoXCJQMlBcIikmJihyLmJ5dGVzJiYocy5ieXRlc1NlbnQ9ci5ieXRlcy50b1N0cmluZygpKSxcIm51bWJlclwiPT10eXBlb2Ygci5wYWNrZXRzTG9zdCYmKHMucGFja2V0c0xvc3Q9ci5wYWNrZXRzTG9zdC50b1N0cmluZygpKSxyLnBhY2tldHMmJihzLnBhY2tldHNTZW50PXIucGFja2V0cy50b1N0cmluZygpKSksc30oclswXS5zc3JjSWQsZSxuKSxzPWk9PT11SS5Mb2NhbFZpZGVvVHJhY2s/ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLHIscyxvLGEsYyxkLGw7Y29uc3QgaD10LnZpZGVvU2VuZC5maW5kKCh0PT50LnNzcmM9PT1lKSk7aWYoIWgpcmV0dXJuIG51bGw7Y29uc3QgdT17aWQ6eFMoMTAsXCJcIiksdGltZXN0YW1wOm5ldyBEYXRlKHQudGltZXN0YW1wKS50b0lTT1N0cmluZygpLG1lZGlhVHlwZTpcInZpZGVvXCIsdHlwZTpcInNzcmNcIixzc3JjOmguc3NyYy50b1N0cmluZygpfSxwPW51bGwhPT0obj1udWxsIT09KHI9bnVsbD09PShzPWguaW5wdXRGcmFtZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMuaGVpZ2h0KSYmdm9pZCAwIT09cj9yOm51bGw9PWk/dm9pZCAwOmkuX3ZpZGVvSGVpZ2h0KSYmdm9pZCAwIT09bj9uOjAsXz1udWxsIT09KG89bnVsbCE9PShhPW51bGw9PT0oYz1oLmlucHV0RnJhbWUpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLndpZHRoKSYmdm9pZCAwIT09YT9hOm51bGw9PWk/dm9pZCAwOmkuX3ZpZGVvV2lkdGgpJiZ2b2lkIDAhPT1vP286MCxFPW51bGwhPT0oZD1udWxsPT09KGw9aC5pbnB1dEZyYW1lKXx8dm9pZCAwPT09bD92b2lkIDA6bC5mcmFtZVJhdGUpJiZ2b2lkIDAhPT1kP2Q6MDtyZXR1cm4gcCYmKHUuQV9maGk9cCtcIlwiKSxfJiYodS5BX2Z3aT1fK1wiXCIpLEUmJih1LkFfZnJpPUUrXCJcIiksdX0oclswXS5zc3JjSWQsZSxuKTpudWxsO3QmJkFTKCgoKT0+e3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5yZXF1ZXN0VXBsb2FkKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jYWxsKHRoaXMsZ3YuUFVCTElTSF9TVEFUUyx7c3RyZWFtX3R5cGU6aT09PXVJLkxvY2FsVmlkZW9Mb3dUcmFjaz9cImxvd1wiOlwiaGlnaFwiLHN0YXRzOnJrKHJrKHt9LHQpLHMpfSl9KSk7Y29uc3Qgbz1mdW5jdGlvbihlKXtjb25zdCB0PXtpZDpcImJ3ZWZvcnZpZGVvXCIsdGltZXN0YW1wOm5ldyBEYXRlKGUudGltZXN0YW1wKS50b0lTT1N0cmluZygpLHR5cGU6XCJWaWRlb0J3ZVwifTtyZXR1cm4gZS5iaXRyYXRlLnJldHJhbnNtaXQmJih0LkFfcmI9ZS5iaXRyYXRlLnJldHJhbnNtaXQudG9TdHJpbmcoKSksZS5iaXRyYXRlLnRhcmdldEVuY29kZWQmJih0LkFfdGViPWUuYml0cmF0ZS50YXJnZXRFbmNvZGVkLnRvU3RyaW5nKCkpLHQuQV9hZWI9ZS5iaXRyYXRlLmFjdHVhbEVuY29kZWQudG9TdHJpbmcoKSx0LkFfdGI9ZS5iaXRyYXRlLnRyYW5zbWl0LnRvU3RyaW5nKCksdm9pZCAwIT09ZS5zZW5kQmFuZHdpZHRoJiYodC5BX2FzYj1lLnNlbmRCYW5kd2lkdGgudG9TdHJpbmcoKSksdH0oZSk7byYmc2V0VGltZW91dCgoKCk9Pnt2YXIgZTtyZXR1cm4gbnVsbD09PShlPXRoaXMucmVxdWVzdFVwbG9hZCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2FsbCh0aGlzLGd2LlBVQkxJU0hfU1RBVFMse3N0cmVhbV90eXBlOmk9PT11SS5Mb2NhbFZpZGVvTG93VHJhY2s/XCJsb3dcIjpcImhpZ2hcIixzdGF0czpvfSl9KSwxZTMpO2JyZWFrfWNhc2UgdUkuTG9jYWxBdWRpb1RyYWNrOntjb25zdCB0PWZ1bmN0aW9uKGUsdCxpKXtjb25zdCBuPXQuYXVkaW9TZW5kLmZpbmQoKHQ9PnQuc3NyYz09PWUpKTtpZighbilyZXR1cm4gbnVsbDtjb25zdCByPXtpZDp4UygxMCxcIlwiKSx0aW1lc3RhbXA6bmV3IERhdGUodC50aW1lc3RhbXApLnRvSVNPU3RyaW5nKCksbWVkaWFUeXBlOlwiYXVkaW9cIix0eXBlOlwic3NyY1wiLHNzcmM6bi5zc3JjLnRvU3RyaW5nKCl9O3JldHVybiByLkFfYXN0ZD1pLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYhaS5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkfHxpLl9tZWRpYVN0cmVhbVRyYWNrJiYhaS5fbWVkaWFTdHJlYW1UcmFjay5lbmFibGVkP1wiMVwiOlwiMFwiLG4uaW5wdXRMZXZlbD9yLkFfYWlsPU1hdGgucm91bmQoMTAwKm4uaW5wdXRMZXZlbCkudG9TdHJpbmcoKTpyLkFfYWlsPU1hdGgucm91bmQoMTAwKmkuX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCkpLnRvU3RyaW5nKCksci5BX2FwaWw9TWF0aC5yb3VuZCgxMDAqaS5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSkudG9TdHJpbmcoKSxuLmFlY1JldHVybkxvc3MmJihyLkFfZWNybD1NYXRoLnJvdW5kKG4uYWVjUmV0dXJuTG9zcykudG9TdHJpbmcoKSksbi5hZWNSZXR1cm5Mb3NzRW5oYW5jZW1lbnQmJihyLkFfZWNybGU9TWF0aC5yb3VuZChuLmFlY1JldHVybkxvc3NFbmhhbmNlbWVudCkudG9TdHJpbmcoKSksa0MoXCJQMlBcIikmJihuLmJ5dGVzJiYoci5ieXRlc1NlbnQ9bi5ieXRlcy50b1N0cmluZygpKSxcIm51bWJlclwiPT10eXBlb2Ygbi5wYWNrZXRzTG9zdCYmKHIucGFja2V0c0xvc3Q9bi5wYWNrZXRzTG9zdC50b1N0cmluZygpKSxuLnBhY2tldHMmJihyLnBhY2tldHNTZW50PW4ucGFja2V0cy50b1N0cmluZygpKSkscn0oclswXS5zc3JjSWQsZSxuKTt0JiZBUygoKCk9Pnt2YXIgZTtyZXR1cm4gbnVsbD09PShlPXRoaXMucmVxdWVzdFVwbG9hZCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2FsbCh0aGlzLGd2LlBVQkxJU0hfU1RBVFMse3N0cmVhbV90eXBlOlwiaGlnaFwiLHN0YXRzOnR9KX0pKTticmVha319fSkpfXVwbG9hZFJlbGF0ZWRVcGxpbmtTdGF0cyhlLHQpe3ZhciBpOygobnVsbD09PShpPXRoaXMucmVxdWVzdExvY2FsTWVkaWEpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNhbGwodGhpcykpfHxbXSkuZmlsdGVyKChlPT57bGV0W3RdPWU7cmV0dXJuIHQ9PT11SS5Mb2NhbFZpZGVvTG93VHJhY2t8fHQ9PT11SS5Mb2NhbFZpZGVvVHJhY2t9KSkuZm9yRWFjaCgodD0+e2xldFtpLHtzc3JjczpufV09dDtjb25zdCByPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT10LnZpZGVvU2VuZC5maW5kKCh0PT50LnNzcmM9PT1lKSk7cmV0dXJuIGk/e21lZGlhVHlwZTpcInZpZGVvXCIsaXNWaWRlb011dGU6ITEsZnJhbWVSYXRlSW5wdXQ6aS5pbnB1dEZyYW1lJiZpLmlucHV0RnJhbWUuZnJhbWVSYXRlLnRvU3RyaW5nKCksZnJhbWVSYXRlU2VudDppLnNlbnRGcmFtZSYmaS5zZW50RnJhbWUuZnJhbWVSYXRlLnRvU3RyaW5nKCksZ29vZ1J0dDppLnJ0dE1zLnRvU3RyaW5nKCkscXBTdW1QZXJGcmFtZTpNYXRoLmZsb29yKGkucXBTdW1QZXJGcmFtZSkudG9TdHJpbmcoKX06bnVsbH0oblswXS5zc3JjSWQsZSk7ciYmQVMoKCgpPT57dmFyIGU7bnVsbD09PShlPXRoaXMucmVxdWVzdFVwbG9hZCl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLGd2LlBVQkxJU0hfUkVMQVRFRF9TVEFUUyx7c3RyZWFtX3R5cGU6aT09PXVJLkxvY2FsVmlkZW9Mb3dUcmFjaz9cImxvd1wiOlwiaGlnaFwiLHN0YXRzOnJ9KX0pKX0pKX11cGxvYWREZW5vaXNlclN0YXRzKGUpe2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBzPWVbcl07aWYocyBpbnN0YW5jZW9mIFhBKXt2YXIgdCxpLG47Y29uc3QgZT1udWxsPT09KHQ9KGk9cy5fZXh0ZXJuYWwpLmdldERlbm9pc2VyU3RhdHMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbGwoaSk7cmV0dXJuIHZvaWQoZSYmKG51bGw9PT0obj10aGlzLnJlcXVlc3RVcGxvYWQpfHx2b2lkIDA9PT1ufHxuLmNhbGwodGhpcyxndi5ERU5PSVNFUl9TVEFUUyxlKSkpfX19dXBsb2FkRXh0ZW5zaW9uU3RhdHMoZSl7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2VbdF0uZ2V0UHJvY2Vzc29yU3RhdHMoKS5mb3JFYWNoKChlPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMucmVxdWVzdFVwbG9hZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUudHlwZSxlLnN0YXRzKX0pKX19c3RvcFVwbG9hZFVwbGlua1N0YXRzKCl7dGhpcy51cGxvYWRVbnBsaW5rU3RhcnRlZCYmKHRoaXMudXBsb2FkVW5wbGlua1N0YXJ0ZWQ9ITEsdGhpcy51cGxpbmtTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbGlua1N0YXRzVXBsb2FkSW50ZXJ2YWwpLHRoaXMudXBsaW5rUmVsYXRlZFN0YXRzVXBsb2FkSW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsaW5rUmVsYXRlZFN0YXRzVXBsb2FkSW50ZXJ2YWwpLHRoaXMudXBsaW5rRGVub2lzZXJTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbGlua0Rlbm9pc2VyU3RhdHNVcGxvYWRJbnRlcnZhbCksdGhpcy51cGxpbmtTdGF0c1VwbG9hZEludGVydmFsPXZvaWQgMCx0aGlzLnVwbGlua1JlbGF0ZWRTdGF0c1VwbG9hZEludGVydmFsPXZvaWQgMCx0aGlzLnVwbGlua0Rlbm9pc2VyU3RhdHNVcGxvYWRJbnRlcnZhbD12b2lkIDApfXN0YXJ0VXBsb2FkRG93bmxpbmtTdGF0cygpe2lmKHRoaXMudXBsb2FkRG93bmxpbmtTdGFydGVkKXJldHVybjtsZXQgZTt0aGlzLnVwbG9hZERvd25saW5rU3RhcnRlZD0hMCx0aGlzLmRvd25saW5rU3RhdHNVcGxvYWRJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5kb3dubGlua1N0YXRzVXBsb2FkSW50ZXJ2YWwpO2xldCB0PSExO3RoaXMuZG93bmxpbmtTdGF0c1VwbG9hZEludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt2YXIgaTtjb25zdCBuPW51bGw9PT0oaT10aGlzLnJlcXVlc3RTdGF0cyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0aGlzLCEwKTtuJiYodGhpcy51cGxvYWREb3dubGlua1N0YXRzKG4sdCxlKSxlPW4pLHQ9IXR9KSwzZTMpLHRoaXMuZG93bmxpbmtSZWxhdGVkU3RhdHNVcGxvYWRJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5kb3dubGlua1JlbGF0ZWRTdGF0c1VwbG9hZEludGVydmFsKSx0aGlzLmRvd25saW5rUmVsYXRlZFN0YXRzVXBsb2FkSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e3ZhciBlO2NvbnN0IHQ9bnVsbD09PShlPXRoaXMucmVxdWVzdFN0YXRzKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jYWxsKHRoaXMsITApO3QmJih0aGlzLnVwbG9hZFJlbGF0ZWREb3dubGlua1N0YXRzKHQsdGhpcy5sYXN0U3RhdHMpLHRoaXMubGFzdFN0YXRzPXQpfSksMWUzKSx0aGlzLmRvd25saW5rRXh0ZW5zaW9uU3RhdHNVcGxvYWRJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5kb3dubGlua0V4dGVuc2lvblN0YXRzVXBsb2FkSW50ZXJ2YWwpLHRoaXMuZG93bmxpbmtFeHRlbnNpb25TdGF0c1VwbG9hZEludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt2YXIgZTtjb25zdCB0PW51bGw9PT0oZT10aGlzLnJlcXVlc3RSZW1vdGVNZWRpYSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2FsbCh0aGlzKTt0JiZ0aGlzLnVwbG9hZERvd25saW5rRXh0ZW5zaW9uU3RhdHModCl9KSwyZTMpfXVwbG9hZERvd25saW5rU3RhdHMoZSx0LGkpe3ZhciBuOygobnVsbD09PShuPXRoaXMucmVxdWVzdFJlbW90ZU1lZGlhKXx8dm9pZCAwPT09bj92b2lkIDA6bi5jYWxsKHRoaXMpKXx8W10pLmZvckVhY2goKG49PntsZXRbcixzXT1uO2lmKHMuaGFzKGRJLlZJREVPKSYmci52aWRlb1RyYWNrKXtjb25zdCBuPXIudmlkZW9UcmFjaz9mdW5jdGlvbihlLHQsaSxuLHIpe2NvbnN0IHM9dC52aWRlb1JlY3YuZmluZCgodD0+dC5zc3JjPT09ZSkpO2lmKCFzKXJldHVybiBudWxsO2NvbnN0IG89e2lkOnhTKDEwLFwiXCIpLHRpbWVzdGFtcDpuZXcgRGF0ZSh0LnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKSxtZWRpYVR5cGU6XCJ2aWRlb1wiLHR5cGU6XCJzc3JjXCIsc3NyYzpzLnNzcmMudG9TdHJpbmcoKX07dmFyIGEsYztpZihvLmJ5dGVzUmVjZWl2ZWQ9cy5ieXRlcy50b1N0cmluZygpLG8ucGFja2V0c0xvc3Q9cy5wYWNrZXRzTG9zdC50b1N0cmluZygpLG8ucGFja2V0c1JlY2VpdmVkPXMucGFja2V0cy50b1N0cmluZygpLHMuZnJhbWVzUmF0ZUZpcmVmb3gmJihvLkFfZnJyPXMuZnJhbWVzUmF0ZUZpcmVmb3gudG9TdHJpbmcoKSkscy5yZWNlaXZlZEZyYW1lPyhvLkFfZnJyPXMucmVjZWl2ZWRGcmFtZS5mcmFtZVJhdGUudG9TdHJpbmcoKSxvLkFfZmhyPXMucmVjZWl2ZWRGcmFtZS5oZWlnaHQudG9TdHJpbmcoKSxvLkFfZndyPXMucmVjZWl2ZWRGcmFtZS53aWR0aC50b1N0cmluZygpKTooby5BX2Zocj1udWxsPT09KGE9bi5fdmlkZW9IZWlnaHQpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnRvU3RyaW5nKCksby5BX2Z3cj1udWxsPT09KGM9bi5fdmlkZW9XaWR0aCl8fHZvaWQgMD09PWM/dm9pZCAwOmMudG9TdHJpbmcoKSksby5BX2ZyZD1zLmRlY29kZUZyYW1lUmF0ZS50b1N0cmluZygpLHMub3V0cHV0RnJhbWUmJihvLkFfZnJvPXMub3V0cHV0RnJhbWUuZnJhbWVSYXRlLnRvU3RyaW5nKCkpLHZvaWQgMCE9PXMuaml0dGVyQnVmZmVyTXMmJihvLkFfamJtPU1hdGguZmxvb3Iocy5qaXR0ZXJCdWZmZXJNcykudG9TdHJpbmcoKSksdm9pZCAwIT09cy5jdXJyZW50RGVsYXlNcyYmKG8uQV9jZG09TWF0aC5mbG9vcihzLmN1cnJlbnREZWxheU1zKS50b1N0cmluZygpKSxvLkFfZnM9cy5maXJzQ291bnQudG9TdHJpbmcoKSxvLkFfbnM9cy5uYWNrc0NvdW50LnRvU3RyaW5nKCksby5BX3BzPXMucGxpc0NvdW50LnRvU3RyaW5nKCksbiYmKG8uQV92cnRkPW4uX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZCYmbi5fbWVkaWFTdHJlYW1UcmFjay5lbmFibGVkP1wiMFwiOlwiMVwiKSxuLl9wbGF5ZXImJm4uX3BsYXllci5mcmVlemVUaW1lQ291bnRlckxpc3QubGVuZ3RoPjAmJihvLkFfdnJmdD1NYXRoLnJvdW5kKG4uX3BsYXllci5mcmVlemVUaW1lQ291bnRlckxpc3Quc3BsaWNlKDAsMSlbMF0pLnRvU3RyaW5nKCkpLHImJm4uX3BsYXllciYmXCJ2aXNpYmxlXCI9PT1vYi52aXNpYmlsaXR5KXtjb25zdCBlPU1hdGgubWluKDZlMyxuLl9wbGF5ZXIucmVuZGVyRnJlZXplQWNjVGltZSk7by5BX3ZycmZ0PU1hdGgucm91bmQoZSkudG9TdHJpbmcoKSxuLl9wbGF5ZXIucmVuZGVyRnJlZXplQWNjVGltZT1NYXRoLm1heCgwLG4uX3BsYXllci5yZW5kZXJGcmVlemVBY2NUaW1lLWUpfWlmKG8uQV9ydnBzPVh5W24uX3BsYXllcj9uLl9wbGF5ZXIudmlkZW9FbGVtZW50U3RhdHVzOlwidW5pbml0XCJdLnRvU3RyaW5nKCksaSl7Y29uc3QgdD1pLnZpZGVvUmVjdi5maW5kKCh0PT50LnNzcmM9PT1lKSk7aWYodCYmdm9pZCAwIT09cy50b3RhbEludGVyRnJhbWVEZWxheSYmdm9pZCAwIT09cy50b3RhbFNxdWFyZWRJbnRlckZyYW1lRGVsYXkmJnZvaWQgMCE9PXQudG90YWxJbnRlckZyYW1lRGVsYXkmJnZvaWQgMCE9PXQudG90YWxTcXVhcmVkSW50ZXJGcmFtZURlbGF5KXtjb25zdCBlPXMudG90YWxJbnRlckZyYW1lRGVsYXktdC50b3RhbEludGVyRnJhbWVEZWxheSxpPXMudG90YWxTcXVhcmVkSW50ZXJGcmFtZURlbGF5LXQudG90YWxTcXVhcmVkSW50ZXJGcmFtZURlbGF5LG49cy5mcmFtZXNEZWNvZGVDb3VudC10LmZyYW1lc0RlY29kZUNvdW50LHI9ZS9uKjFlMyxhPU1hdGgucm91bmQoMWUzKk1hdGguc3FydCgoaS1NYXRoLnBvdyhlLDIpL24pL24pKTshaXNOYU4oYSkmJnIrYT5NYXRoLm1heCgzKnIscisxNTApJiYoby5BX2lmZHNkPWEudG9TdHJpbmcoKSl9fXJldHVybiBvfShyLl92aWRlb1NTUkMsZSxpLHIudmlkZW9UcmFjayx0KTp2b2lkIDA7biYmQVMoKCgpPT57dmFyIGU7cmV0dXJuIG51bGw9PT0oZT10aGlzLnJlcXVlc3RVcGxvYWQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNhbGwodGhpcyxndi5TVUJTQ1JJQkVfU1RBVFMse3N0cmVhbV9pZDpyLnVpZCxzdGF0czpufSl9KSl9aWYocy5oYXMoZEkuQVVESU8pJiZyLmF1ZGlvVHJhY2spe2NvbnN0IHQ9ci5hdWRpb1RyYWNrP2Z1bmN0aW9uKGUsdCxpLG4pe2NvbnN0IHI9dC5hdWRpb1JlY3YuZmluZCgodD0+dC5zc3JjPT09ZSkpO2lmKCFyKXJldHVybiBudWxsO2NvbnN0IHM9e2lkOnhTKDEwLFwiXCIpLHRpbWVzdGFtcDpuZXcgRGF0ZSh0LnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKSxtZWRpYVR5cGU6XCJhdWRpb1wiLHR5cGU6XCJzc3JjXCIsc3NyYzpyLnNzcmMudG9TdHJpbmcoKX07aWYocy5ieXRlc1JlY2VpdmVkPXIuYnl0ZXMudG9TdHJpbmcoKSxzLnBhY2tldHNMb3N0PXIucGFja2V0c0xvc3QudG9TdHJpbmcoKSxzLnBhY2tldHNSZWNlaXZlZD1yLnBhY2tldHMudG9TdHJpbmcoKSxyLm91dHB1dExldmVsP3MuQV9hb2w9TWF0aC5yb3VuZCgxMDAqci5vdXRwdXRMZXZlbCkudG9TdHJpbmcoKTpzLkFfYW9sPU1hdGgucm91bmQoMTAwKm4uX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCkpLnRvU3RyaW5nKCkscy5BX2Fwb2w9TWF0aC5yb3VuZCgxMDAqbi5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSkudG9TdHJpbmcoKSxuJiYocy5BX2FydGQ9bi5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkJiZuLl9tZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ/XCIwXCI6XCIxXCIpLHMuQV9qcj1yLmppdHRlck1zLnRvU3RyaW5nKCkscy5BX2pibT1NYXRoLmZsb29yKHIuaml0dGVyQnVmZmVyTXMpLnRvU3RyaW5nKCkscy5BX2NkbT1NYXRoLmZsb29yKHIuaml0dGVyQnVmZmVyTXMpLnRvU3RyaW5nKCkscy5BX3JhcHM9WHlba0EuZ2V0UGxheWVyU3RhdGUobi5nZXRUcmFja0lkKCkpXS50b1N0cmluZygpLGkpe2NvbnN0IHQ9aS5hdWRpb1JlY3YuZmluZCgodD0+dC5zc3JjPT09ZSkpO2lmKHQpe2NvbnN0IGU9ci5jb25jZWFsZWRTYW1wbGVzLXQuY29uY2VhbGVkU2FtcGxlcztlPjAmJihzLkFfY3M9TWF0aC5yb3VuZChlKS50b1N0cmluZygpKX19cmV0dXJuIHN9KHIuX2F1ZGlvU1NSQyxlLGksci5hdWRpb1RyYWNrKTp2b2lkIDA7dCYmQVMoKCgpPT57dmFyIGU7cmV0dXJuIG51bGw9PT0oZT10aGlzLnJlcXVlc3RVcGxvYWQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNhbGwodGhpcyxndi5TVUJTQ1JJQkVfU1RBVFMse3N0cmVhbV9pZDpyLnVpZCxzdGF0czp0fSl9KSl9fSkpfXVwbG9hZFJlbGF0ZWREb3dubGlua1N0YXRzKGUsdCl7dmFyIGk7KChudWxsPT09KGk9dGhpcy5yZXF1ZXN0UmVtb3RlTWVkaWEpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNhbGwodGhpcykpfHxbXSkuZm9yRWFjaCgoaT0+e2xldFtuLHJdPWk7aWYoci5oYXMoZEkuVklERU8pJiZuLnZpZGVvVHJhY2spe3ZhciBzO2NvbnN0IGk9ITA9PT0obi5fdmlkZW9TU1JDJiYobnVsbD09PShzPXRoaXMucmVxdWVzdFZpZGVvSXNSZWFkeSl8fHZvaWQgMD09PXM/dm9pZCAwOnMuY2FsbCh0aGlzLG4uX3ZpZGVvU1NSQykpfHwhMSkscj1mdW5jdGlvbihlLHQsaSxuLHIscyl7Y29uc3Qgbz1pLnZpZGVvUmVjdi5maW5kKCh0PT50LnNzcmM9PT1lKSksYT1yP3IudmlkZW9SZWN2LmZpbmQoKHQ9PnQuc3NyYz09PWUpKTp2b2lkIDA7aWYoIW8pcmV0dXJuIG51bGw7Y29uc3QgYz1jRC5pc1JlbW90ZVZpZGVvRnJlZXplKHMsbyxhKSYmdCxkPXttZWRpYVR5cGU6XCJ2aWRlb1wiLGlzVmlkZW9NdXRlOiExLHBlZXJJZDpuLGZyYW1lUmF0ZVJlY2VpdmVkOm8ucmVjZWl2ZWRGcmFtZSYmby5yZWNlaXZlZEZyYW1lLmZyYW1lUmF0ZS50b1N0cmluZygpLGZyYW1lUmF0ZURlY29kZWQ6by5kZWNvZGVkRnJhbWUmJm8uZGVjb2RlZEZyYW1lLmZyYW1lUmF0ZS50b1N0cmluZygpLGlzRnJlZXplOmMsYnl0ZXNSZWNlaXZlZDpvLmJ5dGVzLnRvU3RyaW5nKCkscGFja2V0c1JlY2VpdmVkOm8ucGFja2V0cy50b1N0cmluZygpLHBhY2tldHNMb3N0Om8ucGFja2V0c0xvc3QudG9TdHJpbmcoKSxxcFN1bVBlckZyYW1lOk1hdGguZmxvb3Ioby5xcFN1bVBlckZyYW1lKS50b1N0cmluZygpfTtyZXR1cm4gby5mcmFtZXNSYXRlRmlyZWZveCYmKGQuZnJhbWVSYXRlRGVjb2RlZD1vLmZyYW1lc1JhdGVGaXJlZm94LnRvU3RyaW5nKCksZC5mcmFtZVJhdGVSZWNlaXZlZD1vLmZyYW1lc1JhdGVGaXJlZm94LnRvU3RyaW5nKCkpLGR9KG4uX3ZpZGVvU1NSQyxpLGUsbi51aWQsdCxuLnZpZGVvVHJhY2spO3ImJkFTKCgoKT0+e3ZhciBlO251bGw9PT0oZT10aGlzLnJlcXVlc3RVcGxvYWQpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyxndi5TVUJTQ1JJQkVfUkVMQVRFRF9TVEFUUyx7c3RyZWFtX2lkOm4udWlkLHN0YXRzOnJ9KX0pKX1pZihyLmhhcyhkSS5BVURJTykmJm4uYXVkaW9UcmFjayl7Y29uc3QgdD1mdW5jdGlvbihlLHQsaSxuKXtjb25zdCByPXQuYXVkaW9SZWN2LmZpbmQoKHQ9PnQuc3NyYz09PWUpKTtpZighcilyZXR1cm4gbnVsbDtjb25zdCBzPWNELmlzUmVtb3RlQXVkaW9GcmVlemUobik7cmV0dXJue21lZGlhVHlwZTpcImF1ZGlvXCIsaXNBdWRpb011dGU6ITEscGVlcklkOmksZ29vZ0ppdHRlclJlY2VpdmVkOnIuaml0dGVyTXMudG9TdHJpbmcoKSxpc0ZyZWV6ZTpzLGJ5dGVzUmVjZWl2ZWQ6ci5ieXRlcy50b1N0cmluZygpLHBhY2tldHNSZWNlaXZlZDpyLnBhY2tldHMudG9TdHJpbmcoKSxwYWNrZXRzTG9zdDpyLnBhY2tldHNMb3N0LnRvU3RyaW5nKCksZnJhbWVSZWNlaXZlZDpyLnJlY2VpdmVkRnJhbWVzLnRvU3RyaW5nKCksZnJhbWVEcm9wcGVkOnIuZHJvcHBlZEZyYW1lcy50b1N0cmluZygpfX0obi5fYXVkaW9TU1JDLGUsbi51aWQsbi5hdWRpb1RyYWNrKTt0JiZBUygoKCk9Pnt2YXIgZTtudWxsPT09KGU9dGhpcy5yZXF1ZXN0VXBsb2FkKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsZ3YuU1VCU0NSSUJFX1JFTEFURURfU1RBVFMse3N0cmVhbV9pZDpuLnVpZCxzdGF0czp0fSl9KSl9fSkpfXN0b3BVcGxvYWREb3dubGlua1N0YXRzKCl7dGhpcy51cGxvYWREb3dubGlua1N0YXJ0ZWQmJih0aGlzLnVwbG9hZERvd25saW5rU3RhcnRlZD0hMSx0aGlzLmRvd25saW5rU3RhdHNVcGxvYWRJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5kb3dubGlua1N0YXRzVXBsb2FkSW50ZXJ2YWwpLHRoaXMuZG93bmxpbmtSZWxhdGVkU3RhdHNVcGxvYWRJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5kb3dubGlua1JlbGF0ZWRTdGF0c1VwbG9hZEludGVydmFsKSx0aGlzLmRvd25saW5rU3RhdHNVcGxvYWRJbnRlcnZhbD12b2lkIDAsdGhpcy5kb3dubGlua1JlbGF0ZWRTdGF0c1VwbG9hZEludGVydmFsPXZvaWQgMCl9c3RvcFVwbG9hZFRyYW5zcG9ydFN0YXRzKCl7dGhpcy51cGxvYWRUcmFuc3BvcnRTdGFydGVkJiYodGhpcy51cGxvYWRUcmFuc3BvcnRTdGFydGVkPSExLHRoaXMudHJhbnNwb3J0U3RhdHNVcGxvYWRJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy50cmFuc3BvcnRTdGF0c1VwbG9hZEludGVydmFsKSx0aGlzLnRyYW5zcG9ydFN0YXRzVXBsb2FkSW50ZXJ2YWw9dm9pZCAwKX1zdG9wVXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGF0cygpe3RoaXMudXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGFydGVkJiYodGhpcy51cGxvYWRFeHRlbnNpb25Vc2FnZVN0YXJ0ZWQ9ITEsdGhpcy5leHRlbnNpb25Vc2FnZVN0YXRzVXBsb2FkSW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuZXh0ZW5zaW9uVXNhZ2VTdGF0c1VwbG9hZEludGVydmFsKSx0aGlzLmV4dGVuc2lvblVzYWdlU3RhdHNVcGxvYWRJbnRlcnZhbD12b2lkIDApfXVwbG9hZERvd25saW5rRXh0ZW5zaW9uU3RhdHMoZSl7ZS5mb3JFYWNoKChlPT57bGV0W3QsaV09ZTtpZihpLmhhcyhkSS5WSURFTykmJnQudmlkZW9UcmFjayl7dC52aWRlb1RyYWNrLmdldFByb2Nlc3NvclN0YXRzKCkuZm9yRWFjaCgoZT0+e3ZhciB0O251bGw9PT0odD10aGlzLnJlcXVlc3RVcGxvYWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlLnR5cGUsZS5zdGF0cyl9KSl9aWYoaS5oYXMoZEkuQVVESU8pJiZ0LmF1ZGlvVHJhY2spe3QuYXVkaW9UcmFjay5nZXRQcm9jZXNzb3JTdGF0cygpLmZvckVhY2goKGU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5yZXF1ZXN0VXBsb2FkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZS50eXBlLGUuc3RhdHMpfSkpfX0pKX19ZnVuY3Rpb24gb2soZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIGFrKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP29rKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOm9rKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGNrKGUpe3ZhciB0LGksbixyPTI7Zm9yKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJihpPUJQLG49U3ltYm9sLml0ZXJhdG9yKTtyLS07KXtpZihpJiZudWxsIT0odD1lW2ldKSlyZXR1cm4gdC5jYWxsKGUpO2lmKG4mJm51bGwhPSh0PWVbbl0pKXJldHVybiBuZXcgZGsodC5jYWxsKGUpKTtpPVwiQEBhc3luY0l0ZXJhdG9yXCIsbj1cIkBAaXRlcmF0b3JcIn10aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGlzIG5vdCBhc3luYyBpdGVyYWJsZVwiKX1mdW5jdGlvbiBkayhlKXtmdW5jdGlvbiB0KGUpe2lmKE9iamVjdChlKSE9PWUpcmV0dXJuIHRnLnJlamVjdChuZXcgVHlwZUVycm9yKGUrXCIgaXMgbm90IGFuIG9iamVjdC5cIikpO3ZhciB0PWUuZG9uZTtyZXR1cm4gdGcucmVzb2x2ZShlLnZhbHVlKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm57dmFsdWU6ZSxkb25lOnR9fSkpfXJldHVybiBkaz1mdW5jdGlvbihlKXt0aGlzLnM9ZSx0aGlzLm49ZS5uZXh0fSxkay5wcm90b3R5cGU9e3M6bnVsbCxuOm51bGwsbmV4dDpmdW5jdGlvbigpe3JldHVybiB0KHRoaXMubi5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9LHJldHVybjpmdW5jdGlvbihlKXt2YXIgaT10aGlzLnMucmV0dXJuO3JldHVybiB2b2lkIDA9PT1pP3RnLnJlc29sdmUoe3ZhbHVlOmUsZG9uZTohMH0pOnQoaS5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9LHRocm93OmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMucy5yZXR1cm47cmV0dXJuIHZvaWQgMD09PWk/dGcucmVqZWN0KGUpOnQoaS5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9fSxuZXcgZGsoZSl9Y2xhc3MgbGsgZXh0ZW5kcyBpU3tnZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9c2V0IHN0YXRlKGUpe2NvbnN0IHQ9dGhpcy5fc3RhdGU7dGhpcy5fc3RhdGU9ZSx0aGlzLmVtaXQoX0kuU3RhdGVDaGFuZ2UsdCx0aGlzLl9zdGF0ZSl9Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLG51KHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksbnUodGhpcyxcInN0YXRzVXBsb2FkZXJcIix2b2lkIDApLG51KHRoaXMsXCJjb25uZWN0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwibG9jYWxUcmFja01hcFwiLG5ldyBNYXApLG51KHRoaXMsXCJyZW1vdGVVc2VyTWFwXCIsbmV3IE1hcCksbnUodGhpcyxcImxvY2FsRGF0YUNoYW5uZWxzXCIsW10pLG51KHRoaXMsXCJyZW1vdGVEYXRhQ2hhbm5lbE1hcFwiLG5ldyBNYXApLG51KHRoaXMsXCJwZW5kaW5nTG9jYWxUcmFja3NcIixbXSksbnUodGhpcyxcInBlbmRpbmdSZW1vdGVUcmFja3NcIixbXSksbnUodGhpcyxcInBlbmRpbmdMb2NhbERhdGFDaGFubmVsc1wiLFtdKSxudSh0aGlzLFwicGVuZGluZ1JlbW90ZURhdGFDaGFubmVsc1wiLFtdKSxudSh0aGlzLFwic3RhdHNDb2xsZWN0b3JcIix2b2lkIDApLG51KHRoaXMsXCJpc1BsYW5CXCIsITEpLG51KHRoaXMsXCJzaG91bGRGb3J3YXJkUDJQQ3JlYXRpb25cIix2b2lkIDApLG51KHRoaXMsXCJpY2VGYWlsZWRDb3VudFwiLDApLG51KHRoaXMsXCJkdGxzRmFpbGVkQ291bnRcIiwwKSxudSh0aGlzLFwibXV0ZXhcIixuZXcgWVMoXCJQMlBDaGFubmVsLW11dGV4XCIpKSxudSh0aGlzLFwiX3N0YXRlXCIscEkuRGlzY29ubmVjdGVkKSxudSh0aGlzLFwiX3BjU3RhdHNVcGxvYWRUeXBlXCIsa0MoXCJORVdfSUNFX1JFU1RBUlRcIik/aEkuRklSU1RfQ09OTkVDVElPTjpoSS5PTERfRklSU1RfQ09OTkVDVElPTiksbnUodGhpcyxcIl9pc0luUmVzdGFydEljZVwiLCExKSxudSh0aGlzLFwiX2lzU3RhcnRSZXN0YXJ0SWNlXCIsITEpLG51KHRoaXMsXCJfcmVzdGFydFN0YXRlc1wiLFtcImRpc2Nvbm5lY3RlZFwiLFwiZmFpbGVkXCJdKSxudSh0aGlzLFwiX3Jlc3RhcnRUaW1lclwiLHZvaWQgMCksbnUodGhpcyxcIl9pc0ZpcnN0Q29ubmVjdGVkXCIsITApLG51KHRoaXMsXCJoYW5kbGVNdXRlTG9jYWxUcmFja1wiLChhc3luYyhlLHQsaSk9Pntjb25zdCBuPWF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsLmhhbmRsZU11dGVMb2NhbFRyYWNrXCIpO3RyeXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09cEkuQ29ubmVjdGVkKXJldHVybiB2b2lkIGkobmV3IFZnKHhnLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IGNhbGwgUDJQQ2hhbm5lbC5oYW5kbGVNdXRlTG9jYWxUcmFjayBiZWZvcmUgY29ubmVjdGlvbiBlc3RhYmxpc2hlZC5cIikpO2NvbnN0IHI9dGhpcy5maWx0ZXJUb2JlTXV0ZWRUcmFja3MoZSk7aWYoMD09PXIubGVuZ3RoKXJldHVybiB2b2lkIHQoKTtjb25zdCBzPXIuZmluZCgoZT0+XCJ2aWRlb0xvd1RyYWNrXCI9PT1lWzBdKSk7aWYocyl7c1sxXS50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCl9YXdhaXQgdGhpcy5jb25uZWN0aW9uLm11dGVMb2NhbChyLm1hcCgoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB0fSkpKTtjb25zdCBvPXRoaXMuY3JlYXRlTXV0ZU1lc3NhZ2Uocik7YXdhaXQgZ1ModGhpcyxfSS5SZXF1ZXN0TXV0ZUxvY2FsLG8pLHQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7bigpfX0pKSxudSh0aGlzLFwiaGFuZGxlVW5tdXRlTG9jYWxUcmFja1wiLChhc3luYyhlLHQsaSk9Pntjb25zdCBuPWF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2tcIik7dHJ5e2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1wSS5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgaShuZXcgVmcoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3QgY2FsbCBQMlBDaGFubmVsLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2sgYmVmb3JlIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpKTtjb25zdCByPXRoaXMuZmlsdGVyVG9iZVVubXV0ZWRUcmFja3MoZSk7aWYoMD09PXIubGVuZ3RoKXJldHVybiB2b2lkIHQoKTtjb25zdCBzPXIuZmluZCgoZT0+XCJ2aWRlb0xvd1RyYWNrXCI9PT1lWzBdKSk7aWYocyl7Y29uc3QgdD1zWzFdO2lmKHQudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLCFrQyhcIkRJU0FCTEVfRFVBTF9TVFJFQU1fVVNFX0VOQ09ESU5HXCIpJiZoQSgpLnN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmcpe2NvbnN0IGk9ZS5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpO3QudHJhY2suX21lZGlhU3RyZWFtVHJhY2s9aSx0LnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWl9ZWxzZXtjb25zdCBpPWpMKGUsVFModGhpcyxfSS5SZXF1ZXN0TG93U3RyZWFtUGFyYW1ldGVyKSk7dC50cmFjay5fbWVkaWFTdHJlYW1UcmFjaz1pLHQudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9aX1hd2FpdCBuZXcgdGcoKChlLGkpPT57dGhpcy5oYW5kbGVSZXBsYWNlVHJhY2sodC50cmFjayxlLGksITApfSkpfWF3YWl0IHRoaXMuY29ubmVjdGlvbi51bm11dGVMb2NhbChyLm1hcCgoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB0fSkpKTtjb25zdCBvPXRoaXMuY3JlYXRlVW5tdXRlTWVzc2FnZShyKTthd2FpdCBnUyh0aGlzLF9JLlJlcXVlc3RVbm11dGVMb2NhbCxvKSx0KCl9Y2F0Y2goZSl7aShlKX1maW5hbGx5e24oKX19KSksbnUodGhpcyxcImhhbmRsZVVwZGF0ZVZpZGVvRW5jb2RlclwiLChhc3luYyhlLHQsaSk9Pntjb25zdCBuPWF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsLmhhbmRsZVNldFZpZGVvRW5jb2RlclwiKTt0cnl7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsVmlkZW9UcmFjayk7aWYoIXRoaXMuY29ubmVjdGlvbnx8IWl8fGkudHJhY2shPT1lfHx0aGlzLnN0YXRlIT09cEkuQ29ubmVjdGVkKXJldHVybiB2b2lkIHQoKTtjb25zdHtpZDpyLHRyYWNrOnN9PWk7YXdhaXQgdGhpcy5jb25uZWN0aW9uLnVwZGF0ZVNlbmRQYXJhbWV0ZXJzKHIscyksYXdhaXQgdGhpcy5jb25uZWN0aW9uLnVwZGF0ZUVuY29kZXJDb25maWcocixzKSx0aGlzLmVtaXQoX0kuVXBkYXRlVmlkZW9FbmNvZGVyLHMpLHQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7bigpfX0pKSxudSh0aGlzLFwiaGFuZGxlU2V0T3B0aW1pemF0aW9uTW9kZVwiLChhc3luYyhlLHQsaSk9Pntjb25zdCBuPWF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsLmhhbmRsZVNldE9wdGltaXphdGlvbk1vZGVcIik7dHJ5e2NvbnN0IGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbFZpZGVvVHJhY2spO2lmKCF0aGlzLmNvbm5lY3Rpb258fCFpfHxpLnRyYWNrIT09ZXx8dGhpcy5zdGF0ZSE9PXBJLkNvbm5lY3RlZClyZXR1cm47Y29uc3R7aWQ6cix0cmFjazpzfT1pO2F3YWl0IHRoaXMuY29ubmVjdGlvbi51cGRhdGVTZW5kUGFyYW1ldGVycyhyLHMpLHQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7bigpfX0pKSxudSh0aGlzLFwiaGFuZGxlUmVwbGFjZVRyYWNrXCIsKGFzeW5jKGUsdCxpLG4pPT57bGV0IHI7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwgaGFuZGxlUmVwbGFjZVRyYWNrIGZvciBbdHJhY2staWQtXCIpLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl1cIikpLFwiYm9vbGVhblwiPT10eXBlb2YgbiYmbnx8KHI9YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLmhhbmRsZVJlcGxhY2VUcmFja1wiKSk7dHJ5e3ZhciBzO2NvbnN0IGk9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKCh0PT57bGV0Wyx7dHJhY2s6aX1dPXQ7cmV0dXJuIGU9PT1pfSkpO2lmKCF0aGlzLmNvbm5lY3Rpb258fCFpfHx0aGlzLnN0YXRlIT09cEkuQ29ubmVjdGVkKXJldHVybiB2b2lkIHQoKTtpZihhd2FpdChudWxsPT09KHM9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09cz92b2lkIDA6cy5yZXBsYWNlVHJhY2soZSxpWzFdLmlkKSksdGhpcy5pc1BsYW5CKXtjb25zdCB0PWlbMV07dC5pZD1lLl9tZWRpYVN0cmVhbVRyYWNrLmlkLHRoaXMubG9jYWxUcmFja01hcC5zZXQoaVswXSx0KX1pZihpWzBdPT09dUkuTG9jYWxWaWRlb1RyYWNrJiYha0MoXCJESVNBQkxFX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElOR1wiKSYmaEEoKS5zdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxWaWRlb0xvd1RyYWNrKTtpZih0KXtjb25zdCBpPWUuX21lZGlhU3RyZWFtVHJhY2suY2xvbmUoKTt0LnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSx0LnRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrPWksdC50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1pLGF3YWl0IG5ldyB0ZygoKGUsaSk9Pnt0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayh0LnRyYWNrLGUsaSwhMCl9KSl9fXQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7dmFyIG87bnVsbD09PShvPXIpfHx2b2lkIDA9PT1vfHxvKCl9fSkpLG51KHRoaXMsXCJoYW5kbGVHZXRMb2NhbFZpZGVvU3RhdHNcIiwoZT0+e2UodGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbFZpZGVvVHJhY2tTdGF0cygpKX0pKSxudSh0aGlzLFwiaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzXCIsKGU9PntlKHRoaXMuc3RhdHNDb2xsZWN0b3IuZ2V0TG9jYWxBdWRpb1RyYWNrU3RhdHMoKSl9KSksbnUodGhpcyxcImhhbmRsZUdldFJlbW90ZVZpZGVvU3RhdHNcIiwoZT0+dGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRSZW1vdGVWaWRlb1RyYWNrU3RhdHMoZS51aWQpW2UudWlkXSkpLG51KHRoaXMsXCJoYW5kbGVHZXRSZW1vdGVBdWRpb1N0YXRzXCIsKGU9PnRoaXMuc3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlQXVkaW9UcmFja1N0YXRzKGUudWlkKVtlLnVpZF0pKSx0aGlzLnN0b3JlPWUsdGhpcy5zdGF0c0NvbGxlY3Rvcj10LHRoaXMuc3RhdHNDb2xsZWN0b3IuYWRkUDJQQ2hhbm5lbCh0aGlzKSx0aGlzLnN0YXRzVXBsb2FkZXI9bmV3IHNrLHRoaXMuYmluZFN0YXRzVXBsb2FkZXJFdmVudHMoKSx0aGlzLmlzUGxhbkI9IWhBKCkuc3VwcG9ydFVuaWZpZWRQbGFufHxrQyhcIkNIUk9NRV9GT1JDRV9QTEFOX0JcIikmJmtnKCksdGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb249a0MoXCJGT1JXQVJEX1AyUF9DUkVBVElPTlwiKSYmaEEoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uJiZmdW5jdGlvbigpe2NvbnN0IGU9X2coKTtyZXR1cm4gZT09PWFnLkFORFJPSUR8fGU9PT1hZy5JT1N8fGU9PT1hZy5IQVJNT05ZX09TfSgpLHRoaXMuc2hvdWxkRm9yd2FyZFAyUENyZWF0aW9uJiYodGhpcy5jb25uZWN0aW9uPXRoaXMuc3RvcmUudXNlRGF0YUNoYW5uZWw/bmV3IHRrKHt9LHRoaXMuc3RvcmUpOnRoaXMuaXNQbGFuQj9uZXcgREwoe30sdGhpcy5zdG9yZSk6bmV3IEZMKHt9LHRoaXMuc3RvcmUpLHRoaXMuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5jb25uZWN0aW9uKSl9YXN5bmMgc3RhcnRQMlBDb25uZWN0aW9uKGUsdCl7dmFyIGk7dGhpcy5zdGF0ZT1wSS5OZXc7Y29uc3Qgbj10aGlzLnNob3VsZEZvcndhcmRQMlBDcmVhdGlvbiYmXCJjbG9zZWRcIj09PShudWxsPT09KGk9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09aT92b2lkIDA6aS5wZWVyQ29ubmVjdGlvblN0YXRlKTtpZih0aGlzLnNob3VsZEZvcndhcmRQMlBDcmVhdGlvbiYmIW58fChuJiZ0aGlzLmNvbm5lY3Rpb24mJihXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnN0YXJ0UDJQQ29ubmVjdGlvbiBGb3J3YXJkUDJQIGNsb3NlZC5cIikpLHRoaXMuY29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKSx0aGlzLmNvbm5lY3Rpb249dGhpcy5zdG9yZS51c2VEYXRhQ2hhbm5lbD9uZXcgdGsoZSx0aGlzLnN0b3JlKTp0aGlzLmlzUGxhbkI/bmV3IERMKGUsdGhpcy5zdG9yZSk6bmV3IEZMKGUsdGhpcy5zdG9yZSksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKSwhdGhpcy5jb25uZWN0aW9uKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiQ2Fubm90IFAyUENoYW5uZWwuc3RhcnRDb25uZWN0aW9uIGJlZm9yZSBQMlBDb25uZWN0aW9uIGluaXRpYWxpemF0aW9uIC5cIik7cmV0dXJuIHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlPWtDKFwiTkVXX0lDRV9SRVNUQVJUXCIpP2hJLkZJUlNUX0NPTk5FQ1RJT046aEkuT0xEX0ZJUlNUX0NPTk5FQ1RJT04sdGhpcy5faXNGaXJzdENvbm5lY3RlZD0hMCx0aGlzLl9pc0luUmVzdGFydEljZT0hMSx0aGlzLl9pc1N0YXJ0UmVzdGFydEljZT0hMSx0aGlzLmNvbm5lY3Rpb24uc2V0Q29uZmlndXJhdGlvbihlKSx0aGlzLmNvbm5lY3Rpb24uZXN0YWJsaXNoUHJvbWlzZX1hc3luYyBjb25uZWN0KGUsdCxpLG4scixzKXtpZighdGhpcy5jb25uZWN0aW9uKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiQ2Fubm90IFAyUENoYW5uZWwuY29ubmVjdCBiZWZvcmUgUDJQQ2hhbm5lbC5zdGFydFAyUENvbm5lY3Rpb24gLlwiKTt0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiB0az90aGlzLmNvbm5lY3Rpb24udXBkYXRlUmVtb3RlQ29ubmVjdChuKToodGhpcy5zdG9yZS5wZWVyQ29ubmVjdGlvblN0YXJ0KCksYXdhaXQgdGhpcy5jb25uZWN0aW9uLmNvbm5lY3QoZSx0LGksbixyLHMpLHRoaXMuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZFRyYW5zcG9ydFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGF0cygpLHRoaXMuc3RhdGU9cEkuQ29ubmVjdGVkKX1hc3luYyBwcmVDb25uZWN0KGUsdCxpLG4scixzKXtpZighdGhpcy5jb25uZWN0aW9uKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiQ2Fubm90IFAyUENoYW5uZWwuY29ubmVjdCBiZWZvcmUgUDJQQ2hhbm5lbC5zdGFydFAyUENvbm5lY3Rpb24gLlwiKTt0aGlzLnN0b3JlLnBlZXJDb25uZWN0aW9uU3RhcnQoKTtjb25zdCBvPWF3YWl0IHRoaXMuY29ubmVjdGlvbi5jb25uZWN0KGUsdCxpLG4scixzKTtyZXR1cm4gdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkVHJhbnNwb3J0U3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCksdGhpcy5zdGF0ZT1wSS5Db25uZWN0ZWQsb31nZXRFc3RhYmxpc2hQYXJhbXMoKXtpZih0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiB0aylyZXR1cm4gdGhpcy5jb25uZWN0aW9uLmdldFAyUENvbm5lY3Rpb25QYXJhbXMoKTt0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IERhdGFDaGFubmVsQ29ubmVjdGlvbiBuZWVkcyB0byBvYnRhaW4gZXN0YWJsaXNoUGFyYW1zXCIpfWFzeW5jIHB1Ymxpc2hEYXRhQ2hhbm5lbChlKXtpZighdGhpcy5jb25uZWN0aW9uKXtpZih0aGlzLnN0YXRlPT09cEkuRGlzY29ubmVjdGVkKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiUGVlckNvbm5lY3Rpb24gYWxyZWFkeSBkaXNjb25uZWN0ZWQuXCIpO2NvbnN0IHQ9ZS5maWx0ZXIoKGU9Pi0xIT09dGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMuZmluZEluZGV4KCh0PT50LmlkPT09ZS5pZCkpKSk7cmV0dXJuIHZvaWQodGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHM9dGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMuY29uY2F0KHQpKX1jb25zdCB0PXRoaXMuZmlsdGVyVG9iZVB1Ymxpc2hlZERhdGFDaGFubmVscyhlKTswIT09dC5sZW5ndGgmJih0LmZvckVhY2goKGU9Pntjb25zdCB0PURhdGUubm93KCk7dGhpcy5zdG9yZS5wdWJsaXNoKGUuaWQudG9TdHJpbmcoKSxcImRhdGFjaGFubmVsXCIsdCl9KSksYXdhaXQgdGhpcy5jb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVscyh0aGlzLnN0b3JlLnVpZCx0KSx0LmZvckVhY2goKGU9Pnt0aGlzLmxvY2FsRGF0YUNoYW5uZWxzLnB1c2goZSk7Y29uc3QgdD1EYXRlLm5vdygpO3RoaXMuc3RvcmUucHVibGlzaChlLmlkK1wiXCIsXCJkYXRhY2hhbm5lbFwiLHZvaWQgMCx0KX0pKSl9cHVibGlzaChlLHQsaSl7dmFyIG49dGhpcztyZXR1cm4geFAoKGZ1bmN0aW9uKigpe2NvbnN0IHI9eWllbGQgVlAobi5tdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLnB1Ymxpc2hcIikpO3RyeXtpZighbi5jb25uZWN0aW9ufHxuLnN0YXRlIT09cEkuQ29ubmVjdGVkKXtpZihuLnN0YXRlPT09cEkuRGlzY29ubmVjdGVkKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiUGVlckNvbm5lY3Rpb24gYWxyZWFkeSBkaXNjb25uZWN0ZWQuXCIpO24udGhyb3dJZlRyYWNrVHlwZU5vdE1hdGNoKGUpO2NvbnN0IHQ9ZS5maWx0ZXIoKGU9Pi0xPT09bi5wZW5kaW5nTG9jYWxUcmFja3MuaW5kZXhPZihlKSkpO3JldHVybiB2b2lkKG4ucGVuZGluZ0xvY2FsVHJhY2tzPW4ucGVuZGluZ0xvY2FsVHJhY2tzLmNvbmNhdCh0KSl9bi5zdG9yZS5wdWJJZD1uLnN0b3JlLnB1YklkKzEsc0QubWFya1B1Ymxpc2hTdGFydChuLnN0b3JlLmNsaWVudElkLG4uc3RvcmUucHViSWQpO2NvbnN0IHM9bi5maWx0ZXJUb2JlUHVibGlzaGVkVHJhY2tzKGUsdCxpKTtpZigwPT09cy5sZW5ndGgpcmV0dXJuIHZvaWQoeWllbGQgVlAobi50cnlUb1VubXV0ZUF1ZGlvKGUpKSk7eWllbGQqRlAoY2sobi5kb1B1Ymxpc2gobi5jb25uZWN0aW9uLHMpKSl9ZmluYWxseXtyKCl9fSkpKCl9ZG9QdWJsaXNoKGUsdCl7dmFyIGk9dGhpcztyZXR1cm4geFAoKGZ1bmN0aW9uKigpe3QuZm9yRWFjaCgoZT0+e2xldHt0cmFjazp0LHR5cGU6bn09ZTtjb25zdCByPURhdGUubm93KCk7aS5zdG9yZS5wdWJsaXNoKHQuZ2V0VHJhY2tJZCgpLG49PT11SS5Mb2NhbEF1ZGlvVHJhY2s/XCJhdWRpb1wiOlwidmlkZW9cIixyKX0pKSxpLmJpbmRMb2NhbFRyYWNrRXZlbnRzKHQpO2NvbnN0IG49eWllbGQgVlAoZS5zZW5kKHQubWFwKChlPT57bGV0e3RyYWNrOnR9PWU7cmV0dXJuIHR9KSksaS5zdG9yZS5jb2RlYyxpLnN0b3JlLmF1ZGlvQ29kZWMpKSxyPSh5aWVsZCBWUChuLm5leHQoKSkpLnZhbHVlLHM9aS5jcmVhdGVHYXRld2F5UHVibGlzaE1lc3NhZ2UodCxyKTtsZXQgbzt0cnl7bz15aWVsZCBzfWNhdGNoKGUpe3Rocm93IG4udGhyb3coZSksKG51bGw9PWU/dm9pZCAwOmUuY29kZSk9PT14Zy5XU19BQk9SVCYmdC5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnR9PWU7LTE9PT1pLnBlbmRpbmdMb2NhbFRyYWNrcy5pbmRleE9mKHQpJiZpLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKHQpfSkpLGkudW5iaW5kTG9jYWxUcmFja0V2ZW50cyh0KSxlfWNvbnN0IGE9aS5tYXBQdWJSZXNUb1JlbW90ZUNvbmZpZyhzLG8pLGM9KHlpZWxkIFZQKG4ubmV4dChhKSkpLnZhbHVlO3QuZm9yRWFjaCgoZT0+e2xldHt0eXBlOnR9PWU7aS5zdGF0c0NvbGxlY3Rvci5hZGRMb2NhbFN0YXRzKHQpfSkpLGkuYXNzaWduTG9jYWxUcmFja3ModCxjKSxpLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRVcGxpbmtTdGF0cygpLHQuZm9yRWFjaCgoZT0+e2xldHt0cmFjazp0LHR5cGU6bn09ZTtjb25zdCByPURhdGUubm93KCk7aS5zdG9yZS5wdWJsaXNoKHQuZ2V0VHJhY2tJZCgpLG49PT11SS5Mb2NhbEF1ZGlvVHJhY2s/XCJhdWRpb1wiOlwidmlkZW9cIix2b2lkIDAscil9KSl9KSkoKX1hc3luYyB1cGRhdGVWaWRlb1N0cmVhbVBhcmFtZXRlcihlLHQpe2NvbnN0IGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh0KTtpZighaSlyZXR1cm47aWYoIShpLnRyYWNrIGluc3RhbmNlb2YgZmIpKXJldHVybiBXQy53YXJuKFwiW3VwZGF0ZVZpZGVvU3RyZWFtUGFyYW1ldGVyXTogdHJhY2sgaXMgbm90IGFuIGluc3RhbmNlIG9mIExvY2FsVmlkZW9UcmFja1wiKTtpZighKHRoaXMuY29ubmVjdGlvbiBpbnN0YW5jZW9mIEZMfHx0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBETCkpcmV0dXJuIFdDLndhcm4oXCJbdXBkYXRlVmlkZW9TdHJlYW1QYXJhbWV0ZXJdOiBjb25uZWN0aW9uIGlzIG5vdCBQMlBDb25uZWN0aW9uIG9yIFAyUENvbm5lY3Rpb25QbGFuQlwiKTtjb25zdHt0cmFjazpufT1pLHI9ZnVuY3Rpb24oZSx0KXtjb25zdCBpPXt9O3JldHVybiBlLmhlaWdodCYmZS53aWR0aCYmKGkuc2NhbGVSZXNvbHV0aW9uRG93bkJ5PVNEKGUsdCkpLGkubWF4RnJhbWVyYXRlPWUuZnJhbWVyYXRlP3BEKGUuZnJhbWVyYXRlKTp2b2lkIDAsaS5tYXhCaXRyYXRlPWUuYml0cmF0ZT8xZTMqZS5iaXRyYXRlOnZvaWQgMCxpfShlLG4pO2lmKG4uX2VuY29kZXJDb25maWd8fChuLl9lbmNvZGVyQ29uZmlnPXt9KSx0IT09dUkuTG9jYWxWaWRlb0xvd1RyYWNrfHwha0MoXCJESVNBQkxFX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElOR1wiKSYmaEEoKS5zdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nKW51bGwhPXIuc2NhbGVSZXNvbHV0aW9uRG93bkJ5JiYobi5fZW5jb2RlckNvbmZpZy5zY2FsZVJlc29sdXRpb25Eb3duQnk9ci5zY2FsZVJlc29sdXRpb25Eb3duQnkpO2Vsc2V7Y29uc3QgdD1uLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrO2lmKCF0LmNhbnZhcylyZXR1cm4gV0Mud2FybihcIltcIi5jb25jYXQobi5nZXRUcmFja0lkKCksXCJdIG5vIGNhbnZhcyBvbiB0cmFja1wiKSk7IWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1lLmNhbnZhczt0LndpZHRoJiYoaS53aWR0aD1wRCh0LndpZHRoKSksdC5oZWlnaHQmJihpLmhlaWdodD1wRCh0LmhlaWdodCkpLHQuZnJhbWVyYXRlJiYoaS5zdG9wQ2FwdHVyZSYmaS5zdG9wQ2FwdHVyZSgpLGkuc3RvcENhcHR1cmU9ZEEoKCgpPT57IWkuc3RhcnRDYXB0dXJlJiZpLnN0b3BDYXB0dXJlJiZpLnN0b3BDYXB0dXJlKCksaS5zdGFydENhcHR1cmUmJmkuc3RhcnRDYXB0dXJlKCl9KSxwRCh0LmZyYW1lcmF0ZSkpKX0odCxlKX1udWxsIT1yLm1heEJpdHJhdGUmJihuLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXg9ci5tYXhCaXRyYXRlLzFlMyksbnVsbCE9ci5tYXhGcmFtZXJhdGUmJihuLl9lbmNvZGVyQ29uZmlnLmZyYW1lUmF0ZSYmXCJvYmplY3RcIj09dHlwZW9mIG4uX2VuY29kZXJDb25maWcuZnJhbWVSYXRlP24uX2VuY29kZXJDb25maWcuZnJhbWVSYXRlLm1heD1yLm1heEZyYW1lcmF0ZTpuLl9lbmNvZGVyQ29uZmlnLmZyYW1lUmF0ZT17bWF4OnIubWF4RnJhbWVyYXRlfSksV0MuZGVidWcoXCJbXCIuY29uY2F0KG4uZ2V0VHJhY2tJZCgpLFwiXSBMb3dTdHJlYW1FbmNvZGVyQ29uZmlnOiAsIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkobi5fZW5jb2RlckNvbmZpZykpKSxhd2FpdCB0aGlzLmNvbm5lY3Rpb24udXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzKG4pfXB1Ymxpc2hMb3dTdHJlYW0oZSl7dmFyIHQ9dGhpcztyZXR1cm4geFAoKGZ1bmN0aW9uKigpe2lmKCF0LmNvbm5lY3Rpb258fHQuc3RhdGUhPT1wSS5Db25uZWN0ZWQpcmV0dXJuO2NvbnN0IGk9eWllbGQgVlAodC5tdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwucHVibGlzaExvd1N0cmVhbVwiKSk7dHJ5e2NvbnN0IHI9dC5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbFZpZGVvVHJhY2spO2lmKCFyKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiQ291bGQgbm90IGZpbmQgaGlnaCBzdHJlYW1cIik7aWYodC5sb2NhbFRyYWNrTWFwLmhhcyh1SS5Mb2NhbFZpZGVvTG93VHJhY2spKXRocm93IG5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiW1wiLmNvbmNhdCh0LnN0b3JlLmNsaWVudElkLFwiXSBDYW4ndCBwdWJsaXNoIGxvdyBzdHJlYW0gd2hlbiBzdHJlYW0gYWxyZWFkeSBwdWJsaXNoXCIpKTtjb25zdCBzPVt7dHJhY2s6dC5nZXRMb3dWaWRlb1RyYWNrKHIudHJhY2ssZSksdHlwZTp1SS5Mb2NhbFZpZGVvTG93VHJhY2t9XTtpZih5aWVsZCpGUChjayh0LmRvUHVibGlzaCh0LmNvbm5lY3Rpb24scykpKSxyLnRyYWNrLm11dGVkfHwhci50cmFjay5lbmFibGVkKXt2YXIgbjtjb25zdCBlPW51bGw9PT0obj10LmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsVmlkZW9Mb3dUcmFjaykpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmlkO3ZvaWQgMCE9PWUmJih5aWVsZCBWUCh0LmNvbm5lY3Rpb24ubXV0ZUxvY2FsKFtlXSkpKX19ZmluYWxseXtpKCl9fSkpKCl9YXN5bmMgcmVwdWJsaXNoKCl7dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MubGVuZ3RoPjAmJihXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gRW1pdCBQMlBDaGFubmVsRXZlbnRzLlJlcXVlc3RSZVB1Ymxpc2ggdG8gcmVwdWJsaXNoIHRyYWNrcy5cIikpLGF3YWl0IGZTKHRoaXMsX0kuUmVxdWVzdFJlUHVibGlzaCx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcyksdGhpcy5lbWl0KF9JLk1lZGlhUmVjb25uZWN0RW5kLHRoaXMuc3RvcmUudWlkKSx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcz1bXSksdGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMubGVuZ3RoPjAmJihXQy5kZWJ1ZyhcIkVtaXQgUDJQQ2hhbm5lbEV2ZW50cy5SZXF1ZXN0UmVQdWJsaXNoRGF0YUNoYW5uZWwgdG8gcmVwdWJsaXNoIGRhdGFjaGFubmVscy5cIiksYXdhaXQgZlModGhpcyxfSS5SZXF1ZXN0UmVQdWJsaXNoRGF0YUNoYW5uZWwsdGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMpLHRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzPVtdKX1hc3luYyByZVN1YnNjcmliZShlKXtmb3IobGV0IGU9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmxlbmd0aC0xO2U+PTA7ZS0tKXtjb25zdHt1c2VyOnQsa2luZDppfT10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3NbZV07KGkhPT1kSS5BVURJT3x8dC5fYXVkaW9fYWRkZWRfJiZ0Ll9hdWRpb1NTUkMpJiYoaSE9PWRJLlZJREVPfHx0Ll92aWRlb19hZGRlZF8mJnQuX3ZpZGVvU1NSQyl8fHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5zcGxpY2UoZSwxKX1pZihlKWF3YWl0IGZTKHRoaXMsX0kuUmVxdWVzdFJlU3Vic2NyaWJlLHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcyk7ZWxzZSBmb3IoY29uc3R7dXNlcjplLGtpbmQ6dH1vZiB0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MpYXdhaXQgdGhpcy5zdWJzY3JpYmUoZSx0LHQ9PT1kSS5WSURFTz9lLl92aWRlb1NTUkM6ZS5fYXVkaW9TU1JDKTt0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuZm9yRWFjaCgoZT0+e2xldHt1c2VyOnR9PWU7dGhpcy5lbWl0KF9JLk1lZGlhUmVjb25uZWN0RW5kLHQudWlkKX0pKSx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3M9W119YXN5bmMgdW5wdWJsaXNoKGUpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1wSS5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgZS5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5pbmRleE9mKGUpOy0xIT09dCYmdGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc3BsaWNlKHQsMSl9KSk7Y29uc3QgdD10aGlzLmZpbHRlclRvYmVVbnB1Ymxpc2hlZFRyYWNrcyhlKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuO2NvbnN0IGk9dC5maW5kKChlPT5cInZpZGVvTG93VHJhY2tcIj09PWVbMF0pKTtpZihpKXtpWzFdLnRyYWNrLmNsb3NlKCl9cmV0dXJuIHRoaXMuZG9VbnB1Ymxpc2godGhpcy5jb25uZWN0aW9uLHQpfWFzeW5jIHVucHVibGlzaERhdGFDaGFubmVsKGUpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1wSS5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgZS5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLnBlbmRpbmdMb2NhbERhdGFDaGFubmVscy5pbmRleE9mKGUpOy0xIT09dCYmdGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMuc3BsaWNlKHQsMSl9KSk7Y29uc3QgdD10aGlzLmZpbHRlclRvYmVVbnB1Ymxpc2hlZERhdGFDaGFubmVscyhlKTtyZXR1cm4gMCE9PXQubGVuZ3RoPyh0LmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuc3BsaWNlKHQsMSl9KSksMD09PXRoaXMubG9jYWxEYXRhQ2hhbm5lbHMubGVuZ3RoJiZhd2FpdCB0aGlzLmNvbm5lY3Rpb24uc3RvcERhdGFDaGFubmVscyh0aGlzLnN0b3JlLnVpZCksdC5tYXAoKGU9PmUuaWQpKSk6dm9pZCAwfWFzeW5jIHVucHVibGlzaExvd1N0cmVhbSgpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1wSS5Db25uZWN0ZWQpcmV0dXJuO2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbFZpZGVvTG93VHJhY2spO2lmKCFlKXJldHVybjtlLnRyYWNrLmNsb3NlKCk7Y29uc3QgdD1bW3VJLkxvY2FsVmlkZW9Mb3dUcmFjayxlXV07cmV0dXJuIHRoaXMuZG9VbnB1Ymxpc2godGhpcy5jb25uZWN0aW9uLHQpfWFzeW5jIGRvVW5wdWJsaXNoKGUsdCl7Y29uc3QgaT10aGlzLmNyZWF0ZUdhdGV3YXlVbnB1Ymxpc2hNZXNzYWdlKHQpO3JldHVybiBhd2FpdCBlLnN0b3BTZW5kaW5nKHQubWFwKChlPT57bGV0Wyx7aWQ6dH1dPWU7cmV0dXJuIHR9KSkpLHRoaXMud2l0aGRyYXdMb2NhbFRyYWNrcyh0KSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHModC5tYXAoKGU9PntsZXRbdCx7dHJhY2s6aX1dPWU7cmV0dXJue3R5cGU6dCx0cmFjazppfX0pKSksdC5mb3JFYWNoKChlPT57bGV0W3RdPWU7dGhpcy5zdGF0c0NvbGxlY3Rvci5yZW1vdmVMb2NhbFN0YXRzKHQpfSkpLDA9PT10aGlzLmxvY2FsVHJhY2tNYXAuc2l6ZSYmdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRVcGxpbmtTdGF0cygpLGl9YXN5bmMgc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSx0KXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09cEkuQ29ubmVjdGVkKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBzdWJzY3JpYmUgcmVtb3RlIHVzZXIgd2hlbiBwZWVyQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO2NvbnN0IGk9dC5maWx0ZXIoKHQ9Pnt2YXIgaTtyZXR1cm4hKG51bGwhPT0oaT10aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmdldChlKSkmJnZvaWQgMCE9PWkmJmkuZ2V0KHQuaWQpKX0pKTtpZigwIT09aS5sZW5ndGgpcmV0dXJuIGF3YWl0IHRoaXMuY29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbHMoZS51aWQsaSksaS5mb3JFYWNoKCh0PT57dmFyIGk7dGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5oYXMoZSk/bnVsbD09PShpPXRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuZ2V0KGUpKXx8dm9pZCAwPT09aXx8aS5zZXQodC5pZCx0KTp0aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLnNldChlLG5ldyBNYXAoW1t0LmlkLHRdXSkpO2NvbnN0IG49dGhpcy5wZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzLmZpbmRJbmRleCgoaT0+e2xldHt1c2VyOm4saWQ6cn09aTtyZXR1cm4gbi51aWQ9PT1lLnVpZCYmcj09PXQuaWR9KSk7LTEhPT1uJiZ0aGlzLnBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbHMuc3BsaWNlKG4sMSl9KSksaS5tYXAoKGU9PmUuaWQpKX1hc3luYyBzdWJzY3JpYmUoZSx0LGksbixyKXt2YXIgcztpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09cEkuQ29ubmVjdGVkKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBzdWJzY3JpYmUgcmVtb3RlIHVzZXIgd2hlbiBwZWVyQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO2lmKG51bGwhPT0ocz10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpKSYmdm9pZCAwIT09cyYmcy5oYXModCkpcmV0dXJuO2xldCBvLGEsYztpZihyKXtjb25zdCBpPXIuZmluZCgoZT0+e2xldHtzdHJlYW1fdHlwZTppfT1lO3JldHVybiBpPT09dH0pKTtpZighaSl0aHJvdyBuZXcgVmcoeGcuVU5FWFBFQ1RFRF9FUlJPUixcIkNhbm5vdCBzdWJzY3JpYmUgdG8gcmVtb3RlIFwiLmNvbmNhdCh0LFwiIGZvciB1c2VyOiBcIikuY29uY2F0KGUudWlkLFwiIGJlY2F1c2Ugc3Vic2NyaWJlIGFuc3dlciBmcm9tIGdhdGV3YXkgZG9lcyBub3QgY29udGFpbiBzdHJlYW1fdHlwZTogXCIpLmNvbmNhdCh0LFwiLlwiKSk7Y29uc3Qgbj1hd2FpdCB0aGlzLmNvbm5lY3Rpb24ucmVjZWl2ZSh0LGkuc3NyY3MsU3RyaW5nKGUuX3VpbnRpZCksaS5hdHRyaWJ1dGVzKTt0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBGTCYmKGM9bi50cmFuc2NlaXZlciksbz1uLnRyYWNrLGE9bi5pZH1lbHNle2NvbnN0IHI9YXdhaXQgdGhpcy5jb25uZWN0aW9uLnJlY2VpdmUodCxbe3NzcmNJZDppLHJ0eDpufV0sU3RyaW5nKGUuX3VpbnRpZCksdm9pZCAwKTt0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBGTCYmKGM9ci50cmFuc2NlaXZlciksbz1yLnRyYWNrLGE9ci5pZH10PT09ZEkuQVVESU8/KGUuX2F1ZGlvVHJhY2s/ZS5fYXVkaW9UcmFjay5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhvKTooZS5fYXVkaW9UcmFjaz1uZXcgQWIobyxlLnVpZCxlLl91aW50aWQsdGhpcy5zdG9yZSksV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY3JlYXRlIHJlbW90ZSBhdWRpbyB0cmFjazogXCIpLmNvbmNhdChlLl9hdWRpb1RyYWNrLmdldFRyYWNrSWQoKSkpKSxjJiZlLl9hdWRpb1RyYWNrLl91cGRhdGVSdHBUcmFuc2NlaXZlcihjKSx0aGlzLmJpbmRSZW1vdGVUcmFja0V2ZW50cyhlLGUuX2F1ZGlvVHJhY2spKTooZS5fdmlkZW9UcmFjaz9lLl92aWRlb1RyYWNrLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKG8pOihlLl92aWRlb1RyYWNrPW5ldyB5YihvLGUudWlkLGUuX3VpbnRpZCx0aGlzLnN0b3JlKSxXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBjcmVhdGUgcmVtb3RlIHZpZGVvIHRyYWNrOiBcIikuY29uY2F0KGUuX3ZpZGVvVHJhY2suZ2V0VHJhY2tJZCgpKSkpLGMmJmUuX3ZpZGVvVHJhY2suX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGMpLHRoaXMuYmluZFJlbW90ZVRyYWNrRXZlbnRzKGUsZS5fdmlkZW9UcmFjaykpO2NvbnN0IGQ9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtkP2Quc2V0KHQsYSk6dGhpcy5yZW1vdGVVc2VyTWFwLnNldChlLG5ldyBNYXAoW1t0LGFdXSkpLHRoaXMuc3RhdHNDb2xsZWN0b3IuYWRkUmVtb3RlU3RhdHMoZS51aWQpLHRoaXMuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZERvd25saW5rU3RhdHMoKTtjb25zdCBsPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5maW5kSW5kZXgoKGk9PntsZXR7dXNlcjpuLGtpbmQ6cn09aTtyZXR1cm4gbi51aWQ9PT1lLnVpZCYmdD09PXJ9KSk7LTEhPT1sJiYodGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLnNwbGljZShsLDEpLHRoaXMuZW1pdChfSS5NZWRpYVJlY29ubmVjdEVuZCxlLnVpZCkpfWFzeW5jIG1hc3NTdWJzY3JpYmUoZSl7cmV0dXJuIHRoaXMubWFzc1N1YnNjcmliZU5vTG9jayhlKX1hc3luYyBtYXNzU3Vic2NyaWJlTm9Mb2NrKGUpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1wSS5Db25uZWN0ZWQpdGhyb3cgbmV3IFZnKHhnLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IHN1YnNjcmliZUFsbCByZW1vdGUgdXNlcnMgd2hlbiBwZWVyQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO2U9ZS5maWx0ZXIoKGU9Pnt2YXIgdDtsZXR7dXNlcjppLG1lZGlhVHlwZTpufT1lO3JldHVybiEobnVsbCE9PSh0PXRoaXMucmVtb3RlVXNlck1hcC5nZXQoaSkpJiZ2b2lkIDAhPT10JiZ0LmhhcyhuKSl9KSk7Y29uc3QgdD1hd2FpdCB0aGlzLmNvbm5lY3Rpb24uYmF0Y2hSZWNlaXZlKGUubWFwKChlPT57bGV0e3VzZXI6dCxtZWRpYVR5cGU6aSxzc3JjSWQ6bixydHhTc3JjSWQ6cn09ZTtyZXR1cm57a2luZDppLHNzcmNNc2c6W3tzc3JjSWQ6bixydHg6cn1dLG1zbGFiZWw6U3RyaW5nKHQuX3VpbnRpZCl9fSkpKTtlLmZvckVhY2goKChlLGkpPT57bGV0e3VzZXI6bixtZWRpYVR5cGU6cn09ZTtjb25zdHt0cmFjazpzLGlkOm8sdHJhbnNjZWl2ZXI6YX09dFtpXTtyPT09ZEkuQVVESU8/KG4uX2F1ZGlvVHJhY2s/bi5fYXVkaW9UcmFjay5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhzKToobi5fYXVkaW9UcmFjaz1uZXcgQWIocyxuLnVpZCxuLl91aW50aWQsdGhpcy5zdG9yZSksV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY3JlYXRlIHJlbW90ZSBhdWRpbyB0cmFjazogXCIpLmNvbmNhdChuLl9hdWRpb1RyYWNrLmdldFRyYWNrSWQoKSkpKSxhJiZuLl9hdWRpb1RyYWNrLl91cGRhdGVSdHBUcmFuc2NlaXZlcihhKSx0aGlzLmJpbmRSZW1vdGVUcmFja0V2ZW50cyhuLG4uX2F1ZGlvVHJhY2spKToobi5fdmlkZW9UcmFjaz9uLl92aWRlb1RyYWNrLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKHMpOihuLl92aWRlb1RyYWNrPW5ldyB5YihzLG4udWlkLG4uX3VpbnRpZCx0aGlzLnN0b3JlKSxXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBjcmVhdGUgcmVtb3RlIHZpZGVvIHRyYWNrOiBcIikuY29uY2F0KG4uX3ZpZGVvVHJhY2suZ2V0VHJhY2tJZCgpKSkpLGEmJm4uX3ZpZGVvVHJhY2suX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGEpLHRoaXMuYmluZFJlbW90ZVRyYWNrRXZlbnRzKG4sbi5fdmlkZW9UcmFjaykpO2NvbnN0IGM9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChuKTtjP2Muc2V0KHIsbyk6dGhpcy5yZW1vdGVVc2VyTWFwLnNldChuLG5ldyBNYXAoW1tyLG9dXSkpLHRoaXMuc3RhdHNDb2xsZWN0b3IuYWRkUmVtb3RlU3RhdHMobi51aWQpLHRoaXMuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZERvd25saW5rU3RhdHMoKTtjb25zdCBkPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5maW5kSW5kZXgoKGU9PntsZXR7dXNlcjp0LGtpbmQ6aX09ZTtyZXR1cm4gdC51aWQ9PT1uLnVpZCYmcj09PWl9KSk7LTEhPT1kJiYodGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLnNwbGljZShkLDEpLHRoaXMuZW1pdChfSS5NZWRpYVJlY29ubmVjdEVuZCxuLnVpZCkpfSkpfWFzeW5jIHVuc3Vic2NyaWJlKGUsdCxpKXtjb25zdCBuPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5maWx0ZXIoKGk9PntsZXR7dXNlcjpuLGtpbmQ6cn09aTtyZXR1cm4gdm9pZCAwIT09dD9uLnVpZD09PWUudWlkJiZ0PT09cjpuLnVpZD09PWUudWlkfSkpO2lmKG4uZm9yRWFjaCgoZT0+e2NvbnN0IHQ9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmluZGV4T2YoZSk7dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLnNwbGljZSh0LDEpfSkpLHRoaXMuY29ubmVjdGlvbiYmdGhpcy5zdGF0ZT09PXBJLkNvbm5lY3RlZHx8aXx8bi5mb3JFYWNoKCh0PT57bGV0e2tpbmQ6aX09dDt2YXIgbjtpZihpPT09ZEkuQVVESU8pbnVsbD09PShuPWUuX2F1ZGlvVHJhY2spfHx2b2lkIDA9PT1ufHxuLl9kZXN0cm95KCksZS5fYXVkaW9UcmFjaz12b2lkIDA7ZWxzZSBpZihpPT09ZEkuVklERU8pe3ZhciByO251bGw9PT0ocj1lLl92aWRlb1RyYWNrKXx8dm9pZCAwPT09cnx8ci5fZGVzdHJveSgpLGUuX3ZpZGVvVHJhY2s9dm9pZCAwfX0pKSwhdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09cEkuQ29ubmVjdGVkKXJldHVybjtjb25zdCByPXRoaXMuZmlsdGVyVG9iZVVuU3Vic2NyaWJlZFRyYWNrcyhlLHQpO2lmKDA9PT1yLmxlbmd0aClyZXR1cm47YXdhaXQgdGhpcy5jb25uZWN0aW9uLnN0b3BSZWNlaXZpbmcoci5tYXAoKGU9PntsZXRbLHtpZDp0fV09ZTtyZXR1cm4gdH0pKSk7Y29uc3Qgcz10aGlzLmNyZWF0ZVVuc3Vic2NyaWJlTWVzc2FnZShyKTtyZXR1cm4gdGhpcy53aXRoZHJhd1JlbW90ZVRyYWNrcyhyKSwwPT09dGhpcy5yZW1vdGVVc2VyTWFwLnNpemUmJnRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkRG93bmxpbmtTdGF0cygpLHIuZm9yRWFjaCgoZT0+e2xldFt0LHtraW5kOm59XT1lO3ZhciByLHM7bj09PWRJLlZJREVPJiZ0Ll92aWRlb1NTUkMmJihudWxsPT09KHI9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09cnx8ci5zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeSh0Ll92aWRlb1NTUkMsITEpKTtpZihuPT09ZEkuVklERU8pdGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyh0Ll92aWRlb1RyYWNrKSxpfHwobnVsbD09PShzPXQuX3ZpZGVvVHJhY2spfHx2b2lkIDA9PT1zfHxzLl9kZXN0cm95KCksdC5fdmlkZW9UcmFjaz12b2lkIDApO2Vsc2UgaWYobj09PWRJLkFVRElPKXt2YXIgbztpZih0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX2F1ZGlvVHJhY2spLCFpKW51bGw9PT0obz10Ll9hdWRpb1RyYWNrKXx8dm9pZCAwPT09b3x8by5fZGVzdHJveSgpLHQuX2F1ZGlvVHJhY2s9dm9pZCAwfX0pKSxzfWFzeW5jIHVuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSx0KXtpZih0LmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMucGVuZGluZ1JlbW90ZURhdGFDaGFubmVscy5maW5kSW5kZXgoKHQ9PnQuaWQ9PT1lLmlkKSk7LTEhPT10JiZ0aGlzLnBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbHMuc3BsaWNlKHQsMSl9KSksIXRoaXMuY29ubmVjdGlvbilyZXR1cm47Y29uc3QgaT10aGlzLmZpbHRlclRvYmVVblN1YnNjcmliZWREYXRhQ2hhbm5lbHMoZSx0KTtpZigwPT09aS5sZW5ndGgpcmV0dXJuO3QuZm9yRWFjaCgoZT0+e2UuX2Nsb3NlKCl9KSk7Y29uc3Qgbj10aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmdldChlKTtyZXR1cm4gaS5mb3JFYWNoKChlPT57biYmbi5kZWxldGUoZS5pZCl9KSksbiYmMD09PW4uc2l6ZSYmKHRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuZGVsZXRlKGUpLGF3YWl0IHRoaXMuY29ubmVjdGlvbi5zdG9wRGF0YUNoYW5uZWxzKGUudWlkKSksaS5tYXAoKGU9PmUuaWQpKX1hc3luYyBtYXNzVW5zdWJzY3JpYmUoZSl7cmV0dXJuIHRoaXMubWFzc1Vuc3Vic2NyaWJlTm9Mb2NrKGUpfWFzeW5jIG1hc3NVbnN1YnNjcmliZU5vTG9jayhlKXtsZXQgdD1bXTtmb3IoY29uc3R7dXNlcjppLG1lZGlhVHlwZTpufW9mIGUpe2NvbnN0IGU9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmZpbHRlcigoZT0+e2xldHt1c2VyOnQsa2luZDpyfT1lO3JldHVybiB2b2lkIDAhPT1uP3QudWlkPT09aS51aWQmJm49PT1yOnQudWlkPT09aS51aWR9KSk7ZS5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuaW5kZXhPZihlKTt0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Muc3BsaWNlKHQsMSl9KSksdD10LmNvbmNhdChlKX1pZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09cEkuQ29ubmVjdGVkKXJldHVybiB2b2lkIHQuZm9yRWFjaCgoZT0+e2xldHt1c2VyOnQsa2luZDppfT1lO3ZhciBuO2lmKGk9PT1kSS5BVURJTyludWxsPT09KG49dC5fYXVkaW9UcmFjayl8fHZvaWQgMD09PW58fG4uX2Rlc3Ryb3koKSx0Ll9hdWRpb1RyYWNrPXZvaWQgMDtlbHNlIGlmKGk9PT1kSS5WSURFTyl7dmFyIHI7bnVsbD09PShyPXQuX3ZpZGVvVHJhY2spfHx2b2lkIDA9PT1yfHxyLl9kZXN0cm95KCksdC5fdmlkZW9UcmFjaz12b2lkIDB9fSkpO2NvbnN0IGk9Y1QoZSkuY2FsbChlLCgoZSx0KT0+e2xldHt1c2VyOmksbWVkaWFUeXBlOm59PXQ7Y29uc3Qgcj10aGlzLmZpbHRlclRvYmVVblN1YnNjcmliZWRUcmFja3MoaSxuKTtyZXR1cm4gZS5jb25jYXQocil9KSxbXSk7aWYoMD09PWkubGVuZ3RoKXJldHVybjthd2FpdCB0aGlzLmNvbm5lY3Rpb24uc3RvcFJlY2VpdmluZyhpLm1hcCgoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB0fSkpKTtjb25zdCBuPXRoaXMuY3JlYXRlVW5zdWJzY3JpYmVBbGxNZXNzYWdlKGkpO3JldHVybiB0aGlzLndpdGhkcmF3UmVtb3RlVHJhY2tzKGkpLDA9PT10aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSYmdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWREb3dubGlua1N0YXRzKCksaS5mb3JFYWNoKChlPT57bGV0W3Qse2tpbmQ6aX1dPWU7dmFyIG4scjtpPT09ZEkuVklERU8mJnQuX3ZpZGVvU1NSQyYmKG51bGw9PT0obj10aGlzLmNvbm5lY3Rpb24pfHx2b2lkIDA9PT1ufHxuLnNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KHQuX3ZpZGVvU1NSQywhMSkpO2lmKGk9PT1kSS5WSURFTyl0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX3ZpZGVvVHJhY2spLG51bGw9PT0ocj10Ll92aWRlb1RyYWNrKXx8dm9pZCAwPT09cnx8ci5fZGVzdHJveSgpLHQuX3ZpZGVvVHJhY2s9dm9pZCAwO2Vsc2UgaWYoaT09PWRJLkFVRElPKXt2YXIgczt0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX2F1ZGlvVHJhY2spLG51bGw9PT0ocz10Ll9hdWRpb1RyYWNrKXx8dm9pZCAwPT09c3x8cy5fZGVzdHJveSgpLHQuX2F1ZGlvVHJhY2s9dm9pZCAwfX0pKSxufWFzeW5jIG11dGVSZW1vdGUoZSx0KXtpZighdGhpcy5jb25uZWN0aW9uKXJldHVybjtjb25zdCBpPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7aWYoIWkpcmV0dXJuIHZvaWQgV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiLlwiKSk7aWYoIWkuZ2V0KHQpKXJldHVybiB2b2lkIFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiBtZWRpYSB0eXBlIFwiKS5jb25jYXQodCxcIi5cIikpO2NvbnN0IG49dD09PWRJLlZJREVPP2UuX3ZpZGVvU1NSQzplLl9hdWRpb1NTUkM7dm9pZCAwIT09biYmdGhpcy5jb25uZWN0aW9uLnNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KG4sITEpfWFzeW5jIHVubXV0ZVJlbW90ZShlLHQpe3JldHVybiB0aGlzLnVubXV0ZVJlbW90ZU5vTG9jayhlLHQpfWFzeW5jIHVubXV0ZVJlbW90ZU5vTG9jayhlLHQpe2lmKCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IGk9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtpZighaSlyZXR1cm4gdm9pZCBXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnVubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIi5cIikpO2kuZ2V0KHQpfHxXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnVubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiBtZWRpYSB0eXBlIFwiKS5jb25jYXQodCxcIi5cIikpfWdldEFsbFRyYWNrcyhlKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxBdWRpb1RyYWNrKTtpZigobnVsbD09dD92b2lkIDA6dC50cmFjaylpbnN0YW5jZW9mIFpBKXtjb25zdCBpPXQudHJhY2s7cmV0dXJuIEFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKChlPT57bGV0W3RdPWU7cmV0dXJuIHQhPT11SS5Mb2NhbEF1ZGlvVHJhY2t9KSkuZmlsdGVyKCh0PT57bGV0W2ldPXQ7cmV0dXJuIShlJiZpPT09dUkuTG9jYWxWaWRlb0xvd1RyYWNrKX0pKS5tYXAoKGU9PntsZXRbLHt0cmFjazp0fV09ZTtyZXR1cm4gdH0pKS5jb25jYXQoaS50cmFja0xpc3QpfXJldHVybiBBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbHRlcigodD0+e2xldFtpXT10O3JldHVybiEoZSYmaT09PXVJLkxvY2FsVmlkZW9Mb3dUcmFjayl9KSkubWFwKChlPT57bGV0Wyx7dHJhY2s6dH1dPWU7cmV0dXJuIHR9KSl9Z2V0QWxsRGF0YUNoYW5uZWxzKCl7cmV0dXJuIHRoaXMubG9jYWxEYXRhQ2hhbm5lbHN9cmVwb3J0UHVibGlzaEV2ZW50KGUsdCxpLG4scil7aWYoZSl7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsQXVkaW9UcmFjaykscz1uP3RoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxWaWRlb0xvd1RyYWNrKTp0aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsVmlkZW9UcmFjayk7aXYucHVibGlzaCh0aGlzLnN0b3JlLnNlc3Npb25JZCx7ZXZlbnRFbGFwc2U6c0QubWVhc3VyZUZyb21QdWJsaXNoU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCx0aGlzLnN0b3JlLnB1YklkKSxzdWNjOmUsZWM6dCxhdWRpb05hbWU6bnVsbD09aT92b2lkIDA6aS50cmFjay5nZXRUcmFja0xhYmVsKCksdmlkZW9OYW1lOm51bGw9PXM/dm9pZCAwOnMudHJhY2suZ2V0VHJhY2tMYWJlbCgpLHNjcmVlbnNoYXJlOi0xIT09KG51bGw9PXM/dm9pZCAwOnMudHJhY2suX2hpbnRzLmluZGV4T2YoRHkuU0NSRUVOX1RSQUNLKSksYXVkaW86ISFpLHZpZGVvOiEhcyxwMnBpZDp0aGlzLnN0b3JlLnAycElkLHB1Ymxpc2hSZXF1ZXN0aWQ6dGhpcy5zdG9yZS5wdWJJZCxleHRlbmQ6cn0pfWVsc2V7dmFyIHM7aXx8KGk9W10pO2NvbnN0IG89aS5maW5kKChlPT5lIGluc3RhbmNlb2YgekEpKSxhPW4/bnVsbD09PShzPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxWaWRlb1RyYWNrKSl8fHZvaWQgMD09PXM/dm9pZCAwOnMudHJhY2s6aS5maW5kKChlPT5lIGluc3RhbmNlb2YgZmIpKTtpdi5wdWJsaXNoKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtldmVudEVsYXBzZTpzRC5tZWFzdXJlRnJvbVB1Ymxpc2hTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHRoaXMuc3RvcmUucHViSWQpLHN1Y2M6ZSxlYzp0LGF1ZGlvTmFtZTpudWxsPT1vP3ZvaWQgMDpvLmdldFRyYWNrTGFiZWwoKSx2aWRlb05hbWU6bnVsbD09YT92b2lkIDA6YS5nZXRUcmFja0xhYmVsKCksc2NyZWVuc2hhcmU6LTEhPT0obnVsbD09YT92b2lkIDA6YS5faGludHMuaW5kZXhPZihEeS5TQ1JFRU5fVFJBQ0spKSxhdWRpbzohIW8sdmlkZW86ISFhLHAycGlkOnRoaXMuc3RvcmUucDJwSWQscHVibGlzaFJlcXVlc3RpZDp0aGlzLnN0b3JlLnB1YklkLGV4dGVuZDpyfSl9fXJlcG9ydFN1YnNjcmliZUV2ZW50KGUsdCxpLG4pe2NvbnN0IHI9bj09PWRJLlZJREVPP2kuX3ZpZGVvU1NSQzppLl9hdWRpb1NTUkM7ciYmaXYuc3Vic2NyaWJlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtzdWNjOmUsZWM6dCx2aWRlbzpuPT09ZEkuVklERU8sYXVkaW86bj09PWRJLkFVRElPLHBlZXJpZDppLnVpZCxzdWJzY3JpYmVSZXF1ZXN0aWQ6bj09PWRJLlZJREVPP2kuX3ZpZGVvU1NSQzppLl9hdWRpb1NTUkMscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxldmVudEVsYXBzZTpzRC5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQscil9KX1yZXNldCgpe1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnJlc2V0XCIpKSx0aGlzLm11dGV4PW5ldyBZUyhcIlAyUENoYW5uZWwtbXV0ZXhcIiksdGhpcy5jb25uZWN0aW9uJiYodGhpcy5jb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuY29ubmVjdGlvbiksdGhpcy5jb25uZWN0aW9uPXZvaWQgMCksdGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb24mJih0aGlzLmNvbm5lY3Rpb249dGhpcy5zdG9yZS51c2VEYXRhQ2hhbm5lbD9uZXcgdGsoe30sdGhpcy5zdG9yZSk6dGhpcy5pc1BsYW5CP25ldyBETCh7fSx0aGlzLnN0b3JlKTpuZXcgRkwoe30sdGhpcy5zdG9yZSksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZFVwbGlua1N0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWREb3dubGlua1N0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRUcmFuc3BvcnRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGF0cygpLHRoaXMudW5iaW5kTG9jYWxUcmFja0V2ZW50cygpLHRoaXMudW5iaW5kQWxsUmVtb3RlVHJhY2tFdmVudHMoKSx0aGlzLnVuYmluZFJ0cFRyYW5zY2VpdmVyKCk7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsQXVkaW9UcmFjayk7aWYoKG51bGw9PWU/dm9pZCAwOmUudHJhY2spaW5zdGFuY2VvZiBaQSl7aWYoZS50cmFjay50cmFja0xpc3QubGVuZ3RoPjApe2NvbnN0IHQ9ZS50cmFjaztlLnRyYWNrLnRyYWNrTGlzdC5mb3JFYWNoKChlPT57dC5yZW1vdmVBdWRpb1RyYWNrKGUpfSkpfWUudHJhY2suY2xvc2UoKX10aGlzLmxvY2FsVHJhY2tNYXAuY2xlYXIoKSx0aGlzLnJlbW90ZVVzZXJNYXAuY2xlYXIoKSx0aGlzLnN0YXRzQ29sbGVjdG9yLnJlbW92ZVJlbW90ZVN0YXRzKCksdGhpcy5zdGF0c0NvbGxlY3Rvci5yZW1vdmVMb2NhbFN0YXRzKCksdGhpcy5pY2VGYWlsZWRDb3VudD0wLHRoaXMuZHRsc0ZhaWxlZENvdW50PTAsdGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9W10sdGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzPVtdLHRoaXMubG9jYWxEYXRhQ2hhbm5lbHM9W10sdGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5jbGVhcigpLHRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzPVtdLHRoaXMucGVuZGluZ1JlbW90ZURhdGFDaGFubmVscz1bXSx0aGlzLnN0YXRlPXBJLkRpc2Nvbm5lY3RlZH1nZXRTdGF0cygpe3ZhciBlO3JldHVybiBudWxsPT09KGU9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRTdGF0cygpfWdldFJlbW90ZVZpZGVvSXNSZWFkeShlKXt2YXIgdDtyZXR1cm4obnVsbD09PSh0PXRoaXMuY29ubmVjdGlvbil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpKXx8ITF9Z2V0TG9jYWxBdWRpb1ZvbHVtZSgpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbEF1ZGlvVHJhY2spO2lmKGUpcmV0dXJuIGUudHJhY2suZ2V0Vm9sdW1lTGV2ZWwoKX1nZXRMb2NhbFZpZGVvU2l6ZSgpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbFZpZGVvVHJhY2spO2lmKGUpcmV0dXJue3dpZHRoOmUudHJhY2suX3ZpZGVvV2lkdGh8fDAsaGVpZ2h0OmUudHJhY2suX3ZpZGVvSGVpZ2h0fHwwfX1nZXRFbmNvZGVyQ29uZmlnKGUpe2NvbnN0IHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChlKTtyZXR1cm4gdCYmdC50cmFjayBpbnN0YW5jZW9mIGZifHx0JiZ0LnRyYWNrIGluc3RhbmNlb2YgekE/dC50cmFjay5fZW5jb2RlckNvbmZpZzp2b2lkIDB9Z2V0TG9jYWxNZWRpYShlKXtyZXR1cm4gdGhpcy5sb2NhbFRyYWNrTWFwLmdldChlKX1oYXNMb2NhbE1lZGlhKCl7cmV0dXJuIHRoaXMubG9jYWxUcmFja01hcC5zaXplPjB9aGFzUmVtb3RlTWVkaWEoZSx0KXtpZighZSlyZXR1cm4gdGhpcy5yZW1vdGVVc2VyTWFwLnNpemU+MDtjb25zdCBpPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7cmV0dXJuISFpJiYoIXR8fGkuaGFzKHQpKX1hc3luYyBoYXNSZW1vdGVNZWRpYVdpdGhMb2NrKGUsdCl7aWYoIWUpcmV0dXJuIHRoaXMucmVtb3RlVXNlck1hcC5zaXplPjA7Y29uc3QgaT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO3JldHVybiEhaSYmKCF0fHxpLmhhcyh0KSl9Z2V0UmVtb3RlTWVkaWEoZSl7dmFyIHQ7Y29uc3QgaT1BcnJheS5mcm9tKGh1KHQ9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKHQpKS5maW5kKCh0PT50LnVpZD09PWUpKTtyZXR1cm4gaT97YXVkaW9UcmFjazppLmF1ZGlvVHJhY2ssYXVkaW9TU1JDOmkuX2F1ZGlvU1NSQyx2aWRlb1RyYWNrOmkudmlkZW9UcmFjayx2aWRlb1NTUkM6aS5fdmlkZW9TU1JDfTp7fX1nZXRBdWRpb0xldmVscygpe2xldCBlPUFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkubWFwKChlPT57bGV0W3RdPWU7cmV0dXJue3VpZDp0LnVpZCxsZXZlbDp0LmF1ZGlvVHJhY2s/MTAwKnQuYXVkaW9UcmFjay5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKTowfX0pKTtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxBdWRpb1RyYWNrKTtyZXR1cm4gdCYmZS5wdXNoKHtsZXZlbDoxMDAqdC50cmFjay5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSx1aWQ6dGhpcy5zdG9yZS51aWR9KSxlPVp1KGUpLmNhbGwoZSwoKGUsdCk9PmUubGV2ZWwtdC5sZXZlbCkpLGV9YXN5bmMgZGlzY29ubmVjdEZvclJlY29ubmVjdCgpe3RoaXMuY29ubmVjdGlvbiYmKFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QgY2xvc2luZyBQMlBDb25uZWN0aW9uXCIpKSx0aGlzLnN0YXRlPXBJLlJlY29ubmVjdGluZyxrQyhcIktFRVBfTEFTVF9GUkFNRVwiKSYmMCE9PXRoaXMucmVtb3RlVXNlck1hcC5zaXplJiZBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdF09ZTt2YXIgaTt0Ll92aWRlb1RyYWNrJiZ0Ll92aWRlb1RyYWNrLl9wbGF5ZXImJihudWxsPT09KGk9dC5fdmlkZW9UcmFjay5fcGxheWVyLmdldFZpZGVvRWxlbWVudCgpKXx8dm9pZCAwPT09aXx8aS5wYXVzZSgpLHQuX3ZpZGVvVHJhY2suX3BsYXllci5pc0tlZXBMYXN0RnJhbWU9ITAsdC5fdmlkZW9UcmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCkpfSkpLHRoaXMuY29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pLHRoaXMuY29ubmVjdGlvbj12b2lkIDAsdGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb24mJih0aGlzLmNvbm5lY3Rpb249dGhpcy5zdG9yZS51c2VEYXRhQ2hhbm5lbD9uZXcgdGsoe30sdGhpcy5zdG9yZSk6dGhpcy5pc1BsYW5CP25ldyBETCh7fSx0aGlzLnN0b3JlKTpuZXcgRkwoe30sdGhpcy5zdG9yZSksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKSwwIT09dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUmJihBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9Pnt2YXIgdDtsZXRbaSx7dHJhY2s6bn1dPWU7c3dpdGNoKGkpe2Nhc2UgdUkuTG9jYWxWaWRlb1RyYWNrOlByKHQ9bi5faGludHMpLmNhbGwodCxEeS5MT1dfU1RSRUFNKT9uLmNsb3NlKCk6dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MucHVzaChuKTticmVhaztjYXNlIHVJLkxvY2FsQXVkaW9UcmFjazpuIGluc3RhbmNlb2YgWkE/dGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuY29uY2F0KG4udHJhY2tMaXN0KTp0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKG4pO2Nhc2UgdUkuTG9jYWxWaWRlb0xvd1RyYWNrOn19KSksdGhpcy5lbWl0KF9JLk1lZGlhUmVjb25uZWN0U3RhcnQsdGhpcy5zdG9yZS51aWQpKSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHMoKSx0aGlzLmxvY2FsVHJhY2tNYXAuY2xlYXIoKSwwIT09dGhpcy5yZW1vdGVVc2VyTWFwLnNpemUmJkFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LGldPWU7QXJyYXkuZnJvbShodShpKS5jYWxsKGkpKS5mb3JFYWNoKChlPT57dGhpcy5zZXRQZW5kaW5nUmVtb3RlTWVkaWEodCxlKX0pKSx0aGlzLmVtaXQoX0kuTWVkaWFSZWNvbm5lY3RTdGFydCx0LnVpZCl9KSksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMucmVtb3RlVXNlck1hcC5jbGVhcigpLDAhPT10aGlzLmxvY2FsRGF0YUNoYW5uZWxzLmxlbmd0aCYmKHRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuZm9yRWFjaCgoZT0+e3RoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzLnB1c2goZSl9KSksdGhpcy5sb2NhbERhdGFDaGFubmVscy5sZW5ndGg9MCksMCE9PXRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuc2l6ZSYmKEFycmF5LmZyb20odGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdCxpXT1lO0FycmF5LmZyb20oaHUoaSkuY2FsbChpKSkuZm9yRWFjaCgoZT0+e3RoaXMuc2V0UGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKHQsZSl9KSl9KSksdGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5jbGVhcigpKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZFVwbGlua1N0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWREb3dubGlua1N0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRUcmFuc3BvcnRTdGF0cygpLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsIGRpc2Nvbm5lY3RlZCwgd2FpdGluZyB0byByZWNvbm5lY3QuXCIpKSl9aGFzUGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKGUsdCl7Zm9yKGNvbnN0IGkgb2YgdGhpcy5wZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzKXtjb25zdHt1c2VyOm4saWQ6cn09aTtpZigoZSBpbnN0YW5jZW9mIGJQP2UudWlkOmUpPT09bi51aWQmJnI9PT10KXJldHVybiEwfXJldHVybiExfXNldFBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbChlLHQpe3RoaXMuaGFzUGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKGUsdCl8fHRoaXMucGVuZGluZ1JlbW90ZURhdGFDaGFubmVscy5wdXNoKHt1c2VyOmUsaWQ6dH0pfWhhc1BlbmRpbmdSZW1vdGVNZWRpYShlLHQpe2Zvcihjb25zdCBpIG9mIHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcyl7Y29uc3R7dXNlcjpuLGtpbmQ6cn09aTtpZigoZSBpbnN0YW5jZW9mIGJQP2UudWlkOmUpPT09bi51aWQmJnQ9PT1yKXJldHVybiEwfXJldHVybiExfXNldFBlbmRpbmdSZW1vdGVNZWRpYShlLHQpe3RoaXMuaGFzUGVuZGluZ1JlbW90ZU1lZGlhKGUsdCl8fHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5wdXNoKHt1c2VyOmUsa2luZDp0fSl9cmVzdGFydElDRShlKXt2YXIgdD10aGlzO3JldHVybiB4UCgoZnVuY3Rpb24qKCl7aWYoIXQuY29ubmVjdGlvbnx8dC5zdGF0ZSE9PXBJLkNvbm5lY3RlZHx8dC5jb25uZWN0aW9uIGluc3RhbmNlb2YgdGspcmV0dXJuO2NvbnN0IGk9eWllbGQgVlAodC5tdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLnJlc3RhcnRJQ0VcIikpO2xldCBuO3RyeXtuPXlpZWxkIFZQKHQuY29ubmVjdGlvbi5yZXN0YXJ0SUNFKGUpKTtjb25zdCByPXlpZWxkIFZQKG4ubmV4dCgpKTtpZihyLmRvbmUpcmV0dXJuO2NvbnN0IHM9ci52YWx1ZSxvPXlpZWxkIHM7c3dpdGNoKHQucmVwb3J0UENEaXNjb25uZWN0ZWRPckZhaWxlZChlKSxlKXtjYXNlIGxJLlRDUDp0Ll9wY1N0YXRzVXBsb2FkVHlwZT1oSS5UQ1BfUkVTVEFSVDticmVhaztjYXNlIGxJLlJFTEFZOnQuX3BjU3RhdHNVcGxvYWRUeXBlPWhJLlJFTEFZX1JFU1RBUlQ7YnJlYWs7ZGVmYXVsdDp0Ll9wY1N0YXRzVXBsb2FkVHlwZT1oSS5PTERfUkVTVEFSVH10Ll9pc0luUmVzdGFydEljZT0hMCxuLm5leHQobyl9Y2F0Y2goZSl7dmFyIHI7bnVsbD09PShyPW4pfHx2b2lkIDA9PT1yfHxyLnRocm93KGUpfWZpbmFsbHl7aSgpfX0pKSgpfWdldFVwbGlua05ldHdvcmtRdWFsaXR5KCl7aWYoIXRoaXMuY29ubmVjdGlvbilyZXR1cm4gMDtjb25zdCBlPXRoaXMuY29ubmVjdGlvbi5nZXRTdGF0cygpLHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbFZpZGVvVHJhY2spLGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbEF1ZGlvVHJhY2spLG49ZS52aWRlb1NlbmQuZmluZCgoZT0+ZS5zc3JjPT09KG51bGw9PXQ/dm9pZCAwOnQuc3NyY3NbMF0uc3NyY0lkKSkpLHI9ZS5hdWRpb1NlbmQuZmluZCgoZT0+ZS5zc3JjPT09KG51bGw9PWk/dm9pZCAwOmkuc3NyY3NbMF0uc3NyY0lkKSkpO2lmKCFufHwhcilyZXR1cm4gMTtjb25zdCBzPVNTKHRoaXMsX0kuTmVlZFNpZ25hbFJUVCksbz1uP24ucnR0TXM6dm9pZCAwLGE9cj9yLnJ0dE1zOnZvaWQgMCxjPW8mJmE/KG8rYSkvMjpvfHxhLGQ9KGMmJnM/KGMrcykvMjpjfHxzKXx8MCxsPTEwMCplLnNlbmRQYWNrZXRMb3NzUmF0ZSouNy81MCsuMypkLzE1MDAsaD1sPC4xNz8xOmw8LjM2PzI6bDwuNTk/MzpsPC4xPzQ6NSx1PW51bGw9PXQ/dm9pZCAwOnQudHJhY2s7aWYodSYmdS5fZW5jb2RlckNvbmZpZyYmLTE9PT11Ll9oaW50cy5pbmRleE9mKER5LlNDUkVFTl9UUkFDSykpe2NvbnN0IHQ9dS5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LGk9ZS5iaXRyYXRlLmFjdHVhbEVuY29kZWQ7aWYodCYmaSl7Y29uc3QgZT0oMWUzKnQtaSkvKDFlMyp0KTtyZXR1cm4gc3ZbZTwuMTU/MDplPC4zPzE6ZTwuNDU/MjplPC42PzM6NF1baF19fXJldHVybiBofWdldERvd25saW5rTmV0d29ya1F1YWxpdHkoKXtpZighdGhpcy5jb25uZWN0aW9uKXJldHVybiAwO2NvbnN0IGU9dGhpcy5jb25uZWN0aW9uLmdldFN0YXRzKCk7bGV0IHQ9MDtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKChpPT57bGV0W25dPWk7Y29uc3Qgcj1uLl9hdWRpb1NTUkMscz1uLl92aWRlb1NTUkMsbz1lLmF1ZGlvUmVjdi5maW5kKChlPT5lLnNzcmM9PT1yKSksYT1lLnZpZGVvUmVjdi5maW5kKChlPT5lLnNzcmM9PT1zKSk7aWYoIW8mJiFhKXJldHVybiB2b2lkKHQrPTEpO2NvbnN0IGM9U1ModGhpcyxfSS5OZWVkU2lnbmFsUlRUKSxkPWUucnR0LGw9KGQmJmM/KGQrYykvMjpkfHxjKXx8MCxoPW8/by5qaXR0ZXJNczp2b2lkIDAsdT1lLnJlY3ZQYWNrZXRMb3NzUmF0ZTtsZXQgcD0uNyp1KjEwMC81MCsuMypsLzE1MDA7aCYmKHA9LjYqdSoxMDAvNTArLjIqbC8xNTAwKy4yKmgvNDAwKTt0Kz1wPC4xPzE6cDwuMTc/MjpwPC4zNj8zOnA8LjU5PzQ6NX0pKSx0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZT4wP01hdGgucm91bmQodC90aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSk6dH1hc3luYyBtdXRlTG9jYWxUcmFjayhlKXtyZXR1cm4gbmV3IHRnKCgodCxpKT0+e3RoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2soZSx0LGkpfSkpfWZpbHRlclRvYmVQdWJsaXNoZWRUcmFja3MoZSx0LGkpe2NvbnN0IG49W10scj1oQSgpLHM9dGhpcy5nZXRBbGxUcmFja3MoKTtlPXlTKGU9ZS5maWx0ZXIoKGU9Pi0xPT09cy5pbmRleE9mKGUpKSkpO2xldCBvPSExLGE9ITE7Zm9yKGNvbnN0IHMgb2YgZSl7aWYocyBpbnN0YW5jZW9mIGZiJiYodGhpcy5sb2NhbFRyYWNrTWFwLmhhcyh1SS5Mb2NhbFZpZGVvVHJhY2spfHxvP25ldyBWZyh4Zy5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKS50aHJvdygpOihuLnB1c2goe3RyYWNrOnMsdHlwZTp1SS5Mb2NhbFZpZGVvVHJhY2t9KSxvPSEwKSx0KSl7Y29uc3QgZT10aGlzLmdldExvd1ZpZGVvVHJhY2socyxpKTtuLnB1c2goe3RyYWNrOmUsdHlwZTp1SS5Mb2NhbFZpZGVvTG93VHJhY2t9KX1pZihzIGluc3RhbmNlb2YgekEpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbEF1ZGlvVHJhY2spO2lmKGUpe2lmKCEoZS50cmFjayBpbnN0YW5jZW9mIFpBKSl0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYXVkaW8gbWl4aW5nXCIpO2lmKHMuX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpb1wiKTtlLnRyYWNrLmFkZEF1ZGlvVHJhY2socyksdGhpcy5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKHMsITApfWVsc2UgaWYoYSl7Y29uc3QgZT1uLmZpbmQoKGU9PntsZXR7dHlwZTp0fT1lO3JldHVybiB0PT09dUkuTG9jYWxBdWRpb1RyYWNrfSkpO2lmKCEoZS50cmFjayBpbnN0YW5jZW9mIFpBKSl0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYXVkaW8gbWl4aW5nXCIpO2lmKHMuX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpb1wiKTtlLnRyYWNrLmFkZEF1ZGlvVHJhY2socyl9ZWxzZXtpZighci53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdHx8cyBpbnN0YW5jZW9mIFpBfHxzLl9ieXBhc3NXZWJBdWRpbyluLnB1c2goe3RyYWNrOnMsdHlwZTp1SS5Mb2NhbEF1ZGlvVHJhY2t9KTtlbHNle2NvbnN0IGU9bmV3IFpBO2UuYWRkQXVkaW9UcmFjayhzKSxuLnB1c2goe3RyYWNrOmUsdHlwZTp1SS5Mb2NhbEF1ZGlvVHJhY2t9KX1hPSEwfX19cmV0dXJuIG59ZmlsdGVyVG9iZVVucHVibGlzaGVkVHJhY2tzKGUpe2NvbnN0IHQ9W10saT10aGlzLmdldEFsbFRyYWNrcygpO2U9eVMoZT1lLmZpbHRlcigoZT0+LTEhPT1pLmluZGV4T2YoZSkpKSk7Zm9yKGNvbnN0IGkgb2YgZSl7aWYoaSBpbnN0YW5jZW9mIHpBKXtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxBdWRpb1RyYWNrKTtpZighZSljb250aW51ZTtlLnRyYWNrIGluc3RhbmNlb2YgWkE/KGUudHJhY2sucmVtb3ZlQXVkaW9UcmFjayhpKSx0aGlzLnVuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyhpKSwwPT09ZS50cmFjay50cmFja0xpc3QubGVuZ3RoJiYodC5wdXNoKFt1SS5Mb2NhbEF1ZGlvVHJhY2ssZV0pLGUudHJhY2suY2xvc2UoKSkpOnQucHVzaChbdUkuTG9jYWxBdWRpb1RyYWNrLGVdKX1pZihpIGluc3RhbmNlb2YgZmIpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbFZpZGVvVHJhY2spO2lmKCFlKWNvbnRpbnVlO3QucHVzaChbdUkuTG9jYWxWaWRlb1RyYWNrLGVdKTtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxWaWRlb0xvd1RyYWNrKTtpJiZ0LnB1c2goW3VJLkxvY2FsVmlkZW9Mb3dUcmFjayxpXSl9fXJldHVybiB0fWZpbHRlclRvYmVQdWJsaXNoZWREYXRhQ2hhbm5lbHMoZSl7cmV0dXJuIGU9KGU9eVMoZSkpLmZpbHRlcigoZT0+LTE9PT10aGlzLmxvY2FsRGF0YUNoYW5uZWxzLmZpbmRJbmRleCgodD0+dC5pZD09PWUuaWQpKSkpfWZpbHRlclRvYmVVbnB1Ymxpc2hlZERhdGFDaGFubmVscyhlKXtyZXR1cm4gZT0oZT0oZT15UyhlKSkuZmlsdGVyKChlPT4tMSE9PXRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuaW5kZXhPZihlKSkpKS5maWx0ZXIoKGU9PmUuX29yaWdpbkRhdGFDaGFubmVsKSl9YmluZExvY2FsVHJhY2tFdmVudHMoZSl7ZS5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnQsdHlwZTppfT1lO3N3aXRjaChpKXtjYXNlIHVJLkxvY2FsVmlkZW9UcmFjazp0LmFkZExpc3RlbmVyKE55LkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsVmlkZW9TdGF0cyksdC5hZGRMaXN0ZW5lcihOeS5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksdC5hZGRMaXN0ZW5lcihOeS5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLHQuYWRkTGlzdGVuZXIoTnkuTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUix0aGlzLmhhbmRsZVVwZGF0ZVZpZGVvRW5jb2RlciksdC5hZGRMaXN0ZW5lcihOeS5TRVRfT1BUSU1JWkFUSU9OX01PREUsdGhpcy5oYW5kbGVTZXRPcHRpbWl6YXRpb25Nb2RlKSx0LmFkZExpc3RlbmVyKE55Lk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayksdC5hZGRMaXN0ZW5lcihOeS5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksdC5hZGRMaXN0ZW5lcihOeS5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spO2JyZWFrO2Nhc2UgdUkuTG9jYWxBdWRpb1RyYWNrOnRoaXMuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyh0KTtjYXNlIHVJLkxvY2FsVmlkZW9Mb3dUcmFjazp9fSkpfWJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMoZSx0KXtlIGluc3RhbmNlb2YgWkE/ZS50cmFja0xpc3QuZm9yRWFjaCgoZT0+e2UuYWRkTGlzdGVuZXIoTnkuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUuYWRkTGlzdGVuZXIoTnkuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKE55LkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksZS5hZGRMaXN0ZW5lcihOeS5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcihOeS5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spfSkpOihlLmFkZExpc3RlbmVyKE55LkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksZS5hZGRMaXN0ZW5lcihOeS5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcihOeS5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLGUuYWRkTGlzdGVuZXIoTnkuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUuYWRkTGlzdGVuZXIoTnkuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSx0fHxlLmFkZExpc3RlbmVyKE55Lk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjaykpfXVuYmluZExvY2FsVHJhY2tFdmVudHMoZSl7ZXx8KGU9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5tYXAoKGU9PntsZXRbdCx7dHJhY2s6aX1dPWU7cmV0dXJue3RyYWNrOmksdHlwZTp0fX0pKSksZS5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnQsdHlwZTppfT1lO3N3aXRjaChpKXtjYXNlIHVJLkxvY2FsVmlkZW9UcmFjazp0Lm9mZihOeS5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbFZpZGVvU3RhdHMpLHQub2ZmKE55Lk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0Lm9mZihOeS5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLHQub2ZmKE55Lk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcy5oYW5kbGVVcGRhdGVWaWRlb0VuY29kZXIpLHQub2ZmKE55LlNFVF9PUFRJTUlaQVRJT05fTU9ERSx0aGlzLmhhbmRsZVNldE9wdGltaXphdGlvbk1vZGUpLHQub2ZmKE55Lk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayksdC5vZmYoTnkuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQub2ZmKE55Lk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayk7YnJlYWs7Y2FzZSB1SS5Mb2NhbEF1ZGlvVHJhY2s6dGhpcy51bmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHModCk7Y2FzZSB1SS5Mb2NhbFZpZGVvTG93VHJhY2s6fX0pKX11bmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMoZSl7ZSBpbnN0YW5jZW9mIFpBP2UudHJhY2tMaXN0LmZvckVhY2goKGU9PntlLm9mZihOeS5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5vZmYoTnkuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxlLm9mZihOeS5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLGUub2ZmKE55Lk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLm9mZihOeS5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spfSkpOihlLm9mZihOeS5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLGUub2ZmKE55Lk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLm9mZihOeS5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLGUub2ZmKE55Lk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayksZS5vZmYoTnkuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUub2ZmKE55Lk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjaykpfWJpbmRSZW1vdGVUcmFja0V2ZW50cyhlLHQpe3QgaW5zdGFuY2VvZiB5YiYmdC5hZGRMaXN0ZW5lcihOeS5HRVRfU1RBVFMsKHQ9Pnt0KHRoaXMuaGFuZGxlR2V0UmVtb3RlVmlkZW9TdGF0cyhlKSl9KSksdCBpbnN0YW5jZW9mIEFiJiZ0LmFkZExpc3RlbmVyKE55LkdFVF9TVEFUUywodD0+e3QodGhpcy5oYW5kbGVHZXRSZW1vdGVBdWRpb1N0YXRzKGUpKX0pKX11bmJpbmRSZW1vdGVUcmFja0V2ZW50cyhlKXtlJiZlLnJlbW92ZUFsbExpc3RlbmVycyhOeS5HRVRfU1RBVFMpfXVuYmluZEFsbFJlbW90ZVRyYWNrRXZlbnRzKCl7QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKChlPT57bGV0W3QsaV09ZTtpLmhhcyhkSS5BVURJTykmJnRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHModC5fYXVkaW9UcmFjayksaS5oYXMoZEkuVklERU8pJiZ0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX3ZpZGVvVHJhY2spfSkpfWNyZWF0ZUdhdGV3YXlQdWJsaXNoTWVzc2FnZShlLHQpe3JldHVybiBlLm1hcCgoKGUsaSk9Pnt2YXIgbjtsZXQgcixzLHt0cmFjazpvLHR5cGU6YX09ZTtzd2l0Y2goYSl7Y2FzZSB1SS5Mb2NhbEF1ZGlvVHJhY2s6cj1Rdi5BdWRpbyxzPXtkdHg6byBpbnN0YW5jZW9mIFhBJiZvLl9jb25maWcuRFRYLGhxOiExLGxxOiExLHN0ZXJlbzohMSxzcGVlY2g6ITF9O2JyZWFrO2Nhc2UgdUkuTG9jYWxWaWRlb1RyYWNrOnI9UHIobj1vLl9oaW50cykuY2FsbChuLER5LlNDUkVFTl9UUkFDSyk/UXYuU2NyZWVuOlF2LkhpZ2gscz1hayhhayh7fSxfRChvKSkse30se2NvZGVjOnRoaXMuc3RvcmUuY29kZWN9KTticmVhaztjYXNlIHVJLkxvY2FsVmlkZW9Mb3dUcmFjazpyPVF2LkxvdyxzPWFrKGFrKHt9LF9EKG8pKSx7fSx7Y29kZWM6dGhpcy5zdG9yZS5jb2RlY30pfXJldHVybntzdHJlYW1fdHlwZTpyLGF0dHJpYnV0ZXM6cyxzc3Jjczp0W2ldfX0pKX1jcmVhdGVHYXRld2F5VW5wdWJsaXNoTWVzc2FnZShlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdDtsZXQgaSxbbix7dHJhY2s6cixzc3JjczpzLGlkOm99XT1lO3N3aXRjaChuKXtjYXNlIHVJLkxvY2FsVmlkZW9UcmFjazppPVByKHQ9ci5faGludHMpLmNhbGwodCxEeS5TQ1JFRU5fVFJBQ0spP1F2LlNjcmVlbjpRdi5IaWdoO2JyZWFrO2Nhc2UgdUkuTG9jYWxBdWRpb1RyYWNrOmk9UXYuQXVkaW87YnJlYWs7Y2FzZSB1SS5Mb2NhbFZpZGVvTG93VHJhY2s6aT1Rdi5Mb3d9cmV0dXJue3N0cmVhbV90eXBlOmksc3NyY3M6cyxtaWQ6b319KSl9YXNzaWduTG9jYWxUcmFja3MoZSx0KXtlLmZvckVhY2goKChlLGkpPT57bGV0e3RyYWNrOm4sdHlwZTpyfT1lO3RoaXMubG9jYWxUcmFja01hcC5zZXQocix7dHJhY2s6bixpZDp0W2ldLmlkLHNzcmNzOnRbaV0ubG9jYWxTU1JDfSl9KSl9d2l0aGRyYXdMb2NhbFRyYWNrcyhlKXtlLmZvckVhY2goKGU9PntsZXRbdF09ZTt0aGlzLmxvY2FsVHJhY2tNYXAuZGVsZXRlKHQpfSkpfWJpbmRDb25uZWN0aW9uRXZlbnRzKGUpe2Uub25Db25uZWN0aW9uU3RhdGVDaGFuZ2U9YXN5bmMgdD0+e2lmKFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZShcIikuY29uY2F0KHQsXCIpXCIpKSx0aGlzLmVtaXQoX0kuUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZSx0KSxcImNvbm5lY3RlZFwiIT09dHx8dGhpcy5zdG9yZS5rZXlNZXRyaWNzLnBlZXJDb25uZWN0aW9uRW5kfHx0aGlzLnN0b3JlLnBlZXJDb25uZWN0aW9uRW5kKCksXCJjb25uZWN0ZWRcIj09PXQmJih0aGlzLl9yZXN0YXJ0VGltZXImJihjbGVhclRpbWVvdXQodGhpcy5fcmVzdGFydFRpbWVyKSx0aGlzLl9yZXN0YXJ0VGltZXI9dm9pZCAwKSwodGhpcy5faXNGaXJzdENvbm5lY3RlZHx8dGhpcy5faXNJblJlc3RhcnRJY2UpJiZ0aGlzLnJlcG9ydFBDU3RhdHMoRGF0ZS5ub3coKSwhMCx0aGlzLl9wY1N0YXRzVXBsb2FkVHlwZSksdGhpcy5faXNJblJlc3RhcnRJY2U9ITEsdGhpcy5faXNGaXJzdENvbm5lY3RlZD0hMSx0aGlzLl9pc1N0YXJ0UmVzdGFydEljZT0hMSksa0MoXCJORVdfSUNFX1JFU1RBUlRcIikpe3ZhciBpO2lmKFByKGk9dGhpcy5fcmVzdGFydFN0YXRlcykuY2FsbChpLHQpKXtpZih0aGlzLl9pc1N0YXJ0UmVzdGFydEljZSlyZXR1cm47dGhpcy5faXNTdGFydFJlc3RhcnRJY2U9ITA7Y29uc3QgdD10PT57aWYoXCJkaXNjb25uZWN0ZWRcIj09PWUuaWNlQ29ubmVjdGlvblN0YXRlfHxcImNoZWNraW5nXCI9PT1lLmljZUNvbm5lY3Rpb25TdGF0ZXx8XCJmYWlsZWRcIj09PWUuaWNlQ29ubmVjdGlvblN0YXRlKXtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENoYW5uZWxdIHN0YXJ0IHVzZSByZXN0YXJ0SUNFLCB0eXBlIGlzIFwiKS5jb25jYXQodCkpO1wiQ09OTkVDVEVEXCI9PT1TUyh0aGlzLF9JLlF1ZXJ5Q2xpZW50Q29ubmVjdGlvblN0YXRlKSYmdGhpcy5lbWl0KF9JLlJlcXVlc3RSZXN0YXJ0SUNFLHQpfX0saT0oKT0+e1wiZGlzY29ubmVjdGVkXCIhPT1lLmljZUNvbm5lY3Rpb25TdGF0ZSYmXCJjaGVja2luZ1wiIT09ZS5pY2VDb25uZWN0aW9uU3RhdGUmJlwiZmFpbGVkXCIhPT1lLmljZUNvbm5lY3Rpb25TdGF0ZXx8KHRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlKSxXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQgdGltZW91dCwgZm9yY2UgcmVjb25uZWN0XCIpKSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5lbWl0KF9JLlAyUExvc3QpKSwwKSx0aGlzLmljZUZhaWxlZENvdW50Kz0xLHRoaXMucmVxdWVzdFJlY29ubmVjdCgpKX0sbj1rQyhcIklDRV9SRVNUQVJUX0lOVEVSVkFMXCIpO3JldHVybiB2b2lkKHRoaXMuX3Jlc3RhcnRUaW1lcj13aW5kb3cuc2V0VGltZW91dCgoKCk9PntpZihrQyhcIkpPSU5fV0lUSF9GQUxMQkFDS19NRURJQV9QUk9YWV9GT1JDRVwiKSYmaEEoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uKXQobEkuUkVMQVkpLHRoaXMuX3Jlc3RhcnRUaW1lcj13aW5kb3cuc2V0VGltZW91dChpLG4pO2Vsc2UgaWYoUmcoKSl0KGxJLlVEUCksdGhpcy5fcmVzdGFydFRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KGksNGUzKTtlbHNle2lmKHQobEkuVENQKSxoQSgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24pcmV0dXJuIHZvaWQodGhpcy5fcmVzdGFydFRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3QobEkuUkVMQVkpLHRoaXMuX3Jlc3RhcnRUaW1lcj13aW5kb3cuc2V0VGltZW91dChpLG4pfSksbikpO3RoaXMuX3Jlc3RhcnRUaW1lcj13aW5kb3cuc2V0VGltZW91dChpLG4pfX0pLDgwMCkpfX1lbHNle2lmKFwiZGlzY29ubmVjdGVkXCI9PT10JiZcImRpc2Nvbm5lY3RlZFwiPT09ZS5pY2VDb25uZWN0aW9uU3RhdGUpcmV0dXJuIHNldFRpbWVvdXQoKCgpPT57aWYoXCJkaXNjb25uZWN0ZWRcIj09PWUuaWNlQ29ubmVjdGlvblN0YXRlJiZrQyhcIklDRV9SRVNUQVJUXCIpKXtcIkNPTk5FQ1RFRFwiPT09U1ModGhpcyxfSS5RdWVyeUNsaWVudENvbm5lY3Rpb25TdGF0ZSkmJnRoaXMuZW1pdChfSS5SZXF1ZXN0UmVzdGFydElDRSl9fSksODAwKSx2b2lkIHNldFRpbWVvdXQoKCgpPT57XCJkaXNjb25uZWN0ZWRcIj09PWUucGVlckNvbm5lY3Rpb25TdGF0ZSYmKFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24gZGlzY29ubmVjdGVkIHRpbWVvdXQgNDAwMG1zLCBmb3JjZSByZWNvbm5lY3RcIikpLHRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlKSx0aGlzLl9pc0luUmVzdGFydEljZT0hMSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5lbWl0KF9JLlAyUExvc3QpKSwwKSx0aGlzLmljZUZhaWxlZENvdW50Kz0xLHRoaXMucmVxdWVzdFJlY29ubmVjdCgpKX0pLDRlMyk7XCJmYWlsZWRcIj09PXQmJihXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uIHN0YXRlIGZhaWxlZCwgZm9yY2UgcmVjb25uZWN0XCIpKSx0aGlzLnJlcG9ydFBDRGlzY29ubmVjdGVkT3JGYWlsZWQoKSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5lbWl0KF9JLlAyUExvc3QpKSwwKSx0aGlzLmljZUZhaWxlZENvdW50Kz0xLGF3YWl0IHRoaXMucmVxdWVzdFJlY29ubmVjdCgpKX19LGUub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9ZT0+e1wiY29ubmVjdGVkXCIhPT1lfHx0aGlzLnN0b3JlLmtleU1ldHJpY3MuaWNlQ29ubmVjdGlvbkVuZHx8dGhpcy5zdG9yZS5pY2VDb25uZWN0aW9uRW5kKCksV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpLGl2LnJlcG9ydEFwaUludm9rZSh0aGlzLnN0b3JlLnNlc3Npb25JZCx7bmFtZTpcIklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZVwiLG9wdGlvbnM6ZSx0YWc6b1MuVFJBQ0VSfSkub25TdWNjZXNzKCksdGhpcy5lbWl0KF9JLkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxlKX0sZS5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlPWU9PntXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZShcIikuY29uY2F0KGUsXCIpXCIpKX0sZS5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZT1lPT57V0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpfSxlLm9uRFRMU1RyYW5zcG9ydEVycm9yPWU9PntXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25EVExTVHJhbnNwb3J0RXJyb3IoXCIpLmNvbmNhdChlLFwiKVwiKSl9LGUub25GaXJzdEF1ZGlvRGVjb2RlZD1lPT57dmFyIHQ7Y29uc3QgaT1BcnJheS5mcm9tKGh1KHQ9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKHQpKS5maW5kKCh0PT50Ll9hdWRpb1NTUkM9PT1lKSk7dmFyIG47aSYmKHRoaXMuc3RvcmUuc3Vic2NyaWJlKGkudWlkLFwiYXVkaW9cIix2b2lkIDAsdm9pZCAwLHZvaWQgMCxEYXRlLm5vdygpKSxudWxsPT09KG49aS5hdWRpb1RyYWNrKXx8dm9pZCAwPT09bnx8bi5lbWl0KHh5LkZJUlNUX0ZSQU1FX0RFQ09ERUQpLGl2LmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsSkMuRklSU1RfQVVESU9fREVDT0RFLHpDLkZJUlNUX0FVRElPX0RFQ09ERSx7cGVlcjppLl91aW50aWQsc3Vic2NyaWJlRWxhcHNlOnNELm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxlKSxzdWJzY3JpYmVSZXF1ZXN0aWQ6ZSxwMnBpZDp0aGlzLnN0b3JlLnAycElkfSkpfSxlLm9uRmlyc3RBdWRpb1JlY2VpdmVkPWU9Pnt2YXIgdDtjb25zdCBpPUFycmF5LmZyb20oaHUodD10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwodCkpLmZpbmQoKHQ9PnQuX2F1ZGlvU1NSQz09PWUpKTtpJiZpdi5maXJzdFJlbW90ZUZyYW1lKHRoaXMuc3RvcmUuc2Vzc2lvbklkLEpDLkZJUlNUX0FVRElPX1JFQ0VJVkVELHpDLkZJUlNUX0FVRElPX1JFQ0VJVkVELHtwZWVyOmkuX3VpbnRpZCxzdWJzY3JpYmVFbGFwc2U6c0QubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWR9KX0sZS5vbkZpcnN0VmlkZW9EZWNvZGVkPShlLHQsaSk9Pnt0aGlzLnJlcG9ydFZpZGVvRmlyc3RGcmFtZURlY29kZWQoZSx0LGkpfSxlLm9uRmlyc3RWaWRlb1JlY2VpdmVkPWU9Pnt2YXIgdDtjb25zdCBpPUFycmF5LmZyb20oaHUodD10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwodCkpLmZpbmQoKHQ9PnQuX3ZpZGVvU1NSQz09PWUpKTtpJiZpdi5maXJzdFJlbW90ZUZyYW1lKHRoaXMuc3RvcmUuc2Vzc2lvbklkLEpDLkZJUlNUX1ZJREVPX1JFQ0VJVkVELHpDLkZJUlNUX1ZJREVPX1JFQ0VJVkVELHtwZWVyOmkuX3VpbnRpZCxzdWJzY3JpYmVFbGFwc2U6c0QubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWR9KX0sZS5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPShlLHQpPT57Y29uc3QgaT1cInJlbGF5XCI9PT1lLmNhbmRpZGF0ZVR5cGUsbj1cInJlbGF5XCI9PT10LmNhbmRpZGF0ZVR5cGU7XCJ1bmtub3duXCIhPT10LmNhbmRpZGF0ZVR5cGUmJmk9PT1ufHx0aGlzLmVtaXQoX0kuQ29ubmVjdGlvblR5cGVDaGFuZ2UsaSksV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLlNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoVEQodCkpLFwiIC0+IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoVEQoZSkpLFwiKVwiKSl9LGUub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9PntXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoVEQodCkpLFwiIC0+IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoVEQoZSkpLFwiKVwiKSl9LGUub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9ZT0+e3RoaXMucmVwb3J0VmlkZW9GaXJzdEZyYW1lRGVjb2RlZChlLHZvaWQgMCx2b2lkIDAsITApfX11bmJpbmRDb25uZWN0aW9uRXZlbnRzKGUpe2Uub25Db25uZWN0aW9uU3RhdGVDaGFuZ2U9dm9pZCAwLGUub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9dm9pZCAwLGUub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZT12b2lkIDAsZS5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZT12b2lkIDAsZS5vbkRUTFNUcmFuc3BvcnRFcnJvcj12b2lkIDAsZS5vbkZpcnN0QXVkaW9EZWNvZGVkPXZvaWQgMCxlLm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCxlLm9uRmlyc3RWaWRlb0RlY29kZWQ9dm9pZCAwLGUub25GaXJzdFZpZGVvUmVjZWl2ZWQ9dm9pZCAwLGUub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsZS5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD12b2lkIDAsZS5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD12b2lkIDB9ZmlsdGVyVG9iZU11dGVkVHJhY2tzKGUpe2NvbnN0IHQ9W107aWYoLTE9PT10aGlzLmdldEFsbFRyYWNrcygpLmluZGV4T2YoZSkpcmV0dXJuIHQ7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsQXVkaW9UcmFjayk7aWYoZSBpbnN0YW5jZW9mIHpBJiYobnVsbD09aT92b2lkIDA6aS50cmFjaylpbnN0YW5jZW9mIFpBKXJldHVybiBpLnRyYWNrLmlzQWN0aXZlfHx0LnB1c2goW3VJLkxvY2FsQXVkaW9UcmFjayxpXSksdDtjb25zdCBuPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmluZCgodD0+e2xldFsse3RyYWNrOml9XT10O3JldHVybiBlPT09aX0pKTtpZihuJiYodC5wdXNoKG4pLG5bMF09PT11SS5Mb2NhbFZpZGVvVHJhY2spKXtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxWaWRlb0xvd1RyYWNrKTtlJiZ0LnB1c2goW3VJLkxvY2FsVmlkZW9Mb3dUcmFjayxlXSl9cmV0dXJuIHR9ZmlsdGVyVG9iZVVubXV0ZWRUcmFja3MoZSl7Y29uc3QgdD1bXSxpPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxBdWRpb1RyYWNrKTtpZihlIGluc3RhbmNlb2YgekEmJihudWxsPT1pP3ZvaWQgMDppLnRyYWNrKWluc3RhbmNlb2YgWkEpcmV0dXJuIGkudHJhY2suaXNBY3RpdmUmJnQucHVzaChbdUkuTG9jYWxBdWRpb1RyYWNrLGldKSx0O2NvbnN0IG49QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKCh0PT57bGV0Wyx7dHJhY2s6aX1dPXQ7cmV0dXJuIGU9PT1pfSkpO2lmKG4paWYoblswXT09PXVJLkxvY2FsVmlkZW9UcmFjayl7dC5wdXNoKG4pO2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbFZpZGVvTG93VHJhY2spO2UmJnQucHVzaChbdUkuTG9jYWxWaWRlb0xvd1RyYWNrLGVdKX1lbHNlIHQucHVzaChuKTtyZXR1cm4gdH1jcmVhdGVNdXRlTWVzc2FnZShlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdDtsZXQgaSxbbix7dHJhY2s6cixzc3JjczpzLGlkOm99XT1lO3N3aXRjaChuKXtjYXNlIHVJLkxvY2FsQXVkaW9UcmFjazppPVF2LkF1ZGlvO2JyZWFrO2Nhc2UgdUkuTG9jYWxWaWRlb1RyYWNrOmk9UHIodD1yLl9oaW50cykuY2FsbCh0LER5LlNDUkVFTl9UUkFDSyk/UXYuU2NyZWVuOlF2LkhpZ2g7YnJlYWs7Y2FzZSB1SS5Mb2NhbFZpZGVvTG93VHJhY2s6aT1Rdi5Mb3d9cmV0dXJue3N0cmVhbV90eXBlOmksc3NyY3M6cyxtaWQ6b319KSl9Y3JlYXRlVW5tdXRlTWVzc2FnZShlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdDtsZXQgaSxbbix7dHJhY2s6cixzc3JjczpzLGlkOm99XT1lO3N3aXRjaChuKXtjYXNlIHVJLkxvY2FsQXVkaW9UcmFjazppPVF2LkF1ZGlvO2JyZWFrO2Nhc2UgdUkuTG9jYWxWaWRlb1RyYWNrOmk9UHIodD1yLl9oaW50cykuY2FsbCh0LER5LlNDUkVFTl9UUkFDSyk/UXYuU2NyZWVuOlF2LkhpZ2g7YnJlYWs7Y2FzZSB1SS5Mb2NhbFZpZGVvTG93VHJhY2s6aT1Rdi5Mb3d9cmV0dXJue3N0cmVhbV90eXBlOmksc3NyY3M6cyxtaWQ6b319KSl9ZmlsdGVyVG9iZVVuU3Vic2NyaWJlZFRyYWNrcyhlLHQpe2NvbnN0IGk9W10sbj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO2lmKCFuKXJldHVybiBpO2lmKHQpe2NvbnN0IHI9bi5nZXQodCk7aWYoIXIpcmV0dXJuIGk7aS5wdXNoKFtlLHtraW5kOnQsaWQ6cn1dKX1lbHNlIEFycmF5LmZyb20obi5lbnRyaWVzKCkpLmZvckVhY2goKHQ9PntsZXRbbixyXT10O2kucHVzaChbZSx7a2luZDpuLGlkOnJ9XSl9KSk7cmV0dXJuIGl9ZmlsdGVyVG9iZVVuU3Vic2NyaWJlZERhdGFDaGFubmVscyhlLHQpe2NvbnN0IGk9W107cmV0dXJuIHQuZm9yRWFjaCgodD0+e3ZhciBuO251bGwhPT0obj10aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmdldChlKSkmJnZvaWQgMCE9PW4mJm4uaGFzKHQuaWQpJiZpLnB1c2godCl9KSksaX1jcmVhdGVVbnN1YnNjcmliZU1lc3NhZ2UoZSl7Y29uc3QgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKChlPT57bGV0W2kse2tpbmQ6bixpZDpyfV09ZTtzd2l0Y2gobil7Y2FzZSBkSS5WSURFTzpyZXR1cm4gdm9pZChpLl92aWRlb1NTUkMmJnQucHVzaCh7c3RyZWFtX3R5cGU6ZEkuVklERU8sc3NyY0lkOmkuX3ZpZGVvU1NSQ30pKTtjYXNlIGRJLkFVRElPOnJldHVybiB2b2lkKGkuX2F1ZGlvU1NSQyYmdC5wdXNoKHtzdHJlYW1fdHlwZTpkSS5BVURJTyxzc3JjSWQ6aS5fYXVkaW9TU1JDfSkpfX0pKSx0fWNyZWF0ZVVuc3Vic2NyaWJlQWxsTWVzc2FnZShlKXtjb25zdCB0PW5ldyBNYXA7cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2xldFtpLHtraW5kOm59XT1lO2lmKHQuaGFzKGkpKXtsZXQgZT10LmdldChpKTtuPT09ZEkuVklERU8/ZXw9ZUkuVmlkZW86ZXw9ZUkuQXVkaW8sdC5zZXQoaSxlKX1lbHNlIG49PT1kSS5WSURFTz90LnNldChpLGVJLlZpZGVvKTp0LnNldChpLGVJLkF1ZGlvKX0pKSx7dXNlcnM6QXJyYXkuZnJvbSh0LmVudHJpZXMoKSkubWFwKChlPT57bGV0W3QsaV09ZTtyZXR1cm57c3RyZWFtX2lkOnQudWlkLHN0cmVhbV90eXBlOml9fSkpfX13aXRoZHJhd1JlbW90ZVRyYWNrcyhlKXtlLmZvckVhY2goKGU9PntsZXRbdCx7a2luZDppfV09ZTtjb25zdCBuPXRoaXMucmVtb3RlVXNlck1hcC5nZXQodCk7biYmKG4uZGVsZXRlKGkpLDA9PT1BcnJheS5mcm9tKG4uZW50cmllcygpKS5sZW5ndGgmJnRoaXMucmVtb3RlVXNlck1hcC5kZWxldGUodCkpfSkpfWFzeW5jIHVwZGF0ZUJpdHJhdGVMaW1pdChlKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxWaWRlb1RyYWNrKSxpPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxWaWRlb0xvd1RyYWNrKTt0JiZhd2FpdCB0LnRyYWNrLnNldEJpdHJhdGVMaW1pdChlLnVwbGluayksaSYmZS5sb3dfc3RyZWFtX3VwbGluayYmYXdhaXQgaS50cmFjay5zZXRCaXRyYXRlTGltaXQoe21heF9iaXRyYXRlOmUubG93X3N0cmVhbV91cGxpbmsuYml0cmF0ZSxtaW5fYml0cmF0ZTplLmxvd19zdHJlYW1fdXBsaW5rLmJpdHJhdGV8fDB9KX1pc1AyUERpc2Nvbm5lY3RlZCgpe2lmKHRoaXMuY29ubmVjdGlvbil7cmV0dXJuXCJjb25uZWN0ZWRcIiE9PXRoaXMuY29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvblN0YXRlfXJldHVybiEwfW1hcFB1YlJlc1RvUmVtb3RlQ29uZmlnKGUsdCl7cmV0dXJuIGUubWFwKCgoZSxpKT0+e3ZhciBuO2xldHtzdHJlYW1fdHlwZTpyfT1lO3JldHVybiBudWxsPT09KG49dC5maW5kKChlPT57bGV0e3N0cmVhbV90eXBlOnR9PWU7cmV0dXJuIHI9PT10fSkpKXx8dm9pZCAwPT09bj92b2lkIDA6bi5hdHRyaWJ1dGVzfSkpfWFzeW5jIHRyeVRvVW5tdXRlQXVkaW8oZSl7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXWluc3RhbmNlb2YgekEpe3ZhciB0O2NvbnN0IG49dGhpcy5maWx0ZXJUb2JlVW5tdXRlZFRyYWNrcyhlW2ldKTtpZigwPT09bi5sZW5ndGgpY29udGludWU7YXdhaXQobnVsbD09PSh0PXRoaXMuY29ubmVjdGlvbil8fHZvaWQgMD09PXQ/dm9pZCAwOnQudW5tdXRlTG9jYWwobi5tYXAoKGU9PntsZXRbLHtpZDp0fV09ZTtyZXR1cm4gdH0pKSkpO2NvbnN0IHI9dGhpcy5jcmVhdGVVbm11dGVNZXNzYWdlKG4pO3JldHVybiB2b2lkIGF3YWl0IGdTKHRoaXMsX0kuUmVxdWVzdFVubXV0ZUxvY2FsLHIpfX1iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpe3RoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0U3RhdHM9KCk9PnRoaXMuZ2V0U3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdExvY2FsTWVkaWE9KCk9PkFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RSZW1vdGVNZWRpYT0oKT0+QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFZpZGVvSXNSZWFkeT1lPT57dmFyIHQ7cmV0dXJuIShudWxsPT09KHQ9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09dHx8IXQuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpKX0sdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RVcGxvYWQ9KGUsdCk9PnRoaXMuZW1pdChfSS5SZXF1ZXN0VXBsb2FkU3RhdHMsZSx0KSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdEFsbFRyYWNrcz0oKT0+dGhpcy5nZXRBbGxUcmFja3MoKX11bmJpbmRTdGF0c1VwbG9hZGVyRXZlbnRzKCl7dGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RTdGF0cz12b2lkIDAsdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RMb2NhbE1lZGlhPXZvaWQgMCx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFJlbW90ZU1lZGlhPXZvaWQgMCx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFZpZGVvSXNSZWFkeT12b2lkIDB9YXN5bmMgcmVxdWVzdFJlY29ubmVjdCgpe3RoaXMuZHRsc0ZhaWxlZENvdW50Kz0xLGF3YWl0IFVTKHpTKHRoaXMuZHRsc0ZhaWxlZENvdW50LEpTKSksdGhpcy5lbWl0KF9JLlJlcXVlc3RSZWNvbm5lY3QpfWFzeW5jIHJlY29ubmVjdFAyUCgpe2NvbnN0IGU9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKSx0PXRoaXMuY3JlYXRlR2F0ZXdheVVucHVibGlzaE1lc3NhZ2UoZSk7QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKSx0Lmxlbmd0aD4wJiZhd2FpdCBmUyh0aGlzLF9JLlJlcXVlc3RVbnB1Ymxpc2hGb3JSZWNvbm5lY3RQQyx0KSx0aGlzLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QoKSx0aGlzLmVtaXQoX0kuUmVxdWVzdFJlY29ubmVjdFBDKX1jYW5QdWJsaXNoTG93U3RyZWFtKCl7cmV0dXJuIHRoaXMubG9jYWxUcmFja01hcC5oYXModUkuTG9jYWxWaWRlb1RyYWNrKXx8dGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc29tZSgoZT0+ZSBpbnN0YW5jZW9mIGZiKSl9dGhyb3dJZlRyYWNrVHlwZU5vdE1hdGNoKGUpe2lmKGUuZmlsdGVyKChlPT5lIGluc3RhbmNlb2YgZmIpKS5sZW5ndGg+MSl0aHJvdyBuZXcgVmcoeGcuQ0FOX05PVF9QVUJMSVNIX01VTFRJUExFX1ZJREVPX1RSQUNLUyk7aWYoZS5maWx0ZXIoKGU9PmUgaW5zdGFuY2VvZiB6QSkpLmxlbmd0aD4xJiYoZS5zb21lKChlPT5lIGluc3RhbmNlb2YgekEmJmUuX2J5cGFzc1dlYkF1ZGlvKSl8fCFoQSgpLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0KSl0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBNZWRpYVN0cmVhbURlc3ROb2RlXCIpO2Zvcihjb25zdCB0IG9mIGUpe2lmKHQgaW5zdGFuY2VvZiBmYiYmdGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc29tZSgoZT0+ZSBpbnN0YW5jZW9mIGZiKSkpdGhyb3cgbmV3IFZnKHhnLkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1MpO2lmKHQgaW5zdGFuY2VvZiB6QSYmdGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc29tZSgoZT0+ZSBpbnN0YW5jZW9mIHpBKSkmJighaEEoKS53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdHx8dC5fYnlwYXNzV2ViQXVkaW98fHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUoKGU9PmUgaW5zdGFuY2VvZiB6QSYmZS5fYnlwYXNzV2ViQXVkaW8pKSkpdGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3Mgd2hpY2ggb25lIG9mIHRoZW0gY29uZmlndXJlZCB3aXRoIGJ5cGFzc1dlYkF1ZGlvIG9yIHlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgTWVkaWFTdHJlYW1EZXN0Tm9kZVwiKX19Z2V0TG93VmlkZW9UcmFjayhlLHQpe2NvbnN0IGk9IWtDKFwiRElTQUJMRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkdcIikmJmhBKCkuc3VwcG9ydER1YWxTdHJlYW1FbmNvZGluZyxuPWFrKGFrKHt9LHt3aWR0aDoxNjAsaGVpZ2h0OjEyMCxmcmFtZXJhdGU6MTUsYml0cmF0ZTo1MH0pLHQpO2xldCByO3I9aT9lLl9tZWRpYVN0cmVhbVRyYWNrLmNsb25lKCk6akwoZSxuKTtjb25zdCBzPXhTKDgsXCJ0cmFjay1sb3ctXCIpLG89bmV3IGZiKHIsYWsoYWsoe30saSYme3NjYWxlUmVzb2x1dGlvbkRvd25CeTpTRChuLGUpfSkse30se2ZyYW1lUmF0ZTpuLmZyYW1lcmF0ZSxiaXRyYXRlTWF4Om4uYml0cmF0ZSxiaXRyYXRlTWluOm4uYml0cmF0ZX0pLHZvaWQgMCx2b2lkIDAscyk7cmV0dXJuIG8ub24oTXkuVFJBTlNDRUlWRVJfVVBEQVRFRCwodD0+e2UuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKHQsUHkuTE9XX1NUUkVBTSl9KSksby5faGludHMucHVzaChEeS5MT1dfU1RSRUFNKSxlLmFkZExpc3RlbmVyKE55Lk5FRURfQ0xPU0UsKCgpPT57by5jbG9zZSgpfSkpLG99YXN5bmMgZ2xvYmFsTG9jaygpe3JldHVybiB0aGlzLm11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwuZ2xvYmFsTG9ja1wiKX1hc3luYyByZXBvcnRQQ1N0YXRzKGUsdCxpKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106bnVsbDtpZih0aGlzLmNvbm5lY3Rpb24mJnRoaXMuY29ubmVjdGlvbiBpbnN0YW5jZW9mIEZMKXt2YXIgcixzLG8sYTtjb25zdCBjPXRoaXMuc3RvcmUua2V5TWV0cmljcy5kZXNjcmlwdGlvblN0YXJ0fHwwLHtpY2VDb25uZWN0aW9uU3RhdGU6ZCxkdGxzVHJhbnNwb3J0U3RhdGU6bCxwZWVyQ29ubmVjdGlvblN0YXRlOmh9PXRoaXMuY29ubmVjdGlvbix7bG9jYWw6dSxyZW1vdGU6cH09YXdhaXQgdGhpcy5jb25uZWN0aW9uLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpO2l2LnBjU3RhdHModGhpcy5zdG9yZS5zZXNzaW9uSWQse3N0YXJ0VGltZTpjLGV2ZW50RWxhcHNlOmUtY3x8MCxpY2Vjb25uZWN0aW9uc2F0ZTpkLGR0bHNzdGF0ZTpsLGNvbm5lY3Rpb25zdGF0ZTpoLGludFN1Y2M6dD8xOjIsZXJyb3I6bixzZWxlY3RlZExvY2FsQ2FuZGlkYXRlUHJvdG9jb2w6bnVsbCE9PShyPW51bGw9PXU/dm9pZCAwOnUucHJvdG9jb2wpJiZ2b2lkIDAhPT1yP3I6XCJcIixzZWxlY3RlZExvY2FsQ2FuZGlkYXRlVHlwZTpudWxsIT09KHM9dS5jYW5kaWRhdGVUeXBlKSYmdm9pZCAwIT09cz9zOlwiXCIsc2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUFkZHJlc3M6XCJcIi5jb25jYXQodS5hZGRyZXNzLFwiOlwiKS5jb25jYXQodS5wb3J0KSxzZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZVByb3RvY29sOm51bGwhPT0obz1wLnByb3RvY29sKSYmdm9pZCAwIT09bz9vOlwiXCIsc2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVUeXBlOm51bGwhPT0oYT1wLmNhbmRpZGF0ZVR5cGUpJiZ2b2lkIDAhPT1hP2E6XCJcIixzZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUFkZHJlc3M6XCJcIi5jb25jYXQocC5hZGRyZXNzLFwiOlwiKS5jb25jYXQocC5wb3J0KSxyZXN0YXJ0Q250Oml9KX19cmVwb3J0VmlkZW9GaXJzdEZyYW1lRGVjb2RlZChlLHQsaSxuKXt2YXIgcjtjb25zdCBzPUFycmF5LmZyb20oaHUocj10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwocikpLmZpbmQoKHQ9PnQuX3ZpZGVvU1NSQz09PWUpKTtpZihzKXtufHx0aGlzLnN0b3JlLnN1YnNjcmliZShzLnVpZCxcInZpZGVvXCIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLERhdGUubm93KCkpO2NvbnN0IHI9dGhpcy5zdG9yZS5rZXlNZXRyaWNzLG89ci5zdWJzY3JpYmUuZmluZCgoZT0+ZS51c2VySWQ9PT1zLnVpZCYmXCJ2aWRlb1wiPT09ZS50eXBlKSk7aXYuZmlyc3RSZW1vdGVWaWRlb0RlY29kZSh0aGlzLnN0b3JlLnNlc3Npb25JZCxKQy5GSVJTVF9WSURFT19ERUNPREUsekMuRklSU1RfVklERU9fREVDT0RFLHtwZWVyOnMuX3VpbnRpZCx2aWRlb3dpZHRoOnQsdmlkZW9oZWlnaHQ6aSxzdWJzY3JpYmVFbGFwc2U6c0QubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWQsYXBFbmQ6ci5yZXF1ZXN0QVBFbmR8fDAsYXBTdGFydDpyLnJlcXVlc3RBUFN0YXJ0fHwwLGpvaW5Hd0VuZDpyLmpvaW5HYXRld2F5RW5kfHwwLGpvaW5Hd1N0YXJ0OnIuam9pbkdhdGV3YXlTdGFydHx8MCxwY0VuZDpyLnBlZXJDb25uZWN0aW9uRW5kfHwwLHBjU3RhcnQ6ci5wZWVyQ29ubmVjdGlvblN0YXJ0fHwwLHN1YnNjcmliZXJFbmQ6KG51bGw9PW8/dm9pZCAwOm8uc3Vic2NyaWJlRW5kKXx8MCxzdWJzY3JpYmVyU3RhcnQ6KG51bGw9PW8/dm9pZCAwOm8uc3Vic2NyaWJlU3RhcnQpfHwwLHZpZGVvQWRkTm90aWZ5OihudWxsPT1vP3ZvaWQgMDpvLnN0cmVhbUFkZGVkKXx8MCxzdGF0ZTpuPzE6MH0pfX1hc3luYyByZW1vdGVNZWRpYVNzcmNDaGFuZ2VkKGUsdCxpKXtpZighdGhpcy5jb25uZWN0aW9uKXJldHVybiExO2NvbnN0IG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtpZighbilyZXR1cm4hMTtjb25zdCByPW4uZ2V0KHQpO2lmKCFyKXJldHVybiExO2NvbnN0IHM9YXdhaXQgdGhpcy5jb25uZWN0aW9uLmdldFJlbW90ZVNTUkMocik7cmV0dXJuIHZvaWQgMCE9PXMmJnMhPT1pfXJlc2V0Q29ubmVjdGlvbihlKXtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENoYW5uZWxdIHJlc2V0IGNvbm5lY3Rpb24gdG8gXCIpLmNvbmNhdChlKSksdGhpcy5zdGF0ZT09PXBJLkNvbm5lY3RlZD8oV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDaGFubmVsXSBmYWxsYmFjayB0byB3ZWJzb2NrZXQgYnV0IFAyUENoYW5uZWwgc3RhdGUgc3RpbGwgY29ubmVjdGVkLCBkaXNjb25uZWN0IGZpcnN0XCIpKSx0aGlzLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QoKSk6KHRoaXMuY29ubmVjdGlvbiYmKHRoaXMuY29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pLHRoaXMuY29ubmVjdGlvbj12b2lkIDApLHRoaXMuc2hvdWxkRm9yd2FyZFAyUENyZWF0aW9uJiYodGhpcy5jb25uZWN0aW9uPWU9PT10SS5kYXRhY2hhbm5lbD9uZXcgdGsoe30sdGhpcy5zdG9yZSk6dGhpcy5pc1BsYW5CP25ldyBETCh7fSx0aGlzLnN0b3JlKTpuZXcgRkwoe30sdGhpcy5zdG9yZSksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKSl9dW5iaW5kUnRwVHJhbnNjZWl2ZXIoKXswIT09dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUmJkFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LHt0cmFjazppfV09ZTt0PT09dUkuTG9jYWxWaWRlb0xvd1RyYWNrP2kuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKHZvaWQgMCxQeS5MT1dfU1RSRUFNKTppLl91cGRhdGVSdHBUcmFuc2NlaXZlcih2b2lkIDApfSkpfXJlcG9ydFBDRGlzY29ubmVjdGVkT3JGYWlsZWQoZSl7dGhpcy5jb25uZWN0aW9uJiZ0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBGTCYmKFwiZGlzY29ubmVjdGVkXCIhPT10aGlzLmNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlJiZcImNoZWNraW5nXCIhPT10aGlzLmNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlJiZcImZhaWxlZFwiIT09dGhpcy5jb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZXx8KHRoaXMuX2lzRmlyc3RDb25uZWN0ZWQ/KHRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlKSx0aGlzLl9pc0ZpcnN0Q29ubmVjdGVkPSExKTp0aGlzLl9wY1N0YXRzVXBsb2FkVHlwZT09PWhJLlRDUF9SRVNUQVJUJiZlPT09bEkuUkVMQVk/dGhpcy5yZXBvcnRQQ1N0YXRzKERhdGUubm93KCksITEsdGhpcy5fcGNTdGF0c1VwbG9hZFR5cGUpOnRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLGhJLkRJU0NPTk5FQ1RFRF9PUl9GQUlMRUQpKSl9fWZ1bmN0aW9uIGhrKGUsdCxpKXtjb25zdCBuPWVbdF07aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIG11dGV4IG9uIG9iamVjdCBwcm9wZXJ0eS5cIik7cmV0dXJuIGkudmFsdWU9YXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMubXV0ZXgsaT1hd2FpdCBlLmxvY2soXCJGcm9tIFAyUENoYW5uZWwuXCIuY29uY2F0KHQpKTt0cnl7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkociksbz0wO288cjtvKyspc1tvXT1hcmd1bWVudHNbb107cmV0dXJuIGF3YWl0IG4uYXBwbHkodGhpcyxzKX1maW5hbGx5e2koKX19LGl9ZnVuY3Rpb24gdWsoZSl7bGV0IHQ9dmsoKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtsZXQgaT1lLmFwcElkO3ZvaWQgMCE9PWkmJih4ayh0LDEwKSxOayh0LGkpKTtsZXQgbj1lLmNpZDt2b2lkIDAhPT1uJiYoeGsodCwxNikseGsodCxuKSk7bGV0IHI9ZS5jbmFtZTt2b2lkIDAhPT1yJiYoeGsodCwyNiksTmsodCxyKSk7bGV0IHM9ZS5kZXZpY2VJZDt2b2lkIDAhPT1zJiYoeGsodCwzNCksTmsodCxzKSk7bGV0IG89ZS5lbGFwc2U7dm9pZCAwIT09byYmKHhrKHQsNDApLFZrKHQsbykpO2xldCBhPWUuZmlsZVNpemU7dm9pZCAwIT09YSYmKHhrKHQsNDgpLFZrKHQsUmsoYSkpKTtsZXQgYz1lLmhlaWdodDt2b2lkIDAhPT1jJiYoeGsodCw1NiksVmsodCxSayhjKSkpO2xldCBkPWUuanBnO3ZvaWQgMCE9PWQmJih4ayh0LDY2KSx4ayh0LGQubGVuZ3RoKSxmdW5jdGlvbihlLHQpe2xldCBpPWJrKGUsdC5sZW5ndGgpO2UuYnl0ZXMuc2V0KHQsaSl9KHQsZCkpO2xldCBsPWUubmV0d29ya1R5cGU7dm9pZCAwIT09bCYmKHhrKHQsNzIpLFZrKHQsUmsobCkpKTtsZXQgaD1lLm9zVHlwZTt2b2lkIDAhPT1oJiYoeGsodCw4MCksVmsodCxSayhoKSkpO2xldCB1PWUucmVxdWVzdElkO3ZvaWQgMCE9PXUmJih4ayh0LDkwKSxOayh0LHUpKTtsZXQgcD1lLnNka1ZlcnNpb247dm9pZCAwIT09cCYmKHhrKHQsOTgpLE5rKHQscCkpO2xldCBfPWUuc2VxdWVuY2U7dm9pZCAwIT09XyYmKHhrKHQsMTA0KSxWayh0LFJrKF8pKSk7bGV0IEU9ZS5zaWQ7dm9pZCAwIT09RSYmKHhrKHQsMTE0KSxOayh0LEUpKTtsZXQgbT1lLnRpbWVzdGFtcDt2b2lkIDAhPT1tJiYoeGsodCwxMjApLFZrKHQsbSkpO2xldCBmPWUudWlkO3ZvaWQgMCE9PWYmJih4ayh0LDEyOCkseGsodCxmKSk7bGV0IGc9ZS52aWQ7dm9pZCAwIT09ZyYmKHhrKHQsMTM2KSx4ayh0LGcpKTtsZXQgUz1lLndpZHRoO3ZvaWQgMCE9PVMmJih4ayh0LDE0NCksVmsodCxSayhTKSkpO2xldCBUPWUuc2VydmljZTt2b2lkIDAhPT1UJiYoeGsodCwxNTIpLHhrKHQsVCkpO2xldCBSPWUuY2FsbGJhY2tEYXRhO3ZvaWQgMCE9PVImJih4ayh0LDE2MiksTmsodCxSKSk7bGV0IEM9ZS5qcGdFbmNyeXB0aW9uO3ZvaWQgMCE9PUMmJih4ayh0LDE2OCkseGsodCxDKSk7bGV0IHY9ZS5yZXF1ZXN0VHlwZTt2b2lkIDAhPT12JiYoeGsodCwxNzYpLHhrKHQsdikpO2xldCBJPWUuc2NvcmVQb3JuO3ZvaWQgMCE9PUkmJih4ayh0LDE4NSksTWsodCxJKSk7bGV0IHk9ZS5zY29yZVNleHk7dm9pZCAwIT09eSYmKHhrKHQsMTkzKSxNayh0LHkpKTtsZXQgQT1lLnNjb3JlTmV1dHJhbDt2b2lkIDAhPT1BJiYoeGsodCwyMDEpLE1rKHQsQSkpO2xldCBiPWUuc2NlbmU7dm9pZCAwIT09YiYmKHhrKHQsMjA4KSx4ayh0LGIpKTtsZXQgdz1lLm9zc0ZpbGVQcmVmaXg7dm9pZCAwIT09dyYmKHhrKHQsMjE4KSxOayh0LHcpKTtsZXQgTz1lLnNlcnZpY2VWZW5kb3I7aWYodm9pZCAwIT09Tylmb3IobGV0IGUgb2YgTyl7eGsodCwyMjYpO2xldCBpPXZrKCk7RWsoZSxpKSx4ayh0LGkubGltaXQpLERrKHQsaSksSWsoaSl9fShlLHQpLGZ1bmN0aW9uKGUpe2xldCB0PWUuYnl0ZXMsaT1lLmxpbWl0O3JldHVybiB0Lmxlbmd0aD09PWk/dDp0LnN1YmFycmF5KDAsaSl9KHQpfWZ1bmN0aW9uIHBrKGUpe3JldHVybiBmdW5jdGlvbihlKXtsZXQgdD17fTtlOmZvcig7IUFrKGUpOyl7bGV0IGk9VWsoZSk7c3dpdGNoKGk+Pj4zKXtjYXNlIDA6YnJlYWsgZTtjYXNlIDE6dC5jb2RlPVVrKGUpO2JyZWFrO2Nhc2UgMjp0Lm1zZz1PayhlLFVrKGUpKTticmVhaztjYXNlIDM6e2xldCBpPW1rKGUpO3QuZGF0YT1fayhlKSxlLmxpbWl0PWk7YnJlYWt9ZGVmYXVsdDpmayhlLDcmaSl9fXJldHVybiB0fSh7Ynl0ZXM6dD1lLG9mZnNldDowLGxpbWl0OnQubGVuZ3RofSk7dmFyIHR9ZnVuY3Rpb24gX2soZSl7bGV0IHQ9e307ZTpmb3IoOyFBayhlKTspe2xldCBpPVVrKGUpO3N3aXRjaChpPj4+Myl7Y2FzZSAwOmJyZWFrIGU7Y2FzZSAxOnQucmVxdWVzdElkPU9rKGUsVWsoZSkpO2JyZWFrO2Nhc2UgMjp0LnJlcXVlc3RUeXBlPVVrKGUpPj4+MDticmVhaztjYXNlIDM6dC5zY29yZVBvcm49a2soZSk7YnJlYWs7Y2FzZSA0OnQuc2NvcmVTZXh5PWtrKGUpO2JyZWFrO2Nhc2UgNTp0LnNjb3JlTmV1dHJhbD1rayhlKTticmVhaztjYXNlIDY6dC5yZXF1ZXN0U2NlbmU9VWsoZSk+Pj4wO2JyZWFrO2Nhc2UgNzp0LnNjZW5lPVVrKGUpPj4+MDticmVhaztkZWZhdWx0OmZrKGUsNyZpKX19cmV0dXJuIHR9ZnVuY3Rpb24gRWsoZSx0KXtsZXQgaT1lLnNlcnZpY2U7dm9pZCAwIT09aSYmKHhrKHQsOCkseGsodCxpKSk7bGV0IG49ZS52ZW5kb3I7dm9pZCAwIT09biYmKHhrKHQsMTYpLHhrKHQsbikpO2xldCByPWUudG9rZW47dm9pZCAwIT09ciYmKHhrKHQsMjYpLE5rKHQscikpO2xldCBzPWUuY2FsbGJhY2tVcmw7dm9pZCAwIT09cyYmKHhrKHQsMzQpLE5rKHQscykpfWZ1bmN0aW9uIG1rKGUpe2xldCB0PVVrKGUpLGk9ZS5saW1pdDtyZXR1cm4gZS5saW1pdD1lLm9mZnNldCt0LGl9ZnVuY3Rpb24gZmsoZSx0KXtzd2l0Y2godCl7Y2FzZSAwOmZvcig7MTI4JlBrKGUpOyk7YnJlYWs7Y2FzZSAyOnlrKGUsVWsoZSkpO2JyZWFrO2Nhc2UgNTp5ayhlLDQpO2JyZWFrO2Nhc2UgMTp5ayhlLDgpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5pbXBsZW1lbnRlZCB0eXBlOiBcIit0KX19THYoW2hrLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsQm9vbGVhbl0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGxrLnByb3RvdHlwZSxcInN0YXJ0UDJQQ29ubmVjdGlvblwiLG51bGwpLEx2KFtoayxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0LE9iamVjdCxBcnJheSxPYmplY3QsU3RyaW5nLFN0cmluZ10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGxrLnByb3RvdHlwZSxcImNvbm5lY3RcIixudWxsKSxMdihbaGssa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdCxPYmplY3QsQXJyYXksT2JqZWN0LFN0cmluZyxTdHJpbmddKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxsay5wcm90b3R5cGUsXCJwcmVDb25uZWN0XCIsbnVsbCksTHYoW2hrLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGxrLnByb3RvdHlwZSxcInB1Ymxpc2hEYXRhQ2hhbm5lbFwiLG51bGwpLEx2KFtoayxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxsay5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hcIixudWxsKSxMdihbaGssa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sbGsucHJvdG90eXBlLFwidW5wdWJsaXNoRGF0YUNoYW5uZWxcIixudWxsKSxMdihbaGssa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGxrLnByb3RvdHlwZSxcInVucHVibGlzaExvd1N0cmVhbVwiLG51bGwpLEx2KFtoayxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbYlAsQXJyYXldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxsay5wcm90b3R5cGUsXCJzdWJzY3JpYmVEYXRhQ2hhbm5lbFwiLG51bGwpLEx2KFtoayxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbYlAsU3RyaW5nLE51bWJlcixOdW1iZXIsQXJyYXldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxsay5wcm90b3R5cGUsXCJzdWJzY3JpYmVcIixudWxsKSxMdihbaGssa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sbGsucHJvdG90eXBlLFwibWFzc1N1YnNjcmliZVwiLG51bGwpLEx2KFtoayxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbYlAsU3RyaW5nLEJvb2xlYW5dKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxsay5wcm90b3R5cGUsXCJ1bnN1YnNjcmliZVwiLG51bGwpLEx2KFtoayxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbYlAsQXJyYXldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxsay5wcm90b3R5cGUsXCJ1bnN1YnNjcmliZURhdGFDaGFubmVsXCIsbnVsbCksTHYoW2hrLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheV0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGxrLnByb3RvdHlwZSxcIm1hc3NVbnN1YnNjcmliZVwiLG51bGwpLEx2KFtoayxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbYlAsU3RyaW5nXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sbGsucHJvdG90eXBlLFwibXV0ZVJlbW90ZVwiLG51bGwpLEx2KFtoayxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbYlAsU3RyaW5nXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sbGsucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIsbnVsbCksTHYoW2hrLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtiUCxTdHJpbmddKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxsay5wcm90b3R5cGUsXCJoYXNSZW1vdGVNZWRpYVdpdGhMb2NrXCIsbnVsbCksTHYoW2hrLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxsay5wcm90b3R5cGUsXCJkaXNjb25uZWN0Rm9yUmVjb25uZWN0XCIsbnVsbCksTHYoW2hrLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxsay5wcm90b3R5cGUsXCJ1cGRhdGVCaXRyYXRlTGltaXRcIixudWxsKSxMdihbaGssa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW2JQLFN0cmluZyxOdW1iZXJdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxsay5wcm90b3R5cGUsXCJyZW1vdGVNZWRpYVNzcmNDaGFuZ2VkXCIsbnVsbCk7bGV0IGdrPW5ldyBGbG9hdDMyQXJyYXkoMSk7bmV3IFVpbnQ4QXJyYXkoZ2suYnVmZmVyKTtsZXQgU2s9bmV3IEZsb2F0NjRBcnJheSgxKSxUaz1uZXcgVWludDhBcnJheShTay5idWZmZXIpO2Z1bmN0aW9uIFJrKGUpe3JldHVybntsb3c6ZXw9MCxoaWdoOmU+PjMxLHVuc2lnbmVkOmU+PTB9fWxldCBDaz1bXTtmdW5jdGlvbiB2aygpe2NvbnN0IGU9Q2sucG9wKCk7cmV0dXJuIGU/KGUub2Zmc2V0PWUubGltaXQ9MCxlKTp7Ynl0ZXM6bmV3IFVpbnQ4QXJyYXkoNjQpLG9mZnNldDowLGxpbWl0OjB9fWZ1bmN0aW9uIElrKGUpe0NrLnB1c2goZSl9ZnVuY3Rpb24geWsoZSx0KXtpZihlLm9mZnNldCt0PmUubGltaXQpdGhyb3cgbmV3IEVycm9yKFwiU2tpcCBwYXN0IGxpbWl0XCIpO2Uub2Zmc2V0Kz10fWZ1bmN0aW9uIEFrKGUpe3JldHVybiBlLm9mZnNldD49ZS5saW1pdH1mdW5jdGlvbiBiayhlLHQpe2xldCBpPWUuYnl0ZXMsbj1lLm9mZnNldCxyPWUubGltaXQscz1uK3Q7aWYocz5pLmxlbmd0aCl7bGV0IHQ9bmV3IFVpbnQ4QXJyYXkoMipzKTt0LnNldChpKSxlLmJ5dGVzPXR9cmV0dXJuIGUub2Zmc2V0PXMscz5yJiYoZS5saW1pdD1zKSxufWZ1bmN0aW9uIHdrKGUsdCl7bGV0IGk9ZS5vZmZzZXQ7aWYoaSt0PmUubGltaXQpdGhyb3cgbmV3IEVycm9yKFwiUmVhZCBwYXN0IGxpbWl0XCIpO3JldHVybiBlLm9mZnNldCs9dCxpfWZ1bmN0aW9uIE9rKGUsdCl7bGV0IGk9d2soZSx0KSxuPVN0cmluZy5mcm9tQ2hhckNvZGUscj1lLmJ5dGVzLHM9XCLvv71cIixvPVwiXCI7Zm9yKGxldCBlPTA7ZTx0O2UrKyl7bGV0IGEsYyxkLGwsaD1yW2UraV07MD09KDEyOCZoKT9vKz1uKGgpOjE5Mj09KDIyNCZoKT9lKzE+PXQ/bys9czooYT1yW2UraSsxXSwxMjghPSgxOTImYSk/bys9czoobD0oMzEmaCk8PDZ8NjMmYSxsPDEyOD9vKz1zOihvKz1uKGwpLGUrKykpKToyMjQ9PSgyNDAmaCk/ZSsyPj10P28rPXM6KGE9cltlK2krMV0sYz1yW2UraSsyXSwzMjg5NiE9KDQ5MzQ0JihhfGM8PDgpKT9vKz1zOihsPSgxNSZoKTw8MTJ8KDYzJmEpPDw2fDYzJmMsbDwyMDQ4fHxsPj01NTI5NiYmbDw9NTczNDM/bys9czoobys9bihsKSxlKz0yKSkpOjI0MD09KDI0OCZoKT9lKzM+PXQ/bys9czooYT1yW2UraSsxXSxjPXJbZStpKzJdLGQ9cltlK2krM10sODQyMTUwNCE9KDEyNjMyMjU2JihhfGM8PDh8ZDw8MTYpKT9vKz1zOihsPSg3JmgpPDwxOHwoNjMmYSk8PDEyfCg2MyZjKTw8Nnw2MyZkLGw8NjU1MzZ8fGw+MTExNDExMT9vKz1zOihsLT02NTUzNixvKz1uKDU1Mjk2KyhsPj4xMCksNTYzMjArKDEwMjMmbCkpLGUrPTMpKSk6bys9c31yZXR1cm4gb31mdW5jdGlvbiBOayhlLHQpe2xldCBpPXQubGVuZ3RoLG49MDtmb3IobGV0IGU9MDtlPGk7ZSsrKXtsZXQgcj10LmNoYXJDb2RlQXQoZSk7cj49NTUyOTYmJnI8PTU2MzE5JiZlKzE8aSYmKHI9KHI8PDEwKSt0LmNoYXJDb2RlQXQoKytlKS01NjYxMzg4OCksbis9cjwxMjg/MTpyPDIwNDg/MjpyPDY1NTM2PzM6NH14ayhlLG4pO2xldCByPWJrKGUsbikscz1lLmJ5dGVzO2ZvcihsZXQgZT0wO2U8aTtlKyspe2xldCBuPXQuY2hhckNvZGVBdChlKTtuPj01NTI5NiYmbjw9NTYzMTkmJmUrMTxpJiYobj0objw8MTApK3QuY2hhckNvZGVBdCgrK2UpLTU2NjEzODg4KSxuPDEyOD9zW3IrK109bjoobjwyMDQ4P3NbcisrXT1uPj42JjMxfDE5Mjoobjw2NTUzNj9zW3IrK109bj4+MTImMTV8MjI0OihzW3IrK109bj4+MTgmN3wyNDAsc1tyKytdPW4+PjEyJjYzfDEyOCksc1tyKytdPW4+PjYmNjN8MTI4KSxzW3IrK109NjMmbnwxMjgpfX1mdW5jdGlvbiBEayhlLHQpe2xldCBpPWJrKGUsdC5saW1pdCksbj1lLmJ5dGVzLHI9dC5ieXRlcztmb3IobGV0IGU9MCxzPXQubGltaXQ7ZTxzO2UrKyluW2UraV09cltlXX1mdW5jdGlvbiBQayhlKXtyZXR1cm4gZS5ieXRlc1t3ayhlLDEpXX1mdW5jdGlvbiBMayhlLHQpe2xldCBpPWJrKGUsMSk7ZS5ieXRlc1tpXT10fWZ1bmN0aW9uIGtrKGUpe2xldCB0PXdrKGUsOCksaT1lLmJ5dGVzO3JldHVybiBUa1swXT1pW3QrK10sVGtbMV09aVt0KytdLFRrWzJdPWlbdCsrXSxUa1szXT1pW3QrK10sVGtbNF09aVt0KytdLFRrWzVdPWlbdCsrXSxUa1s2XT1pW3QrK10sVGtbN109aVt0KytdLFNrWzBdfWZ1bmN0aW9uIE1rKGUsdCl7bGV0IGk9YmsoZSw4KSxuPWUuYnl0ZXM7U2tbMF09dCxuW2krK109VGtbMF0sbltpKytdPVRrWzFdLG5baSsrXT1Ua1syXSxuW2krK109VGtbM10sbltpKytdPVRrWzRdLG5baSsrXT1Ua1s1XSxuW2krK109VGtbNl0sbltpKytdPVRrWzddfWZ1bmN0aW9uIFVrKGUpe2xldCB0LGk9MCxuPTA7ZG97dD1QayhlKSxpPDMyJiYobnw9KDEyNyZ0KTw8aSksaSs9N313aGlsZSgxMjgmdCk7cmV0dXJuIG59ZnVuY3Rpb24geGsoZSx0KXtmb3IodD4+Pj0wO3Q+PTEyODspTGsoZSwxMjcmdHwxMjgpLHQ+Pj49NztMayhlLHQpfWZ1bmN0aW9uIFZrKGUsdCl7bGV0IGk9dC5sb3c+Pj4wLG49KHQubG93Pj4+Mjh8dC5oaWdoPDw0KT4+PjAscj10LmhpZ2g+Pj4yNCxzPTA9PT1yPzA9PT1uP2k8MTYzODQ/aTwxMjg/MToyOmk8MTw8MjE/Mzo0Om48MTYzODQ/bjwxMjg/NTo2Om48MTw8MjE/Nzo4OnI8MTI4Pzk6MTAsbz1iayhlLHMpLGE9ZS5ieXRlcztzd2l0Y2gocyl7Y2FzZSAxMDphW28rOV09cj4+PjcmMTtjYXNlIDk6YVtvKzhdPTkhPT1zPzEyOHxyOjEyNyZyO2Nhc2UgODphW28rN109OCE9PXM/bj4+PjIxfDEyODpuPj4+MjEmMTI3O2Nhc2UgNzphW28rNl09NyE9PXM/bj4+PjE0fDEyODpuPj4+MTQmMTI3O2Nhc2UgNjphW28rNV09NiE9PXM/bj4+Pjd8MTI4Om4+Pj43JjEyNztjYXNlIDU6YVtvKzRdPTUhPT1zPzEyOHxuOjEyNyZuO2Nhc2UgNDphW28rM109NCE9PXM/aT4+PjIxfDEyODppPj4+MjEmMTI3O2Nhc2UgMzphW28rMl09MyE9PXM/aT4+PjE0fDEyODppPj4+MTQmMTI3O2Nhc2UgMjphW28rMV09MiE9PXM/aT4+Pjd8MTI4Omk+Pj43JjEyNztjYXNlIDE6YVtvXT0xIT09cz8xMjh8aToxMjcmaX19ZnVuY3Rpb24gRmsoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWNvbnN0IEJrPW5ldyBNYXAoW1tcIm1vZGVyYXRpb25cIiwxXSxbXCJzdXBlcnZpc2VcIiwyXV0pO2NsYXNzIGprIGV4dGVuZHMgaVN7Z2V0IGNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGV9c2V0IGNvbm5lY3Rpb25TdGF0ZShlKXtpZih0aGlzLl9jb25uZWN0aW9uU3RhdGU9PT1lKXJldHVybjtjb25zdCB0PXRoaXMuX2Nvbm5lY3Rpb25TdGF0ZTt0aGlzLl9jb25uZWN0aW9uU3RhdGU9ZSx0aGlzLmVtaXQoZ0kuQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsdCxlKX1nZXQgaW5zcGVjdFR5cGUoKXtyZXR1cm4gdGhpcy5faW5zcGVjdFR5cGV9c2V0IGluc3BlY3RUeXBlKGUpe3ZhciB0O3RoaXMuX2luc3BlY3RNb2RlPWNUKHQ9ZS5tYXAoKGU9PkJrLmdldChlKXx8MCkpKS5jYWxsKHQsKChlLHQpPT5lK3QpKSx0aGlzLl9pbnNwZWN0VHlwZT1lfWdldCBxdWFsaXR5KCl7cmV0dXJuIHRoaXMuX3F1YWxpdHl9c2V0IHF1YWxpdHkoZSl7dGhpcy5fcXVhbGl0eT1lPjE/MTplPC4xPy4xOmUsdGhpcy5xdWFsaXR5VGltZXImJih3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucXVhbGl0eVRpbWVyKSx0aGlzLnF1YWxpdHlUaW1lcj1udWxsKSx0aGlzLl9xdWFsaXR5Pj0xfHwodGhpcy5xdWFsaXR5VGltZXI9d2luZG93LnNldFRpbWVvdXQoKCgpPT57dGhpcy5xdWFsaXR5PXRoaXMuX3F1YWxpdHkvdGhpcy5xdWFsaXR5UmF0aW99KSw2ZTQpKX1jb25zdHJ1Y3RvcihlKXtzdXBlcigpLG51KHRoaXMsXCJuYW1lXCIsXCJBZ29yYVJUQ1ZpZGVvQ29udGVudEluc3BlY3RcIiksbnUodGhpcyxcIl9jb25uZWN0aW9uU3RhdGVcIixtSS5DT05ORUNUSU5HKSxudSh0aGlzLFwiX2lubmVyQ29ubmVjdGlvblN0YXRlXCIsdm9pZCAwKSxudSh0aGlzLFwic2VxdWVuY2VcIiwwKSxudSh0aGlzLFwiaW5zcGVjdFN0YXJ0VGltZVwiLHZvaWQgMCksbnUodGhpcyxcIndvcmtlck1hbmFnZXJDb25uZWN0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwid29ya2VyQ29ubmVjdGlvblwiLHZvaWQgMCksbnUodGhpcyxcIndvcmtlck1lc3NhZ2VMZW5ndGhMaW1pdFwiLHZvaWQgMCksbnUodGhpcyxcImluc3BlY3RJbnRlcnZhbE1pbmltdW1cIix2b2lkIDApLG51KHRoaXMsXCJxdWFsaXR5UmF0aW9cIix2b2lkIDApLG51KHRoaXMsXCJfY29ubmVjdEluZm9cIix2b2lkIDApLG51KHRoaXMsXCJfY2FuY2VsVG9rZW5Tb3VyY2VcIixFQy5DYW5jZWxUb2tlbi5zb3VyY2UoKSksbnUodGhpcyxcIl9yZXRyeUNvbmZpZ1wiLHZvaWQgMCksbnUodGhpcyxcIndtU2VxdWVuY2VcIiwwKSxudSh0aGlzLFwiaW5zcGVjdEludGVydmFsXCIsdm9pZCAwKSxudSh0aGlzLFwiaW5zcGVjdFRpbWVyXCIsbnVsbCksbnUodGhpcyxcIm9zc0ZpbGVQcmVmaXhcIix2b2lkIDApLG51KHRoaXMsXCJleHRyYUluZm9cIix2b2lkIDApLG51KHRoaXMsXCJfaW5zcGVjdFR5cGVcIix2b2lkIDApLG51KHRoaXMsXCJfaW5zcGVjdE1vZGVcIix2b2lkIDApLG51KHRoaXMsXCJfcXVhbGl0eVwiLDEpLG51KHRoaXMsXCJxdWFsaXR5VGltZXJcIixudWxsKSxudSh0aGlzLFwiX2luc3BlY3RJZFwiLHZvaWQgMCksbnUodGhpcyxcIl9uZWVkV29ya1VybE9ubHlcIiwhMSksbnUodGhpcyxcImluc3BlY3RJbWFnZVwiLCgoKT0+e2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09bUkuQ09OTkVDVEVEKXRocm93IG5ldyBNdih4Zy5PUEVSQVRJT05fQUJPUlRFRCxcImNvbnRlbnQgaW5zcGVjdCBzZXJ2aWNlIGNvbm5lY3Rpb24gc3RhdHVzIGlzIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSkpO3RoaXMuaW5zcGVjdFRpbWVyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5pbnNwZWN0VGltZXIpLHRoaXMuaW5zcGVjdFRpbWVyPW51bGwpLHRoaXMuaW5zcGVjdFRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PW1JLkNPTk5FQ1RFRD90aGlzLnJlcXVlc3RUb0luc3BlY3RJbWFnZSgpOldDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIEluc3BlY3QgU3RhdGUgaXMgbm90IGNvbm5lY3RlZCAsIFwiKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZSl9KSx0aGlzLmluc3BlY3RJbnRlcnZhbDx0aGlzLmluc3BlY3RJbnRlcnZhbE1pbmltdW0/dGhpcy5pbnNwZWN0SW50ZXJ2YWxNaW5pbXVtOnRoaXMuaW5zcGVjdEludGVydmFsKSx0aGlzLnJlcXVlc3RUb0luc3BlY3RJbWFnZSgpfSkpLHRoaXMuX2luc3BlY3RJZD14Uyg1LFwiaW5zcGVjdC1cIiksdGhpcy53b3JrZXJNZXNzYWdlTGVuZ3RoTGltaXQ9a0MoXCJWSURFT19JTlNQRUNUX1dPUktFUl9NRVNTQUdFX0xFTkdUSF9MSU1JVFwiKSx0aGlzLmluc3BlY3RJbnRlcnZhbE1pbmltdW09a0MoXCJWSURFT19JTlNQRUNUX0lOVEVSVkFMX01JTklNVU1cIiksdGhpcy5xdWFsaXR5UmF0aW89a0MoXCJWSURFT19JTlNQRUNUX1FVQUxJVFlfUkFUSU9cIiksdGhpcy5pbnNwZWN0SW50ZXJ2YWw9ZS5pbnRlcnZhbCx0aGlzLm9zc0ZpbGVQcmVmaXg9ZS5vc3NGaWxlUHJlZml4LHRoaXMuZXh0cmFJbmZvPWUuZXh0cmFJbmZvLHRoaXMuaW5zcGVjdFR5cGU9ZS5pbnNwZWN0VHlwZSx0aGlzLmluc3BlY3RTdGFydFRpbWU9TnVtYmVyKERhdGUubm93KCkpLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb249bmV3IEpJKFwid29ya2VyLW1hbmFnZXItXCIrdGhpcy5faW5zcGVjdElkLEpTKSx0aGlzLm9uKGdJLlNUQVRFX0NIQU5HRSwoKGUsdCk9Pnt0aGlzLl9pbm5lckNvbm5lY3Rpb25TdGF0ZT1lLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIEluc3BlY3Qgb3BlcmF0aW9uIDpcIikuY29uY2F0KGZJW2VdLFwiIFwiKS5jb25jYXQodHx8XCJcIikpfSkpLHRoaXMuaGFuZGxlV29ya2VyTWFuYWdlckV2ZW50cygpLHRoaXMud29ya2VyQ29ubmVjdGlvbj1uZXcgSkkoXCJ3b3JrZXItXCIrdGhpcy5faW5zcGVjdElkLEpTKSx0aGlzLmhhbmRsZVdvcmtlckV2ZW50cygpfWFzeW5jIGluaXQoZSx0KXt0aGlzLmVtaXQoZ0kuU1RBVEVfQ0hBTkdFLGZJLkNPTk5FQ1RfQVApLHRoaXMuX2Nvbm5lY3RJbmZvPWU7Y29uc3QgaT10aGlzLl9jYW5jZWxUb2tlblNvdXJjZS50b2tlbjtyZXR1cm4gdGhpcy5fcmV0cnlDb25maWc9dCxuZXcgdGcoKChuLHIpPT57dGhpcy5vbihnSS5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSwoKGUsdCk9Pnt0PT09bUkuQ09OTkVDVEVEJiZuKCl9KSksdGhpcy5yZXF1ZXN0QVAoZSxpLHQpLnRoZW4oKGU9Pnt0aGlzLmNvbm5lY3RXb3JrZXJNYW5hZ2VyKGUpfSkpLmNhdGNoKChlPT57cihlKX0pKX0pKX1hc3luYyByZXF1ZXN0QVAoZSx0LGkpe2NvbnN0IG49a0MoXCJXRUJDU19ET01BSU5cIikubWFwKChlPT5cImh0dHBzOi8vXCIuY29uY2F0KGUsXCIvYXBpL3YxXCIpKSkscj1hd2FpdCBmdW5jdGlvbihlLHQsaSxuKXtsZXR7YXBwSWQ6cixhcmVhQ29kZTpzLGNuYW1lOm8sc2lkOmEsdG9rZW46Yyx1aWQ6ZH09dDtuUCsrO2NvbnN0IGw9XCJpbWFnZV9tb2RlcmF0aW9uX2FwaVwiLGg9e3NlcnZpY2VfbmFtZTpsLGpzb25fYm9keTpKU09OLnN0cmluZ2lmeSh7YXBwSWQ6cixhcmVhQ29kZTpzLGNuYW1lOm8sY29tbWFuZDpcImFsbG9jYXRlRWRnZVwiLHJlcXVlc3RJZDpuUCxzZXE6blAsc2lkOmEsdG9rZW46Yyx0czpEYXRlLm5vdygpLHVpZDpkK1wiXCJ9KX07bGV0IHUscCxfPWVbMF07cmV0dXJuIFhTKChhc3luYygpPT57dT1EYXRlLm5vdygpO2NvbnN0IGU9YXdhaXQgTUQoXyx7ZGF0YTpoLGNhbmNlbFRva2VuOmksaGVhZGVyczp7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjpcIjBcIixcIlgtUGFja2V0LVVSSVwiOlwiNjFcIn0scGFyYW1zOnthY3Rpb246XCJ3cnRjX2dhdGV3YXlcIn19KTtpZihwPURhdGUubm93KCktdSwwIT09ZS5jb2RlKXtjb25zdCB0PW5ldyBNdih4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiaW1hZ2UgaW5zcGVjdCBhcCBlcnJvciwgY29kZVwiK2UuY29kZSx7cmV0cnk6ITAscmVzcG9uc2VUaW1lOnB9KTt0aHJvdyBXQy5lcnJvcih0LnRvU3RyaW5nKCkpLHR9Y29uc3QgdD1KU09OLnBhcnNlKGUuanNvbl9ib2R5KTtpZigyMDAhPT10LmNvZGUpe2NvbnN0IGU9bmV3IE12KHhnLlVORVhQRUNURURfUkVTUE9OU0UsXCJpbWFnZSBpbnNwZWN0IGFwIGVycm9yLCBjb2RlOiBcIi5jb25jYXQodC5jb2RlLFwiLCByZWFzb246IFwiKS5jb25jYXQodC5yZWFzb24pLHtjb2RlOnQuY29kZSxyZXNwb25zZVRpbWU6cH0pO3Rocm93IFdDLmVycm9yKGUudG9TdHJpbmcoKSksZX1pZighdC5zZXJ2ZXJzfHwhQXJyYXkuaXNBcnJheSh0LnNlcnZlcnMpfHwwPT09dC5zZXJ2ZXJzLmxlbmd0aCl7Y29uc3QgZT1uZXcgTXYoeGcuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImltYWdlIGluc3BlY3QgYXAgZW1wdHkgc2VydmVyXCIse2NvZGU6dC5jb2RlLHJlc3BvbnNlVGltZTpwfSk7dGhyb3cgV0MuZXJyb3IoZS50b1N0cmluZygpKSxlfWNvbnN0IG49a0MoXCJWSURFT19JTlNQRUNUX1dPUktFUl9NQU5BR0VSX0hPU1RcIikscj1rQyhcIlZJREVPX0lOU1BFQ1RfV09SS0VSX01BTkFHRVJfUE9SVFwiKTtyZXR1cm57YWRkcmVzc0xpc3Q6dC5zZXJ2ZXJzLm1hcCgoZT0+e2xldHthZGRyZXNzOnQsd3NzOml9PWU7aWYodCYmaSlyZXR1cm5cIndzczovL1wiLmNvbmNhdCh0LnJlcGxhY2UoL1xcLi9nLFwiLVwiKSxcIi5cIikuY29uY2F0KG4sXCI6XCIpLmNvbmNhdChyfHxpKX0pKS5maWx0ZXIoKGU9PiEhZSkpLHdvcmtlclRva2VuOnQud29ya2VyVG9rZW4sdmlkOnQudmlkLHJlc3BvbnNlVGltZTpwfX0pLCgodCxpKT0+KGl2LmFwd29ya2VyRXZlbnQoYSx7c3VjY2VzczohMCxzYzoyMDAsc2VydmljZU5hbWU6bCxyZXNwb25zZURldGFpbDpKU09OLnN0cmluZ2lmeSh0LmFkZHJlc3NMaXN0KSxmaXJzdFN1Y2Nlc3M6MD09PWkscmVzcG9uc2VUaW1lOnAsc2VydmVySXA6ZVtpJWUubGVuZ3RoXX0pLCExKSksKCh0LGkpPT4oaXYuYXB3b3JrZXJFdmVudChhLHtzdWNjZXNzOiExLHNjOnQuZGF0YSYmdC5kYXRhLmNvZGV8fDIwMCxzZXJ2aWNlTmFtZTpsLHJlc3BvbnNlVGltZTpwLHNlcnZlcklwOmVbaSVlLmxlbmd0aF19KSwhISh0LmNvZGUhPT14Zy5PUEVSQVRJT05fQUJPUlRFRCYmdC5jb2RlIT09eGcuVU5FWFBFQ1RFRF9SRVNQT05TRXx8dC5kYXRhJiZ0LmRhdGEucmV0cnkpJiYoXz1lWyhpKzEpJWUubGVuZ3RoXSwhMCkpKSxuKX0obixlLHQsaSk7dGhpcy5lbWl0KGdJLlNUQVRFX0NIQU5HRSxmSS5BUF9DT05ORUNURUQpO2NvbnN0e2FkZHJlc3NMaXN0OnN9PXI7cmV0dXJuIHRoaXMud21TZXF1ZW5jZSsrLHN9YXN5bmMgY29ubmVjdFdvcmtlck1hbmFnZXIoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTt0aGlzLl9uZWVkV29ya1VybE9ubHk9dCx0aGlzLmVtaXQoZ0kuU1RBVEVfQ0hBTkdFLGZJLkNPTk5FQ1RfV09SS0VSX01BTkFHRVIpLGF3YWl0IHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24uaW5pdChlLDFlNCl9YXN5bmMgY29ubmVjdFdvcmtlcihlKXthd2FpdCB0aGlzLndvcmtlckNvbm5lY3Rpb24uaW5pdChbZV0pfWhhbmRsZVdvcmtlck1hbmFnZXJFdmVudHMoKXt0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLm9uKEN2LkNPTk5FQ1RFRCwoYXN5bmMoKT0+e3RoaXMuZW1pdChnSS5TVEFURV9DSEFOR0UsZkkuV09SS0VSX01BTkFHRVJfQ09OTkVDVEVELHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24udXJsKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLnNlbmRNZXNzYWdlKHthcHBJZDp0aGlzLl9jb25uZWN0SW5mby5hcHBJZCxjbmFtZTp0aGlzLl9jb25uZWN0SW5mby5jbmFtZSx1aWQ6dGhpcy5fY29ubmVjdEluZm8udWlkK1wiXCIsc2RrVmVyc2lvbjpcIjQuMTkuMVwiLHNpZDp0aGlzLl9jb25uZWN0SW5mby5zaWQsc2VxOnRoaXMud21TZXF1ZW5jZSx0czpOdW1iZXIoRGF0ZS5ub3coKSkscmVxdWVzdElkOk1hdGguZmxvb3IoMWUxMipNYXRoLnJhbmRvbSgpKSxhbGxvY2F0ZTohMCxjbGllbnRSZXF1ZXN0Ontjb21tYW5kOlwiam9pblwifX0sITApfSkpLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oQ3YuQ0xPU0VELCgoKT0+e3RoaXMuX2lubmVyQ29ubmVjdGlvblN0YXRlPGZJLkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRSYmV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gSW5zcGVjdCB3b3JrZXIgbWFuYWdlciBpcyBjbG9zZWQgYmVmb3JlIGNvbm5lY3Rpbmcgd29ya2VyXCIpKX0pKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLm9uKEN2LkZBSUxFRCwoKCk9Pnt0aGlzLl9pbm5lckNvbm5lY3Rpb25TdGF0ZTxmSS5HRVRfV09SS0VSX01BTkFHRVJfUkVTUE9OU0UmJldDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIENvbm5lY3RpbmcgaW5zcGVjdCB3b3JrZXIgbWFuYWdlciBpcyBmYWlsZWQgYmVmb3JlIGNvbm5lY3Rpbmcgd29ya2VyXCIpKX0pKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLm9uKEN2LlJFQ09OTkVDVElORywoKCk9Pnt0aGlzLl9pbm5lckNvbm5lY3Rpb25TdGF0ZTxmSS5HRVRfV09SS0VSX01BTkFHRVJfUkVTUE9OU0UmJldDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIEluc3BlY3Qgd29ya2VyIG1hbmFnZXIgaXMgcmVjb25uZWN0aW5nIGJlZm9yZSBjb25uZWN0aW5nIHdvcmtlclwiKSl9KSksdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5vbihDdi5PTl9NRVNTQUdFLChhc3luYyBlPT57dGhpcy5lbWl0KGdJLlNUQVRFX0NIQU5HRSxmSS5HRVRfV09SS0VSX01BTkFHRVJfUkVTUE9OU0UpO2NvbnN0IHQ9dGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi51cmw7dGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5jbG9zZSgpO2NvbnN0IGk9SlNPTi5wYXJzZShlLmRhdGEpO2lmKDIwMCE9PWkuY29kZSl0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBVbmV4cGVjdGVkIGNvZGUgXCIpLmNvbmNhdChpLmNvZGUsXCIgZnJvbSB3b3JrZXIgbWFuYWdlclwiKSksbmV3IE12KHhnLlVORVhQRUNURURfUkVTUE9OU0UsXCJyZXNwb25zZSBjb2RlIG9mIHdvcmtlciBpcyB1bmV4cGVjdGVkXCIsaSk7aWYoIShpLnNlcnZlclJlc3BvbnNlJiZpLnNlcnZlclJlc3BvbnNlLnBvcnRXc3MmJnQpKXRocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIFVuZXhwZWN0ZWQgY29udGVudCBmcm9tIHdvcmtlciBtYW5hZ2VyIDogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShpKSkpLG5ldyBNdih4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwicmVzcG9uc2UgY29udGVudCBvZiB3b3JrZXIgaXMgdW5leHBlY3RlZFwiLGkpO3tjb25zdCBlPWtDKFwiVklERU9fSU5TUEVDVF9XT1JLRVJfUE9SVFwiKXx8aS5zZXJ2ZXJSZXNwb25zZS5wb3J0V3NzLG49dC5yZXBsYWNlKC86XFxkK1xcLz8kLyxcIjpcIi5jb25jYXQoZSkpO3RoaXMuZW1pdChnSS5TVEFURV9DSEFOR0UsZkkuQ09OTkVDVF9XT1JLRVIsbiksdGhpcy5fbmVlZFdvcmtVcmxPbmx5P3RoaXMuZW1pdChnSS5SRVFVRVNUX05FV19XT1JLRVJfVVJMLG4pOmF3YWl0IHRoaXMuY29ubmVjdFdvcmtlcihuKX19KSksdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5vbihDdi5XSUxMX1JFQ09OTkVDVCwoKGUsdCxpKT0+e2koZSl9KSksdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5vbihDdi5SRVFVRVNUX05FV19VUkxTLCgoZSx0KT0+e3RoaXMucmVxdWVzdEFQKHRoaXMuX2Nvbm5lY3RJbmZvLHRoaXMuX2NhbmNlbFRva2VuU291cmNlLnRva2VuLHRoaXMuX3JldHJ5Q29uZmlnKS50aGVuKGUpLmNhdGNoKHQpfSkpfWhhbmRsZVdvcmtlckV2ZW50cygpe3RoaXMud29ya2VyQ29ubmVjdGlvbi5vbihDdi5DT05ORUNURUQsKGFzeW5jKCk9Pnt0aGlzLmVtaXQoZ0kuU1RBVEVfQ0hBTkdFLGZJLldPUktFUl9DT05ORUNURUQsdGhpcy53b3JrZXJDb25uZWN0aW9uLnVybCksdGhpcy5jb25uZWN0aW9uU3RhdGU9bUkuQ09OTkVDVEVEfSkpLHRoaXMud29ya2VyQ29ubmVjdGlvbi5vbihDdi5PTl9NRVNTQUdFLChhc3luYyBlPT57aWYoZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe2NvbnN0IGk9cGsobmV3IFVpbnQ4QXJyYXkoZS5kYXRhKSk7aWYoa0MoXCJTSE9XX1ZJREVPX0lOU1BFQ1RfV09SS0VSX01FU1NBR0VcIikmJldDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIFJlc3BvbnNlIG1lc3NhZ2UgZm9yIHdvcmtlciBvZiBpbnNwZWN0IGNvbnRlbnQgXCIpLEpTT04uc3RyaW5naWZ5KGkpKSwyMDA9PT1pLmNvZGUpe2lmKEFycmF5LmlzQXJyYXkodGhpcy5pbnNwZWN0VHlwZSkmJjE9PT10aGlzLmluc3BlY3RUeXBlLmxlbmd0aCYmXCJzdXBlcnZpc2VcIj09PXRoaXMuaW5zcGVjdFR5cGVbMF0pcmV0dXJuIHZvaWQgdGhpcy5lbWl0KGdJLklOU1BFQ1RfUkVTVUxULHZvaWQgMCx2b2lkIDApO2lmKGkuZGF0YSYmaS5kYXRhLnNjb3JlUG9ybiYmaS5kYXRhLnNjb3JlU2V4eSYmaS5kYXRhLnNjb3JlTmV1dHJhbCl7dmFyIHQ7Y29uc3QgZT17cG9ybjppLmRhdGEuc2NvcmVQb3JuLHNleHk6aS5kYXRhLnNjb3JlU2V4eSxuZXV0cmFsOmkuZGF0YS5zY29yZU5ldXRyYWx9LG49Y1QodD1PYmplY3Qua2V5cyhlKSkuY2FsbCh0LCgodCxpKT0+ZVt0XT5lW2ldP3Q6aSksXCJwb3JuXCIpLHI9T2JqZWN0LmtleXMoZSkuZmluZCgoZT0+ZT09PW4pKTt0aGlzLmVtaXQoZ0kuSU5TUEVDVF9SRVNVTFQscil9ZWxzZSB0aGlzLmVtaXQoZ0kuSU5TUEVDVF9SRVNVTFQsdm9pZCAwLG5ldyBNdih4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLGkuY29kZStcIlwiLFwiVGhlcmUgaXMgYW4gdW5leHBlY3RlZCBkYXRhIG9uIG1lc3NhZ2VcIikpfWVsc2UgdGhpcy5lbWl0KGdJLklOU1BFQ1RfUkVTVUxULHZvaWQgMCxuZXcgTXYoeGcuVU5FWFBFQ1RFRF9SRVNQT05TRSxpLmNvZGUrXCJcIixpLm1zZykpfWVsc2UgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gVW5leHBlY3RlZCBtZXNzYWdlIHR5cGUgZnJvbSB3b3JrZXJcIikpLHRoaXMuZW1pdChnSS5JTlNQRUNUX1JFU1VMVCx2b2lkIDAsbmV3IE12KHhnLlVORVhQRUNURURfUkVTUE9OU0UsXCJpbnZhbGlkIHdvcmtlciBtZXNzYWdlIHR5cGVcIikpfSkpLHRoaXMud29ya2VyQ29ubmVjdGlvbi5vbihDdi5DTE9TRUQsKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9bUkuQ0xPU0VEfSkpLHRoaXMud29ya2VyQ29ubmVjdGlvbi5vbihDdi5GQUlMRUQsKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9bUkuQ0xPU0VEfSkpLHRoaXMud29ya2VyQ29ubmVjdGlvbi5vbihDdi5SRUNPTk5FQ1RJTkcsKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9dGhpcy5jb25uZWN0aW9uU3RhdGU9PT1tSS5DT05ORUNURUQ/bUkuUkVDT05ORUNUSU5HOm1JLkNPTk5FQ1RJTkd9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKEN2LldJTExfUkVDT05ORUNULCgoZSx0LGkpPT57XCJyZWNvdmVyXCI9PT1lJiZpKGUpLGkoXCJ0cnlOZXh0XCIpfSkpLHRoaXMud29ya2VyQ29ubmVjdGlvbi5vbihDdi5SRVFVRVNUX05FV19VUkxTLCgoZSx0KT0+e3RoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLm9uY2UoZ0kuUkVRVUVTVF9ORVdfV09SS0VSX1VSTCwodD0+e2UoW3RdKX0pKSx0aGlzLnJlcXVlc3RBUCh0aGlzLl9jb25uZWN0SW5mbyx0aGlzLl9jYW5jZWxUb2tlblNvdXJjZS50b2tlbix0aGlzLl9yZXRyeUNvbmZpZykudGhlbigoZT0+e3RoaXMuY29ubmVjdFdvcmtlck1hbmFnZXIoZSwhMCl9KSkuY2F0Y2goKGU9Pnt0KGUpfSkpfSkpfXN0YXRpYyBpbnRUb0xvbmcoZSl7cmV0dXJue2xvdzplfD0wLGhpZ2g6ZT4+MzEsdW5zaWduZWQ6ZT49MH19YXN5bmMgcmVxdWVzdFRvSW5zcGVjdEltYWdlKCl7dGhpcy5zZXF1ZW5jZSsrO2NvbnN0IGU9U1ModGhpcyxnSS5DTElFTlRfTE9DQUxfVklERU9fVFJBQ0spLHQ9e2FwcElkOnRoaXMuX2Nvbm5lY3RJbmZvLmFwcElkLGNuYW1lOnRoaXMuX2Nvbm5lY3RJbmZvLmNuYW1lLGNpZDp0aGlzLl9jb25uZWN0SW5mby5jaWQsc2lkOnRoaXMuX2Nvbm5lY3RJbmZvLnNpZCx1aWQ6dGhpcy5fY29ubmVjdEluZm8udWlkLHZpZDp0aGlzLl9jb25uZWN0SW5mby52aWR9O2lmKGUpe2lmKCFlLmlzUGxheWluZylyZXR1cm4gdm9pZCB0aGlzLmVtaXQoZ0kuSU5TUEVDVF9SRVNVTFQsdm9pZCAwLG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIk9ubHkgdGhlIHRyYWNrIGJlaW5nIHBsYXllZCBjYW4gYmUgaW5zcGVjdGVkXCIpKTtjb25zdCBpPWF3YWl0IHRoaXMuZ2VuZXJhdGVSZXF1ZXN0RGF0YShlLHQpO3RoaXMud29ya2VyQ29ubmVjdGlvbi5zZW5kTWVzc2FnZShpLCEwLCEwKX1lbHNlIHRoaXMuZW1pdChnSS5JTlNQRUNUX1JFU1VMVCx2b2lkIDAsbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiT25seSB0aGUgdHJhY2sgYmVpbmcgcHVibGlzaGVkIGNhbiBiZSBpbnNwZWN0ZWRcIikpfWFzeW5jIGdlbmVyYXRlUmVxdWVzdERhdGEoZSx0KXtsZXR7YXBwSWQ6aSxjbmFtZTpuLGNpZDpyLHZpZDpzLHNpZDpvLHVpZDphfT10O2NvbnN0IGM9RGF0ZS5ub3coKSxkPWF3YWl0IGUuZ2V0Q3VycmVudEZyYW1lSW1hZ2UoXCJpbWFnZS9qcGVnXCIsdGhpcy5xdWFsaXR5KSxsPWF3YWl0IF9iKGQsaSxuKSxoPXRoaXMuc2VxdWVuY2UrXCItXCIrcitcIi1cIithK1wiLVwiK2MrXCItXCIreFMoMTIsXCJcIiksdT17YXBwSWQ6aSxjaWQ6cixjbmFtZTpuLGRldmljZUlkOlwiXCIsZWxhcHNlOmprLmludFRvTG9uZyhOdW1iZXIoYy10aGlzLmluc3BlY3RTdGFydFRpbWUpKSxmaWxlU2l6ZTpsLmJ5dGVMZW5ndGgsanBnRW5jcnlwdGlvbjoyLGhlaWdodDpkLmhlaWdodCx3aWR0aDpkLndpZHRoLGpwZzpsLG5ldHdvcmtUeXBlOjYsb3NUeXBlOjcscmVxdWVzdElkOmgsc2RrVmVyc2lvbjpcIjQuMTkuMVwiLHNlcXVlbmNlOnRoaXMuc2VxdWVuY2Usc2lkOm8sdGltZXN0YW1wOmprLmludFRvTG9uZyhjKSx1aWQ6YSx2aWQ6cyxzZXJ2aWNlOnRoaXMuX2luc3BlY3RNb2RlLGNhbGxiYWNrRGF0YTp0aGlzLmV4dHJhSW5mbyxvc3NGaWxlUHJlZml4OnRoaXMub3NzRmlsZVByZWZpeH07dm9pZCAwPT09dGhpcy5leHRyYUluZm8mJmRlbGV0ZSB1LmNhbGxiYWNrRGF0YSx2b2lkIDA9PT10aGlzLm9zc0ZpbGVQcmVmaXgmJmRlbGV0ZSB1Lm9zc0ZpbGVQcmVmaXg7Y29uc3QgcD11ayh1KTtpZihwLmJ5dGVMZW5ndGg8dGhpcy53b3JrZXJNZXNzYWdlTGVuZ3RoTGltaXQpe2lmKGtDKFwiU0hPV19WSURFT19JTlNQRUNUX1dPUktFUl9NRVNTQUdFXCIpKXtjb25zdCBlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP0ZrKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnUoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOkZrKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfSh7fSx1KTtkZWxldGUgZS5qcGcsV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gUmVxdWVzdCBtZXNzYWdlIGZvciB3b3JrZXIgb2YgaW5zcGVjdCBjb250ZW50IFwiKSxKU09OLnN0cmluZ2lmeShlKSl9cmV0dXJuIHB9e2NvbnN0IHQ9dGhpcy5xdWFsaXR5KnRoaXMucXVhbGl0eVJhdGlvO3JldHVybiB0aGlzLnF1YWxpdHk9dCxhd2FpdCB0aGlzLmdlbmVyYXRlUmVxdWVzdERhdGEoZSx7YXBwSWQ6aSxjbmFtZTpuLGNpZDpyLHZpZDpzLHNpZDpvLHVpZDphfSl9fWNsb3NlKCl7dGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2UuY2FuY2VsKCksdGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2U9RUMuQ2FuY2VsVG9rZW4uc291cmNlKCksdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbiYmdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMud29ya2VyQ29ubmVjdGlvbiYmdGhpcy53b3JrZXJDb25uZWN0aW9uLmNsb3NlKCksdGhpcy5pbnNwZWN0VGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW5zcGVjdFRpbWVyKSx0aGlzLmluc3BlY3RUaW1lcj1udWxsLHRoaXMuY29ubmVjdGlvblN0YXRlPW1JLkNMT1NFRCx0aGlzLmVtaXQoZ0kuU1RBVEVfQ0hBTkdFLGZJLkNMT1NFRCl9fWZ1bmN0aW9uIEdrKGUpe2xldCB0PWZ1bmN0aW9uKCl7Y29uc3QgZT1Zay5wb3AoKTtyZXR1cm4gZT8oZS5vZmZzZXQ9ZS5saW1pdD0wLGUpOntieXRlczpuZXcgVWludDhBcnJheSg2NCksb2Zmc2V0OjAsbGltaXQ6MH19KCk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7bGV0IGk9ZS5hcHBJZDt2b2lkIDAhPT1pJiYobk0odCwxMCksJGsodCxpKSk7bGV0IG49ZS5jaWQ7dm9pZCAwIT09biYmKG5NKHQsMTYpLG5NKHQsbikpO2xldCByPWUuY25hbWU7dm9pZCAwIT09ciYmKG5NKHQsMjYpLCRrKHQscikpO2xldCBzPWUuZGV2aWNlSWQ7dm9pZCAwIT09cyYmKG5NKHQsMzQpLCRrKHQscykpO2xldCBvPWUuZWxhcHNlO3ZvaWQgMCE9PW8mJihuTSh0LDQwKSxzTSh0LG8pKTtsZXQgYT1lLmZpbGVTaXplO3ZvaWQgMCE9PWEmJihuTSh0LDQ4KSxzTSh0LEtrKGEpKSk7bGV0IGM9ZS5oZWlnaHQ7dm9pZCAwIT09YyYmKG5NKHQsNTYpLHNNKHQsS2soYykpKTtsZXQgZD1lLmpwZzt2b2lkIDAhPT1kJiYobk0odCw2Niksbk0odCxkLmxlbmd0aCksUWsodCxkKSk7bGV0IGw9ZS5uZXR3b3JrVHlwZTt2b2lkIDAhPT1sJiYobk0odCw3Miksc00odCxLayhsKSkpO2xldCBoPWUub3NUeXBlO3ZvaWQgMCE9PWgmJihuTSh0LDgwKSxzTSh0LEtrKGgpKSk7bGV0IHU9ZS5yZXF1ZXN0SWQ7dm9pZCAwIT09dSYmKG5NKHQsOTApLCRrKHQsdSkpO2xldCBwPWUuc2RrVmVyc2lvbjt2b2lkIDAhPT1wJiYobk0odCw5OCksJGsodCxwKSk7bGV0IF89ZS5zZXF1ZW5jZTt2b2lkIDAhPT1fJiYobk0odCwxMDQpLHNNKHQsS2soXykpKTtsZXQgRT1lLnNpZDt2b2lkIDAhPT1FJiYobk0odCwxMTQpLCRrKHQsRSkpO2xldCBtPWUudGltZXN0YW1wO3ZvaWQgMCE9PW0mJihuTSh0LDEyMCksc00odCxtKSk7bGV0IGY9ZS51aWQ7dm9pZCAwIT09ZiYmKG5NKHQsMTI4KSxuTSh0LGYpKTtsZXQgZz1lLnZpZDt2b2lkIDAhPT1nJiYobk0odCwxMzYpLG5NKHQsZykpO2xldCBTPWUud2lkdGg7dm9pZCAwIT09UyYmKG5NKHQsMTQ0KSxzTSh0LEtrKFMpKSk7bGV0IFQ9ZS5zZXJ2aWNlO3ZvaWQgMCE9PVQmJihuTSh0LDE1Miksbk0odCxUKSk7bGV0IFI9ZS5jYWxsYmFja0RhdGE7dm9pZCAwIT09UiYmKG5NKHQsMTYyKSxuTSh0LFIubGVuZ3RoKSxRayh0LFIpKTtsZXQgQz1lLnRpY2tldDt2b2lkIDAhPT1DJiYobk0odCwxNzApLCRrKHQsQykpfShlLHQpLGZ1bmN0aW9uKGUpe2xldCB0PWUuYnl0ZXMsaT1lLmxpbWl0O3JldHVybiB0Lmxlbmd0aD09PWk/dDp0LnN1YmFycmF5KDAsaSl9KHQpfWZ1bmN0aW9uIFdrKGUpe3JldHVybiBmdW5jdGlvbihlKXtsZXQgdD17fTtlOmZvcig7IUprKGUpOyl7bGV0IGk9aU0oZSk7c3dpdGNoKGk+Pj4zKXtjYXNlIDA6YnJlYWsgZTtjYXNlIDE6dC5jb2RlPWlNKGUpO2JyZWFrO2Nhc2UgMjp0Lm1zZz1aayhlLGlNKGUpKTticmVhaztjYXNlIDM6dC5yZXF1ZXN0SWQ9WmsoZSxpTShlKSk7YnJlYWs7Y2FzZSA0OnQudGltZXN0YW1wPXJNKGUsITEpO2JyZWFrO2RlZmF1bHQ6SGsoZSw3JmkpfX1yZXR1cm4gdH0oe2J5dGVzOnQ9ZSxvZmZzZXQ6MCxsaW1pdDp0Lmxlbmd0aH0pO3ZhciB0fWZ1bmN0aW9uIEhrKGUsdCl7c3dpdGNoKHQpe2Nhc2UgMDpmb3IoOzEyOCZlTShlKTspO2JyZWFrO2Nhc2UgMjpxayhlLGlNKGUpKTticmVhaztjYXNlIDU6cWsoZSw0KTticmVhaztjYXNlIDE6cWsoZSw4KTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIlVuaW1wbGVtZW50ZWQgdHlwZTogXCIrdCl9fWZ1bmN0aW9uIEtrKGUpe3JldHVybntsb3c6ZXw9MCxoaWdoOmU+PjMxLHVuc2lnbmVkOmU+PTB9fWxldCBZaz1bXTtmdW5jdGlvbiBxayhlLHQpe2lmKGUub2Zmc2V0K3Q+ZS5saW1pdCl0aHJvdyBuZXcgRXJyb3IoXCJTa2lwIHBhc3QgbGltaXRcIik7ZS5vZmZzZXQrPXR9ZnVuY3Rpb24gSmsoZSl7cmV0dXJuIGUub2Zmc2V0Pj1lLmxpbWl0fWZ1bmN0aW9uIHprKGUsdCl7bGV0IGk9ZS5ieXRlcyxuPWUub2Zmc2V0LHI9ZS5saW1pdCxzPW4rdDtpZihzPmkubGVuZ3RoKXtsZXQgdD1uZXcgVWludDhBcnJheSgyKnMpO3Quc2V0KGkpLGUuYnl0ZXM9dH1yZXR1cm4gZS5vZmZzZXQ9cyxzPnImJihlLmxpbWl0PXMpLG59ZnVuY3Rpb24gWGsoZSx0KXtsZXQgaT1lLm9mZnNldDtpZihpK3Q+ZS5saW1pdCl0aHJvdyBuZXcgRXJyb3IoXCJSZWFkIHBhc3QgbGltaXRcIik7cmV0dXJuIGUub2Zmc2V0Kz10LGl9ZnVuY3Rpb24gUWsoZSx0KXtsZXQgaT16ayhlLHQubGVuZ3RoKTtlLmJ5dGVzLnNldCh0LGkpfWZ1bmN0aW9uIFprKGUsdCl7bGV0IGk9WGsoZSx0KSxuPVN0cmluZy5mcm9tQ2hhckNvZGUscj1lLmJ5dGVzLHM9XCLvv71cIixvPVwiXCI7Zm9yKGxldCBlPTA7ZTx0O2UrKyl7bGV0IGEsYyxkLGwsaD1yW2UraV07MD09KDEyOCZoKT9vKz1uKGgpOjE5Mj09KDIyNCZoKT9lKzE+PXQ/bys9czooYT1yW2UraSsxXSwxMjghPSgxOTImYSk/bys9czoobD0oMzEmaCk8PDZ8NjMmYSxsPDEyOD9vKz1zOihvKz1uKGwpLGUrKykpKToyMjQ9PSgyNDAmaCk/ZSsyPj10P28rPXM6KGE9cltlK2krMV0sYz1yW2UraSsyXSwzMjg5NiE9KDQ5MzQ0JihhfGM8PDgpKT9vKz1zOihsPSgxNSZoKTw8MTJ8KDYzJmEpPDw2fDYzJmMsbDwyMDQ4fHxsPj01NTI5NiYmbDw9NTczNDM/bys9czoobys9bihsKSxlKz0yKSkpOjI0MD09KDI0OCZoKT9lKzM+PXQ/bys9czooYT1yW2UraSsxXSxjPXJbZStpKzJdLGQ9cltlK2krM10sODQyMTUwNCE9KDEyNjMyMjU2JihhfGM8PDh8ZDw8MTYpKT9vKz1zOihsPSg3JmgpPDwxOHwoNjMmYSk8PDEyfCg2MyZjKTw8Nnw2MyZkLGw8NjU1MzZ8fGw+MTExNDExMT9vKz1zOihsLT02NTUzNixvKz1uKDU1Mjk2KyhsPj4xMCksNTYzMjArKDEwMjMmbCkpLGUrPTMpKSk6bys9c31yZXR1cm4gb31mdW5jdGlvbiAkayhlLHQpe2xldCBpPXQubGVuZ3RoLG49MDtmb3IobGV0IGU9MDtlPGk7ZSsrKXtsZXQgcj10LmNoYXJDb2RlQXQoZSk7cj49NTUyOTYmJnI8PTU2MzE5JiZlKzE8aSYmKHI9KHI8PDEwKSt0LmNoYXJDb2RlQXQoKytlKS01NjYxMzg4OCksbis9cjwxMjg/MTpyPDIwNDg/MjpyPDY1NTM2PzM6NH1uTShlLG4pO2xldCByPXprKGUsbikscz1lLmJ5dGVzO2ZvcihsZXQgZT0wO2U8aTtlKyspe2xldCBuPXQuY2hhckNvZGVBdChlKTtuPj01NTI5NiYmbjw9NTYzMTkmJmUrMTxpJiYobj0objw8MTApK3QuY2hhckNvZGVBdCgrK2UpLTU2NjEzODg4KSxuPDEyOD9zW3IrK109bjoobjwyMDQ4P3NbcisrXT1uPj42JjMxfDE5Mjoobjw2NTUzNj9zW3IrK109bj4+MTImMTV8MjI0OihzW3IrK109bj4+MTgmN3wyNDAsc1tyKytdPW4+PjEyJjYzfDEyOCksc1tyKytdPW4+PjYmNjN8MTI4KSxzW3IrK109NjMmbnwxMjgpfX1mdW5jdGlvbiBlTShlKXtyZXR1cm4gZS5ieXRlc1tYayhlLDEpXX1mdW5jdGlvbiB0TShlLHQpe2xldCBpPXprKGUsMSk7ZS5ieXRlc1tpXT10fWZ1bmN0aW9uIGlNKGUpe2xldCB0LGk9MCxuPTA7ZG97dD1lTShlKSxpPDMyJiYobnw9KDEyNyZ0KTw8aSksaSs9N313aGlsZSgxMjgmdCk7cmV0dXJuIG59ZnVuY3Rpb24gbk0oZSx0KXtmb3IodD4+Pj0wO3Q+PTEyODspdE0oZSwxMjcmdHwxMjgpLHQ+Pj49Nzt0TShlLHQpfWZ1bmN0aW9uIHJNKGUsdCl7bGV0IGksbj0wLHI9MCxzPTA7cmV0dXJuIGk9ZU0oZSksbj0xMjcmaSwxMjgmaSYmKGk9ZU0oZSksbnw9KDEyNyZpKTw8NywxMjgmaSYmKGk9ZU0oZSksbnw9KDEyNyZpKTw8MTQsMTI4JmkmJihpPWVNKGUpLG58PSgxMjcmaSk8PDIxLDEyOCZpJiYoaT1lTShlKSxyPTEyNyZpLDEyOCZpJiYoaT1lTShlKSxyfD0oMTI3JmkpPDw3LDEyOCZpJiYoaT1lTShlKSxyfD0oMTI3JmkpPDwxNCwxMjgmaSYmKGk9ZU0oZSkscnw9KDEyNyZpKTw8MjEsMTI4JmkmJihpPWVNKGUpLHM9MTI3JmksMTI4JmkmJihpPWVNKGUpLHN8PSgxMjcmaSk8PDcpKSkpKSkpKSkse2xvdzpufHI8PDI4LGhpZ2g6cj4+PjR8czw8MjQsdW5zaWduZWQ6dH19ZnVuY3Rpb24gc00oZSx0KXtsZXQgaT10Lmxvdz4+PjAsbj0odC5sb3c+Pj4yOHx0LmhpZ2g8PDQpPj4+MCxyPXQuaGlnaD4+PjI0LHM9MD09PXI/MD09PW4/aTwxNjM4ND9pPDEyOD8xOjI6aTwxPDwyMT8zOjQ6bjwxNjM4ND9uPDEyOD81OjY6bjwxPDwyMT83Ojg6cjwxMjg/OToxMCxvPXprKGUscyksYT1lLmJ5dGVzO3N3aXRjaChzKXtjYXNlIDEwOmFbbys5XT1yPj4+NyYxO2Nhc2UgOTphW28rOF09OSE9PXM/MTI4fHI6MTI3JnI7Y2FzZSA4OmFbbys3XT04IT09cz9uPj4+MjF8MTI4Om4+Pj4yMSYxMjc7Y2FzZSA3OmFbbys2XT03IT09cz9uPj4+MTR8MTI4Om4+Pj4xNCYxMjc7Y2FzZSA2OmFbbys1XT02IT09cz9uPj4+N3wxMjg6bj4+PjcmMTI3O2Nhc2UgNTphW28rNF09NSE9PXM/MTI4fG46MTI3Jm47Y2FzZSA0OmFbbyszXT00IT09cz9pPj4+MjF8MTI4Omk+Pj4yMSYxMjc7Y2FzZSAzOmFbbysyXT0zIT09cz9pPj4+MTR8MTI4Omk+Pj4xNCYxMjc7Y2FzZSAyOmFbbysxXT0yIT09cz9pPj4+N3wxMjg6aT4+PjcmMTI3O2Nhc2UgMTphW29dPTEhPT1zPzEyOHxpOjEyNyZpfX1jb25zdCBvTT17fSxhTT17fSxjTT00Mjk0OTY3Mjk2LGRNPWNNKmNNLGxNPWRNLzIsaE09bU0oMCwhMCksdU09bU0oMCkscE09Zk0oMCwtMjE0NzQ4MzY0OCwhMSksX009Zk0oLTEsMjE0NzQ4MzY0NywhMSksRU09Zk0oLTEsLTEsITApO2Z1bmN0aW9uIG1NKGUsdCl7bGV0IGksbixyO3JldHVybiB0PyhyPTA8PShlPj4+PTApJiZlPDI1NikmJihuPWFNW2VdLG4pP246KGk9Zk0oZSwwLCEwKSxyJiYoYU1bZV09aSksaSk6KHI9LTEyODw9KGV8PTApJiZlPDEyOCkmJihuPW9NW2VdLG4pP246KGk9Zk0oZSxlPDA/LTE6MCwhMSksciYmKG9NW2VdPWkpLGkpfWZ1bmN0aW9uIGZNKGUsdCxpKXtyZXR1cm57bG93OjB8ZSxoaWdoOjB8dCx1bnNpZ25lZDohIWl9fWZ1bmN0aW9uIGdNKGUsdCl7aWYoaXNOYU4oZSkpcmV0dXJuIHQ/aE06dU07aWYodCl7aWYoZTwwKXJldHVybiBoTTtpZihlPj1kTSlyZXR1cm4gRU19ZWxzZXtpZihlPD0tbE0pcmV0dXJuIHBNO2lmKGUrMT49bE0pcmV0dXJuIF9NfXJldHVybiBlPDA/dD9oTTp1TTpmTShlJWNNfDAsZS9jTXwwLHQpfWZ1bmN0aW9uIFNNKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1jbGFzcyBUTSBleHRlbmRzIGlTe2dldCBjb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXRlfXNldCBjb25uZWN0aW9uU3RhdGUoZSl7aWYodGhpcy5fY29ubmVjdGlvblN0YXRlPT09ZSlyZXR1cm47Y29uc3QgdD10aGlzLl9jb25uZWN0aW9uU3RhdGU7dGhpcy5fY29ubmVjdGlvblN0YXRlPWUsdGhpcy5lbWl0KElJLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLGUsdCl9Z2V0IHF1YWxpdHkoKXtyZXR1cm4gdGhpcy5fcXVhbGl0eX1zZXQgcXVhbGl0eShlKXt0aGlzLl9xdWFsaXR5PWU+MT8xOmU8LjE/LjE6ZSx0aGlzLl9xdWFsaXR5VGltZXImJih3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3F1YWxpdHlUaW1lciksdGhpcy5fcXVhbGl0eVRpbWVyPW51bGwpLHRoaXMuX3F1YWxpdHk+PTF8fCh0aGlzLl9xdWFsaXR5VGltZXI9d2luZG93LnNldFRpbWVvdXQoKCgpPT57dGhpcy5xdWFsaXR5PXRoaXMuX3F1YWxpdHkvdGhpcy5fcXVhbGl0eVJhdGlvfSksNmU0KSl9Y29uc3RydWN0b3IoZSl7dmFyIHQ7c3VwZXIoKSxudSh0aGlzLFwibmFtZVwiLFwiQWdvcmFSVENJbWFnZU1vZGVyYXRpb25cIiksbnUodGhpcyxcIl9jb25uZWN0aW9uU3RhdGVcIix2SS5DT05ORUNUSU5HKSxudSh0aGlzLFwiX3NlcXVlbmNlXCIsMCksbnUodGhpcyxcIl9tb2RlcmF0aW9uU3RhcnRUaW1lXCIsdm9pZCAwKSxudSh0aGlzLFwiX3dvcmtlckNvbm5lY3Rpb25cIix2b2lkIDApLG51KHRoaXMsXCJfd29ya2VyTWVzc2FnZUxlbmd0aExpbWl0XCIsdm9pZCAwKSxudSh0aGlzLFwiX3F1YWxpdHlSYXRpb1wiLHZvaWQgMCksbnUodGhpcyxcIl9jb25uZWN0SW5mb1wiLHZvaWQgMCksbnUodGhpcyxcIl9jYW5jZWxUb2tlblNvdXJjZVwiLEVDLkNhbmNlbFRva2VuLnNvdXJjZSgpKSxudSh0aGlzLFwiX3JldHJ5Q29uZmlnXCIsdm9pZCAwKSxudSh0aGlzLFwiX21vZGVyYXRpb25JbnRlcnZhbFwiLHZvaWQgMCksbnUodGhpcyxcIl9tb2RlcmF0aW9uVGltZXJcIixudWxsKSxudSh0aGlzLFwiX21vZGVyYXRpb25Nb2RlXCIsMSksbnUodGhpcyxcIl9xdWFsaXR5XCIsMSksbnUodGhpcyxcIl9xdWFsaXR5VGltZXJcIixudWxsKSxudSh0aGlzLFwiX3RpY2tldFwiLHZvaWQgMCksbnUodGhpcyxcIl9tb2RlcmF0aW9uSW50ZXJ2YWxNaW5pbXVtXCIsdm9pZCAwKSxudSh0aGlzLFwiX3VwbG9hZEZhaWxlZE51bVwiLDApLG51KHRoaXMsXCJfdXBsb2FkTnVtXCIsMCksbnUodGhpcyxcIl91cGxvYWRUaW1lclwiLG51bGwpLG51KHRoaXMsXCJfbW9kZXJhdGlvbklkXCIsdm9pZCAwKSxudSh0aGlzLFwiaW5zcGVjdEltYWdlXCIsKCgpPT57aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT12SS5DT05ORUNURUQpdGhyb3cgbmV3IE12KHhnLk9QRVJBVElPTl9BQk9SVEVELFwiaW1hZ2UgbW9kZXJhdGlvbiBzZXJ2aWNlIGNvbm5lY3Rpb24gc3RhdHVzIGlzIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSkpO3RoaXMuX21vZGVyYXRpb25UaW1lciYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX21vZGVyYXRpb25UaW1lciksdGhpcy5fbW9kZXJhdGlvblRpbWVyPW51bGwpLHRoaXMuX21vZGVyYXRpb25UaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9PT12SS5DT05ORUNURUQ/dGhpcy5yZXF1ZXN0VG9JbnNwZWN0SW1hZ2UoKTpXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fbW9kZXJhdGlvbklkLFwiXSBNb2RlcmF0aW9uIFN0YXRlIGlzIG5vdCBjb25uZWN0ZWQgLCBcIiksdGhpcy5jb25uZWN0aW9uU3RhdGUpfSksdGhpcy5fbW9kZXJhdGlvbkludGVydmFsPHRoaXMuX21vZGVyYXRpb25JbnRlcnZhbE1pbmltdW0/dGhpcy5fbW9kZXJhdGlvbkludGVydmFsTWluaW11bTp0aGlzLl9tb2RlcmF0aW9uSW50ZXJ2YWwpLHRoaXMucmVxdWVzdFRvSW5zcGVjdEltYWdlKCl9KSksdGhpcy5fbW9kZXJhdGlvbklkPXhTKDUsXCJpbWFnZS1tb2RlcmF0aW9uLVwiKSx0aGlzLl93b3JrZXJNZXNzYWdlTGVuZ3RoTGltaXQ9a0MoXCJJTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9NRVNTQUdFX0xFTkdUSF9MSU1JVFwiKSx0aGlzLl9tb2RlcmF0aW9uSW50ZXJ2YWxNaW5pbXVtPWtDKFwiSU1BR0VfTU9ERVJBVElPTl9JTlRFUlZBTF9NSU5JTVVNXCIpLHRoaXMuX21vZGVyYXRpb25JbnRlcnZhbD1udWxsIT09KHQ9ZS5pbnRlcnZhbCkmJnZvaWQgMCE9PXQ/dDoxZTMsdGhpcy5fcXVhbGl0eVJhdGlvPWtDKFwiSU1BR0VfTU9ERVJBVElPTl9RVUFMSVRZX1JBVElPXCIpLHRoaXMuX21vZGVyYXRpb25TdGFydFRpbWU9TnVtYmVyKERhdGUubm93KCkpLHRoaXMuX3dvcmtlckNvbm5lY3Rpb249bmV3IEpJKFwid29ya2VyLVwiK3RoaXMuX21vZGVyYXRpb25JZCxKUyksdGhpcy5vbihJSS5TVEFURV9DSEFOR0UsKChlLHQpPT57V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX21vZGVyYXRpb25JZCxcIl0gTW9kZXJhdGlvbiBvcGVyYXRpb24gOlwiKS5jb25jYXQoeUlbZV0sXCIgXCIpLmNvbmNhdCh0fHxcIlwiKSl9KSksdGhpcy5oYW5kbGVXb3JrZXJFdmVudHMoKX1hc3luYyBpbml0KGUsdCl7dGhpcy5lbWl0KElJLlNUQVRFX0NIQU5HRSx5SS5DT05ORUNUX0FQKSx0aGlzLl9jb25uZWN0SW5mbz1lO2NvbnN0IGk9dGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2UudG9rZW47cmV0dXJuIHRoaXMuX3JldHJ5Q29uZmlnPXQsbmV3IHRnKCgobixyKT0+e3RoaXMub24oSUkuQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsKChlLHQpPT57ZT09PXZJLkNPTk5FQ1RFRCYmbigpfSkpLHRoaXMucmVxdWVzdEFQKGUsaSx0KS50aGVuKChlPT57dGhpcy5jb25uZWN0V29ya2VyKGUpfSkpLmNhdGNoKChlPT57cihlKX0pKX0pKX11cGRhdGVDb25maWcoZSl7dmFyIHQ7dGhpcy5fbW9kZXJhdGlvbkludGVydmFsPW51bGwhPT0odD1lLmludGVydmFsKSYmdm9pZCAwIT09dD90OjFlMyxXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fbW9kZXJhdGlvbklkLFwiXSB1cGRhdGVDb25maWc6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSkpKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PXZJLkNPTk5FQ1RFRCYmdGhpcy5pbnNwZWN0SW1hZ2UoKX1hc3luYyByZXF1ZXN0QVAoZSx0LGkpe2NvbnN0IG49a0MoXCJXRUJDU19ET01BSU5cIikubWFwKChlPT5cImh0dHBzOi8vXCIuY29uY2F0KGUsXCIvYXBpL3YxXCIpKSkscj1hd2FpdCBmdW5jdGlvbihlLHQsaSxuKXtsZXR7YXBwSWQ6cixhcmVhQ29kZTpzLGNuYW1lOm8sc2lkOmEsdG9rZW46Yyx1aWQ6ZH09dDtuUCsrO2NvbnN0IGw9XCJtb2RlcmF0aW9uX3BsdWdpblwiLGg9e3NlcnZpY2VfbmFtZTpsLGpzb25fYm9keTpKU09OLnN0cmluZ2lmeSh7YXBwSWQ6cixhcmVhQ29kZTpzLGNuYW1lOm8sY29tbWFuZDpcImFsbG9jYXRlRWRnZVwiLHJlcXVlc3RJZDpuUCxzZXE6blAsc2lkOmEsYXBwVG9rZW46Yyx0czpEYXRlLm5vdygpLHVpZDpkK1wiXCJ9KX07bGV0IHUscCxfPWVbMF07cmV0dXJuIFhTKChhc3luYygpPT57dT1EYXRlLm5vdygpO2NvbnN0IGU9YXdhaXQgTUQoXyx7ZGF0YTpoLGNhbmNlbFRva2VuOmksaGVhZGVyczp7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjpcIjBcIixcIlgtUGFja2V0LVVSSVwiOlwiNjFcIn0scGFyYW1zOnthY3Rpb246XCJ3cnRjX2dhdGV3YXlcIn19KTtpZihwPURhdGUubm93KCktdSwwIT09ZS5jb2RlKXtjb25zdCB0PW5ldyBNdih4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwibW9kZXJhdGlvbiBwbHVnaW4gYXAgZXJyb3IsIGNvZGVcIitlLmNvZGUse3JldHJ5OiEwLHJlc3BvbnNlVGltZTpwfSk7dGhyb3cgV0MuZXJyb3IodC50b1N0cmluZygpKSx0fWNvbnN0IHQ9SlNPTi5wYXJzZShlLmpzb25fYm9keSk7aWYoMjAwIT09dC5jb2RlKXtjb25zdCBlPW5ldyBNdih4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwibW9kZXJhdGlvbiBwbHVnaW4gYXAgZXJyb3IsIGNvZGU6IFwiLmNvbmNhdCh0LmNvZGUsXCIsIHJlYXNvbjogXCIpLmNvbmNhdCh0LnJlYXNvbikse2NvZGU6dC5jb2RlLHJlc3BvbnNlVGltZTpwfSk7dGhyb3cgV0MuZXJyb3IoZS50b1N0cmluZygpKSxlfWlmKCF0LnNlcnZlcnN8fCFBcnJheS5pc0FycmF5KHQuc2VydmVycyl8fDA9PT10LnNlcnZlcnMubGVuZ3RoKXtjb25zdCBlPW5ldyBNdih4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwibW9kZXJhdGlvbiBwbHVnaW4gYXAgZW1wdHkgc2VydmVyXCIse2NvZGU6dC5jb2RlLHJlc3BvbnNlVGltZTpwfSk7dGhyb3cgV0MuZXJyb3IoZS50b1N0cmluZygpKSxlfWlmKCF0LnNlcnZlcnMuc29tZSgoZT0+ISFlLndzcykpKXtjb25zdCBlPW5ldyBNdih4Zy5VTkVYUEVDVEVEX1JFU1BPTlNFLFwibW9kZXJhdGlvbiBwbHVnaW4gYXAgZW1wdHkgcG9ydFwiLHtjb2RlOnQuY29kZSxyZXNwb25zZVRpbWU6cH0pO3Rocm93IFdDLmVycm9yKGUudG9TdHJpbmcoKSksZX1jb25zdCBuPWtDKFwiSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfSE9TVFwiKTtyZXR1cm57YWRkcmVzc0xpc3Q6dC5zZXJ2ZXJzLm1hcCgoZT0+e2xldHthZGRyZXNzOnQsd3NzOml9PWU7aWYodCYmaSlyZXR1cm5cIndzczovL1wiLmNvbmNhdCh0LnJlcGxhY2UoL1xcLi9nLFwiLVwiKSxcIi5cIikuY29uY2F0KG4sXCI6XCIpLmNvbmNhdChpLFwiL21vZGVyYXRpb25cIil9KSkuZmlsdGVyKChlPT4hIWUpKSx3b3JrZXJUb2tlbjp0LndvcmtlclRva2VuLHZpZDp0LnZpZCx0aWNrZXQ6dC5hcHBUaWNrZXQscmVzcG9uc2VUaW1lOnB9fSksKCh0LGkpPT4oaXYuYXB3b3JrZXJFdmVudChhLHtzdWNjZXNzOiEwLHNjOjIwMCxzZXJ2aWNlTmFtZTpsLHJlc3BvbnNlRGV0YWlsOkpTT04uc3RyaW5naWZ5KHQuYWRkcmVzc0xpc3QpLGZpcnN0U3VjY2VzczowPT09aSxyZXNwb25zZVRpbWU6cCxzZXJ2ZXJJcDplW2klZS5sZW5ndGhdfSksITEpKSwoKHQsaSk9Pihpdi5hcHdvcmtlckV2ZW50KGEse3N1Y2Nlc3M6ITEsc2M6dC5kYXRhJiZ0LmRhdGEuY29kZXx8MjAwLHNlcnZpY2VOYW1lOmwscmVzcG9uc2VUaW1lOnAsc2VydmVySXA6ZVtpJWUubGVuZ3RoXX0pLCEhKHQuY29kZSE9PXhnLk9QRVJBVElPTl9BQk9SVEVEJiZ0LmNvZGUhPT14Zy5VTkVYUEVDVEVEX1JFU1BPTlNFfHx0LmRhdGEmJnQuZGF0YS5yZXRyeSkmJihfPWVbKGkrMSklZS5sZW5ndGhdLCEwKSkpLG4pfShuLGUsdCxpKTt0aGlzLmVtaXQoSUkuU1RBVEVfQ0hBTkdFLHlJLkFQX0NPTk5FQ1RFRCk7Y29uc3R7YWRkcmVzc0xpc3Q6cyx0aWNrZXQ6b309cjtyZXR1cm4gdGhpcy5fdGlja2V0PW8sc31hc3luYyBjb25uZWN0V29ya2VyKGUpe3RoaXMuZW1pdChJSS5TVEFURV9DSEFOR0UseUkuQ09OTkVDVF9XT1JLRVIpLGF3YWl0IHRoaXMuX3dvcmtlckNvbm5lY3Rpb24uaW5pdChlLDFlNCl9aGFuZGxlV29ya2VyRXZlbnRzKCl7dGhpcy5fd29ya2VyQ29ubmVjdGlvbi5vbihDdi5DT05ORUNURUQsKGFzeW5jKCk9Pnt0aGlzLmVtaXQoSUkuU1RBVEVfQ0hBTkdFLHlJLldPUktFUl9DT05ORUNURUQsdGhpcy5fd29ya2VyQ29ubmVjdGlvbi51cmwpLHRoaXMuY29ubmVjdGlvblN0YXRlPXZJLkNPTk5FQ1RFRH0pKSx0aGlzLl93b3JrZXJDb25uZWN0aW9uLm9uKEN2LkNMT1NFRCwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT12SS5DTE9TRUR9KSksdGhpcy5fd29ya2VyQ29ubmVjdGlvbi5vbihDdi5GQUlMRUQsKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9dkkuQ0xPU0VEfSkpLHRoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oQ3YuUkVDT05ORUNUSU5HLCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPXRoaXMuY29ubmVjdGlvblN0YXRlPT09dkkuQ09OTkVDVEVEP3ZJLlJFQ09OTkVDVElORzp2SS5DT05ORUNUSU5HfSkpLHRoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oQ3YuT05fTUVTU0FHRSwoYXN5bmMgZT0+e2lmKGUuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXtjb25zdCB0PVdrKG5ldyBVaW50OEFycmF5KGUuZGF0YSkpO2tDKFwiU0hPV19JTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9NRVNTQUdFXCIpJiZXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fbW9kZXJhdGlvbklkLFwiXSBSZXNwb25zZSBtZXNzYWdlIGZvciB3b3JrZXIgb2YgaW1hZ2UgbW9kZXJhdGlvbiBcIiksSlNPTi5zdHJpbmdpZnkodCkpLHRoaXMuX3VwbG9hZE51bSsrLHZvaWQgMD09PXQuY29kZXx8MD09PXQuY29kZXx8KHRoaXMuX3VwbG9hZEZhaWxlZE51bSsrLFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIEVycm9yIHJlc3BvbnNlIGZyb20gd29ya2UsIGNvZGUgaXMgXCIpLmNvbmNhdCh0LmNvZGUsXCIsIG1zZyBpcyBcIikuY29uY2F0KHQubXNnKSksdGhpcy5fdXBsb2FkVGltZXJ8fCh0aGlzLl91cGxvYWRUaW1lcj13aW5kb3cuc2V0VGltZW91dCgoKCk9Pntpdi5yZXBvcnRBcGlJbnZva2UodGhpcy5fY29ubmVjdEluZm8uc2lkfHxudWxsLHtuYW1lOnNTLklNQUdFX01PREVSQVRJT05fVVBMT0FELG9wdGlvbnM6W3RoaXMuX3VwbG9hZEZhaWxlZE51bSx0aGlzLl91cGxvYWROdW0sdC5jb2RlXSx0YWc6b1MuVFJBQ0VSfSkub25FcnJvcihuZXcgTXYoeGcuSU1BR0VfTU9ERVJBVElPTl9VUExPQURfRkFJTEVELHQubXNnKSksdGhpcy5fdXBsb2FkVGltZXI9bnVsbH0pLGtDKFwiSU1BR0VfTU9ERVJBVElPTl9VUExPQURfUkVQT1JUX0lOVEVSVkFMXCIpKSkpfWVsc2UgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX21vZGVyYXRpb25JZCxcIl0gVW5leHBlY3RlZCBtZXNzYWdlIHR5cGUgZnJvbSB3b3JrZXJcIikpfSkpLHRoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oQ3YuV0lMTF9SRUNPTk5FQ1QsKChlLHQsaSk9PntcInJlY292ZXJcIj09PWUmJmkoZSksaShcInRyeU5leHRcIil9KSksdGhpcy5fd29ya2VyQ29ubmVjdGlvbi5vbihDdi5SRVFVRVNUX05FV19VUkxTLCgoZSx0KT0+e3RoaXMucmVxdWVzdEFQKHRoaXMuX2Nvbm5lY3RJbmZvLHRoaXMuX2NhbmNlbFRva2VuU291cmNlLnRva2VuLHRoaXMuX3JldHJ5Q29uZmlnKS50aGVuKGUpLmNhdGNoKHQpfSkpfXN0YXRpYyBpbnRUb0xvbmcoZSl7cmV0dXJue2xvdzplfD0wLGhpZ2g6ZT4+MzEsdW5zaWduZWQ6ZT49MH19YXN5bmMgcmVxdWVzdFRvSW5zcGVjdEltYWdlKCl7Y29uc3QgZT1TUyh0aGlzLElJLkNMSUVOVF9MT0NBTF9WSURFT19UUkFDSyksdD17YXBwSWQ6dGhpcy5fY29ubmVjdEluZm8uYXBwSWQsY25hbWU6dGhpcy5fY29ubmVjdEluZm8uY25hbWUsY2lkOnRoaXMuX2Nvbm5lY3RJbmZvLmNpZCxzaWQ6dGhpcy5fY29ubmVjdEluZm8uc2lkLHVpZDp0aGlzLl9jb25uZWN0SW5mby51aWQsdmlkOnRoaXMuX2Nvbm5lY3RJbmZvLnZpZH07aWYoZSl7aWYoIWUuaXNQbGF5aW5nKXJldHVybiB2b2lkKGtDKFwiU0hPV19JTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9NRVNTQUdFXCIpJiZXQy5kZWJ1ZyhcIk9ubHkgdGhlIHRyYWNrIGJlaW5nIHBsYXllZCBjYW4gYmUgaW5zcGVjdGVkXCIpKTt0aGlzLl9zZXF1ZW5jZSsrO2NvbnN0IGk9YXdhaXQgdGhpcy5nZW5lcmF0ZVJlcXVlc3REYXRhKGUsdCk7dGhpcy5fd29ya2VyQ29ubmVjdGlvbi5zZW5kTWVzc2FnZShpLCEwLCEwKX1lbHNlIGtDKFwiU0hPV19JTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9NRVNTQUdFXCIpJiZXQy5kZWJ1ZyhcIk9ubHkgdGhlIHRyYWNrIGJlaW5nIHB1Ymxpc2hlZCBjYW4gYmUgaW5zcGVjdGVkXCIpfWFzeW5jIGdlbmVyYXRlUmVxdWVzdERhdGEoZSx0KXtsZXR7YXBwSWQ6aSxjbmFtZTpuLGNpZDpyLHZpZDpzLHNpZDpvLHVpZDphfT10O2NvbnN0IGM9RGF0ZS5ub3coKSxkPWF3YWl0IGUuZ2V0Q3VycmVudEZyYW1lSW1hZ2UoXCJpbWFnZS9qcGVnXCIsdGhpcy5xdWFsaXR5KSxsPWF3YWl0IF9iKGQsaSxuKSxoPXRoaXMuX3NlcXVlbmNlK1wiLVwiK3IrXCItXCIrYStcIi1cIitjK1wiLVwiK3hTKDEyLFwiXCIpLHU9e2FwcElkOmksY2lkOnIsY25hbWU6bixkZXZpY2VJZDpcIlwiLGVsYXBzZTpUTS5pbnRUb0xvbmcoTnVtYmVyKGMtdGhpcy5fbW9kZXJhdGlvblN0YXJ0VGltZSkpLGZpbGVTaXplOmQuYnVmZmVyLmJ5dGVMZW5ndGgsaGVpZ2h0OmQuaGVpZ2h0LHdpZHRoOmQud2lkdGgsanBnOmwsbmV0d29ya1R5cGU6Nixvc1R5cGU6NyxyZXF1ZXN0SWQ6aCxzZGtWZXJzaW9uOlwiNC4xOS4xXCIsc2VxdWVuY2U6dGhpcy5fc2VxdWVuY2Usc2lkOm8sdGltZXN0YW1wOmdNKGMpLHVpZDphLHZpZDpzLHNlcnZpY2U6dGhpcy5fbW9kZXJhdGlvbk1vZGUsdGlja2V0OnRoaXMuX3RpY2tldH0scD1Hayh1KTtpZihwLmJ5dGVMZW5ndGg8dGhpcy5fd29ya2VyTWVzc2FnZUxlbmd0aExpbWl0KXtpZihrQyhcIlNIT1dfSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRVwiKSl7Y29uc3QgZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9TTShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpTTShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX0oe30sdSk7ZGVsZXRlIGUuanBnLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIFJlcXVlc3QgbWVzc2FnZSBmb3Igd29ya2VyIG9mIGltYWdlIG1vZGVyYXRpb24gc2VydmljZTogXCIpLEpTT04uc3RyaW5naWZ5KGUpKX1yZXR1cm4gcH17Y29uc3QgdD10aGlzLnF1YWxpdHkqdGhpcy5fcXVhbGl0eVJhdGlvO3JldHVybiB0aGlzLnF1YWxpdHk9dCxhd2FpdCB0aGlzLmdlbmVyYXRlUmVxdWVzdERhdGEoZSx7YXBwSWQ6aSxjbmFtZTpuLGNpZDpyLHZpZDpzLHNpZDpvLHVpZDphfSl9fWNsb3NlKCl7dGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2UuY2FuY2VsKCksdGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2U9RUMuQ2FuY2VsVG9rZW4uc291cmNlKCksdGhpcy5fd29ya2VyQ29ubmVjdGlvbiYmdGhpcy5fd29ya2VyQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMuX21vZGVyYXRpb25UaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fbW9kZXJhdGlvblRpbWVyKSx0aGlzLl9tb2RlcmF0aW9uVGltZXI9bnVsbCx0aGlzLl91cGxvYWRUaW1lciYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl91cGxvYWRUaW1lciksdGhpcy5fdXBsb2FkVGltZXI9bnVsbCx0aGlzLmNvbm5lY3Rpb25TdGF0ZT12SS5DTE9TRUQsdGhpcy5lbWl0KElJLlNUQVRFX0NIQU5HRSx5SS5DTE9TRUQpfX1mdW5jdGlvbiBSTShlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gQ00oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/Uk0oT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6Uk0oT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3Mgdk0gZXh0ZW5kcyBPSXtnZXQgY3VycmVudExvY2FsRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50TG9jYWxEZXNjcmlwdGlvbn1nZXQgY3VycmVudFJlbW90ZURlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudFJlbW90ZURlc2NyaXB0aW9ufWdldCBwZWVyQ29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlfWdldCBpY2VDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGV9Z2V0IGR0bHNUcmFuc3BvcnRTdGF0ZSgpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRSZWNlaXZlcnMoKVswXSl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LnRyYW5zcG9ydCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc3RhdGUpJiZ2b2lkIDAhPT1lP2U6bnVsbH1jb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZSx0KSxudSh0aGlzLFwiZGlyZWN0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwic3RvcmVcIix2b2lkIDApLG51KHRoaXMsXCJwZWVyQ29ubmVjdGlvblwiLHZvaWQgMCksbnUodGhpcyxcInRyYW5zcG9ydEV2ZW50UmVjZWl2ZXJcIix2b2lkIDApLG51KHRoaXMsXCJzdGF0c0ZpbHRlclwiLHZvaWQgMCksbnUodGhpcyxcImxvY2FsQ2FuZGlkYXRlQ291bnRcIiwwKSxudSh0aGlzLFwiYWxsQ2FuZGlkYXRlc1JlY2VpdmVkXCIsITEpLG51KHRoaXMsXCJtdXRleFwiLG5ldyBZUyhcIlAyUENvbm5lY3Rpb24tbXV0ZXhcIikpLG51KHRoaXMsXCJkYXRhQ2hhbm5lbFwiLHZvaWQgMCksbnUodGhpcyxcIm9uTG9jYWxDYW5kaWRhdGVcIix2b2lkIDApLHRoaXMuc3RvcmU9dCx0aGlzLnBlZXJDb25uZWN0aW9uPW5ldyBSVENQZWVyQ29ubmVjdGlvbih2TS5yZXNvbHZlUENDb25maWd1cmF0aW9uKGUpLHtvcHRpb25hbDpbe2dvb2dEc2NwOiEwfV19KSx0aGlzLmRpcmVjdGlvbj1udWxsIT1pP2k6UnYuU0VORF9PTkxZLHRoaXMuZGF0YUNoYW5uZWw9dGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbChcImFnb3JhLXAycC1zaWduYWxcIix7b3JkZXJlZDohMH0pLHRoaXMuc3RhdHNGaWx0ZXI9d0wodGhpcy5wZWVyQ29ubmVjdGlvbixrQyhcIlNUQVRTX1VQREFURV9JTlRFUlZBTFwiKSx2b2lkIDAsUmcoKT8xMjAwOnZvaWQgMCksdGhpcy5iaW5kUENFdmVudHMoKSx0aGlzLmJpbmRTdGF0c0V2ZW50cygpLHRoaXMuc3RvcmUucDJwSWQ9dGhpcy5zdG9yZS5wMnBJZCsxfWFzeW5jIGVzdGFibGlzaChlKXt0cnl7aWYoZSl7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmV9KTtjb25zdCB0PWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7aWYoYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHQpLCF0LnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGFuc3dlciBzZHAgd2hlbiB0cnlpbmcgdG8gZXN0YWJsaXNoIFBlZXJDb25uZWN0aW9uLlwiKTtyZXR1cm4gdC5zZHB9e2NvbnN0IGU9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpO2lmKCFlLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGluaXRpYWxPZmZlci5zZHAgd2hlbiB0cnlpbmcgdG8gZXN0YWJsaXNoIFBlZXJDb25uZWN0aW9uLlwiKTtyZXR1cm4gYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGUpLGUuc2RwfX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuR0VUX0xPQ0FMX0NPTk5FQ1RJT05fUEFSQU1TX0ZBSUxFRCxlLnRvU3RyaW5nKCkpfX1hc3luYyBjb25uZWN0KGUpe3RyeXthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOmV9KX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uY29ubmVjdCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgYWRkUmVtb3RlQ2FuZGlkYXRlKGUpe3RyeXthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShlKX1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuQUREX0NBTkRJREFURV9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLmFkZFJlbW90ZUNhbmRpZGF0ZSBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgc2VuZChlKXt0cnl7Y29uc3QgdD1bXTtlLmZvckVhY2goKGU9Pntjb25zdCBpPXRoaXMucGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIoZS5fbWVkaWFTdHJlYW1UcmFjayx7ZGlyZWN0aW9uOlwic2VuZG9ubHlcIn0pO3QucHVzaChpKX0pKSxSZygpJiYhMD09PWtDKFwiU0lNVUxDQVNUXCIpJiZhd2FpdCB0aGlzLmFwcGx5U2ltdWxjYXN0Rm9yRmlyZWZveCh0LGUpLGF3YWl0IHRoaXMuYXBwbHlTaW11bGNhc3RFbmNvZGluZ3ModCxlKSxhd2FpdCB0aGlzLmFwcGx5U2VuZEVuY29kaW5ncyh0LGUpO2NvbnN0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpO2lmKGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKSwhaS5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBvZmZlci5zZHAgd2hlbiB0cnlpbmcgdG8gc2VuZCBQZWVyQ29ubmVjdGlvbi5cIik7Y29uc3Qgbj10Lm1hcCgoZT0+e2NvbnN0IHQ9dGhpcy5nZXRMb2NhbFNTUkMoZS5taWQsaS5zZHApO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgc3NyYyB3aGVuIHRyeWluZyB0byBzZW5kIFBlZXJDb25uZWN0aW9uLlwiKTtyZXR1cm57bWlkOmUubWlkLGxvY2FsU1NSQzpbe3NzcmNJZDp0fV19fSkpO3JldHVybntzZHA6aS5zZHAsdHJhY2tNZXNzYWdlOm59fWNhdGNoKGUpe3Rocm93IGUgaW5zdGFuY2VvZiBWZz9lOm5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zZW5kIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBzdG9wU2VuZGluZyhlLHQpe2NvbnN0IGk9dD92b2lkIDA6YXdhaXQgdGhpcy5tdXRleC5sb2NrKFwiRnJvbSBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nXCIpO3RyeXtjb25zdCB0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKCh0PT4tMSE9PWUuaW5kZXhPZih0Lm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRyYW5zY2VpdmVycycgbGVuZ3RoIChcIi5jb25jYXQodC5sZW5ndGgsXCIpIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIChcIikuY29uY2F0KGUubGVuZ3RoLFwiKSB3aGVuIHRyeWluZyB0byBjYWxsIFAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmcuXCIpKTt0Lm1hcCgoZT0+e3ZhciB0O2UuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIixudWxsPT09KHQ9ZS5zdG9wKXx8dm9pZCAwPT09dHx8dC5jYWxsKGUpLHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2soZS5zZW5kZXIpfSkpO2NvbnN0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpO2lmKGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKSwhbi5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBvZmZlci5zZHAgd2hlbiB0cnlpbmcgdG8gc2VuZCBQZWVyQ29ubmVjdGlvbi5cIik7cmV0dXJuIG4uc2RwfWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX1maW5hbGx5e2kmJmkoKX19YXN5bmMgcmVjZWl2ZShlLHQsaSl7dHJ5e2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO2lmKCFuLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGFuc3dlciBzZHAgd2hlbiB0cnlpbmcgdG8gcmVjZWl2ZSB0cmFjay5cIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIikuY29uY2F0KGUsXCIgYnkgZXhjaGFuZ2luZyBTRFAuXCIpKTtjb25zdCByPXRoaXMuZ2V0UmVtb3RlTWlkKGksdCk7aWYodm9pZCAwPT09cil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRyYW5zY2VpdmVyIG1pZCB3aGVuIHRyeWluZyB0byByZWNlaXZlIHRyYWNrLlwiKTtjb25zdCBzPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZT0+ZS5taWQ9PT1yKSk7aWYoIXN8fG51bGw9PT1zLm1pZCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRyYW5zY2VpdmVyIGFmdGVyIHNldExvY2FsRGVzY3JpcHRpb24uXCIpO3JldHVybnt0cmFjazpzLnJlY2VpdmVyLnRyYWNrLG1pZDpzLm1pZCxzZHA6bi5zZHB9fWNhdGNoKGUpe3Rocm93IG5ldyBWZyh4Zy5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5yZWNlaXZlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBzZXREZXNjcmlwdGlvbihlLHQpe3RyeXtpZihcInJlbW90ZVwiPT09ZSl7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnR9KTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7aWYoIWkuc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgYW5zd2VyIHNkcCB3aGVuIHRyeWluZyB0byByZWNlaXZlIHRyYWNrLlwiKTtyZXR1cm4gYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ29ubmVjdGlvbl0gZXhjaGFuZ2luZyBTRFAsIHR5cGUgaXMgXCIpLmNvbmNhdChlKSksaS5zZHB9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDp0fSl9Y2F0Y2goZSl7dGhyb3cgbmV3IFZnKHhnLkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnNldERlc2NyaXB0aW9uIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBzdG9wUmVjZWl2aW5nKGUsdCl7dHJ5e2NvbnN0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoKHQ9Pi0xIT09ZS5pbmRleE9mKHQubWlkKSkpO2lmKGkubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiB0cnlpbmcgdG8gY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nLlwiKTtpLm1hcCgoZT0+e3ZhciB0O2UuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIixudWxsPT09KHQ9ZS5zdG9wKXx8dm9pZCAwPT09dHx8dC5jYWxsKGUpfSkpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO2lmKGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKSwhbi5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBhbnN3ZXIgc2RwIHdoZW4gdHJ5aW5nIHRvIHJlY2VpdmUgdHJhY2suXCIpO3JldHVybiBuLnNkcH1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24gc3RvcFJlY2VpdmluZyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgcmVzdGFydElDRSgpe3RyeXtjb25zdCBlPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoe2ljZVJlc3RhcnQ6ITB9KTtpZighZS5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc3RhcnRJQ0UgYmVjYXVzZSByZXN0YXJ0IG9mZmVyIFNEUCBkb2VzIG5vdCBleGlzdC5cIik7cmV0dXJuIHRoaXMuc3RvcmUuZGVzY3JpcHRpb25TdGFydCgpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihlKSxlLnNkcH1jYXRjaChlKXt0aHJvdyBuZXcgVmcoeGcuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24gc3RvcFJlY2VpdmluZyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19Y2xvc2UoKXt2YXIgZTt0aGlzLnBlZXJDb25uZWN0aW9uLmNsb3NlKCksbnVsbD09PShlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyxcImNsb3NlZFwiKSx0aGlzLnRyeVVuYmluZFRyYW5zcG9ydEV2ZW50cygpLHRoaXMudW5iaW5kUENFdmVudHMoKSx0aGlzLnVuYmluZFN0YXRzRXZlbnRzKCksdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLmRlc3Ryb3koKX1nZXRTdGF0cygpe3JldHVybiB0aGlzLnN0YXRzRmlsdGVyLmdldFN0YXRzKCl9Z2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpe3JldHVybiB0aGlzLnN0YXRzRmlsdGVyLmdldFZpZGVvSXNSZWFkeShlKX1hc3luYyB1cGRhdGVFbmNvZGVyQ29uZmlnKGUsdCl7fWFzeW5jIHVwZGF0ZVNlbmRQYXJhbWV0ZXJzKGUsdCl7Y29uc3QgaT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbHRlcigodD0+dC5taWQ9PT1lKSk7MT09PWkubGVuZ3RoJiYodGhpcy5pc1ZQOFNpbXVsY2FzdCh0KT9SZygpfHxhd2FpdCB0aGlzLmFwcGx5U2ltdWxjYXN0RW5jb2RpbmdzKGksW3RdKTphd2FpdCB0aGlzLmFwcGx5U2VuZEVuY29kaW5ncyhpLFt0XSkpfXNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KGUsdCl7dGhpcy5zdGF0c0ZpbHRlci5zZXRWaWRlb0lzUmVhZHkyKGUsdCl9YXN5bmMgcmVwbGFjZVRyYWNrKGUsdCl7Y29uc3QgaT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGU9PmUubWlkPT09dCkpO2kmJmF3YWl0IGkuc2VuZGVyLnJlcGxhY2VUcmFjayhlLl9tZWRpYVN0cmVhbVRyYWNrKX1hc3luYyBnZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKXtjb25zdCBlPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0UmVjZWl2ZXJzKCk7aWYoZS5sZW5ndGg+MCYmZVswXS50cmFuc3BvcnQmJmVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydCYmZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0LmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpciYmZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0LmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpKXtjb25zdCB0PWVbMF0udHJhbnNwb3J0LmljZVRyYW5zcG9ydCx7bG9jYWw6aSxyZW1vdGU6bn09dC5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKTtyZXR1cm57bG9jYWw6Q00oQ00oe30sdUwpLHt9LHtjYW5kaWRhdGVUeXBlOmkudHlwZSxwcm90b2NvbDppLnByb3RvY29sLGFkZHJlc3M6aS5hZGRyZXNzLHBvcnQ6aS5wb3J0fSkscmVtb3RlOkNNKENNKHt9LHVMKSx7fSx7Y2FuZGlkYXRlVHlwZTpuLnR5cGUscHJvdG9jb2w6bi5wcm90b2NvbCxhZGRyZXNzOm4uYWRkcmVzcyxwb3J0Om4ucG9ydH0pfX1yZXR1cm4gdGhpcy5zdGF0c0ZpbHRlci5nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKX1iaW5kUENFdmVudHMoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7bnVsbD09PShlPXRoaXMub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyx0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSl9LHRoaXMucGVlckNvbm5lY3Rpb24ub25jb25uZWN0aW9uc3RhdGVjaGFuZ2U9KCk9Pnt2YXIgZTtudWxsPT09KGU9dGhpcy5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlKX0sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1lPT57dmFyIHQ7ZS5jYW5kaWRhdGUmJihudWxsPT09KHQ9dGhpcy5vbkxvY2FsQ2FuZGlkYXRlKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZS5jYW5kaWRhdGUpKTtlLmNhbmRpZGF0ZT90aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQrPTE6KHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZD0hMCxXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCkpfSxzZXRUaW1lb3V0KCgoKT0+e3RoaXMuYWxsQ2FuZGlkYXRlc1JlY2VpdmVkfHwodGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWQ9ITAsV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwYy1cIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIG9uaWNlY2FuZGlkYXRlIHRpbWVvdXQsIGxvY2FsIGNhbmRpZGF0ZSBjb3VudFwiKSx0aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQpKX0pLGtDKFwiQ0FORElEQVRFX1RJTUVPVVRcIikpfXVuYmluZFBDRXZlbnRzKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25jb25uZWN0aW9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlZXJyb3I9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbnRyYWNrPW51bGx9c3RhdGljIHJlc29sdmVQQ0NvbmZpZ3VyYXRpb24oZSl7Y29uc3QgdD17aWNlU2VydmVyczpbXX07cmV0dXJuIGUuaWNlU2VydmVycz90LmljZVNlcnZlcnM9ZS5pY2VTZXJ2ZXJzOmUudHVyblNlcnZlciYmXCJvZmZcIiE9PWUudHVyblNlcnZlci5tb2RlJiYoX1MoZS50dXJuU2VydmVyLnNlcnZlcnMpP3QuaWNlU2VydmVycz1lLnR1cm5TZXJ2ZXIuc2VydmVyczoodC5pY2VTZXJ2ZXJzJiZ0LmljZVNlcnZlcnMucHVzaCguLi52TS50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUudHVyblNlcnZlci5zZXJ2ZXJzKSksa0MoXCJVU0VfVFVSTl9TRVJWRVJfT0ZfR0FURVdBWVwiKSYmdC5pY2VTZXJ2ZXJzJiZlLnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5JiZ0LmljZVNlcnZlcnMucHVzaCguLi52TS50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkpKSxrQyhcIkZPUkNFX1RVUk5fVENQXCIpP3QuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIjplLnR1cm5TZXJ2ZXIuc2VydmVycy5jb25jYXQoZS50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheXx8W10pLmZvckVhY2goKGU9PntlLmZvcmNldHVybiYmKHQuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIil9KSkpKSxrQyhcIkVOQUJMRV9FTkNPREVEX1RSQU5TRk9STVwiKSYmaEEoKS5zdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybSYmKHQuZW5jb2RlZEluc2VydGFibGVTdHJlYW1zPSEwKSx0fXN0YXRpYyB0dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUpe2NvbnN0IHQ9W107cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2UudGNwcG9ydCYmKHQucHVzaCh7dXNlcm5hbWU6ZS51c2VybmFtZSxjcmVkZW50aWFsOmUucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuczpcIi5jb25jYXQoaEQoZS50dXJuU2VydmVyVVJMKSxcIjpcIikuY29uY2F0KGUudGNwcG9ydCxcIj90cmFuc3BvcnQ9dGNwXCIpfSksdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGUudGNwcG9ydCxcIj90cmFuc3BvcnQ9dWRwXCIpfSksdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInN0dW46XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGUudGNwcG9ydCl9KSl9KSksdH10cnlCaW5kVHJhbnNwb3J0RXZlbnRzKGUpe2NvbnN0IHQ9ZS50cmFuc3BvcnQ7aWYodCl7dGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyPWUsdC5vbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7bnVsbCE9dCYmdC5zdGF0ZSYmKG51bGw9PT0oZT10aGlzLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdC5zdGF0ZSkpfSx0Lm9uZXJyb3I9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRFRMU1RyYW5zcG9ydEVycm9yKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsXCJlcnJvclwiaW4gZT9lLmVycm9yOmUpfTtjb25zdCBpPXQuaWNlVHJhbnNwb3J0O2kmJihpLm9uc3RhdGVjaGFuZ2U9KCk9Pntjb25zdCBlPW51bGw9PXQ/dm9pZCAwOnQuaWNlVHJhbnNwb3J0LnN0YXRlO3ZhciBpO2UmJihudWxsPT09KGk9dGhpcy5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsZSkpfSxpLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpciYmKGkub25zZWxlY3RlZGNhbmRpZGF0ZXBhaXJjaGFuZ2U9KCk9PntpZihpLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpKXtjb25zdHtsb2NhbDplLHJlbW90ZTp0fT1pLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpO1dDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwYy1cIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIHNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZTogbG9jYWwgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh7Y2FuZGlkYXRlVHlwZTplLnR5cGUscHJvdG9jb2w6ZS5wcm90b2NvbH0pLFwiLCByZW1vdGUgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh7Y2FuZGlkYXRlVHlwZTp0LnR5cGUscHJvdG9jb2w6dC5wcm90b2NvbCxhZGRyZXNzOnQuYWRkcmVzcyxwb3J0OnQucG9ydH0pLFwiIClcIikpfX0pKX19dHJ5VW5iaW5kVHJhbnNwb3J0RXZlbnRzKCl7dGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyJiZ0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0JiYodGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5vbnN0YXRlY2hhbmdlPW51bGwsdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5vbmVycm9yPW51bGwsdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQmJih0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0LmljZVRyYW5zcG9ydC5vbnN0YXRlY2hhbmdlPW51bGwpKX1hc3luYyB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MoZSx0KXt2YXIgaTtpZighdCl7dD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maW5kKCh0PT50LnRyYWNrPT09ZS5fbWVkaWFTdHJlYW1UcmFjaykpfWlmKCF0KXJldHVybiBXQy53YXJuKFwiW1wiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gbm8gcnRwU2VuZGVyIGZvdW5kfVwiKSk7aWYodGhpcy5pc1ZQOFNpbXVsY2FzdChlKSlyZXR1cm4gV0Mud2FybihcIlt1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3NdIFRyYWNrIGlzIFZQOCBzaW11bGNhc3QsIHBsZWFzZSBhcHBseSBzaW11bGNhc3QgZW5jb2RpbmdzXCIpO2lmKCFoQSgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybiBXQy53YXJuKFwiW3VwZGF0ZVJ0cFNlbmRlckVuY29kaW5nc10gQnJvd3NlciBub3Qgc3VwcG9ydCBzZXQgcnRwLXNlbmRlciBwYXJhbWV0ZXJzXCIpO2NvbnN0IG49e30scj17fTtzd2l0Y2goZS5fb3B0aW1pemF0aW9uTW9kZSl7Y2FzZVwibW90aW9uXCI6bi5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1mcmFtZXJhdGVcIjticmVhaztjYXNlXCJkZXRhaWxcIjpuLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cIm1haW50YWluLXJlc29sdXRpb25cIjticmVhaztkZWZhdWx0Om4uZGVncmFkYXRpb25QcmVmZXJlbmNlPVwiYmFsYW5jZWRcIn1pZihlLl9lbmNvZGVyQ29uZmlnKXt2YXIgcztjb25zdHtiaXRyYXRlTWF4OnQsZnJhbWVSYXRlOmksc2NhbGVSZXNvbHV0aW9uRG93bkJ5Om59PWUuX2VuY29kZXJDb25maWc7dCYmKHIubWF4Qml0cmF0ZT0xZTMqdCksUHIocz1lLl9oaW50cykuY2FsbChzLER5LkxPV19TVFJFQU0pJiYoaSYmKHIubWF4RnJhbWVyYXRlPXBEKGkpKSxuJiZuPj0xJiYoci5zY2FsZVJlc29sdXRpb25Eb3duQnk9bikpfWlmKGtDKFwiRFNDUF9UWVBFXCIpJiZrZygpKXt2YXIgbztjb25zdCBlPWtDKFwiRFNDUF9UWVBFXCIpO1ByKG89W1widmVyeS1sb3dcIixcImxvd1wiLFwibWVkaXVtXCIsXCJoaWdoXCJdKS5jYWxsKG8sZSkmJihyLm5ldHdvcmtQcmlvcml0eT1lKX1jb25zdCBhPXQuZ2V0UGFyYW1ldGVycygpLGM9bnVsbD09PShpPWEuZW5jb2RpbmdzKXx8dm9pZCAwPT09aT92b2lkIDA6aVswXTtSZygpJiYhYyYmKG4uZW5jb2RpbmdzPVtyXSksYyYmT2JqZWN0LmFzc2lnbihjLHIpLE9iamVjdC5hc3NpZ24oYSxuKSxXQy5kZWJ1ZyhcIltcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5nczogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShhLmVuY29kaW5ncykpKSxhd2FpdCB0LnNldFBhcmFtZXRlcnMoYSl9YXN5bmMgYXBwbHlTZW5kRW5jb2RpbmdzKGUsdCl7dHJ5e2lmKCFoQSgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybjtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybjtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbj1lW2ldLHI9dFtpXTtyIGluc3RhbmNlb2YgZmImJiF0aGlzLmlzVlA4U2ltdWxjYXN0KHIpJiZhd2FpdCB0aGlzLnVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhyLG4uc2VuZGVyKX19Y2F0Y2goZSl7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIEFwcGx5IFJUUFNlbmRFbmNvZGluZ3MgZmFpbGVkLlwiKSl9fW11bmdTZW5kT2ZmZXJTRFAoZSx0LGkpe2NvbnN0IG49R1AucGFyc2UoZSk7cmV0dXJuIHQuZm9yRWFjaCgoKGUsdCk9Pntjb25zdCByPWlbdF0scz1uLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKGU9PmUuYXR0cmlidXRlcy5taWQ9PT1yKSk7cyYmKFhQKHMsZSksdEwocyxlLHRoaXMuc3RvcmUuY29kZWMpKX0pKSxHUC5wcmludChuKX1iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0QXVkaW9SZWNlaXZlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0VmlkZW9SZWNlaXZlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RBdWRpb0RlY29kZWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkPShlLHQsaSk9Pnt2YXIgbjtudWxsPT09KG49dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkKXx8dm9pZCAwPT09bnx8bi5jYWxsKHRoaXMsZSx0LGkpfSx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9Pnt2YXIgaTtudWxsPT09KGk9dGhpcy5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsZSx0KX0sdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO251bGw9PT0oaT10aGlzLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsZSx0KX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX19dW5iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PXZvaWQgMH1hc3luYyBhcHBseVNpbXVsY2FzdEZvckZpcmVmb3goZSx0KXtpZihlLmxlbmd0aD09PXQubGVuZ3RoKWZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgaSxuLHIscyxvO2NvbnN0IGM9ZVthXSxkPXRbYV07aWYoZCBpbnN0YW5jZW9mIGZiJiYhUHIoaT1kLl9oaW50cykuY2FsbChpLER5LkxPV19TVFJFQU0pJiZudWxsIT09KG49ZC5fZW5jb2RlckNvbmZpZykmJnZvaWQgMCE9PW4mJm4uYml0cmF0ZU1heCYmKG51bGw9PT0ocj1kLl9lbmNvZGVyQ29uZmlnKXx8dm9pZCAwPT09cj92b2lkIDA6ci5iaXRyYXRlTWF4KT4yMDAmJm51bGwhPT0ocz1kLl9zY2FsYWJpbGl0eU1vZGUpJiZ2b2lkIDAhPT1zJiZzLm51bVNwYXRpYWxMYXllcnMmJihudWxsPT09KG89ZC5fc2NhbGFiaWxpdHlNb2RlKXx8dm9pZCAwPT09bz92b2lkIDA6by5udW1TcGF0aWFsTGF5ZXJzKT4xJiZcInZwOFwiPT09dGhpcy5zdG9yZS5jb2RlYyl7Y29uc3QgZT17fSx0PXtoaWdoOjFlMyooZC5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LTUwKSxtZWRpdW06NWU0fTtlLmVuY29kaW5ncz1be3JpZDpcIm1cIixhY3RpdmU6ITAsbWF4Qml0cmF0ZTp0Lm1lZGl1bSxzY2FsZVJlc29sdXRpb25Eb3duQnk6NH0se3JpZDpcImhcIixhY3RpdmU6ITAsbWF4Qml0cmF0ZTp0LmhpZ2h9XTtjb25zdCBpPWMuc2VuZGVyLmdldFBhcmFtZXRlcnMoKTthd2FpdCBjLnNlbmRlci5zZXRQYXJhbWV0ZXJzKE9iamVjdC5hc3NpZ24oaSxlKSl9fX1hc3luYyBhcHBseVNpbXVsY2FzdEVuY29kaW5ncyhlLHQpe2lmKCFSZygpJiZlLmxlbmd0aD09PXQubGVuZ3RoKWZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBuPXRbaV07aWYobiBpbnN0YW5jZW9mIGZiJiZ0aGlzLmlzVlA4U2ltdWxjYXN0KG4pKXtjb25zdCB0PWVbaV0scj17fSxzPXtoaWdoOjFlMyoobi5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LTUwKSxtZWRpdW06NWU0fTtyLmVuY29kaW5ncz1be2FjdGl2ZTohMCxhZGFwdGl2ZVB0aW1lOiExLG5ldHdvcmtQcmlvcml0eTpcImhpZ2hcIixwcmlvcml0eTpcImhpZ2hcIixtYXhCaXRyYXRlOnMuaGlnaH0se2FjdGl2ZTohMCxhZGFwdGl2ZVB0aW1lOiExLG5ldHdvcmtQcmlvcml0eTpcImxvd1wiLHByaW9yaXR5OlwibG93XCIsbWF4Qml0cmF0ZTpzLm1lZGl1bSxzY2FsZVJlc29sdXRpb25Eb3duQnk6NH1dO2NvbnN0IG89dC5zZW5kZXIuZ2V0UGFyYW1ldGVycygpO2F3YWl0IHQuc2VuZGVyLnNldFBhcmFtZXRlcnMoT2JqZWN0LmFzc2lnbihvLHIpKX19fWlzVlA4U2ltdWxjYXN0KGUpe3ZhciB0LGksbixyLHM7cmV0dXJuISEoZSBpbnN0YW5jZW9mIGZiJiZrQyhcIlNJTVVMQ0FTVFwiKSYmXCJ2cDhcIj09PXRoaXMuc3RvcmUuY29kZWMmJiFQcih0PWUuX2hpbnRzKS5jYWxsKHQsRHkuTE9XX1NUUkVBTSkmJm51bGwhPT0oaT1lLl9lbmNvZGVyQ29uZmlnKSYmdm9pZCAwIT09aSYmaS5iaXRyYXRlTWF4JiYobnVsbD09PShuPWUuX2VuY29kZXJDb25maWcpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmJpdHJhdGVNYXgpPjIwMCYmbnVsbCE9PShyPWUuX3NjYWxhYmlsaXR5TW9kZSkmJnZvaWQgMCE9PXImJnIubnVtU3BhdGlhbExheWVycyYmKG51bGw9PT0ocz1lLl9zY2FsYWJpbGl0eU1vZGUpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLm51bVNwYXRpYWxMYXllcnMpPjEpfWxvZ1NEUEV4Y2hhbmdlKGUsdCxpLG4pe2lmKGtDKFwiU0RQX0xPR0dJTkdcIikpcmV0dXJuIFdDLnVwbG9hZChcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gZXhjaGFuZ2luZyBcIikuY29uY2F0KGksXCIgXCIpLmNvbmNhdCh0LFwiIFNEUCBkdXJpbmcgUDJQQ29ubmVjdGlvbi5cIikuY29uY2F0KG4sXCJcXG5cIiksZSksXCJvZmZlclwiPT09dD9lPT57dGhpcy5sb2dTRFBFeGNoYW5nZShlLFwiYW5zd2VyXCIsXCJsb2NhbFwiPT09aT9cInJlbW90ZVwiOlwibG9jYWxcIixuKX06dm9pZCAwfWdldExvY2FsU1NSQyhlLHQpe3ZhciBpLG47aWYodD1udWxsIT09KGk9dCkmJnZvaWQgMCE9PWk/aTpudWxsPT09KG49dGhpcy5jdXJyZW50TG9jYWxEZXNjcmlwdGlvbil8fHZvaWQgMD09PW4/dm9pZCAwOm4uc2RwKXt2YXIgcjtjb25zdCBpPW51bGw9PT0ocj1HUC5wYXJzZSh0KS5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT50LmF0dHJpYnV0ZXMubWlkPT09ZSkpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5hdHRyaWJ1dGVzLnNzcmNzO3JldHVybiBudWxsPT1pP3ZvaWQgMDppWzBdLnNzcmNJZH19Z2V0UmVtb3RlTWlkKGUsdCl7dmFyIGksbjtpZih0PW51bGwhPT0oaT10KSYmdm9pZCAwIT09aT9pOm51bGw9PT0obj10aGlzLmN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbil8fHZvaWQgMD09PW4/dm9pZCAwOm4uc2RwKXt2YXIgcjtyZXR1cm4gbnVsbD09PShyPUdQLnBhcnNlKHQpLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5zc3Jjcy5zb21lKCh0PT50LnNzcmNJZD09PWUpKSkpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5hdHRyaWJ1dGVzLm1pZH19YXN5bmMgZ2V0UmVtb3RlU1NSQyhlLHQpe3ZhciBpLG47aWYodD1udWxsIT09KGk9dCkmJnZvaWQgMCE9PWk/aTpudWxsPT09KG49dGhpcy5jdXJyZW50UmVtb3RlRGVzY3JpcHRpb24pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnNkcCl7dmFyIHI7Y29uc3QgaT1udWxsPT09KHI9R1AucGFyc2UodCkubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuYXR0cmlidXRlcy5zc3JjcztyZXR1cm4gbnVsbD09aT92b2lkIDA6aVswXS5zc3JjSWR9fX1mdW5jdGlvbiBJTShlLHQsaSl7Y29uc3Qgbj1lW3RdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBtdXRleCBvbiBvYmplY3QgcHJvcGVydHkuXCIpO3JldHVybiBpLnZhbHVlPWFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLm11dGV4LGk9YXdhaXQgZS5sb2NrKFwiRnJvbSBQMlBDb25uZWN0aW9uLlwiLmNvbmNhdCh0KSk7dHJ5e2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLHM9bmV3IEFycmF5KHIpLG89MDtvPHI7bysrKXNbb109YXJndW1lbnRzW29dO3JldHVybiBhd2FpdCBuLmFwcGx5KHRoaXMscyl9ZmluYWxseXtpKCl9fSxpfXZhciB5TTtmdW5jdGlvbiBBTShlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gYk0oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/QU0oT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtudShlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6QU0oT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9THYoW0lNLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmddKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx2TS5wcm90b3R5cGUsXCJlc3RhYmxpc2hcIixudWxsKSxMdihbSU0sa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHZNLnByb3RvdHlwZSxcImNvbm5lY3RcIixudWxsKSxMdihbSU0sa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1JUQ0ljZUNhbmRpZGF0ZV0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHZNLnByb3RvdHlwZSxcImFkZFJlbW90ZUNhbmRpZGF0ZVwiLG51bGwpLEx2KFtJTSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx2TS5wcm90b3R5cGUsXCJzZW5kXCIsbnVsbCksTHYoW0lNLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmcsU3RyaW5nLE51bWJlcl0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHZNLnByb3RvdHlwZSxcInJlY2VpdmVcIixudWxsKSxMdihbSU0sa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxTdHJpbmddKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx2TS5wcm90b3R5cGUsXCJzZXREZXNjcmlwdGlvblwiLG51bGwpLEx2KFtJTSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbQXJyYXksU3RyaW5nXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sdk0ucHJvdG90eXBlLFwic3RvcFJlY2VpdmluZ1wiLG51bGwpLEx2KFtJTSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sdk0ucHJvdG90eXBlLFwicmVzdGFydElDRVwiLG51bGwpLEx2KFtJTSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLHZNLnByb3RvdHlwZSxcImNsb3NlXCIsbnVsbCksTHYoW0lNLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmcsJHldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx2TS5wcm90b3R5cGUsXCJ1cGRhdGVFbmNvZGVyQ29uZmlnXCIsbnVsbCksTHYoW0lNLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmcsJHldKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx2TS5wcm90b3R5cGUsXCJ1cGRhdGVTZW5kUGFyYW1ldGVyc1wiLG51bGwpLEx2KFtJTSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbJHksU3RyaW5nXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sdk0ucHJvdG90eXBlLFwicmVwbGFjZVRyYWNrXCIsbnVsbCksZnVuY3Rpb24oZSl7ZS5TRU5EX09OTFk9XCJTRU5EX09OTFlcIixlLlJFQ0VJVkVfT05MWT1cIlJFQ0VJVkVfT05MWVwifSh5TXx8KHlNPXt9KSk7Y2xhc3Mgd00gZXh0ZW5kcyBpU3tnZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9c2V0IHN0YXRlKGUpe2NvbnN0IHQ9dGhpcy5fc3RhdGU7dGhpcy5fc3RhdGU9ZSx0aGlzLmVtaXQoX0kuU3RhdGVDaGFuZ2UsdCx0aGlzLl9zdGF0ZSl9Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLG51KHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksbnUodGhpcyxcInN0YXRzVXBsb2FkZXJcIix2b2lkIDApLG51KHRoaXMsXCJzZW5kQ29ubmVjdGlvblwiLHZvaWQgMCksbnUodGhpcyxcInJlY3ZDb25uZWN0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwibG9jYWxUcmFja01hcFwiLG5ldyBNYXApLG51KHRoaXMsXCJyZW1vdGVVc2VyTWFwXCIsbmV3IE1hcCksbnUodGhpcyxcImxvY2FsRGF0YUNoYW5uZWxzXCIsW10pLG51KHRoaXMsXCJwZW5kaW5nTG9jYWxUcmFja3NcIixbXSksbnUodGhpcyxcInBlbmRpbmdSZW1vdGVUcmFja3NcIixbXSksbnUodGhpcyxcInN0YXRzQ29sbGVjdG9yXCIsdm9pZCAwKSxudSh0aGlzLFwiZHRsc0ZhaWxlZENvdW50XCIsMCksbnUodGhpcyxcInNlbmRNdXRleFwiLG5ldyBZUyhcIlAyUENoYW5uZWwyLXNlbmQtbXV0ZXhcIikpLG51KHRoaXMsXCJyZWN2TXV0ZXhcIixuZXcgWVMoXCJQMlBDaGFubmVsMi1yZWN2LW11dGV4XCIpKSxudSh0aGlzLFwiX3N0YXRlXCIscEkuRGlzY29ubmVjdGVkKSxudSh0aGlzLFwiX3Jlc3RhcnRTdGF0ZXNcIixbXCJkaXNjb25uZWN0ZWRcIixcImZhaWxlZFwiXSksbnUodGhpcyxcIl9yZXN0YXJ0VGltZXJcIix2b2lkIDApLG51KHRoaXMsXCJoYW5kbGVNdXRlTG9jYWxUcmFja1wiLChhc3luYyhlLHQsaSk9Pntjb25zdCBuPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ2hhbm5lbDIuaGFuZGxlTXV0ZUxvY2FsVHJhY2tcIik7dHJ5e2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09cEkuQ29ubmVjdGVkKXJldHVybiB2b2lkIGkobmV3IFZnKHhnLklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IGNhbGwgUDJQQ2hhbm5lbDIuaGFuZGxlTXV0ZUxvY2FsVHJhY2sgYmVmb3JlIHNlbmRDb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKSk7Y29uc3Qgbz10aGlzLmZpbHRlclRvYmVNdXRlZFRyYWNrcyhlKTtpZigwPT09by5sZW5ndGgpcmV0dXJuIHZvaWQgdCgpO2NvbnN0IGE9by5maW5kKChlPT5cInZpZGVvTG93VHJhY2tcIj09PWVbMF0pKTtpZihhKXthWzFdLnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKX1sZXQgYz0hMTt2YXIgcixzO2lmKFwidmlkZW9cIj09PWUudHJhY2tNZWRpYVR5cGUpYz0hKG51bGw9PT0ocj10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsQXVkaW9UcmFjaykpfHx2b2lkIDA9PT1yfHwhci50cmFjay5fbXV0ZWQpO2Vsc2UgYz12b2lkIDA9PT0obnVsbD09PShzPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxWaWRlb1RyYWNrKSl8fHZvaWQgMD09PXM/dm9pZCAwOnMuaWQpO2NvbnN0IGQ9by5maWx0ZXIoKGU9PntsZXRbdCxpXT1lO3JldHVybih0IT09dUkuTG9jYWxBdWRpb1RyYWNrfHxjKSYmdm9pZCAwIT09aS5pZH0pKS5tYXAoKGU9PntsZXRbLHRdPWU7cmV0dXJuIHR9KSk7bGV0IGw7ZC5sZW5ndGg+MCYmKGw9YXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi5zdG9wU2VuZGluZyhkLm1hcCgoZT0+ZS5pZCkpKSxkLmZvckVhY2goKGU9PntlLmlkPXZvaWQgMCxlLnNzcmNzPXZvaWQgMH0pKSk7Y29uc3QgaD10aGlzLmNyZWF0ZU11dGVNZXNzYWdlKG8pLHU9XCJ2aWRlb1wiPT09ZS50cmFja01lZGlhVHlwZT9iSS5NVVRFX0xPQ0FMX1ZJREVPOmJJLk1VVEVfTE9DQUxfQVVESU8scD1hd2FpdCBmUyh0aGlzLF9JLlJlcXVlc3RQMlBNdXRlTG9jYWwse2FjdGlvbjp1LHNkcDpsLG1lc3NhZ2U6aCxpc011dGVBbGw6Y30pO3AmJmF3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24uc2V0RGVzY3JpcHRpb24oXCJsb2NhbFwiLHApLChsfHxcImF1ZGlvXCI9PT1lLnRyYWNrTWVkaWFUeXBlKSYmYXdhaXQgZ1ModGhpcyxfSS5SZXF1ZXN0TXV0ZUxvY2FsLGgpLHQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7bigpfX0pKSxudSh0aGlzLFwiaGFuZGxlVW5tdXRlTG9jYWxUcmFja1wiLChhc3luYyhlLHQsaSk9Pntjb25zdCBuPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ2hhbm5lbDIuaGFuZGxlVW5tdXRlTG9jYWxUcmFja1wiKTt0cnl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1wSS5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgaShuZXcgVmcoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3QgY2FsbCBQMlBDaGFubmVsMi5oYW5kbGVVbm11dGVMb2NhbFRyYWNrIGJlZm9yZSBzZW5kQ29ubmVjdGlvbiBlc3RhYmxpc2hlZC5cIikpO2NvbnN0IHI9dGhpcy5maWx0ZXJUb2JlVW5tdXRlZFRyYWNrcyhlKTtpZigwPT09ci5sZW5ndGgpcmV0dXJuIHZvaWQgdCgpO2NvbnN0IHM9dGhpcy5jcmVhdGVVbm11dGVNZXNzYWdlKHIpLG89XCJ2aWRlb1wiPT09ZS50cmFja01lZGlhVHlwZT9iSS5VTk1VVEVfTE9DQUxfVklERU86YkkuVU5NVVRFX0xPQ0FMX0FVRElPO2F3YWl0IGdTKHRoaXMsX0kuUmVxdWVzdFAyUE11dGVMb2NhbCx7YWN0aW9uOm8sbWVzc2FnZTpzfSksdCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXtuKCl9fSkpLG51KHRoaXMsXCJoYW5kbGVVcGRhdGVWaWRlb0VuY29kZXJcIiwoYXN5bmMoZSx0LGkpPT57Y29uc3Qgbj1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwyLmhhbmRsZVNldFZpZGVvRW5jb2RlclwiKTt0cnl7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsVmlkZW9UcmFjayk7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb258fCFpfHxpLnRyYWNrIT09ZXx8dGhpcy5zdGF0ZSE9PXBJLkNvbm5lY3RlZClyZXR1cm4gdm9pZCB0KCk7Y29uc3R7aWQ6cix0cmFjazpzfT1pO3ImJihhd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnVwZGF0ZVNlbmRQYXJhbWV0ZXJzKHIscyksYXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi51cGRhdGVFbmNvZGVyQ29uZmlnKHIscyksdGhpcy5lbWl0KF9JLlVwZGF0ZVZpZGVvRW5jb2RlcixzKSksdCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXtuKCl9fSkpLG51KHRoaXMsXCJoYW5kbGVTZXRPcHRpbWl6YXRpb25Nb2RlXCIsKGFzeW5jKGUsdCxpKT0+e2NvbnN0IG49YXdhaXQgdGhpcy5zZW5kTXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsMi5oYW5kbGVTZXRPcHRpbWl6YXRpb25Nb2RlXCIpO3RyeXtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxWaWRlb1RyYWNrKTtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8IWl8fGkudHJhY2shPT1lfHx0aGlzLnN0YXRlIT09cEkuQ29ubmVjdGVkKXJldHVybjtjb25zdHtpZDpyLHRyYWNrOnN9PWk7ciYmYXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi51cGRhdGVTZW5kUGFyYW1ldGVycyhyLHMpLHQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7bigpfX0pKSxudSh0aGlzLFwiaGFuZGxlUmVwbGFjZVRyYWNrXCIsKGFzeW5jKGUsdCxpLG4pPT57bGV0IHI7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyIGhhbmRsZVJlcGxhY2VUcmFjayBmb3IgW3RyYWNrLWlkLVwiKS5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdXCIpKSxcImJvb2xlYW5cIj09dHlwZW9mIG4mJm58fChyPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwyLmhhbmRsZVJlcGxhY2VUcmFja1wiKSk7dHJ5e3ZhciBzO2NvbnN0IGk9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKCh0PT57bGV0Wyx7dHJhY2s6aX1dPXQ7cmV0dXJuIGU9PT1pfSkpO2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHwhaXx8dm9pZCAwPT09aVsxXS5pZHx8dGhpcy5zdGF0ZSE9PXBJLkNvbm5lY3RlZClyZXR1cm4gdm9pZCB0KCk7aWYoYXdhaXQobnVsbD09PShzPXRoaXMuc2VuZENvbm5lY3Rpb24pfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnJlcGxhY2VUcmFjayhlLGlbMV0uaWQpKSxpWzBdPT09dUkuTG9jYWxWaWRlb1RyYWNrJiZoQSgpLnN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmcpe2NvbnN0IHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbFZpZGVvTG93VHJhY2spO2lmKHQpe2NvbnN0IGk9ZS5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpO3QudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLHQudHJhY2suX21lZGlhU3RyZWFtVHJhY2s9aSx0LnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWksYXdhaXQgbmV3IHRnKCgoZSxpKT0+e3RoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKHQudHJhY2ssZSxpLCEwKX0pKX19dCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXt2YXIgbztudWxsPT09KG89cil8fHZvaWQgMD09PW98fG8oKX19KSksbnUodGhpcyxcImhhbmRsZUdldExvY2FsVmlkZW9TdGF0c1wiLChlPT57ZSh0aGlzLnN0YXRzQ29sbGVjdG9yLmdldExvY2FsVmlkZW9UcmFja1N0YXRzKCkpfSkpLG51KHRoaXMsXCJoYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHNcIiwoZT0+e2UodGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbEF1ZGlvVHJhY2tTdGF0cygpKX0pKSxudSh0aGlzLFwiaGFuZGxlR2V0UmVtb3RlVmlkZW9TdGF0c1wiLChlPT50aGlzLnN0YXRzQ29sbGVjdG9yLmdldFJlbW90ZVZpZGVvVHJhY2tTdGF0cyhlLnVpZClbZS51aWRdKSksbnUodGhpcyxcImhhbmRsZUdldFJlbW90ZUF1ZGlvU3RhdHNcIiwoZT0+dGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRSZW1vdGVBdWRpb1RyYWNrU3RhdHMoZS51aWQpW2UudWlkXSkpLHRoaXMuc3RvcmU9ZSx0aGlzLnN0YXRzQ29sbGVjdG9yPXQsdGhpcy5zdGF0c0NvbGxlY3Rvci5hZGRQMlBDaGFubmVsKHRoaXMpLHRoaXMuc3RhdHNVcGxvYWRlcj1uZXcgc2ssdGhpcy5iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpfWFzeW5jIHN0YXJ0UDJQQ29ubmVjdGlvbihlLHQpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwicDJwIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBzdGFydFAyUENvbm5lY3Rpb24uXCIpfWFzeW5jIGNvbm5lY3QoZSx0LGksbixyLHMpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwicDJwIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBjb25uZWN0LlwiKX1hc3luYyBzdGFydFAyUChlLHQpe2lmKHRoaXMuc3RhdGU9cEkuTmV3LHRoaXMuc2VuZENvbm5lY3Rpb24mJihXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnN0YXJ0UDJQIHJlc2V0IFAyUENvbm5lY3Rpb24uXCIpKSx0aGlzLnNlbmRDb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuc2VuZENvbm5lY3Rpb24pKSx0aGlzLnJlY3ZDb25uZWN0aW9uJiYoV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC5zdGFydFAyUCByZXNldCBQMlBDb25uZWN0aW9uLlwiKSksdGhpcy5yZWN2Q29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnJlY3ZDb25uZWN0aW9uKSksdGhpcy5zZW5kQ29ubmVjdGlvbj1uZXcgdk0oZSx0aGlzLnN0b3JlKSx0aGlzLmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuc2VuZENvbm5lY3Rpb24pLHRoaXMucmVjdkNvbm5lY3Rpb249bmV3IHZNKGUsdGhpcy5zdG9yZSxSdi5SRUNFSVZFX09OTFkpLHRoaXMuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5yZWN2Q29ubmVjdGlvbiksdCl7dGhpcy5zdG9yZS5wZWVyQ29ubmVjdGlvblN0YXJ0KCksYXdhaXQgdGhpcy5yZWN2Q29ubmVjdGlvbi5lc3RhYmxpc2godCk7Y29uc3QgZT1hd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLmVzdGFibGlzaCh0KTtyZXR1cm4gdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkVHJhbnNwb3J0U3RhdHMoITApLHRoaXMuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZEV4dGVuc2lvblVzYWdlU3RhdHMoKSx0aGlzLnN0YXRlPXBJLkNvbm5lY3RlZCxlfXJldHVybiBhd2FpdCB0aGlzLnJlY3ZDb25uZWN0aW9uLmVzdGFibGlzaCh0KSx0aGlzLnNlbmRDb25uZWN0aW9uLmVzdGFibGlzaCh0KX1hc3luYyBwMnBDb25uZWN0KGUpe2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHwhdGhpcy5yZWN2Q29ubmVjdGlvbil0aHJvdyBuZXcgVmcoeGcuVU5FWFBFQ1RFRF9FUlJPUixcIkNhbm5vdCBQMlBDaGFubmVsMi5jb25uZWN0IGJlZm9yZSBQMlBDaGFubmVsMi5zdGFydFAyUENvbm5lY3Rpb24gLlwiKTt0aGlzLnN0b3JlLnBlZXJDb25uZWN0aW9uU3RhcnQoKSxhd2FpdCB0aGlzLnJlY3ZDb25uZWN0aW9uLmNvbm5lY3QoZSksYXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi5jb25uZWN0KGUpLHRoaXMuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZFRyYW5zcG9ydFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGF0cygpLHRoaXMuc3RhdGU9cEkuQ29ubmVjdGVkfWFzeW5jIGFkZFJlbW90ZUNhbmRpZGF0ZShlKXtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8IXRoaXMucmVjdkNvbm5lY3Rpb24pdGhyb3cgbmV3IFZnKHhnLlVORVhQRUNURURfRVJST1IsXCJDYW5ub3QgUDJQQ2hhbm5lbDIuY29ubmVjdCBiZWZvcmUgUDJQQ2hhbm5lbDIuYWRkUmVtb3RlQ2FuZGlkYXRlIC5cIik7YXdhaXQgdGhpcy5yZWN2Q29ubmVjdGlvbi5hZGRSZW1vdGVDYW5kaWRhdGUoZSksYXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi5hZGRSZW1vdGVDYW5kaWRhdGUoZSl9YXN5bmMgcHVibGlzaChlLHQsaSl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1wSS5Db25uZWN0ZWQpe3RoaXMudGhyb3dJZlRyYWNrVHlwZU5vdE1hdGNoKGUpO2NvbnN0IHQ9ZS5maWx0ZXIoKGU9Pi0xPT09dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuaW5kZXhPZihlKSkpO3JldHVybiB2b2lkKHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzPXRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLmNvbmNhdCh0KSl9dGhpcy5zdG9yZS5wdWJJZD10aGlzLnN0b3JlLnB1YklkKzEsc0QubWFya1B1Ymxpc2hTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHRoaXMuc3RvcmUucHViSWQpO2NvbnN0IG49dGhpcy5maWx0ZXJUb2JlUHVibGlzaGVkVHJhY2tzKGUsdCxpKTtpZigwPT09bi5sZW5ndGgpcmV0dXJuIHZvaWQgYXdhaXQgdGhpcy50cnlUb1VubXV0ZUF1ZGlvKGUpO24uZm9yRWFjaCgoZT0+e2xldHt0cmFjazp0LHR5cGU6aX09ZTtjb25zdCBuPURhdGUubm93KCk7dGhpcy5zdG9yZS5wdWJsaXNoKHQuZ2V0VHJhY2tJZCgpLGk9PT11SS5Mb2NhbEF1ZGlvVHJhY2s/XCJhdWRpb1wiOlwidmlkZW9cIixuKX0pKSx0aGlzLmJpbmRMb2NhbFRyYWNrRXZlbnRzKG4pO2NvbnN0IHI9dGhpcy5jcmVhdGVHYXRld2F5UHVibGlzaE1lc3NhZ2Uobik7cmV0dXJuIHRoaXMuYXNzaWduTG9jYWxUcmFja3Mobiksbi5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnQsdHlwZTppfT1lO2NvbnN0IG49RGF0ZS5ub3coKTt0aGlzLnN0b3JlLnB1Ymxpc2godC5nZXRUcmFja0lkKCksaT09PXVJLkxvY2FsQXVkaW9UcmFjaz9cImF1ZGlvXCI6XCJ2aWRlb1wiLHZvaWQgMCxuKX0pKSxyfWFzeW5jIGRvcHVibGlzaChlKXtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PXBJLkNvbm5lY3RlZClyZXR1cm47Y29uc3QgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KGUpO2lmKHQpe2NvbnN0e3NkcDppLHRyYWNrTWVzc2FnZTpufT1hd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnNlbmQoW3QudHJhY2tdKSx7bWlkOnIsbG9jYWxTU1JDOnN9PW5bMF07dC5pZD1yLHQuc3NyY3M9cyx0aGlzLnN0YXRzQ29sbGVjdG9yLmFkZExvY2FsU3RhdHMoZSksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkVXBsaW5rU3RhdHMoKTtjb25zdCBvPWF3YWl0IGZTKHRoaXMsX0kuUmVxdWVzdFAyUFB1Ymxpc2gse2tpbmQ6ZT09PXVJLkxvY2FsQXVkaW9UcmFjaz9kSS5BVURJTzpkSS5WSURFTyxzZHA6aSxzc3JjSWQ6c1swXS5zc3JjSWR9KTthd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnNldERlc2NyaXB0aW9uKFwibG9jYWxcIixvKTtjb25zdCBhPXRoaXMuY3JlYXRlVW5tdXRlTWVzc2FnZShbW2UsdF1dKTthd2FpdCBnUyh0aGlzLF9JLlJlcXVlc3RVbm11dGVMb2NhbCxhKX1lbHNlO31hc3luYyBzZXREZXNjcmlwdGlvbihlLHQpe2xldCBpLG47XCJsb2NhbFwiPT09ZT8oaT1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLnJlc3RhcnRJQ0VcIiksbj10aGlzLnNlbmRDb25uZWN0aW9uKTooaT1hd2FpdCB0aGlzLnJlY3ZNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLnJlc3RhcnRJQ0VcIiksbj10aGlzLnJlY3ZDb25uZWN0aW9uKTt0cnl7aWYoIW58fHRoaXMuc3RhdGUhPT1wSS5Db25uZWN0ZWQpcmV0dXJuO3JldHVybiBhd2FpdCBuLnNldERlc2NyaXB0aW9uKGUsdCl9ZmluYWxseXtpKCl9fXB1Ymxpc2hMb3dTdHJlYW0oZSl7cmV0dXJuIHhQKChmdW5jdGlvbiooKXt0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgcHVibGlzaExvd1N0cmVhbS5cIil9KSkoKX1hc3luYyByZXB1Ymxpc2goKXt0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5sZW5ndGg+MCYmKFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBFbWl0IFAyUENoYW5uZWxFdmVudHMuUmVxdWVzdFJlUHVibGlzaCB0byByZXB1Ymxpc2ggdHJhY2tzLlwiKSksYXdhaXQgZlModGhpcyxfSS5SZXF1ZXN0UmVQdWJsaXNoLHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzKSx0aGlzLmVtaXQoX0kuTWVkaWFSZWNvbm5lY3RFbmQsdGhpcy5zdG9yZS51aWQpLHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzPVtdKX1hc3luYyB1bnB1Ymxpc2goZSl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1wSS5Db25uZWN0ZWQpcmV0dXJuIHZvaWQoMD09PWUubGVuZ3RoP3RoaXMucGVuZGluZ0xvY2FsVHJhY2tzLmxlbmd0aD0wOnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzPXRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLmZpbHRlcigodD0+IVByKGUpLmNhbGwoZSx0KSkpKTtjb25zdCB0PXRoaXMuZmlsdGVyVG9iZVVucHVibGlzaGVkVHJhY2tzKGUpO2lmKDA9PT10Lmxlbmd0aClyZXR1cm47dGhpcy51bmJpbmRMb2NhbFRyYWNrRXZlbnRzKHQubWFwKChlPT57bGV0W3Qse3RyYWNrOml9XT1lO3JldHVybnt0eXBlOnQsdHJhY2s6aX19KSkpO2NvbnN0IGk9dC5maWx0ZXIoKGU9PntsZXRbLHtpZDp0fV09ZTtyZXR1cm4gdm9pZCAwIT09dH0pKTtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PXBJLkNvbm5lY3RlZClyZXR1cm4gdm9pZCBlLmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zcGxpY2UodCwxKX0pKTtjb25zdCBuPXQuZmluZCgoZT0+XCJ2aWRlb0xvd1RyYWNrXCI9PT1lWzBdKSk7aWYobil7blsxXS50cmFjay5jbG9zZSgpfWxldCByO2NvbnN0IHM9dGhpcy5jcmVhdGVHYXRld2F5VW5wdWJsaXNoTWVzc2FnZSh0KTtpLmxlbmd0aD4wJiYocj1hd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnN0b3BTZW5kaW5nKGkubWFwKChlPT57bGV0Wyx7aWQ6dH1dPWU7cmV0dXJuIHR9KSkpKSx0aGlzLndpdGhkcmF3TG9jYWxUcmFja3ModCksdGhpcy51bmJpbmRMb2NhbFRyYWNrRXZlbnRzKHQubWFwKChlPT57bGV0W3Qse3RyYWNrOml9XT1lO3JldHVybnt0eXBlOnQsdHJhY2s6aX19KSkpLHQuZm9yRWFjaCgoZT0+e2xldFt0XT1lO3RoaXMuc3RhdHNDb2xsZWN0b3IucmVtb3ZlTG9jYWxTdGF0cyh0KX0pKSwwPT09dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUmJnRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkVXBsaW5rU3RhdHMoKTtjb25zdCBvPXRoaXMuY3JlYXRlTXV0ZU1lc3NhZ2UodCk7cmV0dXJuIGF3YWl0IHRnLmFsbChvLm1hcCgoYXN5bmMgZT0+e2F3YWl0IGdTKHRoaXMsX0kuUmVxdWVzdE11dGVMb2NhbCxbZV0pfSkpKSx7c2RwOnIsdW5wdWJNc2c6c319YXN5bmMgdW5wdWJsaXNoTG93U3RyZWFtKCl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IHVucHVibGlzaExvd1N0cmVhbS5cIil9YXN5bmMgZG9VbnB1Ymxpc2goZSl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1wSS5Db25uZWN0ZWQpcmV0dXJuO2NvbnN0IHQ9W107aWYoZSE9PWRJLkFVRElPKXtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxWaWRlb1RyYWNrKTt2b2lkIDAhPT0obnVsbD09ZT92b2lkIDA6ZS5pZCkmJnQucHVzaChbdUkuTG9jYWxWaWRlb1RyYWNrLGVdKTtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxWaWRlb0xvd1RyYWNrKTt2b2lkIDAhPT0obnVsbD09aT92b2lkIDA6aS5pZCkmJnQucHVzaChbdUkuTG9jYWxWaWRlb0xvd1RyYWNrLGldKSx0aGlzLnN0YXRzQ29sbGVjdG9yLnJlbW92ZUxvY2FsU3RhdHModUkuTG9jYWxWaWRlb1RyYWNrKSx0aGlzLnN0YXRzQ29sbGVjdG9yLnJlbW92ZUxvY2FsU3RhdHModUkuTG9jYWxWaWRlb0xvd1RyYWNrKX1pZihlIT09ZEkuVklERU8pe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbEF1ZGlvVHJhY2spO3ZvaWQgMCE9PShudWxsPT1lP3ZvaWQgMDplLmlkKSYmdC5wdXNoKFt1SS5Mb2NhbEF1ZGlvVHJhY2ssZV0pLHRoaXMuc3RhdHNDb2xsZWN0b3IucmVtb3ZlTG9jYWxTdGF0cyh1SS5Mb2NhbEF1ZGlvVHJhY2spfWlmKHQubGVuZ3RoPjApe2NvbnN0IGk9YXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi5zdG9wU2VuZGluZyh0Lm1hcCgoZT0+e2xldFssdF09ZTtyZXR1cm4gdC5pZH0pKSk7dC5mb3JFYWNoKChlPT57bGV0Wyx0XT1lO3QuaWQ9dm9pZCAwLHQuc3NyY3M9dm9pZCAwfSkpO2NvbnN0IG49YXdhaXQgZlModGhpcyxfSS5SZXF1ZXN0UDJQVW5QdWJsaXNoLHtzZHA6aSxraW5kOmV9KTthd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnNldERlc2NyaXB0aW9uKFwibG9jYWxcIixuKTtjb25zdCByPXRoaXMuY3JlYXRlTXV0ZU1lc3NhZ2UodCk7YXdhaXQgdGcuYWxsKHIubWFwKChhc3luYyBlPT57YXdhaXQgZ1ModGhpcyxfSS5SZXF1ZXN0TXV0ZUxvY2FsLFtlXSl9KSkpfWVsc2U7fWFzeW5jIHN1YnNjcmliZShlLHQsaSxuKXt2YXIgcjtpZighdGhpcy5yZWN2Q29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PXBJLkNvbm5lY3RlZCl0aHJvdyBuZXcgVmcoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3Qgc3Vic2NyaWJlIHJlbW90ZSB1c2VyIHdoZW4gcmVjdkNvbm5lY3Rpb24gZGlzY29ubmVjdGVkLlwiKTtpZihudWxsIT09KHI9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKSkmJnZvaWQgMCE9PXImJnIuaGFzKHQpKXJldHVybjtjb25zdHt0cmFjazpzLG1pZDpvLHNkcDphfT1hd2FpdCB0aGlzLnJlY3ZDb25uZWN0aW9uLnJlY2VpdmUodCxpLG4pO3Q9PT1kSS5BVURJTz8oZS5fYXVkaW9TU1JDPW4sZS5fYXVkaW9UcmFjaz9lLl9hdWRpb1RyYWNrLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKHMpOihlLl9hdWRpb1RyYWNrPW5ldyBBYihzLGUudWlkLGUuX3VpbnRpZCx0aGlzLnN0b3JlKSxXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBjcmVhdGUgcmVtb3RlIGF1ZGlvIHRyYWNrOiBcIikuY29uY2F0KGUuX2F1ZGlvVHJhY2suZ2V0VHJhY2tJZCgpKSkpLHRoaXMuYmluZFJlbW90ZVRyYWNrRXZlbnRzKGUsZS5fYXVkaW9UcmFjaykpOihlLl92aWRlb1NTUkM9bixlLl92aWRlb1RyYWNrP2UuX3ZpZGVvVHJhY2suX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2socyk6KGUuX3ZpZGVvVHJhY2s9bmV3IHliKHMsZS51aWQsZS5fdWludGlkLHRoaXMuc3RvcmUpLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIGNyZWF0ZSByZW1vdGUgdmlkZW8gdHJhY2s6IFwiKS5jb25jYXQoZS5fdmlkZW9UcmFjay5nZXRUcmFja0lkKCkpKSksdGhpcy5iaW5kUmVtb3RlVHJhY2tFdmVudHMoZSxlLl92aWRlb1RyYWNrKSk7Y29uc3QgYz10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO2M/Yy5zZXQodCxvKTp0aGlzLnJlbW90ZVVzZXJNYXAuc2V0KGUsbmV3IE1hcChbW3Qsb11dKSksdGhpcy5zdGF0c0NvbGxlY3Rvci5hZGRSZW1vdGVTdGF0cyhlLnVpZCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkRG93bmxpbmtTdGF0cygpLGF3YWl0IGdTKHRoaXMsX0kuUmVxdWVzdFAyUFVubXV0ZVJlbW90ZSx0KTtjb25zdCBkPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5maW5kSW5kZXgoKGk9PntsZXR7dXNlcjpuLGtpbmQ6cn09aTtyZXR1cm4gbi51aWQ9PT1lLnVpZCYmdD09PXJ9KSk7cmV0dXJuLTEhPT1kJiYodGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLnNwbGljZShkLDEpLHRoaXMuZW1pdChfSS5NZWRpYVJlY29ubmVjdEVuZCxlLnVpZCkpLGF9YXN5bmMgdW5zdWJzY3JpYmUoZSx0LGksbil7Y29uc3Qgcj10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuZmlsdGVyKCh0PT57bGV0e3VzZXI6bixraW5kOnJ9PXQ7cmV0dXJuIHZvaWQgMCE9PWk/bi51aWQ9PT1lLnVpZCYmaT09PXI6bi51aWQ9PT1lLnVpZH0pKTtpZihyLmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5pbmRleE9mKGUpO3RoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5zcGxpY2UodCwxKX0pKSx0aGlzLnJlY3ZDb25uZWN0aW9uJiZ0aGlzLnN0YXRlPT09cEkuQ29ubmVjdGVkfHxufHxyLmZvckVhY2goKHQ9PntsZXR7a2luZDppfT10O3ZhciBuO2lmKGk9PT1kSS5BVURJTyludWxsPT09KG49ZS5fYXVkaW9UcmFjayl8fHZvaWQgMD09PW58fG4uX2Rlc3Ryb3koKSxlLl9hdWRpb1RyYWNrPXZvaWQgMDtlbHNlIGlmKGk9PT1kSS5WSURFTyl7dmFyIHI7bnVsbD09PShyPWUuX3ZpZGVvVHJhY2spfHx2b2lkIDA9PT1yfHxyLl9kZXN0cm95KCksZS5fdmlkZW9UcmFjaz12b2lkIDB9fSkpLCF0aGlzLnJlY3ZDb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09cEkuQ29ubmVjdGVkKXJldHVybjtjb25zdCBzPXRoaXMuZmlsdGVyVG9iZVVuU3Vic2NyaWJlZFRyYWNrcyhlLGkpO2lmKDA9PT1zLmxlbmd0aClyZXR1cm4gdm9pZChpIT09ZEkuVklERU8mJmdTKHRoaXMsX0kuUmVxdWVzdFAyUE11dGVSZW1vdGUsZEkuQVVESU8pKTtjb25zdCBvPWF3YWl0IHRoaXMucmVjdkNvbm5lY3Rpb24uc3RvcFJlY2VpdmluZyhzLm1hcCgoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB0fSkpLHQpO3JldHVybiB0aGlzLndpdGhkcmF3UmVtb3RlVHJhY2tzKHMpLDA9PT10aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSYmdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWREb3dubGlua1N0YXRzKCkscy5mb3JFYWNoKChlPT57bGV0W3Qse2tpbmQ6aX1dPWU7dmFyIHIscztpPT09ZEkuVklERU8mJnQuX3ZpZGVvU1NSQyYmKG51bGw9PT0ocj10aGlzLnJlY3ZDb25uZWN0aW9uKXx8dm9pZCAwPT09cnx8ci5zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeSh0Ll92aWRlb1NTUkMsITEpKTtpZihpPT09ZEkuVklERU8pdGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyh0Ll92aWRlb1RyYWNrKSxufHwobnVsbD09PShzPXQuX3ZpZGVvVHJhY2spfHx2b2lkIDA9PT1zfHxzLl9kZXN0cm95KCksdC5fdmlkZW9UcmFjaz12b2lkIDApO2Vsc2UgaWYoaT09PWRJLkFVRElPKXt2YXIgbztpZih0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX2F1ZGlvVHJhY2spLCFuKW51bGw9PT0obz10Ll9hdWRpb1RyYWNrKXx8dm9pZCAwPT09b3x8by5fZGVzdHJveSgpLHQuX2F1ZGlvVHJhY2s9dm9pZCAwfX0pKSxzLmZpbHRlcigoZT0+e2xldFsse2tpbmQ6dH1dPWU7cmV0dXJuIHQhPT1kSS5BVURJT30pKS5mb3JFYWNoKChlPT57bGV0Wyx7a2luZDp0fV09ZTtnUyh0aGlzLF9JLlJlcXVlc3RQMlBNdXRlUmVtb3RlLHQpfSkpLGkhPT1kSS5WSURFTyYmZ1ModGhpcyxfSS5SZXF1ZXN0UDJQTXV0ZVJlbW90ZSxkSS5BVURJTyksb31nZXRBbGxEYXRhQ2hhbm5lbHMoKXtyZXR1cm4gdGhpcy5sb2NhbERhdGFDaGFubmVsc31hc3luYyBtYXNzU3Vic2NyaWJlKGUpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwicDJwIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBtYXNzU3Vic2NyaWJlLlwiKX1hc3luYyBtYXNzU3Vic2NyaWJlTm9Mb2NrKGUpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwicDJwIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBtYXNzU3Vic2NyaWJlTm9Mb2NrLlwiKX1hc3luYyBtYXNzVW5zdWJzY3JpYmUoZSl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IG1hc3NVbnN1YnNjcmliZS5cIil9YXN5bmMgbWFzc1Vuc3Vic2NyaWJlTm9Mb2NrKGUpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwicDJwIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBtYXNzVW5zdWJzY3JpYmVOb0xvY2suXCIpfWFzeW5jIG11dGVSZW1vdGUoZSx0KXtpZighdGhpcy5yZWN2Q29ubmVjdGlvbilyZXR1cm47Y29uc3QgaT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO2lmKCFpKXJldHVybiB2b2lkIFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyLm11dGVSZW1vdGUgaGFzIG5vIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIuXCIpKTtpZighaS5nZXQodCkpcmV0dXJuIHZvaWQgV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbDIubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiBtZWRpYSB0eXBlIFwiKS5jb25jYXQodCxcIi5cIikpO2NvbnN0IG49dD09PWRJLlZJREVPP2UuX3ZpZGVvU1NSQzplLl9hdWRpb1NTUkM7dm9pZCAwIT09biYmdGhpcy5yZWN2Q29ubmVjdGlvbi5zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeShuLCExKX1hc3luYyB1bm11dGVSZW1vdGUoZSx0KXtyZXR1cm4gdGhpcy51bm11dGVSZW1vdGVOb0xvY2soZSx0KX1hc3luYyB1bm11dGVSZW1vdGVOb0xvY2soZSx0KXtpZighdGhpcy5yZWN2Q29ubmVjdGlvbilyZXR1cm47Y29uc3QgaT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO2lmKCFpKXJldHVybiB2b2lkIFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyLnVubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIi5cIikpO2kuZ2V0KHQpfHxXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMi51bm11dGVSZW1vdGUgaGFzIG5vIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgbWVkaWEgdHlwZSBcIikuY29uY2F0KHQsXCIuXCIpKX1nZXRBbGxUcmFja3MoZSl7Y29uc3QgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsQXVkaW9UcmFjayk7aWYoKG51bGw9PXQ/dm9pZCAwOnQudHJhY2spaW5zdGFuY2VvZiBaQSl7Y29uc3QgaT10LnRyYWNrO3JldHVybiBBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbHRlcigoZT0+e2xldFt0XT1lO3JldHVybiB0IT09dUkuTG9jYWxBdWRpb1RyYWNrfSkpLmZpbHRlcigodD0+e2xldFtpXT10O3JldHVybiEoZSYmaT09PXVJLkxvY2FsVmlkZW9Mb3dUcmFjayl9KSkubWFwKChlPT57bGV0Wyx7dHJhY2s6dH1dPWU7cmV0dXJuIHR9KSkuY29uY2F0KGkudHJhY2tMaXN0KX1yZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maWx0ZXIoKHQ9PntsZXRbaV09dDtyZXR1cm4hKGUmJmk9PT11SS5Mb2NhbFZpZGVvTG93VHJhY2spfSkpLm1hcCgoZT0+e2xldFsse3RyYWNrOnR9XT1lO3JldHVybiB0fSkpfXJlcG9ydFB1Ymxpc2hFdmVudChlLHQsaSxuLHIpe2lmKGUpe2NvbnN0IGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbEF1ZGlvVHJhY2spLHM9bj90aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsVmlkZW9Mb3dUcmFjayk6dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbFZpZGVvVHJhY2spO2l2LnB1Ymxpc2godGhpcy5zdG9yZS5zZXNzaW9uSWQse2V2ZW50RWxhcHNlOnNELm1lYXN1cmVGcm9tUHVibGlzaFN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsdGhpcy5zdG9yZS5wdWJJZCksc3VjYzplLGVjOnQsYXVkaW9OYW1lOm51bGw9PWk/dm9pZCAwOmkudHJhY2suZ2V0VHJhY2tMYWJlbCgpLHZpZGVvTmFtZTpudWxsPT1zP3ZvaWQgMDpzLnRyYWNrLmdldFRyYWNrTGFiZWwoKSxzY3JlZW5zaGFyZTotMSE9PShudWxsPT1zP3ZvaWQgMDpzLnRyYWNrLl9oaW50cy5pbmRleE9mKER5LlNDUkVFTl9UUkFDSykpLGF1ZGlvOiEhaSx2aWRlbzohIXMscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxwdWJsaXNoUmVxdWVzdGlkOnRoaXMuc3RvcmUucHViSWQsZXh0ZW5kOnJ9KX1lbHNle3ZhciBzO2l8fChpPVtdKTtjb25zdCBvPWkuZmluZCgoZT0+ZSBpbnN0YW5jZW9mIHpBKSksYT1uP251bGw9PT0ocz10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsVmlkZW9UcmFjaykpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnRyYWNrOmkuZmluZCgoZT0+ZSBpbnN0YW5jZW9mIGZiKSk7aXYucHVibGlzaCh0aGlzLnN0b3JlLnNlc3Npb25JZCx7ZXZlbnRFbGFwc2U6c0QubWVhc3VyZUZyb21QdWJsaXNoU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCx0aGlzLnN0b3JlLnB1YklkKSxzdWNjOmUsZWM6dCxhdWRpb05hbWU6bnVsbD09bz92b2lkIDA6by5nZXRUcmFja0xhYmVsKCksdmlkZW9OYW1lOm51bGw9PWE/dm9pZCAwOmEuZ2V0VHJhY2tMYWJlbCgpLHNjcmVlbnNoYXJlOi0xIT09KG51bGw9PWE/dm9pZCAwOmEuX2hpbnRzLmluZGV4T2YoRHkuU0NSRUVOX1RSQUNLKSksYXVkaW86ISFvLHZpZGVvOiEhYSxwMnBpZDp0aGlzLnN0b3JlLnAycElkLHB1Ymxpc2hSZXF1ZXN0aWQ6dGhpcy5zdG9yZS5wdWJJZCxleHRlbmQ6cn0pfX1yZXBvcnRTdWJzY3JpYmVFdmVudChlLHQsaSxuKXtjb25zdCByPW49PT1kSS5WSURFTz9pLl92aWRlb1NTUkM6aS5fYXVkaW9TU1JDO3ImJml2LnN1YnNjcmliZSh0aGlzLnN0b3JlLnNlc3Npb25JZCx7c3VjYzplLGVjOnQsdmlkZW86bj09PWRJLlZJREVPLGF1ZGlvOm49PT1kSS5BVURJTyxwZWVyaWQ6aS51aWQsc3Vic2NyaWJlUmVxdWVzdGlkOm49PT1kSS5WSURFTz9pLl92aWRlb1NTUkM6aS5fYXVkaW9TU1JDLHAycGlkOnRoaXMuc3RvcmUucDJwSWQsZXZlbnRFbGFwc2U6c0QubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHIpfSl9cmVzZXQoKXtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbDIucmVzZXRcIikpLHRoaXMuc2VuZE11dGV4PW5ldyBZUyhcIlAyUENoYW5uZWwyLXNlbmQtbXV0ZXhcIiksdGhpcy5zZW5kTXV0ZXg9bmV3IFlTKFwiUDJQQ2hhbm5lbDItcmVjdi1tdXRleFwiKSx0aGlzLnNlbmRDb25uZWN0aW9uJiYodGhpcy5zZW5kQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnNlbmRDb25uZWN0aW9uKSx0aGlzLnNlbmRDb25uZWN0aW9uPXZvaWQgMCksdGhpcy5yZWN2Q29ubmVjdGlvbiYmKHRoaXMucmVjdkNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLnVuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5yZWN2Q29ubmVjdGlvbiksdGhpcy5yZWN2Q29ubmVjdGlvbj12b2lkIDApLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkVXBsaW5rU3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZERvd25saW5rU3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZFRyYW5zcG9ydFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCksdGhpcy51bmJpbmRMb2NhbFRyYWNrRXZlbnRzKCksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMudW5iaW5kUnRwVHJhbnNjZWl2ZXIoKTtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxBdWRpb1RyYWNrKTtpZigobnVsbD09ZT92b2lkIDA6ZS50cmFjaylpbnN0YW5jZW9mIFpBKXtpZihlLnRyYWNrLnRyYWNrTGlzdC5sZW5ndGg+MCl7Y29uc3QgdD1lLnRyYWNrO2UudHJhY2sudHJhY2tMaXN0LmZvckVhY2goKGU9Pnt0LnJlbW92ZUF1ZGlvVHJhY2soZSl9KSl9ZS50cmFjay5jbG9zZSgpfXRoaXMubG9jYWxUcmFja01hcC5jbGVhcigpLHRoaXMucmVtb3RlVXNlck1hcC5jbGVhcigpLHRoaXMuc3RhdHNDb2xsZWN0b3IucmVtb3ZlUmVtb3RlU3RhdHMoKSx0aGlzLnN0YXRzQ29sbGVjdG9yLnJlbW92ZUxvY2FsU3RhdHMoKSx0aGlzLmR0bHNGYWlsZWRDb3VudD0wLHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzPVtdLHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcz1bXSx0aGlzLnN0YXRlPXBJLkRpc2Nvbm5lY3RlZH1nZXRTdGF0cyhlKXt2YXIgdCxpO3JldHVybiBlP251bGw9PT0oaT10aGlzLnJlY3ZDb25uZWN0aW9uKXx8dm9pZCAwPT09aT92b2lkIDA6aS5nZXRTdGF0cygpOm51bGw9PT0odD10aGlzLnNlbmRDb25uZWN0aW9uKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRTdGF0cygpfWdldFJlbW90ZVZpZGVvSXNSZWFkeShlKXt2YXIgdDtyZXR1cm4obnVsbD09PSh0PXRoaXMucmVjdkNvbm5lY3Rpb24pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldFJlbW90ZVZpZGVvSXNSZWFkeShlKSl8fCExfWdldExvY2FsQXVkaW9Wb2x1bWUoKXtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxBdWRpb1RyYWNrKTtpZihlKXJldHVybiBlLnRyYWNrLmdldFZvbHVtZUxldmVsKCl9Z2V0TG9jYWxWaWRlb1NpemUoKXtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxWaWRlb1RyYWNrKTtpZihlKXJldHVybnt3aWR0aDplLnRyYWNrLl92aWRlb1dpZHRofHwwLGhlaWdodDplLnRyYWNrLl92aWRlb0hlaWdodHx8MH19Z2V0RW5jb2RlckNvbmZpZyhlKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoZSk7cmV0dXJuIHQmJnQudHJhY2sgaW5zdGFuY2VvZiBmYnx8dCYmdC50cmFjayBpbnN0YW5jZW9mIHpBP3QudHJhY2suX2VuY29kZXJDb25maWc6dm9pZCAwfWdldExvY2FsTWVkaWEoZSl7cmV0dXJuIHRoaXMubG9jYWxUcmFja01hcC5nZXQoZSl9aGFzTG9jYWxNZWRpYSgpe3JldHVybiB0aGlzLmxvY2FsVHJhY2tNYXAuc2l6ZT4wfWhhc1JlbW90ZU1lZGlhKGUsdCl7aWYoIWUpcmV0dXJuIHRoaXMucmVtb3RlVXNlck1hcC5zaXplPjA7Y29uc3QgaT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO3JldHVybiEhaSYmKCF0fHxpLmhhcyh0KSl9YXN5bmMgaGFzUmVtb3RlTWVkaWFXaXRoTG9jayhlLHQpe2lmKCFlKXJldHVybiB0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZT4wO2NvbnN0IGk9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtyZXR1cm4hIWkmJighdHx8aS5oYXModCkpfWdldFJlbW90ZU1lZGlhKGUpe3ZhciB0O2NvbnN0IGk9QXJyYXkuZnJvbShodSh0PXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbCh0KSkuZmluZCgodD0+dC51aWQ9PT1lKSk7cmV0dXJuIGk/e2F1ZGlvVHJhY2s6aS5hdWRpb1RyYWNrLGF1ZGlvU1NSQzppLl9hdWRpb1NTUkMsdmlkZW9UcmFjazppLnZpZGVvVHJhY2ssdmlkZW9TU1JDOmkuX3ZpZGVvU1NSQ306e319Z2V0QXVkaW9MZXZlbHMoKXtsZXQgZT1BcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLm1hcCgoZT0+e2xldFt0XT1lO3JldHVybnt1aWQ6dC51aWQsbGV2ZWw6dC5hdWRpb1RyYWNrPzEwMCp0LmF1ZGlvVHJhY2suX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCk6MH19KSk7Y29uc3QgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsQXVkaW9UcmFjayk7cmV0dXJuIHQmJmUucHVzaCh7bGV2ZWw6MTAwKnQudHJhY2suX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCksdWlkOnRoaXMuc3RvcmUudWlkfSksZT1adShlKS5jYWxsKGUsKChlLHQpPT5lLmxldmVsLXQubGV2ZWwpKSxlfWFzeW5jIGRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QoKXt0aGlzLnNlbmRDb25uZWN0aW9uJiZ0aGlzLnJlY3ZDb25uZWN0aW9uJiYoV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QgY2xvc2luZyBQMlBDb25uZWN0aW9uXCIpKSx0aGlzLnN0YXRlPXBJLlJlY29ubmVjdGluZyxrQyhcIktFRVBfTEFTVF9GUkFNRVwiKSYmMCE9PXRoaXMucmVtb3RlVXNlck1hcC5zaXplJiZBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdF09ZTt2YXIgaTt0Ll92aWRlb1RyYWNrJiZ0Ll92aWRlb1RyYWNrLl9wbGF5ZXImJihudWxsPT09KGk9dC5fdmlkZW9UcmFjay5fcGxheWVyLmdldFZpZGVvRWxlbWVudCgpKXx8dm9pZCAwPT09aXx8aS5wYXVzZSgpLHQuX3ZpZGVvVHJhY2suX3BsYXllci5pc0tlZXBMYXN0RnJhbWU9ITAsdC5fdmlkZW9UcmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCkpfSkpLHRoaXMuc2VuZENvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLnVuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5zZW5kQ29ubmVjdGlvbiksdGhpcy5zZW5kQ29ubmVjdGlvbj12b2lkIDAsdGhpcy5yZWN2Q29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnJlY3ZDb25uZWN0aW9uKSx0aGlzLnJlY3ZDb25uZWN0aW9uPXZvaWQgMCwwIT09dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUmJihBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9Pnt2YXIgdDtsZXRbaSx7dHJhY2s6bn1dPWU7c3dpdGNoKGkpe2Nhc2UgdUkuTG9jYWxWaWRlb1RyYWNrOlByKHQ9bi5faGludHMpLmNhbGwodCxEeS5MT1dfU1RSRUFNKT9uLmNsb3NlKCk6dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MucHVzaChuKTticmVhaztjYXNlIHVJLkxvY2FsQXVkaW9UcmFjazpuIGluc3RhbmNlb2YgWkE/dGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuY29uY2F0KG4udHJhY2tMaXN0KTp0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKG4pO2Nhc2UgdUkuTG9jYWxWaWRlb0xvd1RyYWNrOn19KSksdGhpcy5lbWl0KF9JLk1lZGlhUmVjb25uZWN0U3RhcnQsdGhpcy5zdG9yZS51aWQpKSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHMoKSx0aGlzLmxvY2FsVHJhY2tNYXAuY2xlYXIoKSwwIT09dGhpcy5yZW1vdGVVc2VyTWFwLnNpemUmJkFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LGldPWU7QXJyYXkuZnJvbShodShpKS5jYWxsKGkpKS5mb3JFYWNoKChlPT57dGhpcy5zZXRQZW5kaW5nUmVtb3RlTWVkaWEodCxlKX0pKSx0aGlzLmVtaXQoX0kuTWVkaWFSZWNvbm5lY3RTdGFydCx0LnVpZCl9KSksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMucmVtb3RlVXNlck1hcC5jbGVhcigpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkVXBsaW5rU3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZERvd25saW5rU3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZFRyYW5zcG9ydFN0YXRzKCksV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyIGRpc2Nvbm5lY3RlZCwgd2FpdGluZyB0byByZWNvbm5lY3QuXCIpKSl9aGFzUGVuZGluZ1JlbW90ZU1lZGlhKGUsdCl7Zm9yKGNvbnN0IGkgb2YgdGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzKXtjb25zdHt1c2VyOm4sa2luZDpyfT1pO2lmKChlIGluc3RhbmNlb2YgYlA/ZS51aWQ6ZSk9PT1uLnVpZCYmdD09PXIpcmV0dXJuITB9cmV0dXJuITF9c2V0UGVuZGluZ1JlbW90ZU1lZGlhKGUsdCl7dGhpcy5oYXNQZW5kaW5nUmVtb3RlTWVkaWEoZSx0KXx8dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLnB1c2goe3VzZXI6ZSxraW5kOnR9KX1hc3luYyByZXN0YXJ0SUNFKGUpe2xldCB0O3Q9ZS5kaXJlY3Rpb249PT1Sdi5TRU5EX09OTFk/YXdhaXQgdGhpcy5zZW5kTXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbC5yZXN0YXJ0SUNFXCIpOmF3YWl0IHRoaXMucmVjdk11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwucmVzdGFydElDRVwiKTt0cnl7Y29uc3QgaT1hd2FpdCBlLnJlc3RhcnRJQ0UoKSxuPWF3YWl0IGZTKHRoaXMsX0kuUmVxdWVzdFAyUFJlc3RhcnRJQ0UsaSk7ZS5zZXREZXNjcmlwdGlvbihcImxvY2FsXCIsbil9ZmluYWxseXt0KCl9fWdldFVwbGlua05ldHdvcmtRdWFsaXR5KCl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb24pcmV0dXJuIDA7Y29uc3QgZT10aGlzLnNlbmRDb25uZWN0aW9uLmdldFN0YXRzKCksdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsVmlkZW9UcmFjayksaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsQXVkaW9UcmFjayksbj1lLnZpZGVvU2VuZC5maW5kKChlPT57dmFyIGk7cmV0dXJuIGUuc3NyYz09PShudWxsPT10fHxudWxsPT09KGk9dC5zc3Jjcyl8fHZvaWQgMD09PWk/dm9pZCAwOmlbMF0uc3NyY0lkKX0pKSxyPWUuYXVkaW9TZW5kLmZpbmQoKGU9Pnt2YXIgdDtyZXR1cm4gZS5zc3JjPT09KG51bGw9PWl8fG51bGw9PT0odD1pLnNzcmNzKXx8dm9pZCAwPT09dD92b2lkIDA6dFswXS5zc3JjSWQpfSkpO2lmKCFufHwhcilyZXR1cm4gMTtjb25zdCBzPVNTKHRoaXMsX0kuTmVlZFNpZ25hbFJUVCksbz1uP24ucnR0TXM6dm9pZCAwLGE9cj9yLnJ0dE1zOnZvaWQgMCxjPW8mJmE/KG8rYSkvMjpvfHxhLGQ9KGMmJnM/KGMrcykvMjpjfHxzKXx8MCxsPTEwMCplLnNlbmRQYWNrZXRMb3NzUmF0ZSouNy81MCsuMypkLzE1MDAsaD1sPC4xNz8xOmw8LjM2PzI6bDwuNTk/MzpsPC4xPzQ6NSx1PW51bGw9PXQ/dm9pZCAwOnQudHJhY2s7aWYodSYmdS5fZW5jb2RlckNvbmZpZyYmLTE9PT11Ll9oaW50cy5pbmRleE9mKER5LlNDUkVFTl9UUkFDSykpe2NvbnN0IHQ9dS5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LGk9ZS5iaXRyYXRlLmFjdHVhbEVuY29kZWQ7aWYodCYmaSl7Y29uc3QgZT0oMWUzKnQtaSkvKDFlMyp0KTtyZXR1cm4gc3ZbZTwuMTU/MDplPC4zPzE6ZTwuNDU/MjplPC42PzM6NF1baF19fXJldHVybiBofWdldERvd25saW5rTmV0d29ya1F1YWxpdHkoKXtpZighdGhpcy5yZWN2Q29ubmVjdGlvbilyZXR1cm4gMDtjb25zdCBlPXRoaXMucmVjdkNvbm5lY3Rpb24uZ2V0U3RhdHMoKTtsZXQgdD0wO3JldHVybiBBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGk9PntsZXRbbl09aTtjb25zdCByPW4uX2F1ZGlvU1NSQyxzPW4uX3ZpZGVvU1NSQyxvPWUuYXVkaW9SZWN2LmZpbmQoKGU9PmUuc3NyYz09PXIpKSxhPWUudmlkZW9SZWN2LmZpbmQoKGU9PmUuc3NyYz09PXMpKTtpZighbyYmIWEpcmV0dXJuIHZvaWQodCs9MSk7Y29uc3QgYz1TUyh0aGlzLF9JLk5lZWRTaWduYWxSVFQpLGQ9ZS5ydHQsbD0oZCYmYz8oZCtjKS8yOmR8fGMpfHwwLGg9bz9vLmppdHRlck1zOnZvaWQgMCx1PWUucmVjdlBhY2tldExvc3NSYXRlO2xldCBwPS43KnUqMTAwLzUwKy4zKmwvMTUwMDtoJiYocD0uNip1KjEwMC81MCsuMipsLzE1MDArLjIqaC80MDApO3QrPXA8LjE/MTpwPC4xNz8yOnA8LjM2PzM6cDwuNTk/NDo1fSkpLHRoaXMucmVtb3RlVXNlck1hcC5zaXplPjA/TWF0aC5yb3VuZCh0L3RoaXMucmVtb3RlVXNlck1hcC5zaXplKTp0fWFzeW5jIG11dGVMb2NhbFRyYWNrKGUpe3JldHVybiBuZXcgdGcoKCh0LGkpPT57dGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayhlLHQsaSl9KSl9ZmlsdGVyVG9iZVB1Ymxpc2hlZFRyYWNrcyhlLHQsaSl7Y29uc3Qgbj1bXSxyPWhBKCkscz10aGlzLmdldEFsbFRyYWNrcygpO2U9eVMoZT1lLmZpbHRlcigoZT0+LTE9PT1zLmluZGV4T2YoZSkpKSk7bGV0IG89ITEsYT0hMTtmb3IoY29uc3QgcyBvZiBlKXtpZihzIGluc3RhbmNlb2YgZmImJih0aGlzLmxvY2FsVHJhY2tNYXAuaGFzKHVJLkxvY2FsVmlkZW9UcmFjayl8fG8/bmV3IFZnKHhnLkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1MpLnRocm93KCk6KG4ucHVzaCh7dHJhY2s6cyx0eXBlOnVJLkxvY2FsVmlkZW9UcmFja30pLG89ITApLHQpKXtjb25zdCBlPXRoaXMuZ2V0TG93VmlkZW9UcmFjayhzLGkpO24ucHVzaCh7dHJhY2s6ZSx0eXBlOnVJLkxvY2FsVmlkZW9Mb3dUcmFja30pfWlmKHMgaW5zdGFuY2VvZiB6QSl7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsQXVkaW9UcmFjayk7aWYoZSl7aWYoIShlLnRyYWNrIGluc3RhbmNlb2YgWkEpKXRocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpbyBvciB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBhdWRpbyBtaXhpbmdcIik7aWYocy5fYnlwYXNzV2ViQXVkaW8pdGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3Mgd2hpY2ggb25lIG9mIHRoZW0gY29uZmlndXJlZCB3aXRoIGJ5cGFzc1dlYkF1ZGlvXCIpO2UudHJhY2suYWRkQXVkaW9UcmFjayhzKSx0aGlzLmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMocywhMCl9ZWxzZSBpZihhKXtjb25zdCBlPW4uZmluZCgoZT0+e2xldHt0eXBlOnR9PWU7cmV0dXJuIHQ9PT11SS5Mb2NhbEF1ZGlvVHJhY2t9KSk7aWYoIShlLnRyYWNrIGluc3RhbmNlb2YgWkEpKXRocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpbyBvciB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBhdWRpbyBtaXhpbmdcIik7aWYocy5fYnlwYXNzV2ViQXVkaW8pdGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3Mgd2hpY2ggb25lIG9mIHRoZW0gY29uZmlndXJlZCB3aXRoIGJ5cGFzc1dlYkF1ZGlvXCIpO2UudHJhY2suYWRkQXVkaW9UcmFjayhzKX1lbHNle2lmKCFyLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0fHxzIGluc3RhbmNlb2YgWkF8fHMuX2J5cGFzc1dlYkF1ZGlvKW4ucHVzaCh7dHJhY2s6cyx0eXBlOnVJLkxvY2FsQXVkaW9UcmFja30pO2Vsc2V7Y29uc3QgZT1uZXcgWkE7ZS5hZGRBdWRpb1RyYWNrKHMpLG4ucHVzaCh7dHJhY2s6ZSx0eXBlOnVJLkxvY2FsQXVkaW9UcmFja30pfWE9ITB9fX1yZXR1cm4gbn1maWx0ZXJUb2JlVW5wdWJsaXNoZWRUcmFja3MoZSl7Y29uc3QgdD1bXSxpPXRoaXMuZ2V0QWxsVHJhY2tzKCk7ZT15UyhlPWUuZmlsdGVyKChlPT4tMSE9PWkuaW5kZXhPZihlKSkpKTtmb3IoY29uc3QgaSBvZiBlKXtpZihpIGluc3RhbmNlb2YgekEpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbEF1ZGlvVHJhY2spO2lmKCFlKWNvbnRpbnVlO2UudHJhY2sgaW5zdGFuY2VvZiBaQT8oZS50cmFjay5yZW1vdmVBdWRpb1RyYWNrKGkpLHRoaXMudW5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKGkpLDA9PT1lLnRyYWNrLnRyYWNrTGlzdC5sZW5ndGgmJih0LnB1c2goW3VJLkxvY2FsQXVkaW9UcmFjayxlXSksZS50cmFjay5jbG9zZSgpKSk6dC5wdXNoKFt1SS5Mb2NhbEF1ZGlvVHJhY2ssZV0pfWlmKGkgaW5zdGFuY2VvZiBmYil7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsVmlkZW9UcmFjayk7aWYoIWUpY29udGludWU7dC5wdXNoKFt1SS5Mb2NhbFZpZGVvVHJhY2ssZV0pO2NvbnN0IGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbFZpZGVvTG93VHJhY2spO2kmJnQucHVzaChbdUkuTG9jYWxWaWRlb0xvd1RyYWNrLGldKX19cmV0dXJuIHR9YmluZExvY2FsVHJhY2tFdmVudHMoZSl7ZS5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnQsdHlwZTppfT1lO3N3aXRjaChpKXtjYXNlIHVJLkxvY2FsVmlkZW9UcmFjazp0LmFkZExpc3RlbmVyKE55LkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsVmlkZW9TdGF0cyksdC5hZGRMaXN0ZW5lcihOeS5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksdC5hZGRMaXN0ZW5lcihOeS5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLHQuYWRkTGlzdGVuZXIoTnkuTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUix0aGlzLmhhbmRsZVVwZGF0ZVZpZGVvRW5jb2RlciksdC5hZGRMaXN0ZW5lcihOeS5TRVRfT1BUSU1JWkFUSU9OX01PREUsdGhpcy5oYW5kbGVTZXRPcHRpbWl6YXRpb25Nb2RlKSx0LmFkZExpc3RlbmVyKE55Lk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayksdC5hZGRMaXN0ZW5lcihOeS5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksdC5hZGRMaXN0ZW5lcihOeS5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spO2JyZWFrO2Nhc2UgdUkuTG9jYWxBdWRpb1RyYWNrOnRoaXMuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyh0KTtjYXNlIHVJLkxvY2FsVmlkZW9Mb3dUcmFjazp9fSkpfWJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMoZSx0KXtlIGluc3RhbmNlb2YgWkE/ZS50cmFja0xpc3QuZm9yRWFjaCgoZT0+e2UuYWRkTGlzdGVuZXIoTnkuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUuYWRkTGlzdGVuZXIoTnkuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKE55LkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksZS5hZGRMaXN0ZW5lcihOeS5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcihOeS5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spfSkpOihlLmFkZExpc3RlbmVyKE55LkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksZS5hZGRMaXN0ZW5lcihOeS5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcihOeS5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLGUuYWRkTGlzdGVuZXIoTnkuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUuYWRkTGlzdGVuZXIoTnkuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSx0fHxlLmFkZExpc3RlbmVyKE55Lk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjaykpfXVuYmluZExvY2FsVHJhY2tFdmVudHMoZSl7ZXx8KGU9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5tYXAoKGU9PntsZXRbdCx7dHJhY2s6aX1dPWU7cmV0dXJue3RyYWNrOmksdHlwZTp0fX0pKSksZS5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnQsdHlwZTppfT1lO3N3aXRjaChpKXtjYXNlIHVJLkxvY2FsVmlkZW9UcmFjazp0Lm9mZihOeS5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbFZpZGVvU3RhdHMpLHQub2ZmKE55Lk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0Lm9mZihOeS5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLHQub2ZmKE55Lk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcy5oYW5kbGVVcGRhdGVWaWRlb0VuY29kZXIpLHQub2ZmKE55LlNFVF9PUFRJTUlaQVRJT05fTU9ERSx0aGlzLmhhbmRsZVNldE9wdGltaXphdGlvbk1vZGUpLHQub2ZmKE55Lk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayksdC5vZmYoTnkuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQub2ZmKE55Lk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayk7YnJlYWs7Y2FzZSB1SS5Mb2NhbEF1ZGlvVHJhY2s6dGhpcy51bmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHModCk7Y2FzZSB1SS5Mb2NhbFZpZGVvTG93VHJhY2s6fX0pKX11bmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMoZSl7ZSBpbnN0YW5jZW9mIFpBP2UudHJhY2tMaXN0LmZvckVhY2goKGU9PntlLm9mZihOeS5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5vZmYoTnkuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxlLm9mZihOeS5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLGUub2ZmKE55Lk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLm9mZihOeS5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spfSkpOihlLm9mZihOeS5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLGUub2ZmKE55Lk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLm9mZihOeS5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLGUub2ZmKE55Lk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayksZS5vZmYoTnkuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUub2ZmKE55Lk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjaykpfWJpbmRSZW1vdGVUcmFja0V2ZW50cyhlLHQpe3QgaW5zdGFuY2VvZiB5YiYmdC5hZGRMaXN0ZW5lcihOeS5HRVRfU1RBVFMsKHQ9Pnt0KHRoaXMuaGFuZGxlR2V0UmVtb3RlVmlkZW9TdGF0cyhlKSl9KSksdCBpbnN0YW5jZW9mIEFiJiZ0LmFkZExpc3RlbmVyKE55LkdFVF9TVEFUUywodD0+e3QodGhpcy5oYW5kbGVHZXRSZW1vdGVBdWRpb1N0YXRzKGUpKX0pKX11bmJpbmRSZW1vdGVUcmFja0V2ZW50cyhlKXtlJiZlLnJlbW92ZUFsbExpc3RlbmVycyhOeS5HRVRfU1RBVFMpfXVuYmluZEFsbFJlbW90ZVRyYWNrRXZlbnRzKCl7QXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKChlPT57bGV0W3QsaV09ZTtpLmhhcyhkSS5BVURJTykmJnRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHModC5fYXVkaW9UcmFjayksaS5oYXMoZEkuVklERU8pJiZ0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX3ZpZGVvVHJhY2spfSkpfWNyZWF0ZUdhdGV3YXlQdWJsaXNoTWVzc2FnZShlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdDtsZXQgaSxuLHt0cmFjazpyLHR5cGU6c309ZTtzd2l0Y2gocyl7Y2FzZSB1SS5Mb2NhbEF1ZGlvVHJhY2s6aT1Rdi5BdWRpbyxuPXtkdHg6ciBpbnN0YW5jZW9mIFhBJiZyLl9jb25maWcuRFRYLGhxOiExLGxxOiExLHN0ZXJlbzohMSxzcGVlY2g6ITF9O2JyZWFrO2Nhc2UgdUkuTG9jYWxWaWRlb1RyYWNrOmk9UHIodD1yLl9oaW50cykuY2FsbCh0LER5LlNDUkVFTl9UUkFDSyk/UXYuU2NyZWVuOlF2LkhpZ2gsbj1iTShiTSh7fSxfRChyKSkse30se2NvZGVjOnRoaXMuc3RvcmUuY29kZWN9KTticmVhaztjYXNlIHVJLkxvY2FsVmlkZW9Mb3dUcmFjazppPVF2LkxvdyxuPWJNKGJNKHt9LF9EKHIpKSx7fSx7Y29kZWM6dGhpcy5zdG9yZS5jb2RlY30pfXJldHVybntraW5kOnM9PT11SS5Mb2NhbEF1ZGlvVHJhY2s/ZEkuQVVESU86ZEkuVklERU8sc3RyZWFtX3R5cGU6aSxhdHRyaWJ1dGVzOm4saXNNdXRlZDpyLm11dGVkfHwhci5lbmFibGVkfX0pKX1jcmVhdGVHYXRld2F5VW5wdWJsaXNoTWVzc2FnZShlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdDtsZXQgaSxbbix7dHJhY2s6cixzc3JjczpzLGlkOm99XT1lO3N3aXRjaChuKXtjYXNlIHVJLkxvY2FsVmlkZW9UcmFjazppPVByKHQ9ci5faGludHMpLmNhbGwodCxEeS5TQ1JFRU5fVFJBQ0spP1F2LlNjcmVlbjpRdi5IaWdoO2JyZWFrO2Nhc2UgdUkuTG9jYWxBdWRpb1RyYWNrOmk9UXYuQXVkaW87YnJlYWs7Y2FzZSB1SS5Mb2NhbFZpZGVvTG93VHJhY2s6aT1Rdi5Mb3d9cmV0dXJue3N0cmVhbV90eXBlOmksc3NyY3M6cyxtaWQ6b319KSl9YXNzaWduTG9jYWxUcmFja3MoZSl7ZS5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnQsdHlwZTppfT1lO3RoaXMubG9jYWxUcmFja01hcC5zZXQoaSx7dHJhY2s6dH0pfSkpfXdpdGhkcmF3TG9jYWxUcmFja3MoZSl7ZS5mb3JFYWNoKChlPT57bGV0W3RdPWU7dGhpcy5sb2NhbFRyYWNrTWFwLmRlbGV0ZSh0KX0pKX1iaW5kQ29ubmVjdGlvbkV2ZW50cyhlKXtlLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlPWFzeW5jIHQ9Pnt2YXIgaTtpZihXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UoXCIpLmNvbmNhdCh0LFwiKVwiKSksdGhpcy5lbWl0KF9JLlBlZXJDb25uZWN0aW9uU3RhdGVDaGFuZ2UsdCksXCJjb25uZWN0ZWRcIiE9PXR8fHRoaXMuc3RvcmUua2V5TWV0cmljcy5wZWVyQ29ubmVjdGlvbkVuZHx8dGhpcy5zdG9yZS5wZWVyQ29ubmVjdGlvbkVuZCgpLFByKGk9dGhpcy5fcmVzdGFydFN0YXRlcykuY2FsbChpLHQpfHxlLmRpcmVjdGlvbj09PVJ2LlNFTkRfT05MWSl7aWYodGhpcy5fcmVzdGFydFRpbWVyKXJldHVybjtjb25zdCB0PSgpPT57aWYoXCJkaXNjb25uZWN0ZWRcIj09PWUuaWNlQ29ubmVjdGlvblN0YXRlfHxcImNoZWNraW5nXCI9PT1lLmljZUNvbm5lY3Rpb25TdGF0ZXx8XCJmYWlsZWRcIj09PWUuaWNlQ29ubmVjdGlvblN0YXRlKXtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENoYW5uZWxdIHN0YXJ0IHVzZSByZXN0YXJ0SUNFXCIpKTtcIkNPTk5FQ1RFRFwiPT09U1ModGhpcyxfSS5RdWVyeUNsaWVudENvbm5lY3Rpb25TdGF0ZSkmJnRoaXMucmVzdGFydElDRShlKX19O3RoaXMuX3Jlc3RhcnRUaW1lcj13aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt0KCksdGhpcy5fcmVzdGFydFRpbWVyPXZvaWQgMH0pLDgwMCl9ZWxzZTt9LGUub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9ZT0+e1wiY29ubmVjdGVkXCIhPT1lfHx0aGlzLnN0b3JlLmtleU1ldHJpY3MuaWNlQ29ubmVjdGlvbkVuZHx8dGhpcy5zdG9yZS5pY2VDb25uZWN0aW9uRW5kKCksV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpLGl2LnJlcG9ydEFwaUludm9rZSh0aGlzLnN0b3JlLnNlc3Npb25JZCx7bmFtZTpcIklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZVwiLG9wdGlvbnM6ZSx0YWc6b1MuVFJBQ0VSfSkub25TdWNjZXNzKCksdGhpcy5lbWl0KF9JLkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxlKX0sZS5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlPWU9PntXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZShcIikuY29uY2F0KGUsXCIpXCIpKX0sZS5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZT1lPT57V0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpfSxlLm9uRFRMU1RyYW5zcG9ydEVycm9yPWU9PntXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25EVExTVHJhbnNwb3J0RXJyb3IoXCIpLmNvbmNhdChlLFwiKVwiKSl9LGUub25GaXJzdEF1ZGlvRGVjb2RlZD1lPT57dmFyIHQ7Y29uc3QgaT1BcnJheS5mcm9tKGh1KHQ9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKHQpKS5maW5kKCh0PT50Ll9hdWRpb1NTUkM9PT1lKSk7dmFyIG47aSYmKHRoaXMuc3RvcmUuc3Vic2NyaWJlKGkudWlkLFwiYXVkaW9cIix2b2lkIDAsdm9pZCAwLHZvaWQgMCxEYXRlLm5vdygpKSxudWxsPT09KG49aS5hdWRpb1RyYWNrKXx8dm9pZCAwPT09bnx8bi5lbWl0KHh5LkZJUlNUX0ZSQU1FX0RFQ09ERUQpLGl2LmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsSkMuRklSU1RfQVVESU9fREVDT0RFLHpDLkZJUlNUX0FVRElPX0RFQ09ERSx7cGVlcjppLl91aW50aWQsc3Vic2NyaWJlRWxhcHNlOnNELm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxlKSxzdWJzY3JpYmVSZXF1ZXN0aWQ6ZSxwMnBpZDp0aGlzLnN0b3JlLnAycElkfSkpfSxlLm9uRmlyc3RBdWRpb1JlY2VpdmVkPWU9Pnt2YXIgdDtjb25zdCBpPUFycmF5LmZyb20oaHUodD10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwodCkpLmZpbmQoKHQ9PnQuX2F1ZGlvU1NSQz09PWUpKTtpJiZpdi5maXJzdFJlbW90ZUZyYW1lKHRoaXMuc3RvcmUuc2Vzc2lvbklkLEpDLkZJUlNUX0FVRElPX1JFQ0VJVkVELHpDLkZJUlNUX0FVRElPX1JFQ0VJVkVELHtwZWVyOmkuX3VpbnRpZCxzdWJzY3JpYmVFbGFwc2U6c0QubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWR9KX0sZS5vbkZpcnN0VmlkZW9EZWNvZGVkPShlLHQsaSk9Pnt0aGlzLnJlcG9ydFZpZGVvRmlyc3RGcmFtZURlY29kZWQoZSx0LGkpfSxlLm9uRmlyc3RWaWRlb1JlY2VpdmVkPWU9Pnt2YXIgdDtjb25zdCBpPUFycmF5LmZyb20oaHUodD10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwodCkpLmZpbmQoKHQ9PnQuX3ZpZGVvU1NSQz09PWUpKTtpJiZpdi5maXJzdFJlbW90ZUZyYW1lKHRoaXMuc3RvcmUuc2Vzc2lvbklkLEpDLkZJUlNUX1ZJREVPX1JFQ0VJVkVELHpDLkZJUlNUX1ZJREVPX1JFQ0VJVkVELHtwZWVyOmkuX3VpbnRpZCxzdWJzY3JpYmVFbGFwc2U6c0QubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWR9KX0sZS5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPShlLHQpPT57Y29uc3QgaT1cInJlbGF5XCI9PT1lLmNhbmRpZGF0ZVR5cGUsbj1cInJlbGF5XCI9PT10LmNhbmRpZGF0ZVR5cGU7XCJ1bmtub3duXCIhPT10LmNhbmRpZGF0ZVR5cGUmJmk9PT1ufHx0aGlzLmVtaXQoX0kuQ29ubmVjdGlvblR5cGVDaGFuZ2UsaSksV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLlNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoVEQodCkpLFwiIC0+IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoVEQoZSkpLFwiKVwiKSl9LGUub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9PntXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoVEQodCkpLFwiIC0+IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoVEQoZSkpLFwiKVwiKSl9LGUub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9ZT0+e3RoaXMucmVwb3J0VmlkZW9GaXJzdEZyYW1lRGVjb2RlZChlLHZvaWQgMCx2b2lkIDAsITApfSxlLm9uTG9jYWxDYW5kaWRhdGU9ZT0+e3RoaXMuZW1pdChfSS5Mb2NhbENhbmRpZGF0ZSxlKX19dW5iaW5kQ29ubmVjdGlvbkV2ZW50cyhlKXtlLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlPXZvaWQgMCxlLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlPXZvaWQgMCxlLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2U9dm9pZCAwLGUub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2U9dm9pZCAwLGUub25EVExTVHJhbnNwb3J0RXJyb3I9dm9pZCAwLGUub25GaXJzdEF1ZGlvRGVjb2RlZD12b2lkIDAsZS5vbkZpcnN0QXVkaW9SZWNlaXZlZD12b2lkIDAsZS5vbkZpcnN0VmlkZW9EZWNvZGVkPXZvaWQgMCxlLm9uRmlyc3RWaWRlb1JlY2VpdmVkPXZvaWQgMCxlLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLGUub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLGUub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9dm9pZCAwLGUub25Mb2NhbENhbmRpZGF0ZT12b2lkIDB9ZmlsdGVyVG9iZU11dGVkVHJhY2tzKGUpe2NvbnN0IHQ9W107aWYoLTE9PT10aGlzLmdldEFsbFRyYWNrcygpLmluZGV4T2YoZSkpcmV0dXJuIHQ7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KHVJLkxvY2FsQXVkaW9UcmFjayk7aWYoZSBpbnN0YW5jZW9mIHpBJiYobnVsbD09aT92b2lkIDA6aS50cmFjaylpbnN0YW5jZW9mIFpBKXJldHVybiBpLnRyYWNrLmlzQWN0aXZlfHx0LnB1c2goW3VJLkxvY2FsQXVkaW9UcmFjayxpXSksdDtjb25zdCBuPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmluZCgodD0+e2xldFsse3RyYWNrOml9XT10O3JldHVybiBlPT09aX0pKTtpZihuJiYodC5wdXNoKG4pLG5bMF09PT11SS5Mb2NhbFZpZGVvVHJhY2spKXtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxWaWRlb0xvd1RyYWNrKTtlJiZ0LnB1c2goW3VJLkxvY2FsVmlkZW9Mb3dUcmFjayxlXSl9cmV0dXJuIHR9ZmlsdGVyVG9iZVVubXV0ZWRUcmFja3MoZSl7Y29uc3QgdD1bXSxpPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxBdWRpb1RyYWNrKTtpZihlIGluc3RhbmNlb2YgekEmJihudWxsPT1pP3ZvaWQgMDppLnRyYWNrKWluc3RhbmNlb2YgWkEpcmV0dXJuIGkudHJhY2suaXNBY3RpdmUmJnQucHVzaChbdUkuTG9jYWxBdWRpb1RyYWNrLGldKSx0O2NvbnN0IG49QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKCh0PT57bGV0Wyx7dHJhY2s6aX1dPXQ7cmV0dXJuIGU9PT1pfSkpO2lmKG4paWYoblswXT09PXVJLkxvY2FsVmlkZW9UcmFjayl7dC5wdXNoKG4pO2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldCh1SS5Mb2NhbFZpZGVvTG93VHJhY2spO2UmJnQucHVzaChbdUkuTG9jYWxWaWRlb0xvd1RyYWNrLGVdKX1lbHNlIHQucHVzaChuKTtyZXR1cm4gdH1jcmVhdGVNdXRlTWVzc2FnZShlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdDtsZXQgaSxbbix7dHJhY2s6cixzc3JjczpzLGlkOm99XT1lO3N3aXRjaChuKXtjYXNlIHVJLkxvY2FsQXVkaW9UcmFjazppPVF2LkF1ZGlvO2JyZWFrO2Nhc2UgdUkuTG9jYWxWaWRlb1RyYWNrOmk9UHIodD1yLl9oaW50cykuY2FsbCh0LER5LlNDUkVFTl9UUkFDSyk/UXYuU2NyZWVuOlF2LkhpZ2g7YnJlYWs7Y2FzZSB1SS5Mb2NhbFZpZGVvTG93VHJhY2s6aT1Rdi5Mb3d9cmV0dXJue3N0cmVhbV90eXBlOmksc3NyY3M6cyxtaWQ6b319KSl9Y3JlYXRlVW5tdXRlTWVzc2FnZShlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdDtsZXQgaSxbbix7dHJhY2s6cixzc3JjczpzLGlkOm99XT1lO3N3aXRjaChuKXtjYXNlIHVJLkxvY2FsQXVkaW9UcmFjazppPVF2LkF1ZGlvO2JyZWFrO2Nhc2UgdUkuTG9jYWxWaWRlb1RyYWNrOmk9UHIodD1yLl9oaW50cykuY2FsbCh0LER5LlNDUkVFTl9UUkFDSyk/UXYuU2NyZWVuOlF2LkhpZ2g7YnJlYWs7Y2FzZSB1SS5Mb2NhbFZpZGVvTG93VHJhY2s6aT1Rdi5Mb3d9cmV0dXJue3N0cmVhbV90eXBlOmksc3NyY3M6cyxtaWQ6b319KSl9ZmlsdGVyVG9iZVVuU3Vic2NyaWJlZFRyYWNrcyhlLHQpe2NvbnN0IGk9W10sbj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO2lmKCFuKXJldHVybiBpO2lmKHQpe2NvbnN0IHI9bi5nZXQodCk7aWYoIXIpcmV0dXJuIGk7aS5wdXNoKFtlLHtraW5kOnQsaWQ6cn1dKX1lbHNlIEFycmF5LmZyb20obi5lbnRyaWVzKCkpLmZvckVhY2goKHQ9PntsZXRbbixyXT10O2kucHVzaChbZSx7a2luZDpuLGlkOnJ9XSl9KSk7cmV0dXJuIGl9Y3JlYXRlVW5zdWJzY3JpYmVNZXNzYWdlKGUpe2NvbnN0IHQ9W107cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2xldFtpLHtraW5kOm4saWQ6cn1dPWU7c3dpdGNoKG4pe2Nhc2UgZEkuVklERU86cmV0dXJuIHZvaWQoaS5fdmlkZW9TU1JDJiZ0LnB1c2goe3N0cmVhbV90eXBlOmRJLlZJREVPLHNzcmNJZDppLl92aWRlb1NTUkN9KSk7Y2FzZSBkSS5BVURJTzpyZXR1cm4gdm9pZChpLl9hdWRpb1NTUkMmJnQucHVzaCh7c3RyZWFtX3R5cGU6ZEkuQVVESU8sc3NyY0lkOmkuX2F1ZGlvU1NSQ30pKX19KSksdH13aXRoZHJhd1JlbW90ZVRyYWNrcyhlKXtlLmZvckVhY2goKGU9PntsZXRbdCx7a2luZDppfV09ZTtjb25zdCBuPXRoaXMucmVtb3RlVXNlck1hcC5nZXQodCk7biYmKG4uZGVsZXRlKGkpLDA9PT1BcnJheS5mcm9tKG4uZW50cmllcygpKS5sZW5ndGgmJnRoaXMucmVtb3RlVXNlck1hcC5kZWxldGUodCkpfSkpfWFzeW5jIHVwZGF0ZUJpdHJhdGVMaW1pdChlKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxWaWRlb1RyYWNrKSxpPXRoaXMubG9jYWxUcmFja01hcC5nZXQodUkuTG9jYWxWaWRlb0xvd1RyYWNrKTt0JiZhd2FpdCB0LnRyYWNrLnNldEJpdHJhdGVMaW1pdChlLnVwbGluayksaSYmZS5sb3dfc3RyZWFtX3VwbGluayYmYXdhaXQgaS50cmFjay5zZXRCaXRyYXRlTGltaXQoe21heF9iaXRyYXRlOmUubG93X3N0cmVhbV91cGxpbmsuYml0cmF0ZSxtaW5fYml0cmF0ZTplLmxvd19zdHJlYW1fdXBsaW5rLmJpdHJhdGV8fDB9KX1pc1AyUERpc2Nvbm5lY3RlZCgpe2lmKHRoaXMuc2VuZENvbm5lY3Rpb24mJnRoaXMucmVjdkNvbm5lY3Rpb24pe2NvbnN0IGU9dGhpcy5zZW5kQ29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvblN0YXRlLHQ9dGhpcy5yZWN2Q29ubmVjdGlvbi5wZWVyQ29ubmVjdGlvblN0YXRlO3JldHVyblwiY29ubmVjdGVkXCIhPT1lJiZcImNvbm5lY3RlZFwiIT09dH1yZXR1cm4hMH1hc3luYyB0cnlUb1VubXV0ZUF1ZGlvKGUpe2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKGVbdF1pbnN0YW5jZW9mIHpBKXtjb25zdCBpPXRoaXMuZmlsdGVyVG9iZVVubXV0ZWRUcmFja3MoZVt0XSk7aWYoMD09PWkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IG49dGhpcy5jcmVhdGVVbm11dGVNZXNzYWdlKGkpO3JldHVybiB2b2lkIGF3YWl0IGdTKHRoaXMsX0kuUmVxdWVzdFVubXV0ZUxvY2FsLG4pfX1iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpe3RoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0U3RhdHM9ZT0+dGhpcy5nZXRTdGF0cyhlKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdExvY2FsTWVkaWE9KCk9PkFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKChlPT57bGV0Wyx7c3NyY3M6dH1dPWU7cmV0dXJuISF0fSkpLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0UmVtb3RlTWVkaWE9KCk9PkFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RWaWRlb0lzUmVhZHk9ZT0+e3ZhciB0O3JldHVybiEobnVsbD09PSh0PXRoaXMucmVjdkNvbm5lY3Rpb24pfHx2b2lkIDA9PT10fHwhdC5nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZSkpfSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFVwbG9hZD0oZSx0KT0+dGhpcy5lbWl0KF9JLlJlcXVlc3RVcGxvYWRTdGF0cyxlLHQpLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0QWxsVHJhY2tzPSgpPT50aGlzLmdldEFsbFRyYWNrcygpfXVuYmluZFN0YXRzVXBsb2FkZXJFdmVudHMoKXt0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFN0YXRzPXZvaWQgMCx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdExvY2FsTWVkaWE9dm9pZCAwLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0UmVtb3RlTWVkaWE9dm9pZCAwLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0VmlkZW9Jc1JlYWR5PXZvaWQgMH1hc3luYyByZXF1ZXN0UmVjb25uZWN0KCl7dGhpcy5kdGxzRmFpbGVkQ291bnQrPTEsYXdhaXQgVVMoelModGhpcy5kdGxzRmFpbGVkQ291bnQsSlMpKSx0aGlzLmVtaXQoX0kuUmVxdWVzdFJlY29ubmVjdCl9YXN5bmMgcmVjb25uZWN0UDJQKCl7fWNhblB1Ymxpc2hMb3dTdHJlYW0oKXtyZXR1cm4gdGhpcy5sb2NhbFRyYWNrTWFwLmhhcyh1SS5Mb2NhbFZpZGVvVHJhY2spfHx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKChlPT5lIGluc3RhbmNlb2YgZmIpKX10aHJvd0lmVHJhY2tUeXBlTm90TWF0Y2goZSl7aWYoZS5maWx0ZXIoKGU9PmUgaW5zdGFuY2VvZiBmYikpLmxlbmd0aD4xKXRocm93IG5ldyBWZyh4Zy5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKTtpZihlLmZpbHRlcigoZT0+ZSBpbnN0YW5jZW9mIHpBKSkubGVuZ3RoPjEmJihlLnNvbWUoKGU9PmUgaW5zdGFuY2VvZiB6QSYmZS5fYnlwYXNzV2ViQXVkaW8pKXx8IWhBKCkud2ViQXVkaW9NZWRpYVN0cmVhbURlc3QpKXRocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpbyBvciB5b3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IE1lZGlhU3RyZWFtRGVzdE5vZGVcIik7Zm9yKGNvbnN0IHQgb2YgZSl7aWYodCBpbnN0YW5jZW9mIGZiJiZ0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKChlPT5lIGluc3RhbmNlb2YgZmIpKSl0aHJvdyBuZXcgVmcoeGcuQ0FOX05PVF9QVUJMSVNIX01VTFRJUExFX1ZJREVPX1RSQUNLUyk7aWYodCBpbnN0YW5jZW9mIHpBJiZ0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKChlPT5lIGluc3RhbmNlb2YgekEpKSYmKCFoQSgpLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0fHx0Ll9ieXBhc3NXZWJBdWRpb3x8dGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc29tZSgoZT0+ZSBpbnN0YW5jZW9mIHpBJiZlLl9ieXBhc3NXZWJBdWRpbykpKSl0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBNZWRpYVN0cmVhbURlc3ROb2RlXCIpfX1nZXRMb3dWaWRlb1RyYWNrKGUsdCl7Y29uc3QgaT0ha0MoXCJESVNBQkxFX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElOR1wiKSYmaEEoKS5zdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nLG49Yk0oYk0oe30se3dpZHRoOjE2MCxoZWlnaHQ6MTIwLGZyYW1lcmF0ZToxNSxiaXRyYXRlOjUwfSksdCk7bGV0IHI7cj1pP2UuX21lZGlhU3RyZWFtVHJhY2suY2xvbmUoKTpqTChlLG4pO2NvbnN0IHM9eFMoOCxcInRyYWNrLWxvdy1cIiksbz1uZXcgZmIocixiTShiTSh7fSxpJiZ7c2NhbGVSZXNvbHV0aW9uRG93bkJ5OlNEKG4sZSl9KSx7fSx7ZnJhbWVSYXRlOm4uZnJhbWVyYXRlLGJpdHJhdGVNYXg6bi5iaXRyYXRlLGJpdHJhdGVNaW46bi5iaXRyYXRlfSksdm9pZCAwLHZvaWQgMCxzKTtyZXR1cm4gby5vbihNeS5UUkFOU0NFSVZFUl9VUERBVEVELCh0PT57ZS5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIodCxQeS5MT1dfU1RSRUFNKX0pKSxvLl9oaW50cy5wdXNoKER5LkxPV19TVFJFQU0pLGUuYWRkTGlzdGVuZXIoTnkuTkVFRF9DTE9TRSwoKCk9PntvLmNsb3NlKCl9KSksb31hc3luYyBnbG9iYWxMb2NrKCl7cmV0dXJuIHRoaXMucmVjdk11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwyLmdsb2JhbExvY2tcIil9cmVwb3J0VmlkZW9GaXJzdEZyYW1lRGVjb2RlZChlLHQsaSxuKXt2YXIgcjtjb25zdCBzPUFycmF5LmZyb20oaHUocj10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwocikpLmZpbmQoKHQ9PnQuX3ZpZGVvU1NSQz09PWUpKTtpZihzKXtufHx0aGlzLnN0b3JlLnN1YnNjcmliZShzLnVpZCxcInZpZGVvXCIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLERhdGUubm93KCkpO2NvbnN0IHI9dGhpcy5zdG9yZS5rZXlNZXRyaWNzLG89ci5zdWJzY3JpYmUuZmluZCgoZT0+ZS51c2VySWQ9PT1zLnVpZCYmXCJ2aWRlb1wiPT09ZS50eXBlKSk7aXYuZmlyc3RSZW1vdGVWaWRlb0RlY29kZSh0aGlzLnN0b3JlLnNlc3Npb25JZCxKQy5GSVJTVF9WSURFT19ERUNPREUsekMuRklSU1RfVklERU9fREVDT0RFLHtwZWVyOnMuX3VpbnRpZCx2aWRlb3dpZHRoOnQsdmlkZW9oZWlnaHQ6aSxzdWJzY3JpYmVFbGFwc2U6c0QubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWQsYXBFbmQ6ci5yZXF1ZXN0QVBFbmR8fDAsYXBTdGFydDpyLnJlcXVlc3RBUFN0YXJ0fHwwLGpvaW5Hd0VuZDpyLmpvaW5HYXRld2F5RW5kfHwwLGpvaW5Hd1N0YXJ0OnIuam9pbkdhdGV3YXlTdGFydHx8MCxwY0VuZDpyLnBlZXJDb25uZWN0aW9uRW5kfHwwLHBjU3RhcnQ6ci5wZWVyQ29ubmVjdGlvblN0YXJ0fHwwLHN1YnNjcmliZXJFbmQ6KG51bGw9PW8/dm9pZCAwOm8uc3Vic2NyaWJlRW5kKXx8MCxzdWJzY3JpYmVyU3RhcnQ6KG51bGw9PW8/dm9pZCAwOm8uc3Vic2NyaWJlU3RhcnQpfHwwLHZpZGVvQWRkTm90aWZ5OihudWxsPT1vP3ZvaWQgMDpvLnN0cmVhbUFkZGVkKXx8MCxzdGF0ZTpuPzE6MH0pfX1hc3luYyByZW1vdGVNZWRpYVNzcmNDaGFuZ2VkKGUsdCxpKXtpZighdGhpcy5yZWN2Q29ubmVjdGlvbilyZXR1cm4hMTtjb25zdCBuPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7aWYoIW4pcmV0dXJuITE7Y29uc3Qgcj1uLmdldCh0KTtpZighcilyZXR1cm4hMTtjb25zdCBzPWF3YWl0IHRoaXMucmVjdkNvbm5lY3Rpb24uZ2V0UmVtb3RlU1NSQyhyKTtyZXR1cm4gdm9pZCAwIT09cyYmcyE9PWl9cmVzZXRDb25uZWN0aW9uKGUpe1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ2hhbm5lbDJdIHJlc2V0IGNvbm5lY3Rpb24gdG8gXCIpLmNvbmNhdChlKSksdGhpcy5zdGF0ZT09PXBJLkNvbm5lY3RlZD8oV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDaGFubmVsMl0gZmFsbGJhY2sgdG8gd2Vic29ja2V0IGJ1dCBQMlBDaGFubmVsMiBzdGF0ZSBzdGlsbCBjb25uZWN0ZWQsIGRpc2Nvbm5lY3QgZmlyc3RcIikpLHRoaXMuZGlzY29ubmVjdEZvclJlY29ubmVjdCgpKToodGhpcy5zZW5kQ29ubmVjdGlvbiYmKHRoaXMuc2VuZENvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLnVuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5zZW5kQ29ubmVjdGlvbiksdGhpcy5zZW5kQ29ubmVjdGlvbj12b2lkIDApLHRoaXMucmVjdkNvbm5lY3Rpb24mJih0aGlzLnJlY3ZDb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMucmVjdkNvbm5lY3Rpb24pLHRoaXMucmVjdkNvbm5lY3Rpb249dm9pZCAwKSl9YXN5bmMgcHVibGlzaERhdGFDaGFubmVsKGUpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVEKX1hc3luYyB1bnB1Ymxpc2hEYXRhQ2hhbm5lbChlKXt0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCl9YXN5bmMgc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSx0KXt0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCl9YXN5bmMgdW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVEKX1oYXNQZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWwoZSx0KXt0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCl9c2V0UGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKGUsdCl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQpfWFzeW5jIHByZUNvbm5lY3QoZSx0LGksbixyLHMpe3Rocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVEKX1nZXRFc3RhYmxpc2hQYXJhbXMoKXt0aHJvdyBuZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCl9YXN5bmMgcmVTdWJzY3JpYmUoZSl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQpfWFzeW5jIHVwZGF0ZVZpZGVvU3RyZWFtUGFyYW1ldGVyKGUsdCl7dGhyb3cgbmV3IFZnKHhnLk5PVF9TVVBQT1JURUQpfXVuYmluZFJ0cFRyYW5zY2VpdmVyKCl7MCE9PXRoaXMubG9jYWxUcmFja01hcC5zaXplJiZBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdCx7dHJhY2s6aX1dPWU7dD09PXVJLkxvY2FsVmlkZW9Mb3dUcmFjaz9pLl91cGRhdGVSdHBUcmFuc2NlaXZlcih2b2lkIDAsUHkuTE9XX1NUUkVBTSk6aS5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIodm9pZCAwKX0pKX19ZnVuY3Rpb24gT00oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsaSxuKXtjb25zdCByPXRbaV07aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygcil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIG11dGV4IG9uIG9iamVjdCBwcm9wZXJ0eS5cIik7cmV0dXJuIG4udmFsdWU9YXN5bmMgZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0KSxzPTA7czx0O3MrKyluW3NdPWFyZ3VtZW50c1tzXTtzd2l0Y2goZSl7Y2FzZSB5TS5TRU5EX09OTFk6e2NvbnN0IGU9YXdhaXQgdGhpcy5zZW5kTXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbDIuXCIuY29uY2F0KGkpKTt0cnl7cmV0dXJuIGF3YWl0IHIuYXBwbHkodGhpcyxuKX1maW5hbGx5e2UoKX19Y2FzZSB5TS5SRUNFSVZFX09OTFk6e2NvbnN0IGU9YXdhaXQgdGhpcy5yZWN2TXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbDIuXCIuY29uY2F0KGkpKTt0cnl7cmV0dXJuIGF3YWl0IHIuYXBwbHkodGhpcyxuKX1maW5hbGx5e2UoKX19ZGVmYXVsdDp7Y29uc3QgZT1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsMi5cIi5jb25jYXQoaSkpLHQ9YXdhaXQgdGhpcy5yZWN2TXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbDIuXCIuY29uY2F0KGkpKTt0cnl7cmV0dXJuIGF3YWl0IHIuYXBwbHkodGhpcyxuKX1maW5hbGx5e2UoKSx0KCl9fX19LG59fWZ1bmN0aW9uIE5NKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBETShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9OTShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpOTShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1MdihbT00oKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0LFN0cmluZ10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHdNLnByb3RvdHlwZSxcInN0YXJ0UDJQXCIsbnVsbCksTHYoW09NKCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHdNLnByb3RvdHlwZSxcInAycENvbm5lY3RcIixudWxsKSxMdihbT00oeU0uU0VORF9PTkxZKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sd00ucHJvdG90eXBlLFwiZG9wdWJsaXNoXCIsbnVsbCksTHYoW09NKHlNLlNFTkRfT05MWSksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sd00ucHJvdG90eXBlLFwidW5wdWJsaXNoXCIsbnVsbCksTHYoW09NKCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHdNLnByb3RvdHlwZSxcInVucHVibGlzaExvd1N0cmVhbVwiLG51bGwpLEx2KFtPTSh5TS5TRU5EX09OTFkpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmddKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx3TS5wcm90b3R5cGUsXCJkb1VucHVibGlzaFwiLG51bGwpLEx2KFtPTSh5TS5SRUNFSVZFX09OTFkpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtiUCxTdHJpbmcsU3RyaW5nLE51bWJlcl0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHdNLnByb3RvdHlwZSxcInN1YnNjcmliZVwiLG51bGwpLEx2KFtPTSh5TS5SRUNFSVZFX09OTFkpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtiUCxTdHJpbmcsU3RyaW5nLEJvb2xlYW5dKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx3TS5wcm90b3R5cGUsXCJ1bnN1YnNjcmliZVwiLG51bGwpLEx2KFtPTSh5TS5SRUNFSVZFX09OTFkpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtiUCxTdHJpbmddKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx3TS5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIsbnVsbCksTHYoW09NKHlNLlJFQ0VJVkVfT05MWSksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW2JQLFN0cmluZ10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHdNLnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiLG51bGwpLEx2KFtPTSh5TS5SRUNFSVZFX09OTFkpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtiUCxTdHJpbmddKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSx3TS5wcm90b3R5cGUsXCJoYXNSZW1vdGVNZWRpYVdpdGhMb2NrXCIsbnVsbCksTHYoW09NKCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHdNLnByb3RvdHlwZSxcImRpc2Nvbm5lY3RGb3JSZWNvbm5lY3RcIixudWxsKSxMdihbT00oeU0uUkVDRUlWRV9PTkxZKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbYlAsU3RyaW5nLE51bWJlcl0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLHdNLnByb3RvdHlwZSxcInJlbW90ZU1lZGlhU3NyY0NoYW5nZWRcIixudWxsKTtjb25zdCBQTT1EYXRlLm5vdygpLExNPTIwLGtNPW5ldyBNYXAsTU09bmV3IE1hcDthc3luYyBmdW5jdGlvbiBVTShlKXtjb25zdCB0PWtNLmdldChlKSxpPUFycmF5LmlzQXJyYXkodCkmJnRbdC5sZW5ndGgtMV0sbj1NTS5nZXQoZSk7aWYoIWkpcmV0dXJuIHZvaWQobi5pc1N5bmNpbmc9ITEpO2NvbnN0IHI9e3VpZDppLnVpZCxwYXlsb2FkOkRTKGkucGF5bG9hZCl9OzA9PT1uLmZpcnN0UmVjdlRzJiYobi5maXJzdFJlY3ZUcz1pLnJlY3ZUcyxuLmZpcnN0U2VuZFRzPWkuc2VuZFRzKTtjb25zdCBzPWkuc2VuZFRzLW4uZmlyc3RTZW5kVHMsbz1zLShEYXRlLm5vdygpLW4uZmlyc3RSZWN2VHMpO28+MCYmKG4uZmlyc3RSZWN2VHM9RGF0ZS5ub3coKS1zKTtsZXQgYT1pLm1lZGlhRGVsYXkrbzthPD0wPyh0LnBvcCgpLHhNKGkuY29udGV4dCxyKSxhPTApOmE9TWF0aC5taW4oYSxMTSksc2V0VGltZW91dCgoKCk9PnQubGVuZ3RoJiZVTShlKSksYSl9ZnVuY3Rpb24geE0oZSx0KXtlLnNhZmVFbWl0KGRTLlNUUkVBTV9NRVNTQUdFLHQudWlkLHQucGF5bG9hZCksZS5vblN0cmVhbU1lc3NhZ2UmJmUub25TdHJlYW1NZXNzYWdlKHQpfWZ1bmN0aW9uIFZNKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLGk9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7aWYoIWUuc3luY1dpdGhBdWRpbylyZXR1cm4geE0oaSx7dWlkOmUudWlkLHBheWxvYWQ6RFMoZS5wYXlsb2FkKX0pO2NvbnN0IG49XCJcIi5jb25jYXQoaS5pZCxcIi1cIikuY29uY2F0KGUudWlkKSxyPWtNLmdldChuKXx8W10scz1yLmZpbmRJbmRleCgodD0+ZS5zZW5kVHM+PXQuc2VuZFRzKSksbz1ETShETSh7fSxlKSx7fSx7Y29udGV4dDppLG1lZGlhRGVsYXk6dCxyZWN2VHM6RGF0ZS5ub3coKX0pOy0xPT09cz9yLnB1c2gobyk6ci5zcGxpY2UocywwLG8pLGtNLnNldChuLHIpO2xldCBhPSExO3ZhciBjO01NLmhhcyhuKT9hPSEobnVsbD09PShjPU1NLmdldChuKSl8fHZvaWQgMD09PWN8fCFjLmlzU3luY2luZyk6TU0uc2V0KG4se2lzU3luY2luZzphLGZpcnN0UmVjdlRzOjAsZmlyc3RTZW5kVHM6MH0pO2F8fFVNKG4pfWZ1bmN0aW9uIEZNKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBCTShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9GTShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpGTShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1ZUy5zZXRMb2dnZXIoV0MpO2NsYXNzIGpNIGV4dGVuZHMgaVN7Z2V0IGNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLl9nYXRld2F5LnN0YXRlfWdldCByZW1vdGVVc2Vycygpe3JldHVybiB0aGlzLl91c2Vyc31nZXQgbG9jYWxUcmFja3MoKXtyZXR1cm4gdGhpcy5fcDJwQ2hhbm5lbC5nZXRBbGxUcmFja3MoITApfWdldCB1aWQoKXtyZXR1cm4gdGhpcy5fdWlkfWdldCBjaGFubmVsTmFtZSgpe3JldHVybiB0aGlzLl9jaGFubmVsTmFtZX1nZXQgbG9jYWxEYXRhQ2hhbm5lbHMoKXtyZXR1cm4gdGhpcy5fcDJwQ2hhbm5lbC5nZXRBbGxEYXRhQ2hhbm5lbHMoKX1nZXQgbW9kZSgpe3JldHVybiB0aGlzLl9jb25maWcubW9kZX1nZXQgcm9sZSgpe3ZhciBlO3JldHVybihudWxsPT09KGU9dGhpcy5fY29uZmlnKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5yb2xlKXx8XCJhdWRpZW5jZVwifWdldCBjb2RlYygpe3JldHVybiB0aGlzLl9jb25maWcuY29kZWN9Z2V0IGF1ZGlvQ29kZWMoKXtyZXR1cm4gdGhpcy5fY29uZmlnLmF1ZGlvQ29kZWN8fFwib3B1c1wifWdldCBpc1N0cmluZ1VJRCgpe3JldHVybiEhdGhpcy5fam9pbkluZm8mJiEhdGhpcy5fam9pbkluZm8uc3RyaW5nVWlkfWdldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuXCJDbGllbnRcIn1jb25zdHJ1Y3RvcihlKXtsZXQgdDtpZihzdXBlcigpLG51KHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksbnUodGhpcyxcIl91aWRcIix2b2lkIDApLG51KHRoaXMsXCJfY2hhbm5lbE5hbWVcIix2b2lkIDApLG51KHRoaXMsXCJfdWludFVpZFwiLHZvaWQgMCksbnUodGhpcyxcIl91c2Vyc1wiLFtdKSxudSh0aGlzLFwiX2NvbmZpZ1wiLHZvaWQgMCksbnUodGhpcyxcIl9jbGllbnRJZFwiLHZvaWQgMCksbnUodGhpcyxcIl9hcHBJZFwiLHZvaWQgMCksbnUodGhpcyxcIl9zZXNzaW9uSWRcIixudWxsKSxudSh0aGlzLFwiX2tleVwiLHZvaWQgMCksbnUodGhpcyxcIl9qb2luSW5mb1wiLHZvaWQgMCksbnUodGhpcyxcIl9nYXRld2F5XCIsdm9pZCAwKSxudSh0aGlzLFwiX3N0YXRzQ29sbGVjdG9yXCIsdm9pZCAwKSxudSh0aGlzLFwiX2NvbmZpZ0Rpc3RyaWJ1dGVcIix2b2lkIDApLG51KHRoaXMsXCJfbGVhdmVNdXRleFwiLG5ldyBZUyhcImNsaWVudC1sZWF2ZVwiKSksbnUodGhpcyxcIl9wdWJsaXNoTXV0ZXhcIixuZXcgWVMoXCJjbGllbnQtcHVibGlzaFwiKSksbnUodGhpcyxcIl9yZW5ld1Rva2VuTXV0ZXhcIixuZXcgWVMoXCJjbGllbnQtcmVuZXd0b2tlblwiKSksbnUodGhpcyxcIl9zdWJzY3JpYmVNdXRleFwiLG5ldyBZUyhcImNsaWVudC1zdWJzY3JpYmVcIikpLG51KHRoaXMsXCJfZW5jcnlwdGlvbk1vZGVcIixcIm5vbmVcIiksbnUodGhpcyxcIl9lbmNyeXB0aW9uU2VjcmV0XCIsbnVsbCksbnUodGhpcyxcIl9lbmNyeXB0aW9uU2FsdFwiLG51bGwpLG51KHRoaXMsXCJfcHJveHlTZXJ2ZXJcIix2b2lkIDApLG51KHRoaXMsXCJfdHVyblNlcnZlclwiLHtzZXJ2ZXJzOltdLG1vZGU6XCJhdXRvXCJ9KSxudSh0aGlzLFwiX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlXCIsXCJkaXNhYmxlZFwiKSxudSh0aGlzLFwiX2lzRHVhbFN0cmVhbUVuYWJsZWRcIiwhMSksbnUodGhpcyxcIl9kZWZhdWx0U3RyZWFtRmFsbGJhY2tUeXBlXCIsdm9pZCAwKSxudSh0aGlzLFwiX2xvd1N0cmVhbVBhcmFtZXRlclwiLHZvaWQgMCksbnUodGhpcyxcIl9zdHJlYW1GYWxsYmFja1R5cGVDYWNoZU1hcFwiLG5ldyBNYXApLG51KHRoaXMsXCJfcmVtb3RlU3RyZWFtVHlwZUNhY2hlTWFwXCIsbmV3IE1hcCksbnUodGhpcyxcIl9heGlvc0NhbmNlbFNvdXJjZVwiLEVDLkNhbmNlbFRva2VuLnNvdXJjZSgpKSxudSh0aGlzLFwiX2F1ZGlvVm9sdW1lSW5kaWNhdGlvbkludGVydmFsXCIsdm9pZCAwKSxudSh0aGlzLFwiX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWxcIix2b2lkIDApLG51KHRoaXMsXCJfdXNlck9mZmxpbmVUaW1lb3V0XCIsdm9pZCAwKSxudSh0aGlzLFwiX3N0cmVhbVJlbW92ZWRUaW1lb3V0XCIsdm9pZCAwKSxudSh0aGlzLFwiX2luamVjdFN0cmVhbWluZ0NsaWVudFwiLHZvaWQgMCksbnUodGhpcyxcIl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50XCIsdm9pZCAwKSxudSh0aGlzLFwiX2xpdmVSYXdTdHJlYW1pbmdDbGllbnRcIix2b2lkIDApLG51KHRoaXMsXCJfY2hhbm5lbE1lZGlhUmVsYXlDbGllbnRcIix2b2lkIDApLG51KHRoaXMsXCJfbmV0d29ya1F1YWxpdHlTZW5zaXRpdml0eVwiLFwibm9ybWFsXCIpLG51KHRoaXMsXCJfcDJwQ2hhbm5lbFwiLHZvaWQgMCksbnUodGhpcyxcIl91c2VMb2NhbEFjY2Vzc1BvaW50XCIsITEpLG51KHRoaXMsXCJfc2V0TG9jYWxBUFZlcnNpb25cIix2b2lkIDApLG51KHRoaXMsXCJfam9pbkFuZE5vdExlYXZlWWV0XCIsITEpLG51KHRoaXMsXCJfbnVtYmVyT2ZKb2luQ291bnRcIiwwKSxudSh0aGlzLFwiX3JlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGVcIix2b2lkIDApLG51KHRoaXMsXCJfaW5zcGVjdFwiLHZvaWQgMCksbnUodGhpcyxcIl9tb2RlcmF0aW9uXCIsdm9pZCAwKSxudSh0aGlzLFwiX2xpY2Vuc2VcIix2b2lkIDApLG51KHRoaXMsXCJfcGVuZGluZ1B1Ymxpc2hlZFVzZXJzXCIsW10pLG51KHRoaXMsXCJudHBBbGlnbkVycm9yQ291bnRcIiwwKSxudSh0aGlzLFwicmVtb3RlSW5ib3VuZE9mZnNldFwiLDApLG51KHRoaXMsXCJfaGFuZGxlTG9jYWxUcmFja0VuYWJsZVwiLCgoZSx0LGkpPT57dGhpcy5wdWJsaXNoKGUsITEpLnRoZW4odCkuY2F0Y2goaSl9KSksbnUodGhpcyxcIl9oYW5kbGVMb2NhbFRyYWNrRGlzYWJsZVwiLCgoZSx0LGkpPT57dGhpcy51bnB1Ymxpc2goZSkudGhlbih0KS5jYXRjaChpKX0pKSxudSh0aGlzLFwiX2hhbmRsZVVzZXJPbmxpbmVcIiwoZT0+e2lmKGtDKFwiQkxPQ0tfTE9DQUxfQ0xJRU5UXCIpJiZhdihlLnVpZCx0aGlzLmNoYW5uZWxOYW1lKSlyZXR1cm4gdm9pZCBXQy5kZWJ1ZyhcIltcIi5jb25jYXQoZS51aWQsXCJdIHdpbGwgYmUgaWdub3JlZCBpbiBsb2NhbFwiKSk7dGhpcy5pc1N0cmluZ1VJRCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUudWlkJiZXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFN0cmluZ1VJRCBpcyBNaXhlZCB3aXRoIFVpbnRVSURcIikpO2NvbnN0IHQ9dGhpcy5fdXNlcnMuZmluZCgodD0+dC51aWQ9PT1lLnVpZCkpO2lmKHQpdC5fdHJ1c3RfaW5fcm9vbV89ITA7ZWxzZXtjb25zdCB0PW5ldyBiUChlLnVpZCxlLnVpbnRfaWR8fGUudWlkKTt0aGlzLl91c2Vycy5wdXNoKHQpLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlciBvbmxpbmVcIiksZS51aWQpLHRoaXMuc2FmZUVtaXQoZFMuVVNFUl9KT0lORUQsdCl9fSkpLG51KHRoaXMsXCJfaGFuZGxlVXNlck9mZmxpbmVcIiwoZT0+e2lmKGtDKFwiQkxPQ0tfTE9DQUxfQ0xJRU5UXCIpJiZhdihlLnVpZCx0aGlzLmNoYW5uZWxOYW1lKSlyZXR1cm47Y29uc3QgdD10aGlzLl91c2Vycy5maW5kKCh0PT50LnVpZD09PWUudWlkKSk7dCYmKHRoaXMuX2hhbmRsZVJlbW92ZVN0cmVhbShlKSx0aGlzLl9oYW5kbGVSZW1vdmVEYXRhQ2hhbm5lbHMoZSksSVModGhpcy5fdXNlcnMsdCksdGhpcy5fcmVtb3RlU3RyZWFtVHlwZUNhY2hlTWFwLmRlbGV0ZSh0LnVpZCksdGhpcy5fc3RyZWFtRmFsbGJhY2tUeXBlQ2FjaGVNYXAuZGVsZXRlKHQudWlkKSxXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXIgb2ZmbGluZVwiKSxlLnVpZCxcInJlYXNvbjpcIixlLnJlYXNvbiksdGhpcy5zYWZlRW1pdChkUy5VU0VSX0xFQVZFRCx0LGUucmVhc29uKSl9KSksbnUodGhpcyxcIl9oYW5kbGVBZGRBdWRpb09yVmlkZW9TdHJlYW1cIiwoKGUsdCxpLG4scixzLG8pPT57aWYoa0MoXCJCTE9DS19MT0NBTF9DTElFTlRcIikmJmF2KHQsdGhpcy5jaGFubmVsTmFtZSkpcmV0dXJuO2NvbnN0IGE9dGhpcy5fdXNlcnMuZmluZCgoZT0+ZS51aWQ9PT10KSk7aWYoIWEpcmV0dXJuIHZvaWQgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX2FkZF9zdHJlYW0pXCIpKTtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0cmVhbSBhZGRlZCB3aXRoIHVpZCBcIikuY29uY2F0KHQsXCIsIHR5cGUgXCIpLmNvbmNhdChlKSksdGhpcy5zdG9yZS5zdWJzY3JpYmUoYS51aWQsZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCxEYXRlLm5vdygpKTtjb25zdCBjPVwiYXVkaW9cIj09PWU/YS5oYXNBdWRpbzphLmhhc1ZpZGVvO2EuX3VpbnRpZHx8KGEuX3VpbnRpZD1yfHx0KSxcImF1ZGlvXCI9PT1lP2EuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITA6YS5fdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMCxcImF1ZGlvXCI9PT1lPyhhLl9hdWRpb19hZGRlZF89ITAsdm9pZCAwIT09aSYmKGEuX2F1ZGlvU1NSQz1pKSx2b2lkIDAhPT1uJiYoYS5fY25hbWU9bikscyYmKGEuX2F1ZGlvT3J0Yz1zKSk6KGEuX3ZpZGVvX2FkZGVkXz0hMCx2b2lkIDAhPT1pJiYoYS5fdmlkZW9TU1JDPWkpLHZvaWQgMCE9PW4mJihhLl9jbmFtZT1uKSx2b2lkIDAhPT1vJiYoYS5fcnR4U3NyY0lkPW8pLHMmJihhLl92aWRlb09ydGM9cykpLChcImF1ZGlvXCI9PT1lP2EuaGFzQXVkaW86YS5oYXNWaWRlbykmJiFjJiYoV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoYS51aWQsXCIgcHVibGlzaGVkIFwiKS5jb25jYXQoZSkpLHRoaXMuc2FmZUVtaXQoZFMuVVNFUl9QVUJMSVNIRUQsYSxlKSksXCJ2aWRlb1wiPT09ZT9pdi5vbkdhdGV3YXlTdHJlYW0odGhpcy5fc2Vzc2lvbklkLEpDLk9OX0FERF9WSURFT19TVFJFQU0sekMuT05fQUREX1ZJREVPX1NUUkVBTSx7cGVlcjpyfHx0LHNzcmM6YS5fdmlkZW9TU1JDfSk6aXYub25HYXRld2F5U3RyZWFtKHRoaXMuX3Nlc3Npb25JZCxKQy5PTl9BRERfQVVESU9fU1RSRUFNLHpDLk9OX0FERF9BVURJT19TVFJFQU0se3BlZXI6cnx8dCxzc3JjOmEuX2F1ZGlvU1NSQ30pLHRoaXMuX3AycENoYW5uZWwucmVtb3RlTWVkaWFTc3JjQ2hhbmdlZChhLGUsaSkudGhlbigodD0+e2lmKHQmJihXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlc3Vic2NyaWJlIFwiKS5jb25jYXQoZSxcIiBmb3IgdXNlciBcIikuY29uY2F0KGEudWlkLFwiIGFmdGVyIHJlam9pbiBiZWNhdXNlIFNTUkMgaWQgY2hhbmdlZC5cIikpLHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBsaykpcmV0dXJuIHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmUoYSxlLCEwKS50aGVuKCgoKT0+dGhpcy5fc3Vic2NyaWJlKGEsZSwhMCkuY2F0Y2goKGU9PntXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlc3Vic2NyaWJlIGVycm9yXCIpLGUudG9TdHJpbmcoKSl9KSkpKX0pKSx0aGlzLl9wMnBDaGFubmVsLmhhc1BlbmRpbmdSZW1vdGVNZWRpYShhLGUpJiYoV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBcIikuY29uY2F0KGUsXCIgZm9yIHVzZXIgXCIpLmNvbmNhdChhLnVpZCxcIiBhZnRlciByZWNvbm5lY3QuXCIpKSx0aGlzLl9zdWJzY3JpYmUoYSxlLCEwKS5jYXRjaCgoZT0+e1dDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgZXJyb3JcIiksZS50b1N0cmluZygpKX0pKSl9KSksbnUodGhpcyxcIl9oYW5kbGVSZW1vdmVTdHJlYW1cIiwoKGUsdCxpKT0+e2lmKGtDKFwiQkxPQ0tfTE9DQUxfQ0xJRU5UXCIpJiZhdihlLnVpZCx0aGlzLmNoYW5uZWxOYW1lKSlyZXR1cm47Y29uc3Qgbj10aGlzLl91c2Vycy5maW5kKCh0PT50LnVpZD09PWUudWlkKSk7aWYoIW4pcmV0dXJuIHZvaWQgV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgZmluZCB0YXJnZXQgdXNlciEob25fcmVtb3ZlX3N0cmVhbSlcIikpO1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3RyZWFtIHJlbW92ZWQgd2l0aCB1aWQgXCIpLmNvbmNhdChlLnVpZCkpO2xldCByPSgpPT57fTtpZihuLmhhc0F1ZGlvJiZuLmhhc1ZpZGVvP3I9KCk9PntXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChuLnVpZCxcIiB1bnB1Ymxpc2hlZCBhdWRpbyB0cmFja1wiKSksdGhpcy5zYWZlRW1pdChkUy5VU0VSX1VOUFVCTElTSEVELG4sXCJhdWRpb1wiKSxXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChuLnVpZCxcIiB1bnB1Ymxpc2hlZCB2aWRlbyB0cmFja1wiKSksdGhpcy5zYWZlRW1pdChkUy5VU0VSX1VOUFVCTElTSEVELG4sXCJ2aWRlb1wiKX06bi5oYXNWaWRlbz9yPSgpPT57V0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQobi51aWQsXCIgdW5wdWJsaXNoZWQgdmlkZW8gdHJhY2tcIikpLHRoaXMuc2FmZUVtaXQoZFMuVVNFUl9VTlBVQkxJU0hFRCxuLFwidmlkZW9cIil9Om4uaGFzQXVkaW8mJihyPSgpPT57V0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQobi51aWQsXCIgdW5wdWJsaXNoZWQgYXVkaW8gdHJhY2tcIikpLHRoaXMuc2FmZUVtaXQoZFMuVVNFUl9VTlBVQkxJU0hFRCxuLFwiYXVkaW9cIil9KSxuLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwLG4uX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsbi5fYXVkaW9fYWRkZWRfPSExLG4uX3ZpZGVvX2FkZGVkXz0hMSx0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgbGspdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZShuKS50aGVuKChlPT57aWYoZSlyZXR1cm4gdGhpcy5fZ2F0ZXdheS51bnN1YnNjcmliZShlLG4udWlkKX0pKTtlbHNlIGlmKHQmJmkpaWYoZS5zZHApe2NvbnN0e3NkcDpyfT1lO3RoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmUobixyKS50aGVuKChlPT57ZSYmdChlKX0pKS5jYXRjaChpKX1lbHNlIHQmJnQoKTtuLl9hdWRpb1NTUkM9dm9pZCAwLG4uX3ZpZGVvU1NSQz12b2lkIDAsbi5fYXVkaW9PcnRjPXZvaWQgMCxuLl92aWRlb09ydGM9dm9pZCAwLG4uX3J0eFNzcmNJZD12b2lkIDAsaXYub25HYXRld2F5U3RyZWFtKHRoaXMuX3Nlc3Npb25JZCxKQy5PTl9SRU1PVkVfU1RSRUFNLHpDLk9OX1JFTU9WRV9TVFJFQU0se3BlZXI6ZS51aW50X2lkfHxlLnVpZH0pLHIoKX0pKSxudSh0aGlzLFwiX2hhbmRsZVNldFN0cmVhbUxvY2FsRW5hYmxlXCIsKChlLHQsaSk9PntpZihrQyhcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmYXYodCx0aGlzLmNoYW5uZWxOYW1lKSlyZXR1cm47Y29uc3Qgbj10aGlzLl91c2Vycy5maW5kKChlPT5lLnVpZD09PXQpKTtpZighbilyZXR1cm4gdm9pZCBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgZmluZCB0YXJnZXQgdXNlciEoZGlzYWJsZV9sb2NhbClcIikpO1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gbG9jYWwgXCIpLmNvbmNhdChlLFwiIFwiKS5jb25jYXQoaT9cImVuYWJsZWRcIjpcImRpc2FibGVkXCIsXCIgd2l0aCB1aWQgXCIpLmNvbmNhdCh0KSk7Y29uc3Qgcj1cImF1ZGlvXCI9PT1lP24uaGFzQXVkaW86bi5oYXNWaWRlbztpZihcImF1ZGlvXCI9PT1lKXtuLl90cnVzdF9hdWRpb19lbmFibGVkX3N0YXRlXz0hMDtjb25zdCBlPW4uX2F1ZGlvX2VuYWJsZWRfO2lmKG4uX2F1ZGlvX2VuYWJsZWRfPWksbi5fYXVkaW9fZW5hYmxlZF89PT1lKXJldHVybjt7Y29uc3QgZT1uLl9hdWRpb19lbmFibGVkXz9cImVuYWJsZS1sb2NhbC1hdWRpb1wiOlwiZGlzYWJsZS1sb2NhbC1hdWRpb1wiO1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlci1pbmZvLXVwZGF0ZWQsIHVpZDogXCIpLmNvbmNhdCh0LFwiLCBtc2c6IFwiKS5jb25jYXQoZSkpLHRoaXMuc2FmZUVtaXQoZFMuVVNFUl9JTkZPX1VQREFURUQsdCxlKX19ZWxzZXtuLl90cnVzdF92aWRlb19lbmFibGVkX3N0YXRlXz0hMDtjb25zdCBlPW4uX3ZpZGVvX2VuYWJsZWRfO2lmKG4uX3ZpZGVvX2VuYWJsZWRfPWksbi5fdmlkZW9fZW5hYmxlZF89PT1lKXJldHVybjt7Y29uc3QgZT1uLl92aWRlb19lbmFibGVkXz9cImVuYWJsZS1sb2NhbC12aWRlb1wiOlwiZGlzYWJsZS1sb2NhbC12aWRlb1wiO1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlci1pbmZvLXVwZGF0ZSwgdWlkOiBcIikuY29uY2F0KHQsXCIsIG1zZzogXCIpLmNvbmNhdChlKSksdGhpcy5zYWZlRW1pdChkUy5VU0VSX0lORk9fVVBEQVRFRCx0LGUpfX1jb25zdCBzPVwiYXVkaW9cIj09PWU/bi5oYXNBdWRpbzpuLmhhc1ZpZGVvO3JldHVybiByIT09cz8hciYmcz8oV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQodCxcIiBwdWJsaXNoZWQgXCIpLmNvbmNhdChlKSksdm9pZCB0aGlzLnNhZmVFbWl0KGRTLlVTRVJfUFVCTElTSEVELG4sZSkpOihcInZpZGVvXCI9PT1lJiZuLl92aWRlb1RyYWNrJiZuLl92aWRlb1RyYWNrLl9kZXN0cm95KCksXCJhdWRpb1wiPT09ZSYmbi5fYXVkaW9UcmFjayx0aGlzLl9wMnBDaGFubmVsLm11dGVSZW1vdGUobixlKSxXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdCh0LFwiIHVucHVibGlzaGVkIFwiKS5jb25jYXQoZSkpLHZvaWQgdGhpcy5zYWZlRW1pdChkUy5VU0VSX1VOUFVCTElTSEVELG4sZSkpOnZvaWQgMH0pKSxudSh0aGlzLFwiX2hhbmRsZU11dGVTdHJlYW1cIiwoKGUsdCxpLG4scixzKT0+e2lmKGtDKFwiQkxPQ0tfTE9DQUxfQ0xJRU5UXCIpJiZhdihlLHRoaXMuY2hhbm5lbE5hbWUpKXJldHVybjtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlY2VpdmUgbXV0ZSBtZXNzYWdlXCIpLGUsdCxpKTtjb25zdCBvPXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQudWlkPT09ZSkpO2lmKCFvKXJldHVybiB2b2lkIFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgcmVtb3RlIHVzZXIsIGlnbm9yZSBtdXRlIGV2ZW50LCB1aWQ6IFwiKS5jb25jYXQoZSkpO2NvbnN0IGE9XCJhdWRpb1wiPT09dD9vLmhhc0F1ZGlvOm8uaGFzVmlkZW87aWYoXCJhdWRpb1wiPT09dCl7by5fdHJ1c3RfYXVkaW9fbXV0ZV9zdGF0ZV89ITA7Y29uc3QgdD1vLl9hdWRpb19tdXRlZF87aWYoby5fYXVkaW9fbXV0ZWRfPWksby5fYXVkaW9fbXV0ZWRfPT09dClyZXR1cm47e2NvbnN0IHQ9by5fYXVkaW9fbXV0ZWRfP1wibXV0ZS1hdWRpb1wiOlwidW5tdXRlLWF1ZGlvXCI7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyLWluZm8tdXBkYXRlLCB1aWQ6IFwiKS5jb25jYXQoZSxcIiwgbXNnOiBcIikuY29uY2F0KHQpKSx0aGlzLnNhZmVFbWl0KGRTLlVTRVJfSU5GT19VUERBVEVELGUsdCl9fWVsc2V7by5fdHJ1c3RfdmlkZW9fbXV0ZV9zdGF0ZV89ITA7Y29uc3QgdD1vLl92aWRlb19tdXRlZF87aWYoby5fdmlkZW9fbXV0ZWRfPWksby5fdmlkZW9fbXV0ZWRfPT09dClyZXR1cm47e2NvbnN0IHQ9by5fdmlkZW9fbXV0ZWRfP1wibXV0ZS12aWRlb1wiOlwidW5tdXRlLXZpZGVvXCI7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyLWluZm8tdXBkYXRlLCB1aWQ6IFwiKS5jb25jYXQoZSxcIiwgbXNnOiBcIikuY29uY2F0KHQpKSx0aGlzLnNhZmVFbWl0KGRTLlVTRVJfSU5GT19VUERBVEVELGUsdCl9fWNvbnN0IGM9XCJhdWRpb1wiPT09dD9vLmhhc0F1ZGlvOm8uaGFzVmlkZW87aWYoYSE9PWMpe2lmKCFhJiZjKXtpZighdGhpcy5zdG9yZS51c2VQMlApe2lmKCEoXCJhdWRpb1wiPT09dD9vLl9hdWRpb1NTUkM6by5fdmlkZW9TU1JDKSlyZXR1cm4gdm9pZCBXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLFwiIHJlY2VpdmUgXCIpLmNvbmNhdCh0LFwiIHVubXV0ZSBtZXNzYWdlICBiZWZvcmUgYWRkIHN0cmVhbSBtZXNzYWdlLCBcIikuY29uY2F0KHQsXCIgU1NSQyBkb2Vzbid0IGV4aXN0IHlldC5cIikpfXJldHVybiBXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLFwiIHB1Ymxpc2hlZCBcIikuY29uY2F0KHQpKSx2b2lkIHRoaXMuc2FmZUVtaXQoZFMuVVNFUl9QVUJMSVNIRUQsbyx0KX1cInZpZGVvXCI9PT10JiZvLl92aWRlb1RyYWNrJiZvLl92aWRlb1RyYWNrLl9kZXN0cm95KCksXCJhdWRpb1wiPT09dCYmby5fYXVkaW9UcmFjayxyJiZzJiZ0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2Ygd00mJihuP3RoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmUobyxuLHQpLnRoZW4oKGU9PntyKGUpfSkpLmNhdGNoKHMpOnIoKSksdGhpcy5fcDJwQ2hhbm5lbC5tdXRlUmVtb3RlKG8sdCksV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZSxcIiB1bnB1Ymxpc2hlZCBcIikuY29uY2F0KHQpKSx0aGlzLnNhZmVFbWl0KGRTLlVTRVJfVU5QVUJMSVNIRUQsbyx0KX19KSksbnUodGhpcyxcIl9oYW5kbGVQMlBMb3N0XCIsKGFzeW5jIGU9PntXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlY2VpdmUgcDJwIGxvc3RcIiksZSkscGFyc2VJbnQoZS5wMnBpZCwxMCk9PT10aGlzLnN0b3JlLnAycElkP2F3YWl0IHRoaXMuX3AycENoYW5uZWwucmVxdWVzdFJlY29ubmVjdCgpOldDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBQMlBMb3N0IHN0cmVhbSBub3QgZm91bmRcIiksZSl9KSksbnUodGhpcyxcIl9oYW5kbGVUb2tlbldpbGxFeHBpcmVcIiwoKCk9PntXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlY2VpdmVkIG1lc3NhZ2Ugb25Ub2tlblByaXZpbGVnZVdpbGxFeHBpcmVcIikpLHRoaXMuc2FmZUVtaXQoZFMuT05fVE9LRU5fUFJJVklMRUdFX1dJTExfRVhQSVJFKX0pKSxudSh0aGlzLFwiX2hhbmRsZUJlZm9yZVVubG9hZFwiLChlPT57XCJiZWZvcmV1bmxvYWRcIj09PWUudHlwZSYmdm9pZCAwIT09ZS5yZXR1cm5WYWx1ZSYmXCJcIiE9PWUucmV0dXJuVmFsdWV8fCh0aGlzLmxlYXZlKCksV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gbGVhdmUgb25iZWZvcmV1bmxvYWQgb3IgcGFnZWhpZGVcIikpKX0pKSxudSh0aGlzLFwiX2hhbmRsZVVwZGF0ZU5ldHdvcmtRdWFsaXR5XCIsKCgpPT57aWYoXCJub3JtYWxcIj09PXRoaXMuX25ldHdvcmtRdWFsaXR5U2Vuc2l0aXZpdHkpcmV0dXJuO2lmKG5hdmlnYXRvciYmdm9pZCAwIT09bmF2aWdhdG9yLm9uTGluZSYmIW5hdmlnYXRvci5vbkxpbmUpcmV0dXJuIHZvaWQgdGhpcy5zYWZlRW1pdChkUy5ORVRXT1JLX1FVQUxJVFkse2Rvd25saW5rTmV0d29ya1F1YWxpdHk6Nix1cGxpbmtOZXR3b3JrUXVhbGl0eTo2fSk7Y29uc3QgZT17ZG93bmxpbmtOZXR3b3JrUXVhbGl0eTowLHVwbGlua05ldHdvcmtRdWFsaXR5OjB9O2UudXBsaW5rTmV0d29ya1F1YWxpdHk9dGhpcy5fcDJwQ2hhbm5lbC5nZXRVcGxpbmtOZXR3b3JrUXVhbGl0eSgpLGUuZG93bmxpbmtOZXR3b3JrUXVhbGl0eT10aGlzLl9wMnBDaGFubmVsLmdldERvd25saW5rTmV0d29ya1F1YWxpdHkoKSx0aGlzLnNhZmVFbWl0KGRTLk5FVFdPUktfUVVBTElUWSxlKX0pKSxudSh0aGlzLFwiX2hhbmRsZVAyUEFkZEF1ZGlvT3JWaWRlb1N0cmVhbVwiLCgoZSx0KT0+e2NvbnN0IGk9dGhpcy5fdXNlcnMuZmluZCgoZT0+ZS51aWQ9PT10KSk7aWYoIWkpcmV0dXJuIHZvaWQgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX2FkZF9zdHJlYW0pXCIpKTtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0cmVhbSBhZGRlZCB3aXRoIHVpZCBcIikuY29uY2F0KHQsXCIsIHR5cGUgXCIpLmNvbmNhdChlKSksdGhpcy5zdG9yZS5zdWJzY3JpYmUoaS51aWQsZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCxEYXRlLm5vdygpKTtjb25zdCBuPVwiYXVkaW9cIj09PWU/aS5oYXNBdWRpbzppLmhhc1ZpZGVvO1wiYXVkaW9cIj09PWU/aS5fdHJ1c3RfYXVkaW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMDppLl90cnVzdF92aWRlb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwLFwiYXVkaW9cIj09PWU/aS5fYXVkaW9fYWRkZWRfPSEwOmkuX3ZpZGVvX2FkZGVkXz0hMCwoXCJhdWRpb1wiPT09ZT9pLmhhc0F1ZGlvOmkuaGFzVmlkZW8pJiYhbiYmKFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGkudWlkLFwiIHB1Ymxpc2hlZCBcIikuY29uY2F0KGUpKSx0aGlzLnNhZmVFbWl0KGRTLlVTRVJfUFVCTElTSEVELGksZSkpLHRoaXMuX3AycENoYW5uZWwuaGFzUGVuZGluZ1JlbW90ZU1lZGlhKGksZSkmJihXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlc3Vic2NyaWJlIFwiKS5jb25jYXQoZSxcIiBmb3IgdXNlciBcIikuY29uY2F0KGkudWlkLFwiIGFmdGVyIHJlY29ubmVjdC5cIikpLHRoaXMuX3N1YnNjcmliZShpLGUsITApLmNhdGNoKChlPT57V0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpfSkpKX0pKSx0aGlzLl9jb25maWc9ZSx0aGlzLl9jbGllbnRJZD14Uyg1LFwiY2xpZW50LVwiKSx0aGlzLnN0b3JlPW5ldyB3QyhlLmNvZGVjLGUuYXVkaW9Db2RlYyxlLm1vZGUsdGhpcy5fY2xpZW50SWQpLHRoaXMuc3RvcmUuY2xpZW50Q3JlYXRlZCgpLGUucHJveHlTZXJ2ZXImJnRoaXMuc2V0UHJveHlTZXJ2ZXIoZS5wcm94eVNlcnZlciwhMCksZS50dXJuU2VydmVyJiZ0aGlzLnNldFR1cm5TZXJ2ZXIoZS50dXJuU2VydmVyLCEwKSxXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gSW5pdGlhbGl6aW5nIEFnb3JhUlRDIGNsaWVudCB2XCIpLmNvbmNhdChPQyxcIiBidWlsZDogXCIpLmNvbmNhdChEQyxcIiwgbW9kZTogXCIpLmNvbmNhdCh0aGlzLm1vZGUsXCIsIGNvZGVjOiBcIikuY29uY2F0KHRoaXMuY29kZWMpKSxlLmNsaWVudFJvbGVPcHRpb25zKXRyeXttUyhlLmNsaWVudFJvbGVPcHRpb25zKSx0PU9iamVjdC5hc3NpZ24oe30sZS5jbGllbnRSb2xlT3B0aW9ucyl9Y2F0Y2goZSl7V0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFwiKS5jb25jYXQoZS50b1N0cmluZygpKSl9dGhpcy5fc3RhdHNDb2xsZWN0b3I9bmV3IGNEKHRoaXMuc3RvcmUpLHRoaXMuX3N0YXRzQ29sbGVjdG9yLm9uU3RhdHNFeGNlcHRpb249KGUsdCxpKT0+e1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVjZWl2ZSBleGNlcHRpb24gbXNnLCBjb2RlOiBcIikuY29uY2F0KGUsXCIsIG1zZzogXCIpLmNvbmNhdCh0LFwiLCB1aWQ6IFwiKS5jb25jYXQoaSkpLHRoaXMuc2FmZUVtaXQoZFMuRVhDRVBUSU9OLHtjb2RlOmUsbXNnOnQsdWlkOml9KX0sdGhpcy5fc3RhdHNDb2xsZWN0b3Iub25VcGxvYWRQdWJsaXNoRHVyYXRpb249KGUsdCxpLG4pPT57Y29uc3Qgcj10aGlzLl91c2Vycy5maW5kKCh0PT50LnVpZD09PWUpKTtyJiZpdi5wZWVyUHVibGlzaFN0YXR1cyh0aGlzLl9zZXNzaW9uSWQse3N1YnNjcmliZUVsYXBzZTpuLGF1ZGlvUHVibGlzaER1cmF0aW9uOnQsdmlkZW9QdWJsaXNoRHVyYXRpb246aSxwZWVyOnIuX3VpbnRpZH0pfSx0aGlzLnN0b3JlLnVzZURhdGFDaGFubmVsPWhBKCkuc3VwcG9ydERhdGFDaGFubmVsJiZrQyhcIlNJR05BTF9DSEFOTkVMXCIpLHRoaXMuc3RvcmUudXNlUDJQPWtDKFwiUDJQXCIpLHRoaXMuX2dhdGV3YXk9bmV3IFBEKHRoaXMuc3RvcmUse2NsaWVudElkOnRoaXMuX2NsaWVudElkLG1vZGU6dGhpcy5tb2RlLGNvZGVjOnRoaXMuY29kZWMsd2Vic29ja2V0UmV0cnlDb25maWc6ZS53ZWJzb2NrZXRSZXRyeUNvbmZpZ3x8SlMsaHR0cFJldHJ5Q29uZmlnOmUuaHR0cFJldHJ5Q29uZmlnfHxKUyxmb3JjZVdhaXRHYXRld2F5UmVzcG9uc2U6dm9pZCAwPT09ZS5mb3JjZVdhaXRHYXRld2F5UmVzcG9uc2V8fGUuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlLHN0YXRzQ29sbGVjdG9yOnRoaXMuX3N0YXRzQ29sbGVjdG9yLHJvbGU6ZS5yb2xlLGNsaWVudFJvbGVPcHRpb25zOnR9KSx0aGlzLl9jb25maWdEaXN0cmlidXRlPW5ldyBtUCx0aGlzLnN0b3JlLnVzZVAyUD8odGhpcy5fcDJwQ2hhbm5lbD1uZXcgd00odGhpcy5zdG9yZSx0aGlzLl9zdGF0c0NvbGxlY3RvciksdGhpcy5faGFuZGxlUDJQRXZlbnRzKCkpOnRoaXMuX3AycENoYW5uZWw9bmV3IGxrKHRoaXMuc3RvcmUsdGhpcy5fc3RhdHNDb2xsZWN0b3IpLHRoaXMuX2hhbmRsZVAyUENoYW5uZWxFdmVudHMoKSx0aGlzLl9oYW5kbGVHYXRld2F5RXZlbnRzKCksdGhpcy5faGFuZGxlR2F0ZXdheVNpZ25hbEV2ZW50cygpfWFzeW5jIGpvaW5NZXRhKGUsdCxpLG4scil7bGV0IHM9IShhcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XSl8fGFyZ3VtZW50c1s1XSxvPWFyZ3VtZW50cy5sZW5ndGg+NiYmdm9pZCAwIT09YXJndW1lbnRzWzZdJiZhcmd1bWVudHNbNl07TEMoXCJKT0lOX0dBVEVXQVlfVVNFXzQ0M1BPUlRfT05MWVwiLHMpLExDKFwiSk9JTl9HQVRFV0FZX1VTRV9EVUFMX0RPTUFJTlwiLG8pO2NvbnN0IGE9dGhpcy5fZ2F0ZXdheS5zaWduYWwud2Vic29ja2V0O3JldHVybiBhIGluc3RhbmNlb2YgcUkmJihhLnVzZTQ0M1BvcnRPbmx5PXMsYS50cnlEb3VibGVEb21haW49byksYXN5bmMgZnVuY3Rpb24oZSx0LGkpe3JnLmdldChlKXx8cmcuc2V0KGUsW10pLHNnLmdldChlKXx8c2cuc2V0KGUsdCksb2cuZ2V0KGUpfHxvZy5zZXQoZSwwKTtjb25zdCBuPXJnLmdldChlKSxyPXNnLmdldChlKTtpZighbnx8IXIpdGhyb3cgbmV3IEVycm9yKFwiY29uY3VycmVudDogZGVmZXJRdWV1ZSBvciBtYXhDb25jdXJyZW5jeSBpcyBudWxsXCIpO2lmKG9nLmdldChlKT09PXIpe2NvbnN0IGU9bmcoKTtuLnB1c2goZSksYXdhaXQgZS5wcm9taXNlfW9nLnNldChlLG9nLmdldChlKSsxKTtmb3IodmFyIHM9YXJndW1lbnRzLmxlbmd0aCxvPW5ldyBBcnJheShzPjM/cy0zOjApLGE9MzthPHM7YSsrKW9bYS0zXT1hcmd1bWVudHNbYV07Y29uc3QgYz1hd2FpdCBpKC4uLm8pO3JldHVybiBvZy5zZXQoZSxvZy5nZXQoZSktMSksb2cuZ2V0KGUpPT09ci0xJiZuLmxlbmd0aD4wJiYoblswXS5yZXNvbHZlKCksbi5zaGlmdCgpKSwwPT09b2cuZ2V0KGUpJiYocmcuc2V0KGUsW10pLHNnLnNldChlLDApLG9nLnNldChlLDApKSxjfShcImNsaWVudC5qb2luXCIsa0MoXCJKT0lOX01BWF9DT05DVVJSRU5DWVwiKSx0aGlzLmpvaW4uYmluZCh0aGlzKSxlLHQsaSxuLHIpfWFzeW5jIGpvaW4oZSx0LGksbixyKXtjb25zdCBzPSsrdGhpcy5fbnVtYmVyT2ZKb2luQ291bnQ7dGhpcy5zdG9yZS5qb2luU3RhcnQoKSxuJiYodGhpcy5zdG9yZS51aWQ9bik7Y29uc3Qgbz12QygpLGE9SUMoKT93aW5kb3cuaXNTZWN1cmVDb250ZXh0OlwiQnJvd3NlciBOb3QgU3VwcG9ydFwiO2lmKCFJQygpJiYhb3x8IXdpbmRvdy5pc1NlY3VyZUNvbnRleHQpe2NvbnN0IGU9XCJUaGUgd2Vic2l0ZSBtdXN0IGJlIHJ1bm5pbmcgaW4gYSBzZWN1cmUgY29udGV4dCAoQWJvdXQgc2VjdXJlIGNvbnRleHQ6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NlY3VyaXR5L1NlY3VyZV9Db250ZXh0cyApLCBvdGhlcndpc2UgdGhlIG1lZGlhIGNvbGxlY3Rpb24gd2lsbCBiZSByZXN0cmljdGVkIGJ5IHRoZSBicm93c2VyXCI7V0Mud2FybmluZyhlKX1jb25zdCBjPVZTKCk7XCJESVNDT05ORUNURURcIj09PXRoaXMuY29ubmVjdGlvblN0YXRlJiYodGhpcy5zdG9yZS5hdm9pZEpvaW5TdGFydD1NYXRoLnJvdW5kKERhdGUubm93KCkpLFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGF2b2lkSm9pblN0YXJ0IHRvIFwiKS5jb25jYXQodGhpcy5zdG9yZS5hdm9pZEpvaW5TdGFydCkpKTtjb25zdCBkPWl2LnJlcG9ydEFwaUludm9rZShjLHtuYW1lOnNTLkpPSU4sb3B0aW9uczpbZSx0LGksbl0sc3RhdGVzOntpc0h0dHBzOm8saXNTZWN1cmVDb250ZXh0OmF9LHRhZzpvUy5UUkFDRVJ9KTtpdi5zZXRBcHBJZChlKTt0cnl7aWYoIWkmJm51bGwhPT1pKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX1BBUkFNUyxcIkludmFsaWQgdG9rZW46IFwiLmNvbmNhdChpLFwiLiBJZiB5b3UgZG9uIG5vdCB1c2UgdG9rZW4sIHNldCBpdCB0byBudWxsXCIpKTtpJiZXZyhpLFwidG9rZW5cIiwxLDIwNDcpLFdnKGUsXCJhcHBpZFwiLDEsMjA0NyksVXYodCksbiYmeHYobiksciYmV2cocixcIm9wdGlvbmFsSW5mb1wiLDEsMjA0Nyl9Y2F0Y2goZSl7dGhyb3cgZC5vbkVycm9yKGUpLGV9aWYoV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0YXJ0IGpvaW4gY2hhbm5lbCBcIikuY29uY2F0KHQsXCIsIGpvaW4gbnVtYmVyOiBcIikuY29uY2F0KHMpKSx0aGlzLl9sZWF2ZU11dGV4LmlzTG9ja2VkKXtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGpvaW46IHdhaXRpbmcgbGVhdmUgb3BlcmF0aW9uXCIpKTsoYXdhaXQgdGhpcy5fbGVhdmVNdXRleC5sb2NrKCkpKCksV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBqb2luOiBjb250aW51ZVwiKSl9aWYodGhpcy5fam9pbkFuZE5vdExlYXZlWWV0PSEwLFwiRElTQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl7Y29uc3QgZT1uZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBDbGllbnQgYWxyZWFkeSBpbiBjb25uZWN0aW5nL2Nvbm5lY3RlZCBzdGF0ZVwiKSk7dGhyb3cgZC5vbkVycm9yKGUpLGV9dGhpcy5fc2Vzc2lvbklkfHwodGhpcy5fc2Vzc2lvbklkPWMsdGhpcy5zdG9yZS5zZXNzaW9uSWQ9dGhpcy5fc2Vzc2lvbklkKSx0aGlzLl9nYXRld2F5LnN0YXRlPVwiQ09OTkVDVElOR1wiO2NvbnN0IGw9Qk0oe2NsaWVudElkOnRoaXMuX2NsaWVudElkLGFwcElkOmUsc2lkOnRoaXMuX3Nlc3Npb25JZCxjbmFtZTp0LHVpZDpcInN0cmluZ1wiIT10eXBlb2Ygbj9uOm51bGwsdHVyblNlcnZlcjp0aGlzLl90dXJuU2VydmVyLHByb3h5U2VydmVyOnRoaXMuX3Byb3h5U2VydmVyLHRva2VuOml8fGUsY2xvdWRQcm94eVNlcnZlcjp0aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZSxvcHRpb25hbEluZm86cixsaWNlbnNlOnRoaXMuX2xpY2Vuc2UsdXNlTG9jYWxBY2Nlc3NQb2ludDp0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50fSx2b2lkIDAhPT10aGlzLl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlJiZ7ZGVmYXVsdFZpZGVvU3RyZWFtOnRoaXMuX3JlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGV9KTtpZih0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50JiYobC5zZXRMb2NhbEFQVmVyc2lvbj10aGlzLl9zZXRMb2NhbEFQVmVyc2lvbiksXCJzdHJpbmdcIj09dHlwZW9mIG4mJihsLnN0cmluZ1VpZD1uLHRoaXMuX3VpbnRVaWQ/KGwudWlkPXRoaXMuX3VpbnRVaWQsdGhpcy5fdWludFVpZD12b2lkIDApOmwudWlkPTApLFwibm9uZVwiIT09dGhpcy5fZW5jcnlwdGlvbk1vZGUmJnRoaXMuX2VuY3J5cHRpb25TZWNyZXQpe2lmKGwuYWVzbW9kZT10aGlzLl9lbmNyeXB0aW9uTW9kZSxsLmFlc3Bhc3N3b3JkPWF3YWl0IGVTKHRoaXMuX2VuY3J5cHRpb25TZWNyZXQpLCF0aGlzLl9qb2luQW5kTm90TGVhdmVZZXQpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gQ2xpZW50IGFscmVhZHkgbGVmdFwiKSk7dGhpcy5fZW5jcnlwdGlvblNhbHQmJihsLmFlc3NhbHQ9dGhpcy5fZW5jcnlwdGlvblNhbHQpfXRoaXMuX3N0YXJ0U2Vzc2lvbih0aGlzLl9zZXNzaW9uSWQse2NoYW5uZWw6dCxhcHBJZDplfSk7Y29uc3QgaD10aGlzLl9zZXNzaW9uSWQ7c2V0VGltZW91dCgoKCk9PntcIkNPTk5FQ1RJTkdcIj09PXRoaXMuY29ubmVjdGlvblN0YXRlJiZoPT09dGhpcy5fc2Vzc2lvbklkJiZpdi5qb2luQ2hhbm5lbFRpbWVvdXQodGhpcy5fc2Vzc2lvbklkLDUpfSksNWUzKTt0cnl7dmFyIHU7bGV0IG47Y29uc3Qgcj1sLmNsb3VkUHJveHlTZXJ2ZXI7aWYoUHIodT1bXCJwcm94eTNcIixcInByb3h5NFwiLFwicHJveHk1XCJdKS5jYWxsKHUscikpe2NvbnN0IGU9a0MoXCJQUk9YWV9TRVJWRVJfVFlQRTNcIik7QXJyYXkuaXNBcnJheShlKT9sLnByb3h5U2VydmVyPWVbMF06bC5wcm94eVNlcnZlcj1lfWlmKGl2LnNldFByb3h5U2VydmVyKGwucHJveHlTZXJ2ZXIpLFdDLnNldFByb3h5U2VydmVyKGwucHJveHlTZXJ2ZXIpLHRoaXMuc3RvcmUucmVxdWVzdEFQU3RhcnQoKSxsLnN0cmluZ1VpZCYmIWwudWlkKXtjb25zdCBlPWF3YWl0IGNQKGwuc3RyaW5nVWlkLGwsdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sdGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ3x8SlMsdGhpcy5zdG9yZSk7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBnZXRVc2VyQWNjb3VudCBTdWNjZXNzIFwiKS5jb25jYXQobC5zdHJpbmdVaWQsXCIgPT4gXCIpLmNvbmNhdChlKSksbC51aWQ9ZSxuPWF3YWl0IGFQKGwsdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sdGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ3x8SlMsITAsdGhpcy5zdG9yZSl9ZWxzZSBuPWF3YWl0IGFQKGwsdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sdGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ3x8SlMsITAsdGhpcy5zdG9yZSk7aWYoIXRoaXMuX2pvaW5BbmROb3RMZWF2ZVlldCl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBDbGllbnQgYWxyZWFkeSBsZWZ0XCIpKTt0aGlzLnN0b3JlLnJlcXVlc3RBUEVuZCgpLHNldFRpbWVvdXQoKCgpPT57dGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5zdGFydEdldENvbmZpZ0Rpc3RyaWJ1dGUobCx0aGlzLl9heGlvc0NhbmNlbFNvdXJjZS50b2tlbiksdGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5vbihhSS5VUERBVEVfQklUUkFURV9MSU1JVCwoZT0+e3RoaXMuX3AycENoYW5uZWwudXBkYXRlQml0cmF0ZUxpbWl0KGUpfSkpfSksMCksdGhpcy5fa2V5PWl8fGU7Y29uc3Qgcz1uLmdhdGV3YXlJbmZvO3RoaXMuX2pvaW5JbmZvPUJNKEJNKHt9LGwpLHt9LHtjaWQ6cy5jaWQsdWlkOmwudWlkP2wudWlkOnMudWlkLHZpZDpzLnZpZCxhcFJlc3BvbnNlOnMucmVzLHVuaV9sYnNfaXA6cy51bmlfbGJzX2lwLGdhdGV3YXlBZGRyczpzLmdhdGV3YXlBZGRyc30pO2NvbnN0IG89YXdhaXQgdGhpcy5fam9pbkdhdGV3YXkoKTtpZighdGhpcy5fam9pbkFuZE5vdExlYXZlWWV0KXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIENsaWVudCBhbHJlYWR5IGxlZnRcIikpO2Qub25TdWNjZXNzKG8pLHRoaXMuX2FwcElkPWUsdGhpcy5fY2hhbm5lbE5hbWU9bC5jbmFtZSx0aGlzLl91aWQ9byx0aGlzLnN0b3JlLnVpZD1vLHNldFRpbWVvdXQoKCgpPT57dGhpcy5fbmV0d29ya1F1YWxpdHlJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fbmV0d29ya1F1YWxpdHlJbnRlcnZhbCksdGhpcy5fbmV0d29ya1F1YWxpdHlJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5faGFuZGxlVXBkYXRlTmV0d29ya1F1YWxpdHksMmUzKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihUZygpP1wiYmVmb3JldW5sb2FkXCI6XCJwYWdlaGlkZVwiLHRoaXMuX2hhbmRsZUJlZm9yZVVubG9hZCl9KSwwKTtjb25zdCBhPWwuc3RyaW5nVWlkP1wic3RyaW5nIHVpZDogXCIuY29uY2F0KGwuc3RyaW5nVWlkLFwiLHVpZDogXCIpLmNvbmNhdChsLnVpZCk6XCJ1aWQ6IFwiLmNvbmNhdCh0aGlzLl91aWQpO3JldHVybiBXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gSm9pbmluZyBjaGFubmVsIHN1Y2Nlc3M6IGNoYW5uZWw6IFwiKS5jb25jYXQodCxcIixcIikuY29uY2F0KGEpKSxzZXRUaW1lb3V0KCgoKT0+e1dDLnN0YXJ0VXBsb2FkKCl9KSw1ZTMpLHRoaXMuc3RvcmUuam9pbkVuZCgpLHA9dGhpcyxQcihvdikuY2FsbChvdixwKXx8b3YucHVzaChwKSxvfWNhdGNoKGUpe2NvbnN0IHQ9QXJyYXkuaXNBcnJheShlKT9lWzBdOmU7dGhyb3cgdCYmdC5jb2RlPT09eGcuT1BFUkFUSU9OX0FCT1JURUQ/V0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGpvaW4gbnVtYmVyOiBcIikuY29uY2F0KHMsXCIsIEpvaW5pbmcgY2hhbm5lbCBmYWlsZWQsIHJvbGxiYWNrXCIpLHQpOldDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gam9pbiBudW1iZXI6IFwiKS5jb25jYXQocyxcIiwgSm9pbmluZyBjaGFubmVsIGZhaWxlZCwgcm9sbGJhY2tcIiksdCksdC5jb2RlIT09eGcuT1BFUkFUSU9OX0FCT1JURUQmJnRoaXMuX251bWJlck9mSm9pbkNvdW50PT09cyYmKHRoaXMuX2dhdGV3YXkuc3RhdGU9XCJESVNDT05ORUNURURcIix0aGlzLl9yZXNldCgpKSxkLm9uRXJyb3IodCksdH12YXIgcH1fam9pbkdhdGV3YXkoKXtpZighdGhpcy5fam9pbkluZm98fCF0aGlzLl9rZXkpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OKTtyZXR1cm4gdGhpcy5fZ2F0ZXdheS5qb2luKHRoaXMuX2pvaW5JbmZvLHRoaXMuX2tleSwhKFwiZGlzYWJsZWRcIiE9PXRoaXMuX2pvaW5JbmZvLmNsb3VkUHJveHlTZXJ2ZXJ8fHRoaXMuX2pvaW5JbmZvLnByb3h5U2VydmVyfHwha0MoXCJKT0lOX1dJVEhfRkFMTEJBQ0tfU0lHTkFMX1BST1hZXCIpKSkudGhlbigoZT0+ZSkpLmNhdGNoKChlPT57aWYoZS5jb2RlPT09eGcuSU5JVF9XRUJTT0NLRVRfVElNRU9VVClyZXR1cm4gdGhpcy5fZ2F0ZXdheS5sZWF2ZSghMCxjUy5GQUxMQkFDSyksZTtpZihlLmNvZGU9PT14Zy5JTklUX0RBVEFDSEFOTkVMX1RJTUVPVVQpcmV0dXJuIHRoaXMuX2dhdGV3YXkubGVhdmUoITAsY1MuRkFMTEJBQ0spLGU7dGhyb3cgZX0pKS50aGVuKChlPT57aWYoZSBpbnN0YW5jZW9mIE12KXtpZihlLmNvZGU9PT14Zy5JTklUX1dFQlNPQ0tFVF9USU1FT1VUKXtpZihXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gam9pbiB0aW1lb3V0LCBmYWxsYmFjayB0byBwcm94eVwiKSksIXRoaXMuX2pvaW5JbmZvfHwhdGhpcy5fa2V5KXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTik7dGhpcy5fam9pbkluZm8uY2xvdWRQcm94eVNlcnZlcj1cImZhbGxiYWNrXCIsdGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGU9XCJmYWxsYmFja1wiLHRoaXMuc3RvcmUuY2xvdWRQcm94eVNlcnZlck1vZGU9XCJmYWxsYmFja1wiO2NvbnN0IGU9a0MoXCJQUk9YWV9TRVJWRVJfVFlQRTNcIik7aWYoQXJyYXkuaXNBcnJheShlKSlpZih0aGlzLl9qb2luSW5mby5hcFVybCl7Y29uc3QgdD0vXmh0dHBzPzpcXC9cXC8oLis/KShcXC8uKik/JC8uZXhlYyh0aGlzLl9qb2luSW5mby5hcFVybClbMV0uc3BsaXQoXCIuXCIpLGk9dC5zbGljZSh0Lmxlbmd0aC0yKS5qb2luKFwiLlwiKTtlLmZvckVhY2goKGU9Pnt0aGlzLl9qb2luSW5mbyYmUHIoZSkuY2FsbChlLGkpJiYodGhpcy5fam9pbkluZm8ucHJveHlTZXJ2ZXI9ZSl9KSksdGhpcy5fam9pbkluZm8ucHJveHlTZXJ2ZXJ8fCh0aGlzLl9qb2luSW5mby5wcm94eVNlcnZlcj1lWzBdKX1lbHNlIHRoaXMuX2pvaW5JbmZvLnByb3h5U2VydmVyPWVbMF07ZWxzZSB0aGlzLl9qb2luSW5mby5wcm94eVNlcnZlcj1lO2NvbnN0IHQ9a0MoXCJMT0dfVVBMT0FEX1NFUlZFUlwiKS5tYXRjaCgvLis6KFxcZHsxLDV9KSQvKTt0JiZ0WzFdJiZcIjQ0M1wiIT09dFsxXSYmV0Muc2V0UHJveHlTZXJ2ZXIodGhpcy5fam9pbkluZm8ucHJveHlTZXJ2ZXIpLFwiNDQzXCIhPT1rQyhcIlNUQVRTX0NPTExFQ1RPUl9QT1JUXCIpLnRvU3RyaW5nKCkmJml2LnNldFByb3h5U2VydmVyKHRoaXMuX2pvaW5JbmZvLnByb3h5U2VydmVyKTtyZXR1cm4gaXYucmVwb3J0QXBpSW52b2tlKHRoaXMuX3Nlc3Npb25JZCx7bmFtZTpzUy5KT0lOX0ZBTExCQUNLX1RPX1BST1hZLG9wdGlvbnM6W3RoaXMuX2pvaW5JbmZvLnByb3h5U2VydmVyXSx0YWc6b1MuVFJBQ0VSfSkub25TdWNjZXNzKCksdGhpcy5zYWZlRW1pdChkUy5KT0lOX0ZBTExCQUNLX1RPX1BST1hZLHRoaXMuX2pvaW5JbmZvLnByb3h5U2VydmVyKSxrQyhcIkpPSU5fV0lUSF9GQUxMQkFDS19NRURJQV9QUk9YWV9GT1JDRVwiKSYmdGhpcy5fam9pbkluZm8udHVyblNlcnZlci5zZXJ2ZXJzLmZvckVhY2goKGU9PntcImZvcmNldHVyblwiaW4gZSYmKGUuZm9yY2V0dXJuPSEwKX0pKSx0aGlzLl9nYXRld2F5LmpvaW4odGhpcy5fam9pbkluZm8sdGhpcy5fa2V5KX1pZihXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gam9pbiBieSBkYXRhY2hhbm5lbCB0aW1lb3V0LCBmYWxsYmFjayB0byB3ZWJzb2NrZXRcIikpLCF0aGlzLl9qb2luSW5mb3x8IXRoaXMuX2tleSl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04pO3JldHVybiBpdi5yZXBvcnRBcGlJbnZva2UodGhpcy5fc2Vzc2lvbklkLHtuYW1lOnNTLkRBVEFDSEFOTkVMX0ZBSUxCQUNLLG9wdGlvbnM6W3RoaXMuc3RvcmUuY2xpZW50SWRdLHRhZzpvUy5UUkFDRVJ9KS5vblN1Y2Nlc3MoKSx0aGlzLl9qb2luR2F0ZXdheSgpfXJldHVybiBlfSkpLnRoZW4oKGU9PmUpKX1hc3luYyBsZWF2ZSgpe1dDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBMZWF2aW5nIGNoYW5uZWxcIikpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFRnKCk/XCJiZWZvcmV1bmxvYWRcIjpcInBhZ2VoaWRlXCIsdGhpcy5faGFuZGxlQmVmb3JlVW5sb2FkKSx0aGlzLl9yZXNldCgpLGZ1bmN0aW9uKGUpe2NvbnN0IHQ9b3YuaW5kZXhPZihlKTstMSE9PXQmJm92LnNwbGljZSh0LDEpfSh0aGlzKTtjb25zdCBlPWF3YWl0IHRoaXMuX2xlYXZlTXV0ZXgubG9jaygpO2lmKFwiRElTQ09OTkVDVEVEXCI9PT10aGlzLmNvbm5lY3Rpb25TdGF0ZSlyZXR1cm4gV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIExlYXZpbmcgY2hhbm5lbCByZXBlYXRlZCwgc3VjY2Vzc1wiKSksdm9pZCBlKCk7YXdhaXQgdGhpcy5fZ2F0ZXdheS5sZWF2ZShcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBMZWF2aW5nIGNoYW5uZWwgc3VjY2Vzc1wiKSksdGhpcy5fam9pbkFuZE5vdExlYXZlWWV0PSExLHRoaXMuc3RvcmUucmVzZXRKb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzKCksZSgpfWFzeW5jIHB1Ymxpc2goZSl7bGV0IHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZighQXJyYXkuaXNBcnJheShlKSl7aWYoIShlIGluc3RhbmNlb2YgJHkpKXJldHVybiB0aGlzLl9wdWJsaXNoRGF0YUNoYW5uZWwoZSk7ZT1bZV19aWYoMD09PWUubGVuZ3RoKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX1BBUkFNUyxcInBhcmFtIGxpc3QgaXMgZW1wdHlcIik7Y29uc3QgaT1lO2lmKFwiYXVkaWVuY2VcIj09PXRoaXMuX2dhdGV3YXkucm9sZSl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJhdWRpZW5jZSBjYW4gbm90IHB1Ymxpc2ggc3RyZWFtXCIpO2Zvcihjb25zdCBlIG9mIGkpe2lmKCEoZSBpbnN0YW5jZW9mICR5KSl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9QQVJBTVMsXCJwYXJhbWV0ZXIgaXMgbm90IGxvY2FsIHRyYWNrXCIpO2lmKCFlLl9lbmFibGVkJiZ0KXRocm93IG5ldyBNdih4Zy5UUkFDS19JU19ESVNBQkxFRCxcImNhbiBub3QgcHVibGlzaCBhIGRpc2FibGVkIHRyYWNrOiBcIi5jb25jYXQoZS5nZXRUcmFja0lkKCkpKX1XQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gUHVibGlzaGluZyB0cmFja3MsIGlkIFwiKS5jb25jYXQoaS5tYXAoKGU9PlwiXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiIFwiKSkpKSk7Y29uc3Qgbj1hd2FpdCB0aGlzLl9wdWJsaXNoTXV0ZXgubG9jaygpO2F3YWl0IHRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUuYXdhaXRDb25maWdEaXN0cmlidXRlQ29tcGxldGUoKSx0JiZpLmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUuZ2V0Qml0cmF0ZUxpbWl0KCk7ZSBpbnN0YW5jZW9mIGZiJiZ0JiZlLnNldEJpdHJhdGVMaW1pdCh0LnVwbGluayl9KSk7dHJ5e2F3YWl0IHRoaXMuX3B1Ymxpc2hIaWdoU3RyZWFtKGkpLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBQdWJsaXNoIHN1Y2Nlc3MsIGlkIFwiKS5jb25jYXQoaS5tYXAoKGU9PlwiXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiIFwiKSkpKSl9Y2F0Y2goZSl7dGhyb3cgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBwdWJsaXNoIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1maW5hbGx5e24oKX19YXN5bmMgX3B1Ymxpc2hEYXRhQ2hhbm5lbChlKXtqZyhlLmlkLFwiaWRcIiwwLDY1NTM1LCEwKSxGZyhlLm9yZGVyZWQsXCJvcmRlcmVkXCIpLFdnKGUubWV0YWRhdGEsXCJtZXRhZGF0YVwiLDAsNTEyKSxXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gUHVibGlzaGluZyBkYXRhY2hhbm5lbHMsIGlkIFwiKS5jb25jYXQoZS5pZCkpO2NvbnN0IHQ9YXdhaXQgdGhpcy5fcHVibGlzaE11dGV4LmxvY2soKTt0cnl7aWYoLTEhPT10aGlzLl9wMnBDaGFubmVsLmdldEFsbERhdGFDaGFubmVscygpLmZpbmRJbmRleCgodD0+dC5pZD09PWUuaWQpKSl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9QQVJBTVMsXCJJbnZhbGlkIGlkOiBcIi5jb25jYXQoZS5pZCxcIi4gSWYgeW91IHdhbnQgdG8gcmVwdWJsaXNoIHRoZSBkYXRhY2hhbm5lbCwgdW5wdWJsaXNoIGZpcnN0XCIpKTtpZighdGhpcy5fam9pbkluZm98fHZvaWQgMD09PXRoaXMuX3VpZCl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBwdWJsaXNoIGRhdGFjaGFubmVsLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCBkYXRhY2hhbm5lbCBpbiBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpO2lmKFwiYXV0b1wiPT09dGhpcy5fdHVyblNlcnZlci5tb2RlJiZrQyhcIkZPUkNFX1RVUk5cIikmJiFrQyhcIlRVUk5fRU5BQkxFX1RDUFwiKSYmIWtDKFwiVFVSTl9FTkFCTEVfVURQXCIpKXRocm93IG5ldyBNdih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiZm9yY2UgVFVSTiBXaXRoIE5vIFRVUk4gQ29uZmlndXJhdGlvblwiKTtjb25zdCBpPW5ldyBpRChlKTthd2FpdCB0aGlzLl9wMnBDaGFubmVsLnB1Ymxpc2hEYXRhQ2hhbm5lbChbaV0pO3RyeXtjb25zdCB0PXtzdHJlYW1JZDplLmlkLG9yZGVyZWQ6ZS5vcmRlcmVkLG1heFJldHJhbnNtaXRzOmtDKFwiREFUQVNUUkVBTV9NQVhfUkVUUkFOU01JVFNcIiksbWV0YWRhdGE6ZS5tZXRhZGF0YSxjaGFubmVsSWQ6aS5fb3JpZ2luRGF0YUNoYW5uZWxJZH07YXdhaXQgdGhpcy5fZ2F0ZXdheS5wdWJsaXNoRGF0YUNoYW5uZWwodGhpcy5fdWlkLHQsITApfWNhdGNoKGUpe2lmKGUuY29kZSE9PXhnLkRJU0NPTk5FQ1RfUDJQKXRocm93IGV9cmV0dXJuIGF3YWl0IGkuX3dhaXRUaWxsT3BlbigpLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBQdWJsaXNoIGRhdGFDaGFubmVscyBzdWNjZXNzLCBpZCBcIikuY29uY2F0KGkuaWQpKSxpfWNhdGNoKGUpe3Rocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcHVibGlzaCBkYXRhY2hhbm5lbHMgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfWZpbmFsbHl7dCgpfX1hc3luYyB1bnB1Ymxpc2goZSl7aWYoIXRoaXMuX2pvaW5JbmZvfHx2b2lkIDA9PT10aGlzLl91aWQpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3QgdW5wdWJsaXNoIHN0cmVhbSwgaGF2ZW4ndCBqb2luZWQgeWV0IVwiKTtsZXQgdD1bXTtpZihlKWlmKEFycmF5LmlzQXJyYXkoZSkpdD1lO2Vsc2V7aWYoIShlIGluc3RhbmNlb2YgJHkpKXJldHVybiB0aGlzLl91bnB1Ymxpc2hEYXRhQ2hhbm5lbChbZV0pO3Q9W2VdfWVsc2UgdGhpcy5zdG9yZS51c2VQMlB8fGF3YWl0IHRoaXMuX3VucHVibGlzaERhdGFDaGFubmVsKCksdD10aGlzLl9wMnBDaGFubmVsLmdldEFsbFRyYWNrcyghMCk7V0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFVucHVibGlzaCB0cmFja3MsIHRyYWNrcyBcIikuY29uY2F0KHQubWFwKChlPT5cIlwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIiBcIikpKSxcIiBcIikpO2NvbnN0IGk9YXdhaXQgdGhpcy5fcHVibGlzaE11dGV4LmxvY2soKTt0cnl7aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIHdNKXtjb25zdCBlPWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5wdWJsaXNoKHQpO2lmKGUpe2NvbnN0IHQ9YXdhaXQgdGhpcy5fZ2F0ZXdheS5zZW5kRXh0ZW5zaW9uTWVzc2FnZShBSS5VTlBVQkxJU0gsZSk7dCYmYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zZXREZXNjcmlwdGlvbihcImxvY2FsXCIsdCl9fWVsc2V7Y29uc3QgZT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVucHVibGlzaCh0KTtlJiZhd2FpdCB0aGlzLl9nYXRld2F5LnVucHVibGlzaChlLHRoaXMuX3VpZCksV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFVucHVibGlzaCBzdWNjZXNzLHRyYWNrcyBcIikuY29uY2F0KHQubWFwKChlPT5cIlwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSkpKSkpfX1jYXRjaChlKXt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVucHVibGlzaCBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9ZmluYWxseXtpJiZpKCl9fWFzeW5jIF91bnB1Ymxpc2hEYXRhQ2hhbm5lbChlKXt2b2lkIDAhPT1lJiYwIT09ZS5sZW5ndGh8fChlPXRoaXMuX3AycENoYW5uZWwuZ2V0QWxsRGF0YUNoYW5uZWxzKCkpLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBVbnB1Ymxpc2ggZGF0YWNoYW5uZWxzLCBkYXRhY2hhbm5lbHMgXCIpLmNvbmNhdChlLm1hcCgoZT0+XCJcIi5jb25jYXQoZS5pZCxcIiBcIikpKSxcIiBcIikpO2NvbnN0IHQ9YXdhaXQgdGhpcy5fcHVibGlzaE11dGV4LmxvY2soKTt0cnl7Y29uc3QgaT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVucHVibGlzaERhdGFDaGFubmVsKGUpO2kmJmF3YWl0IHRoaXMuX2dhdGV3YXkudW5wdWJsaXNoRGF0YUNoYW5uZWwoaSksV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFVucHVibGlzaCBkYXRhQ2hhbm5lbCBzdWNjZXNzLGRhdGFDaGFubmVsIFwiKS5jb25jYXQoZS5tYXAoKGU9PlwiXCIuY29uY2F0KGUuaWQpKSkpKX1jYXRjaChlKXt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVucHVibGlzaCBkYXRhQ2hhbm5lbCBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9ZmluYWxseXt0JiZ0KCl9fWFzeW5jIHN1YnNjcmliZShlLHQsaSl7cmV0dXJuXCJkYXRhY2hhbm5lbFwiPT09dD90aGlzLl9zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLGkpOnRoaXMuX3N1YnNjcmliZShlLHQpfWFzeW5jIF9zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQpe3ZhciBpO2lmKGpnKHQsXCJjaGFubmVsSWRcIiwwLDY1NTM1LCEwKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3Qgc3Vic2NyaWJlIGRhdGFjaGFubmVsLCBub3Qgam9pbmVkXCIpO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBkYXRhY2hhbm5lbCBpbiBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpO2lmKCF0aGlzLl91c2Vycy5maW5kKCh0PT50PT09ZSkpKXRocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiwgdGhpcyB1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKSksbmV3IE12KHhnLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTtpZighZS5oYXNBdWRpbyYmIWUuaGFzVmlkZW8mJjA9PT1lLl9kYXRhQ2hhbm5lbHMubGVuZ3RoKXRocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiwgdXNlciBpcyBub3QgcHVibGlzaGVkXCIpKSxuZXcgTXYoeGcuSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IHB1Ymxpc2hlZFwiKTtjb25zdCBuPW51bGw9PT0oaT1lLl9kYXRhQ2hhbm5lbHMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmZpbmQoKGU9PmUuaWQ9PT10KSk7aWYoIW4pdGhyb3cgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KGUudWlkLFwiIHdpdGggbWVkaWFUeXBlIGRhdGFjaGFubmVsLCByZW1vdGUgZGF0YWNoYW5uZWwgaXMgbm90IHB1Ymxpc2hlZFwiKSksbmV3IE12KHhnLlJFTU9URV9VU0VSX0lTX05PVF9QVUJMSVNIRUQpO2NvbnN0IHI9YXdhaXQgdGhpcy5fc3Vic2NyaWJlTXV0ZXgubG9jaygpO1dDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiLCBtZWRpYVR5cGU6IGRhdGFjaGFubmVsXCIpKTt0cnl7Y29uc3QgdD1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN1YnNjcmliZURhdGFDaGFubmVsKGUsW25dKTtpZih0JiZQcih0KS5jYWxsKHQsbi5pZCkpdHJ5e3ZhciBzO2lmKCFuLl9vcmlnaW5EYXRhQ2hhbm5lbElkKXRocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiB3aXRoIG1lZGlhVHlwZSBkYXRhY2hhbm5lbCwgY2Fubm90IGdldCBSVENEYXRhY2hhbm5lbFwiKSksbmV3IE12KHhnLlJFTU9URV9VU0VSX0lTX05PVF9QVUJMSVNIRUQpO2NvbnN0IHQ9e2lkOm4uaWQsZGF0YWNoYW5uZWxJZDpuLl9vcmlnaW5EYXRhQ2hhbm5lbElkLG9yZGVyZWQ6bi5vcmRlcmVkLG1heFJldHJhbnNtaXRzOm4ubWF4UmV0cmFuc21pdHMsbWV0YWRhdGE6bnVsbCE9PShzPW4ubWV0YWRhdGEpJiZ2b2lkIDAhPT1zP3M6XCJcIn07YXdhaXQgdGhpcy5fZ2F0ZXdheS5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLnVpZCx0LCEwKX1jYXRjaCh0KXtpZigobnVsbD09dD92b2lkIDA6dC5jb2RlKSE9PXhnLldTX0FCT1JUKXRocm93IGF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLFtuXSksdDthd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSxbbl0pLHRoaXMuX3AycENoYW5uZWwuc2V0UGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKGUsbi5pZCl9cmV0dXJuIGF3YWl0IG4uX3dhaXRUaWxsT3BlbigpLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgc3VjY2VzcyB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogZGF0YWNoYW5uZWxcIikpLG59ZmluYWxseXtyKCl9fWFzeW5jIF9wMnBTdWJzY3JpYmUoZSx0LGkpe2lmKEJnKHQsXCJtZWRpYVR5cGVcIixbXCJhdWRpb1wiLFwidmlkZW9cIl0pLCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgc3RyZWFtLCBub3Qgam9pbmVkXCIpO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBzdHJlYW0gaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtpZighdGhpcy5fdXNlcnMuZmluZCgodD0+dD09PWUpKSl7Y29uc3QgdD1uZXcgTXYoeGcuSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpO3Rocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiwgdGhpcyB1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKSksdH1pZighZS5oYXNBdWRpbyYmIWUuaGFzVmlkZW8pe2NvbnN0IHQ9bmV3IE12KHhnLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBwdWJsaXNoZWRcIik7dGhyb3cgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KGUudWlkLFwiLCB1c2VyIGlzIG5vdCBwdWJsaXNoZWRcIikpLHR9aWYoIWkmJihcImF1ZGlvXCI9PT10JiYhZS5oYXNBdWRpb3x8XCJ2aWRlb1wiPT09dCYmIWUuaGFzVmlkZW8pKXtjb25zdCBpPW5ldyBNdih4Zy5SRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEKTt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIgd2l0aCBtZWRpYVR5cGUgXCIpLmNvbmNhdCh0LFwiLCByZW1vdGUgdHJhY2sgaXMgbm90IHB1Ymxpc2hlZFwiKSksaX1jb25zdCBuPWF3YWl0IHRoaXMuX3N1YnNjcmliZU11dGV4LmxvY2soKTtXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KHQpKTtjb25zdCByPVwiYXVkaW9cIj09PXQ/dUkuTG9jYWxBdWRpb1RyYWNrOnRoaXMuX2pvaW5JbmZvLmRlZmF1bHRWaWRlb1N0cmVhbT09PUx5LkxPV19TVFJFQU0/dUkuTG9jYWxWaWRlb0xvd1RyYWNrOnVJLkxvY2FsVmlkZW9UcmFjazt0cnl7YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5oYXNSZW1vdGVNZWRpYVdpdGhMb2NrKGUsdCk/YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bm11dGVSZW1vdGUoZSx0KToodGhpcy5zdG9yZS5zdWJzY3JpYmUoZS51aWQsdCxEYXRlLm5vdygpKSx0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2Ygd00mJmF3YWl0IHRoaXMuX2dhdGV3YXkuc2VuZEV4dGVuc2lvbk1lc3NhZ2UoQUkuU1VCU0NSSUJFLHt0cmFja1R5cGU6cn0pKSxXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3Vic2NyaWJlIHN1Y2Nlc3MgdXNlciBcIikuY29uY2F0KGUudWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQodCkpLHRoaXMuX2RlZmF1bHRTdHJlYW1GYWxsYmFja1R5cGUmJnRoaXMuc2V0U3RyZWFtRmFsbGJhY2tPcHRpb24oZS51aWQsdGhpcy5fZGVmYXVsdFN0cmVhbUZhbGxiYWNrVHlwZSkuY2F0Y2goKGU9PntXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBzZXQgZmFsbGJhY2sgZmFpbGVkXCIpLGUpfSkpO2NvbnN0IGk9XCJhdWRpb1wiPT09dD9lLl9hdWRpb1RyYWNrOmUuX3ZpZGVvVHJhY2s7aWYoIWkpdGhyb3cgbmV3IE12KHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgcmVtb3RlIHRyYWNrIGluIHVzZXIgb2JqZWN0XCIpO3JldHVybiBpfWNhdGNoKHQpe3Rocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiBlcnJvclwiKSx0KSx0fWZpbmFsbHl7bigpfX1hc3luYyBfc3Vic2NyaWJlKGUsdCxpKXtpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2Ygd00pcmV0dXJuIHRoaXMuX3AycFN1YnNjcmliZShlLHQpO2lmKEJnKHQsXCJtZWRpYVR5cGVcIixbXCJhdWRpb1wiLFwidmlkZW9cIl0pLCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgc3RyZWFtLCBub3Qgam9pbmVkXCIpO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBzdHJlYW0gaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtpZighdGhpcy5fdXNlcnMuZmluZCgodD0+dD09PWUpKSl7Y29uc3QgdD1uZXcgTXYoeGcuSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpO3Rocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiwgdGhpcyB1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKSksdH1pZighZS5oYXNBdWRpbyYmIWUuaGFzVmlkZW8pe2NvbnN0IHQ9bmV3IE12KHhnLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBwdWJsaXNoZWRcIik7dGhyb3cgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KGUudWlkLFwiLCB1c2VyIGlzIG5vdCBwdWJsaXNoZWRcIikpLHR9aWYoIShpfHwoXCJhdWRpb1wiIT09dHx8ZS5oYXNBdWRpbyYmdm9pZCAwIT09ZS5fYXVkaW9TU1JDKSYmKFwidmlkZW9cIiE9PXR8fGUuaGFzVmlkZW8mJnZvaWQgMCE9PWUuX3ZpZGVvU1NSQykpKXtjb25zdCBpPW5ldyBNdih4Zy5SRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEKTt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIgd2l0aCBtZWRpYVR5cGUgXCIpLmNvbmNhdCh0LFwiLCByZW1vdGUgdHJhY2sgaXMgbm90IHB1Ymxpc2hlZFwiKSksaX1sZXQgbj1cImF1ZGlvXCI9PT10P2UuX2F1ZGlvU1NSQzplLl92aWRlb1NTUkMscj1cImF1ZGlvXCI9PT10P2UuX2F1ZGlvT3J0YzplLl92aWRlb09ydGMscz1cInZpZGVvXCI9PT10P2UuX3J0eFNzcmNJZDp2b2lkIDAsbz17c3RyZWFtX3R5cGU6XCJhdWRpb1wiPT09dD9kSS5BVURJTzpkSS5WSURFTyxzc3JjSWQ6bn07Y29uc3QgYT1hd2FpdCB0aGlzLl9zdWJzY3JpYmVNdXRleC5sb2NrKCk7V0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdCh0KSk7dHJ5e2lmKGF3YWl0IHRoaXMuX3AycENoYW5uZWwuaGFzUmVtb3RlTWVkaWFXaXRoTG9jayhlLHQpKWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5tdXRlUmVtb3RlKGUsdCk7ZWxzZSB0cnl7Y29uc3QgaT1cImF1ZGlvXCI9PT10P2UuX2F1ZGlvU1NSQzplLl92aWRlb1NTUkM7dm9pZCAwIT09aSYmaSE9PW4mJihuPWkscj1cImF1ZGlvXCI9PT10P2UuX2F1ZGlvT3J0YzplLl92aWRlb09ydGMscz1cInZpZGVvXCI9PT10P2UuX3J0eFNzcmNJZDp2b2lkIDAsbz17c3RyZWFtX3R5cGU6XCJhdWRpb1wiPT09dD9kSS5BVURJTzpkSS5WSURFTyxzc3JjSWQ6bn0pLHNELm1hcmtTdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLG4pLHRoaXMuc3RvcmUuc3Vic2NyaWJlKGUudWlkLHQsRGF0ZS5ub3coKSksYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdWJzY3JpYmUoZSx0LG4scyxyKTt0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5zdWJzY3JpYmUoZS51aWQsbywhMCl9Y2F0Y2goaSl7aWYoKG51bGw9PWk/dm9pZCAwOmkuY29kZSkhPT14Zy5XU19BQk9SVCl0aHJvdyBhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKGUsdCksaTthd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKGUsdCwhMCksdGhpcy5fcDJwQ2hhbm5lbC5zZXRQZW5kaW5nUmVtb3RlTWVkaWEoZSx0KX10aGlzLnN0b3JlLnN1YnNjcmliZShlLnVpZCx0LHZvaWQgMCxEYXRlLm5vdygpKSx0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFN1YnNjcmliZUV2ZW50KCEwLG51bGwsZSx0KX1jYXRjaChpKXt0aHJvdyB0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFN1YnNjcmliZUV2ZW50KCExLG51bGw9PWk/dm9pZCAwOmkuY29kZSxlLHQpLGl9V0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSBzdWNjZXNzIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KHQpKSx0aGlzLl9kZWZhdWx0U3RyZWFtRmFsbGJhY2tUeXBlJiZ0aGlzLnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uKGUudWlkLHRoaXMuX2RlZmF1bHRTdHJlYW1GYWxsYmFja1R5cGUpLmNhdGNoKChlPT57V0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gc2V0IGZhbGxiYWNrIGZhaWxlZFwiKSxlKX0pKTtjb25zdCBpPVwiYXVkaW9cIj09PXQ/ZS5fYXVkaW9UcmFjazplLl92aWRlb1RyYWNrO2lmKCFpKXRocm93IG5ldyBNdih4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHJlbW90ZSB0cmFjayBpbiB1c2VyIG9iamVjdFwiKTtyZXR1cm4gaX1jYXRjaCh0KXt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgZXJyb3JcIiksdCksdH1maW5hbGx5e2EoKX19YXN5bmMgbWFzc1N1YnNjcmliZShlKXtpZihIZyhlLFwic3Vic2NyaWJlTGlzdFwiKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3Qgc3Vic2NyaWJlIHN0cmVhbSwgbm90IGpvaW5lZFwiKTtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgc3RyZWFtIGluIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSk7Y29uc3QgdD1EYXRlLm5vdygpLGk9bmV3IE1hcCxuPWF3YWl0IHRoaXMuX3N1YnNjcmliZU11dGV4LmxvY2soKTtXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl1zdGFydCBtYXNzU3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdChlLm1hcCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOml9PWU7cmV0dXJuXCJ1c2VyOiBcIi5jb25jYXQobnVsbD09dD92b2lkIDA6dC51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChpKX0pKS5qb2luKFwiOyBcIikpKTtjb25zdCByPShlPVsuLi5lXSkubWFwKChlPT57bGV0e3VzZXI6dCxtZWRpYVR5cGU6aX09ZTtyZXR1cm57dXNlcjp0LG1lZGlhVHlwZTppfX0pKSxzPWF3YWl0IHRoaXMuX3AycENoYW5uZWwuZ2xvYmFsTG9jaygpO3RyeXt2YXIgbztmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3Qgbj1lW3RdLHt1c2VyOnMsbWVkaWFUeXBlOm99PW47aWYoQmcobyxcIm1lZGlhVHlwZVwiLFtcImF1ZGlvXCIsXCJ2aWRlb1wiXSksIXMpe2NvbnN0IGU9bmV3IE12KHhnLklOVkFMSURfUEFSQU1TLFwidXNlciBwcm9wZXJ0eSBkb2VzIG5vdCBleGlzdCBpbiBzdWJzY3JpYmVMaXN0IGl0ZW1cIik7dGhyb3cgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyIHByb3BlcnR5IGRvZXMgbm90IGV4aXN0IGluIHN1YnNjcmliZUxpc3QgaXRlbVwiKSksZX1pZighdGhpcy5fdXNlcnMuZmluZCgoZT0+ZT09PXMpKSl7Y29uc3QgaT1uZXcgTXYoeGcuSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpO1dDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBtYXNzU3Vic2NyaWJlIFwiKS5jb25jYXQocy51aWQsXCIsIHRoaXMgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLHJbdF0uZXJyb3I9aSxlLnNwbGljZSh0LDEpO2NvbnRpbnVlfWlmKFwiYXVkaW9cIj09PW8mJighcy5oYXNBdWRpb3x8dm9pZCAwPT09cy5fYXVkaW9TU1JDKXx8XCJ2aWRlb1wiPT09byYmKCFzLmhhc1ZpZGVvfHx2b2lkIDA9PT1zLl92aWRlb1NTUkMpKXtjb25zdCBpPW5ldyBNdih4Zy5SRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEKTtXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQocy51aWQsXCIgd2l0aCBtZWRpYVR5cGUgXCIpLmNvbmNhdChvLFwiLCByZW1vdGUgdXNlciBpcyBub3QgcHVibGlzaGVkXCIpKSxyW3RdLmVycm9yPWksZS5zcGxpY2UodCwxKTtjb250aW51ZX1jb25zdCBhPWVJLlZpZGVvfGVJLkx3b1ZpZGVvLGM9aS5nZXQocyk7aWYoYyl7aWYoXCJ2aWRlb1wiPT09bz9jJmE6YyZlSS5BdWRpbyl7ZS5zcGxpY2UodCwxKSxXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVwZWF0IG1hc3NTdWJzY3JpYmUgdXNlcjpcIikuY29uY2F0KHMudWlkLFwiLCBtZWRpYVR5cGU6XCIpLmNvbmNhdChvLFwiIHR3aWNlXCIpKTtjb250aW51ZX1pLnNldChzLGN8KFwidmlkZW9cIj09PW8/YTplSS5BdWRpbykpfWVsc2UgaS5zZXQocyxcInZpZGVvXCI9PT1vP2E6ZUkuQXVkaW8pfWZvcihsZXQgdD1lLmxlbmd0aC0xO3Q+PTA7dC0tKXtjb25zdCBuPWVbdF0se3VzZXI6cixtZWRpYVR5cGU6c309bixvPWVJLlZpZGVvfGVJLkx3b1ZpZGVvO2lmKHRoaXMuX3AycENoYW5uZWwuaGFzUmVtb3RlTWVkaWEocixzKSl7YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bm11dGVSZW1vdGVOb0xvY2socixzKTtjb25zdCBuPWkuZ2V0KHIpO2kuc2V0KHIsXCJ2aWRlb1wiPT09cz9uXm86bl5lSS5BdWRpbyksZS5zcGxpY2UodCwxKX19dGhpcy5zdG9yZS5tYXNzU3Vic2NyaWJlKGUubWFwKChlPT4oe3VzZXJJZDplLnVzZXIudWlkLHR5cGU6ZS5tZWRpYVR5cGV9KSkpLHQpO2NvbnN0IGE9Y1Qobz1BcnJheS5mcm9tKGkuZW50cmllcygpKSkuY2FsbChvLCgoZSx0KT0+e2xldFtpLG5dPXQ7aWYoMD09PW4pcmV0dXJuIGU7Y29uc3Qgcj17c3RyZWFtX2lkOmkudWlkLHN0cmVhbV90eXBlOm59O3JldHVybiBuJmVJLkF1ZGlvJiYoci5hdWRpb19zc3JjPWkuX2F1ZGlvU1NSQyksbiZlSS5WaWRlbyYmKHIudmlkZW9fc3NyYz1pLl92aWRlb1NTUkMpLGUucHVzaChyKSxlfSksW10pO3RyeXtlLmxlbmd0aD4wJiZhd2FpdCB0aGlzLl9wMnBDaGFubmVsLm1hc3NTdWJzY3JpYmVOb0xvY2soZS5tYXAoKGU9PntsZXR7dXNlcjp0LG1lZGlhVHlwZTppfT1lO3JldHVybnt1c2VyOnQsbWVkaWFUeXBlOmksc3NyY0lkOmk9PT1kSS5WSURFTz90Ll92aWRlb1NTUkM6dC5fYXVkaW9TU1JDLHJ0eFNzcmNJZDppPT09ZEkuVklERU8/dC5fcnR4U3NyY0lkOnZvaWQgMH19KSkpO2NvbnN0IGk9bmV3IE1hcDtpZihhLmxlbmd0aD4wKXtjb25zdCBlPWF3YWl0IHRoaXMuX2dhdGV3YXkuc3Vic2NyaWJlQWxsKGEsITApOygobnVsbD09ZT92b2lkIDA6ZS51c2Vycyl8fFtdKS5mb3JFYWNoKChlPT57bGV0e3N0cmVhbV9pZDp0LHZpZGVvX2Vycm9yX2NvZGU6bixhdWRpb19lcnJvcl9jb2RlOnIsZXJyb3JfY29kZTpzfT1lOyhufHxyfHxzKSYmaS5zZXQodCx7dmlkZW9fZXJyb3JfY29kZTpuLGF1ZGlvX2Vycm9yX2NvZGU6cixlcnJvcl9jb2RlOnN9KX0pKX1pZihBcnJheS5mcm9tKGkuZW50cmllcygpKS5sZW5ndGg+MCl7Y29uc3QgZT1BcnJheS5mcm9tKGkuZW50cmllcygpKS5tYXAoKGU9PntsZXQgdCxbaSxuXT1lO24uZXJyb3JfY29kZXx8bi52aWRlb19lcnJvcl9jb2RlJiZuLmF1ZGlvX2Vycm9yX2NvZGU/dD12b2lkIDA6bi52aWRlb19lcnJvcl9jb2RlP3Q9ZEkuVklERU86bi5hdWRpb19lcnJvcl9jb2RlJiYodD1kSS5BVURJTyk7cmV0dXJue3VzZXI6dGhpcy5yZW1vdGVVc2Vycy5maW5kKChlPT5lLnVpZD09PWkpKSxtZWRpYVR5cGU6dH19KSk7YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5tYXNzVW5zdWJzY3JpYmVOb0xvY2soZSl9Zm9yKGNvbnN0IGUgb2Ygcil7Y29uc3QgdD1pLmdldChlLnVzZXIudWlkKTtpZih0KXtjb25zdCBpPXQuZXJyb3JfY29kZXx8XCJhdWRpb1wiPT09ZS5tZWRpYVR5cGUmJnQuYXVkaW9fZXJyb3JfY29kZXx8XCJ2aWRlb1wiPT09ZS5tZWRpYVR5cGUmJnQudmlkZW9fZXJyb3JfY29kZTtpZihpKXtjb25zdCB0PWtJKGkpO1dDLmVycm9yKFwidXNlcjpcIi5jb25jYXQoZS51c2VyLnVpZCxcIiBtZWRpYVR5cGU6XCIpLmNvbmNhdChlLm1lZGlhVHlwZSxcIiBoYXMgbWFzc1N1YnNjcmliZSBlcnJvciBcIikuY29uY2F0KHQuZGVzYykpLGUuZXJyb3I9bmV3IE12KHhnLlNVQlNDUklCRV9GQUlMRUQsXCJjb2RlIFwiLmNvbmNhdChpLFwiOiBcIikuY29uY2F0KHQuZGVzYykpfX1lLmVycm9yfHwoXCJ2aWRlb1wiPT09ZS5tZWRpYVR5cGU/ZS50cmFjaz1lLnVzZXIudmlkZW9UcmFjazplLnRyYWNrPWUudXNlci5hdWRpb1RyYWNrKX1yZXR1cm4gdGhpcy5zdG9yZS5tYXNzU3Vic2NyaWJlKHIuZmlsdGVyKChlPT4hZS5lcnJvcikpLm1hcCgoZT0+KHt1c2VySWQ6ZS51c2VyLnVpZCx0eXBlOmUubWVkaWFUeXBlfSkpKSx2b2lkIDAsRGF0ZS5ub3coKSksci5mb3JFYWNoKChlPT57dmFyIGk7aXYuc3Vic2NyaWJlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtzdWNjOiEhZS5lcnJvcixlYzoobnVsbD09PShpPWUuZXJyb3IpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNvZGUpfHxudWxsLHZpZGVvOmUubWVkaWFUeXBlPT09ZEkuVklERU8sYXVkaW86ZS5tZWRpYVR5cGU9PT1kSS5BVURJTyxwZWVyaWQ6ZS51c2VyLnVpZCxzdWJzY3JpYmVSZXF1ZXN0aWQ6ZS5tZWRpYVR5cGU9PT1kSS5WSURFTz9lLnVzZXIuX3ZpZGVvU1NSQzplLnVzZXIuX2F1ZGlvU1NSQyxwMnBpZDp0aGlzLnN0b3JlLnAycElkLGV2ZW50RWxhcHNlOk1hdGguZmxvb3IocGVyZm9ybWFuY2Uubm93KCktdCl9LCEwKX0pKSxXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gbWFzc1N1YnNjcmliZSBzdWNjZXNzIFwiKS5jb25jYXQoZS5tYXAoKGU9PntsZXR7dXNlcjp0LG1lZGlhVHlwZTppfT1lO3JldHVyblwidXNlcjogXCIuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQudWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQoaSl9KSkuam9pbihcIjsgXCIpKSkscn1jYXRjaCh0KXt0aHJvdyBhd2FpdCB0aGlzLl9wMnBDaGFubmVsLm1hc3NVbnN1YnNjcmliZU5vTG9jayhlKSx0fX1maW5hbGx5e3MoKSxuKCl9fWFzeW5jIHVuc3Vic2NyaWJlKGUsdCxpKXtpZih0fHx0aGlzLnN0b3JlLnVzZVAyUCl7aWYoXCJkYXRhY2hhbm5lbFwiPT09dClyZXR1cm4gdGhpcy5fdW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLGkpfWVsc2UgYXdhaXQgdGhpcy5fdW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLGkpO2lmKHQmJkJnKHQsXCJtZWRpYVR5cGVcIixbXCJhdWRpb1wiLFwidmlkZW9cIl0pLCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCB1bnN1YnNjcmliZSBzdHJlYW0sIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7aWYoIXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQ9PT1lKSkpe2NvbnN0IHQ9bmV3IE12KHhnLklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgdW5zdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiwgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLHR9V0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVuc3Vic2NyaWJlIHVpZDogXCIpLmNvbmNhdChlLnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KHQpKTtjb25zdCBuPWF3YWl0IHRoaXMuX3N1YnNjcmliZU11dGV4LmxvY2soKTt0cnl7aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIHdNKWF3YWl0IHRoaXMuX2dhdGV3YXkuc2VuZEV4dGVuc2lvbk1lc3NhZ2UoQUkuVU5TVUJTQ1JJQkUse21lZGlhVHlwZTp0fSk7ZWxzZXtjb25zdCBpPWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmUoZSx0KTtpJiZhd2FpdCB0aGlzLl9nYXRld2F5LnVuc3Vic2NyaWJlKGksZS51aWQpLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnN1YnNjcmliZSBzdWNjZXNzIHVpZDogXCIpLmNvbmNhdChlLnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KHQpKX19Y2F0Y2godCl7aWYodC5jb2RlPT09eGcuRElTQ09OTkVDVF9QMlApcmV0dXJuIHZvaWQgV0Mud2FybmluZyhcImRpc2Nvbm5lY3RpbmcgcDJwLCBhYm9ydCB1bnN1YnNjcmliZSByZXF1ZXN0LlwiKTt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVuc3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiBlcnJvclwiKSx0LnRvU3RyaW5nKCkpLHR9ZmluYWxseXtuKCl9fWFzeW5jIF91bnN1YnNjcmliZURhdGFDaGFubmVsKGUsdCl7aWYodCYmamcodCxcImlkXCIsMCw2NTUzNSwhMCksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHVuc3Vic2NyaWJlIGRhdGFjaGFubmVsLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO2lmKCF0aGlzLl91c2Vycy5maW5kKCh0PT50PT09ZSkpKXtjb25zdCB0PW5ldyBNdih4Zy5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIik7dGhyb3cgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHVuc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIsIHVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpKSx0fWxldCBpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXtjb25zdCBuPWUuX2RhdGFDaGFubmVscy5maW5kKChlPT5lLmlkPT09dCkpO24mJihpPVtuXSl9ZWxzZSBpPWUuX2RhdGFDaGFubmVscztpZih2b2lkIDA9PT1pKXtjb25zdCBpPW5ldyBNdih4Zy5SRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEKTt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgdW5zdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiB3aXRoIGNoYW5uZWxJZCBcIikuY29uY2F0KHQsXCIsIHJlbW90ZSBkYXRhY2hhbm5lbCBpcyBub3QgcHVibGlzaGVkXCIpKSxpfVdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnN1YnNjcmliZSB1aWQ6IFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogZGF0YWNoYW5uZWwsIGlkczogXCIpLmNvbmNhdChpLm1hcCgoZT0+ZS5pZCkpKSk7dHJ5e2NvbnN0IHQ9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZURhdGFDaGFubmVsKGUsaSk7dCYmYXdhaXQgdGhpcy5fZ2F0ZXdheS51bnN1YnNjcmliZURhdGFDaGFubmVsKHQsZS51aWQpLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnN1YnNjcmliZSBkYXRhY2hhbm5lbCBzdWNjZXNzIHVpZDogXCIpLmNvbmNhdChlLnVpZCxcIiwgbWVkaWFUeXBlOiBkYXRhY2hhbm5lbCwgaWRzOiBcIikuY29uY2F0KHQpKX1jYXRjaCh0KXtpZih0LmNvZGU9PT14Zy5ESVNDT05ORUNUX1AyUClyZXR1cm4gdm9pZCBXQy53YXJuaW5nKFwiZGlzY29ubmVjdGluZyBwMnAsIGFib3J0IHVuc3Vic2NyaWJlIHJlcXVlc3QuXCIpO3Rocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdW5zdWJzY3JpYmUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiIGVycm9yXCIpLHQudG9TdHJpbmcoKSksdH19YXN5bmMgbWFzc1Vuc3Vic2NyaWJlKGUpe2lmKEhnKGUsXCJ1bnN1YnNjcmliZUxpc3RcIiksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHVuc3Vic2NyaWJlQWxsIHN0cmVhbSwgaGF2ZW4ndCBqb2luZWQgeWV0IVwiKTtXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3RhcnQgbWFzc1Vuc3Vic2NyaWJlIFwiKS5jb25jYXQoZS5tYXAoKGU9PntsZXR7dXNlcjp0LG1lZGlhVHlwZTppfT1lO3JldHVyblwidXNlcjogXCIuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQudWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQoaSxcIjtcIil9KSkuam9pbigpKSksZT1bLi4uZV07Y29uc3QgdD1uZXcgTWFwO2ZvcihsZXQgaT1lLmxlbmd0aC0xO2k+PTA7aS0tKXtjb25zdHt1c2VyOm4sbWVkaWFUeXBlOnJ9PWVbaV07aWYoIW4pe2NvbnN0IGU9bmV3IE12KHhnLklOVkFMSURfUEFSQU1TLFwidXNlciBwcm9wZXJ0eSBkb2VzIG5vdCBleGlzdCBpbiB1bnN1YnNjcmliZUxpc3QgaXRlbVwiKTt0aHJvdyBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXIgcHJvcGVydHkgZG9lcyBub3QgZXhpc3QgaW4gdW5zdWJzY3JpYmVMaXN0IGl0ZW1cIikpLGV9QmcocixcIm1lZGlhVHlwZVwiLFtcInZpZGVvXCIsXCJhdWRpb1wiLHZvaWQgMF0pO2lmKCF0aGlzLl91c2Vycy5maW5kKChlPT5lPT09bikpKXtXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCB1bnN1YnNjcmliZSBcIikuY29uY2F0KG4udWlkLFwiLCB1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKSksZS5zcGxpY2UoaSwxKTtjb250aW51ZX1jb25zdCBzPWVJLlZpZGVvfGVJLkx3b1ZpZGVvO2lmKHQuaGFzKG4pKXtjb25zdCBvPXQuZ2V0KG4pO2xldCBhO3N3aXRjaChyKXtjYXNlXCJ2aWRlb1wiOmE9byZzO2JyZWFrO2Nhc2VcImF1ZGlvXCI6YT1vJmVJLkF1ZGlvO2JyZWFrO2RlZmF1bHQ6YT1vJihlSS5BdWRpb3xzKX1pZihhKXtXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVwZWF0IG1hc3NVbnN1YnNjcmliZSB1c2VyOlwiKS5jb25jYXQobi51aWQsXCIsbWVkaWFUeXBlOlwiKS5jb25jYXQocixcIiB0d2ljZS5cIikpLGUuc3BsaWNlKGksMSk7Y29udGludWV9cj9cImF1ZGlvXCI9PT1yP3Quc2V0KG4sb3xlSS5BdWRpbyk6XCJ2aWRlb1wiPT09ciYmdC5zZXQobixvfHMpOnQuc2V0KG4sb3xlSS5BdWRpb3xzKX1lbHNlIHI/XCJhdWRpb1wiPT09cj90LnNldChuLGVJLkF1ZGlvKTpcInZpZGVvXCI9PT1yJiZ0LnNldChuLHMpOnQuc2V0KG4sZUkuQXVkaW98cyl9dHJ5e2NvbnN0IHQ9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5tYXNzVW5zdWJzY3JpYmUoZSk7dCYmYXdhaXQgdGhpcy5fZ2F0ZXdheS5tYXNzVW5zdWJzY3JpYmUodCksV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIG1hc3NVbnN1YnNjcmliZSBzdWNjZXNzIFwiKS5jb25jYXQoZS5tYXAoKGU9PntsZXR7dXNlcjp0LG1lZGlhVHlwZTppfT1lO3JldHVyblwidXNlcjogXCIuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQudWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQoaSxcIjtcIil9KSkuam9pbigpKSl9Y2F0Y2goZSl7aWYoZS5jb2RlPT09eGcuRElTQ09OTkVDVF9QMlApcmV0dXJuIHZvaWQgV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGRpc2Nvbm5lY3RpbmcgcDJwLCBhYm9ydCB1bnN1YnNjcmliZSByZXF1ZXN0LlwiKSk7dGhyb3cgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBtYXNzVW5zdWJzY3JpYmUgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfX1hc3luYyBzZXRMb3dTdHJlYW1QYXJhbWV0ZXIoZSl7IWZ1bmN0aW9uKGUpe2lmKCFlKXRocm93IG5ldyBWZyh4Zy5JTlZBTElEX1BBUkFNUyk7S2coZS53aWR0aCl8fEdnKGUud2lkdGgsXCJzdHJlYW1QYXJhbWV0ZXIud2lkdGhcIiksS2coZS5oZWlnaHQpfHxHZyhlLmhlaWdodCxcInN0cmVhbVBhcmFtZXRlci5oZWlnaHRcIiksS2coZS5mcmFtZXJhdGUpfHxHZyhlLmZyYW1lcmF0ZSxcInN0cmVhbVBhcmFtZXRlci5mcmFtZXJhdGVcIiksS2coZS5iaXRyYXRlKXx8amcoZS5iaXRyYXRlLFwic3RyZWFtUGFyYW1ldGVyLmJpdHJhdGVcIil9KGUpLCghZS53aWR0aCYmZS5oZWlnaHR8fGUud2lkdGgmJiFlLmhlaWdodCkmJldDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBUaGUgd2lkdGggYW5kIGhlaWdodCBwYXJhbWV0ZXJzIHRha2UgZWZmZWN0IG9ubHkgd2hlbiBib3RoIGFyZSBzZXRcIikpLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgbG93IHN0cmVhbSBwYXJhbWV0ZXIgdG9cIiksSlNPTi5zdHJpbmdpZnkoZSkpO2NvbnN0IHQ9dGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5nZXRMb3dTdHJlYW1Db25maWdEaXN0cmlidXRlKCk7aWYodCYmdC5iaXRyYXRlJiZlLmJpdHJhdGUmJnQuYml0cmF0ZTxlLmJpdHJhdGUmJihlLmJpdHJhdGU9dC5iaXRyYXRlKSx0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXI9ZSx0aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkKXJldHVybiB0aGlzLl9wMnBDaGFubmVsLnVwZGF0ZVZpZGVvU3RyZWFtUGFyYW1ldGVyKGUsdUkuTG9jYWxWaWRlb0xvd1RyYWNrKX1hc3luYyBlbmFibGVEdWFsU3RyZWFtKCl7aWYoIWhBKCkuc3VwcG9ydER1YWxTdHJlYW0pdGhyb3cgaXYuc3RyZWFtU3dpdGNoKHRoaXMuX3Nlc3Npb25JZCx7bHRzOkRhdGUubm93KCksaXNkdWFsOiEwLHN1Y2M6ITF9KSxuZXcgTXYoeGcuTk9UX1NVUFBPUlRFRCxcIllvdXIgYnJvd3NlciBpcyBub3Qgc3VwcG9ydCBkdWFsIHN0cmVhbVwiKTtpZih0aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIkR1YWwgc3RyZWFtIGlzIGFscmVhZHkgZW5hYmxlZFwiKTtpZih0aGlzLl9wMnBDaGFubmVsLmNhblB1Ymxpc2hMb3dTdHJlYW0oKSl0cnl7YXdhaXQgdGhpcy5fcHVibGlzaExvd1N0cmVhbSgpfWNhdGNoKGUpe3Rocm93IGl2LnN0cmVhbVN3aXRjaCh0aGlzLl9zZXNzaW9uSWQse2x0czpEYXRlLm5vdygpLGlzZHVhbDohMCxzdWNjOiExfSksZX10aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkPSEwLGl2LnN0cmVhbVN3aXRjaCh0aGlzLl9zZXNzaW9uSWQse2x0czpEYXRlLm5vdygpLGlzZHVhbDohMCxzdWNjOiEwfSksV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGVuYWJsZSBkdWFsIHN0cmVhbVwiKSl9YXN5bmMgZGlzYWJsZUR1YWxTdHJlYW0oKXtpZih0aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkKXtpZighdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3QgcHVibGlzaCBzdHJlYW0sIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7aWYodGhpcy5fcDJwQ2hhbm5lbC5nZXRMb2NhbE1lZGlhKHVJLkxvY2FsVmlkZW9Mb3dUcmFjaykpdHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnB1Ymxpc2hMb3dTdHJlYW0oKTtlJiZhd2FpdCB0aGlzLl9nYXRld2F5LnVucHVibGlzaChlLHRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZHx8dGhpcy5fam9pbkluZm8udWlkKX1jYXRjaChlKXt0aHJvdyBpdi5zdHJlYW1Td2l0Y2godGhpcy5fc2Vzc2lvbklkLHtsdHM6RGF0ZS5ub3coKSxpc2R1YWw6ITEsc3VjYzohMX0pLGV9dGhpcy5faXNEdWFsU3RyZWFtRW5hYmxlZD0hMSxpdi5zdHJlYW1Td2l0Y2godGhpcy5fc2Vzc2lvbklkLHtsdHM6RGF0ZS5ub3coKSxpc2R1YWw6ITEsc3VjYzohMH0pLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBkaXNhYmxlIGR1YWwgc3RyZWFtXCIpKX19YXN5bmMgc2V0Q2xpZW50Um9sZShlLHQpe2lmKGZ1bmN0aW9uKGUpe0JnKGUsXCJyb2xlXCIsW1wiYXVkaWVuY2VcIixcImhvc3RcIl0pfShlKSx0JiZtUyh0KSxcInJ0Y1wiPT09dGhpcy5tb2RlKXRocm93IFdDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXXJ0YyBtb2RlIGNhbiBub3QgdXNlIHNldENsaWVudFJvbGVcIikpLG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcInJ0YyBtb2RlIGNhbiBub3QgdXNlIHNldENsaWVudFJvbGVcIik7aWYodCYmdC5sZXZlbCYmXCJob3N0XCI9PT1lKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcImhvc3QgbW9kZSBjYW4gbm90IHNldCBhdWRpZW5jZSBsYXRlbmN5IGxldmVsXCIpO2lmKFwiYXVkaWVuY2VcIj09PWUmJnRoaXMuX3AycENoYW5uZWwuaGFzTG9jYWxNZWRpYSgpKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc2V0IGNsaWVudCByb2xlIHRvIGF1ZGllbmNlIHdoZW4gcHVibGlzaGluZyBzdHJlYW1cIik7YXdhaXQgdGhpcy5fZ2F0ZXdheS5zZXRDbGllbnRSb2xlKGUsdCksdGhpcy5fY29uZmlnLnJvbGU9ZSxXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGNsaWVudCByb2xlIHRvIFwiKS5jb25jYXQoZSxcIiwgbGV2ZWw6IFwiKS5jb25jYXQodCYmdC5sZXZlbCkpfWdldFJlbW90ZUluYm91bmRPZmZzZXQoKXt2YXIgZTtjb25zdCB0PW51bGw9PT0oZT10aGlzLl9wMnBDaGFubmVsLmdldFN0YXRzKCkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmF1ZGlvU2VuZFswXTtpZighdHx8IXQudGltZXN0YW1wKXJldHVybiAwO2NvbnN0IGk9dC50aW1lc3RhbXAtRGF0ZS5ub3coKTtyZXR1cm4gTWF0aC5hYnMoaSk+MWUzK3QucnR0TXMrMTAwP3RoaXMubnRwQWxpZ25FcnJvckNvdW50Kz0xOnRoaXMubnRwQWxpZ25FcnJvckNvdW50PTAsdGhpcy5udHBBbGlnbkVycm9yQ291bnQ+PTM/aTowfWdldE50cFdhbGxUaW1lSW5Ncygpe3JldHVyblwidmlzaWJsZVwiPT09ZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlJiYodGhpcy5yZW1vdGVJbmJvdW5kT2Zmc2V0PXRoaXMuZ2V0UmVtb3RlSW5ib3VuZE9mZnNldCgpKSx0aGlzLnJlbW90ZUluYm91bmRPZmZzZXQrRGF0ZS5ub3coKSt0aGlzLl9nYXRld2F5Lm50cE9mZnNldH1zZXRQcm94eVNlcnZlcihlLHQpe2lmKFdnKGUsXCJwcm94eVNlcnZlclwiKSwhdCl7aWYoXCJESVNDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIlNldCBwcm94eSBzZXJ2ZXIgYmVmb3JlIGpvaW4gY2hhbm5lbFwiKTtpZihcImRpc2FibGVkXCIhPT10aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZXx8dGhpcy5fdXNlTG9jYWxBY2Nlc3NQb2ludCl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJZb3UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgcHJveHlcIil9dGhpcy5fcHJveHlTZXJ2ZXI9ZSxpdi5zZXRQcm94eVNlcnZlcih0aGlzLl9wcm94eVNlcnZlciksV0Muc2V0UHJveHlTZXJ2ZXIodGhpcy5fcHJveHlTZXJ2ZXIpLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBTZXQgcHJveHkgc2VydmVyIFwiKS5jb25jYXQodD9cImJ5IGluaXRpYWxpemUgY2FsbFwiOlwiXCIsXCIgc3VjY2Vzcy5cIikpfXNldFR1cm5TZXJ2ZXIoZSx0KXtpZihBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pLCF0KXtpZihcIkRJU0NPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiU2V0IHR1cm4gc2VydmVyIGJlZm9yZSBqb2luIGNoYW5uZWxcIik7aWYoXCJkaXNhYmxlZFwiIT09dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGV8fHRoaXMuX3VzZUxvY2FsQWNjZXNzUG9pbnQpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiWW91IGhhdmUgYWxyZWFkeSBzZXQgdGhlIHByb3h5XCIpfWlmKF9TKGUpKXJldHVybiB0aGlzLl90dXJuU2VydmVyPXtzZXJ2ZXJzOmUsbW9kZTpcIm9yaWdpbmFsLW1hbnVhbFwifSx2b2lkIFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBTZXQgb3JpZ2luYWwgdHVybnNlcnZlciBcIikuY29uY2F0KHQ/XCJieSBpbml0aWFsaXplIGNhbGxcIjpcIlwiLFwiIHN1Y2Nlc3M6IFwiKS5jb25jYXQoZS5tYXAoKGU9PmUudXJscykpLmpvaW4oXCIsXCIpLFwiLlwiKSk7ZS5mb3JFYWNoKChlPT5FUyhlKSkpLHRoaXMuX3R1cm5TZXJ2ZXI9e3NlcnZlcnM6ZSxtb2RlOlwibWFudWFsXCJ9LFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBTZXQgdHVybnNlcnZlciBcIikuY29uY2F0KHQ/XCJieSBpbml0aWFsaXplIGNhbGxcIjpcIlwiLFwiIHN1Y2Nlc3MuXCIpKX1zZXRMaWNlbnNlKGUpe2lmKFwiRElTQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl7dGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwieW91IHNob3VsZCBzZXQgbGljZW5zZSBiZWZvcmUgam9pbiBjaGFubmVsXCIpfWlmKFdnKGUsXCJsaWNlbnNlXCIsMzIsMzIpLCEvXltBLVphLXpcXGRdKyQvLnRlc3QoZSkpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfUEFSQU1TLFwibGljZW5zZSBzaG91bGQgb25seSBjb250YWlucyBjaGFyYWN0ZXJzIGZyb20gQS1aIGEteiAwLTlcIik7dGhpcy5fbGljZW5zZT1lLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgbGljZW5zZSBzdWNjZXNzXCIpLGUpfXN0YXJ0UHJveHlTZXJ2ZXIoZSl7aWYoXCJESVNDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIlN0YXJ0IHByb3h5IHNlcnZlciBiZWZvcmUgam9pbiBjaGFubmVsXCIpO2lmKHRoaXMuX3Byb3h5U2VydmVyfHxcIm1hbnVhbFwiPT09dGhpcy5fdHVyblNlcnZlci5tb2RlfHx0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50KXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIllvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBwcm94eVwiKTtjb25zdCB0PVszLDQsNV07bGV0IGk7c3dpdGNoKHZvaWQgMD09PWUmJihlPTMpLGUpe2Nhc2UgMTpjYXNlIDI6dGhyb3cgbmV3IE12KHhnLk5PVF9TVVBQT1JURUQsXCJwcm94eSBtb2RlIDEvMiBoYXMgYmVlbiBkZXByZWNhdGVkIGFuZCBub3Qgc3VwcG9ydGVkLlwiKTtjYXNlIDM6aT1cInByb3h5M1wiO2JyZWFrO2Nhc2UgNDppPVwicHJveHk0XCI7YnJlYWs7Y2FzZSA1Omk9XCJwcm94eTVcIjticmVhaztkZWZhdWx0OnRocm93IG5ldyBNdih4Zy5JTlZBTElEX1BBUkFNUyxcInByb3h5IHNlcnZlciBtb2RlIG11c3QgYmUgXCIuY29uY2F0KHQuam9pbihcInxcIikpKX10aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZT1pLHRoaXMuc3RvcmUuY2xvdWRQcm94eVNlcnZlck1vZGU9aSxXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGNsb3VkIHByb3h5IHNlcnZlciBtb2RlIHRvXCIpLHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlKX1zdG9wUHJveHlTZXJ2ZXIoKXtpZihcIkRJU0NPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiU3RvcCBwcm94eSBzZXJ2ZXIgYWZ0ZXIgbGVhdmUgY2hhbm5lbFwiKTtpdi5zZXRQcm94eVNlcnZlcigpLFdDLnNldFByb3h5U2VydmVyKCksdGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGU9XCJkaXNhYmxlZFwiLHRoaXMuc3RvcmUuY2xvdWRQcm94eVNlcnZlck1vZGU9XCJkaXNhYmxlZFwiLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgY2xvdWQgcHJveHkgc2VydmVyIG1vZGUgdG9cIiksdGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUpLHRoaXMuX3Byb3h5U2VydmVyPXZvaWQgMCx0aGlzLl90dXJuU2VydmVyPXttb2RlOlwiYXV0b1wiLHNlcnZlcnM6W119fXNldExvY2FsQWNjZXNzUG9pbnRzVjIoZSl7aWYoIWUuYWNjZXNzUG9pbnRzKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX1BBUkFNUyxcImFjY2Vzc1BvaW50cyBpcyByZXF1aXJlZC5cIik7SGcoZS5hY2Nlc3NQb2ludHMuc2VydmVyTGlzdCxcImFjY2Vzc1BvaW50cy5zZXJ2ZXJMaXN0XCIpLFdnKGUuYWNjZXNzUG9pbnRzLmRvbWFpbixcImFjY2Vzc1BvaW50cy5kb21haW5cIik7Y29uc3QgdD0oZSx0KT0+e2pnKGUsdCwwLDY1NTM1LCEwKX07bGV0IGk9NDQzO2lmKGUuYWNjZXNzUG9pbnRzLnBvcnQmJih0KGUuYWNjZXNzUG9pbnRzLnBvcnQsXCJhY2Nlc3NQb2ludHMucG9ydFwiKSxpPWUuYWNjZXNzUG9pbnRzLnBvcnQpLHRoaXMuX3Byb3h5U2VydmVyfHxcImRpc2FibGVkXCIhPT10aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZSl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJzZXQgbG9jYWwgYWNjZXNzIHBvaW50IGZhaWxlZCwgWW91IGhhdmUgYWxyZWFkeSBzZXQgdGhlIGNsb3VkIHByb3h5XCIpO2tDKFwiQ0xPU0VfQUZCX0ZPUl9MT0NBTF9BUFwiKSYmKExDKFwiSk9JTl9XSVRIX0ZBTExCQUNLX1NJR05BTF9QUk9YWVwiLCExKSxMQyhcIkpPSU5fV0lUSF9GQUxMQkFDS19NRURJQV9QUk9YWVwiLCExKSk7Y29uc3Qgbj0vXigoXFxkezEsMn18MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4pezN9KFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pJC8scj1lLmFjY2Vzc1BvaW50cy5kb21haW4scz1lLmFjY2Vzc1BvaW50cy5zZXJ2ZXJMaXN0Lm1hcCgoZT0+bi50ZXN0KGUpP1wiXCIuY29uY2F0KGUucmVwbGFjZSgvXFwuL2csXCItXCIpLFwiLlwiKS5jb25jYXQocik6ZSkpLG89cy5tYXAoKGU9PlwiXCIuY29uY2F0KGUsXCI6XCIpLmNvbmNhdChpKSkpO3RoaXMuX3VzZUxvY2FsQWNjZXNzUG9pbnQ9ITAsdGhpcy5fc2V0TG9jYWxBUFZlcnNpb249MixMQyhcIldFQkNTX0RPTUFJTlwiLG8pLExDKFwiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCIsbyksTEMoXCJHQVRFV0FZX0RPTUFJTlNcIixbcl0pLGUucmVwb3J0JiZlLnJlcG9ydC5ob3N0bmFtZSYmQXJyYXkuaXNBcnJheShlLnJlcG9ydC5ob3N0bmFtZSkmJmUucmVwb3J0Lmhvc3RuYW1lLmxlbmd0aD8oSGcoZS5yZXBvcnQuaG9zdG5hbWUsXCJyZXBvcnQuaG9zdG5hbWVcIiksTEMoXCJFVkVOVF9SRVBPUlRfRE9NQUlOXCIsZS5yZXBvcnQuaG9zdG5hbWVbMF0pLExDKFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIixlLnJlcG9ydC5ob3N0bmFtZVsxXXx8ZS5yZXBvcnQuaG9zdG5hbWVbMF0pKTooTEMoXCJFVkVOVF9SRVBPUlRfRE9NQUlOXCIsc1swXSksTEMoXCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiLHNbMV18fHNbMF0pKTtsZXQgYT02NDQzO2UucmVwb3J0JiZlLnJlcG9ydC5wb3J0JiYodChlLnJlcG9ydC5wb3J0LFwicmVwb3J0LnBvcnRcIiksYT1lLnJlcG9ydC5wb3J0KSxMQyhcIlNUQVRTX0NPTExFQ1RPUl9QT1JUXCIsYSksZS5yZXBvcnQ/TEMoXCJFTkFCTEVfRVZFTlRfUkVQT1JUXCIsITApOkxDKFwiRU5BQkxFX0VWRU5UX1JFUE9SVFwiLCExKTtsZXQgYz1cIlwiO2UubG9nJiZlLmxvZy5ob3N0bmFtZSYmQXJyYXkuaXNBcnJheShlLmxvZy5ob3N0bmFtZSkmJmUubG9nLmhvc3RuYW1lLmxlbmd0aD8oSGcoZS5sb2cuaG9zdG5hbWUsXCJsb2cuaG9zdG5hbWVcIiksYz1lLmxvZy5ob3N0bmFtZVswXSk6Yz1zWzBdO2xldCBkPTY0NDQ7ZS5sb2cmJmUubG9nLnBvcnQmJih0KGUubG9nLnBvcnQsXCJsb2cucG9ydFwiKSxkPWUubG9nLnBvcnQpLExDKFwiTE9HX1VQTE9BRF9TRVJWRVJcIixcIlwiLmNvbmNhdChjLFwiOlwiKS5jb25jYXQoZCkpO2xldCBsPVtdO2UuY2RzJiZlLmNkcy5ob3N0bmFtZSYmQXJyYXkuaXNBcnJheShlLmNkcy5ob3N0bmFtZSkmJmUuY2RzLmhvc3RuYW1lLmxlbmd0aD8oSGcoZS5jZHMuaG9zdG5hbWUsXCJjZHMuaG9zdG5hbWVcIiksbD1lLmNkcy5ob3N0bmFtZSk6bD1zO2xldCBoPTQ0MztlLmNkcyYmZS5jZHMucG9ydCYmKHQoZS5jZHMucG9ydCxcImNkcy5wb3J0XCIpLGg9ZS5jZHMucG9ydCksTEMoXCJDRFNfQVBcIixsLm1hcCgoZT0+XCJcIi5jb25jYXQoZSxcIjpcIikuY29uY2F0KGgpKSkpLGUuY2RzP0xDKFwiRU5BQkxFX0NPTkZJR19ESVNUUklCVVRFXCIsITApOkxDKFwiRU5BQkxFX0NPTkZJR19ESVNUUklCVVRFXCIsITEpLFdDLmluZm8oXCJzZXQgbG9jYWwgYWNjZXNzIHBvaW50IHYyIHN1Y2Nlc3NcIil9c2V0TG9jYWxBY2Nlc3NQb2ludHMoZSx0KXtpZihIZyhlLFwic2VydmVyTGlzdFwiKSxXZyh0LFwiZG9tYWluXCIpLHRoaXMuX3Byb3h5U2VydmVyfHxcImRpc2FibGVkXCIhPT10aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZSl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJzZXQgbG9jYWwgYWNjZXNzIHBvaW50IGZhaWxlZCwgWW91IGhhdmUgYWxyZWFkeSBzZXQgdGhlIGNsb3VkIHByb3h5XCIpO2NvbnN0IGk9L14oXFxkezEsMn18MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkezEsMn18MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkezEsMn18MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkezEsMn18MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSkkLztlPWUubWFwKChlPT5pLnRlc3QoZSk/XCJcIi5jb25jYXQoZS5yZXBsYWNlKC9cXC4vZyxcIi1cIiksXCIuXCIpLmNvbmNhdCh0KTplKSksdGhpcy5fdXNlTG9jYWxBY2Nlc3NQb2ludD0hMCx0aGlzLl9zZXRMb2NhbEFQVmVyc2lvbj0xLExDKFwiV0VCQ1NfRE9NQUlOXCIsZSksTEMoXCJXRUJDU19ET01BSU5fQkFDS1VQX0xJU1RcIixlKSxMQyhcIkdBVEVXQVlfRE9NQUlOU1wiLFt0XSksTEMoXCJFVkVOVF9SRVBPUlRfRE9NQUlOXCIsZVswXSksTEMoXCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiLGVbMV18fGVbMF0pLExDKFwiTE9HX1VQTE9BRF9TRVJWRVJcIixcIlwiLmNvbmNhdChlWzBdLFwiOjY0NDRcIikpLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgbG9jYWwgYWNjZXNzIHBvaW50IHN1Y2Nlc3NcIikpfWFzeW5jIHNldFJlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGUoZSl7aWYoQmcoZSxcInN0cmVhbVR5cGVcIixbMCwxXSksdGhpcy5fcmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZT1lLHRoaXMuX2pvaW5JbmZvKXRyeXthd2FpdCB0aGlzLl9nYXRld2F5LnNldERlZmF1bHRSZW1vdGVWaWRlb1N0cmVhbVR5cGUoZSksdGhpcy5fam9pbkluZm8uZGVmYXVsdFZpZGVvU3RyZWFtPXRoaXMuX3JlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGV9Y2F0Y2goZSl7dGhyb3cgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgZGVmYXVsdCByZW1vdGUgdmlkZW8gc3RyZWFtIHR5cGUgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfWVsc2UgV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBoYXZlbid0IGpvaW5lZCB5ZXQsIGNhY2hlIHJlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGUgXCIpLmNvbmNhdChlKSl9YXN5bmMgc2V0UmVtb3RlVmlkZW9TdHJlYW1UeXBlKGUsdCl7QmcodCxcInN0cmVhbVR5cGVcIixbMCwxXSk7dHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkuc2V0UmVtb3RlVmlkZW9TdHJlYW1UeXBlKGUsdCksc2V0VGltZW91dCgoKCk9Pntjb25zdCB0PXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQudWlkPT09ZSkpO3QmJnQudmlkZW9UcmFjayYmdC52aWRlb1RyYWNrLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCl9KSwyZTMpfWNhdGNoKGUpe3Rocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IHJlbW90ZSB2aWRlbyBzdHJlYW0gdHlwZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9V0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCByZW1vdGUgXCIpLmNvbmNhdChlLFwiIHZpZGVvIHN0cmVhbSB0eXBlIHRvIFwiKS5jb25jYXQodCkpLHRoaXMuX3JlbW90ZVN0cmVhbVR5cGVDYWNoZU1hcC5zZXQoZSx0KX1hc3luYyBzZXRTdHJlYW1GYWxsYmFja09wdGlvbihlLHQpe0JnKHQsXCJmYWxsYmFja1R5cGVcIixbMCwxLDJdKTt0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5zZXRTdHJlYW1GYWxsYmFja09wdGlvbihlLHQpfWNhdGNoKGUpe3Rocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IHN0cmVhbSBmYWxsYmFjayBvcHRpb25cIiksZS50b1N0cmluZygpKSxlfVdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgcmVtb3RlIFwiKS5jb25jYXQoZSxcIiBzdHJlYW0gZmFsbGJhY2sgdHlwZSB0byBcIikuY29uY2F0KHQpKSx0aGlzLl9zdHJlYW1GYWxsYmFja1R5cGVDYWNoZU1hcC5zZXQoZSx0KX1zZXRFbmNyeXB0aW9uQ29uZmlnKGUsdCxpKXshZnVuY3Rpb24oZSl7QmcoZSxcImVuY3J5cHRpb25Nb2RlXCIsW1wiYWVzLTEyOC14dHNcIixcImFlcy0yNTYteHRzXCIsXCJhZXMtMTI4LWVjYlwiLFwic200LTEyOC1lY2JcIixcImFlcy0xMjgtZ2NtXCIsXCJhZXMtMjU2LWdjbVwiLFwiYWVzLTEyOC1nY20yXCIsXCJhZXMtMjU2LWdjbTJcIixcIm5vbmVcIl0pfShlKSxXZyh0LFwic2VjcmV0XCIpO2NvbnN0IG49W1wiYWVzLTEyOC1nY20yXCIsXCJhZXMtMjU2LWdjbTJcIl07aWYoUHIobikuY2FsbChuLGUpKXtpZighaXx8IShpIGluc3RhbmNlb2YgVWludDhBcnJheSYmMzI9PT1pLmxlbmd0aCkpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfUEFSQU1TLFwic2FsdCBtdXN0IGJlIGFuIFVpbnQ4QXJyYXkgYW5kIGV4YWN0bHkgZXF1YWwgdG8gMzIgYnl0ZXNcIil9ZWxzZSBpZihpKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX1BBUkFNUyxcImN1cnJlbnQgZW5jcnlwdCBtb2RlIGRvZXMgbm90IG5lZWQgc2FsdFwiKTtuZXcgUmVnRXhwKFwiXig/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlswLTldKSg/PS4qWyFAIyQlXiYqLC48Pj8vOjsnXFxcInx7fVxcXFxbXFxcXF1dKSg/PS57OCx9KVwiKS50ZXN0KHQpfHxXQy53YXJuaW5nKFwiVGhlIHNlY3JldCBpcyBub3Qgc3Ryb25nOlxcbiAgICAgIFRoZSBzZWNyZXQgbXVzdCBjb250YWluIGF0IGxlYXN0IDEgbG93ZXJjYXNlIGFscGhhYmV0aWNhbCBjaGFyYWN0ZXIsXFxuICAgICAgVGhlIHNlY3JldCBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgMSB1cHBlcmNhc2UgYWxwaGFiZXRpY2FsIGNoYXJhY3RlcixcXG4gICAgICBUaGUgc2VjcmV0IG11c3QgY29udGFpbiBhdCBsZWFzdCAxIG51bWVyaWMgY2hhcmFjdGVyLFxcbiAgICAgIFRoZSBzZWNyZXQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBzcGVjaWFsIGNoYXJhY3RlcixcXG4gICAgICBUaGUgc2VjcmV0IG11c3QgYmUgZWlnaHQgY2hhcmFjdGVycyBvciBsb25nZXIuXFxuICAgICAgXCIpLHRoaXMuX2VuY3J5cHRpb25Nb2RlPWUsdGhpcy5fZW5jcnlwdGlvblNlY3JldD10LGkmJih0aGlzLl9lbmNyeXB0aW9uU2FsdD1QUyhpKSl9YXN5bmMgcmVuZXdUb2tlbihlKXtpZihXZyhlLFwidG9rZW5cIiwxLDIwNDcpLCF0aGlzLl9rZXl8fCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJyZW5ld1Rva2VuIHNob3VsZCBub3QgYmUgY2FsbGVkIGJlZm9yZSB1c2VyIGpvaW5cIik7Y29uc3QgdD10aGlzLl9rZXk7dGhpcy5fa2V5PWUsdGhpcy5fam9pbkluZm8mJih0aGlzLl9qb2luSW5mby50b2tlbj1lKTtjb25zdCBpPWF3YWl0IHRoaXMuX3JlbmV3VG9rZW5NdXRleC5sb2NrKCk7dHJ5e2lmKGtDKFwiVVNFX05FV19UT0tFTlwiKSl7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdGFydCByZW5ldyB0b2tlbiB3aXRoIHRpY2tldCBmcm9tIHVuaWxic1wiKSk7Y29uc3QgdD1hd2FpdCBwUCh0aGlzLl9qb2luSW5mbyx0aGlzLl9heGlvc0NhbmNlbFNvdXJjZS50b2tlbix0aGlzLl9jb25maWcuaHR0cFJldHJ5Q29uZmlnfHxKUyk7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBnZXQgdGlja2V0IGZyb20gdW5pbGJzIHN1Y2Nlc3NcIikpLGF3YWl0IHRoaXMuX2dhdGV3YXkucmVuZXdUb2tlbih7dG9rZW46ZSx0aWNrZXQ6dH0pfWVsc2UgV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdGFydCByZW5ldyB0b2tlbiB3aXRob3V0IHRpY2tldFwiKSksYXdhaXQgdGhpcy5fZ2F0ZXdheS5yZW5ld1Rva2VuKHt0b2tlbjplfSk7V0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW5ld1Rva2VuIHN1Y2Nlc3NcIikpfWNhdGNoKGUpe3Rocm93IHRoaXMuX2tleT10LHRoaXMuX2pvaW5JbmZvLnRva2VuPXQsV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW5ld1Rva2VuIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpLGV9ZmluYWxseXtpKCl9fWVuYWJsZUF1ZGlvVm9sdW1lSW5kaWNhdG9yKCl7dGhpcy5fYXVkaW9Wb2x1bWVJbmRpY2F0aW9uSW50ZXJ2YWw/V0Mud2FybmluZyhcInlvdSBoYXZlIGFscmVhZHkgZW5hYmxlZCBhdWRpbyB2b2x1bWUgaW5kaWNhdG9yIVwiKTp0aGlzLl9hdWRpb1ZvbHVtZUluZGljYXRpb25JbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57Y29uc3QgZT10aGlzLl9wMnBDaGFubmVsLmdldEF1ZGlvTGV2ZWxzKCk7dGhpcy5zYWZlRW1pdChkUy5WT0xVTUVfSU5ESUNBVE9SLGUpfSksa0MoXCJBVURJT19WT0xVTUVfSU5ESUNBVElPTl9JTlRFUlZBTFwiKXx8MmUzKX1nZXRSVENTdGF0cygpe2NvbnN0IGU9dGhpcy5fc3RhdHNDb2xsZWN0b3IuZ2V0UlRDU3RhdHMoKSx0PXRoaXMuX2dhdGV3YXkuZ2V0SW5DaGFubmVsSW5mbygpO3JldHVybiBlLkR1cmF0aW9uPU1hdGgucm91bmQodC5kdXJhdGlvbi8xZTMpLGV9YXN5bmMgc3RhcnRMaXZlU3RyZWFtaW5nKGUsdCl7aWYoIXQpe2lmKFwiaDI2NFwiIT09dGhpcy5jb2RlYyl0aHJvdyBuZXcgTXYoeGcuTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9SQVdfU1RSRUFNLFwicmF3IHN0cmVhbWluZyBpcyBvbmx5IHN1cHBvcnQgaDI2NFwiKTtpZighdGhpcy5fcDJwQ2hhbm5lbC5oYXNMb2NhbE1lZGlhKCkpdGhyb3cgbmV3IE12KHhnLkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfUkFXX1NUUkVBTSxcImNhbiBub3QgZmluZCBzdHJlYW0gdG8gcmF3IHN0cmVhbWluZ1wiKX1pZih0aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50JiZ0aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50Lmhhc1VybChlKXx8dGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudCYmdGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudC5oYXNVcmwoZSkpdGhyb3cgbmV3IE12KHhnLkxJVkVfU1RSRUFNSU5HX1RBU0tfQ09ORkxJQ1QpO2NvbnN0IGk9dD92di5UUkFOU0NPREU6dnYuUkFXO3JldHVybiB0aGlzLl9jcmVhdGVMaXZlU3RyZWFtaW5nQ2xpZW50KGkpLnN0YXJ0TGl2ZVN0cmVhbWluZ1Rhc2soZSxpKX1zZXRMaXZlVHJhbnNjb2RpbmcoZSl7cmV0dXJuIHRoaXMuX2NyZWF0ZUxpdmVTdHJlYW1pbmdDbGllbnQodnYuVFJBTlNDT0RFKS5zZXRUcmFuc2NvZGluZ0NvbmZpZyhlKX1hc3luYyBzdG9wTGl2ZVN0cmVhbWluZyhlKXtjb25zdCB0PVt0aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50LHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnRdLmZpbHRlcigodD0+dCYmdC5oYXNVcmwoZSkpKTtpZighdC5sZW5ndGgpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfUEFSQU1TLFwiY2FuIG5vdCBmaW5kIGxpdmUgc3RyZWFtaW5nIHVybCB0byBzdG9wXCIpO2F3YWl0IHRnLmFsbCh0Lm1hcCgodD0+dCYmdC5zdG9wTGl2ZVN0cmVhbWluZ1Rhc2soZSkpKSl9YXN5bmMgYWRkSW5qZWN0U3RyZWFtVXJsKGUsdCl7aWYoIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgYWRkSW5qZWN0U3RyZWFtVXJsLCBubyBqb2luaW5mb1wiKTtjb25zdCBpPXRoaXMuX2NyZWF0ZUxpdmVTdHJlYW1pbmdDbGllbnQodnYuSU5KRUNUKTtpLnNldEluamVjdFN0cmVhbUNvbmZpZyh0LDApLGF3YWl0IGkuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhlLHZ2LklOSkVDVCl9YXN5bmMgcmVtb3ZlSW5qZWN0U3RyZWFtVXJsKCl7dmFyIGU7Y29uc3QgdD10aGlzLl9jcmVhdGVMaXZlU3RyZWFtaW5nQ2xpZW50KHZ2LklOSkVDVCksaT1BcnJheS5mcm9tKFB2KGU9dC5zdHJlYW1pbmdUYXNrcykuY2FsbChlKSkuZmluZCgoZT0+ZS5tb2RlPT09dnYuSU5KRUNUKSk7aWYoIXRoaXMuX2pvaW5JbmZvfHwhaSl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gcmVtb3ZlIGFkZEluamVjdFN0cmVhbVVybCwgbm8gam9pbmluZm8gb3IgaW5qZWN0IHRhc2tcIik7YXdhaXQgdC5zdG9wTGl2ZVN0cmVhbWluZ1Rhc2soaS51cmwpfWFzeW5jIHN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXkoZSl7SVAoZSk7Y29uc3QgdD10aGlzLl9jcmVhdGVDaGFubmVsTWVkaWFSZWxheUNsaWVudCgpO2F3YWl0IHQuc3RhcnRDaGFubmVsTWVkaWFSZWxheShlKX1hc3luYyB1cGRhdGVDaGFubmVsTWVkaWFSZWxheShlKXtJUChlKTtjb25zdCB0PXRoaXMuX2NyZWF0ZUNoYW5uZWxNZWRpYVJlbGF5Q2xpZW50KCk7YXdhaXQgdC51cGRhdGVDaGFubmVsTWVkaWFSZWxheShlKX1hc3luYyBzdG9wQ2hhbm5lbE1lZGlhUmVsYXkoKXtjb25zdCBlPXRoaXMuX2NyZWF0ZUNoYW5uZWxNZWRpYVJlbGF5Q2xpZW50KCk7YXdhaXQgZS5zdG9wQ2hhbm5lbE1lZGlhUmVsYXkoKSx0aGlzLl9zdGF0c0NvbGxlY3Rvci5vblN0YXRzQ2hhbmdlZCYmKHRoaXMuX3N0YXRzQ29sbGVjdG9yLm9uU3RhdHNDaGFuZ2VkPXZvaWQgMCl9c2VuZFN0cmVhbU1lc3NhZ2UoZSl7bGV0IHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZighdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBzZW5kIGRhdGEgc3RyZWFtLCBub3Qgam9pbmVkXCIpO2lmKChcInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpJiYoZT17cGF5bG9hZDplfSksXCJzdHJpbmdcIj09dHlwZW9mIGUucGF5bG9hZCl7Y29uc3QgdD1uZXcgVGV4dEVuY29kZXI7ZS5wYXlsb2FkPXQuZW5jb2RlKGUucGF5bG9hZCl9aWYobmV3IEJsb2IoW2UucGF5bG9hZF0pLnNpemU+MTAyNCl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9QQVJBTVMsXCJzdHJlYW0gbWVzc2FnZSBvdXQgb2YgcmFuZ2UuXCIpO3JldHVybiB0aGlzLl9nYXRld2F5LnNpZ25hbC5yZXF1ZXN0KGZ2LkRBVEFfU1RSRUFNLHtwYXlsb2FkOlBTKGUucGF5bG9hZCksc3luY1dpdGhBdWRpbzplLnN5bmNXaXRoQXVkaW8sc2VuZFRzOkRhdGUubm93KCktUE19LCF0KX1zZW5kTWV0YWRhdGEoZSl7aWYoIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc2VuZCBtZXRhZGF0YSwgbm90IGpvaW5lZFwiKTtpZihuZXcgQmxvYihbZV0pLnNpemU+MTAyNCl0aHJvdyBuZXcgTXYoeGcuTUVUQURBVEFfT1VUX09GX1JBTkdFKTtyZXR1cm4gdGhpcy5fZ2F0ZXdheS5zaWduYWwucmVxdWVzdChmdi5TRU5EX01FVEFEQVRBLHtzZXNzaW9uX2lkOnRoaXMuX2pvaW5JbmZvLnNpZCxtZXRhZGF0YTpQUyhlKX0pfWFzeW5jIHNlbmRDdXN0b21SZXBvcnRNZXNzYWdlKGUpe2lmKEFycmF5LmlzQXJyYXkoZSl8fChlPVtlXSksZS5mb3JFYWNoKFlDKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBzZW5kIGN1c3RvbSByZXBvcnQsIG5vdCBqb2luZWRcIik7YXdhaXQgaXYuc2VuZEN1c3RvbVJlcG9ydE1lc3NhZ2UodGhpcy5fam9pbkluZm8uc2lkLGUpfWdldExvY2FsQXVkaW9TdGF0cygpe3JldHVybiB0aGlzLl9zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbEF1ZGlvVHJhY2tTdGF0cygpfWdldFJlbW90ZUF1ZGlvU3RhdHMoKXtyZXR1cm4gdGhpcy5fc3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlQXVkaW9UcmFja1N0YXRzKCl9Z2V0TG9jYWxWaWRlb1N0YXRzKCl7cmV0dXJuIHRoaXMuX3N0YXRzQ29sbGVjdG9yLmdldExvY2FsVmlkZW9UcmFja1N0YXRzKCl9Z2V0UmVtb3RlVmlkZW9TdGF0cygpe3JldHVybiB0aGlzLl9zdGF0c0NvbGxlY3Rvci5nZXRSZW1vdGVWaWRlb1RyYWNrU3RhdHMoKX1nZXRSZW1vdGVOZXR3b3JrUXVhbGl0eSgpe3JldHVybiB0aGlzLl9zdGF0c0NvbGxlY3Rvci5nZXRSZW1vdGVOZXR3b3JrUXVhbGl0eVN0YXRzKCl9YXN5bmMgcGlja1NWQ0xheWVyKGUsdCl7QmcodC5zcGF0aWFsTGF5ZXIsXCJzcGF0aWFsTGF5ZXJcIixbMCwxLDIsM10pLEJnKHQudGVtcG9yYWxMYXllcixcInRlbXBvcmFsTGF5ZXJcIixbMCwxLDIsM10pO3RyeXthd2FpdCB0aGlzLl9nYXRld2F5LnBpY2tTVkNMYXllcihlLHQpfWNhdGNoKGUpe3Rocm93IFdDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcGljayBTVkMgbGF5ZXIgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSksZX19c2V0UlRNMkZsYWcoZSl7aWYoQmcoZSxcImZsYWdcIixbMCwxXSksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHNldFJ0bTJGbGFnLCBub3Qgam9pbmVkXCIpO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHNldFJ0bTJGbGFnIGluIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSk7cmV0dXJuIHRoaXMuX2dhdGV3YXkuc2V0UlRNMkZsYWcoZSl9X3Jlc2V0KCl7aWYoV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXNldCBjbGllbnRcIikpLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLmNhbmNlbCgpLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlPUVDLkNhbmNlbFRva2VuLnNvdXJjZSgpLHRoaXMuX3N0cmVhbUZhbGxiYWNrVHlwZUNhY2hlTWFwPW5ldyBNYXAsdGhpcy5fcmVtb3RlU3RyZWFtVHlwZUNhY2hlTWFwPW5ldyBNYXAsdGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5zdG9wR2V0Q29uZmlnRGlzdHJpYnV0ZSgpLHRoaXMuX2pvaW5JbmZvPXZvaWQgMCx0aGlzLl9wcm94eVNlcnZlcj12b2lkIDAsdGhpcy5fZGVmYXVsdFN0cmVhbUZhbGxiYWNrVHlwZT12b2lkIDAsdGhpcy5fc2Vzc2lvbklkPW51bGwsdGhpcy5zdG9yZS5zZXNzaW9uSWQ9bnVsbCx0aGlzLl9zdGF0c0NvbGxlY3Rvci5yZXNldCgpLHRoaXMuX2tleT12b2lkIDAsdGhpcy5fYXBwSWQ9dm9pZCAwLHRoaXMuX3VpZD12b2lkIDAsdGhpcy5zdG9yZS51aWQ9dm9pZCAwLHRoaXMuX2NoYW5uZWxOYW1lPXZvaWQgMCx0aGlzLl9lbmNyeXB0aW9uTW9kZT1cIm5vbmVcIix0aGlzLl9lbmNyeXB0aW9uU2VjcmV0PW51bGwsdGhpcy5fZW5jcnlwdGlvblNhbHQ9bnVsbCx0aGlzLl9wZW5kaW5nUHVibGlzaGVkVXNlcnM9W10sdGhpcy5fdXNlcnMuZm9yRWFjaCgoZT0+e2UuX2F1ZGlvVHJhY2smJmUuX2F1ZGlvVHJhY2suX2Rlc3Ryb3koKSxlLl92aWRlb1RyYWNrJiZlLl92aWRlb1RyYWNrLl9kZXN0cm95KCksZS5fZGF0YUNoYW5uZWxzJiYoZS5fZGF0YUNoYW5uZWxzLmZvckVhY2goKGU9PmUuX2Nsb3NlKCkpKSxlLl9kYXRhQ2hhbm5lbHMubGVuZ3RoPTApfSkpLHRoaXMuX3VzZXJzPVtdLHRoaXMuX2F1ZGlvVm9sdW1lSW5kaWNhdGlvbkludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fYXVkaW9Wb2x1bWVJbmRpY2F0aW9uSW50ZXJ2YWwpLHRoaXMuX2F1ZGlvVm9sdW1lSW5kaWNhdGlvbkludGVydmFsPXZvaWQgMCksXCJmYWxsYmFja1wiPT09dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUmJih0aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZT1cImRpc2FibGVkXCIsdGhpcy5zdG9yZS5jbG91ZFByb3h5U2VydmVyTW9kZT1cImRpc2FibGVkXCIpLHRoaXMuX3AycENoYW5uZWwucmVzZXQoKSx0aGlzLl9wdWJsaXNoTXV0ZXg9bmV3IFlTKFwiY2xpZW50LXB1Ymxpc2hcIiksdGhpcy5fc3Vic2NyaWJlTXV0ZXg9bmV3IFlTKFwiY2xpZW50LXN1YnNjcmliZVwiKSx0aGlzLl9uZXR3b3JrUXVhbGl0eUludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fbmV0d29ya1F1YWxpdHlJbnRlcnZhbCksdGhpcy5fbmV0d29ya1F1YWxpdHlJbnRlcnZhbD12b2lkIDApLHRoaXMuX2luamVjdFN0cmVhbWluZ0NsaWVudCYmKHRoaXMuX2luamVjdFN0cmVhbWluZ0NsaWVudC50ZXJtaW5hdGUoKSx0aGlzLl9pbmplY3RTdHJlYW1pbmdDbGllbnQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5faW5qZWN0U3RyZWFtaW5nQ2xpZW50PXZvaWQgMCksdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudCYmKHRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQudGVybWluYXRlKCksdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50PXZvaWQgMCksdGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudCYmKHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQudGVybWluYXRlKCksdGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50PXZvaWQgMCksdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQmJih0aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudC5kaXNwb3NlKCksdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQ9dm9pZCAwKSx0aGlzLl9pbnNwZWN0KXRyeXt0aGlzLl9pbnNwZWN0LmNsb3NlKCksdGhpcy5faW5zcGVjdD12b2lkIDB9Y2F0Y2goZSl7fWlmKHRoaXMuX21vZGVyYXRpb24pdHJ5e3RoaXMuc2V0SW1hZ2VNb2RlcmF0aW9uKCExKX1jYXRjaChlKXt9fV9zdGFydFNlc3Npb24oZSx0KXtjb25zdCBpPWV8fFZTKCk7ZT9XQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIG5ldyBTZXNzaW9uIFwiKS5jb25jYXQoaSkpOldDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVuZXdTZXNzaW9uIFwiKS5jb25jYXQodGhpcy5fc2Vzc2lvbklkLFwiID0+IFwiKS5jb25jYXQoaSkpLHRoaXMuX3Nlc3Npb25JZD1pLHRoaXMuc3RvcmUuc2Vzc2lvbklkPWksdD9pdi5zZXNzaW9uSW5pdCh0aGlzLl9zZXNzaW9uSWQse2x0czoobmV3IERhdGUpLmdldFRpbWUoKSxjbmFtZTp0LmNoYW5uZWwsYXBwaWQ6dC5hcHBJZCxtb2RlOnRoaXMubW9kZX0pOnRoaXMuX2pvaW5JbmZvP2l2LnNlc3Npb25Jbml0KHRoaXMuX3Nlc3Npb25JZCx7bHRzOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNuYW1lOnRoaXMuX2pvaW5JbmZvLmNuYW1lLGFwcGlkOnRoaXMuX2pvaW5JbmZvLmFwcElkLG1vZGU6dGhpcy5tb2RlfSk6dGhpcy5fZ2F0ZXdheS5qb2luSW5mbyYmaXYuc2Vzc2lvbkluaXQodGhpcy5fc2Vzc2lvbklkLHtsdHM6KG5ldyBEYXRlKS5nZXRUaW1lKCksY25hbWU6dGhpcy5fZ2F0ZXdheS5qb2luSW5mby5jbmFtZSxhcHBpZDp0aGlzLl9nYXRld2F5LmpvaW5JbmZvLmFwcElkLG1vZGU6dGhpcy5tb2RlfSksdGhpcy5fam9pbkluZm8mJih0aGlzLl9qb2luSW5mby5zaWQ9aSksdGhpcy5fZ2F0ZXdheS5qb2luSW5mbyYmKHRoaXMuX2dhdGV3YXkuam9pbkluZm8uc2lkPWkpfWFzeW5jIF9wdWJsaXNoSGlnaFN0cmVhbShlKXtpZighdGhpcy5fam9pbkluZm98fHZvaWQgMD09PXRoaXMuX3VpZCl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBwdWJsaXNoIHN0cmVhbSwgaGF2ZW4ndCBqb2luZWQgeWV0IVwiKTtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggc3RyZWFtIGluIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSk7aWYoXCJhdXRvXCI9PT10aGlzLl90dXJuU2VydmVyLm1vZGUmJmtDKFwiRk9SQ0VfVFVSTlwiKSYmIWtDKFwiVFVSTl9FTkFCTEVfVENQXCIpJiYha0MoXCJUVVJOX0VOQUJMRV9VRFBcIikpdGhyb3cgbmV3IE12KHhnLlVORVhQRUNURURfRVJST1IsXCJmb3JjZSBUVVJOIFdpdGggTm8gVFVSTiBDb25maWd1cmF0aW9uXCIpO1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcHVibGlzaCBoaWdoIHN0cmVhbVwiKSk7dHJ5e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiB3TSl7Y29uc3QgdD1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnB1Ymxpc2goZSx0aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkLHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlcik7aWYodCl0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5zZW5kRXh0ZW5zaW9uTWVzc2FnZShBSS5QVUJMSVNILHQpfWNhdGNoKHQpe3Rocm93IHRoaXMuX3AycENoYW5uZWwudW5wdWJsaXNoKGUpLHR9fWVsc2V7Y29uc3QgaT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnB1Ymxpc2goZSx0aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkLHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlciksbj0oYXdhaXQgaS5uZXh0KCkpLnZhbHVlO2lmKG4pe3ZhciB0O2xldCBlO3RyeXtlPWF3YWl0IHRoaXMuX2dhdGV3YXkucHVibGlzaCh0aGlzLl91aWQsbiwhMCl9Y2F0Y2goZSl7aWYoZS5jb2RlIT09eGcuRElTQ09OTkVDVF9QMlApdGhyb3cgaS50aHJvdyhlKSxlfWF3YWl0IGkubmV4dCgobnVsbD09PSh0PWUpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lm9ydGMpfHxbXSl9dGhpcy5fcDJwQ2hhbm5lbC5yZXBvcnRQdWJsaXNoRXZlbnQoITAsbnVsbCk7Zm9yKGNvbnN0IHQgb2YgZSl0IGluc3RhbmNlb2YgZmImJnQuX2VuY29kZXJDb25maWcmJnRoaXMuX2dhdGV3YXkuc2V0VmlkZW9Qcm9maWxlKHQuX2VuY29kZXJDb25maWcpLCF0Lm11dGVkJiZ0LmVuYWJsZWR8fGF3YWl0IHRoaXMuX3AycENoYW5uZWwubXV0ZUxvY2FsVHJhY2sodCl9fWNhdGNoKHQpe2lmKHRoaXMuX3AycENoYW5uZWwucmVwb3J0UHVibGlzaEV2ZW50KCExLG51bGw9PXQ/dm9pZCAwOnQuY29kZSxlKSwobnVsbD09dD92b2lkIDA6dC5jb2RlKT09PXhnLldTX0FCT1JUKXJldHVybjt0aHJvdyB0fX1hc3luYyBfcHVibGlzaExvd1N0cmVhbSgpe2lmKCF0aGlzLl9qb2luSW5mb3x8dm9pZCAwPT09dGhpcy5fdWlkKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHB1Ymxpc2ggc3RyZWFtLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCBzdHJlYW0gaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHB1Ymxpc2ggbG93IHN0cmVhbVwiKSk7Y29uc3QgZT10aGlzLl9jb25maWdEaXN0cmlidXRlLmdldExvd1N0cmVhbUNvbmZpZ0Rpc3RyaWJ1dGUoKTtlJiZlLmJpdHJhdGUmJih0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXJ8fCh0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXI9e3dpZHRoOjE2MCxoZWlnaHQ6MTIwLGZyYW1lcmF0ZToxNSxiaXRyYXRlOjUwfSksdGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyJiZ0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXIuYml0cmF0ZSYmZS5iaXRyYXRlPHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlci5iaXRyYXRlJiYodGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyLmJpdHJhdGU9ZS5iaXRyYXRlKSk7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5wdWJsaXNoTG93U3RyZWFtKHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlciksaT0oYXdhaXQgZS5uZXh0KCkpLnZhbHVlO2lmKGkpe3ZhciB0O2xldCBuO3RyeXtuPWF3YWl0IHRoaXMuX2dhdGV3YXkucHVibGlzaCh0aGlzLl91aWQsaSwhMCl9Y2F0Y2godCl7aWYodC5jb2RlIT09eGcuRElTQ09OTkVDVF9QMlApdGhyb3cgZS50aHJvdyh0KSx0fWUubmV4dCgobnVsbD09PSh0PW4pfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lm9ydGMpfHxbXSksdGhpcy5fcDJwQ2hhbm5lbC5yZXBvcnRQdWJsaXNoRXZlbnQoITAsbnVsbCx2b2lkIDAsITApfX1jYXRjaChlKXtpZih0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFB1Ymxpc2hFdmVudCghMSxudWxsPT1lP3ZvaWQgMDplLmNvZGUsdm9pZCAwLCEwKSwobnVsbD09ZT92b2lkIDA6ZS5jb2RlKT09PXhnLldTX0FCT1JUKXJldHVybjt0aHJvdyBlfX1fY3JlYXRlTGl2ZVN0cmVhbWluZ0NsaWVudChlKXtpZighdGhpcy5fam9pbkluZm98fCF0aGlzLl9hcHBJZCl7cmV0dXJuIG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgY3JlYXRlIGxpdmUgc3RyZWFtaW5nIGNsaWVudCwgcGxlYXNlIGpvaW4gY2hhbm5lbCBmaXJzdFwiKS50aHJvdygpfWNvbnN0IHQ9KCk9Pm5ldyBDUCh0aGlzLl9qb2luSW5mbyx0aGlzLl9jb25maWcud2Vic29ja2V0UmV0cnlDb25maWd8fEpTLHRoaXMuX2NvbmZpZy5odHRwUmV0cnlDb25maWd8fEpTKSxpPWU9PntlLm9uTGl2ZVN0cmVhbUVycm9yPShlLHQpPT57aXYucmVwb3J0QXBpSW52b2tlKHRoaXMuX3Nlc3Npb25JZCx7bmFtZTpzUy5PTl9MSVZFX1NUUkVBTV9FUlJPUixvcHRpb25zOltlLHRdLHRhZzpvUy5UUkFDRVJ9KS5vblN1Y2Nlc3MoKSx0aGlzLnNhZmVFbWl0KGRTLkxJVkVfU1RSRUFNSU5HX0VSUk9SLGUsdCl9LGUub25MaXZlU3RyZWFtV2FybmluZz0oZSx0KT0+e2l2LnJlcG9ydEFwaUludm9rZSh0aGlzLl9zZXNzaW9uSWQse25hbWU6c1MuT05fTElWRV9TVFJFQU1fV0FSTklORyxvcHRpb25zOltlLHRdLHRhZzpvUy5UUkFDRVJ9KS5vblN1Y2Nlc3MoKSx0aGlzLnNhZmVFbWl0KGRTLkxJVkVfU1RSRUFNSU5HX1dBUk5JTkcsZSx0KX0sZS5vbihIdi5SRVFVRVNUX1dPUktFUl9NQU5BR0VSX0xJU1QsKChlLHQsaSk9PntpZighdGhpcy5fam9pbkluZm8pcmV0dXJuIGkobmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBmaW5kIGpvaW4gaW5mbyB0byBnZXQgd29ya2VyIG1hbmFnZXJcIikpO2hQKGUsdGhpcy5fam9pbkluZm8sdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sSlMpLnRoZW4odCkuY2F0Y2goaSl9KSl9O3N3aXRjaChlKXtjYXNlIHZ2LlJBVzpyZXR1cm4gdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudHx8KHRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQ9dCgpLGkodGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudCkpLHRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQ7Y2FzZSB2di5UUkFOU0NPREU6cmV0dXJuIHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnR8fCh0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50PXQoKSxpKHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQpKSx0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50O2Nhc2UgdnYuSU5KRUNUOnJldHVybiB0aGlzLl9pbmplY3RTdHJlYW1pbmdDbGllbnR8fCh0aGlzLl9pbmplY3RTdHJlYW1pbmdDbGllbnQ9dCgpLHRoaXMuX2luamVjdFN0cmVhbWluZ0NsaWVudC5vbihIdi5SRVFVRVNUX1dPUktFUl9NQU5BR0VSX0xJU1QsKChlLHQsaSk9PntpZighdGhpcy5fam9pbkluZm8pcmV0dXJuIGkobmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBmaW5kIGpvaW4gaW5mbyB0byBnZXQgd29ya2VyIG1hbmFnZXJcIikpO2hQKGUsdGhpcy5fam9pbkluZm8sdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sSlMpLnRoZW4odCkuY2F0Y2goaSl9KSksdGhpcy5faW5qZWN0U3RyZWFtaW5nQ2xpZW50Lm9uSW5qZWN0U3RhdHVzQ2hhbmdlPShlLHQsaSk9Pnt0aGlzLnNhZmVFbWl0KGRTLklOSkVDVF9TVFJFQU1fU1RBVFVTLGUsdCxpKX0pLHRoaXMuX2luamVjdFN0cmVhbWluZ0NsaWVudH19X2NyZWF0ZUNoYW5uZWxNZWRpYVJlbGF5Q2xpZW50KCl7aWYoIXRoaXMuX2pvaW5JbmZvKXtyZXR1cm4gbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBjcmVhdGUgY2hhbm5lbCBtZWRpYSByZWxheSBjbGllbnQsIHBsZWFzZSBqb2luIGNoYW5uZWwgZmlyc3RcIikudGhyb3coKX1pZighdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQpe2NvbnN0e3NlbmRSZXNvbHV0aW9uV2lkdGg6ZSxzZW5kUmVzb2x1dGlvbkhlaWdodDp0fT10aGlzLmdldExvY2FsVmlkZW9TdGF0cygpLGk9e3dpZHRoOmUsaGVpZ2h0OnR9O3RoaXMuX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50PW5ldyBBUCh0aGlzLl9qb2luSW5mbyx0aGlzLl9jbGllbnRJZCx0aGlzLl9jb25maWcud2Vic29ja2V0UmV0cnlDb25maWd8fEpTLHRoaXMuX2NvbmZpZy5odHRwUmV0cnlDb25maWd8fEpTLGkpLHRoaXMuX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50Lm9uKFwic3RhdGVcIiwoZT0+e2U9PT16di5SRUxBWV9TVEFURV9GQUlMVVJFJiZ0aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudCYmdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQuZGlzcG9zZSgpLHRoaXMuc2FmZUVtaXQoZFMuQ0hBTk5FTF9NRURJQV9SRUxBWV9TVEFURSxlKX0pKSx0aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudC5vbihcImV2ZW50XCIsKGU9Pnt0aGlzLnNhZmVFbWl0KGRTLkNIQU5ORUxfTUVESUFfUkVMQVlfRVZFTlQsZSl9KSksdGhpcy5fc3RhdHNDb2xsZWN0b3Iub25TdGF0c0NoYW5nZWQ9KGUsdCk9Pnt2YXIgaTtcInJlc29sdXRpb25cIj09PWUmJihudWxsPT09KGk9dGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQpfHx2b2lkIDA9PT1pfHxpLnNldFZpZGVvUHJvZmlsZSh0KSl9fXJldHVybiB0aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudH1faGFuZGxlVXBkYXRlRGF0YUNoYW5uZWwoZSx0KXtjb25zdHthZGRlZDppLGRlbGV0ZWQ6bn09ZSxyPVtdO0FycmF5LmlzQXJyYXkoaSkmJmkubGVuZ3RoPjAmJmkuZm9yRWFjaCgoZT0+e2NvbnN0e3VpZDppLHN0cmVhbV9pZDpuLG9yZGVyZWQ6cyxtYXhfcmV0cmFuc190aW1lczpvLG1ldGFkYXRhOmF9PWUsYz10aGlzLl91c2Vycy5maW5kKChlPT5lLl91aW50aWQ9PT1pKSk7aWYoIWMpcmV0dXJuIHZvaWQgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX2FkZF9kYXRhX2NoYW5uZWwpXCIpKTtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGRhdGFfY2hhbm5lbCBhZGRlZCB3aXRoIHVpZCBcIikuY29uY2F0KGkpKSxQcihyKS5jYWxsKHIsYyl8fHIucHVzaChjKSxjLl91aW50aWR8fChjLl91aW50aWQ9aSk7aWYoISgtMSE9PWMuX2RhdGFDaGFubmVscy5maW5kSW5kZXgoKHQ9PnQuaWQ9PT1lLnN0cmVhbV9pZCkpKSl7Y29uc3QgZT17aWQ6bixvcmRlcmVkOiEhcyxtYXhSZXRyYW5zbWl0czpvLG1ldGFkYXRhOmF9LGk9bmV3IHREKGUpO2MuX2RhdGFDaGFubmVscy5wdXNoKGkpLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGMudWlkLFwiIHB1Ymxpc2hlZCBkYXRhY2hhbm5lbFwiKSksdHx8dGhpcy5zYWZlRW1pdChkUy5VU0VSX1BVQkxJU0hFRCxjLFwiZGF0YWNoYW5uZWxcIixlKX10aGlzLl9wMnBDaGFubmVsLmhhc1BlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbChjLGUuc3RyZWFtX2lkKSYmKFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgZGF0YWNoYW5uZWwgZm9yIHVzZXIgXCIpLmNvbmNhdChjLnVpZCxcIiBhZnRlciByZWNvbm5lY3QuXCIpKSx0aGlzLl9zdWJzY3JpYmVEYXRhQ2hhbm5lbChjLGUuc3RyZWFtX2lkKS5jYXRjaCgoZT0+e1dDLmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgZGF0YWNoYW5uZWwgZXJyb3JcIiksZS50b1N0cmluZygpKX0pKSl9KSksdCYmKHRoaXMuc2FmZUVtaXQoZFMuUFVCTElTSEVEX1VTRVJfTElTVCx0aGlzLl9wZW5kaW5nUHVibGlzaGVkVXNlcnMpLHRoaXMuX3BlbmRpbmdQdWJsaXNoZWRVc2Vycz1bXSksQXJyYXkuaXNBcnJheShuKSYmbi5sZW5ndGg+MCYmbi5mb3JFYWNoKChlPT57Y29uc3R7dWlkOnQsc3RyZWFtX2lkOml9PWUsbj10aGlzLl91c2Vycy5maW5kKChlPT5lLl91aW50aWQ9PT10KSk7aWYoIW4pcmV0dXJuIHZvaWQgV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX2RlbGV0ZV9kYXRhX2NoYW5uZWwpXCIpKTtjb25zdCByPW4uX2RhdGFDaGFubmVscy5maW5kKCh0PT50LmlkPT09ZS5zdHJlYW1faWQpKTtyJiYoV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBkYXRhX3N0cmVhbSBkZWxldGUgd2l0aCB1aWQgXCIpLmNvbmNhdCh0KSksdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZURhdGFDaGFubmVsKG4sW3JdKS50aGVuKChlPT57aWYoZSlyZXR1cm4gbi5fZGF0YUNoYW5uZWxzPW4uX2RhdGFDaGFubmVscy5maWx0ZXIoKGU9PmUhPT1yKSksdGhpcy5fZ2F0ZXdheS51bnN1YnNjcmliZURhdGFDaGFubmVsKGUsbi51aWQpfSkpLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KHQsXCIgdW5wdWJsaXNoZWQgZGF0YWNoYW5uZWwgLGlkOlwiKS5jb25jYXQoci5pZCkpLHRoaXMuc2FmZUVtaXQoZFMuVVNFUl9VTlBVQkxJU0hFRCxuLFwiZGF0YWNoYW5uZWxcIixyLl9jb25maWcpKX0pKX1faGFuZGxlUmVtb3ZlRGF0YUNoYW5uZWxzKGUpe2NvbnN0IHQ9dGhpcy5fdXNlcnMuZmluZCgodD0+dC51aWQ9PT1lLnVpZCkpO2lmKHQpe2lmKHZvaWQgMCE9PXQuX2RhdGFDaGFubmVscyYmdC5fZGF0YUNoYW5uZWxzLmxlbmd0aD4wKXtXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGRhdGFjaGFubmVsIHJlbW92ZWQgd2l0aCB1aWQgXCIpLmNvbmNhdChlLnVpZCkpO2NvbnN0IGk9KCk9PntXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIiB1bnB1Ymxpc2hlZCBkYXRhY2hhbm5lbFwiKSksdC5fZGF0YUNoYW5uZWxzLmZvckVhY2goKGU9Pnt0aGlzLnNhZmVFbWl0KGRTLlVTRVJfVU5QVUJMSVNIRUQsdCxcImRhdGFjaGFubmVsXCIsZS5fY29uZmlnKX0pKX07dGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZURhdGFDaGFubmVsKHQsdC5fZGF0YUNoYW5uZWxzKS50aGVuKChlPT57aWYoZSlyZXR1cm4gdGhpcy5fZ2F0ZXdheS51bnN1YnNjcmliZURhdGFDaGFubmVsKGUsdC51aWQpfSkpLGkoKX19ZWxzZSBXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHRhcmdldCB1c2VyIShvbl9yZW1vdmVfZGF0YWNoYW5uZWwpXCIpKX1faGFuZGxlR2F0ZXdheUV2ZW50cygpe3RoaXMuX2dhdGV3YXkub24oWnYuRElTQ09OTkVDVF9QMlAsKGFzeW5jKCk9Pnthd2FpdCB0aGlzLl9wMnBDaGFubmVsLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QoKX0pKSx0aGlzLl9nYXRld2F5Lm9uKFp2LkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLCgoZSx0LGkpPT57dmFyIG47aWYoaT09PWNTLkZBTExCQUNLKXJldHVybjtjb25zdCByPSgpPT57dGhpcy5zYWZlRW1pdChkUy5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSxlLHQsaSl9O2lmKGl2LnJlcG9ydEFwaUludm9rZSh0aGlzLl9zZXNzaW9uSWR8fChudWxsPT09KG49dGhpcy5fZ2F0ZXdheS5qb2luSW5mbyl8fHZvaWQgMD09PW4/dm9pZCAwOm4uc2lkKXx8bnVsbCx7bmFtZTpzUy5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSxvcHRpb25zOltlLHQsaV0sdGFnOm9TLlRSQUNFUn0pLm9uU3VjY2VzcyhKU09OLnN0cmluZ2lmeSh7Y3VyOmUscHJldjp0LHJlYXNvbjppfSkpLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjb25uZWN0aW9uIHN0YXRlIGNoYW5nZTogXCIpLmNvbmNhdCh0LFwiIC0+IFwiKS5jb25jYXQoZSkpLFwiRElTQ09OTkVDVEVEXCI9PT1lKXJldHVybiB0aGlzLl9yZXNldCgpLHZvaWQgcigpO2lmKFwiUkVDT05ORUNUSU5HXCI9PT1lKXRoaXMuX3VzZXJzLmZvckVhY2goKGU9PntlLl90cnVzdF9pbl9yb29tXz0hMSxlLl90cnVzdF9hdWRpb19lbmFibGVkX3N0YXRlXz0hMSxlLl90cnVzdF92aWRlb19lbmFibGVkX3N0YXRlXz0hMSxlLl90cnVzdF9hdWRpb19tdXRlX3N0YXRlXz0hMSxlLl90cnVzdF92aWRlb19tdXRlX3N0YXRlXz0hMSxlLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSExLGUuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITEsZS5fYXVkaW9TU1JDPXZvaWQgMCxlLl92aWRlb1NTUkM9dm9pZCAwLGUuX3ZpZGVvT3J0Yz12b2lkIDAsZS5fYXVkaW9PcnRjPXZvaWQgMCxlLl9jbmFtZT12b2lkIDAsZS5fcnR4U3NyY0lkPXZvaWQgMH0pKSx0aGlzLl91c2VyT2ZmbGluZVRpbWVvdXQmJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdXNlck9mZmxpbmVUaW1lb3V0KSx0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dCksdGhpcy5fdXNlck9mZmxpbmVUaW1lb3V0PXZvaWQgMCx0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dD12b2lkIDA7ZWxzZSBpZihcIkNPTk5FQ1RFRFwiPT09ZSl7dmFyIHM7dGhpcy5fc3RyZWFtRmFsbGJhY2tUeXBlQ2FjaGVNYXAuZm9yRWFjaCgoKGUsdCk9Pnt0aGlzLl9nYXRld2F5LnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uKHQsZSkuY2F0Y2goKGU9PntXQy53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBzZXQgc3RyZWFtIGZhbGxiYWNrIG9wdGlvbiBmYWlsZWRcIiksZSl9KSl9KSksdGhpcy5fcmVtb3RlU3RyZWFtVHlwZUNhY2hlTWFwLmZvckVhY2goKChlLHQpPT57dGhpcy5fZ2F0ZXdheS5zZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGUodCxlKS5jYXRjaCgoZT0+e1dDLndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIHNldCByZW1vdGUgc3RyZWFtIHR5cGUgZmFpbGVkXCIpLGUpfSkpfSkpLHZvaWQgMCE9PXRoaXMuX3JlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGUmJnZvaWQgMD09PShudWxsPT09KHM9dGhpcy5fam9pbkluZm8pfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmRlZmF1bHRWaWRlb1N0cmVhbSkmJnRoaXMuc2V0UmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZSh0aGlzLl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlKS50aGVuKCgoKT0+e1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0UmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZSBhZnRlciBnYXRld2F5IGNvbm5lY3RlZFwiKSl9KSkuY2F0Y2goKGU9PntXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldFJlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGUgYWZ0ZXIgZ2F0ZXdheSBmYWlsZWQsIFwiKS5jb25jYXQoZSkpfSkpLHRoaXMuc3RvcmUudXNlUDJQfHwodGhpcy5fcDJwQ2hhbm5lbC5yZXB1Ymxpc2goKSx0aGlzLl91c2VyT2ZmbGluZVRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoKCgpPT57aWYoXCJDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXJldHVybjt0aGlzLl91c2VyT2ZmbGluZVRpbWVvdXQ9dm9pZCAwO3RoaXMuX3VzZXJzLmZpbHRlcigoZT0+IWUuX3RydXN0X2luX3Jvb21fKSkuZm9yRWFjaCgoZT0+e1dDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlciBvZmZsaW5lIHRpbWVvdXQsIGVtaXQgdXNlciBvZmZsaW5lIFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVVc2VyT2ZmbGluZSh7dWlkOmUudWlkfSl9KSl9KSwzZTMpLHRoaXMuX3N0cmVhbVJlbW92ZWRUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e1wiQ09OTkVDVEVEXCI9PT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmKHRoaXMuX3N0cmVhbVJlbW92ZWRUaW1lb3V0PXZvaWQgMCx0aGlzLl91c2Vycy5mb3JFYWNoKChlPT57ZS5fdHJ1c3RfYXVkaW9fbXV0ZV9zdGF0ZV98fChXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggYXVkaW8gdW5tdXRlIGV2ZW50IFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUudWlkLGRJLkFVRElPLCExKSksZS5fdHJ1c3RfdmlkZW9fbXV0ZV9zdGF0ZV98fChXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggdmlkZW8gdW5tdXRlIGV2ZW50IFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUudWlkLGRJLlZJREVPLCExKSksZS5fdHJ1c3RfYXVkaW9fZW5hYmxlZF9zdGF0ZV98fChXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggZW5hYmxlIGxvY2FsIGF1ZGlvIFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVTZXRTdHJlYW1Mb2NhbEVuYWJsZShcImF1ZGlvXCIsZS51aWQsITApKSxlLl90cnVzdF92aWRlb19lbmFibGVkX3N0YXRlX3x8KFdDLmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBkaXNwYXRjaCBlbmFibGUgbG9jYWwgdmlkZW8gXCIpLmNvbmNhdChlLnVpZCkpLHRoaXMuX2hhbmRsZVNldFN0cmVhbUxvY2FsRW5hYmxlKFwidmlkZW9cIixlLnVpZCwhMCkpLGUuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV98fChXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggcmVzZXQgdmlkZW8gc3RyZWFtIGFkZGVkIFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVSZXNldEFkZFN0cmVhbShlLFwidmlkZW9cIikpLGUuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV98fChXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggcmVzZXQgYXVkaW8gc3RyZWFtIGFkZGVkIFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVSZXNldEFkZFN0cmVhbShlLFwiYXVkaW9cIikpLGUuX3ZpZGVvX2FkZGVkX3x8ZS5fYXVkaW9fYWRkZWRffHwoV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIGRpc3BhdGNoIHN0cmVhbSByZW1vdmUgXCIpLmNvbmNhdChlLnVpZCkpLHRoaXMuX2hhbmRsZVJlbW92ZVN0cmVhbSh7dWlkOmUudWlkLHVpbnRfaWQ6ZS5fdWludGlkfSkpfSkpKX0pLDFlMykpfXIoKX0pKSx0aGlzLl9nYXRld2F5Lm9uKFp2LlJFUVVFU1RfTkVXX0dBVEVXQVlfTElTVCwoKGUsdCk9PntpZighdGhpcy5fam9pbkluZm8pcmV0dXJuIHQobmV3IE12KHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IHJlY292ZXIsIG5vIGpvaW4gaW5mb1wiKSk7b1AodGhpcy5fam9pbkluZm8sdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sdGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ3x8SlMsdGhpcy5zdG9yZSkudGhlbigodD0+e3RoaXMuX2pvaW5JbmZvJiYodGhpcy5fam9pbkluZm8uYXBSZXNwb25zZT10LmdhdGV3YXlJbmZvLnJlcyx0aGlzLl9qb2luSW5mby5nYXRld2F5QWRkcnM9dC5nYXRld2F5SW5mby5nYXRld2F5QWRkcnMsdGhpcy5fam9pbkluZm8udW5pX2xic19pcD10LmdhdGV3YXlJbmZvLnVuaV9sYnNfaXApO2NvbnN0IGk9W107dC5nYXRld2F5SW5mby5nYXRld2F5QWRkcnMuZm9yRWFjaCgoZT0+e2xldHthZGRyZXNzOnR9PWU7Y29uc3RbbixyXT10LnNwbGl0KFwiOlwiKTt0aGlzLl9qb2luSW5mbyYmdGhpcy5fam9pbkluZm8ucHJveHlTZXJ2ZXI/aS5wdXNoKHtwcm94eTp0aGlzLl9qb2luSW5mby5wcm94eVNlcnZlcixob3N0Om4scG9ydDpyfSk6aS5wdXNoKHtob3N0Om4scG9ydDpyfSl9KSksZShpKX0pKS5jYXRjaCh0KX0pKSx0aGlzLl9nYXRld2F5Lm9uKFp2Lk5FVFdPUktfUVVBTElUWSwoZT0+e1wibm9ybWFsXCI9PT10aGlzLl9uZXR3b3JrUXVhbGl0eVNlbnNpdGl2aXR5JiZ0aGlzLnNhZmVFbWl0KGRTLk5FVFdPUktfUVVBTElUWSxlKX0pKSx0aGlzLl9nYXRld2F5Lm9uKFp2LlNUUkVBTV9UWVBFX0NIQU5HRSwoKGUsdCk9Pnt0aGlzLnNhZmVFbWl0KGRTLlNUUkVBTV9UWVBFX0NIQU5HRUQsZSx0KTtpdi5yZXBvcnRBcGlJbnZva2UodGhpcy5fc2Vzc2lvbklkLHtuYW1lOnNTLlNUUkVBTV9UWVBFX0NIQU5HRSxvcHRpb25zOltlLHRdLHRhZzpvUy5UUkFDRVJ9KS5vblN1Y2Nlc3MoSlNPTi5zdHJpbmdpZnkoe3VpZDplLHN0cmVhbVR5cGU6dH0pKX0pKSx0aGlzLl9nYXRld2F5Lm9uKFp2LklTX1AyUF9ESVNDT05ORUNURUQsKGU9Pnt0aGlzLl9wMnBDaGFubmVsLmlzUDJQRGlzY29ubmVjdGVkKCk/ZSghMCk6dGhpcy5fcDJwQ2hhbm5lbC5oYXNMb2NhbE1lZGlhKCl8fHRoaXMuX3AycENoYW5uZWwuaGFzUmVtb3RlTWVkaWEoKT9lKCExKTplKCEwKX0pKSx0aGlzLl9nYXRld2F5Lm9uKFp2Lk5FRURfUkVORVdfU0VTU0lPTiwoKCk9Pnt0aGlzLl9zdGFydFNlc3Npb24oKX0pKSx0aGlzLl9nYXRld2F5Lm9uKFp2LlJFUVVFU1RfUDJQX0NPTk5FQ1RJT05fUEFSQU1TLChhc3luYyhlLHQsaSk9Pnt0cnl7dChhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN0YXJ0UDJQQ29ubmVjdGlvbihlKSl9Y2F0Y2goZSl7aShlKX19KSksdGhpcy5fZ2F0ZXdheS5vbihadi5KT0lOX1JFU1BPTlNFLCgoZSx0KT0+e2lmKHRoaXMuc3RvcmUudXNlUDJQKXJldHVybjtjb25zdHtkdGxzUGFyYW1ldGVyczppLGljZVBhcmFtZXRlcnM6bixjYW5kaWRhdGVzOnIscnRwQ2FwYWJpbGl0aWVzOnMsc2V0dXA6byxjbmFtZTphfT1KUChlLm9ydGMsdCk7dGhpcy5fcDJwQ2hhbm5lbC5jb25uZWN0KG4saSxyLHMsbyxhKX0pKSx0aGlzLl9nYXRld2F5Lm9uKFp2LlJFUVVFU1RfRENfQ09OTkVDVElPTl9QQVJBTVMsKGU9PntlKHRoaXMuX3AycENoYW5uZWwuZ2V0RXN0YWJsaXNoUGFyYW1zKCkpfSkpLHRoaXMuX2dhdGV3YXkub24oWnYuUkVTRVRfU0lHTkFMLChlPT57dGhpcy5fcDJwQ2hhbm5lbC5yZXNldENvbm5lY3Rpb24oZSksdGhpcy5faGFuZGxlR2F0ZXdheVNpZ25hbEV2ZW50cygpfSkpLHRoaXMuX2dhdGV3YXkub24oWnYuREFUQUNIQU5ORUxfRkFJTEJBQ0ssKCgpPT57dGhpcy5fam9pbkdhdGV3YXkoKX0pKSx0aGlzLl9nYXRld2F5Lm9uKFp2LkRBVEFDSEFOTkVMX1BSRUNPTk5FQ1QsKGFzeW5jKGUsdCxpLG4pPT57dmFyIHIscyxvLGEsYyxkO2F3YWl0IHRoaXMuX3AycENoYW5uZWwuc3RhcnRQMlBDb25uZWN0aW9uKHt0dXJuU2VydmVyOm51bGw9PT0ocj10aGlzLl9qb2luSW5mbyl8fHZvaWQgMD09PXI/dm9pZCAwOnIudHVyblNlcnZlcn0sITApO2NvbnN0IGw9ZnVuY3Rpb24oZSx0KXtsZXQgaTtyZXR1cm4gdCYmdC5pcCYmXCJudW1iZXJcIj09dHlwZW9mIHQucG9ydD8oaT1be2ZvdW5kYXRpb246XCJ1ZHBjYW5kaWRhdGVcIixjb21wb25lbnRJZDpcIjFcIix0cmFuc3BvcnQ6XCJ1ZHBcIixwcmlvcml0eTpcIjIxMDMyNjYzMjNcIixjb25uZWN0aW9uQWRkcmVzczp0LmlwLHBvcnQ6dC5wb3J0LnRvU3RyaW5nKCksdHlwZTpcImhvc3RcIixleHRlbnNpb246e319XSxXQy5kZWJ1ZyhcIlVzaW5nIHJlbW90ZSBjYW5kaWRhdGUgZnJvbSBBUCBcIi5jb25jYXQodC5pcCxcIjpcIikuY29uY2F0KHQucG9ydCkpLHQuaXA2JiYoaS5wdXNoKHtmb3VuZGF0aW9uOlwidWRwY2FuZGlkYXRlXCIsY29tcG9uZW50SWQ6XCIxXCIsdHJhbnNwb3J0OlwidWRwXCIscHJpb3JpdHk6XCIyMTAzMjY2MzIzXCIsY29ubmVjdGlvbkFkZHJlc3M6dC5pcDYscG9ydDp0LnBvcnQudG9TdHJpbmcoKSx0eXBlOlwiaG9zdFwiLGV4dGVuc2lvbjp7fX0pLFdDLmRlYnVnKFwiVXNpbmcgSVBWNiByZW1vdGUgY2FuZGlkYXRlIGZyb20gQVAgXCIuY29uY2F0KHQuaXA2LFwiOlwiKS5jb25jYXQodC5wb3J0KSkpKTppPVt7Zm91bmRhdGlvbjpcInVkcGNhbmRpZGF0ZVwiLGNvbXBvbmVudElkOlwiMVwiLHRyYW5zcG9ydDpcInVkcFwiLHByaW9yaXR5OlwiMjEwMzI2NjMyM1wiLGNvbm5lY3Rpb25BZGRyZXNzOmUuaXAscG9ydDplLnBvcnQudG9TdHJpbmcoKSx0eXBlOlwiaG9zdFwiLGV4dGVuc2lvbjp7fX1dLGl9KGUsdCk7cmV0dXJuIHRoaXMuX3AycENoYW5uZWwucHJlQ29ubmVjdCh7aWNlVWZyYWc6XCJcIi5jb25jYXQobnVsbD09PShzPXRoaXMuX2pvaW5JbmZvKXx8dm9pZCAwPT09cz92b2lkIDA6cy5hcFJlc3BvbnNlLmNpZCxcIl9cIikuY29uY2F0KG51bGw9PT0obz10aGlzLl9qb2luSW5mbyl8fHZvaWQgMD09PW8/dm9pZCAwOm8uYXBSZXNwb25zZS5jZXJ0KSxpY2VQd2Q6XCJcIi5jb25jYXQobnVsbD09PShhPXRoaXMuX2pvaW5JbmZvKXx8dm9pZCAwPT09YT92b2lkIDA6YS5hcFJlc3BvbnNlLmNpZCxcIl9cIikuY29uY2F0KG51bGw9PT0oYz10aGlzLl9qb2luSW5mbyl8fHZvaWQgMD09PWM/dm9pZCAwOmMuYXBSZXNwb25zZS5jZXJ0KX0se2ZpbmdlcnByaW50czpbe2hhc2hGdW5jdGlvbjpcInNoYS0yNTZcIixmaW5nZXJwcmludDpudWxsIT09KGQ9a0MoXCJGSU5HRVJQUklOVFwiKSkmJnZvaWQgMCE9PWQ/ZDplLmZpbmdlcnByaW50fV19LGwse3NlbmQ6e2F1ZGlvQ29kZWNzOltdLHZpZGVvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LHJlY3Y6e2F1ZGlvQ29kZWNzOltdLHZpZGVvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0V4dGVuc2lvbnM6W119fSxcImFjdGl2ZVwiLFwiby9pMTR1OXBKcnhSS0FzdVwiKS50aGVuKGkpLmNhdGNoKG4pfSkpfV9oYW5kbGVHYXRld2F5U2lnbmFsRXZlbnRzKCl7dGhpcy5fZ2F0ZXdheS5zaWduYWwub24oU3YuT05fVVNFUl9PTkxJTkUsdGhpcy5faGFuZGxlVXNlck9ubGluZSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oU3YuT05fVVNFUl9PRkZMSU5FLHRoaXMuX2hhbmRsZVVzZXJPZmZsaW5lKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihTdi5PTl9BRERfQVVESU9fU1RSRUFNLChlPT50aGlzLl9oYW5kbGVBZGRBdWRpb09yVmlkZW9TdHJlYW0oXCJhdWRpb1wiLGUudWlkLGUuc3NyY0lkLGUuY25hbWUsZS51aW50X2lkLGUub3J0YykpKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihTdi5PTl9BRERfVklERU9fU1RSRUFNLChlPT50aGlzLl9oYW5kbGVBZGRBdWRpb09yVmlkZW9TdHJlYW0oXCJ2aWRlb1wiLGUudWlkLGUuc3NyY0lkLGUuY25hbWUsZS51aW50X2lkLGUub3J0YyxlLnJ0eFNzcmNJZCkpKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihTdi5PTl9SRU1PVEVfREFUQVNUUkVBTV9VUERBVEUsKGU9Pnt0aGlzLl9oYW5kbGVVcGRhdGVEYXRhQ2hhbm5lbChlKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihTdi5PTl9SRU1PVEVfRlVMTF9EQVRBU1RSRUFNX0lORk8sKGU9Pnt0aGlzLl9oYW5kbGVVcGRhdGVEYXRhQ2hhbm5lbCh7YWRkZWQ6ZS5kYXRhc3RyZWFtcyxkZWxldGVkOltdfSwhMCl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oU3YuT05fUkVNT1ZFX1NUUkVBTSx0aGlzLl9oYW5kbGVSZW1vdmVTdHJlYW0pLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFN2Lk9OX1AyUF9MT1NULHRoaXMuX2hhbmRsZVAyUExvc3QpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFN2Lk1VVEVfQVVESU8sKGU9PnRoaXMuX2hhbmRsZU11dGVTdHJlYW0oZS51aWQsZEkuQVVESU8sITApKSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oU3YuVU5NVVRFX0FVRElPLChlPT50aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUudWlkLGRJLkFVRElPLCExKSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFN2Lk1VVEVfVklERU8sKGU9PnRoaXMuX2hhbmRsZU11dGVTdHJlYW0oZS51aWQsZEkuVklERU8sITApKSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oU3YuVU5NVVRFX1ZJREVPLChlPT50aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUudWlkLGRJLlZJREVPLCExKSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFN2LlJFQ0VJVkVfTUVUQURBVEEsKGU9Pntjb25zdCB0PURTKGUubWV0YWRhdGEpO3RoaXMuc2FmZUVtaXQoZFMuUkVDRUlWRV9NRVRBREFUQSxlLnVpZCx0KX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihTdi5PTl9EQVRBX1NUUkVBTSwoYXN5bmMgZT0+e2lmKCFlKXJldHVybjtsZXQgdD0wO2lmKGUub3JkZXJlZHx8ZS5zeW5jV2l0aEF1ZGlvKXtjb25zdCBpPXRoaXMuX3AycENoYW5uZWwuZ2V0U3RhdHMoKSxuPXRoaXMucmVtb3RlVXNlcnMuZmluZCgodD0+dC51aWQ9PT1lLnVpZCkpLHI9bnVsbD09aT92b2lkIDA6aS5hdWRpb1JlY3YuZmluZCgoZT0+ZS5zc3JjPT09KG51bGw9PW4/dm9pZCAwOm4uX2F1ZGlvU1NSQykpKTt0PW51bGw9PXI/dm9pZCAwOnIuaml0dGVyQnVmZmVyTXN9bnVsbD09dCYmKHQ9MCksVk0oZSx0LHtpZDp0aGlzLl9jbGllbnRJZCxvblN0cmVhbU1lc3NhZ2U6XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vblN0cmVhbU1lc3NhZ2U/dGhpcy5vblN0cmVhbU1lc3NhZ2UuYmluZCh0aGlzKTp2b2lkIDAsc2FmZUVtaXQ6dGhpcy5zYWZlRW1pdC5iaW5kKHRoaXMpfSl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oU3YuT05fQ1JZUFRfRVJST1IsKCgpPT57TlMoKCgpPT57V0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIG9uIGNyeXB0IGVycm9yXCIpKSx0aGlzLnNhZmVFbWl0KGRTLkNSWVBUX0VSUk9SKX0pLHRoaXMuX3Nlc3Npb25JZCl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oU3YuT05fVE9LRU5fUFJJVklMRUdFX1dJTExfRVhQSVJFLHRoaXMuX2hhbmRsZVRva2VuV2lsbEV4cGlyZSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oU3YuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUsKCgpPT57V0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlY2VpdmVkIG1lc3NhZ2Ugb25Ub2tlblByaXZpbGVnZURpZEV4cGlyZSwgcGxlYXNlIGdldCBuZXcgdG9rZW4gYW5kIGpvaW4gYWdhaW5cIikpLHRoaXMuX2dhdGV3YXkubGVhdmUoITAsY1MuVE9LRU5fRVhQSVJFKSx0aGlzLnNhZmVFbWl0KGRTLk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFKSx0aGlzLl9yZXNldCgpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFN2Lk9OX1NUUkVBTV9GQUxMQkFDS19VUERBVEUsKGU9PntXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0cmVhbSBmYWxsYmFjayBwZWVySWQ6IFwiKS5jb25jYXQoZS5zdHJlYW1faWQsXCIsIGF0dHI6IFwiKS5jb25jYXQoZS5zdHJlYW1fdHlwZSkpLHRoaXMuc2FmZUVtaXQoZFMuU1RSRUFNX0ZBTExCQUNLLGUuc3RyZWFtX2lkLDE9PT1lLnN0cmVhbV90eXBlP1wiZmFsbGJhY2tcIjpcInJlY292ZXJcIil9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oU3YuT05fUFVCTElTSF9TVFJFQU0sKGU9Pnt0aGlzLnVpZD09PXRoaXMuX3VpZCYmKHRoaXMuX3AycENoYW5uZWwucmVwb3J0UHVibGlzaEV2ZW50KCEwLG51bGwsdm9pZCAwLCExLEpTT04uc3RyaW5naWZ5KHtwcm94eTplLnByb3h5fSkpLFdDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBvbiBwdWJsaXNoIHN0cmVhbSwgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSkpKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihTdi5FTkFCTEVfTE9DQUxfVklERU8sKGU9Pnt0aGlzLl9oYW5kbGVTZXRTdHJlYW1Mb2NhbEVuYWJsZShcInZpZGVvXCIsZS51aWQsITApfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFN2LkRJU0FCTEVfTE9DQUxfVklERU8sKGU9Pnt0aGlzLl9oYW5kbGVTZXRTdHJlYW1Mb2NhbEVuYWJsZShcInZpZGVvXCIsZS51aWQsITEpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKG12LlJFUVVFU1RfVElNRU9VVCwoKGUsdCk9PntpZih0aGlzLl9qb2luSW5mbylzd2l0Y2goZSl7Y2FzZSBmdi5QVUJMSVNIOntpZighdClyZXR1cm47Y29uc3QgZT10Lm9ydGM7aWYoZSl7dmFyIGksbjtjb25zdCByPWUuc29tZSgoZT0+e2xldHtzdHJlYW1fdHlwZTp0fT1lO3JldHVybiB0PT09UXYuQXVkaW99KSkscz1lLnNvbWUoKGU9PntsZXR7c3RyZWFtX3R5cGU6dH09ZTtyZXR1cm4gdCE9PVF2LkF1ZGlvfSkpLG89ZS5zb21lKChlPT57bGV0e3N0cmVhbV90eXBlOnR9PWU7cmV0dXJuIHQ9PT1Rdi5TY3JlZW58fHQ9PT1Rdi5TY3JlZW5Mb3d9KSk7XCJvZmZlclwiPT09dC5zdGF0ZSYmaXYucHVibGlzaCh0aGlzLl9qb2luSW5mby5zaWQse2V2ZW50RWxhcHNlOnNELm1lYXN1cmVGcm9tUHVibGlzaFN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsdGhpcy5zdG9yZS5wdWJJZCksc3VjYzohMSxlYzp4Zy5USU1FT1VULGF1ZGlvOnIsdmlkZW86cyxwMnBpZDp0LnAycF9pZCxwdWJsaXNoUmVxdWVzdGlkOnRoaXMuc3RvcmUucHViSWQsc2NyZWVuc2hhcmU6byxhdWRpb05hbWU6cj9udWxsPT09KGk9ZS5maW5kKChlPT57bGV0e3N0cmVhbV90eXBlOnR9PWU7cmV0dXJuIHQ9PT1Rdi5BdWRpb30pKSl8fHZvaWQgMD09PWl8fG51bGw9PT0oaT1pLnNzcmNzWzBdKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zc3JjSWQudG9TdHJpbmcoKTp2b2lkIDAsdmlkZW9OYW1lOnM/bnVsbD09PShuPWUuZmluZCgoZT0+e2xldHtzdHJlYW1fdHlwZTp0fT1lO3JldHVybiB0IT09UXYuQXVkaW99KSkpfHx2b2lkIDA9PT1ufHxudWxsPT09KG49bi5zc3Jjc1swXSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uc3NyY0lkLnRvU3RyaW5nKCk6dm9pZCAwfSl9YnJlYWt9Y2FzZSBmdi5TVUJTQ1JJQkU6dCYmaXYuc3Vic2NyaWJlKHRoaXMuX2pvaW5JbmZvLnNpZCx7c3VjYzohMSxlYzp4Zy5USU1FT1VULGF1ZGlvOnQuc3RyZWFtX3R5cGU9PT1kSS5BVURJTyx2aWRlbzp0LnN0cmVhbV90eXBlPT09ZEkuVklERU8scGVlcmlkOnQuc3RyZWFtX2lkLHN1YnNjcmliZVJlcXVlc3RpZDp0LnNzcmNJZCxwMnBpZDp0aGlzLnN0b3JlLnAycElkLGV2ZW50RWxhcHNlOnNELm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCx0LnNzcmNJZCl9KX19KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oU3YuT05fUDJQX09LLChlPT57dGhpcy51aWQsdGhpcy5fdWlkfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKFN2Lk9OX1BVQkxJU0hFRF9VU0VSX0xJU1QsKGU9PntpZihudWxsPT1lfHwhZS51c2VycylyZXR1cm47a0MoXCJCTE9DS19MT0NBTF9DTElFTlRcIikmJihlLnVzZXJzPWUudXNlcnMuZmlsdGVyKChlPT4hYXYoZS5zdHJpbmdfaWR8fGUuc3RyZWFtX2lkLHRoaXMuY2hhbm5lbE5hbWUpKSkpO2NvbnN0IHQ9W10saT1bXTtmb3IoY29uc3QgbiBvZiBlLnVzZXJzKXtsZXQgZT10aGlzLl91c2Vycy5maW5kKChlPT5lLl91aW50aWQ9PT1uLnN0cmVhbV9pZCkpO2U/ZS5fdHJ1c3RfaW5fcm9vbV89ITA6KGU9bmV3IGJQKG4uc3RyaW5nX2lkfHxuLnN0cmVhbV9pZCxuLnN0cmVhbV9pZCksdGhpcy5fdXNlcnMucHVzaChlKSwwPT09dGhpcy5nZXRMaXN0ZW5lcnMoZFMuUFVCTElTSEVEX1VTRVJfTElTVCkubGVuZ3RoJiYoV0MuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyIG9ubGluZVwiKSxuLnN0cmVhbV9pZCksdGhpcy5zYWZlRW1pdChkUy5VU0VSX0pPSU5FRCxlKSkpO2NvbnN0IHI9ZUkuQXVkaW8mbi5zdHJlYW1fdHlwZSxzPShlSS5WaWRlb3xlSS5Md29WaWRlbykmbi5zdHJlYW1fdHlwZSxvPTAhPSg2NTI4MCZuLnN0cmVhbV90eXBlKSxhPXImJmUuaGFzQXVkaW8sYz1zJiZlLmhhc1ZpZGVvO3MmJihlLl90cnVzdF92aWRlb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwLGUuX3ZpZGVvX2FkZGVkXz0hMCxlLl92aWRlb1NTUkM9bi52aWRlb19zc3JjLGUuX3J0eFNzcmNJZD1uLnZpZGVvX3J0eCksciYmKGUuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsZS5fYXVkaW9fYWRkZWRfPSEwLGUuX2F1ZGlvU1NSQz1uLmF1ZGlvX3NzcmMpLHImJiFhJiYwPT09dGhpcy5nZXRMaXN0ZW5lcnMoZFMuUFVCTElTSEVEX1VTRVJfTElTVCkubGVuZ3RoJiYoV0MuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgcHVibGlzaGVkIGF1ZGlvXCIpKSx0aGlzLnNhZmVFbWl0KGRTLlVTRVJfUFVCTElTSEVELGUsXCJhdWRpb1wiKSkscyYmIWMmJjA9PT10aGlzLmdldExpc3RlbmVycyhkUy5QVUJMSVNIRURfVVNFUl9MSVNUKS5sZW5ndGgmJihXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiBwdWJsaXNoZWQgdmlkZW9cIikpLHRoaXMuc2FmZUVtaXQoZFMuVVNFUl9QVUJMSVNIRUQsZSxcInZpZGVvXCIpKSwociYmIWF8fHMmJiFjfHxvKSYmdC5wdXNoKGUpLHMmJnRoaXMuX3AycENoYW5uZWwuaGFzUGVuZGluZ1JlbW90ZU1lZGlhKGUsXCJ2aWRlb1wiKSYmaS5wdXNoKHt1c2VyOmUsbWVkaWFUeXBlOlwidmlkZW9cIn0pLHImJnRoaXMuX3AycENoYW5uZWwuaGFzUGVuZGluZ1JlbW90ZU1lZGlhKGUsXCJhdWRpb1wiKSYmaS5wdXNoKHt1c2VyOmUsbWVkaWFUeXBlOlwiYXVkaW9cIn0pfWkubGVuZ3RoPjAmJihXQy5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFJFIG1hc3NTdWJzY3JpYmUgYWZ0ZXIgcmVjb25uZWN0IFwiKS5jb25jYXQoaS5tYXAoKGU9PlwidXNlcjogXCIuY29uY2F0KGUudXNlci51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChlLm1lZGlhVHlwZSkpKS5qb2luKFwiOyBcIiksXCIgXCIpKSx0aGlzLm1hc3NTdWJzY3JpYmUoaSkuY2F0Y2goKGU9PntXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIG1hc3MgcmVzdWJzY3JpYmUgZXJyb3JcIiksZS50b1N0cmluZygpKX0pKSksdGhpcy5nZXRMaXN0ZW5lcnMoZFMuUFVCTElTSEVEX1VTRVJfTElTVCkubGVuZ3RoPjA/a0MoXCJFTkFCTEVfREFUQVNUUkVBTV8yXCIpP3RoaXMuX3BlbmRpbmdQdWJsaXNoZWRVc2Vycz10OihXQy5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2xpZW50IGVtaXQgdXNlci1saXN0IGV2ZW50LCB1c2VyczogXCIpLmNvbmNhdCh0Lm1hcCgoZT0+ZS51aWQpKS5qb2luKFwiLCBcIikpKSx0aGlzLnNhZmVFbWl0KGRTLlBVQkxJU0hFRF9VU0VSX0xJU1QsdCkpOldDLmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjbGllbnQgbm90IGVtaXQgdXNlci1saXN0IGV2ZW50IGNhc2UgdGhlcmUgaXMgbm8gdXNlci1saXN0IGxpc3RlbmVyLCB1c2VyczogXCIpLmNvbmNhdCh0Lm1hcCgoZT0+ZS51aWQpKS5qb2luKFwiLCBcIikpKX0pKX1faGFuZGxlUDJQRXZlbnRzKCl7dGhpcy5fZ2F0ZXdheS5zaWduYWwub24oU3YuT05fVVNFUl9PRkZMSU5FLCgoKT0+e3RoaXMuX3AycENoYW5uZWwuZGlzY29ubmVjdEZvclJlY29ubmVjdCgpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKEFJLlBVQkxJU0gsKGFzeW5jKGUsdCk9PntlLmZvckVhY2goKGU9PmUua2luZD09PWRJLlZJREVPPyh0aGlzLl9oYW5kbGVQMlBBZGRBdWRpb09yVmlkZW9TdHJlYW0oXCJ2aWRlb1wiLHQpLGUuaXNNdXRlZD90aGlzLl9oYW5kbGVNdXRlU3RyZWFtKHQsZEkuVklERU8sITApOnRoaXMuX2hhbmRsZU11dGVTdHJlYW0odCxkSS5WSURFTywhMSkpOih0aGlzLl9oYW5kbGVQMlBBZGRBdWRpb09yVmlkZW9TdHJlYW0oXCJhdWRpb1wiLHQpLGUuaXNNdXRlZD90aGlzLl9oYW5kbGVNdXRlU3RyZWFtKHQsZEkuQVVESU8sITApOnRoaXMuX2hhbmRsZU11dGVTdHJlYW0odCxkSS5BVURJTywhMSkpKSl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24obXYuUDJQX1NUQVJULChhc3luYyhlLHQpPT57aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIHdNKXt2YXIgaTt0KGF3YWl0IHRoaXMuX3AycENoYW5uZWwuc3RhcnRQMlAoe3R1cm5TZXJ2ZXI6bnVsbD09PShpPXRoaXMuX2pvaW5JbmZvKXx8dm9pZCAwPT09aT92b2lkIDA6aS50dXJuU2VydmVyfSxlKSl9fSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKG12LlAyUF9DT05ORUNUSU9OLChhc3luYyBlPT57dGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIHdNJiZhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnAycENvbm5lY3QoZSl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24obXYuUDJQX1JFTU9URV9DQU5ESURBVEVfVVBEQVRFLChlPT57dGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIHdNJiZ0aGlzLl9wMnBDaGFubmVsLmFkZFJlbW90ZUNhbmRpZGF0ZShKU09OLnBhcnNlKGUpKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihBSS5TVUJTQ1JJQkUsKGFzeW5jKGUsdCxpKT0+e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiB3TSl7Y29uc3R7dHJhY2tUeXBlOm59PUpTT04ucGFyc2UoZSk7dHJ5e2F3YWl0IHRoaXMuX3AycENoYW5uZWwuZG9wdWJsaXNoKG4pLHQoKX1jYXRjaChlKXtpKGUpfX19KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oQUkuVU5TVUJTQ1JJQkUsKGFzeW5jKGUsdCxpKT0+e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiB3TSl7Y29uc3R7bWVkaWFUeXBlOm59PUpTT04ucGFyc2UoZSk7dHJ5e2F3YWl0IHRoaXMuX3AycENoYW5uZWwuZG9VbnB1Ymxpc2gobiksdCgpfWNhdGNoKGUpe2koZSl9fX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihBSS5FWENIQU5HRV9TRFAsKGFzeW5jKGUsdCxpKT0+e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiB3TSl7Y29uc3R7dHlwZTpuLHNkcDpyfT1KU09OLnBhcnNlKGUpO3RyeXt0KGF3YWl0IHRoaXMuX3AycENoYW5uZWwuc2V0RGVzY3JpcHRpb24obixyKSl9Y2F0Y2goZSl7aShlKX19fSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKEFJLlVOUFVCTElTSCwoYXN5bmMoZSx0LGkpPT57aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIHdNKXtjb25zdHt1bnB1Yk1zZzpuLHVpZDpyfT1lO2lmKDE9PT1uLmxlbmd0aCl7Y29uc3Qgcz1uWzBdLnN0cmVhbV90eXBlPT09UXYuQXVkaW8/ZEkuQVVESU86ZEkuVklERU87dGhpcy5faGFuZGxlTXV0ZVN0cmVhbShyLHMsITApO2NvbnN0e3NkcDpvfT1lO2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiB3TSYmbyl7Y29uc3QgZT10aGlzLl91c2Vycy5maW5kKChlPT5lLnVpZD09PXIpKTtpZighZSlyZXR1cm4gV0Mud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgZmluZCByZW1vdGUgdXNlciwgaWdub3JlIG11dGUgZXZlbnQsIHVpZDogXCIpLmNvbmNhdChyKSksdm9pZCB0KCk7dGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZShlLG8scykudGhlbigoZT0+e2UmJnQoZSl9KSkuY2F0Y2goaSl9ZWxzZSB0KCl9ZWxzZSB0aGlzLl9oYW5kbGVSZW1vdmVTdHJlYW0oZSx0LGkpfX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihBSS5DT05UUk9MLChhc3luYyhlLHQsaSk9Pntjb25zdHthY3Rpb246bixzZHA6cixpc011dGVBbGw6cyx1aWQ6b309ZTtzd2l0Y2gobil7Y2FzZSBiSS5NVVRFX0xPQ0FMX1ZJREVPOnRoaXMuX2hhbmRsZU11dGVTdHJlYW0obyxkSS5WSURFTywhMCxyLHQsaSk7YnJlYWs7Y2FzZSBiSS5NVVRFX0xPQ0FMX0FVRElPOnQoKSx0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKG8sZEkuQVVESU8sITApO2JyZWFrO2Nhc2UgYkkuVU5NVVRFX0xPQ0FMX1ZJREVPOnQoKSx0aGlzLl9oYW5kbGVQMlBBZGRBdWRpb09yVmlkZW9TdHJlYW0oXCJ2aWRlb1wiLG8pLHRoaXMuX2hhbmRsZU11dGVTdHJlYW0obyxkSS5WSURFTywhMSk7YnJlYWs7Y2FzZSBiSS5VTk1VVEVfTE9DQUxfQVVESU86dCgpLHRoaXMuX2hhbmRsZVAyUEFkZEF1ZGlvT3JWaWRlb1N0cmVhbShcImF1ZGlvXCIsbyksdGhpcy5faGFuZGxlTXV0ZVN0cmVhbShvLGRJLkFVRElPLCExKX1zJiZ0aGlzLl9oYW5kbGVSZW1vdmVTdHJlYW0oZSx0LGkpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKEFJLkRPX1NVQlNDUklCRSwoYXN5bmMoZSx0LGkpPT57aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIHdNKXtjb25zdHtraW5kOm4sc2RwOnIsc3NyY0lkOnMsdWlkOm99PWUsYT10aGlzLl91c2Vycy5maW5kKChlPT5lLnVpZD09PW8pKTtpZighYSlyZXR1cm4gV0MuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX2FkZF9zdHJlYW0pXCIpKSx2b2lkIHQoKTt0cnl7dChhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN1YnNjcmliZShhLG4scixzKSl9Y2F0Y2goZSl7aShlKX19fSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKEFJLkRPX1VOU1VCU0NSSUJFLChhc3luYyhlLHQsaSk9PntpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2Ygd00pe2NvbnN0e3VpZDpuLGtpbmQ6cixzZHA6c309ZSxvPXRoaXMuX3VzZXJzLmZpbmQoKGU9PmUudWlkPT09bikpO2lmKCFvKXJldHVybiBXQy5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgZmluZCB0YXJnZXQgdXNlciEob25fYWRkX3N0cmVhbSlcIikpLHZvaWQgdCgpO3RyeXt0KGF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmUobyxzLHIpKX1jYXRjaChlKXtpKGUpfX19KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oQUkuUkVTVEFSVF9JQ0UsKGFzeW5jKGUsdCxpKT0+e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiB3TSl0cnl7dChhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnNldERlc2NyaXB0aW9uKFwicmVtb3RlXCIsZSkpfWNhdGNoKGUpe2koZSl9fSkpLHRoaXMuX3AycENoYW5uZWwub24oX0kuUmVxdWVzdFAyUFJlc3RhcnRJQ0UsKGFzeW5jKGUsdCxpKT0+e3RyeXt0KGF3YWl0IHRoaXMuX2dhdGV3YXkuc2VuZEV4dGVuc2lvbk1lc3NhZ2UoQUkuUkVTVEFSVF9JQ0UsZSkpfWNhdGNoKGUpe2koZSl9fSkpLHRoaXMuX3AycENoYW5uZWwub24oX0kuTG9jYWxDYW5kaWRhdGUsKGU9Pnt0aGlzLl9nYXRld2F5LnNlbmRFeHRlbnNpb25NZXNzYWdlKEFJLkNBTkRJREFURSxKU09OLnN0cmluZ2lmeShlKSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihfSS5SZXF1ZXN0UDJQTXV0ZUxvY2FsLChhc3luYyhlLHQsaSk9Pnt0cnl7dChhd2FpdCB0aGlzLl9nYXRld2F5LnNlbmRFeHRlbnNpb25NZXNzYWdlKEFJLkNPTlRST0wsZSkpfWNhdGNoKGUpe2koZSl9fSkpLHRoaXMuX3AycENoYW5uZWwub24oX0kuUmVxdWVzdFAyUFB1Ymxpc2gsKGFzeW5jKGUsdCxpKT0+e3RyeXt0KGF3YWl0IHRoaXMuX2dhdGV3YXkuc2VuZEV4dGVuc2lvbk1lc3NhZ2UoQUkuRE9fU1VCU0NSSUJFLGUpKX1jYXRjaChlKXtpKGUpfX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKF9JLlJlcXVlc3RQMlBVblB1Ymxpc2gsKGFzeW5jKGUsdCxpKT0+e3RyeXt0KGF3YWl0IHRoaXMuX2dhdGV3YXkuc2VuZEV4dGVuc2lvbk1lc3NhZ2UoQUkuRE9fVU5TVUJTQ1JJQkUsZSkpfWNhdGNoKGUpe2koZSl9fSkpLHRoaXMuX3AycENoYW5uZWwub24oX0kuUmVxdWVzdFAyUFVubXV0ZVJlbW90ZSwoYXN5bmMoZSx0LGkpPT57aWYodGhpcy5fam9pbkluZm8pdHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkudW5tdXRlUmVtb3RlKGUsdGhpcy5fam9pbkluZm8uc3RyaW5nVWlkfHx0aGlzLl9qb2luSW5mby51aWQpLHQoKX1jYXRjaChlKXtlLmNvZGU9PT14Zy5ESVNDT05ORUNUX1AyUD90KCk6aShlKX1lbHNlIHQoKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKF9JLlJlcXVlc3RQMlBNdXRlUmVtb3RlLChhc3luYyhlLHQsaSk9PntpZih0aGlzLl9qb2luSW5mbyl0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5tdXRlUmVtb3RlKGUsdGhpcy5fam9pbkluZm8uc3RyaW5nVWlkfHx0aGlzLl9qb2luSW5mby51aWQpLHQoKX1jYXRjaChlKXtlLmNvZGU9PT14Zy5ESVNDT05ORUNUX1AyUD90KCk6aShlKX1lbHNlIHQoKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKF9JLlN0YXRlQ2hhbmdlLCgoZSx0KT0+e3Q9PT1wSS5Db25uZWN0ZWQmJnRoaXMuX3AycENoYW5uZWwucmVwdWJsaXNoKCl9KSl9X2hhbmRsZVAyUENoYW5uZWxFdmVudHMoKXt0aGlzLl9wMnBDaGFubmVsLm9uKF9JLlJlcXVlc3RNdXRlTG9jYWwsKGFzeW5jKGUsdCxpKT0+e2lmKHRoaXMuX2pvaW5JbmZvKXRyeXthd2FpdCB0aGlzLl9nYXRld2F5Lm11dGVMb2NhbChlLHRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZHx8dGhpcy5fam9pbkluZm8udWlkKSx0KCl9Y2F0Y2goZSl7ZS5jb2RlPT09eGcuRElTQ09OTkVDVF9QMlA/dCgpOmkoZSl9ZWxzZSB0KCl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihfSS5SZXF1ZXN0VW5tdXRlTG9jYWwsKGFzeW5jKGUsdCxpKT0+e2lmKHRoaXMuX2pvaW5JbmZvKXRyeXthd2FpdCB0aGlzLl9nYXRld2F5LnVubXV0ZUxvY2FsKGUsdGhpcy5fam9pbkluZm8uc3RyaW5nVWlkfHx0aGlzLl9qb2luSW5mby51aWQpLHQoKX1jYXRjaChlKXtlLmNvZGU9PT14Zy5ESVNDT05ORUNUX1AyUD90KCk6aShlKX1lbHNlIHQoKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKF9JLlJlcXVlc3RSZVB1Ymxpc2gsKChlLHQsaSk9Pnt0aGlzLnB1Ymxpc2goZSwhMSkudGhlbih0KS5jYXRjaChpKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKF9JLlJlcXVlc3RSZVB1Ymxpc2hEYXRhQ2hhbm5lbCwoKGUsdCxpKT0+e3RnLmFsbChlLm1hcCgoYXN5bmMgZT0+e2F3YWl0IHRoaXMuX3AycENoYW5uZWwucHVibGlzaERhdGFDaGFubmVsKFtlXSk7Y29uc3QgdD17c3RyZWFtSWQ6ZS5pZCxvcmRlcmVkOmUub3JkZXJlZCxtYXhSZXRyYW5zbWl0czplLm1heFJldHJhbnNtaXRzLG1ldGFkYXRhOmUubWV0YWRhdGEsY2hhbm5lbElkOmUuX29yaWdpbkRhdGFDaGFubmVsSWR9O3RyeXthd2FpdCB0aGlzLl9nYXRld2F5LnB1Ymxpc2hEYXRhQ2hhbm5lbCh0aGlzLl91aWQsdCwhMCl9Y2F0Y2goZSl7aWYoZS5jb2RlIT09eGcuRElTQ09OTkVDVF9QMlApdGhyb3cgZX19KSkpLnRoZW4odCkuY2F0Y2goaSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihfSS5SZXF1ZXN0UmVTdWJzY3JpYmUsKGFzeW5jKGUsdCxpKT0+e3RyeXtmb3IoY29uc3R7dXNlcjp0LGtpbmQ6aX1vZiBlKWk9PT1kSS5WSURFTz9hd2FpdCB0aGlzLnN1YnNjcmliZSh0LFwidmlkZW9cIik6YXdhaXQgdGhpcy5zdWJzY3JpYmUodCxcImF1ZGlvXCIpO3QoKX1jYXRjaChlKXtpKGUpfX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKF9JLlJlcXVlc3RVcGxvYWRTdGF0cywoKGUsdCk9Pnt0aGlzLl9nYXRld2F5LnVwbG9hZFN0YXRzKGUsdCl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihfSS5NZWRpYVJlY29ubmVjdFN0YXJ0LChlPT57dGhpcy5zYWZlRW1pdChkUy5NRURJQV9SRUNPTk5FQ1RfU1RBUlQsZSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihfSS5NZWRpYVJlY29ubmVjdEVuZCwoZT0+e3RoaXMuc2FmZUVtaXQoZFMuTUVESUFfUkVDT05ORUNUX0VORCxlKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKF9JLk5lZWRTaWduYWxSVFQsKGU9PntlKHRoaXMuX2dhdGV3YXkuZ2V0U2lnbmFsUlRUKCkpfSkpLHRoaXMuX3AycENoYW5uZWwub24oX0kuUmVxdWVzdFJlc3RhcnRJQ0UsKGFzeW5jIGU9PntpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2Ygd00pcmV0dXJuO2NvbnN0IHQ9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5yZXN0YXJ0SUNFKGUpLGk9YXdhaXQgdC5uZXh0KCk7aWYoaS5kb25lKXJldHVybjtjb25zdCBuPWkudmFsdWU7bGV0IHI7dHJ5e3I9YXdhaXQgdGhpcy5fZ2F0ZXdheS5yZXN0YXJ0SUNFKHtpY2VQYXJhbWV0ZXJzOm59KX1jYXRjaChlKXtyZXR1cm4gdm9pZCB0LnRocm93KGUpfWNvbnN0e2ljZVBhcmFtZXRlcnM6c309ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmljZVBhcmFtZXRlcnM7cmV0dXJue2ljZVBhcmFtZXRlcnM6e2ljZVVmcmFnOnQuaWNlVWZyYWcsaWNlUHdkOnQuaWNlUHdkfX19KHIpO2F3YWl0IHQubmV4dCh7cmVtb3RlSWNlUGFyYW1ldGVyczpzfSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihfSS5SZXF1ZXN0UmVjb25uZWN0LChhc3luYygpPT57dGhpcy5fZ2F0ZXdheS5yZWNvbm5lY3QoKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKF9JLlJlcXVlc3RSZWNvbm5lY3RQQywoYXN5bmMoKT0+e3ZhciBlO2NvbnN0e2ljZVBhcmFtZXRlcnM6dCxkdGxzUGFyYW1ldGVyczppLHJ0cENhcGFiaWxpdGllczpufT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN0YXJ0UDJQQ29ubmVjdGlvbih7dHVyblNlcnZlcjpudWxsPT09KGU9dGhpcy5fam9pbkluZm8pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnR1cm5TZXJ2ZXJ9KSx7Z2F0ZXdheUVzdGFibGlzaFBhcmFtczpyLGdhdGV3YXlBZGRyZXNzOnN9PWF3YWl0IHRoaXMuX2dhdGV3YXkucmVjb25uZWN0UEMoe2ljZVBhcmFtZXRlcnM6dCxkdGxzUGFyYW1ldGVyczppLHJ0cENhcGFiaWxpdGllczpufSkse2R0bHNQYXJhbWV0ZXJzOm8saWNlUGFyYW1ldGVyczphLGNhbmRpZGF0ZXM6YyxydHBDYXBhYmlsaXRpZXM6ZCxzZXR1cDpsLGNuYW1lOmh9PUpQKHIscyk7YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5jb25uZWN0KGEsbyxjLGQsbCxoKSxhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnJlcHVibGlzaCgpLGF3YWl0IHRoaXMuX3AycENoYW5uZWwucmVTdWJzY3JpYmUoKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKF9JLlJlcXVlc3RVbnB1Ymxpc2hGb3JSZWNvbm5lY3RQQywoYXN5bmMoZSx0LGkpPT57dGhpcy5fam9pbkluZm8mJnZvaWQgMCE9PXRoaXMuX3VpZD8oYXdhaXQgdGhpcy5fZ2F0ZXdheS51bnB1Ymxpc2goZSx0aGlzLl91aWQpLHQoKSk6aSgpfSkpLHRoaXMuX3AycENoYW5uZWwub24oX0kuUDJQTG9zdCwoKCk9Pnt0aGlzLnNhZmVFbWl0KGRTLlAyUF9MT1NULHRoaXMuc3RvcmUudWlkKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKF9JLlVwZGF0ZVZpZGVvRW5jb2RlciwoZT0+e2UuX2VuY29kZXJDb25maWcmJnRoaXMuX2dhdGV3YXkuc2V0VmlkZW9Qcm9maWxlKGUuX2VuY29kZXJDb25maWcpfSkpLHRoaXMuX3AycENoYW5uZWwub24oX0kuQ29ubmVjdGlvblR5cGVDaGFuZ2UsKGU9Pnt0aGlzLnNhZmVFbWl0KGRTLklTX1VTSU5HX0NMT1VEX1BST1hZLGUpfSkpLHRoaXMuX3AycENoYW5uZWwub24oX0kuUmVxdWVzdExvd1N0cmVhbVBhcmFtZXRlciwoZT0+e2UodGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyfHx7d2lkdGg6MTYwLGhlaWdodDoxMjAsZnJhbWVyYXRlOjE1LGJpdHJhdGU6NTB9KX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKF9JLlF1ZXJ5Q2xpZW50Q29ubmVjdGlvblN0YXRlLChlPT57ZSh0aGlzLmNvbm5lY3Rpb25TdGF0ZSl9KSl9Z2V0S2V5TWV0cmljcygpe3JldHVybiB0aGlzLnN0b3JlLmtleU1ldHJpY3N9YXN5bmMgZW5hYmxlQ29udGVudEluc3BlY3QoZSl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlfHwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IE12KHhnLklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gQ2xpZW50IGRpZCBub3Qgam9pbiBjaGFubmVsXCIpKTtpZih0aGlzLl9pbnNwZWN0KXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIEluc3BlY3QgY29udGVudCBzZXJ2aWNlIGFscmVhZHkgaW4gY29ubmVjdGluZy9jb25uZWN0ZWQgc3RhdGVcIikpO2lmKCFlKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX1BBUkFNUyxcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGluc3BlY3RDb25maWcgaXMgbmVjZXNzYXJ5XCIpKTtpZighZS5pbnNwZWN0VHlwZXx8IUFycmF5LmlzQXJyYXkoZS5pbnNwZWN0VHlwZSkpdGhyb3cgbmV3IE12KHhnLklOVkFMSURfUEFSQU1TLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gaW5zcGVjdENvbmZpZy5pbnNwZWN0VHlwZSBpcyBuZWNlc3NhcnkgYW5kIGlzIGFuIGluc3RhbmNlIG9mIEFycmF5LlwiKSk7e2NvbnN0IHQ9Wy4uLm5ldyBTZXQoZS5pbnNwZWN0VHlwZSldO3QuZm9yRWFjaCgoZT0+e3ZhciB0O2lmKCFQcih0PVtcInN1cGVydmlzZVwiLFwibW9kZXJhdGlvblwiXSkuY2FsbCh0LGUpKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX1BBUkFNUyxcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFwiKS5jb25jYXQoZSxcIiBpcyBub3QgYSB2YWxpZCBpbnNwZWN0IHR5cGUuXCIpKX0pKSxlLmluc3BlY3RUeXBlPXR9aWYoZSYmZS5leHRyYUluZm8mJmUuZXh0cmFJbmZvLmxlbmd0aD4xMDI0KXRocm93IG5ldyBNdih4Zy5JTlZBTElEX1BBUkFNUyxcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGluc3BlY3RDb25maWcuZXh0cmFJbmZvIGxlbmd0aCBjYW5ub3QgZXhjZWVkIDEwMjQgYnl0ZXNcIikpO3RyeXtjb25zdCB0PW5ldyBqayhlKTt0aGlzLl9pbnNwZWN0PXQsdGhpcy5oYW5kbGVWaWRlb0luc3BlY3RFdmVudHModGhpcy5faW5zcGVjdCksYXdhaXQgdC5pbml0KHthcHBJZDp0aGlzLl9qb2luSW5mby5hcHBJZCxhcmVhQ29kZTpcIlwiLGNuYW1lOnRoaXMuX2pvaW5JbmZvLmNuYW1lLHNpZDp0aGlzLl9qb2luSW5mby5zaWQsdG9rZW46dGhpcy5fam9pbkluZm8udG9rZW4sdWlkOnRoaXMuX2pvaW5JbmZvLnVpZCxjaWQ6dGhpcy5fam9pbkluZm8uY2lkLHZpZDp0aGlzLl9qb2luSW5mby52aWQ/TnVtYmVyKHRoaXMuX2pvaW5JbmZvLnZpZCk6MH0sSlMpfWNhdGNoKGUpe3Rocm93IEFycmF5LmlzQXJyYXkoZSk/ZVswXTplfX1hc3luYyBkaXNhYmxlQ29udGVudEluc3BlY3QoKXtpZighdGhpcy5faW5zcGVjdCl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBpbnNwZWN0VmlkZW9Db250ZW50IG5vdCBzdGFydGVkXCIpKTt0cnl7dGhpcy5faW5zcGVjdC5jbG9zZSgpLHRoaXMuX2luc3BlY3Q9dm9pZCAwfWNhdGNoKGUpe3Rocm93IEFycmF5LmlzQXJyYXkoZSk/ZVswXTplfX1hc3luYyBzZXRJbWFnZU1vZGVyYXRpb24oZSx0KXtpZihGZyhlLFwiZW5hYmxlZFwiKSxlKXtpZighdCl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9QQVJBTVMsXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjb25maWcgaXMgbmVjZXNzYXJ5XCIpKTtpZihqZyh0LmludGVydmFsLFwiaW50ZXJ2YWxcIiwxZTMsMS8wKSxcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGV8fCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgTXYoeGcuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLCddIGNhbiBub3QgZW5hYmxlIGltYWdlIG1vZGVyYXRpb24sIG5vdCBqb2luZWRcIicpKTt0cnl7aWYodGhpcy5fbW9kZXJhdGlvbilyZXR1cm4gdm9pZCB0aGlzLl9tb2RlcmF0aW9uLnVwZGF0ZUNvbmZpZyh0KTtjb25zdCBlPW5ldyBUTSh0KTt0aGlzLl9tb2RlcmF0aW9uPWUsdGhpcy5oYW5kbGVJbWFnZU1vZGVyYXRpb25FdmVudHModGhpcy5fbW9kZXJhdGlvbiksYXdhaXQgZS5pbml0KHthcHBJZDp0aGlzLl9qb2luSW5mby5hcHBJZCxhcmVhQ29kZTpcIlwiLGNuYW1lOnRoaXMuX2pvaW5JbmZvLmNuYW1lLHNpZDp0aGlzLl9qb2luSW5mby5zaWQsdG9rZW46dGhpcy5fam9pbkluZm8udG9rZW4sdWlkOnRoaXMuX2pvaW5JbmZvLnVpZCxjaWQ6dGhpcy5fam9pbkluZm8uY2lkLHZpZDp0aGlzLl9qb2luSW5mby52aWQ/TnVtYmVyKHRoaXMuX2pvaW5JbmZvLnZpZCk6MH0sSlMpfWNhdGNoKGUpe3Rocm93IEFycmF5LmlzQXJyYXkoZSk/ZVswXTplfX1lbHNle2lmKCF0aGlzLl9tb2RlcmF0aW9uKXRocm93IG5ldyBNdih4Zy5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGltYWdlIG1vZGVyYXRpb24gbm90IHN0YXJ0ZWRcIikpO3RyeXt0aGlzLl9tb2RlcmF0aW9uLmNsb3NlKCksdGhpcy5fbW9kZXJhdGlvbi5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLl9tb2RlcmF0aW9uPXZvaWQgMH1jYXRjaChlKXt0aHJvdyBBcnJheS5pc0FycmF5KGUpP2VbMF06ZX19fWhhbmRsZUltYWdlTW9kZXJhdGlvbkV2ZW50cyhlKXtlLm9uKElJLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLCgodCxpKT0+e2lmKHRoaXMuc2FmZUVtaXQoZFMuSU1BR0VfTU9ERVJBVElPTl9DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSx0LGkpLHQ9PT12SS5DT05ORUNURUQpe2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyB0aGlzLnNldEltYWdlTW9kZXJhdGlvbighMSksbmV3IE12KHhnLk9QRVJBVElPTl9BQk9SVEVELFwiSW1hZ2UgbW9kZXJhdGlvbiB3YXMgY2FuY2VsbGVkIGJlY2F1c2UgaXQgbGVmdCB0aGUgY2hhbm5lbFwiKTtlLmluc3BlY3RJbWFnZSgpfX0pKSxlLm9uKElJLkNMSUVOVF9MT0NBTF9WSURFT19UUkFDSywoZT0+e2UodGhpcy5sb2NhbFRyYWNrcy5maWx0ZXIoKGU9PlwidmlkZW9cIj09PWUudHJhY2tNZWRpYVR5cGUpKVswXSl9KSl9aGFuZGxlVmlkZW9JbnNwZWN0RXZlbnRzKGUpe2Uub24oZ0kuQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsKCh0LGkpPT57aWYodGhpcy5zYWZlRW1pdChkUy5DT05URU5UX0lOU1BFQ1RfQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsdCxpKSxpPT09bUkuQ09OTkVDVEVEKXtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpcmV0dXJuIHZvaWQgdGhpcy5zYWZlRW1pdChkUy5DT05URU5UX0lOU1BFQ1RfRVJST1IsbmV3IE12KHhnLk9QRVJBVElPTl9BQk9SVEVELFwiQ29udGVudCBpbnNwZWN0IHdhcyBjYW5jZWxsZWQgYmVjYXVzZSBpdCBsZWZ0IHRoZSBjaGFubmVsXCIpKTtlLmluc3BlY3RJbWFnZSgpfX0pKSxlLm9uKGdJLklOU1BFQ1RfUkVTVUxULCgoZSx0KT0+e3ZhciBpO2lmKChudWxsPT10P3ZvaWQgMDp0LmNvZGUpPT09eGcuSU5WQUxJRF9PUEVSQVRJT04mJlwiRElTQ09OTkVDVEVEXCI9PT10aGlzLmNvbm5lY3Rpb25TdGF0ZSlyZXR1cm4gV0MuZGVidWcoXCJTdG9wIGluc3BlY3QgY29udGVudCBiZWNhdXNlIHRoYXQgaGFzIGxlZnQgY2hhbm5lbFwiKSxudWxsPT10aGlzfHxudWxsPT09KGk9dGhpcy5faW5zcGVjdCl8fHZvaWQgMD09PWl8fGkuY2xvc2UoKSx2b2lkKHRoaXMuX2luc3BlY3Q9dm9pZCAwKTt0aGlzLnNhZmVFbWl0KGRTLkNPTlRFTlRfSU5TUEVDVF9SRVNVTFQsZSx0KX0pKSxlLm9uKGdJLkNMSUVOVF9MT0NBTF9WSURFT19UUkFDSywoZT0+e2UodGhpcy5sb2NhbFRyYWNrcy5maWx0ZXIoKGU9PlwidmlkZW9cIj09PWUudHJhY2tNZWRpYVR5cGUpKVswXSl9KSl9Z2V0Sm9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcygpe3JldHVybiBXQy5kZWJ1ZyhcImdldEpvaW5DaGFubmVsU2VydmljZVJlY29yZHNcIiksdGhpcy5zdG9yZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzfWFzeW5jIHNldFB1Ymxpc2hBdWRpb0ZpbHRlckVuYWJsZWQoZSl7RmcoZSxcImVuYWJsZWRcIiksTEMoXCJFTkFCTEVfUFVCTElTSF9BVURJT19GSUxURVJcIixlKSx0aGlzLl9qb2luSW5mbyYmYXdhaXQgdGhpcy5fZ2F0ZXdheS5zZXRQdWJsaXNoQXVkaW9GaWx0ZXJFbmFibGVkKGUpfV9oYW5kbGVSZXNldEFkZFN0cmVhbShlLHQpe3N3aXRjaCh0KXtjYXNlXCJhdWRpb1wiOmUuX2F1ZGlvX2FkZGVkXz0hMSxlLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwO2JyZWFrO2Nhc2VcInZpZGVvXCI6ZS5fdmlkZW9fYWRkZWRfPSExLGUuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITB9fX1MdihbdHYoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sak0ucHJvdG90eXBlLFwibGVhdmVcIixudWxsKSxMdihbdHYoe2FyZ3NNYXA6KGUsdCk9PntpZighQXJyYXkuaXNBcnJheSh0KSl7aWYoISh0IGluc3RhbmNlb2YgJHkpKXJldHVyblt0XTt0PVt0XX1yZXR1cm4gdC5tYXAoKGU9PmU/T2JqZWN0KGUpLnRvU3RyaW5nKCk6XCJudWxsXCIpKX19KSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0LEJvb2xlYW5dKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxqTS5wcm90b3R5cGUsXCJwdWJsaXNoXCIsbnVsbCksTHYoW3R2KHthcmdzTWFwOihlLHQpPT4odHx8KHQ9W10pLHQgaW5zdGFuY2VvZiBpRD9bdC5nZXRDaGFubmVsSWQoKV06KEFycmF5LmlzQXJyYXkodCl8fCh0PVt0XSksdC5tYXAoKGU9PmUuZ2V0VHJhY2tJZCgpKSkpKX0pLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxqTS5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hcIixudWxsKSxMdihbdHYoe2FyZ3NNYXA6KGUsdCxpLG4pPT5bdC51aWQsaSxuXX0pLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtiUCxTdHJpbmcsTnVtYmVyXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sak0ucHJvdG90eXBlLFwic3Vic2NyaWJlXCIsbnVsbCksTHYoW3R2KHthcmdzTWFwOihlLHQpPT50Lm1hcCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOml9PWU7cmV0dXJuW251bGw9PXQ/dm9pZCAwOnQudWlkLGldfSkpfSksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sak0ucHJvdG90eXBlLFwibWFzc1N1YnNjcmliZVwiLG51bGwpLEx2KFt0dih7YXJnc01hcDooZSx0LGksbik9Plt0LnVpZCxpLG5dfSksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW2JQLFN0cmluZyxOdW1iZXJdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxqTS5wcm90b3R5cGUsXCJ1bnN1YnNjcmliZVwiLG51bGwpLEx2KFt0dih7YXJnc01hcDooZSx0KT0+dC5tYXAoKGU9PntsZXR7dXNlcjp0LG1lZGlhVHlwZTppfT1lO3JldHVybnt1aWQ6bnVsbD09dD92b2lkIDA6dC51aWQsbWVkaWFUeXBlOml9fSkpfSksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0FycmF5XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sak0ucHJvdG90eXBlLFwibWFzc1Vuc3Vic2NyaWJlXCIsbnVsbCksTHYoW3R2KCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdF0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGpNLnByb3RvdHlwZSxcInNldExvd1N0cmVhbVBhcmFtZXRlclwiLG51bGwpLEx2KFt0digpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxqTS5wcm90b3R5cGUsXCJlbmFibGVEdWFsU3RyZWFtXCIsbnVsbCksTHYoW3R2KCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGpNLnByb3RvdHlwZSxcImRpc2FibGVEdWFsU3RyZWFtXCIsbnVsbCksTHYoW3R2KCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxPYmplY3RdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxqTS5wcm90b3R5cGUsXCJzZXRDbGllbnRSb2xlXCIsbnVsbCksTHYoW3R2KCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxCb29sZWFuXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLGpNLnByb3RvdHlwZSxcInNldFByb3h5U2VydmVyXCIsbnVsbCksTHYoW3R2KCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdCxCb29sZWFuXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLGpNLnByb3RvdHlwZSxcInNldFR1cm5TZXJ2ZXJcIixudWxsKSxMdihbdHYoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbU3RyaW5nXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLGpNLnByb3RvdHlwZSxcInNldExpY2Vuc2VcIixudWxsKSxMdihbdHYoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbTnVtYmVyXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLGpNLnByb3RvdHlwZSxcInN0YXJ0UHJveHlTZXJ2ZXJcIixudWxsKSxMdihbdHYoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLGpNLnByb3RvdHlwZSxcInN0b3BQcm94eVNlcnZlclwiLG51bGwpLEx2KFt0digpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3RdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sak0ucHJvdG90eXBlLFwic2V0TG9jYWxBY2Nlc3NQb2ludHNWMlwiLG51bGwpLEx2KFt0digpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtBcnJheSxTdHJpbmddKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdm9pZCAwKV0sak0ucHJvdG90eXBlLFwic2V0TG9jYWxBY2Nlc3NQb2ludHNcIixudWxsKSxMdihbdHYoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbTnVtYmVyXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sak0ucHJvdG90eXBlLFwic2V0UmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZVwiLG51bGwpLEx2KFt0digpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtPYmplY3QsTnVtYmVyXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sak0ucHJvdG90eXBlLFwic2V0UmVtb3RlVmlkZW9TdHJlYW1UeXBlXCIsbnVsbCksTHYoW3R2KCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdCxOdW1iZXJdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxqTS5wcm90b3R5cGUsXCJzZXRTdHJlYW1GYWxsYmFja09wdGlvblwiLG51bGwpLEx2KFt0dih7YXJnc01hcDooZSx0KT0+W3RdfSksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxTdHJpbmcsVWludDhBcnJheV0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix2b2lkIDApXSxqTS5wcm90b3R5cGUsXCJzZXRFbmNyeXB0aW9uQ29uZmlnXCIsbnVsbCksTHYoW3R2KCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZ10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGpNLnByb3RvdHlwZSxcInJlbmV3VG9rZW5cIixudWxsKSxMdihbdHYoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHZvaWQgMCldLGpNLnByb3RvdHlwZSxcImVuYWJsZUF1ZGlvVm9sdW1lSW5kaWNhdG9yXCIsbnVsbCksTHYoW3R2KCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW1N0cmluZyxCb29sZWFuXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sak0ucHJvdG90eXBlLFwic3RhcnRMaXZlU3RyZWFtaW5nXCIsbnVsbCksTHYoW3R2KCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdF0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGpNLnByb3RvdHlwZSxcInNldExpdmVUcmFuc2NvZGluZ1wiLG51bGwpLEx2KFt0digpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmddKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxqTS5wcm90b3R5cGUsXCJzdG9wTGl2ZVN0cmVhbWluZ1wiLG51bGwpLEx2KFt0digpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtTdHJpbmcsT2JqZWN0XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sak0ucHJvdG90eXBlLFwiYWRkSW5qZWN0U3RyZWFtVXJsXCIsbnVsbCksTHYoW3R2KCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW10pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGpNLnByb3RvdHlwZSxcInJlbW92ZUluamVjdFN0cmVhbVVybFwiLG51bGwpLEx2KFt0digpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFt2UF0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGpNLnByb3RvdHlwZSxcInN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXlcIixudWxsKSxMdihbdHYoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbdlBdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxqTS5wcm90b3R5cGUsXCJ1cGRhdGVDaGFubmVsTWVkaWFSZWxheVwiLG51bGwpLEx2KFt0digpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxqTS5wcm90b3R5cGUsXCJzdG9wQ2hhbm5lbE1lZGlhUmVsYXlcIixudWxsKSxMdihbdHYoe2FyZ3NNYXA6KGUsdCk9PihBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLFtKU09OLnN0cmluZ2lmeSh0KV0pfSksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdF0pLGt2KFwiZGVzaWduOnJldHVybnR5cGVcIix0ZyldLGpNLnByb3RvdHlwZSxcInNlbmRDdXN0b21SZXBvcnRNZXNzYWdlXCIsbnVsbCksTHYoW3R2KCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW09iamVjdCxPYmplY3RdKSxrdihcImRlc2lnbjpyZXR1cm50eXBlXCIsdGcpXSxqTS5wcm90b3R5cGUsXCJwaWNrU1ZDTGF5ZXJcIixudWxsKSxMdihbdHYoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbTnVtYmVyXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sak0ucHJvdG90eXBlLFwic2V0UlRNMkZsYWdcIixudWxsKSxMdihbdHYoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbT2JqZWN0XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sak0ucHJvdG90eXBlLFwiZW5hYmxlQ29udGVudEluc3BlY3RcIixudWxsKSxMdihbdHYoKSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sak0ucHJvdG90eXBlLFwiZGlzYWJsZUNvbnRlbnRJbnNwZWN0XCIsbnVsbCksTHYoW3R2KCksa3YoXCJkZXNpZ246dHlwZVwiLEZ1bmN0aW9uKSxrdihcImRlc2lnbjpwYXJhbXR5cGVzXCIsW0Jvb2xlYW4sT2JqZWN0XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sak0ucHJvdG90eXBlLFwic2V0SW1hZ2VNb2RlcmF0aW9uXCIsbnVsbCksTHYoW3R2KHtyZXBvcnRSZXN1bHQ6ITB9KSxrdihcImRlc2lnbjp0eXBlXCIsRnVuY3Rpb24pLGt2KFwiZGVzaWduOnBhcmFtdHlwZXNcIixbXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLEFycmF5KV0sak0ucHJvdG90eXBlLFwiZ2V0Sm9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkc1wiLG51bGwpLEx2KFt0digpLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtCb29sZWFuXSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLHRnKV0sak0ucHJvdG90eXBlLFwic2V0UHVibGlzaEF1ZGlvRmlsdGVyRW5hYmxlZFwiLG51bGwpO2NvbnN0IEdNPXBnKCkubmFtZTtjbGFzcyBXTXtjb25zdHJ1Y3RvcihlLHQpe251KHRoaXMsXCJpZFwiLDApLG51KHRoaXMsXCJlbGVtZW50XCIsdm9pZCAwKSxudSh0aGlzLFwicGVlclBhaXJcIix2b2lkIDApLG51KHRoaXMsXCJjb250ZXh0XCIsdm9pZCAwKSxudSh0aGlzLFwiYXVkaW9QbGF5ZXJFbGVtZW50XCIsdm9pZCAwKSxudSh0aGlzLFwiYXVkaW9UcmFja1wiLHZvaWQgMCksV00uY291bnQrPTEsdGhpcy5pZD1XTS5jb3VudCx0aGlzLmVsZW1lbnQ9ZSx0aGlzLmNvbnRleHQ9dH1pbml0UGVlcnMoKXt0aGlzLnBlZXJQYWlyPVtuZXcgUlRDUGVlckNvbm5lY3Rpb24sbmV3IFJUQ1BlZXJDb25uZWN0aW9uXSx0aGlzLnBlZXJQYWlyWzFdLm9udHJhY2s9ZT0+e2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpO3Quc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbShbZS50cmFja10pLHQucGxheSgpLHRoaXMuYXVkaW9QbGF5ZXJFbGVtZW50PXR9fWFzeW5jIHN3aXRjaFNkcCgpe2lmKCF0aGlzLnBlZXJQYWlyKXJldHVybjtjb25zdCBlPWFzeW5jKGUsdCk9Pntjb25zdCBpPVwib2ZmZXJcIj09PXQ/YXdhaXQgZS5jcmVhdGVPZmZlcigpOmF3YWl0IGUuY3JlYXRlQW5zd2VyKCk7cmV0dXJuIGF3YWl0IGUuc2V0TG9jYWxEZXNjcmlwdGlvbihpKSxcImNvbXBsZXRlXCI9PT1lLmljZUdhdGhlcmluZ1N0YXRlP2UubG9jYWxEZXNjcmlwdGlvbjpuZXcgdGcoKHQ9PntlLm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2U9KCk9PntcImNvbXBsZXRlXCI9PT1lLmljZUdhdGhlcmluZ1N0YXRlJiZ0KGUubG9jYWxEZXNjcmlwdGlvbil9fSkpfSx0PWFzeW5jKGUsdCk9PmF3YWl0IGUuc2V0UmVtb3RlRGVzY3JpcHRpb24odCk7dHJ5e2NvbnN0IGk9YXdhaXQgZSh0aGlzLnBlZXJQYWlyWzBdLFwib2ZmZXJcIik7YXdhaXQgdCh0aGlzLnBlZXJQYWlyWzFdLGkpO2NvbnN0IG49YXdhaXQgZSh0aGlzLnBlZXJQYWlyWzFdLFwiYW5zd2VyXCIpO2F3YWl0IHQodGhpcy5wZWVyUGFpclswXSxuKX1jYXRjaChlKXt0aHJvdyBuZXcgTXYoeGcuTE9DQUxfQUVDX0VSUk9SLGUudG9TdHJpbmcoKSkucHJpbnQoKX19YXN5bmMgZ2V0VHJhY2tzRnJvbU1lZGlhRWxlbWVudChlKXtpZih0aGlzLmF1ZGlvVHJhY2spcmV0dXJuIHRoaXMuYXVkaW9UcmFjaztsZXQgdDt0cnl7ZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQmJihlLmNhcHR1cmVTdHJlYW0/ZS5jYXB0dXJlU3RyZWFtKCk6ZS5tb3pDYXB0dXJlU3RyZWFtKCkpLHQ9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKTt0aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKGUpLmNvbm5lY3QodCl9Y2F0Y2goZSl7dGhyb3cgbmV3IE12KHhnLkxPQ0FMX0FFQ19FUlJPUixlLnRvU3RyaW5nKCkpLnByaW50KCl9aWYoIXQpe3Rocm93IG5ldyBNdih4Zy5MT0NBTF9BRUNfRVJST1IsXCJubyBkZXN0IG5vZGUgd2hlbiBsb2NhbCBhZWNcIikucHJpbnQoKX1jb25zdCBpPXQuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF07cmV0dXJuIHRoaXMuYXVkaW9UcmFjaz1pLGl9Z2V0RWxlbWVudCgpe3JldHVybiB0aGlzLmVsZW1lbnR9YXN5bmMgc3RhcnRFY2hvQ2FuY2VsbGF0aW9uKCl7dGhpcy5jb250ZXh0LnJlc3VtZSgpLHRoaXMucGVlclBhaXImJnRoaXMuY2xvc2UoKSx0aGlzLmluaXRQZWVycygpO2NvbnN0IGU9dGhpcy5lbGVtZW50LHQ9YXdhaXQgdGhpcy5nZXRUcmFja3NGcm9tTWVkaWFFbGVtZW50KGUpO3RoaXMucGVlclBhaXImJnRoaXMucGVlclBhaXJbMF0uYWRkVHJhY2sodCksYXdhaXQgdGhpcy5zd2l0Y2hTZHAoKX1jbG9zZSgpe1dDLmRlYnVnKFwiY2xvc2UgZWNobyBjYW5jZWxsYXRpb24gdW5pdCwgaWQgaXNcIix0aGlzLmlkKSx0aGlzLmF1ZGlvUGxheWVyRWxlbWVudCYmdGhpcy5hdWRpb1BsYXllckVsZW1lbnQucGF1c2UoKSx0aGlzLnBlZXJQYWlyJiZ0aGlzLnBlZXJQYWlyLmZvckVhY2goKGU9PntlLmNsb3NlKCl9KSksdGhpcy5wZWVyUGFpcj12b2lkIDAsdGhpcy5hdWRpb1BsYXllckVsZW1lbnQ9dm9pZCAwfX1udShXTSxcImNvdW50XCIsMCk7Y29uc3QgSE09d2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtjbGFzcyBLTXtjb25zdHJ1Y3Rvcigpe251KHRoaXMsXCJ1bml0c1wiLFtdKSxudSh0aGlzLFwiY29udGV4dFwiLHZvaWQgMCl9cHJvY2Vzc0V4dGVybmFsTWVkaWFBRUMoZSl7aWYoIXRoaXMuX2RvZXNFbnZpcm9ubWVudE5lZWRBRUMoKSlyZXR1cm4gV0MuZGVidWcoXCJ0aGUgc3lzdGVtIGRvZXMgbm90IG5lZWQgdG8gcHJvY2VzcyBsb2NhbCBhZWNcIiksLTE7dGhpcy5jb250ZXh0fHwodGhpcy5jb250ZXh0PW5ldyBITSk7bGV0IHQ9dGhpcy51bml0cy5maW5kKCh0PT50JiZ0LmdldEVsZW1lbnQoKT09PWUpKTtyZXR1cm4gdHx8KHQ9bmV3IFdNKGUsdGhpcy5jb250ZXh0KSx0aGlzLnVuaXRzLnB1c2godCkpLHQuc3RhcnRFY2hvQ2FuY2VsbGF0aW9uKCksV0MuZGVidWcoXCJzdGFydCBwcm9jZXNzaW5nIGxvY2FsIGF1ZGlvIGVjaG8gY2FuY2VsbGF0aW9uLCBpZCBpc1wiLHQuaWQpLHQuaWR9X2RvZXNFbnZpcm9ubWVudE5lZWRBRUMoKXtyZXR1cm4gcGcoKS5uYW1lIT09Y2cuU0FGQVJJfX1MdihbdHYoe3JlcG9ydDppdn0pLGt2KFwiZGVzaWduOnR5cGVcIixGdW5jdGlvbiksa3YoXCJkZXNpZ246cGFyYW10eXBlc1wiLFtIVE1MQXVkaW9FbGVtZW50XSksa3YoXCJkZXNpZ246cmV0dXJudHlwZVwiLE51bWJlcildLEtNLnByb3RvdHlwZSxcInByb2Nlc3NFeHRlcm5hbE1lZGlhQUVDXCIsbnVsbCk7Y29uc3QgWU09bmV3IEtNO2Z1bmN0aW9uIHFNKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBKTShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9xTShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe251KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpxTShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jb25zdCB6TT13aW5kb3d8fGRvY3VtZW50O2Z1bmN0aW9uIFhNKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07aWYoIXpNKXJldHVybjtjb25zdCBpPVFNLl9jc3BFdmVudEhhbmRsZXJQb2ludGVyO2lmKGkmJnQpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihpLHQpO2NvbnN0IG49ZT0+e2lmKCEoZSYmZS5ibG9ja2VkVVJJJiYoUU0ub25TZWN1cml0eVBvbGljeVZpb2xhdGlvbnx8UU0uZ2V0TGlzdGVuZXJzKFJJLlNFQ1VSSVRZX1BPTElDWV9WSU9MQVRJT04pLmxlbmd0aD4wKSkpcmV0dXJuO2NvbnN0IHQ9ZS5ibG9ja2VkVVJJO2tDKFwiQ1NQX0RFVEVDVEVEX0hPU1ROQU1FX0xJU1RcIikuc29tZSgoZT0+UHIodCkuY2FsbCh0LGUpKSkmJihRTS5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBRTS5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uJiZRTS5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uKGUpLFFNLmdldExpc3RlbmVycyhSSS5TRUNVUklUWV9QT0xJQ1lfVklPTEFUSU9OKS5sZW5ndGg+MCYmUU0uc2FmZUVtaXQoUkkuU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTixlKSl9O2kmJnpNLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWN1cml0eXBvbGljeXZpb2xhdGlvblwiLGkpLCh0fHxlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlfHxRTS5nZXRMaXN0ZW5lcnMoUkkuU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTikubGVuZ3RoPjApJiZ6TS5hZGRFdmVudExpc3RlbmVyKFwic2VjdXJpdHlwb2xpY3l2aW9sYXRpb25cIixuKSxRTS5fY3NwRXZlbnRIYW5kbGVyUG9pbnRlcj1ufUxDKFwiUFJPQ0VTU19JRFwiLFwicHJvY2Vzcy1cIi5jb25jYXQoeFMoOCxcIlwiKSxcIi1cIikuY29uY2F0KHhTKDQsXCJcIiksXCItXCIpLmNvbmNhdCh4Uyg0LFwiXCIpLFwiLVwiKS5jb25jYXQoeFMoNCxcIlwiKSxcIi1cIikuY29uY2F0KHhTKDEyLFwiXCIpKSksZnVuY3Rpb24oKXtjb25zdCBlPXBnKCk7bEEuZ2V0RGlzcGxheU1lZGlhPWZ1bmN0aW9uKGUpe2lmKG5hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhKXJldHVybiEwO3JldHVybiExfSgpLGxBLmdldFN0cmVhbUZyb21FeHRlbnNpb249ZS5uYW1lPT09Y2cuQ0hST01FJiZOdW1iZXIoZS52ZXJzaW9uKT4zNCxsQS5zdXBwb3J0VW5pZmllZFBsYW49ZnVuY3Rpb24oKXtpZighd2luZG93LlJUQ1J0cFRyYW5zY2VpdmVyKXJldHVybiExO2lmKCEoXCJjdXJyZW50RGlyZWN0aW9uXCJpbiBSVENSdHBUcmFuc2NlaXZlci5wcm90b3R5cGUpKXJldHVybiExO2NvbnN0IGU9bmV3IFJUQ1BlZXJDb25uZWN0aW9uO2xldCB0PSExO3RyeXtlLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIiksdD0hMH1jYXRjaChlKXt9cmV0dXJuIGUuY2xvc2UoKSx0fSgpLGxBLnN1cHBvcnRNaW5CaXRyYXRlPWUubmFtZT09PWNnLkNIUk9NRXx8ZS5uYW1lPT09Y2cuRURHRSxsQS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVycz1mdW5jdGlvbigpe2NvbnN0IGU9cGcoKTtpZighd2luZG93LlJUQ1J0cFNlbmRlcnx8IXdpbmRvdy5SVENSdHBTZW5kZXIucHJvdG90eXBlLnNldFBhcmFtZXRlcnN8fCF3aW5kb3cuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzKXJldHVybiExO3JldHVybiEha2coKXx8KCEoIVRnKCkmJiFtZygpKXx8ZS5uYW1lPT09Y2cuRklSRUZPWCYmTnVtYmVyKGUudmVyc2lvbik+PTY0KX0oKSxlLm5hbWU9PT1jZy5TQUZBUkkmJihOdW1iZXIoZS52ZXJzaW9uKT49MTQ/bEEuc3VwcG9ydER1YWxTdHJlYW09ITA6bEEuc3VwcG9ydER1YWxTdHJlYW09ITEpLGxBLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0PWZ1bmN0aW9uKCl7Y29uc3QgZT1wZygpO2lmKGUubmFtZT09PWNnLlNBRkFSSSYmTnVtYmVyKGUudmVyc2lvbik8MTIpcmV0dXJuITE7cmV0dXJuITB9KCksbEEuc3VwcG9ydFJlcGxhY2VUcmFjaz1mdW5jdGlvbigpe2lmKCF3aW5kb3cuUlRDUnRwU2VuZGVyKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFJUQ1J0cFNlbmRlci5wcm90b3R5cGUucmVwbGFjZVRyYWNrKXJldHVybiEwO3JldHVybiExfSgpLGxBLnN1cHBvcnRXZWJHTD1cInVuZGVmaW5lZFwiIT10eXBlb2YgV2ViR0xSZW5kZXJpbmdDb250ZXh0LGxBLnN1cHBvcnRSZXF1ZXN0RnJhbWU9ISF3aW5kb3cuQ2FudmFzQ2FwdHVyZU1lZGlhU3RyZWFtVHJhY2ssa2coKXx8KGxBLndlYkF1ZGlvV2l0aEFFQz0hMCksbEEuc3VwcG9ydFNoYXJlQXVkaW89ZnVuY3Rpb24oKXtjb25zdCBlPXBnKCk7aWYoKGUub3M9PT1hZy5XSU5fMTB8fGUub3M9PT1hZy5XSU5fODF8fGUub3M9PT1hZy5XSU5fN3x8ZS5vcz09PWFnLkxJTlVYfHxlLm9zPT09YWcuTUFDX09TKSYmZS5uYW1lPT09Y2cuQ0hST01FJiZOdW1iZXIoZS52ZXJzaW9uKT49NzQpcmV0dXJuITA7cmV0dXJuITF9KCksbEEuc3VwcG9ydERhdGFDaGFubmVsPWZ1bmN0aW9uKCl7aWYodmcoNzYpfHxmdW5jdGlvbihlKXtjb25zdCB0PXBnKCk7cmV0dXJuISh0Lm5hbWUhPT1jZy5GSVJFRk9YfHwhdC5vc1ZlcnNpb24pJiZOdW1iZXIodC52ZXJzaW9uKT49ZX0oNjgpfHxmdW5jdGlvbihlKXtjb25zdCB0PXBnKCk7cmV0dXJuISh0Lm5hbWUhPT1jZy5TQUZBUkl8fCF0Lm9zVmVyc2lvbikmJk51bWJlcih0LnZlcnNpb24pPj1lfSgxNCkpcmV0dXJuITA7cmV0dXJuITF9KCksbEEuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbj1mdW5jdGlvbigpe2NvbnN0IGU9d2luZG93LlJUQ1BlZXJDb25uZWN0aW9uO3JldHVybiFSZygpJiYhIWUmJmUucHJvdG90eXBlLnNldENvbmZpZ3VyYXRpb24gaW5zdGFuY2VvZiBGdW5jdGlvbn0oKSxsQS5zdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybT1mdW5jdGlvbigpe2NvbnN0IGU9cGcoKTtyZXR1cm5cIkNocm9tZVwiPT09ZS5uYW1lJiZOdW1iZXIoZS52ZXJzaW9uKT49ODZ9KCksbEEuc3VwcG9ydFdlYlJUQ0luc2VydGFibGVTdHJlYW09ZnVuY3Rpb24oKXtjb25zdCBlPXBnKCk7cmV0dXJuKGUubmFtZT09PWNnLkNIUk9NRXx8ZS5uYW1lPT09Y2cuRURHRSkmJk51bWJlcihlLnZlcnNpb24pPj05NCYmXCJNZWRpYVN0cmVhbVRyYWNrR2VuZXJhdG9yXCJpbiB3aW5kb3cmJlwiTWVkaWFTdHJlYW1UcmFja1Byb2Nlc3NvclwiaW4gd2luZG93fSgpLEFTKCgoKT0+e2xBLnN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmc9ZnVuY3Rpb24oKXtjb25zdCBlPXBnKCk7aWYoa0MoXCJESVNBQkxFX1dFQkFVRElPXCIpKXJldHVybiEwO3JldHVyblwiU2FmYXJpXCI9PT1lLm5hbWUmJk51bWJlcihlLnZlcnNpb24pPj0xNHx8ISEoXCJDaHJvbWVcIj09PWUubmFtZSYmL1dpbmRvd3MvaS50ZXN0KGUub3N8fFwiXCIpJiZOdW1iZXIoZS52ZXJzaW9uKT49MTAwJiZrQyhcIkNIUk9NRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkdcIikpfSgpLFdDLmluZm8oXCJicm93c2VyIGNvbXBhdGliaWxpdHlcIixKU09OLnN0cmluZ2lmeShsQSksSlNPTi5zdHJpbmdpZnkoZSkpfSkpfSgpLGZ1bmN0aW9uKCl7bGV0IGU7dHJ5e2U9d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwid2Vic2RrX25nX2dsb2JhbF9wYXJhbWV0ZXJcIil9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgV0MuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHNkayBjb25maWdcIixlLm1lc3NhZ2UpfWlmKGUpdHJ5e2NvbnN0IHQ9SlNPTi5wYXJzZSh3aW5kb3cuYXRvYihlKSksaT1EYXRlLm5vdygpO1dDLmRlYnVnKFwiTG9hZGluZyBnbG9iYWwgcGFyYW1ldGVycyBmcm9tIGNhY2hlXCIsdCksT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZT0+e2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChQQyxlKSl7Y29uc3R7dmFsdWU6bixleHBpcmVzOnJ9PXRbZV07aWYociYmcjw9aSlyZXR1cm47TUNbZV09bixQQ1tlXT1ufX0pKX1jYXRjaCh0KXtXQy5lcnJvcihcIkVycm9yIGxvYWRpbmcgbXV0YWJsZVBhcmFtc0NhY2hlOiBcIi5jb25jYXQoZSksdC5tZXNzYWdlKX19KCksQXJyYXkuaXNBcnJheShNQy5BUkVBUykmJk1DLkFSRUFTLmxlbmd0aD4wJiZIRChNQy5BUkVBUywhMCk7Y29uc3QgUU09ZnVuY3Rpb24oZSl7Y29uc3QgdD1uZXcgaVMsaT1lLG49e2dldExpc3RlbmVyczp0LmdldExpc3RlbmVycy5iaW5kKHQpLG9uOihlLGkpPT4oZnVuY3Rpb24oZSx0KXtlPT09UkkuU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTiYmWE0odCwhMCl9KGUsaSksdC5vbi5iaW5kKHQpKGUsaSkpLGFkZExpc3RlbmVyOnQuYWRkTGlzdGVuZXIuYmluZCh0KSxvbmNlOnQub25jZS5iaW5kKHQpLG9mZjp0Lm9mZi5iaW5kKHQpLHJlbW92ZUFsbExpc3RlbmVyczp0LnJlbW92ZUFsbExpc3RlbmVycy5iaW5kKHQpLGVtaXQ6dC5lbWl0LmJpbmQodCksc2FmZUVtaXQ6dC5zYWZlRW1pdC5iaW5kKHQpfTtyZXR1cm4gSk0oSk0oe30saSksbil9KHtfX1RSQUNLX0xJU1RfXzp3eSxWRVJTSU9OOk9DLEJVSUxEOkRDLEVTTV9CVU5ETEVSOiExLEVTTTohMSxVTUQ6ITAsREVWOiExLHNldFBhcmFtZXRlcjooZSx0LGkpPT57V0MuZGVidWcoXCJzZXRQYXJhbWV0ZXIga2V5OlwiLmNvbmNhdChlLFwiLCB2YWx1ZTpcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpKSksTEMoZSx0LGkpfSxnZXRQYXJhbWV0ZXI6a0MsZ2V0U3VwcG9ydGVkQ29kZWM6YXN5bmMgZnVuY3Rpb24oKXtsZXQgZT17YXVkaW86W10sdmlkZW86W119O3RyeXtsZXQgdD1uZXcgUlRDUGVlckNvbm5lY3Rpb247dC5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KSx0LmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pO2NvbnN0IGk9KGF3YWl0IHQuY3JlYXRlT2ZmZXIoKSkuc2RwO2lmKCFpKXJldHVybiBlO3QuY2xvc2UoKSx0PW51bGwsZT1mdW5jdGlvbihlKXtjb25zdCB0PXt2aWRlbzpbXSxhdWRpbzpbXX07cmV0dXJuIGUubWF0Y2goLyBWUDgvaSkmJnQudmlkZW8ucHVzaChcIlZQOFwiKSxlLm1hdGNoKC8gVlA5L2kpJiZ0LnZpZGVvLnB1c2goXCJWUDlcIiksZS5tYXRjaCgvIEFWMS9pKSYmdC52aWRlby5wdXNoKFwiQVYxXCIpLGUubWF0Y2goLyBIMjY0L2kpJiZ0LnZpZGVvLnB1c2goXCJIMjY0XCIpLGUubWF0Y2goLyBIMjY1L2kpJiZ0LnZpZGVvLnB1c2goXCJIMjY1XCIpLGUubWF0Y2goLyBvcHVzL2kpJiZ0LmF1ZGlvLnB1c2goXCJPUFVTXCIpLGUubWF0Y2goLyBQQ01VL2kpJiZ0LmF1ZGlvLnB1c2goXCJQQ01VXCIpLGUubWF0Y2goLyBQQ01BL2kpJiZ0LmF1ZGlvLnB1c2goXCJQQ01BXCIpLGUubWF0Y2goLyBHNzIyL2kpJiZ0LmF1ZGlvLnB1c2goXCJHNzIyXCIpLHR9KGkpfWNhdGNoKGUpe3Rocm93IG5ldyBNdih4Zy5DUkVBVEVfT0ZGRVJfRkFJTEVELGUudG9TdHJpbmcmJmUudG9TdHJpbmcoKSkucHJpbnQoKX1yZXR1cm4gZX0sY2hlY2tTeXN0ZW1SZXF1aXJlbWVudHM6ZnVuY3Rpb24oKXtjb25zdCBlPWl2LnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOnNTLkNIRUNLX1NZU1RFTV9SRVFVSVJFTUVOVFMsb3B0aW9uczpbXSx0YWc6b1MuVFJBQ0VSfSk7bGV0IHQ9ITE7dHJ5e2NvbnN0IGU9d2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLGk9bmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEsbj13aW5kb3cuV2ViU29ja2V0O3Q9ISEoZSYmaSYmbil9Y2F0Y2goZSl7cmV0dXJuIFdDLmVycm9yKFwiY2hlY2sgc3lzdGVtIHJlcXVpcmVtZW50IGZhaWxlZDogXCIsZSksITF9bGV0IGk9ITE7Y29uc3Qgbj1wZygpO24ubmFtZT09PWNnLkNIUk9NRSYmTnVtYmVyKG4udmVyc2lvbik+PTU4JiYoIWdnKCl8fGZnKCkpJiYoaT0hMCksbi5uYW1lPT09Y2cuRklSRUZPWCYmTnVtYmVyKG4udmVyc2lvbik+PTU2JiYoaT0hMCksbi5uYW1lPT09Y2cuT1BFUkEmJk51bWJlcihuLnZlcnNpb24pPj00NSYmKGk9ITApLG4ubmFtZT09PWNnLlNBRkFSSSYmTnVtYmVyKG4udmVyc2lvbik+PTExJiYoaT0hMCksKFBnKCl8fHBnKCkubmFtZT09PWNnLlFRKSYmKGk9ITApLFdDLmRlYnVnKFwiY2hlY2tTeXN0ZW1SZXF1aXJlbWVudHMsIGFwaTpcIix0LFwiYnJvd3NlclwiLGkpO2NvbnN0IHI9dCYmaTtyZXR1cm4gZS5vblN1Y2Nlc3Mocikscn0sZ2V0RGV2aWNlczpmdW5jdGlvbihlKXtyZXR1cm4gQUEuZW51bWVyYXRlRGV2aWNlcyghMCwhMCxlKX0sZ2V0TWljcm9waG9uZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIEFBLmdldFJlY29yZGluZ0RldmljZXMoZSl9LGdldENhbWVyYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIEFBLmdldENhbWVyYXNEZXZpY2VzKGUpfSxnZXRFbGVjdHJvblNjcmVlblNvdXJjZXM6ZkEsZ2V0UGxheWJhY2tEZXZpY2VzOmZ1bmN0aW9uKGUpe3JldHVybiBBQS5nZXRTcGVha2VycyhlKX0sY3JlYXRlQ2xpZW50OmZ1bmN0aW9uKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOntjb2RlYzpcInZwOFwiLGF1ZGlvQ29kZWM6XCJvcHVzXCIsbW9kZTpcInJ0Y1wifTtjb25zdCB0PWl2LnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOnNTLkNSRUFURV9DTElFTlQsb3B0aW9uczpbZV0sdGFnOm9TLlRSQUNFUn0pO3RyeXshZnVuY3Rpb24oZSl7QmcoZS5jb2RlYyxcImNvbmZpZy5jb2RlY1wiLFtcInZwOFwiLFwidnA5XCIsXCJhdjFcIixcImgyNjRcIixcImgyNjVcIl0pLEJnKGUubW9kZSxcImNvbmZpZy5tb2RlXCIsW1wicnRjXCIsXCJsaXZlXCJdKSx2b2lkIDAhPT1lLmF1ZGlvQ29kZWMmJkJnKGUuYXVkaW9Db2RlYyxcImNvbmZpZy5hdWRpb0NvZGVjXCIsW1wib3B1c1wiLFwicGNtdVwiLFwicGNtYVwiLFwiZzcyMlwiXSksdm9pZCAwIT09ZS5wcm94eVNlcnZlciYmV2coZS5wcm94eVNlcnZlcixcImNvbmZpZy5wcm94eVNlcnZlclwiLDEsMWU0KSx2b2lkIDAhPT1lLnR1cm5TZXJ2ZXImJkVTKGUudHVyblNlcnZlciksdm9pZCAwIT09ZS5odHRwUmV0cnlDb25maWcmJnBTKGUuaHR0cFJldHJ5Q29uZmlnKSx2b2lkIDAhPT1lLndlYnNvY2tldFJldHJ5Q29uZmlnJiZwUyhlLndlYnNvY2tldFJldHJ5Q29uZmlnKX0oZSl9Y2F0Y2goZSl7dGhyb3cgdC5vbkVycm9yKGUpLGV9cmV0dXJuIHZvaWQgMD09PWUuYXVkaW9Db2RlYyYmKGUuYXVkaW9Db2RlYz1cIm9wdXNcIiksdC5vblN1Y2Nlc3MoKSxuZXcgak0oQk0oQk0oe2ZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZTohMH0sZSkse30se3JvbGU6XCJydGNcIj09PWUubW9kZT9cImhvc3RcIjplLnJvbGV8fFwiYXVkaWVuY2VcIn0pKX0sY3JlYXRlQ2FtZXJhVmlkZW9UcmFjazphc3luYyBmdW5jdGlvbigpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtjb25zdCB0PWl2LnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6b1MuVFJBQ0VSLG5hbWU6c1MuQ1JFQVRFX0NBTV9WSURFT19UUkFDSyxvcHRpb25zOltUYih7fSxlKV19KSxpPSRBKGUpLG49eFMoOCxcInRyYWNrLWNhbS1cIik7bGV0IHI9bnVsbDtXQy5pbmZvKFwic3RhcnQgY3JlYXRlIGNhbWVyYSB2aWRlbyB0cmFjayB3aXRoIGNvbmZpZ1wiLEpTT04uc3RyaW5naWZ5KGUpLFwidHJhY2tJZFwiLG4pO3RyeXtyPShhd2FpdCBDQSh7dmlkZW86aX0sbikpLmdldFZpZGVvVHJhY2tzKClbMF18fG51bGx9Y2F0Y2goZSl7dGhyb3cgdC5vbkVycm9yKGUpLGV9aWYoIXIpe2NvbnN0IGU9bmV3IFZnKHhnLlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgdHJhY2sgaW4gbWVkaWEgc3RyZWFtXCIpO3JldHVybiB0Lm9uRXJyb3IoZSksZS50aHJvdyhXQyl9ZS5vcHRpbWl6YXRpb25Nb2RlJiZSYihuLHIsZSx2eShlLmVuY29kZXJDb25maWcpKTtjb25zdCBzPW5ldyBnYihyLGUsaSxlLnNjYWxhYmlsdHlNb2RlP3l5KGUuc2NhbGFiaWx0eU1vZGUpOntudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0sZS5vcHRpbWl6YXRpb25Nb2RlLG4pO3JldHVybiB0Lm9uU3VjY2VzcyhzLmdldFRyYWNrSWQoKSksV0MuaW5mbyhcImNyZWF0ZSBjYW1lcmEgdmlkZW8gc3VjY2VzcywgdHJhY2tJZDpcIixuKSxzfSxjcmVhdGVDdXN0b21WaWRlb1RyYWNrOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9aXYucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpvUy5UUkFDRVIsbmFtZTpzUy5DUkVBVEVfQ1VTVE9NX1ZJREVPX1RSQUNLLG9wdGlvbnM6W2VdfSksaT1uZXcgZmIoZS5tZWRpYVN0cmVhbVRyYWNrLHt3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCxmcmFtZVJhdGU6ZS5mcmFtZVJhdGUsYml0cmF0ZU1heDplLmJpdHJhdGVNYXgsYml0cmF0ZU1pbjplLmJpdHJhdGVNaW59LGUuc2NhbGFiaWx0eU1vZGU/eXkoZS5zY2FsYWJpbHR5TW9kZSk6e251bVNwYXRpYWxMYXllcnM6MSxudW1UZW1wb3JhbExheWVyczoxfSxlLm9wdGltaXphdGlvbk1vZGUseFMoOCxcInRyYWNrLWN1cy1cIiksW0R5LkNVU1RPTV9UUkFDS10pO3JldHVybiB0Lm9uU3VjY2VzcyhpLmdldFRyYWNrSWQoKSksV0MuaW5mbyhcImNyZWF0ZSBjdXN0b20gdmlkZW8gdHJhY2sgc3VjY2VzcyB3aXRoIGNvbmZpZ1wiLGUsXCJ0cmFja0lkXCIsaS5nZXRUcmFja0lkKCkpLGl9LGNyZWF0ZVNjcmVlblZpZGVvVHJhY2s6YXN5bmMgZnVuY3Rpb24oKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJkaXNhYmxlXCI7Y29uc3QgaT1pdi5yZXBvcnRBcGlJbnZva2UobnVsbCx7dGFnOm9TLlRSQUNFUixuYW1lOnNTLkNSRUFURV9TQ1JFRU5fVklERU9fVFJBQ0ssb3B0aW9uczpbVGIoe30sZSksdF19KTtlLmVuY29kZXJDb25maWc/XCJzdHJpbmdcIj09dHlwZW9mIGUuZW5jb2RlckNvbmZpZ3x8ZS5lbmNvZGVyQ29uZmlnLndpZHRoJiZlLmVuY29kZXJDb25maWcuaGVpZ2h0fHwoZS5lbmNvZGVyQ29uZmlnLndpZHRoPXttYXg6MTkyMH0sZS5lbmNvZGVyQ29uZmlnLmhlaWdodD17bWF4OjEwODB9KTplLmVuY29kZXJDb25maWc9XCIxMDgwcF8yXCI7Y29uc3Qgbj1mdW5jdGlvbihlKXtjb25zdCB0PXt9O2Uuc2NyZWVuU291cmNlVHlwZSYmKHQubWVkaWFTb3VyY2U9ZS5zY3JlZW5Tb3VyY2VUeXBlKSxlLmV4dGVuc2lvbklkJiZTZygpJiYodC5leHRlbnNpb25JZD1lLmV4dGVuc2lvbklkKTtjb25zdHtkaXNwbGF5U3VyZmFjZTppLHNlbGZCcm93c2VyU3VyZmFjZTpuLHN1cmZhY2VTd2l0Y2hpbmc6cixzeXN0ZW1BdWRpbzpzfT1lOyh2ZygxMDcpfHxJZygxMDcpfHx5Zyg5MykpJiYoaSYmKEJnKGksXCJkaXNwbGF5U3VyZmFjZVwiLFtcImJyb3dzZXJcIixcIndpbmRvd1wiLFwibW9uaXRvclwiXSksdC5kaXNwbGF5U3VyZmFjZT1pKSxuPyhCZyhuLFwic2VsZkJyb3dzZXJTdXJmYWNlXCIsW1wiZXhjbHVkZVwiLFwiaW5jbHVkZVwiXSksdC5zZWxmQnJvd3NlclN1cmZhY2U9bik6dC5zZWxmQnJvd3NlclN1cmZhY2U9XCJpbmNsdWRlXCIsciYmKEJnKHIsXCJzdXJmYWNlU3dpdGNoaW5nXCIsW1wiZXhjbHVkZVwiLFwiaW5jbHVkZVwiXSksdC5zdXJmYWNlU3dpdGNoaW5nPXIpKSwodmcoMTA1KXx8SWcoMTA1KXx8eWcoOTEpKSYmcyYmKEJnKHMsXCJzeXN0ZW1BdWRpb1wiLFtcImV4Y2x1ZGVcIixcImluY2x1ZGVcIl0pLHQuc3lzdGVtQXVkaW89cyksZS5lbGVjdHJvblNjcmVlblNvdXJjZUlkJiYodC5zb3VyY2VJZD1lLmVsZWN0cm9uU2NyZWVuU291cmNlSWQpO2NvbnN0IG89ZS5lbmNvZGVyQ29uZmlnP0l5KGUuZW5jb2RlckNvbmZpZyk6bnVsbDtyZXR1cm4gdC5tYW5kYXRvcnk9e2Nocm9tZU1lZGlhU291cmNlOlwiZGVza3RvcFwiLG1heFdpZHRoOm8/by53aWR0aDp2b2lkIDAsbWF4SGVpZ2h0Om8/by5oZWlnaHQ6dm9pZCAwfSxvJiYoby5mcmFtZVJhdGUmJihcIm51bWJlclwiPT10eXBlb2Ygby5mcmFtZVJhdGU/KHQubWFuZGF0b3J5Lm1heEZyYW1lUmF0ZT1vLmZyYW1lUmF0ZSx0Lm1hbmRhdG9yeS5taW5GcmFtZVJhdGU9by5mcmFtZVJhdGUpOih0Lm1hbmRhdG9yeS5tYXhGcmFtZVJhdGU9by5mcmFtZVJhdGUubWF4fHxvLmZyYW1lUmF0ZS5pZGVhbHx8by5mcmFtZVJhdGUuZXhhY3R8fHZvaWQgMCx0Lm1hbmRhdG9yeS5taW5GcmFtZVJhdGU9by5mcmFtZVJhdGUubWlufHxvLmZyYW1lUmF0ZS5pZGVhbHx8by5mcmFtZVJhdGUuZXhhY3R8fHZvaWQgMCksdC5mcmFtZVJhdGU9by5mcmFtZVJhdGUpLG8ud2lkdGgmJih0LndpZHRoPW8ud2lkdGgpLG8uaGVpZ2h0JiYodC5oZWlnaHQ9by5oZWlnaHQpKSx0fShlKSxyPXhTKDgsXCJ0cmFjay1zY3Itdi1cIik7bGV0IHM9bnVsbCxvPW51bGw7Y29uc3QgYT1oQSgpO2lmKCFhLnN1cHBvcnRTaGFyZUF1ZGlvJiZcImVuYWJsZVwiPT09dCl7Y29uc3QgZT1uZXcgVmcoeGcuTk9UX1NVUFBPUlRFRCxcInlvdXIgYnJvd3NlciBvciBwbGF0Zm9ybSBpcyBub3Qgc3VwcG9ydCBzaGFyZS1zY3JlZW4gd2l0aCBhdWRpb1wiKTtyZXR1cm4gaS5vbkVycm9yKGUpLGUudGhyb3coV0MpfVdDLmluZm8oXCJzdGFydCBjcmVhdGUgc2NyZWVuIHZpZGVvIHRyYWNrIHdpdGggY29uZmlnXCIsZSxcIndpdGhBdWRpb1wiLHQsXCJ0cmFja0lkXCIscik7dHJ5e2NvbnN0IGU9YXdhaXQgQ0Eoe3NjcmVlbjpuLHNjcmVlbkF1ZGlvOlwiYXV0b1wiPT09dD9hLnN1cHBvcnRTaGFyZUF1ZGlvOlwiZW5hYmxlXCI9PT10fSxyKTtzPWUuZ2V0VmlkZW9UcmFja3MoKVswXXx8bnVsbCxvPWUuZ2V0QXVkaW9UcmFja3MoKVswXXx8bnVsbH1jYXRjaChlKXt0aHJvdyBpLm9uRXJyb3IoZSksZX1pZighcyl7Y29uc3QgZT1uZXcgVmcoeGcuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCB0cmFjayBpbiBtZWRpYSBzdHJlYW1cIik7cmV0dXJuIGkub25FcnJvcihlKSxlLnRocm93KFdDKX1pZighbyYmXCJlbmFibGVcIj09PXQpe3MmJnMuc3RvcCgpO2NvbnN0IGU9bmV3IFZnKHhnLlNIQVJFX0FVRElPX05PVF9BTExPV0VEKTtyZXR1cm4gaS5vbkVycm9yKGUpLGUudGhyb3coV0MpfWlmKGUub3B0aW1pemF0aW9uTW9kZXx8KGUub3B0aW1pemF0aW9uTW9kZT1cImRldGFpbFwiKSxlLm9wdGltaXphdGlvbk1vZGUpe1JiKHIscyxlLGUuZW5jb2RlckNvbmZpZyYmSXkoZS5lbmNvZGVyQ29uZmlnKXx8dm9pZCAwKSxlLmVuY29kZXJDb25maWcmJlwic3RyaW5nXCIhPXR5cGVvZiBlLmVuY29kZXJDb25maWcmJihlLmVuY29kZXJDb25maWcuYml0cmF0ZU1pbj1lLmVuY29kZXJDb25maWcuYml0cmF0ZU1heCl9Y29uc3QgYz1uZXcgZmIocyxlLmVuY29kZXJDb25maWc/SXkoZS5lbmNvZGVyQ29uZmlnKTp7fSxlLnNjYWxhYmlsdHlNb2RlP3l5KGUuc2NhbGFiaWx0eU1vZGUpOntudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0sZS5vcHRpbWl6YXRpb25Nb2RlLHIsW0R5LlNDUkVFTl9UUkFDS10pO2lmKCFvKXJldHVybiBpLm9uU3VjY2VzcyhjLmdldFRyYWNrSWQoKSksV0MuaW5mbyhcImNyZWF0ZSBzY3JlZW4gdmlkZW8gdHJhY2sgc3VjY2Vzc1wiLFwidmlkZW86XCIsYy5nZXRUcmFja0lkKCkpLGM7Y29uc3QgZD1uZXcgekEobyx2b2lkIDAseFMoOCxcInRyYWNrLXNjci1hLVwiKSwhMSwhMCk7cmV0dXJuIGkub25TdWNjZXNzKFtjLmdldFRyYWNrSWQoKSxkLmdldFRyYWNrSWQoKV0pLFdDLmluZm8oXCJjcmVhdGUgc2NyZWVuIHZpZGVvIHRyYWNrIHN1Y2Nlc3NcIixcInZpZGVvOlwiLGMuZ2V0VHJhY2tJZCgpLFwiYXVkaW86XCIsZC5nZXRUcmFja0lkKCkpLFtjLGRdfSxjcmVhdGVNaWNyb3Bob25lQW5kQ2FtZXJhVHJhY2tzOmFzeW5jIGZ1bmN0aW9uKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2NvbnN0IGk9aXYucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpvUy5UUkFDRVIsbmFtZTpzUy5DUkVBVEVfTUlDX0FORF9DQU1fVFJBQ0tTLG9wdGlvbnM6W2UsdF19KSxuPSRBKHQpLHI9ZWIoZSkscz14Uyg4LFwidHJhY2stbWljLVwiKSxvPXhTKDgsXCJ0cmFjay1jYW0tXCIpO2xldCBhPW51bGwsYz1udWxsO1dDLmluZm8oXCJzdGFydCBjcmVhdGUgY2FtZXJhIHZpZGVvIHRyYWNrKFwiLmNvbmNhdChvLFwiKSBhbmQgbWljcm9waG9uZSBhdWRpbyB0cmFjayhcIikuY29uY2F0KHMsXCIpIHdpdGggY29uZmlnLCBhdWRpbzogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSxcIiwgdmlkZW86IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpKTt0cnl7Y29uc3QgZT1hd2FpdCBDQSh7YXVkaW86cix2aWRlbzpufSxcIlwiLmNvbmNhdChzLFwiLVwiKS5jb25jYXQobykpO2E9ZS5nZXRBdWRpb1RyYWNrcygpWzBdLGM9ZS5nZXRWaWRlb1RyYWNrcygpWzBdfWNhdGNoKGUpe3Rocm93IGkub25FcnJvcihlKSxlfWlmKCFhfHwhYyl7Y29uc3QgZT1uZXcgVmcoeGcuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCB0cmFja3MgaW4gbWVkaWEgc3RyZWFtXCIpO3JldHVybiBpLm9uRXJyb3IoZSksZS50aHJvdyhXQyl9dC5vcHRpbWl6YXRpb25Nb2RlJiZSYihvLGMsdCx2eSh0LmVuY29kZXJDb25maWcpKTtjb25zdCBkPW5ldyBYQShhLGUscixzKSxsPW5ldyBnYihjLHQsbix0LnNjYWxhYmlsdHlNb2RlP3l5KHQuc2NhbGFiaWx0eU1vZGUpOntudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0sdC5vcHRpbWl6YXRpb25Nb2RlLG8pO3JldHVybiBpLm9uU3VjY2VzcyhbZC5nZXRUcmFja0lkKCksbC5nZXRUcmFja0lkKCldKSxXQy5pbmZvKFwiY3JlYXRlIGNhbWVyYSB2aWRlbyB0cmFjayhcIi5jb25jYXQobyxcIikgYW5kIG1pY3JvcGhvbmUgYXVkaW8gdHJhY2soXCIpLmNvbmNhdChzLFwiKSBzdWNjZXNzXCIpKSxbZCxsXX0sY3JlYXRlTWljcm9waG9uZUF1ZGlvVHJhY2s6YXN5bmMgZnVuY3Rpb24oKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307Y29uc3QgdD1pdi5yZXBvcnRBcGlJbnZva2UobnVsbCx7dGFnOm9TLlRSQUNFUixuYW1lOnNTLkNSRUFURV9NSUNfQVVESU9fVFJBQ0ssb3B0aW9uczpbZV19KSxpPWViKGUpLG49eFMoOCxcInRyYWNrLW1pYy1cIik7bGV0IHI9bnVsbDtXQy5pbmZvKFwic3RhcnQgY3JlYXRlIG1pY3JvcGhvbmUgYXVkaW8gdHJhY2sgd2l0aCBjb25maWdcIixKU09OLnN0cmluZ2lmeShlKSxcInRyYWNrSWRcIixuKTt0cnl7cj0oYXdhaXQgQ0Eoe2F1ZGlvOml9LG4pKS5nZXRBdWRpb1RyYWNrcygpWzBdfHxudWxsfWNhdGNoKGUpe3Rocm93IHQub25FcnJvcihlKSxlfWlmKCFyKXtjb25zdCBlPW5ldyBWZyh4Zy5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHRyYWNrIGluIG1lZGlhIHN0cmVhbVwiKTtyZXR1cm4gdC5vbkVycm9yKGUpLGUudGhyb3coV0MpfWNvbnN0IHM9bmV3IFhBKHIsZSxpLG4pO3JldHVybiB0Lm9uU3VjY2VzcyhzLmdldFRyYWNrSWQoKSksV0MuaW5mbyhcImNyZWF0ZSBtaWNyb3Bob25lIGF1ZGlvIHRyYWNrIHN1Y2Nlc3MsIHRyYWNrSWQ6XCIsbiksc30sY3JlYXRlQ3VzdG9tQXVkaW9UcmFjazpmdW5jdGlvbihlKXtjb25zdCB0PWl2LnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6b1MuVFJBQ0VSLG5hbWU6c1MuQ1JFQVRFX0NVU1RPTV9BVURJT19UUkFDSyxvcHRpb25zOltlXX0pLGk9bmV3IHpBKGUubWVkaWFTdHJlYW1UcmFjayxlLmVuY29kZXJDb25maWc/YnkoZS5lbmNvZGVyQ29uZmlnKTp7fSx4Uyg4LFwidHJhY2stY3VzLVwiKSwhMSwhMCk7cmV0dXJuIFdDLmluZm8oXCJjcmVhdGUgY3VzdG9tIGF1ZGlvIHRyYWNrIHN1Y2Nlc3Mgd2l0aCBjb25maWdcIixlLFwidHJhY2tJZFwiLGkuZ2V0VHJhY2tJZCgpKSx0Lm9uU3VjY2VzcyhpLmdldFRyYWNrSWQoKSksaX0sY3JlYXRlQnVmZmVyU291cmNlQXVkaW9UcmFjazphc3luYyBmdW5jdGlvbihlKXt2YXIgdDtjb25zdHtjYWNoZU9ubGluZUZpbGU6aSxlbmNvZGVyQ29uZmlnOm59PWU7bGV0e3NvdXJjZTpyfT1lO2NvbnN0IHM9e3NvdXJjZTpyIGluc3RhbmNlb2YgQXVkaW9CdWZmZXI/XCJBdWRpb0J1ZmZlclwiOnIgaW5zdGFuY2VvZiBGaWxlP251bGwhPT0odD1GaWxlLm5hbWUpJiZ2b2lkIDAhPT10P3Q6XCJGaWxlXCI6cixjYWNoZU9ubGluZUZpbGU6aSxlbmNvZGVyQ29uZmlnOm59LG89aXYucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpvUy5UUkFDRVIsbmFtZTpzUy5DUkVBVEVfQlVGRkVSX0FVRElPX1RSQUNLLG9wdGlvbnM6W3NdfSk7aWYoa0MoXCJESVNBQkxFX1dFQkFVRElPXCIpKXRocm93IG5ldyBWZyh4Zy5OT1RfU1VQUE9SVEVELFwiY2FuIG5vdCBjcmVhdGUgQnVmZmVyU291cmNlQXVkaW9UcmFjayB3aGVuIFdlYkF1ZGlvIGRpc2FibGVkXCIpO2NvbnN0IGE9eFMoOCxcInRyYWNrLWJ1Zi1cIik7V0MuaW5mbyhcInN0YXJ0IGNyZWF0ZSBidWZmZXIgc291cmNlIGF1ZGlvIHRyYWNrIHdpdGggY29uZmlnXCIsSlNPTi5zdHJpbmdpZnkocyksXCJ0cmFja0lkXCIsYSk7Y29uc3QgYz1yO2lmKCEociBpbnN0YW5jZW9mIEF1ZGlvQnVmZmVyKSl0cnl7cj1hd2FpdCBuYihyLGkpfWNhdGNoKGUpe3JldHVybiBvLm9uRXJyb3IoZSksZS50aHJvdyhXQyl9Y29uc3QgZD1uZXcgdGIociksbD1uZXcgUUEoYyxkLG4/Ynkobik6e30sYSk7cmV0dXJuIFdDLmluZm8oXCJjcmVhdGUgYnVmZmVyIHNvdXJjZSBhdWRpbyB0cmFjayBzdWNjZXNzLCB0cmFja0lkOlwiLGEpLG8ub25TdWNjZXNzKGwuZ2V0VHJhY2tJZCgpKSxsfSxzZXRBcHBUeXBlOmZ1bmN0aW9uKGUpe2lmKFdDLmRlYnVnKFwic2V0QXBwVHlwZTogXCIuY29uY2F0KGUpKSwhKE51bWJlci5pc0ludGVnZXIoZSkmJmU+PTApKXRocm93IFdDLmRlYnVnKFwiSW52YWxpZCBhcHBUeXBlXCIpLG5ldyBNdih4Zy5JTlZBTElEX1BBUkFNUyxcImludmFsaWQgYXBwIHR5cGVcIixlKTtMQyhcIkFQUF9UWVBFXCIsTWF0aC5mbG9vcihlKSl9LHNldExvZ0xldmVsOmZ1bmN0aW9uKGUpe1dDLnNldExvZ0xldmVsKGUpfSxlbmFibGVMb2dVcGxvYWQ6ZnVuY3Rpb24oKXtrQyhcIlVTRV9ORVdfTE9HXCIpP0xDKFwiVVBMT0FEX0xPR1wiLCEwKTpXQy5lbmFibGVMb2dVcGxvYWQoKX0sZGlzYWJsZUxvZ1VwbG9hZDpmdW5jdGlvbigpe2tDKFwiVVNFX05FV19MT0dcIik/TEMoXCJVUExPQURfTE9HXCIsITEpOldDLmRpc2FibGVMb2dVcGxvYWQoKX0sY3JlYXRlQ2hhbm5lbE1lZGlhUmVsYXlDb25maWd1cmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB2UH0sY2hlY2tBdWRpb1RyYWNrSXNBY3RpdmU6YXN5bmMgZnVuY3Rpb24oZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjVlMztjb25zdCBpPWl2LnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6b1MuVFJBQ0VSLG5hbWU6c1MuQ0hFQ0tfQVVESU9fVFJBQ0tfSVNfQUNUSVZFLG9wdGlvbnM6W3RdfSk7aWYoIShlIGluc3RhbmNlb2YgekF8fGUgaW5zdGFuY2VvZiBBYikpe2NvbnN0IGU9bmV3IE12KHhnLklOVkFMSURfVFJBQ0ssXCJ0aGUgcGFyYW1ldGVyIGlzIG5vdCBhIGF1ZGlvIHRyYWNrXCIpO3JldHVybiBpLm9uRXJyb3IoZSksZS50aHJvdygpfXQmJnQ8MWUzJiYodD0xZTMpO2NvbnN0IG49ZSBpbnN0YW5jZW9mIHpBP2UuZ2V0VHJhY2tMYWJlbCgpOlwicmVtb3RlX3RyYWNrXCIscj1lLmdldFZvbHVtZUxldmVsKCk7bGV0IHM9cixvPXI7Y29uc3QgYT1EYXRlLm5vdygpO3JldHVybiBuZXcgdGcoKHI9Pntjb25zdCBjPXNldEludGVydmFsKCgoKT0+e2NvbnN0IGQ9ZS5nZXRWb2x1bWVMZXZlbCgpO3M9ZD5zP2Q6cyxvPWQ8bz9kOm87Y29uc3QgbD1zLW8+MWUtNCxoPURhdGUubm93KCktYTtpZihsfHxoPnQpe2NsZWFySW50ZXJ2YWwoYyk7Y29uc3QgdD1sLG89e2R1cmF0aW9uOmgsZGV2aWNlTGFiZWw6bixtYXhWb2x1bWVMZXZlbDpzLHJlc3VsdDp0fTtXQy5pbmZvKFwiW3RyYWNrLVwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gY2hlY2sgYXVkaW8gdHJhY2sgYWN0aXZlIGNvbXBsZXRlZC4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShvKSkpLGkub25TdWNjZXNzKG8pLHIodCl9fSksMjAwKX0pKX0sY2hlY2tWaWRlb1RyYWNrSXNBY3RpdmU6YXN5bmMgZnVuY3Rpb24oZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjVlMztjb25zdCBpPWl2LnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6b1MuVFJBQ0VSLG5hbWU6c1MuQ0hFQ0tfVklERU9fVFJBQ0tfSVNfQUNUSVZFLG9wdGlvbnM6W3RdfSk7aWYoIShlIGluc3RhbmNlb2YgZmJ8fGUgaW5zdGFuY2VvZiB5Yikpe2NvbnN0IGU9bmV3IE12KHhnLklOVkFMSURfVFJBQ0ssXCJ0aGUgcGFyYW1ldGVyIGlzIG5vdCBhIHZpZGVvIHRyYWNrXCIpO3JldHVybiBpLm9uRXJyb3IoZSksZS50aHJvdygpfXQmJnQ8MWUzJiYodD0xZTMpO2NvbnN0IG49ZSBpbnN0YW5jZW9mIGZiP2UuZ2V0VHJhY2tMYWJlbCgpOlwicmVtb3RlX3RyYWNrXCIscj1lLmdldE1lZGlhU3RyZWFtVHJhY2soITApLHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO3Muc3R5bGUud2lkdGg9XCIxcHhcIixzLnN0eWxlLmhlaWdodD1cIjFweFwiLHMuc2V0QXR0cmlidXRlKFwibXV0ZWRcIixcIlwiKSxzLm11dGVkPSEwLHMuc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSxzLmNvbnRyb2xzPSExLChUZygpfHxtZygpKSYmKHMuc3R5bGUub3BhY2l0eT1cIjAuMDFcIixzLnN0eWxlLnBvc2l0aW9uPVwiZml4ZWRcIixzLnN0eWxlLmxlZnQ9XCIwXCIscy5zdHlsZS50b3A9XCIwXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKSkscy5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFtyXSkscy5wbGF5KCk7Y29uc3Qgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO28ud2lkdGg9MTYwLG8uaGVpZ2h0PTEyMDtsZXQgYT0wLGM9MDt0cnl7Y29uc3QgZT1EYXRlLm5vdygpO2E9YXdhaXQgZnVuY3Rpb24oZSx0LGksbil7bGV0IHIscz0wLG89bnVsbDtyZXR1cm4gbmV3IHRnKCgoYSxjKT0+e2Z1bmN0aW9uIGQoKXtzPm4mJnImJihyKCksYShzKSk7Y29uc3QgdD1pLmdldENvbnRleHQoXCIyZFwiKTtpZighdCl7Y29uc3QgZT1uZXcgTXYoeGcuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZ2V0IGNhbnZhcyAyZCBjb250ZXh0LlwiKTtyZXR1cm4gV0MuZXJyb3IoZS50b1N0cmluZygpKSx2b2lkIGMoZSl9dC5kcmF3SW1hZ2UoZSwwLDAsMTYwLDEyMCk7Y29uc3QgZD10LmdldEltYWdlRGF0YSgwLDAsaS53aWR0aCxpLmhlaWdodCksbD1NYXRoLmZsb29yKGQuZGF0YS5sZW5ndGgvMyk7aWYobyl7Zm9yKGxldCBlPTA7ZTxsO2UrPTMpaWYoZC5kYXRhW2VdIT09b1tlXSlyZXR1cm4gcys9MSx2b2lkKG89ZC5kYXRhKTtvPWQuZGF0YX1lbHNlIG89ZC5kYXRhfXNldFRpbWVvdXQoKCgpPT57ciYmKHIoKSxhKHMpKX0pLHQpLHI9ZEEoKCgpPT57ZCgpfSksMzApfSkpfShzLHQsbyw0KSxjPURhdGUubm93KCktZX1jYXRjaChlKXt0aHJvdyBpLm9uRXJyb3IoZSksZX1HTT09PWNnLlNBRkFSSSYmKHMucGF1c2UoKSxzLnJlbW92ZSgpKSxzLnNyY09iamVjdD1udWxsO2NvbnN0IGQ9YT40LGw9e2R1cmF0aW9uOmMsY2hhbmdlZFBpY051bTphLGRldmljZUxhYmVsOm4scmVzdWx0OmR9O3JldHVybiBXQy5pbmZvKFwiW3RyYWNrLVwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gY2hlY2sgdmlkZW8gdHJhY2sgYWN0aXZlIGNvbXBsZXRlZC4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShsKSkpLGkub25TdWNjZXNzKGwpLGR9LHNldEFyZWE6SEQsYXVkaW9FbGVtZW50UGxheUNlbnRlcjprQSxwcm9jZXNzRXh0ZXJuYWxNZWRpYUFFQzpmdW5jdGlvbihlKXtZTS5wcm9jZXNzRXh0ZXJuYWxNZWRpYUFFQyhlKX0scmVnaXN0ZXJFeHRlbnNpb25zOmZ1bmN0aW9uKGUpe2UuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9ZTt0Ll9fcmVnaXN0ZXJlZF9fPSEwLHQubG9nZ2VyLmhvb2tMb2c9V0MuZXh0TG9nLHQucmVwb3J0ZXIuaG9va0FwaUludm9rZT1pdi5leHRBcGlJbnZva2UsdC5wYXJhbWV0ZXJzJiZPYmplY3Qua2V5cyh0LnBhcmFtZXRlcnMpLmZvckVhY2goKGU9Pnt0LnBhcmFtZXRlcnNbZV09a0MoZSl9KSl9KSl9LENoYW5uZWxNZWRpYVJlbGF5RXJyb3I6WHYsQ2hhbm5lbE1lZGlhUmVsYXlFdmVudDpKdixDaGFubmVsTWVkaWFSZWxheVN0YXRlOnp2LFJlbW90ZVN0cmVhbUZhbGxiYWNrVHlwZTpreSxSZW1vdGVTdHJlYW1UeXBlOkx5LENvbm5lY3Rpb25EaXNjb25uZWN0ZWRSZWFzb246Y1MsQXVkaWVuY2VMYXRlbmN5TGV2ZWxUeXBlOmFTLEFSRUFTOmlJfSk7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFFNLHtvbkF1ZGlvQXV0b3BsYXlGYWlsZWQ6e2dldDooKT0+d0Eub25BdWRpb0F1dG9wbGF5RmFpbGVkLHNldDplPT57d0Eub25BdWRpb0F1dG9wbGF5RmFpbGVkPWV9fSxvbkF1dG9wbGF5RmFpbGVkOntnZXQ6KCk9PndBLm9uQXV0b3BsYXlGYWlsZWQsc2V0OmU9Pnt3QS5vbkF1dG9wbGF5RmFpbGVkPWV9fSxfb25TZWN1cml0eVBvbGljeVZpb2xhdGlvbjp7dmFsdWU6dm9pZCAwLHdyaXRhYmxlOiEwfSxfY3NwRXZlbnRIYW5kbGVyUG9pbnRlcjp7dmFsdWU6dm9pZCAwLHdyaXRhYmxlOiEwfSxvblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uOntnZXQ6KCk9PlFNLl9vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uLHNldChlKXtRTS5fb25TZWN1cml0eVBvbGljeVZpb2xhdGlvbj1lLFhNKGUpfX0sX19DTElFTlRfTElTVF9fOntnZXQ6KCk9PmtDKFwiU0hPV19HTE9CQUxfQ0xJRU5UX0xJU1RcIik/b3Y6W119fSksQUEub24oSnkuQ0FNRVJBX0RFVklDRV9DSEFOR0VELChlPT57V0MuaW5mbyhcImNhbWVyYSBkZXZpY2UgY2hhbmdlZFwiLEpTT04uc3RyaW5naWZ5KGUpKSxRTS5vbkNhbWVyYUNoYW5nZWQmJlFNLm9uQ2FtZXJhQ2hhbmdlZChlKSxRTS5zYWZlRW1pdChSSS5DQU1FUkFfQ0hBTkdFRCxlKX0pKSxBQS5vbihKeS5SRUNPUkRJTkdfREVWSUNFX0NIQU5HRUQsKGU9PntXQy5pbmZvKFwibWljcm9waG9uZSBkZXZpY2UgY2hhbmdlZFwiLEpTT04uc3RyaW5naWZ5KGUpKSxRTS5vbk1pY3JvcGhvbmVDaGFuZ2VkJiZRTS5vbk1pY3JvcGhvbmVDaGFuZ2VkKGUpLFFNLnNhZmVFbWl0KFJJLk1JQ1JPUEhPTkVfQ0hBTkdFRCxlKX0pKSxBQS5vbihKeS5QTEFZT1VUX0RFVklDRV9DSEFOR0VELChlPT57V0MuZGVidWcoXCJwbGF5b3V0IGRldmljZSBjaGFuZ2VkXCIsSlNPTi5zdHJpbmdpZnkoZSkpLFFNLm9uUGxheWJhY2tEZXZpY2VDaGFuZ2VkJiZRTS5vblBsYXliYWNrRGV2aWNlQ2hhbmdlZChlKSxRTS5zYWZlRW1pdChSSS5QTEFZQkFDS19ERVZJQ0VfQ0hBTkdFRCxlKX0pKSxrQS5vbkF1dG9wbGF5RmFpbGVkPSgpPT57V0MuaW5mbyhcImRldGVjdCBhdWRpbyBlbGVtZW50IGF1dG9wbGF5IGZhaWxlZFwiKSx3QS5vbkF1ZGlvQXV0b3BsYXlGYWlsZWQmJndBLm9uQXVkaW9BdXRvcGxheUZhaWxlZCgpfSxuQS5vbihcImF1dG9wbGF5LWZhaWxlZFwiLCgoKT0+e1dDLmluZm8oXCJkZXRlY3Qgd2ViYXVkaW8gYXV0b3BsYXkgZmFpbGVkXCIpLHdBLm9uQXVkaW9BdXRvcGxheUZhaWxlZCYmd0Eub25BdWRpb0F1dG9wbGF5RmFpbGVkKCksUU0uc2FmZUVtaXQoUkkuQVVUT1BMQVlfRkFJTEVEKX0pKSxSUy5vbih1Uy5ORVRXT1JLX1NUQVRFX0NIQU5HRSwoKGUsdCk9PntXQy5pbmZvKFwiW25ldHdvcmstaW5kaWNhdG9yXSBuZXR3b3JrIHN0YXRlIGNoYW5nZWQsIFwiLmNvbmNhdCh0LFwiID0+IFwiKS5jb25jYXQoZSkpfSkpLHdpbmRvdyYmKHdpbmRvdy5fX0FSVENfXz1RTSksUU19KSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.js\n");

/***/ })

};
;